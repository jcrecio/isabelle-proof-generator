{"file_name": "/home/qj213/afp-2021-10-22/thys/Fermat3_4/Fermat3.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Fermat3_4", "problem_names": ["lemma nat_relprime_power_divisors: \n  assumes n0: \"0 < n\" and abc: \"(a::nat)*b = c^n\" and relprime: \"coprime a b\"\n  shows \"\\<exists> k. a = k^n\"", "lemma int_relprime_odd_power_divisors:\n  assumes \"odd n\" and \"(a::int) * b = c ^ n\" and \"coprime a b\"\n  shows \"\\<exists>k. a = k^n\"", "lemma factor_sum_cubes: \"(x::int)^3 + y^3 = (x+y)*(x^2 - x*y + y^2)\"", "lemma two_not_abs_cube: \"\\<bar>x^3\\<bar> = (2::int) \\<Longrightarrow> False\"", "lemma no_rewritten_fermat3: \n  \"\\<not> (\\<exists> v w. v^3+w^3 = x^3 \\<and> v*w*x \\<noteq> 0 \\<and> even (x::int) \\<and> coprime v w)\"", "theorem fermat_3:\n  assumes ass: \"(x::int)^3 + y^3 = z^3\"\n  shows \"x*y*z=0\""], "translations": [["", "lemma nat_relprime_power_divisors: \n  assumes n0: \"0 < n\" and abc: \"(a::nat)*b = c^n\" and relprime: \"coprime a b\"\n  shows \"\\<exists> k. a = k^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "using assms"], ["proof (prove)\nusing this:\n  0 < n\n  a * b = c ^ n\n  coprime a b\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "proof (induct c arbitrary: a b rule: nat_less_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>na a b.\n       \\<lbrakk>\\<forall>m<na.\n                   0 < n \\<longrightarrow>\n                   (\\<forall>x xa.\n                       x * xa = m ^ n \\<longrightarrow>\n                       coprime x xa \\<longrightarrow>\n                       (\\<exists>k. x = k ^ n));\n        0 < n; a * b = na ^ n; coprime a b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>k. a = k ^ n", "case (1 c)"], ["proof (state)\nthis:\n  \\<forall>m<c.\n     0 < n \\<longrightarrow>\n     (\\<forall>x xa.\n         x * xa = m ^ n \\<longrightarrow>\n         coprime x xa \\<longrightarrow> (\\<exists>k. x = k ^ n))\n  0 < n\n  a * b = c ^ n\n  coprime a b\n\ngoal (1 subgoal):\n 1. \\<And>na a b.\n       \\<lbrakk>\\<forall>m<na.\n                   0 < n \\<longrightarrow>\n                   (\\<forall>x xa.\n                       x * xa = m ^ n \\<longrightarrow>\n                       coprime x xa \\<longrightarrow>\n                       (\\<exists>k. x = k ^ n));\n        0 < n; a * b = na ^ n; coprime a b\\<rbrakk>\n       \\<Longrightarrow> \\<exists>k. a = k ^ n", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "proof (cases \"a > 1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n\n 2. \\<not> 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "case False"], ["proof (state)\nthis:\n  \\<not> 1 < a\n\ngoal (2 subgoals):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n\n 2. \\<not> 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"a = 0 \\<or> a = 1\""], ["proof (prove)\nusing this:\n  \\<not> 1 < a\n\ngoal (1 subgoal):\n 1. a = 0 \\<or> a = 1", "by linarith"], ["proof (state)\nthis:\n  a = 0 \\<or> a = 1\n\ngoal (2 subgoals):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n\n 2. \\<not> 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = 0 \\<or> a = 1\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "using n0 power_one zero_power"], ["proof (prove)\nusing this:\n  a = 0 \\<or> a = 1\n  0 < n\n  (1::?'a) ^ ?n = (1::?'a)\n  0 < ?n \\<Longrightarrow> (0::?'a) ^ ?n = (0::?'a)\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "by (simp only: eq_sym_conv) blast"], ["proof (state)\nthis:\n  \\<exists>k. a = k ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "case True"], ["proof (state)\nthis:\n  1 < a\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "then"], ["proof (chain)\npicking this:\n  1 < a", "obtain p where p: \"prime p\" \"p dvd a\""], ["proof (prove)\nusing this:\n  1 < a\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>prime p; p dvd a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using prime_factor_nat[of a]"], ["proof (prove)\nusing this:\n  1 < a\n  a \\<noteq> 1 \\<Longrightarrow> \\<exists>p. prime p \\<and> p dvd a\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>prime p; p dvd a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  prime p\n  p dvd a\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence h1: \"p dvd (c^n)\""], ["proof (prove)\nusing this:\n  prime p\n  p dvd a\n\ngoal (1 subgoal):\n 1. p dvd c ^ n", "using 1(3) dvd_mult2[of p a b]"], ["proof (prove)\nusing this:\n  prime p\n  p dvd a\n  a * b = c ^ n\n  p dvd a \\<Longrightarrow> p dvd a * b\n\ngoal (1 subgoal):\n 1. p dvd c ^ n", "by presburger"], ["proof (state)\nthis:\n  p dvd c ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"(p^n) dvd (c^n)\""], ["proof (prove)\nusing this:\n  p dvd c ^ n\n\ngoal (1 subgoal):\n 1. p ^ n dvd c ^ n", "using p(1) prime_dvd_power_nat[of p c n] dvd_power_same[of p c n]"], ["proof (prove)\nusing this:\n  p dvd c ^ n\n  prime p\n  \\<lbrakk>prime p; p dvd c ^ n\\<rbrakk> \\<Longrightarrow> p dvd c\n  p dvd c \\<Longrightarrow> p ^ n dvd c ^ n\n\ngoal (1 subgoal):\n 1. p ^ n dvd c ^ n", "by blast"], ["proof (state)\nthis:\n  p ^ n dvd c ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "moreover"], ["proof (state)\nthis:\n  p ^ n dvd c ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "have h2: \"\\<not> p dvd b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> p dvd b", "using p \\<open>coprime a b\\<close> coprime_common_divisor_nat [of a b p]"], ["proof (prove)\nusing this:\n  prime p\n  p dvd a\n  coprime a b\n  \\<lbrakk>coprime a b; p dvd a; p dvd b\\<rbrakk> \\<Longrightarrow> p = 1\n\ngoal (1 subgoal):\n 1. \\<not> p dvd b", "by auto"], ["proof (state)\nthis:\n  \\<not> p dvd b\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"\\<not> (p^n) dvd b\""], ["proof (prove)\nusing this:\n  \\<not> p dvd b\n\ngoal (1 subgoal):\n 1. \\<not> p ^ n dvd b", "using n0 p(1)  dvd_power[of n p] gcd_nat.trans"], ["proof (prove)\nusing this:\n  \\<not> p dvd b\n  0 < n\n  prime p\n  0 < n \\<or> p = 1 \\<Longrightarrow> p dvd p ^ n\n  \\<lbrakk>?a dvd ?b; ?b dvd ?c\\<rbrakk> \\<Longrightarrow> ?a dvd ?c\n\ngoal (1 subgoal):\n 1. \\<not> p ^ n dvd b", "by blast"], ["proof (state)\nthis:\n  \\<not> p ^ n dvd b\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "ultimately"], ["proof (chain)\npicking this:\n  p ^ n dvd c ^ n\n  \\<not> p ^ n dvd b", "have \"(p^n) dvd a\""], ["proof (prove)\nusing this:\n  p ^ n dvd c ^ n\n  \\<not> p ^ n dvd b\n\ngoal (1 subgoal):\n 1. p ^ n dvd a", "using \"1.prems\" p(1) prime_elem_divprod_pow [of p a b n]"], ["proof (prove)\nusing this:\n  p ^ n dvd c ^ n\n  \\<not> p ^ n dvd b\n  0 < n\n  a * b = c ^ n\n  coprime a b\n  prime p\n  \\<lbrakk>prime_elem p; coprime a b; p ^ n dvd a * b\\<rbrakk>\n  \\<Longrightarrow> p ^ n dvd a \\<or> p ^ n dvd b\n\ngoal (1 subgoal):\n 1. p ^ n dvd a", "by simp"], ["proof (state)\nthis:\n  p ^ n dvd a\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "then"], ["proof (chain)\npicking this:\n  p ^ n dvd a", "obtain a' c' where ac: \"a = p^n * a'\" \"c = p * c'\""], ["proof (prove)\nusing this:\n  p ^ n dvd a\n\ngoal (1 subgoal):\n 1. (\\<And>a' c'.\n        \\<lbrakk>a = p ^ n * a'; c = p * c'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using h1 dvdE[of \"p^n\" a] dvdE[of p c] prime_dvd_power_nat[of p c n] p(1)"], ["proof (prove)\nusing this:\n  p ^ n dvd a\n  p dvd c ^ n\n  \\<lbrakk>p ^ n dvd a; \\<And>k. a = p ^ n * k \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<lbrakk>p dvd c; \\<And>k. c = p * k \\<Longrightarrow> ?P\\<rbrakk>\n  \\<Longrightarrow> ?P\n  \\<lbrakk>prime p; p dvd c ^ n\\<rbrakk> \\<Longrightarrow> p dvd c\n  prime p\n\ngoal (1 subgoal):\n 1. (\\<And>a' c'.\n        \\<lbrakk>a = p ^ n * a'; c = p * c'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  a = p ^ n * a'\n  c = p * c'\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"p^n * (a' * b) = p^n * c'^n\""], ["proof (prove)\nusing this:\n  a = p ^ n * a'\n  c = p * c'\n\ngoal (1 subgoal):\n 1. p ^ n * (a' * b) = p ^ n * c' ^ n", "using 1(3)"], ["proof (prove)\nusing this:\n  a = p ^ n * a'\n  c = p * c'\n  a * b = c ^ n\n\ngoal (1 subgoal):\n 1. p ^ n * (a' * b) = p ^ n * c' ^ n", "by (simp add: power_mult_distrib semiring_normalization_rules(18))"], ["proof (state)\nthis:\n  p ^ n * (a' * b) = p ^ n * c' ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"a' * b = c'^n\""], ["proof (prove)\nusing this:\n  p ^ n * (a' * b) = p ^ n * c' ^ n\n\ngoal (1 subgoal):\n 1. a' * b = c' ^ n", "using p(1)"], ["proof (prove)\nusing this:\n  p ^ n * (a' * b) = p ^ n * c' ^ n\n  prime p\n\ngoal (1 subgoal):\n 1. a' * b = c' ^ n", "by auto"], ["proof (state)\nthis:\n  a' * b = c' ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "moreover"], ["proof (state)\nthis:\n  a' * b = c' ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "have \"coprime a' b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime a' b", "using 1(4) ac(1)"], ["proof (prove)\nusing this:\n  coprime a b\n  a = p ^ n * a'\n\ngoal (1 subgoal):\n 1. coprime a' b", "by simp"], ["proof (state)\nthis:\n  coprime a' b\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "moreover"], ["proof (state)\nthis:\n  coprime a' b\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "have \"0 < b\" \"0 < a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < b &&& 0 < a", "using h2 dvd_0_right gr0I True"], ["proof (prove)\nusing this:\n  \\<not> p dvd b\n  ?a dvd (0::?'a)\n  (?n = 0 \\<Longrightarrow> False) \\<Longrightarrow> 0 < ?n\n  1 < a\n\ngoal (1 subgoal):\n 1. 0 < b &&& 0 < a", "by fastforce+"], ["proof (state)\nthis:\n  0 < b\n  0 < a\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "then"], ["proof (chain)\npicking this:\n  0 < b\n  0 < a", "have \"0 < c\" \"1 < p\""], ["proof (prove)\nusing this:\n  0 < b\n  0 < a\n\ngoal (1 subgoal):\n 1. 0 < c &&& 1 < p", "using p(1) 1(3) nat_0_less_mult_iff [of a b] n0 prime_gt_Suc_0_nat"], ["proof (prove)\nusing this:\n  0 < b\n  0 < a\n  prime p\n  a * b = c ^ n\n  (0 < a * b) = (0 < a \\<and> 0 < b)\n  0 < n\n  prime ?p \\<Longrightarrow> Suc 0 < ?p\n\ngoal (1 subgoal):\n 1. 0 < c &&& 1 < p", "by simp_all"], ["proof (state)\nthis:\n  0 < c\n  1 < p\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"c' < c\""], ["proof (prove)\nusing this:\n  0 < c\n  1 < p\n\ngoal (1 subgoal):\n 1. c' < c", "using ac(2)"], ["proof (prove)\nusing this:\n  0 < c\n  1 < p\n  c = p * c'\n\ngoal (1 subgoal):\n 1. c' < c", "by simp"], ["proof (state)\nthis:\n  c' < c\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "ultimately"], ["proof (chain)\npicking this:\n  a' * b = c' ^ n\n  coprime a' b\n  c' < c", "obtain k where \"a' = k^n\""], ["proof (prove)\nusing this:\n  a' * b = c' ^ n\n  coprime a' b\n  c' < c\n\ngoal (1 subgoal):\n 1. (\\<And>k. a' = k ^ n \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "using 1(1) n0"], ["proof (prove)\nusing this:\n  a' * b = c' ^ n\n  coprime a' b\n  c' < c\n  \\<forall>m<c.\n     0 < n \\<longrightarrow>\n     (\\<forall>x xa.\n         x * xa = m ^ n \\<longrightarrow>\n         coprime x xa \\<longrightarrow> (\\<exists>k. x = k ^ n))\n  0 < n\n\ngoal (1 subgoal):\n 1. (\\<And>k. a' = k ^ n \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by presburger"], ["proof (state)\nthis:\n  a' = k ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "hence \"a = (p*k)^n\""], ["proof (prove)\nusing this:\n  a' = k ^ n\n\ngoal (1 subgoal):\n 1. a = (p * k) ^ n", "using ac(1)"], ["proof (prove)\nusing this:\n  a' = k ^ n\n  a = p ^ n * a'\n\ngoal (1 subgoal):\n 1. a = (p * k) ^ n", "by (simp add: power_mult_distrib)"], ["proof (state)\nthis:\n  a = (p * k) ^ n\n\ngoal (1 subgoal):\n 1. 1 < a \\<Longrightarrow> \\<exists>k. a = k ^ n", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = (p * k) ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "by blast"], ["proof (state)\nthis:\n  \\<exists>k. a = k ^ n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>k. a = k ^ n\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma int_relprime_odd_power_divisors:\n  assumes \"odd n\" and \"(a::int) * b = c ^ n\" and \"coprime a b\"\n  shows \"\\<exists>k. a = k^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "from assms"], ["proof (chain)\npicking this:\n  odd n\n  a * b = c ^ n\n  coprime a b", "have \"\\<bar>a\\<bar> * \\<bar>b\\<bar> = \\<bar>c\\<bar> ^ n\""], ["proof (prove)\nusing this:\n  odd n\n  a * b = c ^ n\n  coprime a b\n\ngoal (1 subgoal):\n 1. \\<bar>a\\<bar> * \\<bar>b\\<bar> = \\<bar>c\\<bar> ^ n", "by (simp add: abs_mult [symmetric] power_abs)"], ["proof (state)\nthis:\n  \\<bar>a\\<bar> * \\<bar>b\\<bar> = \\<bar>c\\<bar> ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "then"], ["proof (chain)\npicking this:\n  \\<bar>a\\<bar> * \\<bar>b\\<bar> = \\<bar>c\\<bar> ^ n", "have \"nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n\""], ["proof (prove)\nusing this:\n  \\<bar>a\\<bar> * \\<bar>b\\<bar> = \\<bar>c\\<bar> ^ n\n\ngoal (1 subgoal):\n 1. nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n", "by (simp add: nat_mult_distrib [of \"\\<bar>a\\<bar>\" \"\\<bar>b\\<bar>\", symmetric] nat_power_eq)"], ["proof (state)\nthis:\n  nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "moreover"], ["proof (state)\nthis:\n  nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "have \"coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)", "using assms(3) gcd_int_def"], ["proof (prove)\nusing this:\n  coprime a b\n  gcd ?x ?y = int (gcd (nat \\<bar>?x\\<bar>) (nat \\<bar>?y\\<bar>))\n\ngoal (1 subgoal):\n 1. coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)", "by fastforce"], ["proof (state)\nthis:\n  coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "ultimately"], ["proof (chain)\npicking this:\n  nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n\n  coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)", "have \"\\<exists> k. nat \\<bar>a\\<bar> = k^n\""], ["proof (prove)\nusing this:\n  nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n\n  coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<exists>k. nat \\<bar>a\\<bar> = k ^ n", "using nat_relprime_power_divisors[of n \"nat \\<bar>a\\<bar>\" \"nat \\<bar>b\\<bar>\" \"nat \\<bar>c\\<bar>\"] assms(1)"], ["proof (prove)\nusing this:\n  nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n\n  coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)\n  \\<lbrakk>0 < n;\n   nat \\<bar>a\\<bar> * nat \\<bar>b\\<bar> = nat \\<bar>c\\<bar> ^ n;\n   coprime (nat \\<bar>a\\<bar>) (nat \\<bar>b\\<bar>)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. nat \\<bar>a\\<bar> = k ^ n\n  odd n\n\ngoal (1 subgoal):\n 1. \\<exists>k. nat \\<bar>a\\<bar> = k ^ n", "by blast"], ["proof (state)\nthis:\n  \\<exists>k. nat \\<bar>a\\<bar> = k ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "then"], ["proof (chain)\npicking this:\n  \\<exists>k. nat \\<bar>a\\<bar> = k ^ n", "obtain k' where k': \"nat \\<bar>a\\<bar> = k'^n\""], ["proof (prove)\nusing this:\n  \\<exists>k. nat \\<bar>a\\<bar> = k ^ n\n\ngoal (1 subgoal):\n 1. (\\<And>k'.\n        nat \\<bar>a\\<bar> = k' ^ n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  nat \\<bar>a\\<bar> = k' ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "moreover"], ["proof (state)\nthis:\n  nat \\<bar>a\\<bar> = k' ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "define k where \"k = int k'\""], ["proof (state)\nthis:\n  k = int k'\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "ultimately"], ["proof (chain)\npicking this:\n  nat \\<bar>a\\<bar> = k' ^ n\n  k = int k'", "have k: \"\\<bar>a\\<bar> = k^n\""], ["proof (prove)\nusing this:\n  nat \\<bar>a\\<bar> = k' ^ n\n  k = int k'\n\ngoal (1 subgoal):\n 1. \\<bar>a\\<bar> = k ^ n", "using int_nat_eq[of \"\\<bar>a\\<bar>\"] of_nat_power[of k' n]"], ["proof (prove)\nusing this:\n  nat \\<bar>a\\<bar> = k' ^ n\n  k = int k'\n  int (nat \\<bar>a\\<bar>) =\n  (if 0 \\<le> \\<bar>a\\<bar> then \\<bar>a\\<bar> else 0)\n  of_nat (k' ^ n) = of_nat k' ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>a\\<bar> = k ^ n", "by force"], ["proof (state)\nthis:\n  \\<bar>a\\<bar> = k ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "{"], ["proof (state)\nthis:\n  \\<bar>a\\<bar> = k ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "assume \"a \\<noteq> k^n\""], ["proof (state)\nthis:\n  a \\<noteq> k ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "with k"], ["proof (chain)\npicking this:\n  \\<bar>a\\<bar> = k ^ n\n  a \\<noteq> k ^ n", "have \"a = -(k^n)\""], ["proof (prove)\nusing this:\n  \\<bar>a\\<bar> = k ^ n\n  a \\<noteq> k ^ n\n\ngoal (1 subgoal):\n 1. a = - (k ^ n)", "by arith"], ["proof (state)\nthis:\n  a = - (k ^ n)\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "hence \"a = (-k)^n\""], ["proof (prove)\nusing this:\n  a = - (k ^ n)\n\ngoal (1 subgoal):\n 1. a = (- k) ^ n", "using assms(1) power_minus_odd"], ["proof (prove)\nusing this:\n  a = - (k ^ n)\n  odd n\n  odd ?n \\<Longrightarrow> (- ?a) ^ ?n = - (?a ^ ?n)\n\ngoal (1 subgoal):\n 1. a = (- k) ^ n", "by simp"], ["proof (state)\nthis:\n  a = (- k) ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "}"], ["proof (state)\nthis:\n  a \\<noteq> k ^ n \\<Longrightarrow> a = (- k) ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "thus ?thesis"], ["proof (prove)\nusing this:\n  a \\<noteq> k ^ n \\<Longrightarrow> a = (- k) ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>k. a = k ^ n", "by blast"], ["proof (state)\nthis:\n  \\<exists>k. a = k ^ n\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma factor_sum_cubes: \"(x::int)^3 + y^3 = (x+y)*(x^2 - x*y + y^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x ^ 3 + y ^ 3 = (x + y) * (x\\<^sup>2 - x * y + y\\<^sup>2)", "by (simp add: eval_nat_numeral field_simps)"], ["", "private"], ["", "lemma two_not_abs_cube: \"\\<bar>x^3\\<bar> = (2::int) \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "assume \"\\<bar>x^3\\<bar> = 2\""], ["proof (state)\nthis:\n  \\<bar>x ^ 3\\<bar> = 2\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "hence x32: \"\\<bar>x\\<bar>^3 = 2\""], ["proof (prove)\nusing this:\n  \\<bar>x ^ 3\\<bar> = 2\n\ngoal (1 subgoal):\n 1. \\<bar>x\\<bar> ^ 3 = 2", "by (simp add: power_abs)"], ["proof (state)\nthis:\n  \\<bar>x\\<bar> ^ 3 = 2\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "have \"\\<bar>x\\<bar> \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> \\<bar>x\\<bar>", "by simp"], ["proof (state)\nthis:\n  0 \\<le> \\<bar>x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  0 \\<le> \\<bar>x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  0 \\<le> \\<bar>x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "assume \"\\<bar>x\\<bar> = 0 \\<or> \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2\""], ["proof (state)\nthis:\n  \\<bar>x\\<bar> = 0 \\<or> \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "with x32"], ["proof (chain)\npicking this:\n  \\<bar>x\\<bar> ^ 3 = 2\n  \\<bar>x\\<bar> = 0 \\<or> \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2", "have False"], ["proof (prove)\nusing this:\n  \\<bar>x\\<bar> ^ 3 = 2\n  \\<bar>x\\<bar> = 0 \\<or> \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2\n\ngoal (1 subgoal):\n 1. False", "by (auto simp add: power_0_left)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  \\<bar>x\\<bar> = 0 \\<or>\n  \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2 \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<bar>x\\<bar> = 0 \\<or>\n  \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2 \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  \\<bar>x\\<bar> = 0 \\<or>\n  \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2 \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "assume \"\\<bar>x\\<bar> > 2\""], ["proof (state)\nthis:\n  2 < \\<bar>x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  2 < \\<bar>x\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "have \"(0::int) \\<le> 2\" and \"(0::nat) < 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> 2 &&& 0 < 3", "by auto"], ["proof (state)\nthis:\n  0 \\<le> 2\n  0 < 3\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  2 < \\<bar>x\\<bar>\n  0 \\<le> 2\n  0 < 3", "have \"\\<bar>x\\<bar>^3 > 2^3\""], ["proof (prove)\nusing this:\n  2 < \\<bar>x\\<bar>\n  0 \\<le> 2\n  0 < 3\n\ngoal (1 subgoal):\n 1. 2 ^ 3 < \\<bar>x\\<bar> ^ 3", "by (simp only: power_strict_mono)"], ["proof (state)\nthis:\n  2 ^ 3 < \\<bar>x\\<bar> ^ 3\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "with x32"], ["proof (chain)\npicking this:\n  \\<bar>x\\<bar> ^ 3 = 2\n  2 ^ 3 < \\<bar>x\\<bar> ^ 3", "have False"], ["proof (prove)\nusing this:\n  \\<bar>x\\<bar> ^ 3 = 2\n  2 ^ 3 < \\<bar>x\\<bar> ^ 3\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  2 < \\<bar>x\\<bar> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> \\<bar>x\\<bar>\n  \\<bar>x\\<bar> = 0 \\<or>\n  \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2 \\<Longrightarrow>\n  False\n  2 < \\<bar>x\\<bar> \\<Longrightarrow> False", "show False"], ["proof (prove)\nusing this:\n  0 \\<le> \\<bar>x\\<bar>\n  \\<bar>x\\<bar> = 0 \\<or>\n  \\<bar>x\\<bar> = 1 \\<or> \\<bar>x\\<bar> = 2 \\<Longrightarrow>\n  False\n  2 < \\<bar>x\\<bar> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by arith"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Shows there exists no solution $v^3+w^3 = x^3$ with $vwx\\ne 0$ and $coprime v w$ and $x$ even, by constructing a solution with a smaller $|x^3|$.\\<close>"], ["", "private"], ["", "lemma no_rewritten_fermat3: \n  \"\\<not> (\\<exists> v w. v^3+w^3 = x^3 \\<and> v*w*x \\<noteq> 0 \\<and> even (x::int) \\<and> coprime v w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>v w.\n       v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n       v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w", "proof (induct x rule: infinite_descent0_measure[where V=\"\\<lambda>x. nat\\<bar>x^3\\<bar>\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       nat \\<bar>x ^ 3\\<bar> = 0 \\<Longrightarrow>\n       \\<nexists>v w.\n          v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n          v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n 2. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "case (0 x)"], ["proof (state)\nthis:\n  nat \\<bar>x ^ 3\\<bar> = 0\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       nat \\<bar>x ^ 3\\<bar> = 0 \\<Longrightarrow>\n       \\<nexists>v w.\n          v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n          v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n 2. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "hence \"x^3 = 0\""], ["proof (prove)\nusing this:\n  nat \\<bar>x ^ 3\\<bar> = 0\n\ngoal (1 subgoal):\n 1. x ^ 3 = 0", "by arith"], ["proof (state)\nthis:\n  x ^ 3 = 0\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       nat \\<bar>x ^ 3\\<bar> = 0 \\<Longrightarrow>\n       \\<nexists>v w.\n          v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n          v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n 2. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "hence \"x=0\""], ["proof (prove)\nusing this:\n  x ^ 3 = 0\n\ngoal (1 subgoal):\n 1. x = 0", "by auto"], ["proof (state)\nthis:\n  x = 0\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       nat \\<bar>x ^ 3\\<bar> = 0 \\<Longrightarrow>\n       \\<nexists>v w.\n          v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n          v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n 2. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "thus ?case"], ["proof (prove)\nusing this:\n  x = 0\n\ngoal (1 subgoal):\n 1. \\<nexists>v w.\n       v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n       v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w", "by auto"], ["proof (state)\nthis:\n  \\<nexists>v w.\n     v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n     v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "case (smaller x)"], ["proof (state)\nthis:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<not> (\\<nexists>v w.\n             v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n             v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "then"], ["proof (chain)\npicking this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<not> (\\<nexists>v w.\n             v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n             v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w)", "obtain v w where vwx: \n    \"v^3+w^3=x^3 \\<and> v*w*x \\<noteq> 0 \\<and> even x \\<and> coprime v w\" (is \"?P v w x\")"], ["proof (prove)\nusing this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<not> (\\<nexists>v w.\n             v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n             v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w)\n\ngoal (1 subgoal):\n 1. (\\<And>v w.\n        v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n        v * w * x \\<noteq> 0 \\<and>\n        even x \\<and> coprime v w \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "then"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w", "have \"coprime v w\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n\ngoal (1 subgoal):\n 1. coprime v w", "by simp"], ["proof (state)\nthis:\n  coprime v w\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "have \"\\<exists> \\<alpha> \\<beta> \\<gamma>. ?P \\<alpha> \\<beta> \\<gamma> \\<and> nat\\<bar>\\<gamma>^3\\<bar> < nat\\<bar>x^3\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "proof -\n    \\<comment> \\<open>obtain coprime $p$ and $q$ such that $v = p+q$ and $w = p-q$\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have vwOdd: \"odd v \\<and> odd w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. odd v \\<and> odd w", "proof (rule ccontr, case_tac \"odd v\", simp_all)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "assume ve: \"even v\""], ["proof (state)\nthis:\n  even v\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "hence \"even (v^3)\""], ["proof (prove)\nusing this:\n  even v\n\ngoal (1 subgoal):\n 1. even (v ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (v ^ 3)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  even (v ^ 3)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "from vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w", "have \"even (x^3)\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n\ngoal (1 subgoal):\n 1. even (x ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (x ^ 3)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  even (v ^ 3)\n  even (x ^ 3)", "have \"even (x^3-v^3)\""], ["proof (prove)\nusing this:\n  even (v ^ 3)\n  even (x ^ 3)\n\ngoal (1 subgoal):\n 1. even (x ^ 3 - v ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (x ^ 3 - v ^ 3)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  even (x ^ 3 - v ^ 3)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "from vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w", "have \"x^3-v^3 = w^3\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n\ngoal (1 subgoal):\n 1. x ^ 3 - v ^ 3 = w ^ 3", "by simp"], ["proof (state)\nthis:\n  x ^ 3 - v ^ 3 = w ^ 3\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  even (x ^ 3 - v ^ 3)\n  x ^ 3 - v ^ 3 = w ^ 3", "have \"even (w^3)\""], ["proof (prove)\nusing this:\n  even (x ^ 3 - v ^ 3)\n  x ^ 3 - v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. even (w ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (w ^ 3)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "hence \"even w\""], ["proof (prove)\nusing this:\n  even (w ^ 3)\n\ngoal (1 subgoal):\n 1. even w", "by simp"], ["proof (state)\nthis:\n  even w\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "with ve"], ["proof (chain)\npicking this:\n  even v\n  even w", "have \"2 dvd v \\<and> 2 dvd w\""], ["proof (prove)\nusing this:\n  even v\n  even w\n\ngoal (1 subgoal):\n 1. even v \\<and> even w", "by auto"], ["proof (state)\nthis:\n  even v \\<and> even w\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "hence \"2 dvd gcd v w\""], ["proof (prove)\nusing this:\n  even v \\<and> even w\n\ngoal (1 subgoal):\n 1. even (gcd v w)", "by simp"], ["proof (state)\nthis:\n  even (gcd v w)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False\n 2. even v \\<Longrightarrow> False", "with vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  even (gcd v w)", "show False"], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  even (gcd v w)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "assume \"odd v\" and \"even w\""], ["proof (state)\nthis:\n  odd v\n  even w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "hence \"odd (v^3)\" and \"even (w^3)\""], ["proof (prove)\nusing this:\n  odd v\n  even w\n\ngoal (1 subgoal):\n 1. odd (v ^ 3) &&& even (w ^ 3)", "by auto"], ["proof (state)\nthis:\n  odd (v ^ 3)\n  even (w ^ 3)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "hence \"odd (w^3 + v^3)\""], ["proof (prove)\nusing this:\n  odd (v ^ 3)\n  even (w ^ 3)\n\ngoal (1 subgoal):\n 1. odd (w ^ 3 + v ^ 3)", "by simp"], ["proof (state)\nthis:\n  odd (w ^ 3 + v ^ 3)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "with vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  odd (w ^ 3 + v ^ 3)", "have \"odd (x^3)\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  odd (w ^ 3 + v ^ 3)\n\ngoal (1 subgoal):\n 1. odd (x ^ 3)", "by (simp add: add.commute)"], ["proof (state)\nthis:\n  odd (x ^ 3)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "hence \"odd x\""], ["proof (prove)\nusing this:\n  odd (x ^ 3)\n\ngoal (1 subgoal):\n 1. odd x", "by simp"], ["proof (state)\nthis:\n  odd x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>even w; odd v\\<rbrakk> \\<Longrightarrow> False", "with vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  odd x", "show False"], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  odd x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  odd v \\<and> odd w\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"even (v+w) \\<and> even (v-w)\""], ["proof (prove)\nusing this:\n  odd v \\<and> odd w\n\ngoal (1 subgoal):\n 1. even (v + w) \\<and> even (v - w)", "by simp"], ["proof (state)\nthis:\n  even (v + w) \\<and> even (v - w)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  even (v + w) \\<and> even (v - w)", "obtain p q where pq: \"v+w = 2*p \\<and> v-w = 2*q\""], ["proof (prove)\nusing this:\n  even (v + w) \\<and> even (v - w)\n\ngoal (1 subgoal):\n 1. (\\<And>p q.\n        v + w = 2 * p \\<and> v - w = 2 * q \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using evenE[of \"v+w\"] evenE[of \"v-w\"]"], ["proof (prove)\nusing this:\n  even (v + w) \\<and> even (v - w)\n  \\<lbrakk>even (v + w);\n   \\<And>b. v + w = 2 * b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  \\<lbrakk>even (v - w);\n   \\<And>b. v - w = 2 * b \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>p q.\n        v + w = 2 * p \\<and> v - w = 2 * q \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  v + w = 2 * p \\<and> v - w = 2 * q\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence vw: \"v = p+q \\<and> w = p-q\""], ["proof (prove)\nusing this:\n  v + w = 2 * p \\<and> v - w = 2 * q\n\ngoal (1 subgoal):\n 1. v = p + q \\<and> w = p - q", "by auto\n    \\<comment> \\<open>show that $x^3 = (2p)(p^2 + 3q^2)$ and that these factors are\\<close>\n    \\<comment> \\<open>either coprime (first case), or have $3$ as g.c.d. (second case)\\<close>"], ["proof (state)\nthis:\n  v = p + q \\<and> w = p - q\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have vwpq: \"v^3 + w^3 = (2*p)*(p^2 + 3*q^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"2*(v^3 + w^3) = 2*(v+w)*(v^2 - v*w + w^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * (v ^ 3 + w ^ 3) = 2 * (v + w) * (v\\<^sup>2 - v * w + w\\<^sup>2)", "by (simp only: factor_sum_cubes)"], ["proof (state)\nthis:\n  2 * (v ^ 3 + w ^ 3) = 2 * (v + w) * (v\\<^sup>2 - v * w + w\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "also"], ["proof (state)\nthis:\n  2 * (v ^ 3 + w ^ 3) = 2 * (v + w) * (v\\<^sup>2 - v * w + w\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "from pq"], ["proof (chain)\npicking this:\n  v + w = 2 * p \\<and> v - w = 2 * q", "have \"\\<dots> = 4*p*(v^2 - v*w + w^2)\""], ["proof (prove)\nusing this:\n  v + w = 2 * p \\<and> v - w = 2 * q\n\ngoal (1 subgoal):\n 1. 2 * (v + w) * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n    4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  2 * (v + w) * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n  4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "also"], ["proof (state)\nthis:\n  2 * (v + w) * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n  4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"\\<dots> = p*((v+w)^2 + 3*(v-w)^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n    p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2)", "by (simp add: eval_nat_numeral field_simps)"], ["proof (state)\nthis:\n  4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n  p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "also"], ["proof (state)\nthis:\n  4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n  p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "with pq"], ["proof (chain)\npicking this:\n  v + w = 2 * p \\<and> v - w = 2 * q\n  4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n  p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2)", "have \"\\<dots> = p*((2*p)^2 + 3*(2*q)^2)\""], ["proof (prove)\nusing this:\n  v + w = 2 * p \\<and> v - w = 2 * q\n  4 * p * (v\\<^sup>2 - v * w + w\\<^sup>2) =\n  p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2) =\n    p * ((2 * p)\\<^sup>2 + 3 * (2 * q)\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2) =\n  p * ((2 * p)\\<^sup>2 + 3 * (2 * q)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "also"], ["proof (state)\nthis:\n  p * ((v + w)\\<^sup>2 + 3 * (v - w)\\<^sup>2) =\n  p * ((2 * p)\\<^sup>2 + 3 * (2 * q)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"\\<dots> = 2*(2*p)*(p^2+3*q^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p * ((2 * p)\\<^sup>2 + 3 * (2 * q)\\<^sup>2) =\n    2 * (2 * p) * (p\\<^sup>2 + 3 * q\\<^sup>2)", "by (simp add: power_mult_distrib)"], ["proof (state)\nthis:\n  p * ((2 * p)\\<^sup>2 + 3 * (2 * q)\\<^sup>2) =\n  2 * (2 * p) * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "finally"], ["proof (chain)\npicking this:\n  2 * (v ^ 3 + w ^ 3) = 2 * (2 * p) * (p\\<^sup>2 + 3 * q\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  2 * (v ^ 3 + w ^ 3) = 2 * (2 * p) * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "let ?g = \"gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have g1: \"?g \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "assume \"\\<not> ?g \\<ge> 1\""], ["proof (state)\nthis:\n  \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"?g < 0 \\<or> ?g = 0\""], ["proof (prove)\nusing this:\n  \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 0 \\<or>\n    gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0", "unfolding not_le"], ["proof (prove)\nusing this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 1\n\ngoal (1 subgoal):\n 1. gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 0 \\<or>\n    gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0", "by arith"], ["proof (state)\nthis:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 0 \\<or>\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0\n\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 0 \\<or>\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0\n\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "have \"?g \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 0 \\<or>\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0\n  0 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"?g = 0\""], ["proof (prove)\nusing this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) < 0 \\<or>\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0\n  0 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0", "by arith"], ["proof (state)\nthis:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0\n\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "hence \"p = 0\""], ["proof (prove)\nusing this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 0\n\ngoal (1 subgoal):\n 1. p = 0", "by simp"], ["proof (state)\nthis:\n  p = 0\n\ngoal (1 subgoal):\n 1. \\<not> 1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "with vwpq vwx \\<open>0 < nat\\<bar>x^3\\<bar>\\<close>"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  0 < nat \\<bar>x ^ 3\\<bar>\n  p = 0", "show False"], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  0 < nat \\<bar>x ^ 3\\<bar>\n  p = 0\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have gOdd: \"odd ?g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "assume \"\\<not> odd ?g\""], ["proof (state)\nthis:\n  \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "hence\"2 dvd p^2+3*q^2\""], ["proof (prove)\nusing this:\n  \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. even (p\\<^sup>2 + 3 * q\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  even (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  even (p\\<^sup>2 + 3 * q\\<^sup>2)", "obtain k where k: \"p^2 + 3*q^2 = 2*k\""], ["proof (prove)\nusing this:\n  even (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        p\\<^sup>2 + 3 * q\\<^sup>2 = 2 * k \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: dvd_def)"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 2 * k\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "hence \"2*(k - 2*q^2) = p^2-q^2\""], ["proof (prove)\nusing this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 2 * k\n\ngoal (1 subgoal):\n 1. 2 * (k - 2 * q\\<^sup>2) = p\\<^sup>2 - q\\<^sup>2", "by auto"], ["proof (state)\nthis:\n  2 * (k - 2 * q\\<^sup>2) = p\\<^sup>2 - q\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  2 * (k - 2 * q\\<^sup>2) = p\\<^sup>2 - q\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "have \"\\<dots> = (p+q)*(p-q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p\\<^sup>2 - q\\<^sup>2 = (p + q) * (p - q)", "by (simp add: power2_eq_square algebra_simps)"], ["proof (state)\nthis:\n  p\\<^sup>2 - q\\<^sup>2 = (p + q) * (p - q)\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "finally"], ["proof (chain)\npicking this:\n  2 * (k - 2 * q\\<^sup>2) = (p + q) * (p - q)", "have \"v*w = 2*(k - 2*q^2)\""], ["proof (prove)\nusing this:\n  2 * (k - 2 * q\\<^sup>2) = (p + q) * (p - q)\n\ngoal (1 subgoal):\n 1. v * w = 2 * (k - 2 * q\\<^sup>2)", "using vw"], ["proof (prove)\nusing this:\n  2 * (k - 2 * q\\<^sup>2) = (p + q) * (p - q)\n  v = p + q \\<and> w = p - q\n\ngoal (1 subgoal):\n 1. v * w = 2 * (k - 2 * q\\<^sup>2)", "by presburger"], ["proof (state)\nthis:\n  v * w = 2 * (k - 2 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "hence \"even (v*w)\""], ["proof (prove)\nusing this:\n  v * w = 2 * (k - 2 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. even (v * w)", "by auto"], ["proof (state)\nthis:\n  even (v * w)\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "hence \"even (v) \\<or> even (w)\""], ["proof (prove)\nusing this:\n  even (v * w)\n\ngoal (1 subgoal):\n 1. even v \\<or> even w", "by simp"], ["proof (state)\nthis:\n  even v \\<or> even w\n\ngoal (1 subgoal):\n 1. \\<not> odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)) \\<Longrightarrow>\n    False", "with vwOdd"], ["proof (chain)\npicking this:\n  odd v \\<and> odd w\n  even v \\<or> even w", "show False"], ["proof (prove)\nusing this:\n  odd v \\<and> odd w\n  even v \\<or> even w\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))", "have even_odd_p_q: \"even p \\<and> odd q \\<or> odd p \\<and> even q\""], ["proof (prove)\nusing this:\n  odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. even p \\<and> odd q \\<or> odd p \\<and> even q", "by auto\n    \\<comment> \\<open>first case: $p$ is not a multiple of $3$; hence $2p$ and $p^2+3q^2$\\<close>\n    \\<comment> \\<open>are coprime; hence both are cubes\\<close>"], ["proof (state)\nthis:\n  even p \\<and> odd q \\<or> odd p \\<and> even q\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "{"], ["proof (state)\nthis:\n  even p \\<and> odd q \\<or> odd p \\<and> even q\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "assume p3: \"\\<not> 3 dvd p\""], ["proof (state)\nthis:\n  \\<not> 3 dvd p\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have g3: \"\\<not> 3 dvd ?g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> \\<not> 3 dvd\n                  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "assume \"\\<not> \\<not> 3 dvd ?g\""], ["proof (state)\nthis:\n  \\<not> \\<not> 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> 3 dvd\n                  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "hence \"3 dvd 2*p\""], ["proof (prove)\nusing this:\n  \\<not> \\<not> 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 3 dvd 2 * p", "by simp"], ["proof (state)\nthis:\n  3 dvd 2 * p\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> 3 dvd\n                  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "hence \"(3::int) dvd 2 \\<or> 3 dvd p\""], ["proof (prove)\nusing this:\n  3 dvd 2 * p\n\ngoal (1 subgoal):\n 1. 3 dvd 2 \\<or> 3 dvd p", "using prime_dvd_multD[of 3]"], ["proof (prove)\nusing this:\n  3 dvd 2 * p\n  \\<lbrakk>prime (3::?'a1); (3::?'a1) dvd ?a * ?b\\<rbrakk>\n  \\<Longrightarrow> (3::?'a1) dvd ?a \\<or> (3::?'a1) dvd ?b\n\ngoal (1 subgoal):\n 1. 3 dvd 2 \\<or> 3 dvd p", "by (fastforce simp add: prime_dvd_mult_iff)"], ["proof (state)\nthis:\n  3 dvd 2 \\<or> 3 dvd p\n\ngoal (1 subgoal):\n 1. \\<not> \\<not> 3 dvd\n                  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) \\<Longrightarrow>\n    False", "with p3"], ["proof (chain)\npicking this:\n  \\<not> 3 dvd p\n  3 dvd 2 \\<or> 3 dvd p", "show False"], ["proof (prove)\nusing this:\n  \\<not> 3 dvd p\n  3 dvd 2 \\<or> 3 dvd p\n\ngoal (1 subgoal):\n 1. False", "by arith"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from \\<open>coprime v w\\<close>"], ["proof (chain)\npicking this:\n  coprime v w", "have pq_relprime: \"coprime p q\""], ["proof (prove)\nusing this:\n  coprime v w\n\ngoal (1 subgoal):\n 1. coprime p q", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "fix c"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "assume \"c dvd p\" and \"c dvd q\""], ["proof (state)\nthis:\n  c dvd p\n  c dvd q\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  c dvd p\n  c dvd q", "have \"c dvd p + q\" and \"c dvd p - q\""], ["proof (prove)\nusing this:\n  c dvd p\n  c dvd q\n\ngoal (1 subgoal):\n 1. c dvd p + q &&& c dvd p - q", "by simp_all"], ["proof (state)\nthis:\n  c dvd p + q\n  c dvd p - q\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd p; e dvd q\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with vw"], ["proof (chain)\npicking this:\n  v = p + q \\<and> w = p - q\n  c dvd p + q\n  c dvd p - q", "show \"c dvd v\" and \"c dvd w\""], ["proof (prove)\nusing this:\n  v = p + q \\<and> w = p - q\n  c dvd p + q\n  c dvd p - q\n\ngoal (1 subgoal):\n 1. c dvd v &&& c dvd w", "by simp_all"], ["proof (state)\nthis:\n  c dvd v\n  c dvd w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime p q\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from \\<open>coprime p q\\<close>"], ["proof (chain)\npicking this:\n  coprime p q", "have \"coprime p (q\\<^sup>2)\""], ["proof (prove)\nusing this:\n  coprime p q\n\ngoal (1 subgoal):\n 1. coprime p (q\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  coprime p (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  coprime p (q\\<^sup>2)", "have factors_relprime: \"coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\""], ["proof (prove)\nusing this:\n  coprime p (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd p\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "fix c"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd p\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "assume g2p: \"c dvd 2 * p\" and gpq: \"c dvd p\\<^sup>2 + 3 * q\\<^sup>2\""], ["proof (state)\nthis:\n  c dvd 2 * p\n  c dvd p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd p\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "have \"coprime 2 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 2 c", "using g2p gpq even_odd_p_q dvd_trans [of 2 c \"p\\<^sup>2 + 3 * q\\<^sup>2\"]"], ["proof (prove)\nusing this:\n  c dvd 2 * p\n  c dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  even p \\<and> odd q \\<or> odd p \\<and> even q\n  \\<lbrakk>even c; c dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n  \\<Longrightarrow> even (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime 2 c", "by auto"], ["proof (state)\nthis:\n  coprime 2 c\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd p\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "with g2p"], ["proof (chain)\npicking this:\n  c dvd 2 * p\n  coprime 2 c", "show \"c dvd p\""], ["proof (prove)\nusing this:\n  c dvd 2 * p\n  coprime 2 c\n\ngoal (1 subgoal):\n 1. c dvd p", "by (simp add: coprime_dvd_mult_left_iff ac_simps)"], ["proof (state)\nthis:\n  c dvd p\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "then"], ["proof (chain)\npicking this:\n  c dvd p", "have \"c dvd p\\<^sup>2\""], ["proof (prove)\nusing this:\n  c dvd p\n\ngoal (1 subgoal):\n 1. c dvd p\\<^sup>2", "by (simp add: power2_eq_square)"], ["proof (state)\nthis:\n  c dvd p\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "with gpq"], ["proof (chain)\npicking this:\n  c dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  c dvd p\\<^sup>2", "have \"c dvd 3 * q\\<^sup>2\""], ["proof (prove)\nusing this:\n  c dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  c dvd p\\<^sup>2\n\ngoal (1 subgoal):\n 1. c dvd 3 * q\\<^sup>2", "by (simp add: dvd_add_right_iff)"], ["proof (state)\nthis:\n  c dvd 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "moreover"], ["proof (state)\nthis:\n  c dvd 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "have \"coprime 3 c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 3 c", "using \\<open>c dvd p\\<close> p3 dvd_trans [of 3 c p]"], ["proof (prove)\nusing this:\n  c dvd p\n  \\<not> 3 dvd p\n  \\<lbrakk>3 dvd c; c dvd p\\<rbrakk> \\<Longrightarrow> 3 dvd p\n\ngoal (1 subgoal):\n 1. coprime 3 c", "by (auto intro: prime_imp_coprime)"], ["proof (state)\nthis:\n  coprime 3 c\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * p;\n        e dvd p\\<^sup>2 + 3 * q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd q\\<^sup>2", "ultimately"], ["proof (chain)\npicking this:\n  c dvd 3 * q\\<^sup>2\n  coprime 3 c", "show \"c dvd q\\<^sup>2\""], ["proof (prove)\nusing this:\n  c dvd 3 * q\\<^sup>2\n  coprime 3 c\n\ngoal (1 subgoal):\n 1. c dvd q\\<^sup>2", "by (simp add: coprime_dvd_mult_right_iff ac_simps)"], ["proof (state)\nthis:\n  c dvd q\\<^sup>2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from vwx vwpq"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have pqx: \"(2*p)*(p^2 + 3*q^2) = x^3\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = x ^ 3", "by auto"], ["proof (state)\nthis:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = x ^ 3", "have \"\\<exists> c. 2*p = c^3\""], ["proof (prove)\nusing this:\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>c. 2 * p = c ^ 3", "by (simp add: int_relprime_odd_power_divisors)"], ["proof (state)\nthis:\n  \\<exists>c. 2 * p = c ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  \\<exists>c. 2 * p = c ^ 3", "obtain c where c: \"c^3 = 2*p\""], ["proof (prove)\nusing this:\n  \\<exists>c. 2 * p = c ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>c. c ^ 3 = 2 * p \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c ^ 3 = 2 * p\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from pqx factors_relprime"], ["proof (chain)\npicking this:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = x ^ 3\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"coprime (p^2 + 3*q^2) (2*p)\"\n        and \"(p^2 + 3*q^2)*(2*p) = x^3\""], ["proof (prove)\nusing this:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = x ^ 3\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (p\\<^sup>2 + 3 * q\\<^sup>2) (2 * p) &&&\n    (p\\<^sup>2 + 3 * q\\<^sup>2) * (2 * p) = x ^ 3", "by (auto simp add: ac_simps)"], ["proof (state)\nthis:\n  coprime (p\\<^sup>2 + 3 * q\\<^sup>2) (2 * p)\n  (p\\<^sup>2 + 3 * q\\<^sup>2) * (2 * p) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"\\<exists> d. p^2 + 3*q^2 = d^3\""], ["proof (prove)\nusing this:\n  coprime (p\\<^sup>2 + 3 * q\\<^sup>2) (2 * p)\n  (p\\<^sup>2 + 3 * q\\<^sup>2) * (2 * p) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>d. p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3", "by (simp add: int_relprime_odd_power_divisors)"], ["proof (state)\nthis:\n  \\<exists>d. p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  \\<exists>d. p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3", "obtain d where d: \"p^2 + 3*q^2 = d^3\""], ["proof (prove)\nusing this:\n  \\<exists>d. p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"odd d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. odd d", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "assume \"\\<not> odd d\""], ["proof (state)\nthis:\n  \\<not> odd d\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "hence \"even (d^3)\""], ["proof (prove)\nusing this:\n  \\<not> odd d\n\ngoal (1 subgoal):\n 1. even (d ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (d ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "hence \"2 dvd d^3\""], ["proof (prove)\nusing this:\n  even (d ^ 3)\n\ngoal (1 subgoal):\n 1. even (d ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (d ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  even (d ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "have \"2 dvd 2*p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even (2 * p)", "by (rule dvd_triv_left)"], ["proof (state)\nthis:\n  even (2 * p)\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  even (d ^ 3)\n  even (2 * p)", "have \"2 dvd gcd (2*p) (d^3)\""], ["proof (prove)\nusing this:\n  even (d ^ 3)\n  even (2 * p)\n\ngoal (1 subgoal):\n 1. even (gcd (2 * p) (d ^ 3))", "by simp"], ["proof (state)\nthis:\n  even (gcd (2 * p) (d ^ 3))\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "with d factors_relprime"], ["proof (chain)\npicking this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  even (gcd (2 * p) (d ^ 3))", "show False"], ["proof (prove)\nusing this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n  coprime (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  even (gcd (2 * p) (d ^ 3))\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  odd d\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with d pq_relprime"], ["proof (chain)\npicking this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n  coprime p q\n  odd d", "have \"coprime p q \\<and> p^2 + 3*q^2 = d^3 \\<and> odd d\""], ["proof (prove)\nusing this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3\n  coprime p q\n  odd d\n\ngoal (1 subgoal):\n 1. coprime p q \\<and> p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3 \\<and> odd d", "by simp"], ["proof (state)\nthis:\n  coprime p q \\<and> p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3 \\<and> odd d\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"is_cube_form p q\""], ["proof (prove)\nusing this:\n  coprime p q \\<and> p\\<^sup>2 + 3 * q\\<^sup>2 = d ^ 3 \\<and> odd d\n\ngoal (1 subgoal):\n 1. is_cube_form p q", "by (rule qf3_cube_impl_cube_form)"], ["proof (state)\nthis:\n  is_cube_form p q\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  is_cube_form p q", "obtain a b where \"p = a^3 - 9*a*b^2 \\<and> q = 3*a^2*b - 3*b^3\""], ["proof (prove)\nusing this:\n  is_cube_form p q\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        p = a ^ 3 - 9 * a * b\\<^sup>2 \\<and>\n        q = 3 * a\\<^sup>2 * b - 3 * b ^ 3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (unfold is_cube_form_def, auto)"], ["proof (state)\nthis:\n  p = a ^ 3 - 9 * a * b\\<^sup>2 \\<and> q = 3 * a\\<^sup>2 * b - 3 * b ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence ab: \"p = a*(a+3*b)*(a- 3*b) \\<and> q = b*(a+b)*(a-b)*3\""], ["proof (prove)\nusing this:\n  p = a ^ 3 - 9 * a * b\\<^sup>2 \\<and> q = 3 * a\\<^sup>2 * b - 3 * b ^ 3\n\ngoal (1 subgoal):\n 1. p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3", "by (simp add: eval_nat_numeral field_simps)"], ["proof (state)\nthis:\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with c"], ["proof (chain)\npicking this:\n  c ^ 3 = 2 * p\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3", "have abc: \"(2*a)*(a+3*b)*(a- 3*b) = c^3\""], ["proof (prove)\nusing this:\n  c ^ 3 = 2 * p\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n\ngoal (1 subgoal):\n 1. 2 * a * (a + 3 * b) * (a - 3 * b) = c ^ 3", "by auto"], ["proof (state)\nthis:\n  2 * a * (a + 3 * b) * (a - 3 * b) = c ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from pq_relprime ab"], ["proof (chain)\npicking this:\n  coprime p q\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3", "have ab_relprime: \"coprime a b\""], ["proof (prove)\nusing this:\n  coprime p q\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n\ngoal (1 subgoal):\n 1. coprime a b", "by (auto intro: coprime_imp_coprime)"], ["proof (state)\nthis:\n  coprime a b\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  coprime a b", "have ab1: \"coprime (2 * a) (a + 3 * b)\""], ["proof (prove)\nusing this:\n  coprime a b\n\ngoal (1 subgoal):\n 1. coprime (2 * a) (a + 3 * b)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "assume h2a: \"h dvd 2 * a\" and hab: \"h dvd a + 3 * b\""], ["proof (state)\nthis:\n  h dvd 2 * a\n  h dvd a + 3 * b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "have \"coprime 2 h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 2 h", "using ab even_odd_p_q hab dvd_trans [of 2 h \"a + 3 * b\"]"], ["proof (prove)\nusing this:\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  even p \\<and> odd q \\<or> odd p \\<and> even q\n  h dvd a + 3 * b\n  \\<lbrakk>even h; h dvd a + 3 * b\\<rbrakk>\n  \\<Longrightarrow> even (a + 3 * b)\n\ngoal (1 subgoal):\n 1. coprime 2 h", "by auto"], ["proof (state)\nthis:\n  coprime 2 h\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "with h2a"], ["proof (chain)\npicking this:\n  h dvd 2 * a\n  coprime 2 h", "show \"h dvd a\""], ["proof (prove)\nusing this:\n  h dvd 2 * a\n  coprime 2 h\n\ngoal (1 subgoal):\n 1. h dvd a", "by (simp add: coprime_dvd_mult_left_iff ac_simps)"], ["proof (state)\nthis:\n  h dvd a\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "with hab"], ["proof (chain)\npicking this:\n  h dvd a + 3 * b\n  h dvd a", "have \"h dvd 3 * b\" and \"\\<not> 3 dvd h\""], ["proof (prove)\nusing this:\n  h dvd a + 3 * b\n  h dvd a\n\ngoal (1 subgoal):\n 1. h dvd 3 * b &&& \\<not> 3 dvd h", "using dvd_trans [of 3 h a] ab \\<open>\\<not> 3 dvd p\\<close>"], ["proof (prove)\nusing this:\n  h dvd a + 3 * b\n  h dvd a\n  \\<lbrakk>3 dvd h; h dvd a\\<rbrakk> \\<Longrightarrow> 3 dvd a\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  \\<not> 3 dvd p\n\ngoal (1 subgoal):\n 1. h dvd 3 * b &&& \\<not> 3 dvd h", "by (auto simp add: dvd_add_right_iff)"], ["proof (state)\nthis:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "moreover"], ["proof (state)\nthis:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "have \"coprime 3 h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 3 h", "using \\<open>\\<not> 3 dvd h\\<close>"], ["proof (prove)\nusing this:\n  \\<not> 3 dvd h\n\ngoal (1 subgoal):\n 1. coprime 3 h", "by (auto intro: prime_imp_coprime)"], ["proof (state)\nthis:\n  coprime 3 h\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * a; e dvd a + 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "ultimately"], ["proof (chain)\npicking this:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n  coprime 3 h", "show \"h dvd b\""], ["proof (prove)\nusing this:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n  coprime 3 h\n\ngoal (1 subgoal):\n 1. h dvd b", "by (simp add: coprime_dvd_mult_left_iff ac_simps)"], ["proof (state)\nthis:\n  h dvd b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (2 * a) (a + 3 * b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  coprime (2 * a) (a + 3 * b)", "have [simp]: \"even b \\<longleftrightarrow> odd a\"\n        and ab3: \"coprime a (a + 3 * b)\""], ["proof (prove)\nusing this:\n  coprime (2 * a) (a + 3 * b)\n\ngoal (1 subgoal):\n 1. even b = odd a &&& coprime a (a + 3 * b)", "by simp_all"], ["proof (state)\nthis:\n  even b = odd a\n  coprime a (a + 3 * b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from \\<open>coprime a b\\<close>"], ["proof (chain)\npicking this:\n  coprime a b", "have ab4: \"coprime a (a - 3 * b)\""], ["proof (prove)\nusing this:\n  coprime a b\n\ngoal (1 subgoal):\n 1. coprime a (a - 3 * b)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "assume h2a: \"h dvd a\" and hab: \"h dvd a - 3 * b\""], ["proof (state)\nthis:\n  h dvd a\n  h dvd a - 3 * b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "then"], ["proof (chain)\npicking this:\n  h dvd a\n  h dvd a - 3 * b", "show \"h dvd a\""], ["proof (prove)\nusing this:\n  h dvd a\n  h dvd a - 3 * b\n\ngoal (1 subgoal):\n 1. h dvd a", "by simp"], ["proof (state)\nthis:\n  h dvd a\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "with hab"], ["proof (chain)\npicking this:\n  h dvd a - 3 * b\n  h dvd a", "have \"h dvd 3 * b\" and \"\\<not> 3 dvd h\""], ["proof (prove)\nusing this:\n  h dvd a - 3 * b\n  h dvd a\n\ngoal (1 subgoal):\n 1. h dvd 3 * b &&& \\<not> 3 dvd h", "using dvd_trans [of 3 h a] ab \\<open>\\<not> 3 dvd p\\<close> dvd_add_right_iff [of h a \"- 3 * b\"]"], ["proof (prove)\nusing this:\n  h dvd a - 3 * b\n  h dvd a\n  \\<lbrakk>3 dvd h; h dvd a\\<rbrakk> \\<Longrightarrow> 3 dvd a\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  \\<not> 3 dvd p\n  h dvd a \\<Longrightarrow> (h dvd a + - 3 * b) = (h dvd - 3 * b)\n\ngoal (1 subgoal):\n 1. h dvd 3 * b &&& \\<not> 3 dvd h", "by auto"], ["proof (state)\nthis:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "moreover"], ["proof (state)\nthis:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "have \"coprime 3 h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 3 h", "using \\<open>\\<not> 3 dvd h\\<close>"], ["proof (prove)\nusing this:\n  \\<not> 3 dvd h\n\ngoal (1 subgoal):\n 1. coprime 3 h", "by (auto intro: prime_imp_coprime)"], ["proof (state)\nthis:\n  coprime 3 h\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a; e dvd a - 3 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "ultimately"], ["proof (chain)\npicking this:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n  coprime 3 h", "show \"h dvd b\""], ["proof (prove)\nusing this:\n  h dvd 3 * b\n  \\<not> 3 dvd h\n  coprime 3 h\n\ngoal (1 subgoal):\n 1. h dvd b", "by (simp add: coprime_dvd_mult_left_iff ac_simps)"], ["proof (state)\nthis:\n  h dvd b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime a (a - 3 * b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from ab1"], ["proof (chain)\npicking this:\n  coprime (2 * a) (a + 3 * b)", "have ab2: \"coprime (a + 3 * b) (a - 3 * b)\""], ["proof (prove)\nusing this:\n  coprime (2 * a) (a + 3 * b)\n\ngoal (1 subgoal):\n 1. coprime (a + 3 * b) (a - 3 * b)", "by (rule coprime_imp_coprime)\n          (use dvd_add [of _ \"a + 3 * b\" \"a - 3 * b\"] in simp_all)"], ["proof (state)\nthis:\n  coprime (a + 3 * b) (a - 3 * b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"\\<exists>k l m. 2 * a = k ^ 3 \\<and> a + 3 * b = l ^ 3 \\<and> a - 3 * b = m ^ 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k l m.\n       2 * a = k ^ 3 \\<and> a + 3 * b = l ^ 3 \\<and> a - 3 * b = m ^ 3", "using ab2 ab3 ab4 abc\n          int_relprime_odd_power_divisors [of 3 \"2 * a\" \"(a + 3 * b) * (a - 3 * b)\" c]\n          int_relprime_odd_power_divisors [of 3 \"(a + 3 * b)\" \"2 * a * (a - 3 * b)\" c]\n          int_relprime_odd_power_divisors [of 3 \"(a - 3 * b)\" \"2 * a * (a + 3 * b)\" c]"], ["proof (prove)\nusing this:\n  coprime (a + 3 * b) (a - 3 * b)\n  coprime a (a + 3 * b)\n  coprime a (a - 3 * b)\n  2 * a * (a + 3 * b) * (a - 3 * b) = c ^ 3\n  \\<lbrakk>odd 3; 2 * a * ((a + 3 * b) * (a - 3 * b)) = c ^ 3;\n   coprime (2 * a) ((a + 3 * b) * (a - 3 * b))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. 2 * a = k ^ 3\n  \\<lbrakk>odd 3; (a + 3 * b) * (2 * a * (a - 3 * b)) = c ^ 3;\n   coprime (a + 3 * b) (2 * a * (a - 3 * b))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. a + 3 * b = k ^ 3\n  \\<lbrakk>odd 3; (a - 3 * b) * (2 * a * (a + 3 * b)) = c ^ 3;\n   coprime (a - 3 * b) (2 * a * (a + 3 * b))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. a - 3 * b = k ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>k l m.\n       2 * a = k ^ 3 \\<and> a + 3 * b = l ^ 3 \\<and> a - 3 * b = m ^ 3", "by auto (auto simp add: ac_simps)"], ["proof (state)\nthis:\n  \\<exists>k l m.\n     2 * a = k ^ 3 \\<and> a + 3 * b = l ^ 3 \\<and> a - 3 * b = m ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  \\<exists>k l m.\n     2 * a = k ^ 3 \\<and> a + 3 * b = l ^ 3 \\<and> a - 3 * b = m ^ 3", "obtain \\<alpha> \\<beta> \\<gamma> where albega: \n        \"2*a = \\<gamma>^3 \\<and> a - 3*b = \\<alpha>^3 \\<and> a+3*b = \\<beta>^3\""], ["proof (prove)\nusing this:\n  \\<exists>k l m.\n     2 * a = k ^ 3 \\<and> a + 3 * b = l ^ 3 \\<and> a - 3 * b = m ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>\\<gamma> \\<alpha> \\<beta>.\n        2 * a = \\<gamma> ^ 3 \\<and>\n        a - 3 * b = \\<alpha> ^ 3 \\<and>\n        a + 3 * b = \\<beta> ^ 3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto \n      \\<comment> \\<open>show this is a (smaller) solution\\<close>"], ["proof (state)\nthis:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"\\<alpha>^3 + \\<beta>^3 = \\<gamma>^3\""], ["proof (prove)\nusing this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n\ngoal (1 subgoal):\n 1. \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3", "by auto"], ["proof (state)\nthis:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"\\<alpha>*\\<beta>*\\<gamma> \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0", "proof (rule ccontr, safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> False; \\<alpha> * \\<beta> * \\<gamma> = 0\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"\\<alpha> * \\<beta> * \\<gamma> = 0\""], ["proof (state)\nthis:\n  \\<alpha> * \\<beta> * \\<gamma> = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> False; \\<alpha> * \\<beta> * \\<gamma> = 0\\<rbrakk>\n    \\<Longrightarrow> False", "with albega ab"], ["proof (chain)\npicking this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  \\<alpha> * \\<beta> * \\<gamma> = 0", "have \"p=0\""], ["proof (prove)\nusing this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  \\<alpha> * \\<beta> * \\<gamma> = 0\n\ngoal (1 subgoal):\n 1. p = 0", "by (auto simp add: power_0_left)"], ["proof (state)\nthis:\n  p = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> False; \\<alpha> * \\<beta> * \\<gamma> = 0\\<rbrakk>\n    \\<Longrightarrow> False", "with vwpq vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  p = 0", "show False"], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  p = 0\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"even \\<gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even \\<gamma>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. even \\<gamma>", "have \"even (2*a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even (2 * a)", "by simp"], ["proof (state)\nthis:\n  even (2 * a)\n\ngoal (1 subgoal):\n 1. even \\<gamma>", "with albega"], ["proof (chain)\npicking this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  even (2 * a)", "have \"even (\\<gamma>^3)\""], ["proof (prove)\nusing this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  even (2 * a)\n\ngoal (1 subgoal):\n 1. even (\\<gamma> ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (\\<gamma> ^ 3)\n\ngoal (1 subgoal):\n 1. even \\<gamma>", "thus ?thesis"], ["proof (prove)\nusing this:\n  even (\\<gamma> ^ 3)\n\ngoal (1 subgoal):\n 1. even \\<gamma>", "by simp"], ["proof (state)\nthis:\n  even \\<gamma>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  even \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  even \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"coprime \\<alpha> \\<beta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime \\<alpha> \\<beta>", "using ab2"], ["proof (prove)\nusing this:\n  coprime (a + 3 * b) (a - 3 * b)\n\ngoal (1 subgoal):\n 1. coprime \\<alpha> \\<beta>", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + 3 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - 3 * b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + 3 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - 3 * b", "assume ha: \"h dvd \\<alpha>\" and hb: \"h dvd \\<beta>\""], ["proof (state)\nthis:\n  h dvd \\<alpha>\n  h dvd \\<beta>\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + 3 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - 3 * b", "then"], ["proof (chain)\npicking this:\n  h dvd \\<alpha>\n  h dvd \\<beta>", "have \"h dvd \\<alpha> * \\<alpha>^2 \\<and> h dvd \\<beta> * \\<beta>^2\""], ["proof (prove)\nusing this:\n  h dvd \\<alpha>\n  h dvd \\<beta>\n\ngoal (1 subgoal):\n 1. h dvd \\<alpha> * \\<alpha>\\<^sup>2 \\<and> h dvd \\<beta> * \\<beta>\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  h dvd \\<alpha> * \\<alpha>\\<^sup>2 \\<and> h dvd \\<beta> * \\<beta>\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + 3 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - 3 * b", "then"], ["proof (chain)\npicking this:\n  h dvd \\<alpha> * \\<alpha>\\<^sup>2 \\<and> h dvd \\<beta> * \\<beta>\\<^sup>2", "have \"h dvd \\<alpha>^Suc 2 \\<and> h dvd \\<beta>^Suc 2\""], ["proof (prove)\nusing this:\n  h dvd \\<alpha> * \\<alpha>\\<^sup>2 \\<and> h dvd \\<beta> * \\<beta>\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd \\<alpha> ^ Suc 2 \\<and> h dvd \\<beta> ^ Suc 2", "by (auto simp only: power_Suc)"], ["proof (state)\nthis:\n  h dvd \\<alpha> ^ Suc 2 \\<and> h dvd \\<beta> ^ Suc 2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + 3 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - 3 * b", "with albega"], ["proof (chain)\npicking this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  h dvd \\<alpha> ^ Suc 2 \\<and> h dvd \\<beta> ^ Suc 2", "show \"h dvd a - 3 * b\" \"h dvd a + 3 * b\""], ["proof (prove)\nusing this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  h dvd \\<alpha> ^ Suc 2 \\<and> h dvd \\<beta> ^ Suc 2\n\ngoal (1 subgoal):\n 1. h dvd a - 3 * b &&& h dvd a + 3 * b", "by auto"], ["proof (state)\nthis:\n  h dvd a - 3 * b\n  h dvd a + 3 * b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime \\<alpha> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  coprime \\<alpha> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"nat\\<bar>\\<gamma>^3\\<bar> < nat\\<bar>x^3\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "let ?A = \"p^2 + 3*q^2\""], ["proof (state)\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from vwx vwpq"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"x^3 = 2*p*?A\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "also"], ["proof (state)\nthis:\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with ab"], ["proof (chain)\npicking this:\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"\\<dots> = 2*a*((a+3*b)*(a- 3*b)*?A)\""], ["proof (prove)\nusing this:\n  p = a * (a + 3 * b) * (a - 3 * b) \\<and> q = b * (a + b) * (a - b) * 3\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n    2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "by auto"], ["proof (state)\nthis:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "also"], ["proof (state)\nthis:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with albega"], ["proof (chain)\npicking this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "have \"\\<dots> = \\<gamma>^3 *((a+3*b)*(a- 3*b)*?A)\""], ["proof (prove)\nusing this:\n  2 * a = \\<gamma> ^ 3 \\<and>\n  a - 3 * b = \\<alpha> ^ 3 \\<and> a + 3 * b = \\<beta> ^ 3\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. 2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)) =\n    \\<gamma> ^ 3 * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "by auto"], ["proof (state)\nthis:\n  2 * a * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)) =\n  \\<gamma> ^ 3 * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "finally"], ["proof (chain)\npicking this:\n  x ^ 3 =\n  \\<gamma> ^ 3 * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "have eq: \"\\<bar>x^3\\<bar> = \\<bar>\\<gamma>^3\\<bar> * \\<bar>(a+3*b)*(a- 3*b)*?A\\<bar>\""], ["proof (prove)\nusing this:\n  x ^ 3 =\n  \\<gamma> ^ 3 * ((a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> =\n    \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by (auto simp add: abs_mult)"], ["proof (state)\nthis:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with \\<open>0 < nat\\<bar>x^3\\<bar>\\<close>"], ["proof (chain)\npicking this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "have \"\\<bar>(a+3*b)*(a- 3*b)*?A\\<bar> > 0\""], ["proof (prove)\nusing this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by auto"], ["proof (state)\nthis:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence eqpos: \"\\<bar>(a+3*b)*(a- 3*b)\\<bar> > 0\""], ["proof (prove)\nusing this:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>", "by auto"], ["proof (state)\nthis:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have Ag1: \"\\<bar>?A\\<bar> > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "have Aqf3: \"is_qfN ?A 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_qfN (p\\<^sup>2 + 3 * q\\<^sup>2) 3", "by (auto simp add: is_qfN_def)"], ["proof (state)\nthis:\n  is_qfN (p\\<^sup>2 + 3 * q\\<^sup>2) 3\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "moreover"], ["proof (state)\nthis:\n  is_qfN (p\\<^sup>2 + 3 * q\\<^sup>2) 3\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "have triv3b: \"(3::int) \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> 3", "by simp"], ["proof (state)\nthis:\n  1 \\<le> 3\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  is_qfN (p\\<^sup>2 + 3 * q\\<^sup>2) 3\n  1 \\<le> 3", "have \"?A \\<ge> 0\""], ["proof (prove)\nusing this:\n  is_qfN (p\\<^sup>2 + 3 * q\\<^sup>2) 3\n  1 \\<le> 3\n\ngoal (1 subgoal):\n 1. 0 \\<le> p\\<^sup>2 + 3 * q\\<^sup>2", "by (simp only: qfN_pos)"], ["proof (state)\nthis:\n  0 \\<le> p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "hence \"?A > 1 \\<or> ?A = 0 \\<or> ?A =1\""], ["proof (prove)\nusing this:\n  0 \\<le> p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. 1 < p\\<^sup>2 + 3 * q\\<^sup>2 \\<or>\n    p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<or> p\\<^sup>2 + 3 * q\\<^sup>2 = 1", "by arith"], ["proof (state)\nthis:\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2 \\<or>\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<or> p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "moreover"], ["proof (state)\nthis:\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2 \\<or>\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<or> p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "{"], ["proof (state)\nthis:\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2 \\<or>\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<or> p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "assume \"?A = 0\""], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "with triv3b"], ["proof (chain)\npicking this:\n  1 \\<le> 3\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0", "have \"p = 0 \\<and> q = 0\""], ["proof (prove)\nusing this:\n  1 \\<le> 3\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0\n\ngoal (1 subgoal):\n 1. p = 0 \\<and> q = 0", "by (rule qfN_zero)"], ["proof (state)\nthis:\n  p = 0 \\<and> q = 0\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "with vwpq vwx"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  p = 0 \\<and> q = 0", "have False"], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  p = 0 \\<and> q = 0\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "}"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "moreover"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "{"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "assume A1: \"?A = 1\""], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "have \"q=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. q = 0", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "assume \"q \\<noteq> 0\""], ["proof (state)\nthis:\n  q \\<noteq> 0\n\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "hence \"q^2 > 0\""], ["proof (prove)\nusing this:\n  q \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < q\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  0 < q\\<^sup>2\n\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "hence \"3*q^2 > 1\""], ["proof (prove)\nusing this:\n  0 < q\\<^sup>2\n\ngoal (1 subgoal):\n 1. 1 < 3 * q\\<^sup>2", "by arith"], ["proof (state)\nthis:\n  1 < 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  1 < 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "have \"p^2 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> p\\<^sup>2", "by (rule zero_le_power2)"], ["proof (state)\nthis:\n  0 \\<le> p\\<^sup>2\n\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  1 < 3 * q\\<^sup>2\n  0 \\<le> p\\<^sup>2", "have \"?A > 1\""], ["proof (prove)\nusing this:\n  1 < 3 * q\\<^sup>2\n  0 \\<le> p\\<^sup>2\n\ngoal (1 subgoal):\n 1. 1 < p\\<^sup>2 + 3 * q\\<^sup>2", "by arith"], ["proof (state)\nthis:\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. q \\<noteq> 0 \\<Longrightarrow> False", "with A1"], ["proof (chain)\npicking this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2", "show False"], ["proof (prove)\nusing this:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  q = 0\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "with pq_relprime"], ["proof (chain)\npicking this:\n  coprime p q\n  q = 0", "have \"\\<bar>p\\<bar> = 1\""], ["proof (prove)\nusing this:\n  coprime p q\n  q = 0\n\ngoal (1 subgoal):\n 1. \\<bar>p\\<bar> = 1", "by simp"], ["proof (state)\nthis:\n  \\<bar>p\\<bar> = 1\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "with vwpq vwx A1"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n  \\<bar>p\\<bar> = 1", "have \"\\<bar>x^3\\<bar> = 2\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n  \\<bar>p\\<bar> = 1\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> = 2", "by auto"], ["proof (state)\nthis:\n  \\<bar>x ^ 3\\<bar> = 2\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "hence False"], ["proof (prove)\nusing this:\n  \\<bar>x ^ 3\\<bar> = 2\n\ngoal (1 subgoal):\n 1. False", "by (rule two_not_abs_cube)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "}"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1 \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2 \\<or>\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<or> p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<Longrightarrow> False\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1 \\<Longrightarrow> False", "show ?thesis"], ["proof (prove)\nusing this:\n  1 < p\\<^sup>2 + 3 * q\\<^sup>2 \\<or>\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<or> p\\<^sup>2 + 3 * q\\<^sup>2 = 1\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 0 \\<Longrightarrow> False\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 1 \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "by auto"], ["proof (state)\nthis:\n  1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>\n  1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "have \n          \"\\<bar>(a+3*b)*(a- 3*b)\\<bar>*1 < \\<bar>(a+3*b)*(a- 3*b)\\<bar>*\\<bar>?A\\<bar>\""], ["proof (prove)\nusing this:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>\n  1 < \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> * 1\n    < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n      \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "by (simp only: zmult_zless_mono2)"], ["proof (state)\nthis:\n  \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> * 1\n  < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n    \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with eqpos"], ["proof (chain)\npicking this:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>\n  \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> * 1\n  < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n    \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "have \"\\<bar>(a+3*b)*(a- 3*b)\\<bar>*\\<bar>?A\\<bar> > 1\""], ["proof (prove)\nusing this:\n  0 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar>\n  \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> * 1\n  < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n    \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n        \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>", "by arith"], ["proof (state)\nthis:\n  1 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n      \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"\\<bar>(a+3*b)*(a- 3*b)*?A\\<bar> > 1\""], ["proof (prove)\nusing this:\n  1 < \\<bar>(a + 3 * b) * (a - 3 * b)\\<bar> *\n      \\<bar>p\\<^sup>2 + 3 * q\\<^sup>2\\<bar>\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by (auto simp add: abs_mult)"], ["proof (state)\nthis:\n  1 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  1 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"\\<bar>\\<gamma>^3\\<bar> > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "from eq"], ["proof (chain)\npicking this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "have \"\\<bar>\\<gamma>^3\\<bar> = 0 \\<Longrightarrow> \\<bar>x^3\\<bar>=0\""], ["proof (prove)\nusing this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "with \\<open>0 < nat\\<bar>x^3\\<bar>\\<close>"], ["proof (chain)\npicking this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  1 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>", "have \"\\<bar>\\<gamma>^3\\<bar> * 1 < \\<bar>\\<gamma>^3\\<bar> * \\<bar>(a+3*b)*(a- 3*b)*?A\\<bar>\""], ["proof (prove)\nusing this:\n  1 < \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<gamma> ^ 3\\<bar> * 1\n    < \\<bar>\\<gamma> ^ 3\\<bar> *\n      \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by (rule zmult_zless_mono2)"], ["proof (state)\nthis:\n  \\<bar>\\<gamma> ^ 3\\<bar> * 1\n  < \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with eq"], ["proof (chain)\npicking this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> * 1\n  < \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "have \"\\<bar>x^3\\<bar> > \\<bar>\\<gamma>^3\\<bar>\""], ["proof (prove)\nusing this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> * 1\n  < \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>(a + 3 * b) * (a - 3 * b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<gamma> ^ 3\\<bar> < \\<bar>x ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<gamma> ^ 3\\<bar> < \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<gamma> ^ 3\\<bar> < \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "by arith"], ["proof (state)\nthis:\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n  even \\<gamma>\n  coprime \\<alpha> \\<beta>\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have ?thesis"], ["proof (prove)\nusing this:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n  even \\<gamma>\n  coprime \\<alpha> \\<beta>\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "}"], ["proof (state)\nthis:\n  \\<not> 3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover\n    \\<comment> \\<open>second case: $p = 3r$ and hence $x^3 = (18r)(q^2+3r^2)$ and these\\<close>\n    \\<comment> \\<open>factors are coprime; hence both are cubes\\<close>"], ["proof (state)\nthis:\n  \\<not> 3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "{"], ["proof (state)\nthis:\n  \\<not> 3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "assume p3: \"3 dvd p\""], ["proof (state)\nthis:\n  3 dvd p\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  3 dvd p", "obtain r where r: \"p = 3*r\""], ["proof (prove)\nusing this:\n  3 dvd p\n\ngoal (1 subgoal):\n 1. (\\<And>r. p = 3 * r \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by (auto simp add: dvd_def)"], ["proof (state)\nthis:\n  p = 3 * r\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  p = 3 * r\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"3 dvd 3*(3*r^2 + q^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 dvd 3 * (3 * r\\<^sup>2 + q\\<^sup>2)", "by (rule dvd_triv_left)"], ["proof (state)\nthis:\n  3 dvd 3 * (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  p = 3 * r\n  3 dvd 3 * (3 * r\\<^sup>2 + q\\<^sup>2)", "have pq3: \"3 dvd p^2+3*q^2\""], ["proof (prove)\nusing this:\n  p = 3 * r\n  3 dvd 3 * (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 3 dvd p\\<^sup>2 + 3 * q\\<^sup>2", "by (simp add: power_mult_distrib)"], ["proof (state)\nthis:\n  3 dvd p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  3 dvd p\\<^sup>2 + 3 * q\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from p3"], ["proof (chain)\npicking this:\n  3 dvd p", "have \"3 dvd 2*p\""], ["proof (prove)\nusing this:\n  3 dvd p\n\ngoal (1 subgoal):\n 1. 3 dvd 2 * p", "by (rule dvd_mult)"], ["proof (state)\nthis:\n  3 dvd 2 * p\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  3 dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  3 dvd 2 * p", "have g3: \"3 dvd ?g\""], ["proof (prove)\nusing this:\n  3 dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  3 dvd 2 * p\n\ngoal (1 subgoal):\n 1. 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from \\<open>coprime v w\\<close>"], ["proof (chain)\npicking this:\n  coprime v w", "have qr_relprime: \"coprime q r\""], ["proof (prove)\nusing this:\n  coprime v w\n\ngoal (1 subgoal):\n 1. coprime q r", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "assume hq: \"h dvd q\" \"h dvd r\""], ["proof (state)\nthis:\n  h dvd q\n  h dvd r\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with r"], ["proof (chain)\npicking this:\n  p = 3 * r\n  h dvd q\n  h dvd r", "have \"h dvd p\""], ["proof (prove)\nusing this:\n  p = 3 * r\n  h dvd q\n  h dvd r\n\ngoal (1 subgoal):\n 1. h dvd p", "by simp"], ["proof (state)\nthis:\n  h dvd p\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with hq"], ["proof (chain)\npicking this:\n  h dvd q\n  h dvd r\n  h dvd p", "have \"h dvd p + q\" \"h dvd p - q\""], ["proof (prove)\nusing this:\n  h dvd q\n  h dvd r\n  h dvd p\n\ngoal (1 subgoal):\n 1. h dvd p + q &&& h dvd p - q", "by simp_all"], ["proof (state)\nthis:\n  h dvd p + q\n  h dvd p - q\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd q; e dvd r\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with vw"], ["proof (chain)\npicking this:\n  v = p + q \\<and> w = p - q\n  h dvd p + q\n  h dvd p - q", "show \"h dvd v\" \"h dvd w\""], ["proof (prove)\nusing this:\n  v = p + q \\<and> w = p - q\n  h dvd p + q\n  h dvd p - q\n\ngoal (1 subgoal):\n 1. h dvd v &&& h dvd w", "by simp_all"], ["proof (state)\nthis:\n  h dvd v\n  h dvd w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime q r\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have factors_relprime: \"coprime (18*r) (q^2 + 3*r^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "from g3"], ["proof (chain)\npicking this:\n  3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "obtain k where k: \"?g = 3*k\""], ["proof (prove)\nusing this:\n  3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: dvd_def)"], ["proof (state)\nthis:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "have \"k = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. k = 1", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "assume \"k \\<noteq> 1\""], ["proof (state)\nthis:\n  k \\<noteq> 1\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with g1 k"], ["proof (chain)\npicking this:\n  1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n  k \\<noteq> 1", "have \"k > 1\""], ["proof (prove)\nusing this:\n  1 \\<le> gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n  k \\<noteq> 1\n\ngoal (1 subgoal):\n 1. 1 < k", "by auto"], ["proof (state)\nthis:\n  1 < k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  1 < k", "obtain h where h: \"prime h \\<and> h dvd k\""], ["proof (prove)\nusing this:\n  1 < k\n\ngoal (1 subgoal):\n 1. (\\<And>h.\n        prime h \\<and> h dvd k \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using prime_divisor_exists[of k]"], ["proof (prove)\nusing this:\n  1 < k\n  \\<lbrakk>k \\<noteq> 0; \\<not> is_unit k\\<rbrakk>\n  \\<Longrightarrow> \\<exists>b. b dvd k \\<and> prime b\n\ngoal (1 subgoal):\n 1. (\\<And>h.\n        prime h \\<and> h dvd k \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  prime h \\<and> h dvd k\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with k"], ["proof (chain)\npicking this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n  prime h \\<and> h dvd k", "have hg: \"3*h dvd ?g\""], ["proof (prove)\nusing this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n  prime h \\<and> h dvd k\n\ngoal (1 subgoal):\n 1. 3 * h dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "by (auto simp add: mult_dvd_mono)"], ["proof (state)\nthis:\n  3 * h dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "hence \"3*h dvd p^2 + 3*q^2\" and hp: \"3*h dvd 2*p\""], ["proof (prove)\nusing this:\n  3 * h dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 3 * h dvd p\\<^sup>2 + 3 * q\\<^sup>2 &&& 3 * h dvd 2 * p", "by auto"], ["proof (state)\nthis:\n  3 * h dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  3 * h dvd 2 * p\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  3 * h dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  3 * h dvd 2 * p", "obtain s where s: \"p^2 + 3*q^2 = (3*h)*s\""], ["proof (prove)\nusing this:\n  3 * h dvd p\\<^sup>2 + 3 * q\\<^sup>2\n  3 * h dvd 2 * p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        p\\<^sup>2 + 3 * q\\<^sup>2 = 3 * h * s \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: dvd_def)"], ["proof (state)\nthis:\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 3 * h * s\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with r"], ["proof (chain)\npicking this:\n  p = 3 * r\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 3 * h * s", "have rqh: \"3*r^2+q^2 = h*s\""], ["proof (prove)\nusing this:\n  p = 3 * r\n  p\\<^sup>2 + 3 * q\\<^sup>2 = 3 * h * s\n\ngoal (1 subgoal):\n 1. 3 * r\\<^sup>2 + q\\<^sup>2 = h * s", "by (simp add: power_mult_distrib)"], ["proof (state)\nthis:\n  3 * r\\<^sup>2 + q\\<^sup>2 = h * s\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "from hp r"], ["proof (chain)\npicking this:\n  3 * h dvd 2 * p\n  p = 3 * r", "have \"3*h dvd 3*(2*r)\""], ["proof (prove)\nusing this:\n  3 * h dvd 2 * p\n  p = 3 * r\n\ngoal (1 subgoal):\n 1. 3 * h dvd 3 * (2 * r)", "by simp"], ["proof (state)\nthis:\n  3 * h dvd 3 * (2 * r)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  3 * h dvd 3 * (2 * r)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "have \"(3::int) \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  3 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  3 * h dvd 3 * (2 * r)\n  3 \\<noteq> 0", "have \"h dvd 2*r\""], ["proof (prove)\nusing this:\n  3 * h dvd 3 * (2 * r)\n  3 \\<noteq> 0\n\ngoal (1 subgoal):\n 1. h dvd 2 * r", "by (rule zdvd_mult_cancel)"], ["proof (state)\nthis:\n  h dvd 2 * r\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with h"], ["proof (chain)\npicking this:\n  prime h \\<and> h dvd k\n  h dvd 2 * r", "have \"h dvd 2 \\<or> h dvd r\""], ["proof (prove)\nusing this:\n  prime h \\<and> h dvd k\n  h dvd 2 * r\n\ngoal (1 subgoal):\n 1. h dvd 2 \\<or> h dvd r", "by (auto dest: prime_dvd_multD)"], ["proof (state)\nthis:\n  h dvd 2 \\<or> h dvd r\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  h dvd 2 \\<or> h dvd r\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "have \"\\<not> h dvd 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> h dvd 2", "proof (rule ccontr, simp)"], ["proof (state)\ngoal (1 subgoal):\n 1. h dvd 2 \\<Longrightarrow> False", "assume \"h dvd 2\""], ["proof (state)\nthis:\n  h dvd 2\n\ngoal (1 subgoal):\n 1. h dvd 2 \\<Longrightarrow> False", "with h"], ["proof (chain)\npicking this:\n  prime h \\<and> h dvd k\n  h dvd 2", "have \"h=2\""], ["proof (prove)\nusing this:\n  prime h \\<and> h dvd k\n  h dvd 2\n\ngoal (1 subgoal):\n 1. h = 2", "using zdvd_not_zless[of 2 h]"], ["proof (prove)\nusing this:\n  prime h \\<and> h dvd k\n  h dvd 2\n  \\<lbrakk>0 < 2; 2 < h\\<rbrakk> \\<Longrightarrow> \\<not> h dvd 2\n\ngoal (1 subgoal):\n 1. h = 2", "by (auto simp: prime_int_iff)"], ["proof (state)\nthis:\n  h = 2\n\ngoal (1 subgoal):\n 1. h dvd 2 \\<Longrightarrow> False", "with hg"], ["proof (chain)\npicking this:\n  3 * h dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  h = 2", "have \"2*3 dvd ?g\""], ["proof (prove)\nusing this:\n  3 * h dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n  h = 2\n\ngoal (1 subgoal):\n 1. 2 * 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  2 * 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. h dvd 2 \\<Longrightarrow> False", "hence \"2 dvd ?g\""], ["proof (prove)\nusing this:\n  2 * 3 dvd gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. even (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))", "by (rule dvd_mult_left)"], ["proof (state)\nthis:\n  even (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. h dvd 2 \\<Longrightarrow> False", "with gOdd"], ["proof (chain)\npicking this:\n  odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n  even (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))", "show False"], ["proof (prove)\nusing this:\n  odd (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n  even (gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> h dvd 2\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  h dvd 2 \\<or> h dvd r\n  \\<not> h dvd 2", "have hr: \"h dvd r\""], ["proof (prove)\nusing this:\n  h dvd 2 \\<or> h dvd r\n  \\<not> h dvd 2\n\ngoal (1 subgoal):\n 1. h dvd r", "by simp"], ["proof (state)\nthis:\n  h dvd r\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  h dvd r", "obtain t where \"r = h*t\""], ["proof (prove)\nusing this:\n  h dvd r\n\ngoal (1 subgoal):\n 1. (\\<And>t. r = h * t \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by (auto simp add: dvd_def)"], ["proof (state)\nthis:\n  r = h * t\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "hence t: \"r^2 = h*(h*t^2)\""], ["proof (prove)\nusing this:\n  r = h * t\n\ngoal (1 subgoal):\n 1. r\\<^sup>2 = h * (h * t\\<^sup>2)", "by (auto simp add: power2_eq_square)"], ["proof (state)\nthis:\n  r\\<^sup>2 = h * (h * t\\<^sup>2)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with rqh"], ["proof (chain)\npicking this:\n  3 * r\\<^sup>2 + q\\<^sup>2 = h * s\n  r\\<^sup>2 = h * (h * t\\<^sup>2)", "have \"h*s = h*(3*h*t^2) + q^2\""], ["proof (prove)\nusing this:\n  3 * r\\<^sup>2 + q\\<^sup>2 = h * s\n  r\\<^sup>2 = h * (h * t\\<^sup>2)\n\ngoal (1 subgoal):\n 1. h * s = h * (3 * h * t\\<^sup>2) + q\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  h * s = h * (3 * h * t\\<^sup>2) + q\\<^sup>2\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "hence \"q^2 = h*(s - 3*h*t^2)\""], ["proof (prove)\nusing this:\n  h * s = h * (3 * h * t\\<^sup>2) + q\\<^sup>2\n\ngoal (1 subgoal):\n 1. q\\<^sup>2 = h * (s - 3 * h * t\\<^sup>2)", "by (simp add: right_diff_distrib)"], ["proof (state)\nthis:\n  q\\<^sup>2 = h * (s - 3 * h * t\\<^sup>2)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "hence \"h dvd q^2\""], ["proof (prove)\nusing this:\n  q\\<^sup>2 = h * (s - 3 * h * t\\<^sup>2)\n\ngoal (1 subgoal):\n 1. h dvd q\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  h dvd q\\<^sup>2\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with h"], ["proof (chain)\npicking this:\n  prime h \\<and> h dvd k\n  h dvd q\\<^sup>2", "have \"h dvd q\""], ["proof (prove)\nusing this:\n  prime h \\<and> h dvd k\n  h dvd q\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd q", "using prime_dvd_multD[of h q q]"], ["proof (prove)\nusing this:\n  prime h \\<and> h dvd k\n  h dvd q\\<^sup>2\n  \\<lbrakk>prime h; h dvd q * q\\<rbrakk>\n  \\<Longrightarrow> h dvd q \\<or> h dvd q\n\ngoal (1 subgoal):\n 1. h dvd q", "by (simp add: power2_eq_square)"], ["proof (state)\nthis:\n  h dvd q\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with hr"], ["proof (chain)\npicking this:\n  h dvd r\n  h dvd q", "have \"h dvd gcd q r\""], ["proof (prove)\nusing this:\n  h dvd r\n  h dvd q\n\ngoal (1 subgoal):\n 1. h dvd gcd q r", "by simp"], ["proof (state)\nthis:\n  h dvd gcd q r\n\ngoal (1 subgoal):\n 1. k \\<noteq> 1 \\<Longrightarrow> False", "with h qr_relprime"], ["proof (chain)\npicking this:\n  prime h \\<and> h dvd k\n  coprime q r\n  h dvd gcd q r", "show False"], ["proof (prove)\nusing this:\n  prime h \\<and> h dvd k\n  coprime q r\n  h dvd gcd q r\n\ngoal (1 subgoal):\n 1. False", "by (unfold prime_def, auto)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  k = 1\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "with k r"], ["proof (chain)\npicking this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n  p = 3 * r\n  k = 1", "have \"3 = gcd (2*(3*r)) ((3*r)^2 + 3*q^2)\""], ["proof (prove)\nusing this:\n  gcd (2 * p) (p\\<^sup>2 + 3 * q\\<^sup>2) = 3 * k\n  p = 3 * r\n  k = 1\n\ngoal (1 subgoal):\n 1. 3 = gcd (2 * (3 * r)) ((3 * r)\\<^sup>2 + 3 * q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  3 = gcd (2 * (3 * r)) ((3 * r)\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "also"], ["proof (state)\nthis:\n  3 = gcd (2 * (3 * r)) ((3 * r)\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "have \"\\<dots> = gcd (3*(2*r)) (3*(3*r^2 + q^2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gcd (2 * (3 * r)) ((3 * r)\\<^sup>2 + 3 * q\\<^sup>2) =\n    gcd (3 * (2 * r)) (3 * (3 * r\\<^sup>2 + q\\<^sup>2))", "by (simp add: power_mult_distrib)"], ["proof (state)\nthis:\n  gcd (2 * (3 * r)) ((3 * r)\\<^sup>2 + 3 * q\\<^sup>2) =\n  gcd (3 * (2 * r)) (3 * (3 * r\\<^sup>2 + q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "also"], ["proof (state)\nthis:\n  gcd (2 * (3 * r)) ((3 * r)\\<^sup>2 + 3 * q\\<^sup>2) =\n  gcd (3 * (2 * r)) (3 * (3 * r\\<^sup>2 + q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "have \"\\<dots> = 3 * gcd (2*r) (3*r^2 + q^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gcd (3 * (2 * r)) (3 * (3 * r\\<^sup>2 + q\\<^sup>2)) =\n    3 * gcd (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)", "using gcd_mult_distrib_int[of 3]"], ["proof (prove)\nusing this:\n  \\<bar>3\\<bar> * gcd ?m ?n = gcd (3 * ?m) (3 * ?n)\n\ngoal (1 subgoal):\n 1. gcd (3 * (2 * r)) (3 * (3 * r\\<^sup>2 + q\\<^sup>2)) =\n    3 * gcd (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  gcd (3 * (2 * r)) (3 * (3 * r\\<^sup>2 + q\\<^sup>2)) =\n  3 * gcd (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "finally"], ["proof (chain)\npicking this:\n  3 = 3 * gcd (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)", "have \"coprime (2*r) (3*r^2 + q^2)\""], ["proof (prove)\nusing this:\n  3 = 3 * gcd (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)", "by (auto dest: gcd_eq_1_imp_coprime)"], ["proof (state)\nthis:\n  coprime (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "moreover"], ["proof (state)\nthis:\n  coprime (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "have \"coprime 9 (3*r^2 + q^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime 9 (3 * r\\<^sup>2 + q\\<^sup>2)", "using \\<open>coprime v w\\<close>"], ["proof (prove)\nusing this:\n  coprime v w\n\ngoal (1 subgoal):\n 1. coprime 9 (3 * r\\<^sup>2 + q\\<^sup>2)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "fix h :: int"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "assume \"\\<not> is_unit h\""], ["proof (state)\nthis:\n  \\<not> is_unit h\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "assume h9: \"h dvd 9\" and hrq: \"h dvd 3 * r\\<^sup>2 + q\\<^sup>2\""], ["proof (state)\nthis:\n  h dvd 9\n  h dvd 3 * r\\<^sup>2 + q\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "have \"prime (3::int)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prime 3", "by simp"], ["proof (state)\nthis:\n  prime 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "moreover"], ["proof (state)\nthis:\n  prime 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "from \\<open>h dvd 9\\<close>"], ["proof (chain)\npicking this:\n  h dvd 9", "have \"h dvd 3\\<^sup>2\""], ["proof (prove)\nusing this:\n  h dvd 9\n\ngoal (1 subgoal):\n 1. h dvd 3\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  h dvd 3\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "ultimately"], ["proof (chain)\npicking this:\n  prime 3\n  h dvd 3\\<^sup>2", "obtain k where \"normalize h = 3 ^ k\""], ["proof (prove)\nusing this:\n  prime 3\n  h dvd 3\\<^sup>2\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        normalize h = 3 ^ k \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule divides_primepow)"], ["proof (state)\nthis:\n  normalize h = 3 ^ k\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with \\<open>\\<not> is_unit h\\<close>"], ["proof (chain)\npicking this:\n  \\<not> is_unit h\n  normalize h = 3 ^ k", "have \"0 < k\""], ["proof (prove)\nusing this:\n  \\<not> is_unit h\n  normalize h = 3 ^ k\n\ngoal (1 subgoal):\n 1. 0 < k", "by simp"], ["proof (state)\nthis:\n  0 < k\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with \\<open>normalize h = 3 ^ k\\<close>"], ["proof (chain)\npicking this:\n  normalize h = 3 ^ k\n  0 < k", "have \"\\<bar>h\\<bar> = 3 * 3 ^ (k - 1)\""], ["proof (prove)\nusing this:\n  normalize h = 3 ^ k\n  0 < k\n\ngoal (1 subgoal):\n 1. \\<bar>h\\<bar> = 3 * 3 ^ (k - 1)", "by (cases k) simp_all"], ["proof (state)\nthis:\n  \\<bar>h\\<bar> = 3 * 3 ^ (k - 1)\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  \\<bar>h\\<bar> = 3 * 3 ^ (k - 1)", "have \"3 dvd \\<bar>h\\<bar>\""], ["proof (prove)\nusing this:\n  \\<bar>h\\<bar> = 3 * 3 ^ (k - 1)\n\ngoal (1 subgoal):\n 1. 3 dvd \\<bar>h\\<bar>", ".."], ["proof (state)\nthis:\n  3 dvd \\<bar>h\\<bar>\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  3 dvd \\<bar>h\\<bar>", "have \"3 dvd h\""], ["proof (prove)\nusing this:\n  3 dvd \\<bar>h\\<bar>\n\ngoal (1 subgoal):\n 1. 3 dvd h", "by simp"], ["proof (state)\nthis:\n  3 dvd h\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  3 dvd h", "have \"3 dvd 3 * r\\<^sup>2 + q\\<^sup>2\""], ["proof (prove)\nusing this:\n  3 dvd h\n\ngoal (1 subgoal):\n 1. 3 dvd 3 * r\\<^sup>2 + q\\<^sup>2", "using hrq"], ["proof (prove)\nusing this:\n  3 dvd h\n  h dvd 3 * r\\<^sup>2 + q\\<^sup>2\n\ngoal (1 subgoal):\n 1. 3 dvd 3 * r\\<^sup>2 + q\\<^sup>2", "by (rule dvd_trans)"], ["proof (state)\nthis:\n  3 dvd 3 * r\\<^sup>2 + q\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  3 dvd 3 * r\\<^sup>2 + q\\<^sup>2", "have \"3 dvd q\\<^sup>2\""], ["proof (prove)\nusing this:\n  3 dvd 3 * r\\<^sup>2 + q\\<^sup>2\n\ngoal (1 subgoal):\n 1. 3 dvd q\\<^sup>2", "by presburger"], ["proof (state)\nthis:\n  3 dvd q\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  3 dvd q\\<^sup>2", "have \"3 dvd q\""], ["proof (prove)\nusing this:\n  3 dvd q\\<^sup>2\n\ngoal (1 subgoal):\n 1. 3 dvd q", "using prime_dvd_power_int [of 3 q 2]"], ["proof (prove)\nusing this:\n  3 dvd q\\<^sup>2\n  \\<lbrakk>prime 3; 3 dvd q\\<^sup>2\\<rbrakk> \\<Longrightarrow> 3 dvd q\n\ngoal (1 subgoal):\n 1. 3 dvd q", "by auto"], ["proof (state)\nthis:\n  3 dvd q\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with p3"], ["proof (chain)\npicking this:\n  3 dvd p\n  3 dvd q", "have \"3 dvd p + q\" and \"3 dvd p - q\""], ["proof (prove)\nusing this:\n  3 dvd p\n  3 dvd q\n\ngoal (1 subgoal):\n 1. 3 dvd p + q &&& 3 dvd p - q", "by simp_all"], ["proof (state)\nthis:\n  3 dvd p + q\n  3 dvd p - q\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with vw"], ["proof (chain)\npicking this:\n  v = p + q \\<and> w = p - q\n  3 dvd p + q\n  3 dvd p - q", "have \"3 dvd v\" and \"3 dvd w\""], ["proof (prove)\nusing this:\n  v = p + q \\<and> w = p - q\n  3 dvd p + q\n  3 dvd p - q\n\ngoal (1 subgoal):\n 1. 3 dvd v &&& 3 dvd w", "by simp_all"], ["proof (state)\nthis:\n  3 dvd v\n  3 dvd w\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "with \\<open>coprime v w\\<close>"], ["proof (chain)\npicking this:\n  coprime v w\n  3 dvd v\n  3 dvd w", "have \"is_unit (3::int)\""], ["proof (prove)\nusing this:\n  coprime v w\n  3 dvd v\n  3 dvd w\n\ngoal (1 subgoal):\n 1. is_unit 3", "by (rule coprime_common_divisor)"], ["proof (state)\nthis:\n  is_unit 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd v\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 9;\n        e dvd 3 * r\\<^sup>2 + q\\<^sup>2\\<rbrakk>\n       \\<Longrightarrow> e dvd w", "then"], ["proof (chain)\npicking this:\n  is_unit 3", "show \"h dvd v\" and \"h dvd w\""], ["proof (prove)\nusing this:\n  is_unit 3\n\ngoal (1 subgoal):\n 1. h dvd v &&& h dvd w", "by simp_all"], ["proof (state)\nthis:\n  h dvd v\n  h dvd w\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime 9 (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "ultimately"], ["proof (chain)\npicking this:\n  coprime (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)\n  coprime 9 (3 * r\\<^sup>2 + q\\<^sup>2)", "have \"coprime (2 * r * 9) (3 * r\\<^sup>2 + q\\<^sup>2)\""], ["proof (prove)\nusing this:\n  coprime (2 * r) (3 * r\\<^sup>2 + q\\<^sup>2)\n  coprime 9 (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (2 * r * 9) (3 * r\\<^sup>2 + q\\<^sup>2)", "by (simp only: coprime_mult_left_iff)"], ["proof (state)\nthis:\n  coprime (2 * r * 9) (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "then"], ["proof (chain)\npicking this:\n  coprime (2 * r * 9) (3 * r\\<^sup>2 + q\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  coprime (2 * r * 9) (3 * r\\<^sup>2 + q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "by (simp add: ac_simps)"], ["proof (state)\nthis:\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have rqx: \"(18*r)*(q^2 + 3*r^2) = x^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "from vwx vwpq"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"x^3 = 2*p*(p^2 + 3*q^2)\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "also"], ["proof (state)\nthis:\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "with r"], ["proof (chain)\npicking this:\n  p = 3 * r\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"\\<dots> = 2*(3*r)*(9*r^2 + 3*q^2)\""], ["proof (prove)\nusing this:\n  p = 3 * r\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n    2 * (3 * r) * (9 * r\\<^sup>2 + 3 * q\\<^sup>2)", "by (auto simp add: power2_eq_square)"], ["proof (state)\nthis:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * (3 * r) * (9 * r\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "finally"], ["proof (chain)\npicking this:\n  x ^ 3 = 2 * (3 * r) * (9 * r\\<^sup>2 + 3 * q\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  x ^ 3 = 2 * (3 * r) * (9 * r\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "by auto"], ["proof (state)\nthis:\n  18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n  18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3", "have \"\\<exists> c. 18*r = c^3\""], ["proof (prove)\nusing this:\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n  18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>c. 18 * r = c ^ 3", "by (simp add: int_relprime_odd_power_divisors)"], ["proof (state)\nthis:\n  \\<exists>c. 18 * r = c ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  \\<exists>c. 18 * r = c ^ 3", "obtain c1 where c1: \"c1^3 = 3*(6*r)\""], ["proof (prove)\nusing this:\n  \\<exists>c. 18 * r = c ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>c1.\n        c1 ^ 3 = 3 * (6 * r) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c1 ^ 3 = 3 * (6 * r)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"3 dvd c1^3\" and \"prime (3::int)\""], ["proof (prove)\nusing this:\n  c1 ^ 3 = 3 * (6 * r)\n\ngoal (1 subgoal):\n 1. 3 dvd c1 ^ 3 &&& prime 3", "by auto"], ["proof (state)\nthis:\n  3 dvd c1 ^ 3\n  prime 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"3 dvd c1\""], ["proof (prove)\nusing this:\n  3 dvd c1 ^ 3\n  prime 3\n\ngoal (1 subgoal):\n 1. 3 dvd c1", "using prime_dvd_power[of 3]"], ["proof (prove)\nusing this:\n  3 dvd c1 ^ 3\n  prime 3\n  \\<lbrakk>prime (3::?'a1); (3::?'a1) dvd ?x ^ ?n\\<rbrakk>\n  \\<Longrightarrow> (3::?'a1) dvd ?x\n\ngoal (1 subgoal):\n 1. 3 dvd c1", "by fastforce"], ["proof (state)\nthis:\n  3 dvd c1\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with c1"], ["proof (chain)\npicking this:\n  c1 ^ 3 = 3 * (6 * r)\n  3 dvd c1", "obtain c where c: \"3*c^3 = 2*r\""], ["proof (prove)\nusing this:\n  c1 ^ 3 = 3 * (6 * r)\n  3 dvd c1\n\ngoal (1 subgoal):\n 1. (\\<And>c. 3 * c ^ 3 = 2 * r \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: power_mult_distrib dvd_def)"], ["proof (state)\nthis:\n  3 * c ^ 3 = 2 * r\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from rqx factors_relprime"], ["proof (chain)\npicking this:\n  18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)", "have \"coprime (q^2 + 3*r^2) (18*r)\"\n        and \"(q^2 + 3*r^2)*(18*r) = x^3\""], ["proof (prove)\nusing this:\n  18 * r * (q\\<^sup>2 + 3 * r\\<^sup>2) = x ^ 3\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n\ngoal (1 subgoal):\n 1. coprime (q\\<^sup>2 + 3 * r\\<^sup>2) (18 * r) &&&\n    (q\\<^sup>2 + 3 * r\\<^sup>2) * (18 * r) = x ^ 3", "by (auto simp add: ac_simps)"], ["proof (state)\nthis:\n  coprime (q\\<^sup>2 + 3 * r\\<^sup>2) (18 * r)\n  (q\\<^sup>2 + 3 * r\\<^sup>2) * (18 * r) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"\\<exists> d. q^2 + 3*r^2 = d^3\""], ["proof (prove)\nusing this:\n  coprime (q\\<^sup>2 + 3 * r\\<^sup>2) (18 * r)\n  (q\\<^sup>2 + 3 * r\\<^sup>2) * (18 * r) = x ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>d. q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3", "by (simp add: int_relprime_odd_power_divisors)"], ["proof (state)\nthis:\n  \\<exists>d. q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  \\<exists>d. q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3", "obtain d where d: \"q^2 + 3*r^2 = d^3\""], ["proof (prove)\nusing this:\n  \\<exists>d. q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"odd d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. odd d", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "assume \"\\<not> odd d\""], ["proof (state)\nthis:\n  \\<not> odd d\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "hence \"2 dvd d^3\""], ["proof (prove)\nusing this:\n  \\<not> odd d\n\ngoal (1 subgoal):\n 1. even (d ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (d ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  even (d ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "have \"2 dvd 2*(9*r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even (2 * (9 * r))", "by (rule dvd_triv_left)"], ["proof (state)\nthis:\n  even (2 * (9 * r))\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  even (d ^ 3)\n  even (2 * (9 * r))", "have \"2 dvd gcd (2*(9*r)) (d^3)\""], ["proof (prove)\nusing this:\n  even (d ^ 3)\n  even (2 * (9 * r))\n\ngoal (1 subgoal):\n 1. even (gcd (2 * (9 * r)) (d ^ 3))", "by simp"], ["proof (state)\nthis:\n  even (gcd (2 * (9 * r)) (d ^ 3))\n\ngoal (1 subgoal):\n 1. \\<not> odd d \\<Longrightarrow> False", "with d factors_relprime"], ["proof (chain)\npicking this:\n  q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n  even (gcd (2 * (9 * r)) (d ^ 3))", "show False"], ["proof (prove)\nusing this:\n  q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n  coprime (18 * r) (q\\<^sup>2 + 3 * r\\<^sup>2)\n  even (gcd (2 * (9 * r)) (d ^ 3))\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  odd d\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with d qr_relprime"], ["proof (chain)\npicking this:\n  q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n  coprime q r\n  odd d", "have \"coprime q r \\<and> q^2 + 3*r^2 = d^3 \\<and> odd d\""], ["proof (prove)\nusing this:\n  q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3\n  coprime q r\n  odd d\n\ngoal (1 subgoal):\n 1. coprime q r \\<and> q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3 \\<and> odd d", "by simp"], ["proof (state)\nthis:\n  coprime q r \\<and> q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3 \\<and> odd d\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"is_cube_form q r\""], ["proof (prove)\nusing this:\n  coprime q r \\<and> q\\<^sup>2 + 3 * r\\<^sup>2 = d ^ 3 \\<and> odd d\n\ngoal (1 subgoal):\n 1. is_cube_form q r", "by (rule qf3_cube_impl_cube_form)"], ["proof (state)\nthis:\n  is_cube_form q r\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  is_cube_form q r", "obtain a b where \"q = a^3 - 9*a*b^2 \\<and> r = 3*a^2*b - 3*b^3\""], ["proof (prove)\nusing this:\n  is_cube_form q r\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        q = a ^ 3 - 9 * a * b\\<^sup>2 \\<and>\n        r = 3 * a\\<^sup>2 * b - 3 * b ^ 3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (unfold is_cube_form_def, auto)"], ["proof (state)\nthis:\n  q = a ^ 3 - 9 * a * b\\<^sup>2 \\<and> r = 3 * a\\<^sup>2 * b - 3 * b ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence ab: \"q = a*(a+3*b)*(a- 3*b) \\<and> r = b*(a+b)*(a-b)*3\""], ["proof (prove)\nusing this:\n  q = a ^ 3 - 9 * a * b\\<^sup>2 \\<and> r = 3 * a\\<^sup>2 * b - 3 * b ^ 3\n\ngoal (1 subgoal):\n 1. q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3", "by (simp add: eval_nat_numeral field_simps)"], ["proof (state)\nthis:\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with c"], ["proof (chain)\npicking this:\n  3 * c ^ 3 = 2 * r\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3", "have abc: \"(2*b)*(a+b)*(a-b) = c^3\""], ["proof (prove)\nusing this:\n  3 * c ^ 3 = 2 * r\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n\ngoal (1 subgoal):\n 1. 2 * b * (a + b) * (a - b) = c ^ 3", "by auto"], ["proof (state)\nthis:\n  2 * b * (a + b) * (a - b) = c ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from qr_relprime ab"], ["proof (chain)\npicking this:\n  coprime q r\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3", "have ab_relprime: \"coprime a b\""], ["proof (prove)\nusing this:\n  coprime q r\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n\ngoal (1 subgoal):\n 1. coprime a b", "by (auto intro: coprime_imp_coprime)"], ["proof (state)\nthis:\n  coprime a b\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  coprime a b", "have ab1: \"coprime (2*b) (a+b)\""], ["proof (prove)\nusing this:\n  coprime a b\n\ngoal (1 subgoal):\n 1. coprime (2 * b) (a + b)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "assume h2b: \"h dvd 2*b\" and hab: \"h dvd a+b\""], ["proof (state)\nthis:\n  h dvd 2 * b\n  h dvd a + b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "have \"odd h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. odd h", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. even h \\<Longrightarrow> False", "assume \"even h\""], ["proof (state)\nthis:\n  even h\n\ngoal (1 subgoal):\n 1. even h \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  even h", "have \"even (a + b)\""], ["proof (prove)\nusing this:\n  even h\n\ngoal (1 subgoal):\n 1. even (a + b)", "using hab"], ["proof (prove)\nusing this:\n  even h\n  h dvd a + b\n\ngoal (1 subgoal):\n 1. even (a + b)", "by (rule dvd_trans)"], ["proof (state)\nthis:\n  even (a + b)\n\ngoal (1 subgoal):\n 1. even h \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  even (a + b)", "have \"even (a+3*b)\""], ["proof (prove)\nusing this:\n  even (a + b)\n\ngoal (1 subgoal):\n 1. even (a + 3 * b)", "by simp"], ["proof (state)\nthis:\n  even (a + 3 * b)\n\ngoal (1 subgoal):\n 1. even h \\<Longrightarrow> False", "with ab"], ["proof (chain)\npicking this:\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n  even (a + 3 * b)", "have \"even q\" \"even r\""], ["proof (prove)\nusing this:\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n  even (a + 3 * b)\n\ngoal (1 subgoal):\n 1. even q &&& even r", "by auto"], ["proof (state)\nthis:\n  even q\n  even r\n\ngoal (1 subgoal):\n 1. even h \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  even q\n  even r", "show False"], ["proof (prove)\nusing this:\n  even q\n  even r\n\ngoal (1 subgoal):\n 1. False", "using coprime_common_divisor_int qr_relprime"], ["proof (prove)\nusing this:\n  even q\n  even r\n  \\<lbrakk>coprime ?a ?b; ?x dvd ?a; ?x dvd ?b\\<rbrakk>\n  \\<Longrightarrow> \\<bar>?x\\<bar> = 1\n  coprime q r\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  odd h\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd a\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd b", "with h2b"], ["proof (chain)\npicking this:\n  h dvd 2 * b\n  odd h", "show \"h dvd b\""], ["proof (prove)\nusing this:\n  h dvd 2 * b\n  odd h\n\ngoal (1 subgoal):\n 1. h dvd b", "using coprime_dvd_mult_right_iff [of h 2 b]"], ["proof (prove)\nusing this:\n  h dvd 2 * b\n  odd h\n  coprime h 2 \\<Longrightarrow> (h dvd 2 * b) = (h dvd b)\n\ngoal (1 subgoal):\n 1. h dvd b", "by simp"], ["proof (state)\nthis:\n  h dvd b\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd 2 * b; e dvd a + b\\<rbrakk>\n       \\<Longrightarrow> e dvd a", "with hab"], ["proof (chain)\npicking this:\n  h dvd a + b\n  h dvd b", "show \"h dvd a\""], ["proof (prove)\nusing this:\n  h dvd a + b\n  h dvd b\n\ngoal (1 subgoal):\n 1. h dvd a", "using dvd_diff [of h \"a + b\" b]"], ["proof (prove)\nusing this:\n  h dvd a + b\n  h dvd b\n  \\<lbrakk>h dvd a + b; h dvd b\\<rbrakk> \\<Longrightarrow> h dvd a + b - b\n\ngoal (1 subgoal):\n 1. h dvd a", "by simp"], ["proof (state)\nthis:\n  h dvd a\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (2 * b) (a + b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from ab1"], ["proof (chain)\npicking this:\n  coprime (2 * b) (a + b)", "have ab2: \"coprime (a+b) (a-b)\""], ["proof (prove)\nusing this:\n  coprime (2 * b) (a + b)\n\ngoal (1 subgoal):\n 1. coprime (a + b) (a - b)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "assume hab1: \"h dvd a+b\" and hab2: \"h dvd a-b\""], ["proof (state)\nthis:\n  h dvd a + b\n  h dvd a - b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "then"], ["proof (chain)\npicking this:\n  h dvd a + b\n  h dvd a - b", "show \"h dvd 2*b\""], ["proof (prove)\nusing this:\n  h dvd a + b\n  h dvd a - b\n\ngoal (1 subgoal):\n 1. h dvd 2 * b", "using dvd_diff[of h \"a+b\" \"a-b\"]"], ["proof (prove)\nusing this:\n  h dvd a + b\n  h dvd a - b\n  \\<lbrakk>h dvd a + b; h dvd a - b\\<rbrakk>\n  \\<Longrightarrow> h dvd a + b - (a - b)\n\ngoal (1 subgoal):\n 1. h dvd 2 * b", "by fastforce"], ["proof (state)\nthis:\n  h dvd 2 * b\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a + b; e dvd a - b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "qed"], ["proof (state)\nthis:\n  coprime (a + b) (a - b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from ab1"], ["proof (chain)\npicking this:\n  coprime (2 * b) (a + b)", "have ab3: \"coprime (a-b) (2*b)\""], ["proof (prove)\nusing this:\n  coprime (2 * b) (a + b)\n\ngoal (1 subgoal):\n 1. coprime (a - b) (2 * b)", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "assume hab: \"h dvd a-b\" and h2b: \"h dvd 2*b\""], ["proof (state)\nthis:\n  h dvd a - b\n  h dvd 2 * b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "have \"a-b+2*b = a+b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a - b + 2 * b = a + b", "by simp"], ["proof (state)\nthis:\n  a - b + 2 * b = a + b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b", "then"], ["proof (chain)\npicking this:\n  a - b + 2 * b = a + b", "show \"h dvd a+b\""], ["proof (prove)\nusing this:\n  a - b + 2 * b = a + b\n\ngoal (1 subgoal):\n 1. h dvd a + b", "using hab h2b dvd_add [of h \"a-b\" \"2*b\"]"], ["proof (prove)\nusing this:\n  a - b + 2 * b = a + b\n  h dvd a - b\n  h dvd 2 * b\n  \\<lbrakk>h dvd a - b; h dvd 2 * b\\<rbrakk>\n  \\<Longrightarrow> h dvd a - b + 2 * b\n\ngoal (1 subgoal):\n 1. h dvd a + b", "by presburger"], ["proof (state)\nthis:\n  h dvd a + b\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd a - b; e dvd 2 * b\\<rbrakk>\n       \\<Longrightarrow> e dvd 2 * b", "qed"], ["proof (state)\nthis:\n  coprime (a - b) (2 * b)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  coprime (a - b) (2 * b)", "have [simp]: \"even b \\<longleftrightarrow> odd a\""], ["proof (prove)\nusing this:\n  coprime (a - b) (2 * b)\n\ngoal (1 subgoal):\n 1. even b = odd a", "by simp"], ["proof (state)\nthis:\n  even b = odd a\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"\\<exists> k l m. 2*b = k^3 \\<and> a+b = l^3 \\<and> a-b = m^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>k l m. 2 * b = k ^ 3 \\<and> a + b = l ^ 3 \\<and> a - b = m ^ 3", "using abc ab1 ab2 ab3\n          int_relprime_odd_power_divisors [of 3 \"2 * b\" \"(a + b) * (a - b)\" c]\n          int_relprime_odd_power_divisors [of 3 \"a + b\" \"(2 * b) * (a - b)\" c]\n          int_relprime_odd_power_divisors [of 3 \"a - b\" \"(2 * b) * (a + b)\" c]"], ["proof (prove)\nusing this:\n  2 * b * (a + b) * (a - b) = c ^ 3\n  coprime (2 * b) (a + b)\n  coprime (a + b) (a - b)\n  coprime (a - b) (2 * b)\n  \\<lbrakk>odd 3; 2 * b * ((a + b) * (a - b)) = c ^ 3;\n   coprime (2 * b) ((a + b) * (a - b))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. 2 * b = k ^ 3\n  \\<lbrakk>odd 3; (a + b) * (2 * b * (a - b)) = c ^ 3;\n   coprime (a + b) (2 * b * (a - b))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. a + b = k ^ 3\n  \\<lbrakk>odd 3; (a - b) * (2 * b * (a + b)) = c ^ 3;\n   coprime (a - b) (2 * b * (a + b))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k. a - b = k ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>k l m. 2 * b = k ^ 3 \\<and> a + b = l ^ 3 \\<and> a - b = m ^ 3", "by simp (simp add: ac_simps, simp add: algebra_simps)"], ["proof (state)\nthis:\n  \\<exists>k l m. 2 * b = k ^ 3 \\<and> a + b = l ^ 3 \\<and> a - b = m ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  \\<exists>k l m. 2 * b = k ^ 3 \\<and> a + b = l ^ 3 \\<and> a - b = m ^ 3", "obtain \\<alpha>1 \\<beta> \\<gamma> where a1: \"2*b = \\<gamma>^3 \\<and> a-b = \\<alpha>1^3 \\<and> a+b = \\<beta>^3\""], ["proof (prove)\nusing this:\n  \\<exists>k l m. 2 * b = k ^ 3 \\<and> a + b = l ^ 3 \\<and> a - b = m ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>\\<gamma> \\<alpha>1 \\<beta>.\n        2 * b = \\<gamma> ^ 3 \\<and>\n        a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "then"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3", "obtain \\<alpha> where \"\\<alpha> = -\\<alpha>1\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n\ngoal (1 subgoal):\n 1. (\\<And>\\<alpha>.\n        \\<alpha> = - \\<alpha>1 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto\n      \\<comment> \\<open>show this is a (smaller) solution\\<close>"], ["proof (state)\nthis:\n  \\<alpha> = - \\<alpha>1\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with a1"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> = - \\<alpha>1", "have a2: \"\\<alpha>^3 = b-a\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> = - \\<alpha>1\n\ngoal (1 subgoal):\n 1. \\<alpha> ^ 3 = b - a", "by auto"], ["proof (state)\nthis:\n  \\<alpha> ^ 3 = b - a\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with a1"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> ^ 3 = b - a", "have \"\\<alpha>^3 + \\<beta>^3 = \\<gamma>^3\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> ^ 3 = b - a\n\ngoal (1 subgoal):\n 1. \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3", "by auto"], ["proof (state)\nthis:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"\\<alpha>*\\<beta>*\\<gamma> \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0", "proof (rule ccontr, safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> False; \\<alpha> * \\<beta> * \\<gamma> = 0\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"\\<alpha> * \\<beta> * \\<gamma> = 0\""], ["proof (state)\nthis:\n  \\<alpha> * \\<beta> * \\<gamma> = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> False; \\<alpha> * \\<beta> * \\<gamma> = 0\\<rbrakk>\n    \\<Longrightarrow> False", "with a1 a2 ab"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> ^ 3 = b - a\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n  \\<alpha> * \\<beta> * \\<gamma> = 0", "have \"r=0\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> ^ 3 = b - a\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n  \\<alpha> * \\<beta> * \\<gamma> = 0\n\ngoal (1 subgoal):\n 1. r = 0", "by (auto simp add: power_0_left)"], ["proof (state)\nthis:\n  r = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> False; \\<alpha> * \\<beta> * \\<gamma> = 0\\<rbrakk>\n    \\<Longrightarrow> False", "with r vwpq vwx"], ["proof (chain)\npicking this:\n  p = 3 * r\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  r = 0", "show False"], ["proof (prove)\nusing this:\n  p = 3 * r\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  r = 0\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"even \\<gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even \\<gamma>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. even \\<gamma>", "have \"even (2*b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even (2 * b)", "by simp"], ["proof (state)\nthis:\n  even (2 * b)\n\ngoal (1 subgoal):\n 1. even \\<gamma>", "with a1"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  even (2 * b)", "have \"even (\\<gamma>^3)\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  even (2 * b)\n\ngoal (1 subgoal):\n 1. even (\\<gamma> ^ 3)", "by simp"], ["proof (state)\nthis:\n  even (\\<gamma> ^ 3)\n\ngoal (1 subgoal):\n 1. even \\<gamma>", "thus ?thesis"], ["proof (prove)\nusing this:\n  even (\\<gamma> ^ 3)\n\ngoal (1 subgoal):\n 1. even \\<gamma>", "by simp"], ["proof (state)\nthis:\n  even \\<gamma>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  even \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  even \\<gamma>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"coprime \\<alpha> \\<beta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime \\<alpha> \\<beta>", "using ab2"], ["proof (prove)\nusing this:\n  coprime (a + b) (a - b)\n\ngoal (1 subgoal):\n 1. coprime \\<alpha> \\<beta>", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - b", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - b", "assume ha: \"h dvd \\<alpha>\" and hb: \"h dvd \\<beta>\""], ["proof (state)\nthis:\n  h dvd \\<alpha>\n  h dvd \\<beta>\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - b", "then"], ["proof (chain)\npicking this:\n  h dvd \\<alpha>\n  h dvd \\<beta>", "have \"h dvd \\<alpha> * \\<alpha>^2\" and \"h dvd \\<beta> * \\<beta>^2\""], ["proof (prove)\nusing this:\n  h dvd \\<alpha>\n  h dvd \\<beta>\n\ngoal (1 subgoal):\n 1. h dvd \\<alpha> * \\<alpha>\\<^sup>2 &&& h dvd \\<beta> * \\<beta>\\<^sup>2", "by simp_all"], ["proof (state)\nthis:\n  h dvd \\<alpha> * \\<alpha>\\<^sup>2\n  h dvd \\<beta> * \\<beta>\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - b", "then"], ["proof (chain)\npicking this:\n  h dvd \\<alpha> * \\<alpha>\\<^sup>2\n  h dvd \\<beta> * \\<beta>\\<^sup>2", "have \"h dvd \\<alpha>^Suc 2\" and \"h dvd \\<beta>^Suc 2\""], ["proof (prove)\nusing this:\n  h dvd \\<alpha> * \\<alpha>\\<^sup>2\n  h dvd \\<beta> * \\<beta>\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd \\<alpha> ^ Suc 2 &&& h dvd \\<beta> ^ Suc 2", "by (auto simp only: power_Suc)"], ["proof (state)\nthis:\n  h dvd \\<alpha> ^ Suc 2\n  h dvd \\<beta> ^ Suc 2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - b", "with a1 a2"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> ^ 3 = b - a\n  h dvd \\<alpha> ^ Suc 2\n  h dvd \\<beta> ^ Suc 2", "have \"h dvd b - a\" and \"h dvd a + b\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  \\<alpha> ^ 3 = b - a\n  h dvd \\<alpha> ^ Suc 2\n  h dvd \\<beta> ^ Suc 2\n\ngoal (1 subgoal):\n 1. h dvd b - a &&& h dvd a + b", "by auto"], ["proof (state)\nthis:\n  h dvd b - a\n  h dvd a + b\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a + b\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd \\<alpha>; e dvd \\<beta>\\<rbrakk>\n       \\<Longrightarrow> e dvd a - b", "then"], ["proof (chain)\npicking this:\n  h dvd b - a\n  h dvd a + b", "show \"h dvd a + b\" and \"h dvd a - b\""], ["proof (prove)\nusing this:\n  h dvd b - a\n  h dvd a + b\n\ngoal (1 subgoal):\n 1. h dvd a + b &&& h dvd a - b", "by (simp_all add: dvd_diff_commute)"], ["proof (state)\nthis:\n  h dvd a + b\n  h dvd a - b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime \\<alpha> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  coprime \\<alpha> \\<beta>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"nat\\<bar>\\<gamma>^3\\<bar> < nat\\<bar>x^3\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "let ?A = \"p^2 + 3*q^2\""], ["proof (state)\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "from vwx vwpq"], ["proof (chain)\npicking this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"x^3 = 2*p*?A\""], ["proof (prove)\nusing this:\n  v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n  v * w * x \\<noteq> 0 \\<and> even x \\<and> coprime v w\n  v ^ 3 + w ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "also"], ["proof (state)\nthis:\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with r"], ["proof (chain)\npicking this:\n  p = 3 * r\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"\\<dots> = 6*r*?A\""], ["proof (prove)\nusing this:\n  p = 3 * r\n  x ^ 3 = 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n    6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = 6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "also"], ["proof (state)\nthis:\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = 6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with ab"], ["proof (chain)\npicking this:\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = 6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2)", "have \"\\<dots> = 2*b*(9*(a+b)*(a-b)*?A)\""], ["proof (prove)\nusing this:\n  q = a * (a + 3 * b) * (a - 3 * b) \\<and> r = b * (a + b) * (a - b) * 3\n  2 * p * (p\\<^sup>2 + 3 * q\\<^sup>2) = 6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n    2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "by auto"], ["proof (state)\nthis:\n  6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "also"], ["proof (state)\nthis:\n  6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with a1"], ["proof (chain)\npicking this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "have \"\\<dots> = \\<gamma>^3 *(9*(a+b)*(a-b)*?A)\""], ["proof (prove)\nusing this:\n  2 * b = \\<gamma> ^ 3 \\<and>\n  a - b = \\<alpha>1 ^ 3 \\<and> a + b = \\<beta> ^ 3\n  6 * r * (p\\<^sup>2 + 3 * q\\<^sup>2) =\n  2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. 2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)) =\n    \\<gamma> ^ 3 * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "by auto"], ["proof (state)\nthis:\n  2 * b * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)) =\n  \\<gamma> ^ 3 * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "finally"], ["proof (chain)\npicking this:\n  x ^ 3 =\n  \\<gamma> ^ 3 * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))", "have eq: \"\\<bar>x^3\\<bar> = \\<bar>\\<gamma>^3\\<bar> * \\<bar>9*(a+b)*(a-b)*?A\\<bar>\""], ["proof (prove)\nusing this:\n  x ^ 3 =\n  \\<gamma> ^ 3 * (9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2))\n\ngoal (1 subgoal):\n 1. \\<bar>x ^ 3\\<bar> =\n    \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by (auto simp add: abs_mult)"], ["proof (state)\nthis:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with \\<open>0 < nat\\<bar>x^3\\<bar>\\<close>"], ["proof (chain)\npicking this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "have \"\\<bar>9*(a+b)*(a-b)*?A\\<bar> > 0\""], ["proof (prove)\nusing this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by auto"], ["proof (state)\nthis:\n  0 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"\\<bar>(a+b)*(a-b)*?A\\<bar> \\<ge> 1\""], ["proof (prove)\nusing this:\n  0 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. 1 \\<le> \\<bar>(a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by arith"], ["proof (state)\nthis:\n  1 \\<le> \\<bar>(a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "hence \"\\<bar>9*(a+b)*(a-b)*?A\\<bar> > 1\""], ["proof (prove)\nusing this:\n  1 \\<le> \\<bar>(a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. 1 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by arith"], ["proof (state)\nthis:\n  1 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "moreover"], ["proof (state)\nthis:\n  1 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have \"\\<bar>\\<gamma>^3\\<bar> > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "from eq"], ["proof (chain)\npicking this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "have \"\\<bar>\\<gamma>^3\\<bar> = 0 \\<Longrightarrow> \\<bar>x^3\\<bar>=0\""], ["proof (prove)\nusing this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "with \\<open>0 < nat\\<bar>x^3\\<bar>\\<close>"], ["proof (chain)\npicking this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < nat \\<bar>x ^ 3\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> = 0 \\<Longrightarrow> \\<bar>x ^ 3\\<bar> = 0\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>\\<gamma> ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  1 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>", "have \"\\<bar>\\<gamma>^3\\<bar> * 1 < \\<bar>\\<gamma>^3\\<bar> * \\<bar>9*(a+b)*(a-b)*?A\\<bar>\""], ["proof (prove)\nusing this:\n  1 < \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  0 < \\<bar>\\<gamma> ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<gamma> ^ 3\\<bar> * 1\n    < \\<bar>\\<gamma> ^ 3\\<bar> *\n      \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "by (rule zmult_zless_mono2)"], ["proof (state)\nthis:\n  \\<bar>\\<gamma> ^ 3\\<bar> * 1\n  < \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "with eq"], ["proof (chain)\npicking this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> * 1\n  < \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>", "have \"\\<bar>x^3\\<bar> > \\<bar>\\<gamma>^3\\<bar>\""], ["proof (prove)\nusing this:\n  \\<bar>x ^ 3\\<bar> =\n  \\<bar>\\<gamma> ^ 3\\<bar> *\n  \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n  \\<bar>\\<gamma> ^ 3\\<bar> * 1\n  < \\<bar>\\<gamma> ^ 3\\<bar> *\n    \\<bar>9 * (a + b) * (a - b) * (p\\<^sup>2 + 3 * q\\<^sup>2)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>\\<gamma> ^ 3\\<bar> < \\<bar>x ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<gamma> ^ 3\\<bar> < \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<gamma> ^ 3\\<bar> < \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "by arith"], ["proof (state)\nthis:\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n  even \\<gamma>\n  coprime \\<alpha> \\<beta>\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "have ?thesis"], ["proof (prove)\nusing this:\n  \\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3\n  \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0\n  even \\<gamma>\n  coprime \\<alpha> \\<beta>\n  nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "}"], ["proof (state)\nthis:\n  3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> 3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n  3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<not> 3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n  3 dvd p \\<Longrightarrow>\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<alpha> \\<beta> \\<gamma>.\n       (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n        \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n        even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n       nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < nat \\<bar>x ^ 3\\<bar>;\n        \\<not> (\\<nexists>v w.\n                   v ^ 3 + w ^ 3 = x ^ 3 \\<and>\n                   v * w * x \\<noteq> 0 \\<and>\n                   even x \\<and> coprime v w)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            nat \\<bar>y ^ 3\\<bar>\n                            < nat \\<bar>x ^ 3\\<bar> \\<and>\n                            \\<not> (\\<nexists>v w.\n v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<exists>\\<alpha> \\<beta> \\<gamma>.\n     (\\<alpha> ^ 3 + \\<beta> ^ 3 = \\<gamma> ^ 3 \\<and>\n      \\<alpha> * \\<beta> * \\<gamma> \\<noteq> 0 \\<and>\n      even \\<gamma> \\<and> coprime \\<alpha> \\<beta>) \\<and>\n     nat \\<bar>\\<gamma> ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       nat \\<bar>y ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar> \\<and>\n       \\<not> (\\<nexists>v w.\n                  v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n                  v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)", "by auto"], ["proof (state)\nthis:\n  \\<exists>y.\n     nat \\<bar>y ^ 3\\<bar> < nat \\<bar>x ^ 3\\<bar> \\<and>\n     \\<not> (\\<nexists>v w.\n                v ^ 3 + w ^ 3 = y ^ 3 \\<and>\n                v * w * y \\<noteq> 0 \\<and> even y \\<and> coprime v w)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>The theorem. Puts equation in requested shape.\\<close>"], ["", "theorem fermat_3:\n  assumes ass: \"(x::int)^3 + y^3 = z^3\"\n  shows \"x*y*z=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * y * z = 0", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "let ?g = \"gcd x y\""], ["proof (state)\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "let ?c = \"z div ?g\""], ["proof (state)\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "assume xyz0: \"x*y*z\\<noteq>0\"\n  \\<comment> \\<open>divide out the g.c.d.\\<close>"], ["proof (state)\nthis:\n  x * y * z \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "hence \"x \\<noteq> 0 \\<or> y \\<noteq> 0\""], ["proof (prove)\nusing this:\n  x * y * z \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> 0 \\<or> y \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  x \\<noteq> 0 \\<or> y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  x \\<noteq> 0 \\<or> y \\<noteq> 0", "obtain a b where ab: \"x = ?g*a \\<and> y = ?g*b \\<and> coprime a b\""], ["proof (prove)\nusing this:\n  x \\<noteq> 0 \\<or> y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        x = gcd x y * a \\<and>\n        y = gcd x y * b \\<and> coprime a b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using gcd_coprime_exists[of x y]"], ["proof (prove)\nusing this:\n  x \\<noteq> 0 \\<or> y \\<noteq> 0\n  gcd x y \\<noteq> 0 \\<Longrightarrow>\n  \\<exists>a' b'.\n     x = a' * gcd x y \\<and> y = b' * gcd x y \\<and> coprime a' b'\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        x = gcd x y * a \\<and>\n        y = gcd x y * b \\<and> coprime a b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: mult.commute)"], ["proof (state)\nthis:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "have abc: \"?c*?g = z \\<and> a^3 + b^3 = ?c^3 \\<and> a*b*?c \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "from xyz0"], ["proof (chain)\npicking this:\n  x * y * z \\<noteq> 0", "have g0: \"?g\\<noteq>0\""], ["proof (prove)\nusing this:\n  x * y * z \\<noteq> 0\n\ngoal (1 subgoal):\n 1. gcd x y \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  gcd x y \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "have zgab: \"z^3 = ?g^3 * (a^3+b^3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "from ab and ass"], ["proof (chain)\npicking this:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n  x ^ 3 + y ^ 3 = z ^ 3", "have \"z^3 = (?g*a)^3+(?g*b)^3\""], ["proof (prove)\nusing this:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n  x ^ 3 + y ^ 3 = z ^ 3\n\ngoal (1 subgoal):\n 1. z ^ 3 = (gcd x y * a) ^ 3 + (gcd x y * b) ^ 3", "by simp"], ["proof (state)\nthis:\n  z ^ 3 = (gcd x y * a) ^ 3 + (gcd x y * b) ^ 3\n\ngoal (1 subgoal):\n 1. z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "thus ?thesis"], ["proof (prove)\nusing this:\n  z ^ 3 = (gcd x y * a) ^ 3 + (gcd x y * b) ^ 3\n\ngoal (1 subgoal):\n 1. z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "by (simp only: power_mult_distrib distrib_left)"], ["proof (state)\nthis:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "have cgz: \"?c * ?g = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z", "from zgab"], ["proof (chain)\npicking this:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "have \"?g^3 dvd z^3\""], ["proof (prove)\nusing this:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n\ngoal (1 subgoal):\n 1. gcd x y ^ 3 dvd z ^ 3", "by simp"], ["proof (state)\nthis:\n  gcd x y ^ 3 dvd z ^ 3\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z", "hence \"?g dvd z\""], ["proof (prove)\nusing this:\n  gcd x y ^ 3 dvd z ^ 3\n\ngoal (1 subgoal):\n 1. gcd x y dvd z", "by simp"], ["proof (state)\nthis:\n  gcd x y dvd z\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z", "thus ?thesis"], ["proof (prove)\nusing this:\n  gcd x y dvd z\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z", "by (simp only: ac_simps dvd_mult_div_cancel)"], ["proof (state)\nthis:\n  z div gcd x y * gcd x y = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  z div gcd x y * gcd x y = z\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "moreover"], ["proof (state)\nthis:\n  z div gcd x y * gcd x y = z\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "have \"a^3 + b^3 = ?c^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3", "have \"?c^3 * ?g^3 = (a^3+b^3)*?g^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "have \"?c^3 * ?g^3 = (?c*?g)^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (z div gcd x y * gcd x y) ^ 3", "by (simp only: power_mult_distrib)"], ["proof (state)\nthis:\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (z div gcd x y * gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "also"], ["proof (state)\nthis:\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (z div gcd x y * gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "with cgz"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (z div gcd x y * gcd x y) ^ 3", "have \"\\<dots> = z^3\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (z div gcd x y * gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. (z div gcd x y * gcd x y) ^ 3 = z ^ 3", "by simp"], ["proof (state)\nthis:\n  (z div gcd x y * gcd x y) ^ 3 = z ^ 3\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "also"], ["proof (state)\nthis:\n  (z div gcd x y * gcd x y) ^ 3 = z ^ 3\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "with zgab"], ["proof (chain)\npicking this:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n  (z div gcd x y * gcd x y) ^ 3 = z ^ 3", "have \"\\<dots> = ?g^3*(a^3+b^3)\""], ["proof (prove)\nusing this:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n  (z div gcd x y * gcd x y) ^ 3 = z ^ 3\n\ngoal (1 subgoal):\n 1. z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "by simp"], ["proof (state)\nthis:\n  z ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "finally"], ["proof (chain)\npicking this:\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)", "show ?thesis"], ["proof (prove)\nusing this:\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = gcd x y ^ 3 * (a ^ 3 + b ^ 3)\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "by simp"], ["proof (state)\nthis:\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3\n\ngoal (1 subgoal):\n 1. a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3", "with g0"], ["proof (chain)\npicking this:\n  gcd x y \\<noteq> 0\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3", "show ?thesis"], ["proof (prove)\nusing this:\n  gcd x y \\<noteq> 0\n  (z div gcd x y) ^ 3 * gcd x y ^ 3 = (a ^ 3 + b ^ 3) * gcd x y ^ 3\n\ngoal (1 subgoal):\n 1. a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3", "by auto"], ["proof (state)\nthis:\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "moreover"], ["proof (state)\nthis:\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "from ab and xyz0 and cgz"], ["proof (chain)\npicking this:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n  x * y * z \\<noteq> 0\n  z div gcd x y * gcd x y = z", "have \"a*b*?c\\<noteq>0\""], ["proof (prove)\nusing this:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n  x * y * z \\<noteq> 0\n  z div gcd x y * gcd x y = z\n\ngoal (1 subgoal):\n 1. a * b * (z div gcd x y) \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  a * b * (z div gcd x y) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "ultimately"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3\n  a * b * (z div gcd x y) \\<noteq> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3\n  a * b * (z div gcd x y) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. z div gcd x y * gcd x y = z \\<and>\n    a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n    a * b * (z div gcd x y) \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n\ngoal:\nNo subgoals!", "qed\n  \\<comment> \\<open>make both sides even\\<close>"], ["proof (state)\nthis:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "from ab"], ["proof (chain)\npicking this:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b", "have \"coprime (a ^ 3) (b ^ 3)\""], ["proof (prove)\nusing this:\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n\ngoal (1 subgoal):\n 1. coprime (a ^ 3) (b ^ 3)", "by simp"], ["proof (state)\nthis:\n  coprime (a ^ 3) (b ^ 3)\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "have \"\\<exists> u v w. u^3 + v^3 = w^3 \\<and> u*v*w\\<noteq>(0::int) \\<and> even w \\<and> coprime u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "let \"?Q u v w\" = \"u^3 + v^3 = w^3 \\<and> u*v*w\\<noteq>(0::int) \\<and> even w \\<and> coprime u v\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "have \"even a \\<or> even b \\<or> even ?c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. even a \\<or> even b \\<or> even (z div gcd x y)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "assume \"\\<not>(even a \\<or> even b \\<or> even ?c)\""], ["proof (state)\nthis:\n  \\<not> (even a \\<or> even b \\<or> even (z div gcd x y))\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "hence aodd: \"odd a\" and \"odd b \\<and> odd ?c\""], ["proof (prove)\nusing this:\n  \\<not> (even a \\<or> even b \\<or> even (z div gcd x y))\n\ngoal (1 subgoal):\n 1. odd a &&& odd b \\<and> odd (z div gcd x y)", "by auto"], ["proof (state)\nthis:\n  odd a\n  odd b \\<and> odd (z div gcd x y)\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "hence \"even (?c^3 - b^3)\""], ["proof (prove)\nusing this:\n  odd a\n  odd b \\<and> odd (z div gcd x y)\n\ngoal (1 subgoal):\n 1. even ((z div gcd x y) ^ 3 - b ^ 3)", "by simp"], ["proof (state)\nthis:\n  even ((z div gcd x y) ^ 3 - b ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  even ((z div gcd x y) ^ 3 - b ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "from abc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0", "have \"?c^3-b^3 = a^3\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (z div gcd x y) ^ 3 - b ^ 3 = a ^ 3", "by simp"], ["proof (state)\nthis:\n  (z div gcd x y) ^ 3 - b ^ 3 = a ^ 3\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  even ((z div gcd x y) ^ 3 - b ^ 3)\n  (z div gcd x y) ^ 3 - b ^ 3 = a ^ 3", "have \"even (a^3)\""], ["proof (prove)\nusing this:\n  even ((z div gcd x y) ^ 3 - b ^ 3)\n  (z div gcd x y) ^ 3 - b ^ 3 = a ^ 3\n\ngoal (1 subgoal):\n 1. even (a ^ 3)", "by auto"], ["proof (state)\nthis:\n  even (a ^ 3)\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "hence \"even (a)\""], ["proof (prove)\nusing this:\n  even (a ^ 3)\n\ngoal (1 subgoal):\n 1. even a", "by simp"], ["proof (state)\nthis:\n  even a\n\ngoal (1 subgoal):\n 1. \\<not> (even a \\<or>\n            even b \\<or> even (z div gcd x y)) \\<Longrightarrow>\n    False", "with aodd"], ["proof (chain)\npicking this:\n  odd a\n  even a", "show False"], ["proof (prove)\nusing this:\n  odd a\n  even a\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  even a \\<or> even b \\<or> even (z div gcd x y)\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  even a \\<or> even b \\<or> even (z div gcd x y)\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "{"], ["proof (state)\nthis:\n  even a \\<or> even b \\<or> even (z div gcd x y)\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "assume \"even (a)\""], ["proof (state)\nthis:\n  even a\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "then"], ["proof (chain)\npicking this:\n  even a", "obtain u v w where uvwabc: \"u = -b \\<and> v = ?c \\<and> w = a \\<and> even w\""], ["proof (prove)\nusing this:\n  even a\n\ngoal (1 subgoal):\n 1. (\\<And>u v w.\n        u = - b \\<and>\n        v = z div gcd x y \\<and> w = a \\<and> even w \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "with abc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w", "have \"u*v*w\\<noteq>0\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n\ngoal (1 subgoal):\n 1. u * v * w \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  u * v * w \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  u * v * w \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "have uvw: \"u^3+v^3=w^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "from uvwabc"], ["proof (chain)\npicking this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w", "have \"u^3 + v^3 = (-1*b)^3 + ?c^3\""], ["proof (prove)\nusing this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = (- 1 * b) ^ 3 + (z div gcd x y) ^ 3", "by simp"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = (- 1 * b) ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "also"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = (- 1 * b) ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "have \"\\<dots> = (-1)^3*b^3 + ?c^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1 * b) ^ 3 + (z div gcd x y) ^ 3 =\n    (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3", "by (simp only: power_mult_distrib)"], ["proof (state)\nthis:\n  (- 1 * b) ^ 3 + (z div gcd x y) ^ 3 =\n  (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "also"], ["proof (state)\nthis:\n  (- 1 * b) ^ 3 + (z div gcd x y) ^ 3 =\n  (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "have \"\\<dots> = - (b^3) + ?c^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3 =\n    - (b ^ 3) + (z div gcd x y) ^ 3", "by auto"], ["proof (state)\nthis:\n  (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3 = - (b ^ 3) + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "also"], ["proof (state)\nthis:\n  (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3 = - (b ^ 3) + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "with abc and uvwabc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3 = - (b ^ 3) + (z div gcd x y) ^ 3", "have \"\\<dots> = w^3\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  (- 1) ^ 3 * b ^ 3 + (z div gcd x y) ^ 3 = - (b ^ 3) + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. - (b ^ 3) + (z div gcd x y) ^ 3 = w ^ 3", "by auto"], ["proof (state)\nthis:\n  - (b ^ 3) + (z div gcd x y) ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "finally"], ["proof (chain)\npicking this:\n  u ^ 3 + v ^ 3 = w ^ 3", "show ?thesis"], ["proof (prove)\nusing this:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "by simp"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "have \"coprime u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime u v", "using \\<open>coprime (a ^ 3) (b ^ 3)\\<close>"], ["proof (prove)\nusing this:\n  coprime (a ^ 3) (b ^ 3)\n\ngoal (1 subgoal):\n 1. coprime u v", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "assume hu: \"h dvd u\" and \"h dvd v\""], ["proof (state)\nthis:\n  h dvd u\n  h dvd v\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "with uvwabc"], ["proof (chain)\npicking this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  h dvd u\n  h dvd v", "have \"h dvd ?c*?c^2\""], ["proof (prove)\nusing this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  h dvd u\n  h dvd v\n\ngoal (1 subgoal):\n 1. h dvd z div gcd x y * (z div gcd x y)\\<^sup>2", "by (simp only: dvd_mult2)"], ["proof (state)\nthis:\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "with abc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2", "have \"h dvd a^3+b^3\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3", "using power_Suc[of ?c 2]"], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2\n  (z div gcd x y) ^ Suc 2 = z div gcd x y * (z div gcd x y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3", "by simp"], ["proof (state)\nthis:\n  h dvd a ^ 3 + b ^ 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "moreover"], ["proof (state)\nthis:\n  h dvd a ^ 3 + b ^ 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "from hu uvwabc"], ["proof (chain)\npicking this:\n  h dvd u\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w", "have hb3: \"h dvd b*b^2\""], ["proof (prove)\nusing this:\n  h dvd u\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n\ngoal (1 subgoal):\n 1. h dvd b * b\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  h dvd b * b\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "ultimately"], ["proof (chain)\npicking this:\n  h dvd a ^ 3 + b ^ 3\n  h dvd b * b\\<^sup>2", "have \"h dvd a^3+b^3-b^3\""], ["proof (prove)\nusing this:\n  h dvd a ^ 3 + b ^ 3\n  h dvd b * b\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3 - b ^ 3", "using power_Suc [of b 2] dvd_diff [of h \"a ^ 3 + b ^ 3\" \"b ^ 3\"]"], ["proof (prove)\nusing this:\n  h dvd a ^ 3 + b ^ 3\n  h dvd b * b\\<^sup>2\n  b ^ Suc 2 = b * b\\<^sup>2\n  \\<lbrakk>h dvd a ^ 3 + b ^ 3; h dvd b ^ 3\\<rbrakk>\n  \\<Longrightarrow> h dvd a ^ 3 + b ^ 3 - b ^ 3\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3 - b ^ 3", "by simp"], ["proof (state)\nthis:\n  h dvd a ^ 3 + b ^ 3 - b ^ 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "with hb3"], ["proof (chain)\npicking this:\n  h dvd b * b\\<^sup>2\n  h dvd a ^ 3 + b ^ 3 - b ^ 3", "show \"h dvd a^3\" \"h dvd b^3\""], ["proof (prove)\nusing this:\n  h dvd b * b\\<^sup>2\n  h dvd a ^ 3 + b ^ 3 - b ^ 3\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 &&& h dvd b ^ 3", "using power_Suc[of b 2]"], ["proof (prove)\nusing this:\n  h dvd b * b\\<^sup>2\n  h dvd a ^ 3 + b ^ 3 - b ^ 3\n  b ^ Suc 2 = b * b\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 &&& h dvd b ^ 3", "by auto"], ["proof (state)\nthis:\n  h dvd a ^ 3\n  h dvd b ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "ultimately"], ["proof (chain)\npicking this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  u * v * w \\<noteq> 0\n  u ^ 3 + v ^ 3 = w ^ 3\n  coprime u v", "have \"?Q u v w\""], ["proof (prove)\nusing this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  u * v * w \\<noteq> 0\n  u ^ 3 + v ^ 3 = w ^ 3\n  coprime u v\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n    u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "using \\<open>even a\\<close>"], ["proof (prove)\nusing this:\n  u = - b \\<and> v = z div gcd x y \\<and> w = a \\<and> even w\n  u * v * w \\<noteq> 0\n  u ^ 3 + v ^ 3 = w ^ 3\n  coprime u v\n  even a\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n    u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by simp"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n  u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "hence ?thesis"], ["proof (prove)\nusing this:\n  u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n  u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by auto"], ["proof (state)\nthis:\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "}"], ["proof (state)\nthis:\n  even a \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  even a \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "{"], ["proof (state)\nthis:\n  even a \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "assume \"even b\""], ["proof (state)\nthis:\n  even b\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "then"], ["proof (chain)\npicking this:\n  even b", "obtain u v w where uvwabc: \"u = -a \\<and> v = ?c \\<and> w = b \\<and> even w\""], ["proof (prove)\nusing this:\n  even b\n\ngoal (1 subgoal):\n 1. (\\<And>u v w.\n        u = - a \\<and>\n        v = z div gcd x y \\<and> w = b \\<and> even w \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "with abc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w", "have \"u*v*w\\<noteq>0\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n\ngoal (1 subgoal):\n 1. u * v * w \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  u * v * w \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  u * v * w \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "have uvw: \"u^3+v^3=w^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "from uvwabc"], ["proof (chain)\npicking this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w", "have \"u^3 + v^3 = (-1*a)^3 + ?c^3\""], ["proof (prove)\nusing this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = (- 1 * a) ^ 3 + (z div gcd x y) ^ 3", "by simp"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = (- 1 * a) ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "also"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = (- 1 * a) ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "have \"\\<dots> = (-1)^3*a^3 + ?c^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1 * a) ^ 3 + (z div gcd x y) ^ 3 =\n    (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3", "by (simp only: power_mult_distrib)"], ["proof (state)\nthis:\n  (- 1 * a) ^ 3 + (z div gcd x y) ^ 3 =\n  (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "also"], ["proof (state)\nthis:\n  (- 1 * a) ^ 3 + (z div gcd x y) ^ 3 =\n  (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "have \"\\<dots> = - (a^3) + ?c^3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3 =\n    - (a ^ 3) + (z div gcd x y) ^ 3", "by auto"], ["proof (state)\nthis:\n  (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3 = - (a ^ 3) + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "also"], ["proof (state)\nthis:\n  (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3 = - (a ^ 3) + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "with abc and uvwabc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3 = - (a ^ 3) + (z div gcd x y) ^ 3", "have \"\\<dots> = w^3\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  (- 1) ^ 3 * a ^ 3 + (z div gcd x y) ^ 3 = - (a ^ 3) + (z div gcd x y) ^ 3\n\ngoal (1 subgoal):\n 1. - (a ^ 3) + (z div gcd x y) ^ 3 = w ^ 3", "by auto"], ["proof (state)\nthis:\n  - (a ^ 3) + (z div gcd x y) ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "finally"], ["proof (chain)\npicking this:\n  u ^ 3 + v ^ 3 = w ^ 3", "show ?thesis"], ["proof (prove)\nusing this:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3", "by simp"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "have \"coprime u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime u v", "using \\<open>coprime (a ^ 3) (b ^ 3)\\<close>"], ["proof (prove)\nusing this:\n  coprime (a ^ 3) (b ^ 3)\n\ngoal (1 subgoal):\n 1. coprime u v", "proof (rule coprime_imp_coprime)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "fix h"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "assume hu: \"h dvd u\" and \"h dvd v\""], ["proof (state)\nthis:\n  h dvd u\n  h dvd v\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "with uvwabc"], ["proof (chain)\npicking this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  h dvd u\n  h dvd v", "have \"h dvd ?c*?c^2\""], ["proof (prove)\nusing this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  h dvd u\n  h dvd v\n\ngoal (1 subgoal):\n 1. h dvd z div gcd x y * (z div gcd x y)\\<^sup>2", "by (simp only: dvd_mult2)"], ["proof (state)\nthis:\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "with abc"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2", "have \"h dvd a^3+b^3\""], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3", "using power_Suc[of ?c 2]"], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  h dvd z div gcd x y * (z div gcd x y)\\<^sup>2\n  (z div gcd x y) ^ Suc 2 = z div gcd x y * (z div gcd x y)\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3", "by simp"], ["proof (state)\nthis:\n  h dvd a ^ 3 + b ^ 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "moreover"], ["proof (state)\nthis:\n  h dvd a ^ 3 + b ^ 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "from hu uvwabc"], ["proof (chain)\npicking this:\n  h dvd u\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w", "have hb3: \"h dvd a*a^2\""], ["proof (prove)\nusing this:\n  h dvd u\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n\ngoal (1 subgoal):\n 1. h dvd a * a\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  h dvd a * a\\<^sup>2\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "ultimately"], ["proof (chain)\npicking this:\n  h dvd a ^ 3 + b ^ 3\n  h dvd a * a\\<^sup>2", "have \"h dvd a^3+b^3-a^3\""], ["proof (prove)\nusing this:\n  h dvd a ^ 3 + b ^ 3\n  h dvd a * a\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3 - a ^ 3", "using power_Suc [of a 2] dvd_diff [of h \"a ^ 3 + b ^ 3\" \"a ^ 3\"]"], ["proof (prove)\nusing this:\n  h dvd a ^ 3 + b ^ 3\n  h dvd a * a\\<^sup>2\n  a ^ Suc 2 = a * a\\<^sup>2\n  \\<lbrakk>h dvd a ^ 3 + b ^ 3; h dvd a ^ 3\\<rbrakk>\n  \\<Longrightarrow> h dvd a ^ 3 + b ^ 3 - a ^ 3\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 + b ^ 3 - a ^ 3", "by simp"], ["proof (state)\nthis:\n  h dvd a ^ 3 + b ^ 3 - a ^ 3\n\ngoal (2 subgoals):\n 1. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd a ^ 3\n 2. \\<And>e.\n       \\<lbrakk>\\<not> is_unit e; e dvd u; e dvd v\\<rbrakk>\n       \\<Longrightarrow> e dvd b ^ 3", "with hb3"], ["proof (chain)\npicking this:\n  h dvd a * a\\<^sup>2\n  h dvd a ^ 3 + b ^ 3 - a ^ 3", "show \"h dvd a^3\" and \"h dvd b^3\""], ["proof (prove)\nusing this:\n  h dvd a * a\\<^sup>2\n  h dvd a ^ 3 + b ^ 3 - a ^ 3\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 &&& h dvd b ^ 3", "using power_Suc[of a 2]"], ["proof (prove)\nusing this:\n  h dvd a * a\\<^sup>2\n  h dvd a ^ 3 + b ^ 3 - a ^ 3\n  a ^ Suc 2 = a * a\\<^sup>2\n\ngoal (1 subgoal):\n 1. h dvd a ^ 3 &&& h dvd b ^ 3", "by auto"], ["proof (state)\nthis:\n  h dvd a ^ 3\n  h dvd b ^ 3\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "ultimately"], ["proof (chain)\npicking this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  u * v * w \\<noteq> 0\n  u ^ 3 + v ^ 3 = w ^ 3\n  coprime u v", "have \"?Q u v w\""], ["proof (prove)\nusing this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  u * v * w \\<noteq> 0\n  u ^ 3 + v ^ 3 = w ^ 3\n  coprime u v\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n    u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "using \\<open>even b\\<close>"], ["proof (prove)\nusing this:\n  u = - a \\<and> v = z div gcd x y \\<and> w = b \\<and> even w\n  u * v * w \\<noteq> 0\n  u ^ 3 + v ^ 3 = w ^ 3\n  coprime u v\n  even b\n\ngoal (1 subgoal):\n 1. u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n    u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by simp"], ["proof (state)\nthis:\n  u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n  u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "hence ?thesis"], ["proof (prove)\nusing this:\n  u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n  u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by auto"], ["proof (state)\nthis:\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "}"], ["proof (state)\nthis:\n  even b \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "moreover"], ["proof (state)\nthis:\n  even b \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "{"], ["proof (state)\nthis:\n  even b \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "assume \"even ?c\""], ["proof (state)\nthis:\n  even (z div gcd x y)\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "then"], ["proof (chain)\npicking this:\n  even (z div gcd x y)", "obtain u v w where uvwabc: \"u = a \\<and> v = b \\<and> w = ?c \\<and> even w\""], ["proof (prove)\nusing this:\n  even (z div gcd x y)\n\ngoal (1 subgoal):\n 1. (\\<And>u v w.\n        u = a \\<and>\n        v = b \\<and> w = z div gcd x y \\<and> even w \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  u = a \\<and> v = b \\<and> w = z div gcd x y \\<and> even w\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "with abc ab"], ["proof (chain)\npicking this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n  u = a \\<and> v = b \\<and> w = z div gcd x y \\<and> even w", "have ?thesis"], ["proof (prove)\nusing this:\n  z div gcd x y * gcd x y = z \\<and>\n  a ^ 3 + b ^ 3 = (z div gcd x y) ^ 3 \\<and>\n  a * b * (z div gcd x y) \\<noteq> 0\n  x = gcd x y * a \\<and> y = gcd x y * b \\<and> coprime a b\n  u = a \\<and> v = b \\<and> w = z div gcd x y \\<and> even w\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by auto"], ["proof (state)\nthis:\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "}"], ["proof (state)\nthis:\n  even (z div gcd x y) \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "ultimately"], ["proof (chain)\npicking this:\n  even a \\<or> even b \\<or> even (z div gcd x y)\n  even a \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n  even b \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n  even (z div gcd x y) \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "show ?thesis"], ["proof (prove)\nusing this:\n  even a \\<or> even b \\<or> even (z div gcd x y)\n  even a \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n  even b \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n  even (z div gcd x y) \\<Longrightarrow>\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>u v w.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by auto"], ["proof (state)\nthis:\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "hence \"\\<exists> w. \\<exists> u v. u^3 + v^3 = w^3 \\<and> u*v*w \\<noteq> (0::int) \\<and> even w \\<and> coprime u v\""], ["proof (prove)\nusing this:\n  \\<exists>u v w.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. \\<exists>w u v.\n       u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n       u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v", "by auto\n  \\<comment> \\<open>show contradiction using the earlier result\\<close>"], ["proof (state)\nthis:\n  \\<exists>w u v.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. x * y * z \\<noteq> 0 \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  \\<exists>w u v.\n     u ^ 3 + v ^ 3 = w ^ 3 \\<and>\n     u * v * w \\<noteq> 0 \\<and> even w \\<and> coprime u v\n\ngoal (1 subgoal):\n 1. False", "by (auto simp only: no_rewritten_fermat3)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary fermat_mult3:\n  assumes xyz: \"(x::int)^n + y^n = z^n\" and n: \"3 dvd n\"\n  shows \"x*y*z=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x * y * z = 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x * y * z = 0", "from n"], ["proof (chain)\npicking this:\n  3 dvd n", "obtain m where \"n = m*3\""], ["proof (prove)\nusing this:\n  3 dvd n\n\ngoal (1 subgoal):\n 1. (\\<And>m. n = m * 3 \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by (auto simp only: ac_simps dvd_def)"], ["proof (state)\nthis:\n  n = m * 3\n\ngoal (1 subgoal):\n 1. x * y * z = 0", "with xyz"], ["proof (chain)\npicking this:\n  x ^ n + y ^ n = z ^ n\n  n = m * 3", "have \"(x^m)^3 + (y^m)^3 = (z^m)^3\""], ["proof (prove)\nusing this:\n  x ^ n + y ^ n = z ^ n\n  n = m * 3\n\ngoal (1 subgoal):\n 1. (x ^ m) ^ 3 + (y ^ m) ^ 3 = (z ^ m) ^ 3", "by (simp only: power_mult)"], ["proof (state)\nthis:\n  (x ^ m) ^ 3 + (y ^ m) ^ 3 = (z ^ m) ^ 3\n\ngoal (1 subgoal):\n 1. x * y * z = 0", "hence \"(x^m)*(y^m)*(z^m) = 0\""], ["proof (prove)\nusing this:\n  (x ^ m) ^ 3 + (y ^ m) ^ 3 = (z ^ m) ^ 3\n\ngoal (1 subgoal):\n 1. x ^ m * y ^ m * z ^ m = 0", "by (rule fermat_3)"], ["proof (state)\nthis:\n  x ^ m * y ^ m * z ^ m = 0\n\ngoal (1 subgoal):\n 1. x * y * z = 0", "thus ?thesis"], ["proof (prove)\nusing this:\n  x ^ m * y ^ m * z ^ m = 0\n\ngoal (1 subgoal):\n 1. x * y * z = 0", "by auto"], ["proof (state)\nthis:\n  x * y * z = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}