{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Mixed_Integer_Solutions.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma less_vecD: assumes \"v <\\<^sub>v w\" and \"w \\<in> carrier_vec n\"\n  shows \"i < n \\<Longrightarrow> v $ i < w $ i\"", "lemma less_vecI: assumes \"v \\<in> carrier_vec n\" \"w \\<in> carrier_vec n\"\n  \"\\<And> i. i < n \\<Longrightarrow> v $ i < w $ i\"\nshows \"v <\\<^sub>v w\"", "lemma less_vec_lesseq_vec: \"v <\\<^sub>v (w :: 'a :: preorder vec) \\<Longrightarrow> v \\<le> w\"", "lemma floor_less: \"x \\<notin> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> < x\"", "lemma floor_of_int_eq[simp]: \"x \\<in> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> = x\"", "lemma small_mixed_integer_solution_main: fixes A\\<^sub>1 :: \"'a mat\"\n  assumes A1: \"A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\"\n    and A2: \"A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\"\n    and b1: \"b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\"\n    and b2: \"b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\"\n    and A1Bnd: \"A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b1Bnd: \"b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and A2Bnd: \"A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b2Bnd: \"b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and x: \"x \\<in> carrier_vec n\"\n    and xI: \"x \\<in> indexed_Ints_vec I\"\n    and sol_nonstrict: \"A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\"\n    and sol_strict: \"A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\"\n  shows \"\\<exists> x.\n  x \\<in> carrier_vec n \\<and>\n  x \\<in> indexed_Ints_vec I \\<and>\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n  x \\<in> Bounded_vec (fact (n+1) * (max 1 Bnd)^n)\"", "lemma small_mixed_integer_solution: fixes A\\<^sub>1 :: \"'a mat\"\n  assumes A1: \"A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\"\n    and A2: \"A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\"\n    and b1: \"b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\"\n    and b2: \"b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\"\n    and A1Bnd: \"A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b1Bnd: \"b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and A2Bnd: \"A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b2Bnd: \"b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and x: \"x \\<in> carrier_vec n\"\n    and xI: \"x \\<in> indexed_Ints_vec I\"\n    and sol_nonstrict: \"A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\"\n    and sol_strict: \"A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\"\n    and non_degenerate: \"nr\\<^sub>1 \\<noteq> 0 \\<or> nr\\<^sub>2 \\<noteq> 0 \\<or> Bnd \\<ge> 0\" \n  shows \"\\<exists> x.\n  x \\<in> carrier_vec n \\<and>\n  x \\<in> indexed_Ints_vec I \\<and>\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n  x \\<in> Bounded_vec (fact (n+1) * Bnd^n)\""], "translations": [["", "lemma less_vecD: assumes \"v <\\<^sub>v w\" and \"w \\<in> carrier_vec n\"\n  shows \"i < n \\<Longrightarrow> v $ i < w $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < n \\<Longrightarrow> v $ i < w $ i", "using assms"], ["proof (prove)\nusing this:\n  v <\\<^sub>v w\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. i < n \\<Longrightarrow> v $ i < w $ i", "unfolding less_vec_def"], ["proof (prove)\nusing this:\n  dim_vec v = dim_vec w \\<and> (\\<forall>i<dim_vec w. v $ i < w $ i)\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. i < n \\<Longrightarrow> v $ i < w $ i", "by auto"], ["", "lemma less_vecI: assumes \"v \\<in> carrier_vec n\" \"w \\<in> carrier_vec n\"\n  \"\\<And> i. i < n \\<Longrightarrow> v $ i < w $ i\"\nshows \"v <\\<^sub>v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v <\\<^sub>v w", "using assms"], ["proof (prove)\nusing this:\n  v \\<in> carrier_vec n\n  w \\<in> carrier_vec n\n  ?i < n \\<Longrightarrow> v $ ?i < w $ ?i\n\ngoal (1 subgoal):\n 1. v <\\<^sub>v w", "unfolding less_vec_def"], ["proof (prove)\nusing this:\n  v \\<in> carrier_vec n\n  w \\<in> carrier_vec n\n  ?i < n \\<Longrightarrow> v $ ?i < w $ ?i\n\ngoal (1 subgoal):\n 1. dim_vec v = dim_vec w \\<and> (\\<forall>i<dim_vec w. v $ i < w $ i)", "by auto"], ["", "lemma less_vec_lesseq_vec: \"v <\\<^sub>v (w :: 'a :: preorder vec) \\<Longrightarrow> v \\<le> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v <\\<^sub>v w \\<Longrightarrow> v \\<le> w", "unfolding less_vec_def less_eq_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_vec v = dim_vec w \\<and>\n    (\\<forall>i<dim_vec w. v $ i < w $ i) \\<Longrightarrow>\n    dim_vec v = dim_vec w \\<and> (\\<forall>i<dim_vec w. v $ i \\<le> w $ i)", "by (auto simp: less_le_not_le)"], ["", "lemma floor_less: \"x \\<notin> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> < x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> < x", "using le_less"], ["proof (prove)\nusing this:\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. x \\<notin> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> < x", "by fastforce"], ["", "lemma floor_of_int_eq[simp]: \"x \\<in> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> \\<int> \\<Longrightarrow> of_int \\<lfloor>x\\<rfloor> = x", "by (metis Ints_cases of_int_floor_cancel)"], ["", "locale gram_schmidt_floor = gram_schmidt n f_ty\n  for n :: nat and f_ty :: \"'a :: {floor_ceiling,\n    trivial_conjugatable_linordered_field} itself\"\nbegin"], ["", "lemma small_mixed_integer_solution_main: fixes A\\<^sub>1 :: \"'a mat\"\n  assumes A1: \"A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\"\n    and A2: \"A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\"\n    and b1: \"b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\"\n    and b2: \"b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\"\n    and A1Bnd: \"A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b1Bnd: \"b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and A2Bnd: \"A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b2Bnd: \"b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and x: \"x \\<in> carrier_vec n\"\n    and xI: \"x \\<in> indexed_Ints_vec I\"\n    and sol_nonstrict: \"A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\"\n    and sol_strict: \"A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\"\n  shows \"\\<exists> x.\n  x \\<in> carrier_vec n \\<and>\n  x \\<in> indexed_Ints_vec I \\<and>\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n  x \\<in> Bounded_vec (fact (n+1) * (max 1 Bnd)^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "define B where \"B = det_bound n (max 1 Bnd)\""], ["proof (state)\nthis:\n  B = det_bound n (max (1::'a) Bnd)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "define A where \"A = A\\<^sub>1 @\\<^sub>r A\\<^sub>2\""], ["proof (state)\nthis:\n  A = A\\<^sub>1 @\\<^sub>r A\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "define b where \"b = b\\<^sub>1 @\\<^sub>v b\\<^sub>2\""], ["proof (state)\nthis:\n  b = b\\<^sub>1 @\\<^sub>v b\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "define nr where \"nr = nr\\<^sub>1 + nr\\<^sub>2\""], ["proof (state)\nthis:\n  nr = nr\\<^sub>1 + nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have B0: \"B \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) \\<le> B", "unfolding B_def det_bound_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) \\<le> fact n * max (1::'a) Bnd ^ n", "by auto"], ["proof (state)\nthis:\n  (0::'a) \\<le> B\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "note defs = A_def b_def nr_def"], ["proof (state)\nthis:\n  A = A\\<^sub>1 @\\<^sub>r A\\<^sub>2\n  b = b\\<^sub>1 @\\<^sub>v b\\<^sub>2\n  nr = nr\\<^sub>1 + nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from A1 A2"], ["proof (chain)\npicking this:\n  A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n", "have A: \"A \\<in> carrier_mat nr n\""], ["proof (prove)\nusing this:\n  A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. A \\<in> carrier_mat nr n", "unfolding defs"], ["proof (prove)\nusing this:\n  A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. A\\<^sub>1 @\\<^sub>r A\\<^sub>2\n    \\<in> carrier_mat (nr\\<^sub>1 + nr\\<^sub>2) n", "by auto"], ["proof (state)\nthis:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from b1 b2"], ["proof (chain)\npicking this:\n  b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\n  b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2", "have b: \"b \\<in> carrier_vec nr\""], ["proof (prove)\nusing this:\n  b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\n  b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. b \\<in> carrier_vec nr", "unfolding defs"], ["proof (prove)\nusing this:\n  b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\n  b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. b\\<^sub>1 @\\<^sub>v b\\<^sub>2\n    \\<in> carrier_vec (nr\\<^sub>1 + nr\\<^sub>2)", "by auto"], ["proof (state)\nthis:\n  b \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from A1Bnd A2Bnd A1 A2"], ["proof (chain)\npicking this:\n  A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n", "have ABnd: \"A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\""], ["proof (prove)\nusing this:\n  A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd", "unfolding defs"], ["proof (prove)\nusing this:\n  A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. A\\<^sub>1 @\\<^sub>r A\\<^sub>2\n    \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd", "by (auto simp: Ints_mat_elements_mat Bounded_mat_elements_mat elements_mat_append_rows)"], ["proof (state)\nthis:\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from b1Bnd b2Bnd b1 b2"], ["proof (chain)\npicking this:\n  b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\n  b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2", "have bBnd: \"b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (prove)\nusing this:\n  b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\n  b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "unfolding defs"], ["proof (prove)\nusing this:\n  b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\n  b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. b\\<^sub>1 @\\<^sub>v b\\<^sub>2\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "by (auto simp: Ints_vec_vec_set Bounded_vec_vec_set)"], ["proof (state)\nthis:\n  b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from decomposition_theorem_polyhedra_1[OF A b refl, of Bnd] ABnd bBnd"], ["proof (chain)\npicking this:\n  \\<exists>Q X.\n     X \\<subseteq> carrier_vec n \\<and>\n     finite X \\<and>\n     Q \\<subseteq> carrier_vec n \\<and>\n     finite Q \\<and>\n     polyhedron A b = convex_hull Q + cone X \\<and>\n     (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n      b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow>\n      X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound n (max (1::'a) Bnd)) \\<and>\n      Q \\<subseteq> Bounded_vec (det_bound n (max (1::'a) Bnd)))\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "obtain Y Z where Z: \"Z \\<subseteq> carrier_vec n\"\n    and finX: \"finite Z\"\n    and Y: \"Y \\<subseteq> carrier_vec n\"\n    and finY: \"finite Y\"\n    and poly: \"polyhedron A b = convex_hull Y + cone Z\"\n    and ZBnd: \"Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B\"\n    and YBnd: \"Y \\<subseteq> Bounded_vec B\""], ["proof (prove)\nusing this:\n  \\<exists>Q X.\n     X \\<subseteq> carrier_vec n \\<and>\n     finite X \\<and>\n     Q \\<subseteq> carrier_vec n \\<and>\n     finite Q \\<and>\n     polyhedron A b = convex_hull Q + cone X \\<and>\n     (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n      b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow>\n      X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound n (max (1::'a) Bnd)) \\<and>\n      Q \\<subseteq> Bounded_vec (det_bound n (max (1::'a) Bnd)))\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. (\\<And>Z Y.\n        \\<lbrakk>Z \\<subseteq> carrier_vec n; finite Z;\n         Y \\<subseteq> carrier_vec n; finite Y;\n         polyhedron A b = convex_hull Y + cone Z;\n         Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B;\n         Y \\<subseteq> Bounded_vec B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding B_def"], ["proof (prove)\nusing this:\n  \\<exists>Q X.\n     X \\<subseteq> carrier_vec n \\<and>\n     finite X \\<and>\n     Q \\<subseteq> carrier_vec n \\<and>\n     finite Q \\<and>\n     polyhedron A b = convex_hull Q + cone X \\<and>\n     (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n      b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow>\n      X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound n (max (1::'a) Bnd)) \\<and>\n      Q \\<subseteq> Bounded_vec (det_bound n (max (1::'a) Bnd)))\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. (\\<And>Z Y.\n        \\<lbrakk>Z \\<subseteq> carrier_vec n; finite Z;\n         Y \\<subseteq> carrier_vec n; finite Y;\n         polyhedron A b = convex_hull Y + cone Z;\n         Z \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                       Bounded_vec (det_bound n (max (1::'a) Bnd));\n         Y \\<subseteq> Bounded_vec (det_bound n (max (1::'a) Bnd))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Z \\<subseteq> carrier_vec n\n  finite Z\n  Y \\<subseteq> carrier_vec n\n  finite Y\n  polyhedron A b = convex_hull Y + cone Z\n  Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B\n  Y \\<subseteq> Bounded_vec B\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "let ?P = \"{x \\<in> carrier_vec n. A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and> A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "let ?L = \"?P \\<inter> {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter> indexed_Ints_vec I\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have \"polyhedron A b = {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedron A b = {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b}", "unfolding polyhedron_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b} =\n    {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b}", "by auto"], ["proof (state)\nthis:\n  polyhedron A b = {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b}\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "also"], ["proof (state)\nthis:\n  polyhedron A b = {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b}\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have \"\\<dots> = ?P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b} =\n    {x \\<in> carrier_vec n.\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "unfolding defs"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     (A\\<^sub>1 @\\<^sub>r A\\<^sub>2) *\\<^sub>v x\n     \\<le> b\\<^sub>1 @\\<^sub>v b\\<^sub>2} =\n    {x \\<in> carrier_vec n.\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "by (intro Collect_cong conj_cong refl append_rows_le[OF A1 A2 b1])"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> b} =\n  {x \\<in> carrier_vec n.\n   A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n   A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "finally"], ["proof (chain)\npicking this:\n  polyhedron A b =\n  {x \\<in> carrier_vec n.\n   A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n   A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "have poly: \"?P = convex_hull Y + cone Z\""], ["proof (prove)\nusing this:\n  polyhedron A b =\n  {x \\<in> carrier_vec n.\n   A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n   A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} =\n    convex_hull Y + cone Z", "unfolding poly"], ["proof (prove)\nusing this:\n  convex_hull Y + cone Z =\n  {x \\<in> carrier_vec n.\n   A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n   A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} =\n    convex_hull Y + cone Z", ".."], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n   A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} =\n  convex_hull Y + cone Z\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have \"x \\<in> ?P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> carrier_vec n.\n             A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n             A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "using x sol_nonstrict less_vec_lesseq_vec[OF sol_strict]"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\n  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2\n\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> carrier_vec n.\n             A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n             A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {x \\<in> carrier_vec n.\n           A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n           A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "note sol = this[unfolded poly]"], ["proof (state)\nthis:\n  x \\<in> convex_hull Y + cone Z\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from set_plus_elim[OF sol]"], ["proof (chain)\npicking this:\n  (\\<And>a b.\n      \\<lbrakk>x = a + b; a \\<in> convex_hull Y; b \\<in> cone Z\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y z where xyz: \"x = y + z\" and\n    yY: \"y \\<in> convex_hull Y\" and zZ: \"z \\<in> cone Z\""], ["proof (prove)\nusing this:\n  (\\<And>a b.\n      \\<lbrakk>x = a + b; a \\<in> convex_hull Y; b \\<in> cone Z\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>x = y + z; y \\<in> convex_hull Y; z \\<in> cone Z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = y + z\n  y \\<in> convex_hull Y\n  z \\<in> cone Z\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from convex_hull_carrier[OF Y] yY"], ["proof (chain)\npicking this:\n  convex_hull Y \\<subseteq> carrier_vec n\n  y \\<in> convex_hull Y", "have y: \"y \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  convex_hull Y \\<subseteq> carrier_vec n\n  y \\<in> convex_hull Y\n\ngoal (1 subgoal):\n 1. y \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from Caratheodory_theorem[OF Z] zZ"], ["proof (chain)\npicking this:\n  cone Z = \\<Union> {finite_cone B |B. B \\<subseteq> Z \\<and> lin_indpt B}\n  z \\<in> cone Z", "obtain C where zC: \"z \\<in> finite_cone C\" and CZ: \"C \\<subseteq> Z\" and lin: \"lin_indpt C\""], ["proof (prove)\nusing this:\n  cone Z = \\<Union> {finite_cone B |B. B \\<subseteq> Z \\<and> lin_indpt B}\n  z \\<in> cone Z\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        \\<lbrakk>z \\<in> finite_cone C; C \\<subseteq> Z;\n         lin_indpt C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  z \\<in> finite_cone C\n  C \\<subseteq> Z\n  lin_indpt C\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from subset_trans[OF CZ Z] lin"], ["proof (chain)\npicking this:\n  C \\<subseteq> carrier_vec n\n  lin_indpt C", "have card: \"card C \\<le> n\""], ["proof (prove)\nusing this:\n  C \\<subseteq> carrier_vec n\n  lin_indpt C\n\ngoal (1 subgoal):\n 1. card C \\<le> n", "using dim_is_n li_le_dim(2)"], ["proof (prove)\nusing this:\n  C \\<subseteq> carrier_vec n\n  lin_indpt C\n  local.dim = n\n  \\<lbrakk>fin_dim; ?A \\<subseteq> carrier_vec n; lin_indpt ?A\\<rbrakk>\n  \\<Longrightarrow> card ?A \\<le> local.dim\n\ngoal (1 subgoal):\n 1. card C \\<le> n", "by auto"], ["proof (state)\nthis:\n  card C \\<le> n\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from finite_subset[OF CZ finX]"], ["proof (chain)\npicking this:\n  finite C", "have finC: \"finite C\""], ["proof (prove)\nusing this:\n  finite C\n\ngoal (1 subgoal):\n 1. finite C", "."], ["proof (state)\nthis:\n  finite C\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from zC[unfolded finite_cone_def nonneg_lincomb_def] finC"], ["proof (chain)\npicking this:\n  z \\<in> {b. \\<exists>c.\n                 lincomb c (if finite C then C else {}) = b \\<and>\n                 c ` (if finite C then C else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite C", "obtain a\n    where za: \"z = lincomb a C\" and nonneg: \"\\<And> u. u \\<in> C \\<Longrightarrow> a u \\<ge> 0\""], ["proof (prove)\nusing this:\n  z \\<in> {b. \\<exists>c.\n                 lincomb c (if finite C then C else {}) = b \\<and>\n                 c ` (if finite C then C else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite C\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>z = lincomb a C;\n         \\<And>u. u \\<in> C \\<Longrightarrow> (0::'a) \\<le> a u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  z = lincomb a C\n  ?u4 \\<in> C \\<Longrightarrow> (0::'a) \\<le> a ?u4\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from CZ Z"], ["proof (chain)\npicking this:\n  C \\<subseteq> Z\n  Z \\<subseteq> carrier_vec n", "have C: \"C \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  C \\<subseteq> Z\n  Z \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. C \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have z: \"z \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> carrier_vec n", "using C"], ["proof (prove)\nusing this:\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. z \\<in> carrier_vec n", "unfolding za"], ["proof (prove)\nusing this:\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb a C \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  z \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have yB: \"y \\<in> Bounded_vec B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> Bounded_vec B", "using yY convex_hull_bound[OF YBnd Y]"], ["proof (prove)\nusing this:\n  y \\<in> convex_hull Y\n  convex_hull Y \\<subseteq> Bounded_vec B\n\ngoal (1 subgoal):\n 1. y \\<in> Bounded_vec B", "by auto"], ["proof (state)\nthis:\n  y \\<in> Bounded_vec B\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "{"], ["proof (state)\nthis:\n  y \\<in> Bounded_vec B\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "fix D"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "assume DC: \"D \\<subseteq> C\""], ["proof (state)\nthis:\n  D \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from finite_subset[OF this finC]"], ["proof (chain)\npicking this:\n  finite D", "have \"finite D\""], ["proof (prove)\nusing this:\n  finite D\n\ngoal (1 subgoal):\n 1. finite D", "."], ["proof (state)\nthis:\n  finite D\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "hence \"\\<exists> a. y + lincomb a C \\<in> ?L \\<and> (\\<forall> c \\<in> C. a c \\<ge> 0) \\<and> (\\<forall> c \\<in> D. a c \\<le> 1)\""], ["proof (prove)\nusing this:\n  finite D\n\ngoal (1 subgoal):\n 1. \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>D. a c \\<le> (1::'a))", "using DC"], ["proof (prove)\nusing this:\n  finite D\n  D \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>D. a c \\<le> (1::'a))", "proof (induct D)"], ["proof (state)\ngoal (2 subgoals):\n 1. {} \\<subseteq> C \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>{}. a c \\<le> (1::'a))\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "case empty"], ["proof (state)\nthis:\n  {} \\<subseteq> C\n\ngoal (2 subgoals):\n 1. {} \\<subseteq> C \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>{}. a c \\<le> (1::'a))\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>{}. a c \\<le> (1::'a))", "by (intro exI[of _ a], fold za xyz, insert sol_strict x xI nonneg \\<open>x \\<in> ?P\\<close>, auto)"], ["proof (state)\nthis:\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>{}. a c \\<le> (1::'a))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "case (insert c D)"], ["proof (state)\nthis:\n  finite D\n  c \\<notin> D\n  D \\<subseteq> C \\<Longrightarrow>\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>D. a c \\<le> (1::'a))\n  insert c D \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "then"], ["proof (chain)\npicking this:\n  finite D\n  c \\<notin> D\n  D \\<subseteq> C \\<Longrightarrow>\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>D. a c \\<le> (1::'a))\n  insert c D \\<subseteq> C", "obtain a where sol: \"y + lincomb a C \\<in> ?L\"\n        and a: \"(\\<forall> c \\<in> C. a c \\<ge> 0)\" and D: \"(\\<forall> c \\<in> D. a c \\<le> 1)\""], ["proof (prove)\nusing this:\n  finite D\n  c \\<notin> D\n  D \\<subseteq> C \\<Longrightarrow>\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>D. a c \\<le> (1::'a))\n  insert c D \\<subseteq> C\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>y + lincomb a C\n                 \\<in> {x \\<in> carrier_vec n.\n                        A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                        A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                       {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\n                           b\\<^sub>2} \\<inter>\n                       indexed_Ints_vec I;\n         \\<forall>c\\<in>C. (0::'a) \\<le> a c;\n         \\<forall>c\\<in>D. a c \\<le> (1::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I\n  \\<forall>c\\<in>C. (0::'a) \\<le> a c\n  \\<forall>c\\<in>D. a c \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "from insert(4) C"], ["proof (chain)\npicking this:\n  insert c D \\<subseteq> C\n  C \\<subseteq> carrier_vec n", "have c: \"c \\<in> carrier_vec n\" and cC: \"c \\<in> C\""], ["proof (prove)\nusing this:\n  insert c D \\<subseteq> C\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. c \\<in> carrier_vec n &&& c \\<in> C", "by auto"], ["proof (state)\nthis:\n  c \\<in> carrier_vec n\n  c \\<in> C\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        F \\<subseteq> C \\<Longrightarrow>\n        \\<exists>a.\n           y + lincomb a C\n           \\<in> {x \\<in> carrier_vec n.\n                  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                  A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                 {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n                 indexed_Ints_vec I \\<and>\n           (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n           (\\<forall>c\\<in>F. a c \\<le> (1::'a));\n        insert x F \\<subseteq> C\\<rbrakk>\n       \\<Longrightarrow> \\<exists>a.\n                            y + lincomb a C\n                            \\<in> {x \\<in> carrier_vec n.\n                                   A\\<^sub>1 *\\<^sub>v x\n                                   \\<le> b\\<^sub>1 \\<and>\n                                   A\\<^sub>2 *\\<^sub>v x\n                                   \\<le> b\\<^sub>2} \\<inter>\n                                  {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\nb\\<^sub>2} \\<inter>\n                                  indexed_Ints_vec I \\<and>\n                            (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n                            (\\<forall>c\\<in>insert x F. a c \\<le> (1::'a))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "proof (cases \"a c > 1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))\n 2. \\<not> (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "case False"], ["proof (state)\nthis:\n  \\<not> (1::'a) < a c\n\ngoal (2 subgoals):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))\n 2. \\<not> (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<not> (1::'a) < a c\n\ngoal (1 subgoal):\n 1. \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "by (intro exI[of _ a], insert sol a D, auto)"], ["proof (state)\nthis:\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "case True"], ["proof (state)\nthis:\n  (1::'a) < a c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "(* this is the core reasoning step where a\\<^sub>c is large *)"], ["proof (state)\nthis:\n  (1::'a) < a c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "let ?z = \"\\<lambda> d. lincomb a C - d \\<cdot>\\<^sub>v c\""], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "let ?x = \"\\<lambda> d. y + ?z d\""], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "fix d"], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have lin: \"lincomb a (C - {c}) \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb a (C - {c}) \\<in> carrier_vec n", "using C"], ["proof (prove)\nusing this:\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb a (C - {c}) \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  lincomb a (C - {c}) \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have id: \"?z d = lincomb (\\<lambda> e. if e = c then (a c - d) else a e) C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c =\n    lincomb (\\<lambda>e. if e = c then a c - d else a e) C", "unfolding lincomb_del2[OF finC C TrueI cC]"], ["proof (prove)\ngoal (1 subgoal):\n 1. a c \\<cdot>\\<^sub>v c + lincomb a (C - {c}) - d \\<cdot>\\<^sub>v c =\n    (if c = c then a c - d else a c) \\<cdot>\\<^sub>v c +\n    lincomb (\\<lambda>e. if e = c then a c - d else a e) (C - {c})", "by (subst (2) lincomb_cong[OF refl, of _ _ a], insert C c lin, auto simp: diff_smult_distrib_vec)"], ["proof (state)\nthis:\n  lincomb a C - d \\<cdot>\\<^sub>v c =\n  lincomb (\\<lambda>e. if e = c then a c - d else a e) C\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "{"], ["proof (state)\nthis:\n  lincomb a C - d \\<cdot>\\<^sub>v c =\n  lincomb (\\<lambda>e. if e = c then a c - d else a e) C\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "assume le: \"d \\<le> a c\""], ["proof (state)\nthis:\n  d \\<le> a c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have \"?z d \\<in> finite_cone C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C", "have \"\\<forall>f\\<in>C. 0 \\<le> (\\<lambda>e. if e = c then a c - d else a e) f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)", "using le a finC"], ["proof (prove)\nusing this:\n  d \\<le> a c\n  \\<forall>c\\<in>C. (0::'a) \\<le> a c\n  finite C\n\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)", "by simp"], ["proof (state)\nthis:\n  \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)\n\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C", "then"], ["proof (chain)\npicking this:\n  \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)\n\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C", "unfolding id"], ["proof (prove)\nusing this:\n  \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>e. if e = c then a c - d else a e) C\n    \\<in> finite_cone C", "using le a finC"], ["proof (prove)\nusing this:\n  \\<forall>f\\<in>C. (0::'a) \\<le> (if f = c then a c - d else a f)\n  d \\<le> a c\n  \\<forall>c\\<in>C. (0::'a) \\<le> a c\n  finite C\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>e. if e = c then a c - d else a e) C\n    \\<in> finite_cone C", "by (simp add: C lincomb_in_finite_cone)"], ["proof (state)\nthis:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "hence \"?z d \\<in> cone Z\""], ["proof (prove)\nusing this:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C\n\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> cone Z", "using CZ"], ["proof (prove)\nusing this:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C\n  C \\<subseteq> Z\n\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> cone Z", "using finC local.cone_def"], ["proof (prove)\nusing this:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> finite_cone C\n  C \\<subseteq> Z\n  finite C\n  cone ?Vs =\n  {x. \\<exists>Ws.\n         finite Ws \\<and> Ws \\<subseteq> ?Vs \\<and> x \\<in> finite_cone Ws}\n\ngoal (1 subgoal):\n 1. lincomb a C - d \\<cdot>\\<^sub>v c \\<in> cone Z", "by blast"], ["proof (state)\nthis:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> cone Z\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "hence \"?x d \\<in> ?P\""], ["proof (prove)\nusing this:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> cone Z\n\ngoal (1 subgoal):\n 1. y + (lincomb a C - d \\<cdot>\\<^sub>v c)\n    \\<in> {x \\<in> carrier_vec n.\n           A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n           A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "unfolding poly"], ["proof (prove)\nusing this:\n  lincomb a C - d \\<cdot>\\<^sub>v c \\<in> cone Z\n\ngoal (1 subgoal):\n 1. y + (lincomb a C - d \\<cdot>\\<^sub>v c) \\<in> convex_hull Y + cone Z", "by (intro set_plus_intro[OF yY], auto)"], ["proof (state)\nthis:\n  y + (lincomb a C - d \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "}"], ["proof (state)\nthis:\n  d \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - d \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "note sol = this"], ["proof (state)\nthis:\n  d \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - d \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "{"], ["proof (state)\nthis:\n  d \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - d \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "fix w :: \"'a vec\""], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "assume w: \"w \\<in> carrier_vec n\""], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have \"w \\<bullet> (?x d) = w \\<bullet> y + w \\<bullet> lincomb a C - d * (w \\<bullet> c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<bullet> (y + (lincomb a C - d \\<cdot>\\<^sub>v c)) =\n    w \\<bullet> y + w \\<bullet> lincomb a C - d * (w \\<bullet> c)", "by (subst scalar_prod_add_distrib[OF w y], (insert C c, force),\n                  subst scalar_prod_minus_distrib[OF w], insert w c C, auto)"], ["proof (state)\nthis:\n  w \\<bullet> (y + (lincomb a C - d \\<cdot>\\<^sub>v c)) =\n  w \\<bullet> y + w \\<bullet> lincomb a C - d * (w \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "}"], ["proof (state)\nthis:\n  ?w6 \\<in> carrier_vec n \\<Longrightarrow>\n  ?w6 \\<bullet> (y + (lincomb a C - d \\<cdot>\\<^sub>v c)) =\n  ?w6 \\<bullet> y + ?w6 \\<bullet> lincomb a C - d * (?w6 \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "note scalar = this"], ["proof (state)\nthis:\n  ?w6 \\<in> carrier_vec n \\<Longrightarrow>\n  ?w6 \\<bullet> (y + (lincomb a C - d \\<cdot>\\<^sub>v c)) =\n  ?w6 \\<bullet> y + ?w6 \\<bullet> lincomb a C - d * (?w6 \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "note id sol scalar"], ["proof (state)\nthis:\n  lincomb a C - d \\<cdot>\\<^sub>v c =\n  lincomb (\\<lambda>e. if e = c then a c - d else a e) C\n  d \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - d \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n  ?w6 \\<in> carrier_vec n \\<Longrightarrow>\n  ?w6 \\<bullet> (y + (lincomb a C - d \\<cdot>\\<^sub>v c)) =\n  ?w6 \\<bullet> y + ?w6 \\<bullet> lincomb a C - d * (?w6 \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "}"], ["proof (state)\nthis:\n  lincomb a C - ?d9 \\<cdot>\\<^sub>v c =\n  lincomb (\\<lambda>e. if e = c then a c - ?d9 else a e) C\n  ?d9 \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - ?d9 \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n  ?w6 \\<in> carrier_vec n \\<Longrightarrow>\n  ?w6 \\<bullet> (y + (lincomb a C - ?d9 \\<cdot>\\<^sub>v c)) =\n  ?w6 \\<bullet> y + ?w6 \\<bullet> lincomb a C - ?d9 * (?w6 \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "note generic = this"], ["proof (state)\nthis:\n  lincomb a C - ?d9 \\<cdot>\\<^sub>v c =\n  lincomb (\\<lambda>e. if e = c then a c - ?d9 else a e) C\n  ?d9 \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - ?d9 \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n  ?w6 \\<in> carrier_vec n \\<Longrightarrow>\n  ?w6 \\<bullet> (y + (lincomb a C - ?d9 \\<cdot>\\<^sub>v c)) =\n  ?w6 \\<bullet> y + ?w6 \\<bullet> lincomb a C - ?d9 * (?w6 \\<bullet> c)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "let ?fl = \"(of_int (floor (a c)) :: 'a)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "define p where \"p = (if ?fl  = a c then a c - 1 else ?fl)\""], ["proof (state)\nthis:\n  p =\n  (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n   else of_int \\<lfloor>a c\\<rfloor>)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have p_lt_ac: \"p < a c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p < a c", "unfolding p_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n     else of_int \\<lfloor>a c\\<rfloor>)\n    < a c", "using floor_less floor_of_int_eq"], ["proof (prove)\nusing this:\n  ?x \\<notin> \\<int> \\<Longrightarrow> of_int \\<lfloor>?x\\<rfloor> < ?x\n  ?x \\<in> \\<int> \\<Longrightarrow> of_int \\<lfloor>?x\\<rfloor> = ?x\n\ngoal (1 subgoal):\n 1. (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n     else of_int \\<lfloor>a c\\<rfloor>)\n    < a c", "by auto"], ["proof (state)\nthis:\n  p < a c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have p1_ge_ac: \"p + 1 \\<ge> a c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a c \\<le> p + (1::'a)", "unfolding p_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a c\n    \\<le> (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n           else of_int \\<lfloor>a c\\<rfloor>) +\n          (1::'a)", "using floor_correct le_less"], ["proof (prove)\nusing this:\n  of_int \\<lfloor>?x\\<rfloor> \\<le> ?x \\<and>\n  ?x < of_int (\\<lfloor>?x\\<rfloor> + 1)\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. a c\n    \\<le> (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n           else of_int \\<lfloor>a c\\<rfloor>) +\n          (1::'a)", "by auto"], ["proof (state)\nthis:\n  a c \\<le> p + (1::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have p1: \"p \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> p", "using True"], ["proof (prove)\nusing this:\n  (1::'a) < a c\n\ngoal (1 subgoal):\n 1. (1::'a) \\<le> p", "unfolding p_def"], ["proof (prove)\nusing this:\n  (1::'a) < a c\n\ngoal (1 subgoal):\n 1. (1::'a)\n    \\<le> (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n           else of_int \\<lfloor>a c\\<rfloor>)", "by auto"], ["proof (state)\nthis:\n  (1::'a) \\<le> p\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "define a' where \"a' = (\\<lambda>e. if e = c then a c - p else a e)\""], ["proof (state)\nthis:\n  a' = (\\<lambda>e. if e = c then a c - p else a e)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have lin_id: \"lincomb a' C = lincomb a C - p \\<cdot>\\<^sub>v c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb a' C = lincomb a C - p \\<cdot>\\<^sub>v c", "unfolding a'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>e. if e = c then a c - p else a e) C =\n    lincomb a C - p \\<cdot>\\<^sub>v c", "using id"], ["proof (prove)\nusing this:\n  swapidseq 0 id\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>e. if e = c then a c - p else a e) C =\n    lincomb a C - p \\<cdot>\\<^sub>v c", "by (simp add: generic(1))"], ["proof (state)\nthis:\n  lincomb a' C = lincomb a C - p \\<cdot>\\<^sub>v c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "hence 1: \"y + lincomb a' C \\<in> {x \\<in> carrier_vec n. A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and> A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\""], ["proof (prove)\nusing this:\n  lincomb a' C = lincomb a C - p \\<cdot>\\<^sub>v c\n\ngoal (1 subgoal):\n 1. y + lincomb a' C\n    \\<in> {x \\<in> carrier_vec n.\n           A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n           A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "using p_lt_ac generic(2)[of p]"], ["proof (prove)\nusing this:\n  lincomb a' C = lincomb a C - p \\<cdot>\\<^sub>v c\n  p < a c\n  p \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - p \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. y + lincomb a' C\n    \\<in> {x \\<in> carrier_vec n.\n           A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n           A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}", "by auto"], ["proof (state)\nthis:\n  y + lincomb a' C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have pInt: \"p \\<in> \\<int>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<in> \\<int>", "unfolding p_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n     else of_int \\<lfloor>a c\\<rfloor>)\n    \\<in> \\<int>", "using sol"], ["proof (prove)\nusing this:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n     else of_int \\<lfloor>a c\\<rfloor>)\n    \\<in> \\<int>", "by auto"], ["proof (state)\nthis:\n  p \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have \"C \\<subseteq> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C \\<subseteq> indexed_Ints_vec I", "using CZ ZBnd"], ["proof (prove)\nusing this:\n  C \\<subseteq> Z\n  Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B\n\ngoal (1 subgoal):\n 1. C \\<subseteq> indexed_Ints_vec I", "using indexed_Ints_vec_subset"], ["proof (prove)\nusing this:\n  C \\<subseteq> Z\n  Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B\n  \\<int>\\<^sub>v \\<subseteq> indexed_Ints_vec ?I\n\ngoal (1 subgoal):\n 1. C \\<subseteq> indexed_Ints_vec I", "by force"], ["proof (state)\nthis:\n  C \\<subseteq> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "hence \"c \\<in> indexed_Ints_vec I\""], ["proof (prove)\nusing this:\n  C \\<subseteq> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. c \\<in> indexed_Ints_vec I", "using cC"], ["proof (prove)\nusing this:\n  C \\<subseteq> indexed_Ints_vec I\n  c \\<in> C\n\ngoal (1 subgoal):\n 1. c \\<in> indexed_Ints_vec I", "by auto"], ["proof (state)\nthis:\n  c \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "hence pvindInts: \"p \\<cdot>\\<^sub>v c \\<in> indexed_Ints_vec I\""], ["proof (prove)\nusing this:\n  c \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. p \\<cdot>\\<^sub>v c \\<in> indexed_Ints_vec I", "unfolding indexed_Ints_vec_def"], ["proof (prove)\nusing this:\n  c \\<in> {x. \\<forall>i<dim_vec x.\n                 i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}\n\ngoal (1 subgoal):\n 1. p \\<cdot>\\<^sub>v c\n    \\<in> {x. \\<forall>i<dim_vec x.\n                 i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}", "using pInt"], ["proof (prove)\nusing this:\n  c \\<in> {x. \\<forall>i<dim_vec x.\n                 i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}\n  p \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. p \\<cdot>\\<^sub>v c\n    \\<in> {x. \\<forall>i<dim_vec x.\n                 i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}", "by simp"], ["proof (state)\nthis:\n  p \\<cdot>\\<^sub>v c \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have prod: \"A\\<^sub>2 *\\<^sub>v (?x b) \\<in> carrier_vec nr\\<^sub>2\" for b"], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - b \\<cdot>\\<^sub>v c))\n    \\<in> carrier_vec nr\\<^sub>2", "using A2 C c y"], ["proof (prove)\nusing this:\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n  C \\<subseteq> carrier_vec n\n  c \\<in> carrier_vec n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - b \\<cdot>\\<^sub>v c))\n    \\<in> carrier_vec nr\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - ?b4 \\<cdot>\\<^sub>v c))\n  \\<in> carrier_vec nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have 2: \"y + lincomb a' C \\<in> {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y + lincomb a' C \\<in> {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2}", "unfolding lin_id"], ["proof (prove)\ngoal (1 subgoal):\n 1. y + (lincomb a C - p \\<cdot>\\<^sub>v c)\n    \\<in> {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2}", "proof (intro less_vecI[OF prod b2] CollectI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "assume i: \"i < nr\\<^sub>2\""], ["proof (state)\nthis:\n  i < nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "from sol"], ["proof (chain)\npicking this:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I", "have \"A\\<^sub>2 *\\<^sub>v (?x 0) <\\<^sub>v b\\<^sub>2\""], ["proof (prove)\nusing this:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 *\\<^sub>v\n    (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c)) <\\<^sub>v\n    b\\<^sub>2", "using y C c"], ["proof (prove)\nusing this:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I\n  y \\<in> carrier_vec n\n  C \\<subseteq> carrier_vec n\n  c \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 *\\<^sub>v\n    (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c)) <\\<^sub>v\n    b\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>2 *\\<^sub>v\n  (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c)) <\\<^sub>v\n  b\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "from less_vecD[OF this b2 i]"], ["proof (chain)\npicking this:\n  (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))) $ i\n  < b\\<^sub>2 $ i", "have lt: \"row A\\<^sub>2 i \\<bullet> ?x 0 < b\\<^sub>2 $ i\""], ["proof (prove)\nusing this:\n  (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))) $ i\n  < b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet>\n    (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "using A2 i"], ["proof (prove)\nusing this:\n  (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))) $ i\n  < b\\<^sub>2 $ i\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n  i < nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet>\n    (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "by auto"], ["proof (state)\nthis:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))\n  < b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "from generic(2)[of \"a c\"] i A2"], ["proof (chain)\npicking this:\n  a c \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - a c \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n  i < nr\\<^sub>2\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n", "have le: \"row A\\<^sub>2 i \\<bullet> ?x (a c) \\<le> b\\<^sub>2 $ i\""], ["proof (prove)\nusing this:\n  a c \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - a c \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2}\n  i < nr\\<^sub>2\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - a c \\<cdot>\\<^sub>v c))\n    \\<le> b\\<^sub>2 $ i", "unfolding less_eq_vec_def"], ["proof (prove)\nusing this:\n  a c \\<le> a c \\<Longrightarrow>\n  y + (lincomb a C - a c \\<cdot>\\<^sub>v c)\n  \\<in> {x \\<in> carrier_vec n.\n         (dim_vec (A\\<^sub>1 *\\<^sub>v x) = dim_vec b\\<^sub>1 \\<and>\n          (\\<forall>i<dim_vec b\\<^sub>1.\n              (A\\<^sub>1 *\\<^sub>v x) $ i \\<le> b\\<^sub>1 $ i)) \\<and>\n         dim_vec (A\\<^sub>2 *\\<^sub>v x) = dim_vec b\\<^sub>2 \\<and>\n         (\\<forall>i<dim_vec b\\<^sub>2.\n             (A\\<^sub>2 *\\<^sub>v x) $ i \\<le> b\\<^sub>2 $ i)}\n  i < nr\\<^sub>2\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - a c \\<cdot>\\<^sub>v c))\n    \\<le> b\\<^sub>2 $ i", "by auto"], ["proof (state)\nthis:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - a c \\<cdot>\\<^sub>v c))\n  \\<le> b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "from A2 i"], ["proof (chain)\npicking this:\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n  i < nr\\<^sub>2", "have A2icarr: \"row A\\<^sub>2 i \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n  i < nr\\<^sub>2\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  row A\\<^sub>2 i \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "have \"row A\\<^sub>2 i \\<bullet> ?x p < b\\<^sub>2 $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "define lhs where \"lhs = row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C - b\\<^sub>2 $ i\""], ["proof (state)\nthis:\n  lhs =\n  row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n  b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "define mult where \"mult = row A\\<^sub>2 i \\<bullet> c\""], ["proof (state)\nthis:\n  mult = row A\\<^sub>2 i \\<bullet> c\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "have le2: \"lhs \\<le> a c * mult\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lhs \\<le> a c * mult", "using le"], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - a c \\<cdot>\\<^sub>v c))\n  \\<le> b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. lhs \\<le> a c * mult", "unfolding generic(3)[OF A2icarr] lhs_def mult_def"], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n  a c * (row A\\<^sub>2 i \\<bullet> c)\n  \\<le> b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n    b\\<^sub>2 $ i\n    \\<le> a c * (row A\\<^sub>2 i \\<bullet> c)", "by auto"], ["proof (state)\nthis:\n  lhs \\<le> a c * mult\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "have lt2: \"lhs < 0 * mult\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lhs < (0::'a) * mult", "using lt"], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - (0::'a) \\<cdot>\\<^sub>v c))\n  < b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. lhs < (0::'a) * mult", "unfolding generic(3)[OF A2icarr] lhs_def"], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n  (0::'a) * (row A\\<^sub>2 i \\<bullet> c)\n  < b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n    b\\<^sub>2 $ i\n    < (0::'a) * mult", "by auto"], ["proof (state)\nthis:\n  lhs < (0::'a) * mult\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "from le2 lt2"], ["proof (chain)\npicking this:\n  lhs \\<le> a c * mult\n  lhs < (0::'a) * mult", "have \"lhs < p * mult\""], ["proof (prove)\nusing this:\n  lhs \\<le> a c * mult\n  lhs < (0::'a) * mult\n\ngoal (1 subgoal):\n 1. lhs < p * mult", "using p_lt_ac p1 True"], ["proof (prove)\nusing this:\n  lhs \\<le> a c * mult\n  lhs < (0::'a) * mult\n  p < a c\n  (1::'a) \\<le> p\n  (1::'a) < a c\n\ngoal (1 subgoal):\n 1. lhs < p * mult", "by (smt dual_order.strict_trans linorder_neqE_linordered_idom\n                  mult_less_cancel_right not_less zero_less_one_class.zero_less_one)"], ["proof (state)\nthis:\n  lhs < p * mult\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "then"], ["proof (chain)\npicking this:\n  lhs < p * mult", "show ?thesis"], ["proof (prove)\nusing this:\n  lhs < p * mult\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n    < b\\<^sub>2 $ i", "unfolding generic(3)[OF A2icarr] lhs_def mult_def"], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n  b\\<^sub>2 $ i\n  < p * (row A\\<^sub>2 i \\<bullet> c)\n\ngoal (1 subgoal):\n 1. row A\\<^sub>2 i \\<bullet> y + row A\\<^sub>2 i \\<bullet> lincomb a C -\n    p * (row A\\<^sub>2 i \\<bullet> c)\n    < b\\<^sub>2 $ i", "by auto"], ["proof (state)\nthis:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n  < b\\<^sub>2 $ i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n  < b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr\\<^sub>2 \\<Longrightarrow>\n       (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n       < b\\<^sub>2 $ i", "thus \"(A\\<^sub>2 *\\<^sub>v ?x p) $ i < b\\<^sub>2 $ i\""], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n  < b\\<^sub>2 $ i\n\ngoal (1 subgoal):\n 1. (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n    < b\\<^sub>2 $ i", "using i A2"], ["proof (prove)\nusing this:\n  row A\\<^sub>2 i \\<bullet> (y + (lincomb a C - p \\<cdot>\\<^sub>v c))\n  < b\\<^sub>2 $ i\n  i < nr\\<^sub>2\n  A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\n\ngoal (1 subgoal):\n 1. (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n    < b\\<^sub>2 $ i", "by auto"], ["proof (state)\nthis:\n  (A\\<^sub>2 *\\<^sub>v (y + (lincomb a C - p \\<cdot>\\<^sub>v c))) $ i\n  < b\\<^sub>2 $ i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y + lincomb a' C \\<in> {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2}\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have \"y + lincomb a' C = y + lincomb a C - p \\<cdot>\\<^sub>v c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y + lincomb a' C = y + lincomb a C - p \\<cdot>\\<^sub>v c", "by (subst lin_id, insert y C c, auto simp: add_diff_eq_vec)"], ["proof (state)\nthis:\n  y + lincomb a' C = y + lincomb a C - p \\<cdot>\\<^sub>v c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "also"], ["proof (state)\nthis:\n  y + lincomb a' C = y + lincomb a C - p \\<cdot>\\<^sub>v c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have \"\\<dots> \\<in> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y + lincomb a C - p \\<cdot>\\<^sub>v c \\<in> indexed_Ints_vec I", "using sol"], ["proof (prove)\nusing this:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. y + lincomb a C - p \\<cdot>\\<^sub>v c \\<in> indexed_Ints_vec I", "by(intro diff_indexed_Ints_vec[OF _ _ _ pvindInts, of _ n ], insert c C, auto)"], ["proof (state)\nthis:\n  y + lincomb a C - p \\<cdot>\\<^sub>v c \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "finally"], ["proof (chain)\npicking this:\n  y + lincomb a' C \\<in> indexed_Ints_vec I", "have 3: \"y + lincomb a' C \\<in> indexed_Ints_vec I\""], ["proof (prove)\nusing this:\n  y + lincomb a' C \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. y + lincomb a' C \\<in> indexed_Ints_vec I", "by auto"], ["proof (state)\nthis:\n  y + lincomb a' C \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have 4: \"\\<forall>c\\<in>C. 0 \\<le> a' c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>c\\<in>C. (0::'a) \\<le> a' c", "unfolding a'_def p_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>ca\\<in>C.\n       (0::'a)\n       \\<le> (if ca = c\n              then a c -\n                   (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n                    else of_int \\<lfloor>a c\\<rfloor>)\n              else a ca)", "using p_lt_ac a"], ["proof (prove)\nusing this:\n  p < a c\n  \\<forall>c\\<in>C. (0::'a) \\<le> a c\n\ngoal (1 subgoal):\n 1. \\<forall>ca\\<in>C.\n       (0::'a)\n       \\<le> (if ca = c\n              then a c -\n                   (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n                    else of_int \\<lfloor>a c\\<rfloor>)\n              else a ca)", "by auto"], ["proof (state)\nthis:\n  \\<forall>c\\<in>C. (0::'a) \\<le> a' c\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "have 5: \"\\<forall>c\\<in>insert c D. a' c \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>c\\<in>insert c D. a' c \\<le> (1::'a)", "unfolding a'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>ca\\<in>insert c D.\n       (if ca = c then a c - p else a ca) \\<le> (1::'a)", "using p1_ge_ac D p_def"], ["proof (prove)\nusing this:\n  a c \\<le> p + (1::'a)\n  \\<forall>c\\<in>D. a c \\<le> (1::'a)\n  p =\n  (if of_int \\<lfloor>a c\\<rfloor> = a c then a c - (1::'a)\n   else of_int \\<lfloor>a c\\<rfloor>)\n\ngoal (1 subgoal):\n 1. \\<forall>ca\\<in>insert c D.\n       (if ca = c then a c - p else a ca) \\<le> (1::'a)", "by auto"], ["proof (state)\nthis:\n  \\<forall>c\\<in>insert c D. a' c \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) < a c \\<Longrightarrow>\n    \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a.\n       y + lincomb a C\n       \\<in> {x \\<in> carrier_vec n.\n              A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n              A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n             {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n             indexed_Ints_vec I \\<and>\n       (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n       (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))", "by (intro exI[of _ a'], intro conjI IntI 1 2 3 4 5)"], ["proof (state)\nthis:\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>insert c D. a c \\<le> (1::'a))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>D. a c \\<le> (1::'a))\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "}"], ["proof (state)\nthis:\n  ?D6 \\<subseteq> C \\<Longrightarrow>\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>?D6. a c \\<le> (1::'a))\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from this[of C]"], ["proof (chain)\npicking this:\n  C \\<subseteq> C \\<Longrightarrow>\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>C. a c \\<le> (1::'a))", "obtain a where\n    sol: \"y + lincomb a C \\<in> ?L\" and bnds: \"(\\<forall> c \\<in> C. a c \\<ge> 0)\" \"(\\<forall> c \\<in> C. a c \\<le> 1)\""], ["proof (prove)\nusing this:\n  C \\<subseteq> C \\<Longrightarrow>\n  \\<exists>a.\n     y + lincomb a C\n     \\<in> {x \\<in> carrier_vec n.\n            A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n            A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n           {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n           indexed_Ints_vec I \\<and>\n     (\\<forall>c\\<in>C. (0::'a) \\<le> a c) \\<and>\n     (\\<forall>c\\<in>C. a c \\<le> (1::'a))\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>y + lincomb a C\n                 \\<in> {x \\<in> carrier_vec n.\n                        A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n                        A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n                       {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v\n                           b\\<^sub>2} \\<inter>\n                       indexed_Ints_vec I;\n         \\<forall>c\\<in>C. (0::'a) \\<le> a c;\n         \\<forall>c\\<in>C. a c \\<le> (1::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y + lincomb a C\n  \\<in> {x \\<in> carrier_vec n.\n         A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n         A\\<^sub>2 *\\<^sub>v x \\<le> b\\<^sub>2} \\<inter>\n        {x. A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2} \\<inter>\n        indexed_Ints_vec I\n  \\<forall>c\\<in>C. (0::'a) \\<le> a c\n  \\<forall>c\\<in>C. a c \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "proof (intro exI[of _ \"y + lincomb a C\"] conjI)"], ["proof (state)\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from ZBnd CZ"], ["proof (chain)\npicking this:\n  Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B\n  C \\<subseteq> Z", "have BndC: \"C \\<subseteq> Bounded_vec B\" and IntC: \"C \\<subseteq> \\<int>\\<^sub>v\""], ["proof (prove)\nusing this:\n  Z \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec B\n  C \\<subseteq> Z\n\ngoal (1 subgoal):\n 1. C \\<subseteq> Bounded_vec B &&& C \\<subseteq> \\<int>\\<^sub>v", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> Bounded_vec B\n  C \\<subseteq> \\<int>\\<^sub>v\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have \"lincomb a C \\<in> Bounded_vec (of_nat n * B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb a C \\<in> Bounded_vec (of_nat n * B)", "using lincomb_card_bound[OF BndC C B0 _ card] bnds"], ["proof (prove)\nusing this:\n  (\\<And>x.\n      x \\<in> C \\<Longrightarrow>\n      \\<bar>?c x\\<bar> \\<le> (1::'a)) \\<Longrightarrow>\n  lincomb ?c C \\<in> Bounded_vec (of_nat n * B)\n  \\<forall>c\\<in>C. (0::'a) \\<le> a c\n  \\<forall>c\\<in>C. a c \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. lincomb a C \\<in> Bounded_vec (of_nat n * B)", "by auto"], ["proof (state)\nthis:\n  lincomb a C \\<in> Bounded_vec (of_nat n * B)\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "from sum_in_Bounded_vecI[OF yB this y] C"], ["proof (chain)\npicking this:\n  lincomb a C \\<in> carrier_vec n \\<Longrightarrow>\n  y + lincomb a C \\<in> Bounded_vec (B + of_nat n * B)\n  C \\<subseteq> carrier_vec n", "have \"y + lincomb a C \\<in> Bounded_vec (B + of_nat n * B)\""], ["proof (prove)\nusing this:\n  lincomb a C \\<in> carrier_vec n \\<Longrightarrow>\n  y + lincomb a C \\<in> Bounded_vec (B + of_nat n * B)\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. y + lincomb a C \\<in> Bounded_vec (B + of_nat n * B)", "by auto"], ["proof (state)\nthis:\n  y + lincomb a C \\<in> Bounded_vec (B + of_nat n * B)\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "also"], ["proof (state)\nthis:\n  y + lincomb a C \\<in> Bounded_vec (B + of_nat n * B)\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have \"B + of_nat n * B = of_nat (n+1) * B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B + of_nat n * B = of_nat (n + 1) * B", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  B + of_nat n * B = of_nat (n + 1) * B\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "also"], ["proof (state)\nthis:\n  B + of_nat n * B = of_nat (n + 1) * B\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "have \"\\<dots> = fact (n + 1) * (max 1 Bnd)^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_nat (n + 1) * B = fact (n + 1) * max (1::'a) Bnd ^ n", "unfolding B_def det_bound_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. of_nat (n + 1) * (fact n * max (1::'a) Bnd ^ n) =\n    fact (n + 1) * max (1::'a) Bnd ^ n", "by simp"], ["proof (state)\nthis:\n  of_nat (n + 1) * B = fact (n + 1) * max (1::'a) Bnd ^ n\n\ngoal (5 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2\n 5. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "finally"], ["proof (chain)\npicking this:\n  y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "show \"y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max 1 Bnd ^ n)\""], ["proof (prove)\nusing this:\n  y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)\n\ngoal (1 subgoal):\n 1. y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)", "by auto"], ["proof (state)\nthis:\n  y + lincomb a C \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)\n\ngoal (4 subgoals):\n 1. y + lincomb a C \\<in> carrier_vec n\n 2. y + lincomb a C \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v (y + lincomb a C) \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v (y + lincomb a C) <\\<^sub>v b\\<^sub>2", "qed (insert sol, auto)"], ["proof (state)\nthis:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We get rid of the max-1 operation, by showing that a smaller value of Bnd \n  can only occur in very special cases where the theorem is trivially satisfied.\\<close>"], ["", "lemma small_mixed_integer_solution: fixes A\\<^sub>1 :: \"'a mat\"\n  assumes A1: \"A\\<^sub>1 \\<in> carrier_mat nr\\<^sub>1 n\"\n    and A2: \"A\\<^sub>2 \\<in> carrier_mat nr\\<^sub>2 n\"\n    and b1: \"b\\<^sub>1 \\<in> carrier_vec nr\\<^sub>1\"\n    and b2: \"b\\<^sub>2 \\<in> carrier_vec nr\\<^sub>2\"\n    and A1Bnd: \"A\\<^sub>1 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b1Bnd: \"b\\<^sub>1 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and A2Bnd: \"A\\<^sub>2 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and b2Bnd: \"b\\<^sub>2 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and x: \"x \\<in> carrier_vec n\"\n    and xI: \"x \\<in> indexed_Ints_vec I\"\n    and sol_nonstrict: \"A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\"\n    and sol_strict: \"A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\"\n    and non_degenerate: \"nr\\<^sub>1 \\<noteq> 0 \\<or> nr\\<^sub>2 \\<noteq> 0 \\<or> Bnd \\<ge> 0\" \n  shows \"\\<exists> x.\n  x \\<in> carrier_vec n \\<and>\n  x \\<in> indexed_Ints_vec I \\<and>\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n  x \\<in> Bounded_vec (fact (n+1) * Bnd^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "proof (cases \"Bnd \\<ge> 1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n 2. \\<not> (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "case True"], ["proof (state)\nthis:\n  (1::'a) \\<le> Bnd\n\ngoal (2 subgoals):\n 1. (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n 2. \\<not> (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "hence \"max 1 Bnd = Bnd\""], ["proof (prove)\nusing this:\n  (1::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. max (1::'a) Bnd = Bnd", "by auto"], ["proof (state)\nthis:\n  max (1::'a) Bnd = Bnd\n\ngoal (2 subgoals):\n 1. (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n 2. \\<not> (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "with small_mixed_integer_solution_main[OF assms(1-12)] True"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)\n  (1::'a) \\<le> Bnd\n  max (1::'a) Bnd = Bnd", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * max (1::'a) Bnd ^ n)\n  (1::'a) \\<le> Bnd\n  max (1::'a) Bnd = Bnd\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "by auto"], ["proof (state)\nthis:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal (1 subgoal):\n 1. \\<not> (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "case trivial: False"], ["proof (state)\nthis:\n  \\<not> (1::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. \\<not> (1::'a) \\<le> Bnd \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "proof (cases \"n = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n 2. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "case True"], ["proof (state)\nthis:\n  n = 0\n\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n 2. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "with x"], ["proof (chain)\npicking this:\n  x \\<in> carrier_vec n\n  n = 0", "have \"x \\<in> Bounded_vec (fact (n+1) * Bnd^n)\""], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  n = 0\n\ngoal (1 subgoal):\n 1. x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "unfolding Bounded_vec_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  n = 0\n\ngoal (1 subgoal):\n 1. x \\<in> {x. \\<forall>i<dim_vec x.\n                   \\<bar>x $ i\\<bar> \\<le> fact (n + 1) * Bnd ^ n}", "by auto"], ["proof (state)\nthis:\n  x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal (2 subgoals):\n 1. n = 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n 2. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "with xI x sol_nonstrict sol_strict"], ["proof (chain)\npicking this:\n  x \\<in> indexed_Ints_vec I\n  x \\<in> carrier_vec n\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\n  x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> indexed_Ints_vec I\n  x \\<in> carrier_vec n\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\n  x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "by blast"], ["proof (state)\nthis:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "case n: False"], ["proof (state)\nthis:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "{"], ["proof (state)\nthis:\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "fix A nr"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "assume A: \"A \\<in> carrier_mat nr n\" and Bnd: \"A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\""], ["proof (state)\nthis:\n  A \\<in> carrier_mat nr n\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "{"], ["proof (state)\nthis:\n  A \\<in> carrier_mat nr n\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "assume \"i < nr\" \"j < n\""], ["proof (state)\nthis:\n  i < nr\n  j < n\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "with Bnd A"], ["proof (chain)\npicking this:\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A \\<in> carrier_mat nr n\n  i < nr\n  j < n", "have *: \"A $$ (i,j) \\<in> \\<int>\" \"abs (A $$ (i,j)) \\<le> Bnd\""], ["proof (prove)\nusing this:\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n  A \\<in> carrier_mat nr n\n  i < nr\n  j < n\n\ngoal (1 subgoal):\n 1. A $$ (i, j) \\<in> \\<int> &&& \\<bar>A $$ (i, j)\\<bar> \\<le> Bnd", "unfolding Bounded_mat_def Ints_mat_def"], ["proof (prove)\nusing this:\n  A \\<in> {A. \\<forall>i<dim_row A.\n                 \\<forall>j<dim_col A. A $$ (i, j) \\<in> \\<int>} \\<inter>\n          {A. \\<forall>i<dim_row A.\n                 \\<forall>j<dim_col A. \\<bar>A $$ (i, j)\\<bar> \\<le> Bnd}\n  A \\<in> carrier_mat nr n\n  i < nr\n  j < n\n\ngoal (1 subgoal):\n 1. A $$ (i, j) \\<in> \\<int> &&& \\<bar>A $$ (i, j)\\<bar> \\<le> Bnd", "by auto"], ["proof (state)\nthis:\n  A $$ (i, j) \\<in> \\<int>\n  \\<bar>A $$ (i, j)\\<bar> \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "with trivial"], ["proof (chain)\npicking this:\n  \\<not> (1::'a) \\<le> Bnd\n  A $$ (i, j) \\<in> \\<int>\n  \\<bar>A $$ (i, j)\\<bar> \\<le> Bnd", "have \"Bnd \\<ge> 0\" \"A $$ (i,j) = 0\""], ["proof (prove)\nusing this:\n  \\<not> (1::'a) \\<le> Bnd\n  A $$ (i, j) \\<in> \\<int>\n  \\<bar>A $$ (i, j)\\<bar> \\<le> Bnd\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> Bnd &&& A $$ (i, j) = (0::'a)", "by (auto simp: Ints_nonzero_abs_less1)"], ["proof (state)\nthis:\n  (0::'a) \\<le> Bnd\n  A $$ (i, j) = (0::'a)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?i6 < nr; ?j6 < n\\<rbrakk> \\<Longrightarrow> (0::'a) \\<le> Bnd\n  \\<lbrakk>?i6 < nr; ?j6 < n\\<rbrakk>\n  \\<Longrightarrow> A $$ (?i6, ?j6) = (0::'a)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "note main = this"], ["proof (state)\nthis:\n  \\<lbrakk>?i6 < nr; ?j6 < n\\<rbrakk> \\<Longrightarrow> (0::'a) \\<le> Bnd\n  \\<lbrakk>?i6 < nr; ?j6 < n\\<rbrakk>\n  \\<Longrightarrow> A $$ (?i6, ?j6) = (0::'a)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "have A0: \"A = 0\\<^sub>m nr n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = 0\\<^sub>m nr n", "by (intro eq_matI, insert main A, auto)"], ["proof (state)\nthis:\n  A = 0\\<^sub>m nr n\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "have \"nr \\<noteq> 0 \\<Longrightarrow> Bnd \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nr \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd", "using main[of 0 0] n"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < nr; 0 < n\\<rbrakk> \\<Longrightarrow> (0::'a) \\<le> Bnd\n  \\<lbrakk>0 < nr; 0 < n\\<rbrakk> \\<Longrightarrow> A $$ (0, 0) = (0::'a)\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. nr \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd", "by auto"], ["proof (state)\nthis:\n  nr \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "note A0 this"], ["proof (state)\nthis:\n  A = 0\\<^sub>m nr n\n  nr \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A6 \\<in> carrier_mat ?nr6 n;\n   ?A6 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\\<rbrakk>\n  \\<Longrightarrow> ?A6 = 0\\<^sub>m ?nr6 n\n  \\<lbrakk>?A6 \\<in> carrier_mat ?nr6 n;\n   ?A6 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd;\n   ?nr6 \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "note main = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A6 \\<in> carrier_mat ?nr6 n;\n   ?A6 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\\<rbrakk>\n  \\<Longrightarrow> ?A6 = 0\\<^sub>m ?nr6 n\n  \\<lbrakk>?A6 \\<in> carrier_mat ?nr6 n;\n   ?A6 \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd;\n   ?nr6 \\<noteq> 0\\<rbrakk>\n  \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "from main[OF A1 A1Bnd]"], ["proof (chain)\npicking this:\n  A\\<^sub>1 = 0\\<^sub>m nr\\<^sub>1 n\n  nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd", "have A1: \"A\\<^sub>1 = 0\\<^sub>m nr\\<^sub>1 n\" and nr1: \"nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> Bnd \\<ge> 0\""], ["proof (prove)\nusing this:\n  A\\<^sub>1 = 0\\<^sub>m nr\\<^sub>1 n\n  nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. A\\<^sub>1 = 0\\<^sub>m nr\\<^sub>1 n &&&\n    (nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd)", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>1 = 0\\<^sub>m nr\\<^sub>1 n\n  nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "from main[OF A2 A2Bnd]"], ["proof (chain)\npicking this:\n  A\\<^sub>2 = 0\\<^sub>m nr\\<^sub>2 n\n  nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd", "have A2: \"A\\<^sub>2 = 0\\<^sub>m nr\\<^sub>2 n\" and nr2: \"nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> Bnd \\<ge> 0\""], ["proof (prove)\nusing this:\n  A\\<^sub>2 = 0\\<^sub>m nr\\<^sub>2 n\n  nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 = 0\\<^sub>m nr\\<^sub>2 n &&&\n    (nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd)", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>2 = 0\\<^sub>m nr\\<^sub>2 n\n  nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "let ?x = \"0\\<^sub>v n\""], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> carrier_vec n \\<and>\n       x \\<in> indexed_Ints_vec I \\<and>\n       A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n       A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n       x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "proof (intro exI[of _ ?x] conjI)"], ["proof (state)\ngoal (5 subgoals):\n 1. 0\\<^sub>v n \\<in> carrier_vec n\n 2. 0\\<^sub>v n \\<in> indexed_Ints_vec I\n 3. A\\<^sub>1 *\\<^sub>v 0\\<^sub>v n \\<le> b\\<^sub>1\n 4. A\\<^sub>2 *\\<^sub>v 0\\<^sub>v n <\\<^sub>v b\\<^sub>2\n 5. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show \"A\\<^sub>1 *\\<^sub>v ?x \\<le> b\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>1 *\\<^sub>v 0\\<^sub>v n \\<le> b\\<^sub>1", "using sol_nonstrict x"], ["proof (prove)\nusing this:\n  A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. A\\<^sub>1 *\\<^sub>v 0\\<^sub>v n \\<le> b\\<^sub>1", "unfolding A1"], ["proof (prove)\nusing this:\n  0\\<^sub>m nr\\<^sub>1 n *\\<^sub>v x \\<le> b\\<^sub>1\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>m nr\\<^sub>1 n *\\<^sub>v 0\\<^sub>v n \\<le> b\\<^sub>1", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>1 *\\<^sub>v 0\\<^sub>v n \\<le> b\\<^sub>1\n\ngoal (4 subgoals):\n 1. 0\\<^sub>v n \\<in> carrier_vec n\n 2. 0\\<^sub>v n \\<in> indexed_Ints_vec I\n 3. A\\<^sub>2 *\\<^sub>v 0\\<^sub>v n <\\<^sub>v b\\<^sub>2\n 4. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show \"A\\<^sub>2 *\\<^sub>v ?x <\\<^sub>v b\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sub>2 *\\<^sub>v 0\\<^sub>v n <\\<^sub>v b\\<^sub>2", "using sol_strict x"], ["proof (prove)\nusing this:\n  A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. A\\<^sub>2 *\\<^sub>v 0\\<^sub>v n <\\<^sub>v b\\<^sub>2", "unfolding A2"], ["proof (prove)\nusing this:\n  0\\<^sub>m nr\\<^sub>2 n *\\<^sub>v x <\\<^sub>v b\\<^sub>2\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>m nr\\<^sub>2 n *\\<^sub>v 0\\<^sub>v n <\\<^sub>v b\\<^sub>2", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>2 *\\<^sub>v 0\\<^sub>v n <\\<^sub>v b\\<^sub>2\n\ngoal (3 subgoals):\n 1. 0\\<^sub>v n \\<in> carrier_vec n\n 2. 0\\<^sub>v n \\<in> indexed_Ints_vec I\n 3. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show \"?x \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. 0\\<^sub>v n \\<in> indexed_Ints_vec I\n 2. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "show \"?x \\<in> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> indexed_Ints_vec I", "unfolding indexed_Ints_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n\n    \\<in> {x. \\<forall>i<dim_vec x.\n                 i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<in> indexed_Ints_vec I\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "from nr1 nr2 non_degenerate"], ["proof (chain)\npicking this:\n  nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n  nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n  nr\\<^sub>1 \\<noteq> 0 \\<or> nr\\<^sub>2 \\<noteq> 0 \\<or> (0::'a) \\<le> Bnd", "have Bnd: \"Bnd \\<ge> 0\""], ["proof (prove)\nusing this:\n  nr\\<^sub>1 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n  nr\\<^sub>2 \\<noteq> 0 \\<Longrightarrow> (0::'a) \\<le> Bnd\n  nr\\<^sub>1 \\<noteq> 0 \\<or> nr\\<^sub>2 \\<noteq> 0 \\<or> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> Bnd", "by auto"], ["proof (state)\nthis:\n  (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "hence \"fact (n + 1) * Bnd ^ n \\<ge> 0\""], ["proof (prove)\nusing this:\n  (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> fact (n + 1) * Bnd ^ n", "by simp"], ["proof (state)\nthis:\n  (0::'a) \\<le> fact (n + 1) * Bnd ^ n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "thus \"?x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\""], ["proof (prove)\nusing this:\n  (0::'a) \\<le> fact (n + 1) * Bnd ^ n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "by (auto simp: Bounded_vec_def)"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>x.\n     x \\<in> carrier_vec n \\<and>\n     x \\<in> indexed_Ints_vec I \\<and>\n     A\\<^sub>1 *\\<^sub>v x \\<le> b\\<^sub>1 \\<and>\n     A\\<^sub>2 *\\<^sub>v x <\\<^sub>v b\\<^sub>2 \\<and>\n     x \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary small_integer_solution_nonstrict: fixes A :: \"'a mat\"\n  assumes A: \"A \\<in> carrier_mat nr n\"\n    and b: \"b \\<in> carrier_vec nr\"\n    and ABnd: \"A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\"\n    and bBnd: \"b \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\"\n    and x: \"x \\<in> carrier_vec n\"\n    and xI: \"x \\<in> \\<int>\\<^sub>v\"\n    and sol: \"A *\\<^sub>v x \\<le> b\"\n    and non_degenerate: \"nr \\<noteq> 0 \\<or> Bnd \\<ge> 0\" \n  shows \"\\<exists> y.\n  y \\<in> carrier_vec n \\<and>\n  y \\<in> \\<int>\\<^sub>v \\<and>\n  A *\\<^sub>v y \\<le> b \\<and>\n  y \\<in> Bounded_vec (fact (n+1) * Bnd^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "let ?A2 = \"0\\<^sub>m 0 n :: 'a mat\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "let ?b2 = \"0\\<^sub>v 0 :: 'a vec\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "from non_degenerate"], ["proof (chain)\npicking this:\n  nr \\<noteq> 0 \\<or> (0::'a) \\<le> Bnd", "have degen: \"nr \\<noteq> 0 \\<or> (0 :: nat) \\<noteq> 0 \\<or> Bnd \\<ge> 0\""], ["proof (prove)\nusing this:\n  nr \\<noteq> 0 \\<or> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. nr \\<noteq> 0 \\<or> 0 \\<noteq> 0 \\<or> (0::'a) \\<le> Bnd", "by auto"], ["proof (state)\nthis:\n  nr \\<noteq> 0 \\<or> 0 \\<noteq> 0 \\<or> (0::'a) \\<le> Bnd\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "have \"\\<exists>y. y \\<in> carrier_vec n \\<and> y \\<in> \\<int>\\<^sub>v \\<and> A *\\<^sub>v y \\<le> b \\<and> ?A2 *\\<^sub>v y <\\<^sub>v ?b2\n  \\<and> y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       0\\<^sub>m 0 n *\\<^sub>v y <\\<^sub>v 0\\<^sub>v 0 \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "by (rule small_mixed_integer_solution[OF A _ b _ ABnd bBnd _ _ x _ sol, of ?A2 0 ?b2 UNIV,\n          folded indexed_Ints_vec_UNIV], insert xI degen,\n        auto simp: Ints_vec_def Ints_mat_def Bounded_mat_def Bounded_vec_def less_vec_def)"], ["proof (state)\nthis:\n  \\<exists>y.\n     y \\<in> carrier_vec n \\<and>\n     y \\<in> \\<int>\\<^sub>v \\<and>\n     A *\\<^sub>v y \\<le> b \\<and>\n     0\\<^sub>m 0 n *\\<^sub>v y <\\<^sub>v 0\\<^sub>v 0 \\<and>\n     y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>y.\n     y \\<in> carrier_vec n \\<and>\n     y \\<in> \\<int>\\<^sub>v \\<and>\n     A *\\<^sub>v y \\<le> b \\<and>\n     0\\<^sub>m 0 n *\\<^sub>v y <\\<^sub>v 0\\<^sub>v 0 \\<and>\n     y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       y \\<in> carrier_vec n \\<and>\n       y \\<in> \\<int>\\<^sub>v \\<and>\n       A *\\<^sub>v y \\<le> b \\<and>\n       y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)", "by blast"], ["proof (state)\nthis:\n  \\<exists>y.\n     y \\<in> carrier_vec n \\<and>\n     y \\<in> \\<int>\\<^sub>v \\<and>\n     A *\\<^sub>v y \\<le> b \\<and>\n     y \\<in> Bounded_vec (fact (n + 1) * Bnd ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}