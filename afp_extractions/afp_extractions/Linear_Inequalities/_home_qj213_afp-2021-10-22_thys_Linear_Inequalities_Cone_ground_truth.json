{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Cone.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma finite_cone_iff_cone_list: assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  and id: \"Vs = set Vsl\"\nshows \"finite_cone Vs = cone_list Vsl\"", "lemma cone_alt_def: assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"cone Vs = ({ x. \\<exists> Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws})\"", "lemma cone_mono: \"Vs \\<subseteq> Ws \\<Longrightarrow> cone Vs \\<subseteq> cone Ws\"", "lemma finite_cone_mono: assumes fin: \"finite Ws\"\n  and Ws: \"Ws \\<subseteq> carrier_vec n\"\n  and sub: \"Vs \\<subseteq> Ws\"\nshows \"finite_cone Vs \\<subseteq> finite_cone Ws\"", "lemma finite_cone_carrier: \"A \\<subseteq> carrier_vec n \\<Longrightarrow> finite_cone A \\<subseteq> carrier_vec n\"", "lemma cone_carrier: \"A \\<subseteq> carrier_vec n \\<Longrightarrow> cone A \\<subseteq> carrier_vec n\"", "lemma cone_iff_finite_cone: assumes A: \"A \\<subseteq> carrier_vec n\"\n  and fin: \"finite A\"\nshows \"cone A = finite_cone A\"", "lemma set_in_finite_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and fin: \"finite Vs\"\n  shows \"Vs \\<subseteq> finite_cone Vs\"", "lemma set_in_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"Vs \\<subseteq> cone Vs\"", "lemma zero_in_finite_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"0\\<^sub>v n \\<in> finite_cone Vs\"", "lemma lincomb_in_finite_cone:\n  assumes \"x = lincomb l W\"\n    and \"finite W\"\n    and \"\\<forall>i \\<in> W . l i \\<ge> 0\"\n    and \"W \\<subseteq> carrier_vec n\"\n  shows \"x \\<in> finite_cone W\"", "lemma lincomb_in_cone:\n  assumes \"x = lincomb l W\"\n    and \"finite W\"\n    and \"\\<forall>i \\<in> W . l i \\<ge> 0\"\n    and \"W \\<subseteq> carrier_vec n\"\n  shows \"x \\<in> cone W\"", "lemma zero_in_cone: \"0\\<^sub>v n \\<in> cone Vs\"", "lemma cone_smult:\n  assumes a: \"a \\<ge> 0\"\n    and Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and x: \"x \\<in> cone Vs\"\n  shows \"a \\<cdot>\\<^sub>v x \\<in> cone Vs\"", "lemma finite_cone_empty[simp]: \"finite_cone {} = {0\\<^sub>v n}\"", "lemma cone_empty[simp]: \"cone {} = {0\\<^sub>v n}\"", "lemma cone_elem_sum:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and x: \"x \\<in> cone Vs\"\n    and y: \"y \\<in> cone Vs\"\n  shows \"x + y \\<in> cone Vs\"", "lemma cone_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"cone (cone Vs) = cone Vs\"", "lemma cone_smult_basis:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and l: \"l ` Vs \\<subseteq> {x. x > 0}\"\n  shows \"cone {l v \\<cdot>\\<^sub>v v | v . v \\<in> Vs} = cone Vs\"", "lemma cone_add_cone:\n  assumes C: \"C \\<subseteq> carrier_vec n\"\n  shows \"cone C + cone C = cone C\"", "lemma orthogonal_cone:\n  assumes X: \"X \\<subseteq> carrier_vec n\"\n    and W: \"W \\<subseteq> carrier_vec n\"\n    and finX: \"finite X\"\n    and spanLW: \"span (set Ls \\<union> W) = carrier_vec n\"\n    and ortho: \"\\<And> w x. w \\<in> W \\<Longrightarrow> x \\<in> set Ls \\<Longrightarrow> w \\<bullet> x = 0\"\n    and WWs: \"W = set Ws\"\n    and spanL: \"span (set Ls) = span X\"\n    and LX: \"set Ls \\<subseteq> X\"\n    and lin_Ls_Bs: \"lin_indpt_list (Ls @ Bs)\"\n    and len_Ls_Bs: \"length (Ls @ Bs) = n\"\n  shows \"cone (X \\<union> set Bs) \\<inter> {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = 0} = cone X\"\n    \"\\<And> x. \\<forall>w\\<in>W. w \\<bullet> x = 0 \\<Longrightarrow> Z \\<subseteq> X \\<Longrightarrow> B \\<subseteq> set Bs \\<Longrightarrow> x = lincomb c (Z \\<union> B)\n    \\<Longrightarrow> x = lincomb c (Z - B)\"", "lemma polyhedral_cone_carrier: assumes \"A \\<in> carrier_mat nr n\"\n  shows \"polyhedral_cone A \\<subseteq> carrier_vec n\"", "lemma cone_in_polyhedral_cone:\n  assumes CA: \"C \\<subseteq> polyhedral_cone A\"\n    and A: \"A \\<in> carrier_mat nr n\"\n  shows \"cone C \\<subseteq> polyhedral_cone A\"", "lemma bounded_cone_is_zero:\n  assumes Ccarr: \"C \\<subseteq> carrier_vec n\" and bnd: \"cone C \\<subseteq> Bounded_vec bnd\"\n  shows \"cone C = {0\\<^sub>v n}\"", "lemma cone_of_cols: fixes A :: \"'a mat\" and b :: \"'a vec\"\n  assumes A: \"A \\<in> carrier_mat n nr\" and b: \"b \\<in> carrier_vec n\"\n  shows \"b \\<in> cone (set (cols A)) \\<longleftrightarrow> (\\<exists> x. x \\<ge> 0\\<^sub>v nr \\<and> A *\\<^sub>v x = b)\""], "translations": [["", "lemma finite_cone_iff_cone_list: assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  and id: \"Vs = set Vsl\"\nshows \"finite_cone Vs = cone_list Vsl\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "have fin: \"finite Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite Vs", "unfolding id"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (set Vsl)", "by auto"], ["proof (state)\nthis:\n  finite Vs\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "from Vs id"], ["proof (chain)\npicking this:\n  Vs \\<subseteq> carrier_vec n\n  Vs = set Vsl", "have Vsl: \"set Vsl \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n  Vs = set Vsl\n\ngoal (1 subgoal):\n 1. set Vsl \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set Vsl \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "{"], ["proof (state)\nthis:\n  set Vsl \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "fix c b"], ["proof (state)\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "assume b: \"lincomb c Vs = b\" and c: \"c ` Vs \\<subseteq> {x. x \\<ge> 0}\""], ["proof (state)\nthis:\n  lincomb c Vs = b\n  c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "from lincomb_as_lincomb_list[OF Vsl, of c]"], ["proof (chain)\npicking this:\n  lincomb c (set Vsl) =\n  lincomb_list\n   (\\<lambda>i.\n       if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a else c (Vsl ! i))\n   Vsl", "have b: \"lincomb_list (\\<lambda>i. if \\<exists>j<i. Vsl ! i = Vsl ! j then 0 else c (Vsl ! i)) Vsl = b\""], ["proof (prove)\nusing this:\n  lincomb c (set Vsl) =\n  lincomb_list\n   (\\<lambda>i.\n       if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a else c (Vsl ! i))\n   Vsl\n\ngoal (1 subgoal):\n 1. lincomb_list\n     (\\<lambda>i.\n         if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a else c (Vsl ! i))\n     Vsl =\n    b", "unfolding b[symmetric] id"], ["proof (prove)\nusing this:\n  lincomb c (set Vsl) =\n  lincomb_list\n   (\\<lambda>i.\n       if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a else c (Vsl ! i))\n   Vsl\n\ngoal (1 subgoal):\n 1. lincomb_list\n     (\\<lambda>i.\n         if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a else c (Vsl ! i))\n     Vsl =\n    lincomb c (set Vsl)", "by simp"], ["proof (state)\nthis:\n  lincomb_list\n   (\\<lambda>i.\n       if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a else c (Vsl ! i))\n   Vsl =\n  b\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "have \"\\<exists> c. nonneg_lincomb_list c Vsl b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb_list c Vsl b", "unfolding nonneg_lincomb_list_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>c.\n       lincomb_list c Vsl = b \\<and>\n       (\\<forall>i<length Vsl. (0::'a) \\<le> c i)", "apply (intro exI conjI, rule b)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<length Vsl.\n       (0::'a)\n       \\<le> (if \\<exists>j<i. Vsl ! i = Vsl ! j then 0::'a\n              else c (Vsl ! i))", "by (insert c, auto simp: set_conv_nth id)"], ["proof (state)\nthis:\n  \\<exists>c. nonneg_lincomb_list c Vsl b\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "}"], ["proof (state)\nthis:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb_list c Vsl ?b5\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb_list c Vsl ?b5\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "{"], ["proof (state)\nthis:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb_list c Vsl ?b5\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "fix c b"], ["proof (state)\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "assume b: \"lincomb_list c Vsl = b\" and c: \"(\\<forall> i < length Vsl. c i \\<ge> 0)\""], ["proof (state)\nthis:\n  lincomb_list c Vsl = b\n  \\<forall>i<length Vsl. (0::'a) \\<le> c i\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "have \"nonneg_lincomb (mk_coeff Vsl c) Vs b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nonneg_lincomb (mk_coeff Vsl c) Vs b", "unfolding b[symmetric] nonneg_lincomb_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb (mk_coeff Vsl c) Vs = lincomb_list c Vsl \\<and>\n    mk_coeff Vsl c ` Vs \\<subseteq> Collect ((\\<le>) (0::'a))", "apply (subst lincomb_list_as_lincomb[OF Vsl])"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb (mk_coeff Vsl c) Vs = lincomb (mk_coeff Vsl c) (set Vsl) \\<and>\n    mk_coeff Vsl c ` Vs \\<subseteq> Collect ((\\<le>) (0::'a))", "by (insert c, auto simp: id mk_coeff_def intro!: sum_list_nonneg)"], ["proof (state)\nthis:\n  nonneg_lincomb (mk_coeff Vsl c) Vs b\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "hence \"\\<exists> c. nonneg_lincomb c Vs b\""], ["proof (prove)\nusing this:\n  nonneg_lincomb (mk_coeff Vsl c) Vs b\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c Vs b", "by blast"], ["proof (state)\nthis:\n  \\<exists>c. nonneg_lincomb c Vs b\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "}"], ["proof (state)\nthis:\n  \\<lbrakk>lincomb_list ?c5 Vsl = ?b5;\n   \\<forall>i<length Vsl. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb c Vs ?b5\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb_list c Vsl ?b5\n  \\<lbrakk>lincomb_list ?c5 Vsl = ?b5;\n   \\<forall>i<length Vsl. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb c Vs ?b5", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb_list c Vsl ?b5\n  \\<lbrakk>lincomb_list ?c5 Vsl = ?b5;\n   \\<forall>i<length Vsl. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c. nonneg_lincomb c Vs ?b5\n\ngoal (1 subgoal):\n 1. finite_cone Vs = cone_list Vsl", "unfolding finite_cone_def cone_list_def\n      nonneg_lincomb_def nonneg_lincomb_list_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       lincomb_list c Vsl = ?b5 \\<and>\n                       (\\<forall>i<length Vsl. (0::'a) \\<le> c i)\n  \\<lbrakk>lincomb_list ?c5 Vsl = ?b5;\n   \\<forall>i<length Vsl. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       lincomb c Vs = ?b5 \\<and>\n                       c ` Vs \\<subseteq> Collect ((\\<le>) (0::'a))\n\ngoal (1 subgoal):\n 1. {b. \\<exists>c.\n           lincomb c (if finite Vs then Vs else {}) = b \\<and>\n           c ` (if finite Vs then Vs else {})\n           \\<subseteq> Collect ((\\<le>) (0::'a))} =\n    {b. \\<exists>c.\n           lincomb_list c Vsl = b \\<and>\n           (\\<forall>i<length Vsl. (0::'a) \\<le> c i)}", "using fin"], ["proof (prove)\nusing this:\n  \\<lbrakk>lincomb ?c5 Vs = ?b5;\n   ?c5 ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       lincomb_list c Vsl = ?b5 \\<and>\n                       (\\<forall>i<length Vsl. (0::'a) \\<le> c i)\n  \\<lbrakk>lincomb_list ?c5 Vsl = ?b5;\n   \\<forall>i<length Vsl. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       lincomb c Vs = ?b5 \\<and>\n                       c ` Vs \\<subseteq> Collect ((\\<le>) (0::'a))\n  finite Vs\n\ngoal (1 subgoal):\n 1. {b. \\<exists>c.\n           lincomb c (if finite Vs then Vs else {}) = b \\<and>\n           c ` (if finite Vs then Vs else {})\n           \\<subseteq> Collect ((\\<le>) (0::'a))} =\n    {b. \\<exists>c.\n           lincomb_list c Vsl = b \\<and>\n           (\\<forall>i<length Vsl. (0::'a) \\<le> c i)}", "by auto"], ["proof (state)\nthis:\n  finite_cone Vs = cone_list Vsl\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_alt_def: assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"cone Vs = ({ x. \\<exists> Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone Vs =\n    {x. \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws}", "unfolding cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. \\<exists>Ws.\n           finite Ws \\<and>\n           Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws} =\n    {x. \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws}", "proof (intro Collect_cong iffI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>Ws.\n          finite Ws \\<and>\n          Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws \\<Longrightarrow>\n       \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws\n 2. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>Ws.\n          finite Ws \\<and>\n          Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws \\<Longrightarrow>\n       \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws\n 2. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "assume \"\\<exists>Ws. finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws\""], ["proof (state)\nthis:\n  \\<exists>Ws.\n     finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>Ws.\n          finite Ws \\<and>\n          Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws \\<Longrightarrow>\n       \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws\n 2. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "then"], ["proof (chain)\npicking this:\n  \\<exists>Ws.\n     finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "obtain Ws where *: \"finite Ws\" \"Ws \\<subseteq> Vs\" \"x \\<in> finite_cone Ws\""], ["proof (prove)\nusing this:\n  \\<exists>Ws.\n     finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws\n\ngoal (1 subgoal):\n 1. (\\<And>Ws.\n        \\<lbrakk>finite Ws; Ws \\<subseteq> Vs;\n         x \\<in> finite_cone Ws\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  finite Ws\n  Ws \\<subseteq> Vs\n  x \\<in> finite_cone Ws\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>Ws.\n          finite Ws \\<and>\n          Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws \\<Longrightarrow>\n       \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws\n 2. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "from finite_list[OF *(1)]"], ["proof (chain)\npicking this:\n  \\<exists>xs. set xs = Ws", "obtain Wsl where id: \"Ws = set Wsl\""], ["proof (prove)\nusing this:\n  \\<exists>xs. set xs = Ws\n\ngoal (1 subgoal):\n 1. (\\<And>Wsl. Ws = set Wsl \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Ws = set Wsl\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>Ws.\n          finite Ws \\<and>\n          Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws \\<Longrightarrow>\n       \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws\n 2. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "from finite_cone_iff_cone_list[OF _ this] *(2-3) Vs"], ["proof (chain)\npicking this:\n  Ws \\<subseteq> carrier_vec n \\<Longrightarrow>\n  finite_cone Ws = cone_list Wsl\n  Ws \\<subseteq> Vs\n  x \\<in> finite_cone Ws\n  Vs \\<subseteq> carrier_vec n", "have \"x \\<in> cone_list Wsl\""], ["proof (prove)\nusing this:\n  Ws \\<subseteq> carrier_vec n \\<Longrightarrow>\n  finite_cone Ws = cone_list Wsl\n  Ws \\<subseteq> Vs\n  x \\<in> finite_cone Ws\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> cone_list Wsl", "by auto"], ["proof (state)\nthis:\n  x \\<in> cone_list Wsl\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>Ws.\n          finite Ws \\<and>\n          Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws \\<Longrightarrow>\n       \\<exists>Ws. set Ws \\<subseteq> Vs \\<and> x \\<in> cone_list Ws\n 2. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "with *(2) id"], ["proof (chain)\npicking this:\n  Ws \\<subseteq> Vs\n  Ws = set Wsl\n  x \\<in> cone_list Wsl", "show \"\\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl\""], ["proof (prove)\nusing this:\n  Ws \\<subseteq> Vs\n  Ws = set Wsl\n  x \\<in> cone_list Wsl\n\ngoal (1 subgoal):\n 1. \\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl", "by blast"], ["proof (state)\nthis:\n  \\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "assume \"\\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl\""], ["proof (state)\nthis:\n  \\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "then"], ["proof (chain)\npicking this:\n  \\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl", "obtain Wsl where \"set Wsl \\<subseteq> Vs\" \"x \\<in> cone_list Wsl\""], ["proof (prove)\nusing this:\n  \\<exists>Wsl. set Wsl \\<subseteq> Vs \\<and> x \\<in> cone_list Wsl\n\ngoal (1 subgoal):\n 1. (\\<And>Wsl.\n        \\<lbrakk>set Wsl \\<subseteq> Vs; x \\<in> cone_list Wsl\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  set Wsl \\<subseteq> Vs\n  x \\<in> cone_list Wsl\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<exists>Ws.\n          set Ws \\<subseteq> Vs \\<and>\n          x \\<in> cone_list Ws \\<Longrightarrow>\n       \\<exists>Ws.\n          finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "thus \"\\<exists>Ws. finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws\""], ["proof (prove)\nusing this:\n  set Wsl \\<subseteq> Vs\n  x \\<in> cone_list Wsl\n\ngoal (1 subgoal):\n 1. \\<exists>Ws.\n       finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "using Vs"], ["proof (prove)\nusing this:\n  set Wsl \\<subseteq> Vs\n  x \\<in> cone_list Wsl\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>Ws.\n       finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws", "by (intro exI[of _ \"set Wsl\"], subst finite_cone_iff_cone_list, auto)"], ["proof (state)\nthis:\n  \\<exists>Ws.\n     finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_mono: \"Vs \\<subseteq> Ws \\<Longrightarrow> cone Vs \\<subseteq> cone Ws\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vs \\<subseteq> Ws \\<Longrightarrow> cone Vs \\<subseteq> cone Ws", "unfolding cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Vs \\<subseteq> Ws \\<Longrightarrow>\n    {x. \\<exists>Ws.\n           finite Ws \\<and> Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}\n    \\<subseteq> {x. \\<exists>Wsa.\n                       finite Wsa \\<and>\n                       Wsa \\<subseteq> Ws \\<and> x \\<in> finite_cone Wsa}", "by blast"], ["", "lemma finite_cone_mono: assumes fin: \"finite Ws\"\n  and Ws: \"Ws \\<subseteq> carrier_vec n\"\n  and sub: \"Vs \\<subseteq> Ws\"\nshows \"finite_cone Vs \\<subseteq> finite_cone Ws\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite_cone Vs \\<subseteq> finite_cone Ws", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "fix b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "assume \"b \\<in> finite_cone Vs\""], ["proof (state)\nthis:\n  b \\<in> finite_cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "then"], ["proof (chain)\npicking this:\n  b \\<in> finite_cone Vs", "obtain c where b: \"b = lincomb c Vs\" and c: \"c ` Vs \\<subseteq> {x. x \\<ge> 0}\""], ["proof (prove)\nusing this:\n  b \\<in> finite_cone Vs\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>b = lincomb c Vs;\n         c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding finite_cone_def nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  b \\<in> {b. \\<exists>c.\n                 lincomb c (if finite Vs then Vs else {}) = b \\<and>\n                 c ` (if finite Vs then Vs else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>b = lincomb c Vs;\n         c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using finite_subset[OF sub fin]"], ["proof (prove)\nusing this:\n  b \\<in> {b. \\<exists>c.\n                 lincomb c (if finite Vs then Vs else {}) = b \\<and>\n                 c ` (if finite Vs then Vs else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite Vs\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>b = lincomb c Vs;\n         c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  b = lincomb c Vs\n  c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "define d where \"d = (\\<lambda> v. if v \\<in> Vs then c v else 0)\""], ["proof (state)\nthis:\n  d = (\\<lambda>v. if v \\<in> Vs then c v else (0::'a))\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "from c"], ["proof (chain)\npicking this:\n  c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}", "have d: \"d ` Ws \\<subseteq> {x. x \\<ge> 0}\""], ["proof (prove)\nusing this:\n  c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\n\ngoal (1 subgoal):\n 1. d ` Ws \\<subseteq> {x. (0::'a) \\<le> x}", "unfolding d_def"], ["proof (prove)\nusing this:\n  c ` Vs \\<subseteq> {x. (0::'a) \\<le> x}\n\ngoal (1 subgoal):\n 1. (\\<lambda>v. if v \\<in> Vs then c v else (0::'a)) ` Ws\n    \\<subseteq> {x. (0::'a) \\<le> x}", "by auto"], ["proof (state)\nthis:\n  d ` Ws \\<subseteq> {x. (0::'a) \\<le> x}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "have \"lincomb d Ws = lincomb d (Ws - Vs) + lincomb d Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d Ws = lincomb d (Ws - Vs) + lincomb d Vs", "by (rule lincomb_vec_diff_add[OF Ws sub fin], auto)"], ["proof (state)\nthis:\n  lincomb d Ws = lincomb d (Ws - Vs) + lincomb d Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "also"], ["proof (state)\nthis:\n  lincomb d Ws = lincomb d (Ws - Vs) + lincomb d Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "have \"lincomb d Vs = lincomb c Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d Vs = lincomb c Vs", "by (rule lincomb_cong, insert Ws sub, auto simp: d_def)"], ["proof (state)\nthis:\n  lincomb d Vs = lincomb c Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "also"], ["proof (state)\nthis:\n  lincomb d Vs = lincomb c Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "have \"lincomb d (Ws - Vs) = 0\\<^sub>v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d (Ws - Vs) = 0\\<^sub>v n", "by (rule lincomb_zero, insert Ws sub, auto simp: d_def)"], ["proof (state)\nthis:\n  lincomb d (Ws - Vs) = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "also"], ["proof (state)\nthis:\n  lincomb d (Ws - Vs) = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "have \"0\\<^sub>v n + lincomb c Vs = lincomb c Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n + lincomb c Vs = lincomb c Vs", "using Ws sub"], ["proof (prove)\nusing this:\n  Ws \\<subseteq> carrier_vec n\n  Vs \\<subseteq> Ws\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n + lincomb c Vs = lincomb c Vs", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>v n + lincomb c Vs = lincomb c Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "also"], ["proof (state)\nthis:\n  0\\<^sub>v n + lincomb c Vs = lincomb c Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "have \"\\<dots> = b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c Vs = b", "unfolding b"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c Vs = lincomb c Vs", "by simp"], ["proof (state)\nthis:\n  lincomb c Vs = b\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "finally"], ["proof (chain)\npicking this:\n  lincomb d Ws = b", "have \"b = lincomb d Ws\""], ["proof (prove)\nusing this:\n  lincomb d Ws = b\n\ngoal (1 subgoal):\n 1. b = lincomb d Ws", "by auto"], ["proof (state)\nthis:\n  b = lincomb d Ws\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> finite_cone Vs \\<Longrightarrow> x \\<in> finite_cone Ws", "then"], ["proof (chain)\npicking this:\n  b = lincomb d Ws", "show \"b \\<in> finite_cone Ws\""], ["proof (prove)\nusing this:\n  b = lincomb d Ws\n\ngoal (1 subgoal):\n 1. b \\<in> finite_cone Ws", "using d fin"], ["proof (prove)\nusing this:\n  b = lincomb d Ws\n  d ` Ws \\<subseteq> {x. (0::'a) \\<le> x}\n  finite Ws\n\ngoal (1 subgoal):\n 1. b \\<in> finite_cone Ws", "unfolding finite_cone_def nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  b = lincomb d Ws\n  d ` Ws \\<subseteq> {x. (0::'a) \\<le> x}\n  finite Ws\n\ngoal (1 subgoal):\n 1. b \\<in> {b. \\<exists>c.\n                   lincomb c (if finite Ws then Ws else {}) = b \\<and>\n                   c ` (if finite Ws then Ws else {})\n                   \\<subseteq> Collect ((\\<le>) (0::'a))}", "by auto"], ["proof (state)\nthis:\n  b \\<in> finite_cone Ws\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_cone_carrier: \"A \\<subseteq> carrier_vec n \\<Longrightarrow> finite_cone A \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> carrier_vec n \\<Longrightarrow>\n    finite_cone A \\<subseteq> carrier_vec n", "unfolding finite_cone_def nonneg_lincomb_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> carrier_vec n \\<Longrightarrow>\n    {b. \\<exists>c.\n           lincomb c (if finite A then A else {}) = b \\<and>\n           c ` (if finite A then A else {})\n           \\<subseteq> Collect ((\\<le>) (0::'a))}\n    \\<subseteq> carrier_vec n", "by auto"], ["", "lemma cone_carrier: \"A \\<subseteq> carrier_vec n \\<Longrightarrow> cone A \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> carrier_vec n \\<Longrightarrow>\n    cone A \\<subseteq> carrier_vec n", "using finite_cone_carrier"], ["proof (prove)\nusing this:\n  ?A \\<subseteq> carrier_vec n \\<Longrightarrow>\n  finite_cone ?A \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. A \\<subseteq> carrier_vec n \\<Longrightarrow>\n    cone A \\<subseteq> carrier_vec n", "unfolding cone_def"], ["proof (prove)\nusing this:\n  ?A \\<subseteq> carrier_vec n \\<Longrightarrow>\n  finite_cone ?A \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. A \\<subseteq> carrier_vec n \\<Longrightarrow>\n    {x. \\<exists>Ws.\n           finite Ws \\<and> Ws \\<subseteq> A \\<and> x \\<in> finite_cone Ws}\n    \\<subseteq> carrier_vec n", "by blast"], ["", "lemma cone_iff_finite_cone: assumes A: \"A \\<subseteq> carrier_vec n\"\n  and fin: \"finite A\"\nshows \"cone A = finite_cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone A = finite_cone A", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. cone A \\<subseteq> finite_cone A\n 2. finite_cone A \\<subseteq> cone A", "show \"finite_cone A \\<subseteq> cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite_cone A \\<subseteq> cone A", "unfolding cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite_cone A\n    \\<subseteq> {x. \\<exists>Ws.\n                       finite Ws \\<and>\n                       Ws \\<subseteq> A \\<and> x \\<in> finite_cone Ws}", "using fin"], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. finite_cone A\n    \\<subseteq> {x. \\<exists>Ws.\n                       finite Ws \\<and>\n                       Ws \\<subseteq> A \\<and> x \\<in> finite_cone Ws}", "by auto"], ["proof (state)\nthis:\n  finite_cone A \\<subseteq> cone A\n\ngoal (1 subgoal):\n 1. cone A \\<subseteq> finite_cone A", "show \"cone A \\<subseteq> finite_cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone A \\<subseteq> finite_cone A", "unfolding cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. \\<exists>Ws.\n           finite Ws \\<and> Ws \\<subseteq> A \\<and> x \\<in> finite_cone Ws}\n    \\<subseteq> finite_cone A", "using fin finite_cone_mono[OF fin A]"], ["proof (prove)\nusing this:\n  finite A\n  ?Vs \\<subseteq> A \\<Longrightarrow>\n  finite_cone ?Vs \\<subseteq> finite_cone A\n\ngoal (1 subgoal):\n 1. {x. \\<exists>Ws.\n           finite Ws \\<and> Ws \\<subseteq> A \\<and> x \\<in> finite_cone Ws}\n    \\<subseteq> finite_cone A", "by auto"], ["proof (state)\nthis:\n  cone A \\<subseteq> finite_cone A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma set_in_finite_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and fin: \"finite Vs\"\n  shows \"Vs \\<subseteq> finite_cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vs \\<subseteq> finite_cone Vs", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Vs \\<Longrightarrow> x \\<in> finite_cone Vs", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Vs \\<Longrightarrow> x \\<in> finite_cone Vs", "assume x: \"x \\<in> Vs\""], ["proof (state)\nthis:\n  x \\<in> Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Vs \\<Longrightarrow> x \\<in> finite_cone Vs", "show \"x \\<in> finite_cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> finite_cone Vs", "unfolding finite_cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {b. \\<exists>c.\n                   nonneg_lincomb c (if finite Vs then Vs else {}) b}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "let ?c = \"\\<lambda> y. if x = y then 1 else 0 :: 'a\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "have Vsx: \"Vs - {x} \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vs - {x} \\<subseteq> carrier_vec n", "using Vs"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. Vs - {x} \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  Vs - {x} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "have \"lincomb ?c Vs = x + lincomb ?c (Vs - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs =\n    x + lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x})", "using lincomb_del2 x Vs fin"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite ?S; ?S \\<subseteq> carrier_vec n; True;\n   ?v \\<in> ?S\\<rbrakk>\n  \\<Longrightarrow> lincomb ?a ?S =\n                    ?a ?v \\<cdot>\\<^sub>v ?v + lincomb ?a (?S - {?v})\n  x \\<in> Vs\n  Vs \\<subseteq> carrier_vec n\n  finite Vs\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs =\n    x + lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x})", "by auto"], ["proof (state)\nthis:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs =\n  x + lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x})\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "also"], ["proof (state)\nthis:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs =\n  x + lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x})\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "have \"lincomb ?c (Vs - {x}) = 0\\<^sub>v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x}) =\n    0\\<^sub>v n", "using lincomb_zero Vsx"], ["proof (prove)\nusing this:\n  \\<lbrakk>?U \\<subseteq> carrier_vec n;\n   ?a \\<in> ?U \\<rightarrow> {0::'a}\\<rbrakk>\n  \\<Longrightarrow> lincomb ?a ?U = 0\\<^sub>v n\n  Vs - {x} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x}) =\n    0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x}) =\n  0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "also"], ["proof (state)\nthis:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) (Vs - {x}) =\n  0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "have \"x + 0\\<^sub>v n = x \""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + 0\\<^sub>v n = x", "using M.r_zero Vs x"], ["proof (prove)\nusing this:\n  ?x \\<in> carrier_vec n \\<Longrightarrow> ?x + 0\\<^sub>v n = ?x\n  Vs \\<subseteq> carrier_vec n\n  x \\<in> Vs\n\ngoal (1 subgoal):\n 1. x + 0\\<^sub>v n = x", "by auto"], ["proof (state)\nthis:\n  x + 0\\<^sub>v n = x\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "finally"], ["proof (chain)\npicking this:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x", "have \"lincomb ?c Vs = x\""], ["proof (prove)\nusing this:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x", "by auto"], ["proof (state)\nthis:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "moreover"], ["proof (state)\nthis:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "have \"?c ` Vs \\<subseteq> {z. z \\<ge> 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>y. if x = y then 1::'a else (0::'a)) ` Vs\n    \\<subseteq> {z. (0::'a) \\<le> z}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>y. if x = y then 1::'a else (0::'a)) ` Vs\n  \\<subseteq> {z. (0::'a) \\<le> z}\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "ultimately"], ["proof (chain)\npicking this:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n  (\\<lambda>y. if x = y then 1::'a else (0::'a)) ` Vs\n  \\<subseteq> {z. (0::'a) \\<le> z}", "show \"\\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x\""], ["proof (prove)\nusing this:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n  (\\<lambda>y. if x = y then 1::'a else (0::'a)) ` Vs\n  \\<subseteq> {z. (0::'a) \\<le> z}\n\ngoal (1 subgoal):\n 1. \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x", "unfolding nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n  (\\<lambda>y. if x = y then 1::'a else (0::'a)) ` Vs\n  \\<subseteq> {z. (0::'a) \\<le> z}\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       lincomb c (if finite Vs then Vs else {}) = x \\<and>\n       c ` (if finite Vs then Vs else {})\n       \\<subseteq> Collect ((\\<le>) (0::'a))", "using fin"], ["proof (prove)\nusing this:\n  lincomb (\\<lambda>y. if x = y then 1::'a else (0::'a)) Vs = x\n  (\\<lambda>y. if x = y then 1::'a else (0::'a)) ` Vs\n  \\<subseteq> {z. (0::'a) \\<le> z}\n  finite Vs\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       lincomb c (if finite Vs then Vs else {}) = x \\<and>\n       c ` (if finite Vs then Vs else {})\n       \\<subseteq> Collect ((\\<le>) (0::'a))", "by auto"], ["proof (state)\nthis:\n  \\<exists>c. nonneg_lincomb c (if finite Vs then Vs else {}) x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<in> finite_cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma set_in_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"Vs \\<subseteq> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vs \\<subseteq> cone Vs", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Vs \\<Longrightarrow> x \\<in> cone Vs", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Vs \\<Longrightarrow> x \\<in> cone Vs", "assume x: \"x \\<in> Vs\""], ["proof (state)\nthis:\n  x \\<in> Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> Vs \\<Longrightarrow> x \\<in> cone Vs", "show \"x \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "unfolding cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {x. \\<exists>Ws.\n                   finite Ws \\<and>\n                   Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}", "proof (intro CollectI exI)"], ["proof (state)\ngoal (1 subgoal):\n 1. finite ?Ws1 \\<and> ?Ws1 \\<subseteq> Vs \\<and> x \\<in> finite_cone ?Ws1", "have \"x \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "using Vs x"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n  x \\<in> Vs\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. finite ?Ws1 \\<and> ?Ws1 \\<subseteq> Vs \\<and> x \\<in> finite_cone ?Ws1", "then"], ["proof (chain)\npicking this:\n  x \\<in> carrier_vec n", "have \"x \\<in> finite_cone {x}\""], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone {x}", "using set_in_finite_cone"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  \\<lbrakk>?Vs \\<subseteq> carrier_vec n; finite ?Vs\\<rbrakk>\n  \\<Longrightarrow> ?Vs \\<subseteq> finite_cone ?Vs\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone {x}", "by auto"], ["proof (state)\nthis:\n  x \\<in> finite_cone {x}\n\ngoal (1 subgoal):\n 1. finite ?Ws1 \\<and> ?Ws1 \\<subseteq> Vs \\<and> x \\<in> finite_cone ?Ws1", "then"], ["proof (chain)\npicking this:\n  x \\<in> finite_cone {x}", "show \"finite {x} \\<and> {x} \\<subseteq> Vs \\<and> x \\<in> finite_cone {x}\""], ["proof (prove)\nusing this:\n  x \\<in> finite_cone {x}\n\ngoal (1 subgoal):\n 1. finite {x} \\<and> {x} \\<subseteq> Vs \\<and> x \\<in> finite_cone {x}", "using x"], ["proof (prove)\nusing this:\n  x \\<in> finite_cone {x}\n  x \\<in> Vs\n\ngoal (1 subgoal):\n 1. finite {x} \\<and> {x} \\<subseteq> Vs \\<and> x \\<in> finite_cone {x}", "by auto"], ["proof (state)\nthis:\n  finite {x} \\<and> {x} \\<subseteq> Vs \\<and> x \\<in> finite_cone {x}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma zero_in_finite_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"0\\<^sub>v n \\<in> finite_cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "let ?Vs = \"(if finite Vs then Vs else {})\""], ["proof (state)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "have \"lincomb (\\<lambda> x. 0 :: 'a) ?Vs = 0\\<^sub>v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n", "using lincomb_zero Vs"], ["proof (prove)\nusing this:\n  \\<lbrakk>?U \\<subseteq> carrier_vec n;\n   ?a \\<in> ?U \\<rightarrow> {0::'a}\\<rbrakk>\n  \\<Longrightarrow> lincomb ?a ?U = 0\\<^sub>v n\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "moreover"], ["proof (state)\nthis:\n  lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "have \"(\\<lambda> x. 0 :: 'a) ` ?Vs \\<subseteq> {y. y \\<ge> 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. 0::'a) ` (if finite Vs then Vs else {})\n    \\<subseteq> {y. (0::'a) \\<le> y}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. 0::'a) ` (if finite Vs then Vs else {})\n  \\<subseteq> {y. (0::'a) \\<le> y}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "ultimately"], ["proof (chain)\npicking this:\n  lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n\n  (\\<lambda>x. 0::'a) ` (if finite Vs then Vs else {})\n  \\<subseteq> {y. (0::'a) \\<le> y}", "show ?thesis"], ["proof (prove)\nusing this:\n  lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n\n  (\\<lambda>x. 0::'a) ` (if finite Vs then Vs else {})\n  \\<subseteq> {y. (0::'a) \\<le> y}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone Vs", "unfolding finite_cone_def nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  lincomb (\\<lambda>x. 0::'a) (if finite Vs then Vs else {}) = 0\\<^sub>v n\n  (\\<lambda>x. 0::'a) ` (if finite Vs then Vs else {})\n  \\<subseteq> {y. (0::'a) \\<le> y}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n\n    \\<in> {b. \\<exists>c.\n                 lincomb c (if finite Vs then Vs else {}) = b \\<and>\n                 c ` (if finite Vs then Vs else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}", "by blast"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<in> finite_cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lincomb_in_finite_cone:\n  assumes \"x = lincomb l W\"\n    and \"finite W\"\n    and \"\\<forall>i \\<in> W . l i \\<ge> 0\"\n    and \"W \\<subseteq> carrier_vec n\"\n  shows \"x \\<in> finite_cone W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> finite_cone W", "using cone_iff_finite_cone assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> carrier_vec n; finite ?A\\<rbrakk>\n  \\<Longrightarrow> cone ?A = finite_cone ?A\n  x = lincomb l W\n  finite W\n  \\<forall>i\\<in>W. (0::'a) \\<le> l i\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone W", "unfolding finite_cone_def nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> carrier_vec n; finite ?A\\<rbrakk>\n  \\<Longrightarrow> cone ?A =\n                    {b. \\<exists>c.\n                           lincomb c (if finite ?A then ?A else {}) =\n                           b \\<and>\n                           c ` (if finite ?A then ?A else {})\n                           \\<subseteq> Collect ((\\<le>) (0::'a))}\n  x = lincomb l W\n  finite W\n  \\<forall>i\\<in>W. (0::'a) \\<le> l i\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> {b. \\<exists>c.\n                   lincomb c (if finite W then W else {}) = b \\<and>\n                   c ` (if finite W then W else {})\n                   \\<subseteq> Collect ((\\<le>) (0::'a))}", "by auto"], ["", "lemma lincomb_in_cone:\n  assumes \"x = lincomb l W\"\n    and \"finite W\"\n    and \"\\<forall>i \\<in> W . l i \\<ge> 0\"\n    and \"W \\<subseteq> carrier_vec n\"\n  shows \"x \\<in> cone W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> cone W", "using cone_iff_finite_cone assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> carrier_vec n; finite ?A\\<rbrakk>\n  \\<Longrightarrow> cone ?A = finite_cone ?A\n  x = lincomb l W\n  finite W\n  \\<forall>i\\<in>W. (0::'a) \\<le> l i\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> cone W", "unfolding finite_cone_def nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A \\<subseteq> carrier_vec n; finite ?A\\<rbrakk>\n  \\<Longrightarrow> cone ?A =\n                    {b. \\<exists>c.\n                           lincomb c (if finite ?A then ?A else {}) =\n                           b \\<and>\n                           c ` (if finite ?A then ?A else {})\n                           \\<subseteq> Collect ((\\<le>) (0::'a))}\n  x = lincomb l W\n  finite W\n  \\<forall>i\\<in>W. (0::'a) \\<le> l i\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> cone W", "by auto"], ["", "lemma zero_in_cone: \"0\\<^sub>v n \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "have \"finite {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {}", "by auto"], ["proof (state)\nthis:\n  finite {}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "moreover"], ["proof (state)\nthis:\n  finite {}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "have \"{} \\<subseteq> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<subseteq> cone Vs", "by auto"], ["proof (state)\nthis:\n  {} \\<subseteq> cone Vs\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "moreover"], ["proof (state)\nthis:\n  {} \\<subseteq> cone Vs\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "have \"0\\<^sub>v n \\<in> finite_cone {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone {}", "using zero_in_finite_cone"], ["proof (prove)\nusing this:\n  ?Vs \\<subseteq> carrier_vec n \\<Longrightarrow>\n  0\\<^sub>v n \\<in> finite_cone ?Vs\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> finite_cone {}", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<in> finite_cone {}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "ultimately"], ["proof (chain)\npicking this:\n  finite {}\n  {} \\<subseteq> cone Vs\n  0\\<^sub>v n \\<in> finite_cone {}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite {}\n  {} \\<subseteq> cone Vs\n  0\\<^sub>v n \\<in> finite_cone {}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<in> cone Vs", "unfolding cone_def"], ["proof (prove)\nusing this:\n  finite {}\n  {} \\<subseteq> {x. \\<exists>Ws.\n                        finite Ws \\<and>\n                        Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}\n  0\\<^sub>v n \\<in> finite_cone {}\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n\n    \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}", "by blast"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_smult:\n  assumes a: \"a \\<ge> 0\"\n    and Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and x: \"x \\<in> cone Vs\"\n  shows \"a \\<cdot>\\<^sub>v x \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x \\<in> cone Vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x \\<in> cone Vs", "from x Vs"], ["proof (chain)\npicking this:\n  x \\<in> cone Vs\n  Vs \\<subseteq> carrier_vec n", "obtain Ws c where Ws: \"Ws \\<subseteq> Vs\" and fin: \"finite Ws\" and\n    \"nonneg_lincomb c Ws x\""], ["proof (prove)\nusing this:\n  x \\<in> cone Vs\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>Ws c.\n        \\<lbrakk>Ws \\<subseteq> Vs; finite Ws;\n         nonneg_lincomb c Ws x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding cone_def finite_cone_def"], ["proof (prove)\nusing this:\n  x \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and>\n                 x \\<in> {b. \\<exists>c.\n                                nonneg_lincomb c\n                                 (if finite Ws then Ws else {}) b}}\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>Ws c.\n        \\<lbrakk>Ws \\<subseteq> Vs; finite Ws;\n         nonneg_lincomb c Ws x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Ws \\<subseteq> Vs\n  finite Ws\n  nonneg_lincomb c Ws x\n\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x \\<in> cone Vs", "then"], ["proof (chain)\npicking this:\n  Ws \\<subseteq> Vs\n  finite Ws\n  nonneg_lincomb c Ws x", "have \"nonneg_lincomb (\\<lambda> w. a * c w) Ws (a \\<cdot>\\<^sub>v x)\""], ["proof (prove)\nusing this:\n  Ws \\<subseteq> Vs\n  finite Ws\n  nonneg_lincomb c Ws x\n\ngoal (1 subgoal):\n 1. nonneg_lincomb (\\<lambda>w. a * c w) Ws (a \\<cdot>\\<^sub>v x)", "unfolding nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  Ws \\<subseteq> Vs\n  finite Ws\n  lincomb c Ws = x \\<and> c ` Ws \\<subseteq> Collect ((\\<le>) (0::'a))\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>w. a * c w) Ws = a \\<cdot>\\<^sub>v x \\<and>\n    (\\<lambda>w. a * c w) ` Ws \\<subseteq> Collect ((\\<le>) (0::'a))", "using a lincomb_distrib Vs"], ["proof (prove)\nusing this:\n  Ws \\<subseteq> Vs\n  finite Ws\n  lincomb c Ws = x \\<and> c ` Ws \\<subseteq> Collect ((\\<le>) (0::'a))\n  (0::'a) \\<le> a\n  \\<lbrakk>?U \\<subseteq> carrier_vec n; ?a \\<in> ?U \\<rightarrow> UNIV;\n   ?c \\<in> UNIV\\<rbrakk>\n  \\<Longrightarrow> ?c \\<cdot>\\<^sub>v lincomb ?a ?U =\n                    lincomb (\\<lambda>u. ?c * ?a u) ?U\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>w. a * c w) Ws = a \\<cdot>\\<^sub>v x \\<and>\n    (\\<lambda>w. a * c w) ` Ws \\<subseteq> Collect ((\\<le>) (0::'a))", "by auto"], ["proof (state)\nthis:\n  nonneg_lincomb (\\<lambda>w. a * c w) Ws (a \\<cdot>\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x \\<in> cone Vs", "then"], ["proof (chain)\npicking this:\n  nonneg_lincomb (\\<lambda>w. a * c w) Ws (a \\<cdot>\\<^sub>v x)", "show ?thesis"], ["proof (prove)\nusing this:\n  nonneg_lincomb (\\<lambda>w. a * c w) Ws (a \\<cdot>\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x \\<in> cone Vs", "using Ws fin"], ["proof (prove)\nusing this:\n  nonneg_lincomb (\\<lambda>w. a * c w) Ws (a \\<cdot>\\<^sub>v x)\n  Ws \\<subseteq> Vs\n  finite Ws\n\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x \\<in> cone Vs", "unfolding cone_def finite_cone_def"], ["proof (prove)\nusing this:\n  nonneg_lincomb (\\<lambda>w. a * c w) Ws (a \\<cdot>\\<^sub>v x)\n  Ws \\<subseteq> Vs\n  finite Ws\n\ngoal (1 subgoal):\n 1. a \\<cdot>\\<^sub>v x\n    \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and>\n                 x \\<in> {b. \\<exists>c.\n                                nonneg_lincomb c\n                                 (if finite Ws then Ws else {}) b}}", "by auto"], ["proof (state)\nthis:\n  a \\<cdot>\\<^sub>v x \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_cone_empty[simp]: \"finite_cone {} = {0\\<^sub>v n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite_cone {} = {0\\<^sub>v n}", "by (auto simp: finite_cone_def nonneg_lincomb_def)"], ["", "lemma cone_empty[simp]: \"cone {} = {0\\<^sub>v n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone {} = {0\\<^sub>v n}", "unfolding cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. \\<exists>Ws.\n           finite Ws \\<and>\n           Ws \\<subseteq> {} \\<and> x \\<in> finite_cone Ws} =\n    {0\\<^sub>v n}", "by simp"], ["", "lemma cone_elem_sum:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and x: \"x \\<in> cone Vs\"\n    and y: \"y \\<in> cone Vs\"\n  shows \"x + y \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "obtain Xs where Xs: \"Xs \\<subseteq> Vs\" and fin_Xs: \"finite Xs\"\n    and Xs_cone: \"x \\<in> finite_cone Xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Xs.\n        \\<lbrakk>Xs \\<subseteq> Vs; finite Xs;\n         x \\<in> finite_cone Xs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Vs x"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n  x \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. (\\<And>Xs.\n        \\<lbrakk>Xs \\<subseteq> Vs; finite Xs;\n         x \\<in> finite_cone Xs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding cone_def"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n  x \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}\n\ngoal (1 subgoal):\n 1. (\\<And>Xs.\n        \\<lbrakk>Xs \\<subseteq> Vs; finite Xs;\n         x \\<in> finite_cone Xs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Xs \\<subseteq> Vs\n  finite Xs\n  x \\<in> finite_cone Xs\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "obtain Ys where Ys: \"Ys \\<subseteq> Vs\" and fin_Ys: \"finite Ys\"\n    and Ys_cone: \"y \\<in> finite_cone Ys\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Ys.\n        \\<lbrakk>Ys \\<subseteq> Vs; finite Ys;\n         y \\<in> finite_cone Ys\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Vs y"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n  y \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. (\\<And>Ys.\n        \\<lbrakk>Ys \\<subseteq> Vs; finite Ys;\n         y \\<in> finite_cone Ys\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding cone_def"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n  y \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}\n\ngoal (1 subgoal):\n 1. (\\<And>Ys.\n        \\<lbrakk>Ys \\<subseteq> Vs; finite Ys;\n         y \\<in> finite_cone Ys\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Ys \\<subseteq> Vs\n  finite Ys\n  y \\<in> finite_cone Ys\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "have \"x \\<in> finite_cone (Xs \\<union> Ys)\" and \"y \\<in> finite_cone (Xs \\<union> Ys)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> finite_cone (Xs \\<union> Ys) &&&\n    y \\<in> finite_cone (Xs \\<union> Ys)", "using finite_cone_mono fin_Xs fin_Ys Xs Ys Vs Xs_cone Ys_cone"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite ?Ws; ?Ws \\<subseteq> carrier_vec n;\n   ?Vs \\<subseteq> ?Ws\\<rbrakk>\n  \\<Longrightarrow> finite_cone ?Vs \\<subseteq> finite_cone ?Ws\n  finite Xs\n  finite Ys\n  Xs \\<subseteq> Vs\n  Ys \\<subseteq> Vs\n  Vs \\<subseteq> carrier_vec n\n  x \\<in> finite_cone Xs\n  y \\<in> finite_cone Ys\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone (Xs \\<union> Ys) &&&\n    y \\<in> finite_cone (Xs \\<union> Ys)", "by (blast, blast)"], ["proof (state)\nthis:\n  x \\<in> finite_cone (Xs \\<union> Ys)\n  y \\<in> finite_cone (Xs \\<union> Ys)\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "then"], ["proof (chain)\npicking this:\n  x \\<in> finite_cone (Xs \\<union> Ys)\n  y \\<in> finite_cone (Xs \\<union> Ys)", "obtain cx cy where \"nonneg_lincomb cx (Xs \\<union> Ys) x\"\n    and \"nonneg_lincomb cy (Xs \\<union> Ys) y\""], ["proof (prove)\nusing this:\n  x \\<in> finite_cone (Xs \\<union> Ys)\n  y \\<in> finite_cone (Xs \\<union> Ys)\n\ngoal (1 subgoal):\n 1. (\\<And>cx cy.\n        \\<lbrakk>nonneg_lincomb cx (Xs \\<union> Ys) x;\n         nonneg_lincomb cy (Xs \\<union> Ys) y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding finite_cone_def"], ["proof (prove)\nusing this:\n  x \\<in> {b. \\<exists>c.\n                 nonneg_lincomb c\n                  (if finite (Xs \\<union> Ys) then Xs \\<union> Ys else {})\n                  b}\n  y \\<in> {b. \\<exists>c.\n                 nonneg_lincomb c\n                  (if finite (Xs \\<union> Ys) then Xs \\<union> Ys else {})\n                  b}\n\ngoal (1 subgoal):\n 1. (\\<And>cx cy.\n        \\<lbrakk>nonneg_lincomb cx (Xs \\<union> Ys) x;\n         nonneg_lincomb cy (Xs \\<union> Ys) y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using fin_Xs fin_Ys"], ["proof (prove)\nusing this:\n  x \\<in> {b. \\<exists>c.\n                 nonneg_lincomb c\n                  (if finite (Xs \\<union> Ys) then Xs \\<union> Ys else {})\n                  b}\n  y \\<in> {b. \\<exists>c.\n                 nonneg_lincomb c\n                  (if finite (Xs \\<union> Ys) then Xs \\<union> Ys else {})\n                  b}\n  finite Xs\n  finite Ys\n\ngoal (1 subgoal):\n 1. (\\<And>cx cy.\n        \\<lbrakk>nonneg_lincomb cx (Xs \\<union> Ys) x;\n         nonneg_lincomb cy (Xs \\<union> Ys) y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  nonneg_lincomb cx (Xs \\<union> Ys) x\n  nonneg_lincomb cy (Xs \\<union> Ys) y\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "hence \"nonneg_lincomb (\\<lambda> v. cx v + cy v) (Xs \\<union> Ys) (x + y)\""], ["proof (prove)\nusing this:\n  nonneg_lincomb cx (Xs \\<union> Ys) x\n  nonneg_lincomb cy (Xs \\<union> Ys) y\n\ngoal (1 subgoal):\n 1. nonneg_lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) (x + y)", "unfolding nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  lincomb cx (Xs \\<union> Ys) = x \\<and>\n  cx ` (Xs \\<union> Ys) \\<subseteq> Collect ((\\<le>) (0::'a))\n  lincomb cy (Xs \\<union> Ys) = y \\<and>\n  cy ` (Xs \\<union> Ys) \\<subseteq> Collect ((\\<le>) (0::'a))\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) = x + y \\<and>\n    (\\<lambda>v. cx v + cy v) ` (Xs \\<union> Ys)\n    \\<subseteq> Collect ((\\<le>) (0::'a))", "using lincomb_sum[of \"Xs \\<union> Ys\" cx cy] fin_Xs fin_Ys Xs Ys Vs"], ["proof (prove)\nusing this:\n  lincomb cx (Xs \\<union> Ys) = x \\<and>\n  cx ` (Xs \\<union> Ys) \\<subseteq> Collect ((\\<le>) (0::'a))\n  lincomb cy (Xs \\<union> Ys) = y \\<and>\n  cy ` (Xs \\<union> Ys) \\<subseteq> Collect ((\\<le>) (0::'a))\n  \\<lbrakk>finite (Xs \\<union> Ys);\n   Xs \\<union> Ys \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) =\n                    lincomb cx (Xs \\<union> Ys) +\n                    lincomb cy (Xs \\<union> Ys)\n  finite Xs\n  finite Ys\n  Xs \\<subseteq> Vs\n  Ys \\<subseteq> Vs\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) = x + y \\<and>\n    (\\<lambda>v. cx v + cy v) ` (Xs \\<union> Ys)\n    \\<subseteq> Collect ((\\<le>) (0::'a))", "by fastforce"], ["proof (state)\nthis:\n  nonneg_lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) (x + y)\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "hence \"x + y \\<in> finite_cone (Xs \\<union> Ys)\""], ["proof (prove)\nusing this:\n  nonneg_lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) (x + y)\n\ngoal (1 subgoal):\n 1. x + y \\<in> finite_cone (Xs \\<union> Ys)", "unfolding finite_cone_def"], ["proof (prove)\nusing this:\n  nonneg_lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) (x + y)\n\ngoal (1 subgoal):\n 1. x + y\n    \\<in> {b. \\<exists>c.\n                 nonneg_lincomb c\n                  (if finite (Xs \\<union> Ys) then Xs \\<union> Ys else {})\n                  b}", "using fin_Xs fin_Ys"], ["proof (prove)\nusing this:\n  nonneg_lincomb (\\<lambda>v. cx v + cy v) (Xs \\<union> Ys) (x + y)\n  finite Xs\n  finite Ys\n\ngoal (1 subgoal):\n 1. x + y\n    \\<in> {b. \\<exists>c.\n                 nonneg_lincomb c\n                  (if finite (Xs \\<union> Ys) then Xs \\<union> Ys else {})\n                  b}", "by auto"], ["proof (state)\nthis:\n  x + y \\<in> finite_cone (Xs \\<union> Ys)\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "thus ?thesis"], ["proof (prove)\nusing this:\n  x + y \\<in> finite_cone (Xs \\<union> Ys)\n\ngoal (1 subgoal):\n 1. x + y \\<in> cone Vs", "unfolding cone_def"], ["proof (prove)\nusing this:\n  x + y \\<in> finite_cone (Xs \\<union> Ys)\n\ngoal (1 subgoal):\n 1. x + y\n    \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}", "using fin_Xs fin_Ys Xs Ys"], ["proof (prove)\nusing this:\n  x + y \\<in> finite_cone (Xs \\<union> Ys)\n  finite Xs\n  finite Ys\n  Xs \\<subseteq> Vs\n  Ys \\<subseteq> Vs\n\ngoal (1 subgoal):\n 1. x + y\n    \\<in> {x. \\<exists>Ws.\n                 finite Ws \\<and>\n                 Ws \\<subseteq> Vs \\<and> x \\<in> finite_cone Ws}", "by auto"], ["proof (state)\nthis:\n  x + y \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_cone:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n  shows \"cone (cone Vs) = cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone (cone Vs) = cone Vs", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. cone (cone Vs) \\<subseteq> cone Vs\n 2. cone Vs \\<subseteq> cone (cone Vs)", "show \"cone Vs \\<subseteq> cone (cone Vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone (cone Vs)", "by (rule set_in_cone[OF cone_carrier[OF Vs]])"], ["proof (state)\nthis:\n  cone Vs \\<subseteq> cone (cone Vs)\n\ngoal (1 subgoal):\n 1. cone (cone Vs) \\<subseteq> cone Vs", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. cone (cone Vs) \\<subseteq> cone Vs", "show \"cone (cone Vs) \\<subseteq> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone (cone Vs) \\<subseteq> cone Vs", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone (cone Vs) \\<Longrightarrow> x \\<in> cone Vs", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone (cone Vs) \\<Longrightarrow> x \\<in> cone Vs", "assume x: \"x \\<in> cone (cone Vs)\""], ["proof (state)\nthis:\n  x \\<in> cone (cone Vs)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone (cone Vs) \\<Longrightarrow> x \\<in> cone Vs", "then"], ["proof (chain)\npicking this:\n  x \\<in> cone (cone Vs)", "obtain Ws c where Ws: \"set Ws \\<subseteq> cone Vs\"\n      and c: \"nonneg_lincomb_list c Ws x\""], ["proof (prove)\nusing this:\n  x \\<in> cone (cone Vs)\n\ngoal (1 subgoal):\n 1. (\\<And>Ws c.\n        \\<lbrakk>set Ws \\<subseteq> cone Vs;\n         nonneg_lincomb_list c Ws x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using cone_alt_def Vs cone_carrier"], ["proof (prove)\nusing this:\n  x \\<in> cone (cone Vs)\n  ?Vs \\<subseteq> carrier_vec n \\<Longrightarrow>\n  cone ?Vs =\n  {x. \\<exists>Ws. set Ws \\<subseteq> ?Vs \\<and> x \\<in> cone_list Ws}\n  Vs \\<subseteq> carrier_vec n\n  ?A \\<subseteq> carrier_vec n \\<Longrightarrow>\n  cone ?A \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>Ws c.\n        \\<lbrakk>set Ws \\<subseteq> cone Vs;\n         nonneg_lincomb_list c Ws x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding cone_list_def"], ["proof (prove)\nusing this:\n  x \\<in> cone (cone Vs)\n  ?Vs \\<subseteq> carrier_vec n \\<Longrightarrow>\n  cone ?Vs =\n  {x. \\<exists>Ws.\n         set Ws \\<subseteq> ?Vs \\<and>\n         x \\<in> {b. \\<exists>c. nonneg_lincomb_list c Ws b}}\n  Vs \\<subseteq> carrier_vec n\n  ?A \\<subseteq> carrier_vec n \\<Longrightarrow>\n  cone ?A \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>Ws c.\n        \\<lbrakk>set Ws \\<subseteq> cone Vs;\n         nonneg_lincomb_list c Ws x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  set Ws \\<subseteq> cone Vs\n  nonneg_lincomb_list c Ws x\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone (cone Vs) \\<Longrightarrow> x \\<in> cone Vs", "have \"set Ws \\<subseteq> cone Vs \\<Longrightarrow> nonneg_lincomb_list c Ws x \\<Longrightarrow> x \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>set Ws \\<subseteq> cone Vs; nonneg_lincomb_list c Ws x\\<rbrakk>\n    \\<Longrightarrow> x \\<in> cone Vs", "proof (induction Ws arbitrary: x c)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x c.\n       \\<lbrakk>set [] \\<subseteq> cone Vs;\n        nonneg_lincomb_list c [] x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs\n 2. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "case Nil"], ["proof (state)\nthis:\n  set [] \\<subseteq> cone Vs\n  nonneg_lincomb_list c [] x\n\ngoal (2 subgoals):\n 1. \\<And>x c.\n       \\<lbrakk>set [] \\<subseteq> cone Vs;\n        nonneg_lincomb_list c [] x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs\n 2. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "hence \"x = 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  set [] \\<subseteq> cone Vs\n  nonneg_lincomb_list c [] x\n\ngoal (1 subgoal):\n 1. x = 0\\<^sub>v n", "unfolding nonneg_lincomb_list_def"], ["proof (prove)\nusing this:\n  set [] \\<subseteq> cone Vs\n  lincomb_list c [] = x \\<and> (\\<forall>i<length []. (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. x = 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  x = 0\\<^sub>v n\n\ngoal (2 subgoals):\n 1. \\<And>x c.\n       \\<lbrakk>set [] \\<subseteq> cone Vs;\n        nonneg_lincomb_list c [] x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs\n 2. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "thus \"x \\<in> cone Vs\""], ["proof (prove)\nusing this:\n  x = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "using zero_in_cone"], ["proof (prove)\nusing this:\n  x = 0\\<^sub>v n\n  0\\<^sub>v n \\<in> cone ?Vs\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "by auto"], ["proof (state)\nthis:\n  x \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "case (Cons a Ws)"], ["proof (state)\nthis:\n  \\<lbrakk>set Ws \\<subseteq> cone Vs;\n   nonneg_lincomb_list ?c3 Ws ?x3\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<in> cone Vs\n  set (a # Ws) \\<subseteq> cone Vs\n  nonneg_lincomb_list c (a # Ws) x\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "have \"a \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> cone Vs", "using Cons.prems(1)"], ["proof (prove)\nusing this:\n  set (a # Ws) \\<subseteq> cone Vs\n\ngoal (1 subgoal):\n 1. a \\<in> cone Vs", "by auto"], ["proof (state)\nthis:\n  a \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "moreover"], ["proof (state)\nthis:\n  a \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "have \"c 0 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) \\<le> c 0", "using Cons.prems(2)"], ["proof (prove)\nusing this:\n  nonneg_lincomb_list c (a # Ws) x\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> c 0", "unfolding nonneg_lincomb_list_def"], ["proof (prove)\nusing this:\n  lincomb_list c (a # Ws) = x \\<and>\n  (\\<forall>i<length (a # Ws). (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> c 0", "by fastforce"], ["proof (state)\nthis:\n  (0::'a) \\<le> c 0\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "ultimately"], ["proof (chain)\npicking this:\n  a \\<in> cone Vs\n  (0::'a) \\<le> c 0", "have \"c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs\""], ["proof (prove)\nusing this:\n  a \\<in> cone Vs\n  (0::'a) \\<le> c 0\n\ngoal (1 subgoal):\n 1. c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs", "using cone_smult Vs"], ["proof (prove)\nusing this:\n  a \\<in> cone Vs\n  (0::'a) \\<le> c 0\n  \\<lbrakk>(0::'a) \\<le> ?a; ?Vs \\<subseteq> carrier_vec n;\n   ?x \\<in> cone ?Vs\\<rbrakk>\n  \\<Longrightarrow> ?a \\<cdot>\\<^sub>v ?x \\<in> cone ?Vs\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs", "by auto"], ["proof (state)\nthis:\n  c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "moreover"], ["proof (state)\nthis:\n  c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "have \"lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs", "using Cons"], ["proof (prove)\nusing this:\n  \\<lbrakk>set Ws \\<subseteq> cone Vs;\n   nonneg_lincomb_list ?c3 Ws ?x3\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<in> cone Vs\n  set (a # Ws) \\<subseteq> cone Vs\n  nonneg_lincomb_list c (a # Ws) x\n\ngoal (1 subgoal):\n 1. lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs", "unfolding nonneg_lincomb_list_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>set Ws \\<subseteq> cone Vs;\n   lincomb_list ?c3 Ws = ?x3 \\<and>\n   (\\<forall>i<length Ws. (0::'a) \\<le> ?c3 i)\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<in> cone Vs\n  set (a # Ws) \\<subseteq> cone Vs\n  lincomb_list c (a # Ws) = x \\<and>\n  (\\<forall>i<length (a # Ws). (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs", "by fastforce"], ["proof (state)\nthis:\n  lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "moreover"], ["proof (state)\nthis:\n  lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "have \"x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws", "using Cons.prems(2)"], ["proof (prove)\nusing this:\n  nonneg_lincomb_list c (a # Ws) x\n\ngoal (1 subgoal):\n 1. x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws", "unfolding nonneg_lincomb_list_def"], ["proof (prove)\nusing this:\n  lincomb_list c (a # Ws) = x \\<and>\n  (\\<forall>i<length (a # Ws). (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws", "by auto"], ["proof (state)\nthis:\n  x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws\n\ngoal (1 subgoal):\n 1. \\<And>a Ws x c.\n       \\<lbrakk>\\<And>x c.\n                   \\<lbrakk>set Ws \\<subseteq> cone Vs;\n                    nonneg_lincomb_list c Ws x\\<rbrakk>\n                   \\<Longrightarrow> x \\<in> cone Vs;\n        set (a # Ws) \\<subseteq> cone Vs;\n        nonneg_lincomb_list c (a # Ws) x\\<rbrakk>\n       \\<Longrightarrow> x \\<in> cone Vs", "ultimately"], ["proof (chain)\npicking this:\n  c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs\n  lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs\n  x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws", "show \"x \\<in> cone Vs\""], ["proof (prove)\nusing this:\n  c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs\n  lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs\n  x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "using cone_elem_sum Vs"], ["proof (prove)\nusing this:\n  c 0 \\<cdot>\\<^sub>v a \\<in> cone Vs\n  lincomb_list (c \\<circ> Suc) Ws \\<in> cone Vs\n  x = c 0 \\<cdot>\\<^sub>v a + lincomb_list (c \\<circ> Suc) Ws\n  \\<lbrakk>?Vs \\<subseteq> carrier_vec n; ?x \\<in> cone ?Vs;\n   ?y \\<in> cone ?Vs\\<rbrakk>\n  \\<Longrightarrow> ?x + ?y \\<in> cone ?Vs\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "by auto"], ["proof (state)\nthis:\n  x \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>set Ws \\<subseteq> cone Vs; nonneg_lincomb_list c Ws x\\<rbrakk>\n  \\<Longrightarrow> x \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone (cone Vs) \\<Longrightarrow> x \\<in> cone Vs", "thus \"x \\<in> cone Vs\""], ["proof (prove)\nusing this:\n  \\<lbrakk>set Ws \\<subseteq> cone Vs; nonneg_lincomb_list c Ws x\\<rbrakk>\n  \\<Longrightarrow> x \\<in> cone Vs\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "using Ws c"], ["proof (prove)\nusing this:\n  \\<lbrakk>set Ws \\<subseteq> cone Vs; nonneg_lincomb_list c Ws x\\<rbrakk>\n  \\<Longrightarrow> x \\<in> cone Vs\n  set Ws \\<subseteq> cone Vs\n  nonneg_lincomb_list c Ws x\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "by auto"], ["proof (state)\nthis:\n  x \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cone (cone Vs) \\<subseteq> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_smult_basis:\n  assumes Vs: \"Vs \\<subseteq> carrier_vec n\"\n    and l: \"l ` Vs \\<subseteq> {x. x > 0}\"\n  shows \"cone {l v \\<cdot>\\<^sub>v v | v . v \\<in> Vs} = cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} = cone Vs", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\n 2. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "have \"{l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<Longrightarrow>\n       x \\<in> cone Vs", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<Longrightarrow>\n       x \\<in> cone Vs", "assume \"x \\<in> {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs}\""], ["proof (state)\nthis:\n  x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<Longrightarrow>\n       x \\<in> cone Vs", "then"], ["proof (chain)\npicking this:\n  x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "obtain v where \"v \\<in> Vs\" and \"x = l v \\<cdot>\\<^sub>v v\""], ["proof (prove)\nusing this:\n  x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<in> Vs; x = l v \\<cdot>\\<^sub>v v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v \\<in> Vs\n  x = l v \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<Longrightarrow>\n       x \\<in> cone Vs", "thus \"x \\<in> cone Vs\""], ["proof (prove)\nusing this:\n  v \\<in> Vs\n  x = l v \\<cdot>\\<^sub>v v\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "using\n        set_in_cone[OF Vs] cone_smult[OF _ Vs, of \"l v\" v] l"], ["proof (prove)\nusing this:\n  v \\<in> Vs\n  x = l v \\<cdot>\\<^sub>v v\n  Vs \\<subseteq> cone Vs\n  \\<lbrakk>(0::'a) \\<le> l v; v \\<in> cone Vs\\<rbrakk>\n  \\<Longrightarrow> l v \\<cdot>\\<^sub>v v \\<in> cone Vs\n  l ` Vs \\<subseteq> {x. (0::'a) < x}\n\ngoal (1 subgoal):\n 1. x \\<in> cone Vs", "by fastforce"], ["proof (state)\nthis:\n  x \\<in> cone Vs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\n\ngoal (2 subgoals):\n 1. cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\n 2. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "thus \"cone {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs} \\<subseteq> cone Vs\""], ["proof (prove)\nusing this:\n  {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\n\ngoal (1 subgoal):\n 1. cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs", "using cone_mono cone_cone[OF Vs]"], ["proof (prove)\nusing this:\n  {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\n  ?Vs \\<subseteq> ?Ws \\<Longrightarrow> cone ?Vs \\<subseteq> cone ?Ws\n  cone (cone Vs) = cone Vs\n\ngoal (1 subgoal):\n 1. cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs", "by blast"], ["proof (state)\nthis:\n  cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> cone Vs\n\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "have lVs: \"{l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs} \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> carrier_vec n", "using Vs"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "have \"Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "assume v: \"v \\<in> Vs\""], ["proof (state)\nthis:\n  v \\<in> Vs\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "hence \"l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs}\""], ["proof (prove)\nusing this:\n  v \\<in> Vs\n\ngoal (1 subgoal):\n 1. l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "using set_in_cone[OF lVs]"], ["proof (prove)\nusing this:\n  v \\<in> Vs\n  {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n  \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "by auto"], ["proof (state)\nthis:\n  l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "moreover"], ["proof (state)\nthis:\n  l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "have \"1 / l v > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) < (1::'a) / l v", "using l v"], ["proof (prove)\nusing this:\n  l ` Vs \\<subseteq> {x. (0::'a) < x}\n  v \\<in> Vs\n\ngoal (1 subgoal):\n 1. (0::'a) < (1::'a) / l v", "by auto"], ["proof (state)\nthis:\n  (0::'a) < (1::'a) / l v\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "ultimately"], ["proof (chain)\npicking this:\n  l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n  (0::'a) < (1::'a) / l v", "have \"(1 / l v) \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v) \\<in> cone {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs}\""], ["proof (prove)\nusing this:\n  l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n  (0::'a) < (1::'a) / l v\n\ngoal (1 subgoal):\n 1. (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v)\n    \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "using cone_smult[OF _ lVs]"], ["proof (prove)\nusing this:\n  l v \\<cdot>\\<^sub>v v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n  (0::'a) < (1::'a) / l v\n  \\<lbrakk>(0::'a) \\<le> ?a;\n   ?x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\\<rbrakk>\n  \\<Longrightarrow> ?a \\<cdot>\\<^sub>v ?x\n                    \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v)\n    \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "by auto"], ["proof (state)\nthis:\n  (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v)\n  \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "also"], ["proof (state)\nthis:\n  (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v)\n  \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "have \"(1 / l v) \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v) = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v) = v", "using l v"], ["proof (prove)\nusing this:\n  l ` Vs \\<subseteq> {x. (0::'a) < x}\n  v \\<in> Vs\n\ngoal (1 subgoal):\n 1. (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v) = v", "by(auto simp add: smult_smult_assoc)"], ["proof (state)\nthis:\n  (1::'a) / l v \\<cdot>\\<^sub>v (l v \\<cdot>\\<^sub>v v) = v\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> Vs \\<Longrightarrow>\n       x \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "finally"], ["proof (chain)\npicking this:\n  v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "show \"v \\<in> cone {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs}\""], ["proof (prove)\nusing this:\n  v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "by auto"], ["proof (state)\nthis:\n  v \\<in> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "thus \"cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v | v. v \\<in> Vs}\""], ["proof (prove)\nusing this:\n  Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "using cone_mono cone_cone[OF lVs]"], ["proof (prove)\nusing this:\n  Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n  ?Vs \\<subseteq> ?Ws \\<Longrightarrow> cone ?Vs \\<subseteq> cone ?Ws\n  cone (cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}) =\n  cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal (1 subgoal):\n 1. cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}", "by blast"], ["proof (state)\nthis:\n  cone Vs \\<subseteq> cone {l v \\<cdot>\\<^sub>v v |v. v \\<in> Vs}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_add_cone:\n  assumes C: \"C \\<subseteq> carrier_vec n\"\n  shows \"cone C + cone C = cone C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone C + cone C = cone C", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. cone C + cone C \\<subseteq> cone C\n 2. cone C \\<subseteq> cone C + cone C", "note CC = cone_carrier[OF C]"], ["proof (state)\nthis:\n  cone C \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone C + cone C \\<subseteq> cone C\n 2. cone C \\<subseteq> cone C + cone C", "have \"cone C = cone C + {0\\<^sub>v n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone C = cone C + {0\\<^sub>v n}", "by (subst add_0_right_vecset[OF CC], simp)"], ["proof (state)\nthis:\n  cone C = cone C + {0\\<^sub>v n}\n\ngoal (2 subgoals):\n 1. cone C + cone C \\<subseteq> cone C\n 2. cone C \\<subseteq> cone C + cone C", "also"], ["proof (state)\nthis:\n  cone C = cone C + {0\\<^sub>v n}\n\ngoal (2 subgoals):\n 1. cone C + cone C \\<subseteq> cone C\n 2. cone C \\<subseteq> cone C + cone C", "have \"\\<dots> \\<subseteq> cone C + cone C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone C + {0\\<^sub>v n} \\<subseteq> cone C + cone C", "by (rule set_plus_mono2, insert zero_in_cone, auto)"], ["proof (state)\nthis:\n  cone C + {0\\<^sub>v n} \\<subseteq> cone C + cone C\n\ngoal (2 subgoals):\n 1. cone C + cone C \\<subseteq> cone C\n 2. cone C \\<subseteq> cone C + cone C", "finally"], ["proof (chain)\npicking this:\n  cone C \\<subseteq> cone C + cone C", "show \"cone C \\<subseteq> cone C + cone C\""], ["proof (prove)\nusing this:\n  cone C \\<subseteq> cone C + cone C\n\ngoal (1 subgoal):\n 1. cone C \\<subseteq> cone C + cone C", "by auto"], ["proof (state)\nthis:\n  cone C \\<subseteq> cone C + cone C\n\ngoal (1 subgoal):\n 1. cone C + cone C \\<subseteq> cone C", "from cone_elem_sum[OF C]"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x \\<in> cone C; ?y \\<in> cone C\\<rbrakk>\n  \\<Longrightarrow> ?x + ?y \\<in> cone C", "show \"cone C + cone C \\<subseteq> cone C\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> cone C; ?y \\<in> cone C\\<rbrakk>\n  \\<Longrightarrow> ?x + ?y \\<in> cone C\n\ngoal (1 subgoal):\n 1. cone C + cone C \\<subseteq> cone C", "by (auto elim!: set_plus_elim)"], ["proof (state)\nthis:\n  cone C + cone C \\<subseteq> cone C\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma orthogonal_cone:\n  assumes X: \"X \\<subseteq> carrier_vec n\"\n    and W: \"W \\<subseteq> carrier_vec n\"\n    and finX: \"finite X\"\n    and spanLW: \"span (set Ls \\<union> W) = carrier_vec n\"\n    and ortho: \"\\<And> w x. w \\<in> W \\<Longrightarrow> x \\<in> set Ls \\<Longrightarrow> w \\<bullet> x = 0\"\n    and WWs: \"W = set Ws\"\n    and spanL: \"span (set Ls) = span X\"\n    and LX: \"set Ls \\<subseteq> X\"\n    and lin_Ls_Bs: \"lin_indpt_list (Ls @ Bs)\"\n    and len_Ls_Bs: \"length (Ls @ Bs) = n\"\n  shows \"cone (X \\<union> set Bs) \\<inter> {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = 0} = cone X\"\n    \"\\<And> x. \\<forall>w\\<in>W. w \\<bullet> x = 0 \\<Longrightarrow> Z \\<subseteq> X \\<Longrightarrow> B \\<subseteq> set Bs \\<Longrightarrow> x = lincomb c (Z \\<union> B)\n    \\<Longrightarrow> x = lincomb c (Z - B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X &&&\n    (\\<And>x.\n        \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n         B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n        \\<Longrightarrow> x = lincomb c (Z - B))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from WWs"], ["proof (chain)\npicking this:\n  W = set Ws", "have finW: \"finite W\""], ["proof (prove)\nusing this:\n  W = set Ws\n\ngoal (1 subgoal):\n 1. finite W", "by auto"], ["proof (state)\nthis:\n  finite W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "define Y where \"Y = X \\<union> set Bs\""], ["proof (state)\nthis:\n  Y = X \\<union> set Bs\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from lin_Ls_Bs[unfolded lin_indpt_list_def]"], ["proof (chain)\npicking this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))", "have\n    Ls: \"set Ls \\<subseteq> carrier_vec n\" and\n    Bs: \"set Bs \\<subseteq> carrier_vec n\" and\n    distLsBs: \"distinct (Ls @ Bs)\" and\n    lin: \"lin_indpt (set (Ls @ Bs))\""], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. (set Ls \\<subseteq> carrier_vec n &&&\n     set Bs \\<subseteq> carrier_vec n) &&&\n    distinct (Ls @ Bs) &&& lin_indpt (set (Ls @ Bs))", "by auto"], ["proof (state)\nthis:\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n  distinct (Ls @ Bs)\n  lin_indpt (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have LW: \"set Ls \\<inter> W = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set Ls \\<inter> W = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. set Ls \\<inter> W \\<noteq> {} \\<Longrightarrow> False", "assume \"\\<not> ?thesis\""], ["proof (state)\nthis:\n  set Ls \\<inter> W \\<noteq> {}\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> W \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  set Ls \\<inter> W \\<noteq> {}", "obtain x where xX: \"x \\<in> set Ls\" and xW: \"x \\<in> W\""], ["proof (prove)\nusing this:\n  set Ls \\<inter> W \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> set Ls; x \\<in> W\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> set Ls\n  x \\<in> W\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> W \\<noteq> {} \\<Longrightarrow> False", "from ortho[OF xW xX]"], ["proof (chain)\npicking this:\n  x \\<bullet> x = (0::'a)", "have \"x \\<bullet> x = 0\""], ["proof (prove)\nusing this:\n  x \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. x \\<bullet> x = (0::'a)", "by auto"], ["proof (state)\nthis:\n  x \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> W \\<noteq> {} \\<Longrightarrow> False", "hence \"sq_norm x = 0\""], ["proof (prove)\nusing this:\n  x \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)", "by (auto simp: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> W \\<noteq> {} \\<Longrightarrow> False", "with vs_zero_lin_dep[OF _ lin] xX Ls Bs"], ["proof (chain)\npicking this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<Longrightarrow>\n  0\\<^sub>v n \\<notin> set (Ls @ Bs)\n  x \\<in> set Ls\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n  \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)", "show False"], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<Longrightarrow>\n  0\\<^sub>v n \\<notin> set (Ls @ Bs)\n  x \\<in> set Ls\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n  \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  set Ls \\<inter> W = {}\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have Y: \"Y \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y \\<subseteq> carrier_vec n", "using X Bs"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> carrier_vec n", "unfolding Y_def"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. X \\<union> set Bs \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  Y \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have CLB: \"carrier_vec n = span (set (Ls @ Bs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. carrier_vec n = local.span (set (Ls @ Bs))", "using lin_Ls_Bs len_Ls_Bs lin_indpt_list_length_eq_n"], ["proof (prove)\nusing this:\n  lin_indpt_list (Ls @ Bs)\n  length (Ls @ Bs) = n\n  \\<lbrakk>lin_indpt_list ?xs; length ?xs = n\\<rbrakk>\n  \\<Longrightarrow> local.span (set ?xs) = carrier_vec n\n  \\<lbrakk>lin_indpt_list ?xs; length ?xs = n\\<rbrakk>\n  \\<Longrightarrow> basis (set ?xs)\n\ngoal (1 subgoal):\n 1. carrier_vec n = local.span (set (Ls @ Bs))", "by blast"], ["proof (state)\nthis:\n  carrier_vec n = local.span (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  carrier_vec n = local.span (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"\\<dots> \\<subseteq> span Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.span (set (Ls @ Bs)) \\<subseteq> local.span Y", "by (rule span_is_monotone, insert LX, auto simp: Y_def)"], ["proof (state)\nthis:\n  local.span (set (Ls @ Bs)) \\<subseteq> local.span Y\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  carrier_vec n \\<subseteq> local.span Y", "have span: \"span Y = carrier_vec n\""], ["proof (prove)\nusing this:\n  carrier_vec n \\<subseteq> local.span Y\n\ngoal (1 subgoal):\n 1. local.span Y = carrier_vec n", "using Y"], ["proof (prove)\nusing this:\n  carrier_vec n \\<subseteq> local.span Y\n  Y \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span Y = carrier_vec n", "by auto"], ["proof (state)\nthis:\n  local.span Y = carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have finY: \"finite Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite Y", "using finX finW"], ["proof (prove)\nusing this:\n  finite X\n  finite W\n\ngoal (1 subgoal):\n 1. finite Y", "unfolding Y_def"], ["proof (prove)\nusing this:\n  finite X\n  finite W\n\ngoal (1 subgoal):\n 1. finite (X \\<union> set Bs)", "by auto"], ["proof (state)\nthis:\n  finite Y\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "{"], ["proof (state)\nthis:\n  finite Y\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "fix x Z B d"], ["proof (state)\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "assume xX: \"\\<forall>w\\<in>W. w \\<bullet> x = 0\" and ZX: \"Z \\<subseteq> X\" and B: \"B \\<subseteq> set Bs\" and\n      xd: \"x = lincomb d (Z \\<union> B)\""], ["proof (state)\nthis:\n  \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)\n  Z \\<subseteq> X\n  B \\<subseteq> set Bs\n  x = lincomb d (Z \\<union> B)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from ZX B X Bs"], ["proof (chain)\npicking this:\n  Z \\<subseteq> X\n  B \\<subseteq> set Bs\n  X \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n", "have ZB: \"Z \\<union> B \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  Z \\<subseteq> X\n  B \\<subseteq> set Bs\n  X \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. Z \\<union> B \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  Z \\<union> B \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "with xd"], ["proof (chain)\npicking this:\n  x = lincomb d (Z \\<union> B)\n  Z \\<union> B \\<subseteq> carrier_vec n", "have x: \"x \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  x = lincomb d (Z \\<union> B)\n  Z \\<union> B \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from xX W"], ["proof (chain)\npicking this:\n  \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)\n  W \\<subseteq> carrier_vec n", "have w0: \"w \\<in> W \\<Longrightarrow> w \\<bullet> x = 0\" for w"], ["proof (prove)\nusing this:\n  \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. w \\<in> W \\<Longrightarrow> w \\<bullet> x = (0::'a)", "by auto"], ["proof (state)\nthis:\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> x = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from finite_in_span[OF _ _ x[folded spanLW]] Ls X W finW finX"], ["proof (chain)\npicking this:\n  \\<lbrakk>finite (set Ls \\<union> W);\n   set Ls \\<union> W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> \\<exists>a.\n                       True \\<and> lincomb a (set Ls \\<union> W) = x\n  set Ls \\<subseteq> carrier_vec n\n  X \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n  finite W\n  finite X", "obtain c where xc: \"x = lincomb c (set Ls \\<union> W)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>finite (set Ls \\<union> W);\n   set Ls \\<union> W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> \\<exists>a.\n                       True \\<and> lincomb a (set Ls \\<union> W) = x\n  set Ls \\<subseteq> carrier_vec n\n  X \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n  finite W\n  finite X\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        x = lincomb c (set Ls \\<union> W) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = lincomb c (set Ls \\<union> W)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"x = lincomb c (set Ls \\<union> W)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = lincomb c (set Ls \\<union> W)", "unfolding xc"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (set Ls \\<union> W) = lincomb c (set Ls \\<union> W)", "by auto"], ["proof (state)\nthis:\n  x = lincomb c (set Ls \\<union> W)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  x = lincomb c (set Ls \\<union> W)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"\\<dots> = lincomb c (set Ls) + lincomb c W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (set Ls \\<union> W) = lincomb c (set Ls) + lincomb c W", "by (rule lincomb_union, insert X LX W LW finW, auto)"], ["proof (state)\nthis:\n  lincomb c (set Ls \\<union> W) = lincomb c (set Ls) + lincomb c W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  x = lincomb c (set Ls) + lincomb c W", "have xsum: \"x = lincomb c (set Ls) + lincomb c W\""], ["proof (prove)\nusing this:\n  x = lincomb c (set Ls) + lincomb c W\n\ngoal (1 subgoal):\n 1. x = lincomb c (set Ls) + lincomb c W", "."], ["proof (state)\nthis:\n  x = lincomb c (set Ls) + lincomb c W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "{"], ["proof (state)\nthis:\n  x = lincomb c (set Ls) + lincomb c W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "fix w"], ["proof (state)\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "assume wW: \"w \\<in> W\""], ["proof (state)\nthis:\n  w \\<in> W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "with W"], ["proof (chain)\npicking this:\n  W \\<subseteq> carrier_vec n\n  w \\<in> W", "have w: \"w \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  w \\<in> W\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from w0[OF wW, unfolded xsum]"], ["proof (chain)\npicking this:\n  w \\<bullet> (lincomb c (set Ls) + lincomb c W) = (0::'a)", "have \"0 = w \\<bullet> (lincomb c (set Ls) + lincomb c W)\""], ["proof (prove)\nusing this:\n  w \\<bullet> (lincomb c (set Ls) + lincomb c W) = (0::'a)\n\ngoal (1 subgoal):\n 1. (0::'a) = w \\<bullet> (lincomb c (set Ls) + lincomb c W)", "by simp"], ["proof (state)\nthis:\n  (0::'a) = w \\<bullet> (lincomb c (set Ls) + lincomb c W)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  (0::'a) = w \\<bullet> (lincomb c (set Ls) + lincomb c W)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"\\<dots> = w \\<bullet> lincomb c (set Ls) + w \\<bullet> lincomb c W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<bullet> (lincomb c (set Ls) + lincomb c W) =\n    w \\<bullet> lincomb c (set Ls) + w \\<bullet> lincomb c W", "by (rule scalar_prod_add_distrib[OF w], insert Ls W, auto)"], ["proof (state)\nthis:\n  w \\<bullet> (lincomb c (set Ls) + lincomb c W) =\n  w \\<bullet> lincomb c (set Ls) + w \\<bullet> lincomb c W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  w \\<bullet> (lincomb c (set Ls) + lincomb c W) =\n  w \\<bullet> lincomb c (set Ls) + w \\<bullet> lincomb c W\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"w \\<bullet> lincomb c (set Ls) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<bullet> lincomb c (set Ls) = (0::'a)", "using ortho[OF wW]"], ["proof (prove)\nusing this:\n  ?x3 \\<in> set Ls \\<Longrightarrow> w \\<bullet> ?x3 = (0::'a)\n\ngoal (1 subgoal):\n 1. w \\<bullet> lincomb c (set Ls) = (0::'a)", "by (subst lincomb_scalar_prod_right[OF Ls w], auto)"], ["proof (state)\nthis:\n  w \\<bullet> lincomb c (set Ls) = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  (0::'a) = (0::'a) + w \\<bullet> lincomb c W", "have \"w \\<bullet> lincomb c W = 0\""], ["proof (prove)\nusing this:\n  (0::'a) = (0::'a) + w \\<bullet> lincomb c W\n\ngoal (1 subgoal):\n 1. w \\<bullet> lincomb c W = (0::'a)", "by simp"], ["proof (state)\nthis:\n  w \\<bullet> lincomb c W = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "}"], ["proof (state)\nthis:\n  ?w5 \\<in> W \\<Longrightarrow> ?w5 \\<bullet> lincomb c W = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence \"lincomb c W \\<bullet> lincomb c W = 0\""], ["proof (prove)\nusing this:\n  ?w5 \\<in> W \\<Longrightarrow> ?w5 \\<bullet> lincomb c W = (0::'a)\n\ngoal (1 subgoal):\n 1. lincomb c W \\<bullet> lincomb c W = (0::'a)", "using W"], ["proof (prove)\nusing this:\n  ?w5 \\<in> W \\<Longrightarrow> ?w5 \\<bullet> lincomb c W = (0::'a)\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb c W \\<bullet> lincomb c W = (0::'a)", "by (subst lincomb_scalar_prod_left, auto)"], ["proof (state)\nthis:\n  lincomb c W \\<bullet> lincomb c W = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence \"sq_norm (lincomb c W) = 0\""], ["proof (prove)\nusing this:\n  lincomb c W \\<bullet> lincomb c W = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<parallel>lincomb c W\\<parallel>\\<^sup>2 = (0::'a)", "by (auto simp: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  \\<parallel>lincomb c W\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence 0: \"lincomb c W = 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  \\<parallel>lincomb c W\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. lincomb c W = 0\\<^sub>v n", "using lincomb_closed[OF W, of c]"], ["proof (prove)\nusing this:\n  \\<parallel>lincomb c W\\<parallel>\\<^sup>2 = (0::'a)\n  lincomb c W \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb c W = 0\\<^sub>v n", "by simp"], ["proof (state)\nthis:\n  lincomb c W = 0\\<^sub>v n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have xc: \"x = lincomb c (set Ls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = lincomb c (set Ls)", "unfolding xsum 0"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (set Ls) + 0\\<^sub>v n = lincomb c (set Ls)", "using Ls"], ["proof (prove)\nusing this:\n  set Ls \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb c (set Ls) + 0\\<^sub>v n = lincomb c (set Ls)", "by auto"], ["proof (state)\nthis:\n  x = lincomb c (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence xL: \"x \\<in> span (set Ls)\""], ["proof (prove)\nusing this:\n  x = lincomb c (set Ls)\n\ngoal (1 subgoal):\n 1. x \\<in> local.span (set Ls)", "by auto"], ["proof (state)\nthis:\n  x \\<in> local.span (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "let ?X = \"Z - B\""], ["proof (state)\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"lincomb d ?X \\<in> span X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d (Z - B) \\<in> local.span X", "using finite_subset[OF _ finX, of ?X] X ZX"], ["proof (prove)\nusing this:\n  Z - B \\<subseteq> X \\<Longrightarrow> finite (Z - B)\n  X \\<subseteq> carrier_vec n\n  Z \\<subseteq> X\n\ngoal (1 subgoal):\n 1. lincomb d (Z - B) \\<in> local.span X", "by auto"], ["proof (state)\nthis:\n  lincomb d (Z - B) \\<in> local.span X\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from finite_in_span[OF finite_set Ls this[folded spanL]]"], ["proof (chain)\npicking this:\n  \\<exists>a. True \\<and> lincomb a (set Ls) = lincomb d (Z - B)", "obtain e where ed: \"lincomb e (set Ls) = lincomb d ?X\""], ["proof (prove)\nusing this:\n  \\<exists>a. True \\<and> lincomb a (set Ls) = lincomb d (Z - B)\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        lincomb e (set Ls) = lincomb d (Z - B) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lincomb e (set Ls) = lincomb d (Z - B)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from B finite_subset[OF B]"], ["proof (chain)\npicking this:\n  B \\<subseteq> set Bs\n  finite (set Bs) \\<Longrightarrow> finite B", "have finB: \"finite B\""], ["proof (prove)\nusing this:\n  B \\<subseteq> set Bs\n  finite (set Bs) \\<Longrightarrow> finite B\n\ngoal (1 subgoal):\n 1. finite B", "by auto"], ["proof (state)\nthis:\n  finite B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from B Bs"], ["proof (chain)\npicking this:\n  B \\<subseteq> set Bs\n  set Bs \\<subseteq> carrier_vec n", "have BC: \"B \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  B \\<subseteq> set Bs\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. B \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  B \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "define f where \"f =\n      (\\<lambda> x. if x \\<in> set Bs then if x \\<in> B then d x else 0 else if x \\<in> set Ls then e x else undefined)\""], ["proof (state)\nthis:\n  f =\n  (\\<lambda>x.\n      if x \\<in> set Bs then if x \\<in> B then d x else (0::'a)\n      else if x \\<in> set Ls then e x else undefined)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"x = lincomb d (?X \\<union> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = lincomb d (Z - B \\<union> B)", "unfolding xd"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d (Z \\<union> B) = lincomb d (Z - B \\<union> B)", "by auto"], ["proof (state)\nthis:\n  x = lincomb d (Z - B \\<union> B)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  x = lincomb d (Z - B \\<union> B)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"\\<dots> = lincomb d ?X + lincomb d B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d (Z - B \\<union> B) = lincomb d (Z - B) + lincomb d B", "by (rule lincomb_union[OF _ _ _ finite_subset[OF _ finX]], insert ZX X finB B Bs, auto)"], ["proof (state)\nthis:\n  lincomb d (Z - B \\<union> B) = lincomb d (Z - B) + lincomb d B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  x = lincomb d (Z - B) + lincomb d B", "have xd: \"x = lincomb d ?X + lincomb d B\""], ["proof (prove)\nusing this:\n  x = lincomb d (Z - B) + lincomb d B\n\ngoal (1 subgoal):\n 1. x = lincomb d (Z - B) + lincomb d B", "."], ["proof (state)\nthis:\n  x = lincomb d (Z - B) + lincomb d B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  x = lincomb d (Z - B) + lincomb d B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"\\<dots> = lincomb e (set Ls) + lincomb d B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d (Z - B) + lincomb d B = lincomb e (set Ls) + lincomb d B", "unfolding ed"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d (Z - B) + lincomb d B = lincomb d (Z - B) + lincomb d B", "by auto"], ["proof (state)\nthis:\n  lincomb d (Z - B) + lincomb d B = lincomb e (set Ls) + lincomb d B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  lincomb d (Z - B) + lincomb d B = lincomb e (set Ls) + lincomb d B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"lincomb e (set Ls) = lincomb f (set Ls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb e (set Ls) = lincomb f (set Ls)", "by (rule lincomb_cong[OF _ Ls], insert distLsBs, auto simp: f_def)"], ["proof (state)\nthis:\n  lincomb e (set Ls) = lincomb f (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  lincomb e (set Ls) = lincomb f (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"lincomb d B = lincomb f B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb d B = lincomb f B", "by (rule lincomb_cong[OF _ BC], insert B, auto simp: f_def)"], ["proof (state)\nthis:\n  lincomb d B = lincomb f B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  lincomb d B = lincomb f B\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"lincomb f B = lincomb f (B \\<union> (set Bs - B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb f B = lincomb f (B \\<union> (set Bs - B))", "by (subst lincomb_clean, insert finB Bs B, auto simp: f_def)"], ["proof (state)\nthis:\n  lincomb f B = lincomb f (B \\<union> (set Bs - B))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  lincomb f B = lincomb f (B \\<union> (set Bs - B))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"B \\<union> (set Bs - B) = set Bs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<union> (set Bs - B) = set Bs", "using B"], ["proof (prove)\nusing this:\n  B \\<subseteq> set Bs\n\ngoal (1 subgoal):\n 1. B \\<union> (set Bs - B) = set Bs", "by auto"], ["proof (state)\nthis:\n  B \\<union> (set Bs - B) = set Bs\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  x = lincomb f (set Ls) + lincomb f (set Bs)", "have \"x = lincomb f (set Ls) + lincomb f (set Bs)\""], ["proof (prove)\nusing this:\n  x = lincomb f (set Ls) + lincomb f (set Bs)\n\ngoal (1 subgoal):\n 1. x = lincomb f (set Ls) + lincomb f (set Bs)", "by auto"], ["proof (state)\nthis:\n  x = lincomb f (set Ls) + lincomb f (set Bs)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  x = lincomb f (set Ls) + lincomb f (set Bs)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"lincomb f (set Ls) + lincomb f (set Bs) = lincomb f (set (Ls @ Bs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb f (set Ls) + lincomb f (set Bs) = lincomb f (set (Ls @ Bs))", "by (subst lincomb_union[symmetric], insert Ls distLsBs Bs, auto)"], ["proof (state)\nthis:\n  lincomb f (set Ls) + lincomb f (set Bs) = lincomb f (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  x = lincomb f (set (Ls @ Bs))", "have \"x = lincomb f (set (Ls @ Bs))\""], ["proof (prove)\nusing this:\n  x = lincomb f (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. x = lincomb f (set (Ls @ Bs))", "."], ["proof (state)\nthis:\n  x = lincomb f (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence f: \"f \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and> lincomb f (set (Ls @ Bs)) = x\""], ["proof (prove)\nusing this:\n  x = lincomb f (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. f \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n    lincomb f (set (Ls @ Bs)) = x", "by (auto simp: f_def split: if_splits)"], ["proof (state)\nthis:\n  f \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n  lincomb f (set (Ls @ Bs)) = x\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from finite_in_span[OF finite_set Ls xL]"], ["proof (chain)\npicking this:\n  \\<exists>a. True \\<and> lincomb a (set Ls) = x", "obtain g where\n      xg: \"x = lincomb g (set Ls)\""], ["proof (prove)\nusing this:\n  \\<exists>a. True \\<and> lincomb a (set Ls) = x\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        x = lincomb g (set Ls) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = lincomb g (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "define h where \"h = (\\<lambda> x. if x \\<in> set Bs then 0 else if x \\<in> set Ls then g x else undefined)\""], ["proof (state)\nthis:\n  h =\n  (\\<lambda>x.\n      if x \\<in> set Bs then 0::'a\n      else if x \\<in> set Ls then g x else undefined)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"x = lincomb h (set Ls)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = lincomb h (set Ls)", "unfolding xg"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb g (set Ls) = lincomb h (set Ls)", "by (rule lincomb_cong[OF _ Ls], insert distLsBs, auto simp: h_def)"], ["proof (state)\nthis:\n  x = lincomb h (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  x = lincomb h (set Ls)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"\\<dots> = lincomb h (set Ls) + 0\\<^sub>v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb h (set Ls) = lincomb h (set Ls) + 0\\<^sub>v n", "using Ls"], ["proof (prove)\nusing this:\n  set Ls \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb h (set Ls) = lincomb h (set Ls) + 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  lincomb h (set Ls) = lincomb h (set Ls) + 0\\<^sub>v n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  lincomb h (set Ls) = lincomb h (set Ls) + 0\\<^sub>v n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"0\\<^sub>v n = lincomb h (set Bs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n = lincomb h (set Bs)", "by (rule lincomb_zero[symmetric, OF Bs], auto simp: h_def)"], ["proof (state)\nthis:\n  0\\<^sub>v n = lincomb h (set Bs)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "also"], ["proof (state)\nthis:\n  0\\<^sub>v n = lincomb h (set Bs)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have \"lincomb h (set Ls) + lincomb h (set Bs) = lincomb h (set (Ls @ Bs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb h (set Ls) + lincomb h (set Bs) = lincomb h (set (Ls @ Bs))", "by (subst lincomb_union[symmetric], insert Ls Bs distLsBs, auto)"], ["proof (state)\nthis:\n  lincomb h (set Ls) + lincomb h (set Bs) = lincomb h (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "finally"], ["proof (chain)\npicking this:\n  x = lincomb h (set (Ls @ Bs))", "have \"x = lincomb h (set (Ls @ Bs))\""], ["proof (prove)\nusing this:\n  x = lincomb h (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. x = lincomb h (set (Ls @ Bs))", "."], ["proof (state)\nthis:\n  x = lincomb h (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence h: \"h \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and> lincomb h (set (Ls @ Bs)) = x\""], ["proof (prove)\nusing this:\n  x = lincomb h (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. h \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n    lincomb h (set (Ls @ Bs)) = x", "by (auto simp: h_def split: if_splits)"], ["proof (state)\nthis:\n  h \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n  lincomb h (set (Ls @ Bs)) = x\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "have basis: \"basis (set (Ls @ Bs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. basis (set (Ls @ Bs))", "using lin_Ls_Bs[unfolded lin_indpt_list_def] len_Ls_Bs"], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))\n  length (Ls @ Bs) = n\n\ngoal (1 subgoal):\n 1. basis (set (Ls @ Bs))", "using CLB basis_def"], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))\n  length (Ls @ Bs) = n\n  carrier_vec n = local.span (set (Ls @ Bs))\n  basis ?A =\n  (lin_indpt ?A \\<and>\n   local.span ?A = carrier_vec n \\<and> ?A \\<subseteq> carrier_vec n)\n\ngoal (1 subgoal):\n 1. basis (set (Ls @ Bs))", "by blast"], ["proof (state)\nthis:\n  basis (set (Ls @ Bs))\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from Ls Bs"], ["proof (chain)\npicking this:\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n", "have \"set (Ls @ Bs) \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set (Ls @ Bs) \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "from basis[unfolded basis_criterion[OF finite_set this], rule_format, OF x] f h"], ["proof (chain)\npicking this:\n  \\<exists>!a.\n     a \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n     lincomb a (set (Ls @ Bs)) = x\n  f \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n  lincomb f (set (Ls @ Bs)) = x\n  h \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n  lincomb h (set (Ls @ Bs)) = x", "have fh: \"f = h\""], ["proof (prove)\nusing this:\n  \\<exists>!a.\n     a \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n     lincomb a (set (Ls @ Bs)) = x\n  f \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n  lincomb f (set (Ls @ Bs)) = x\n  h \\<in> set (Ls @ Bs) \\<rightarrow>\\<^sub>E UNIV \\<and>\n  lincomb h (set (Ls @ Bs)) = x\n\ngoal (1 subgoal):\n 1. f = h", "by auto"], ["proof (state)\nthis:\n  f = h\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence \"\\<And> x. x \\<in> set Bs \\<Longrightarrow> f x = 0\""], ["proof (prove)\nusing this:\n  f = h\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> set Bs \\<Longrightarrow> f x = (0::'a)", "unfolding h_def"], ["proof (prove)\nusing this:\n  f =\n  (\\<lambda>x.\n      if x \\<in> set Bs then 0::'a\n      else if x \\<in> set Ls then g x else undefined)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> set Bs \\<Longrightarrow> f x = (0::'a)", "by auto"], ["proof (state)\nthis:\n  ?x3 \\<in> set Bs \\<Longrightarrow> f ?x3 = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "hence \"\\<And> x. x \\<in> B \\<Longrightarrow> d x = 0\""], ["proof (prove)\nusing this:\n  ?x3 \\<in> set Bs \\<Longrightarrow> f ?x3 = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> d x = (0::'a)", "unfolding f_def"], ["proof (prove)\nusing this:\n  ?x3 \\<in> set Bs \\<Longrightarrow>\n  (if ?x3 \\<in> set Bs then if ?x3 \\<in> B then d ?x3 else (0::'a)\n   else if ?x3 \\<in> set Ls then e ?x3 else undefined) =\n  (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> d x = (0::'a)", "using B"], ["proof (prove)\nusing this:\n  ?x3 \\<in> set Bs \\<Longrightarrow>\n  (if ?x3 \\<in> set Bs then if ?x3 \\<in> B then d ?x3 else (0::'a)\n   else if ?x3 \\<in> set Ls then e ?x3 else undefined) =\n  (0::'a)\n  B \\<subseteq> set Bs\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> d x = (0::'a)", "by force"], ["proof (state)\nthis:\n  ?x3 \\<in> B \\<Longrightarrow> d ?x3 = (0::'a)\n\ngoal (2 subgoals):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X\n 2. \\<And>x.\n       \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); Z \\<subseteq> X;\n        B \\<subseteq> set Bs; x = lincomb c (Z \\<union> B)\\<rbrakk>\n       \\<Longrightarrow> x = lincomb c (Z - B)", "thus \"x = lincomb d ?X\""], ["proof (prove)\nusing this:\n  ?x3 \\<in> B \\<Longrightarrow> d ?x3 = (0::'a)\n\ngoal (1 subgoal):\n 1. x = lincomb d (Z - B)", "unfolding xd"], ["proof (prove)\nusing this:\n  ?x3 \\<in> B \\<Longrightarrow> d ?x3 = (0::'a)\n\ngoal (1 subgoal):\n 1. lincomb d (Z - B) + lincomb d B = lincomb d (Z - B)", "by (subst (2) lincomb_zero, insert BC ZB X, auto intro!: M.r_zero)"], ["proof (state)\nthis:\n  x = lincomb d (Z - B)\n\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> ?x5 = (0::'a); ?Za5 \\<subseteq> X;\n   ?Ba5 \\<subseteq> set Bs; ?x5 = lincomb ?d5 (?Za5 \\<union> ?Ba5)\\<rbrakk>\n  \\<Longrightarrow> ?x5 = lincomb ?d5 (?Za5 - ?Ba5)\n\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "note main = this"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> ?x5 = (0::'a); ?Za5 \\<subseteq> X;\n   ?Ba5 \\<subseteq> set Bs; ?x5 = lincomb ?d5 (?Za5 \\<union> ?Ba5)\\<rbrakk>\n  \\<Longrightarrow> ?x5 = lincomb ?d5 (?Za5 - ?Ba5)\n\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "have \"cone Y \\<inter> {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = 0} = cone X\" (is \"?I = _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "assume xX: \"x \\<in> cone X\""], ["proof (state)\nthis:\n  x \\<in> cone X\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "with cone_carrier[OF X]"], ["proof (chain)\npicking this:\n  cone X \\<subseteq> carrier_vec n\n  x \\<in> cone X", "have x: \"x \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  cone X \\<subseteq> carrier_vec n\n  x \\<in> cone X\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "have \"X \\<subseteq> Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<subseteq> Y", "unfolding Y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<subseteq> X \\<union> set Bs", "by auto"], ["proof (state)\nthis:\n  X \\<subseteq> Y\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "from cone_mono[OF this] xX"], ["proof (chain)\npicking this:\n  cone X \\<subseteq> cone Y\n  x \\<in> cone X", "have xY: \"x \\<in> cone Y\""], ["proof (prove)\nusing this:\n  cone X \\<subseteq> cone Y\n  x \\<in> cone X\n\ngoal (1 subgoal):\n 1. x \\<in> cone Y", "by auto"], ["proof (state)\nthis:\n  x \\<in> cone Y\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "from cone_iff_finite_cone[OF X finX] xX"], ["proof (chain)\npicking this:\n  cone X = finite_cone X\n  x \\<in> cone X", "have \"x \\<in> finite_cone X\""], ["proof (prove)\nusing this:\n  cone X = finite_cone X\n  x \\<in> cone X\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone X", "by auto"], ["proof (state)\nthis:\n  x \\<in> finite_cone X\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "from this[unfolded finite_cone_def nonneg_lincomb_def] finX"], ["proof (chain)\npicking this:\n  x \\<in> {b. \\<exists>c.\n                 lincomb c (if finite X then X else {}) = b \\<and>\n                 c ` (if finite X then X else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite X", "obtain c\n        where \"x = lincomb c X\""], ["proof (prove)\nusing this:\n  x \\<in> {b. \\<exists>c.\n                 lincomb c (if finite X then X else {}) = b \\<and>\n                 c ` (if finite X then X else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite X\n\ngoal (1 subgoal):\n 1. (\\<And>c. x = lincomb c X \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = lincomb c X\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "with finX X"], ["proof (chain)\npicking this:\n  finite X\n  X \\<subseteq> carrier_vec n\n  x = lincomb c X", "have \"x \\<in> span X\""], ["proof (prove)\nusing this:\n  finite X\n  X \\<subseteq> carrier_vec n\n  x = lincomb c X\n\ngoal (1 subgoal):\n 1. x \\<in> local.span X", "by auto"], ["proof (state)\nthis:\n  x \\<in> local.span X\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "with spanL"], ["proof (chain)\npicking this:\n  local.span (set Ls) = local.span X\n  x \\<in> local.span X", "have \"x \\<in> span (set Ls)\""], ["proof (prove)\nusing this:\n  local.span (set Ls) = local.span X\n  x \\<in> local.span X\n\ngoal (1 subgoal):\n 1. x \\<in> local.span (set Ls)", "by auto"], ["proof (state)\nthis:\n  x \\<in> local.span (set Ls)\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "from finite_in_span[OF _ Ls this]"], ["proof (chain)\npicking this:\n  finite (set Ls) \\<Longrightarrow>\n  \\<exists>a. True \\<and> lincomb a (set Ls) = x", "obtain c where\n        xc: \"x = lincomb c (set Ls)\""], ["proof (prove)\nusing this:\n  finite (set Ls) \\<Longrightarrow>\n  \\<exists>a. True \\<and> lincomb a (set Ls) = x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        x = lincomb c (set Ls) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = lincomb c (set Ls)\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "{"], ["proof (state)\nthis:\n  x = lincomb c (set Ls)\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "fix w"], ["proof (state)\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "assume wW: \"w \\<in> W\""], ["proof (state)\nthis:\n  w \\<in> W\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "hence w: \"w \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  w \\<in> W\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "using W"], ["proof (prove)\nusing this:\n  w \\<in> W\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "have \"w \\<bullet> x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<bullet> x = (0::'a)", "unfolding xc"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<bullet> lincomb c (set Ls) = (0::'a)", "using ortho[OF wW]"], ["proof (prove)\nusing this:\n  ?x3 \\<in> set Ls \\<Longrightarrow> w \\<bullet> ?x3 = (0::'a)\n\ngoal (1 subgoal):\n 1. w \\<bullet> lincomb c (set Ls) = (0::'a)", "by (subst lincomb_scalar_prod_right[OF Ls w], auto)"], ["proof (state)\nthis:\n  w \\<bullet> x = (0::'a)\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "}"], ["proof (state)\nthis:\n  ?w5 \\<in> W \\<Longrightarrow> ?w5 \\<bullet> x = (0::'a)\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "with xY x"], ["proof (chain)\npicking this:\n  x \\<in> cone Y\n  x \\<in> carrier_vec n\n  ?w5 \\<in> W \\<Longrightarrow> ?w5 \\<bullet> x = (0::'a)", "have \"x \\<in> ?I\""], ["proof (prove)\nusing this:\n  x \\<in> cone Y\n  x \\<in> carrier_vec n\n  ?w5 \\<in> W \\<Longrightarrow> ?w5 \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. x \\<in> cone Y \\<inter>\n            {x \\<in> carrier_vec n.\n             \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "by blast"], ["proof (state)\nthis:\n  x \\<in> cone Y \\<inter>\n          {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "}"], ["proof (state)\nthis:\n  ?x5 \\<in> cone X \\<Longrightarrow>\n  ?x5\n  \\<in> cone Y \\<inter>\n        {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (2 subgoals):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X\n 2. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "thus \"cone X \\<subseteq> ?I\""], ["proof (prove)\nusing this:\n  ?x5 \\<in> cone X \\<Longrightarrow>\n  ?x5\n  \\<in> cone Y \\<inter>\n        {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. cone X\n    \\<subseteq> cone Y \\<inter>\n                {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "by blast"], ["proof (state)\nthis:\n  cone X\n  \\<subseteq> cone Y \\<inter>\n              {x \\<in> carrier_vec n.\n               \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "{"], ["proof (state)\nthis:\n  cone X\n  \\<subseteq> cone Y \\<inter>\n              {x \\<in> carrier_vec n.\n               \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "let ?X = \"X - set Bs\""], ["proof (state)\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "assume \"x \\<in> ?I\""], ["proof (state)\nthis:\n  x \\<in> cone Y \\<inter>\n          {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "with cone_carrier[OF Y] cone_iff_finite_cone[OF Y finY]"], ["proof (chain)\npicking this:\n  cone Y \\<subseteq> carrier_vec n\n  cone Y = finite_cone Y\n  x \\<in> cone Y \\<inter>\n          {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}", "have xY: \"x \\<in> finite_cone Y\" and x: \"x \\<in> carrier_vec n\"\n        and w0: \"\\<And> w. w \\<in> W \\<Longrightarrow> w \\<bullet> x = 0\""], ["proof (prove)\nusing this:\n  cone Y \\<subseteq> carrier_vec n\n  cone Y = finite_cone Y\n  x \\<in> cone Y \\<inter>\n          {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone Y &&&\n    x \\<in> carrier_vec n &&&\n    (\\<And>w. w \\<in> W \\<Longrightarrow> w \\<bullet> x = (0::'a))", "by auto"], ["proof (state)\nthis:\n  x \\<in> finite_cone Y\n  x \\<in> carrier_vec n\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "from xY[unfolded finite_cone_def nonneg_lincomb_def] finY"], ["proof (chain)\npicking this:\n  x \\<in> {b. \\<exists>c.\n                 lincomb c (if finite Y then Y else {}) = b \\<and>\n                 c ` (if finite Y then Y else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite Y", "obtain d\n        where xd: \"x = lincomb d Y\" and nonneg: \"d ` Y \\<subseteq> Collect ((\\<le>) 0)\""], ["proof (prove)\nusing this:\n  x \\<in> {b. \\<exists>c.\n                 lincomb c (if finite Y then Y else {}) = b \\<and>\n                 c ` (if finite Y then Y else {})\n                 \\<subseteq> Collect ((\\<le>) (0::'a))}\n  finite Y\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>x = lincomb d Y;\n         d ` Y \\<subseteq> Collect ((\\<le>) (0::'a))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = lincomb d Y\n  d ` Y \\<subseteq> Collect ((\\<le>) (0::'a))\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "from main[OF _ _ _ xd[unfolded Y_def]] w0"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); X \\<subseteq> X;\n   set Bs \\<subseteq> set Bs\\<rbrakk>\n  \\<Longrightarrow> x = lincomb d (X - set Bs)\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> x = (0::'a)", "have \"x = lincomb d ?X\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>w\\<in>W. w \\<bullet> x = (0::'a); X \\<subseteq> X;\n   set Bs \\<subseteq> set Bs\\<rbrakk>\n  \\<Longrightarrow> x = lincomb d (X - set Bs)\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. x = lincomb d (X - set Bs)", "by auto"], ["proof (state)\nthis:\n  x = lincomb d (X - set Bs)\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "hence \"nonneg_lincomb d ?X x\""], ["proof (prove)\nusing this:\n  x = lincomb d (X - set Bs)\n\ngoal (1 subgoal):\n 1. nonneg_lincomb d (X - set Bs) x", "unfolding nonneg_lincomb_def"], ["proof (prove)\nusing this:\n  x = lincomb d (X - set Bs)\n\ngoal (1 subgoal):\n 1. lincomb d (X - set Bs) = x \\<and>\n    d ` (X - set Bs) \\<subseteq> Collect ((\\<le>) (0::'a))", "using nonneg[unfolded Y_def]"], ["proof (prove)\nusing this:\n  x = lincomb d (X - set Bs)\n  d ` (X \\<union> set Bs) \\<subseteq> Collect ((\\<le>) (0::'a))\n\ngoal (1 subgoal):\n 1. lincomb d (X - set Bs) = x \\<and>\n    d ` (X - set Bs) \\<subseteq> Collect ((\\<le>) (0::'a))", "by auto"], ["proof (state)\nthis:\n  nonneg_lincomb d (X - set Bs) x\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "hence \"x \\<in> finite_cone ?X\""], ["proof (prove)\nusing this:\n  nonneg_lincomb d (X - set Bs) x\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone (X - set Bs)", "using finX"], ["proof (prove)\nusing this:\n  nonneg_lincomb d (X - set Bs) x\n  finite X\n\ngoal (1 subgoal):\n 1. x \\<in> finite_cone (X - set Bs)", "unfolding finite_cone_def"], ["proof (prove)\nusing this:\n  nonneg_lincomb d (X - set Bs) x\n  finite X\n\ngoal (1 subgoal):\n 1. x \\<in> {b. \\<exists>c.\n                   nonneg_lincomb c\n                    (if finite (X - set Bs) then X - set Bs else {}) b}", "by auto"], ["proof (state)\nthis:\n  x \\<in> finite_cone (X - set Bs)\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "hence \"x \\<in> cone X\""], ["proof (prove)\nusing this:\n  x \\<in> finite_cone (X - set Bs)\n\ngoal (1 subgoal):\n 1. x \\<in> cone X", "using finite_subset[OF _ finX, of ?X]"], ["proof (prove)\nusing this:\n  x \\<in> finite_cone (X - set Bs)\n  X - set Bs \\<subseteq> X \\<Longrightarrow> finite (X - set Bs)\n\ngoal (1 subgoal):\n 1. x \\<in> cone X", "unfolding cone_def"], ["proof (prove)\nusing this:\n  x \\<in> finite_cone (X - set Bs)\n  X - set Bs \\<subseteq> X \\<Longrightarrow> finite (X - set Bs)\n\ngoal (1 subgoal):\n 1. x \\<in> {x. \\<exists>Ws.\n                   finite Ws \\<and>\n                   Ws \\<subseteq> X \\<and> x \\<in> finite_cone Ws}", "by blast"], ["proof (state)\nthis:\n  x \\<in> cone X\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "}"], ["proof (state)\nthis:\n  ?x5\n  \\<in> cone Y \\<inter>\n        {x \\<in> carrier_vec n.\n         \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} \\<Longrightarrow>\n  ?x5 \\<in> cone X\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "then"], ["proof (chain)\npicking this:\n  ?x5\n  \\<in> cone Y \\<inter>\n        {x \\<in> carrier_vec n.\n         \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} \\<Longrightarrow>\n  ?x5 \\<in> cone X", "show \"?I \\<subseteq> cone X\""], ["proof (prove)\nusing this:\n  ?x5\n  \\<in> cone Y \\<inter>\n        {x \\<in> carrier_vec n.\n         \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} \\<Longrightarrow>\n  ?x5 \\<in> cone X\n\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n    \\<subseteq> cone X", "by auto"], ["proof (state)\nthis:\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)}\n  \\<subseteq> cone X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n  cone X\n\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "thus \"cone (X \\<union> set Bs) \\<inter> {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = 0} = cone X\""], ["proof (prove)\nusing this:\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n  cone X\n\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "unfolding Y_def"], ["proof (prove)\nusing this:\n  cone (X \\<union> set Bs) \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n  cone X\n\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n    cone X", "."], ["proof (state)\nthis:\n  cone (X \\<union> set Bs) \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>W. w \\<bullet> x = (0::'a)} =\n  cone X\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"polyhedral_cone (A :: 'a mat) = { x . x \\<in> carrier_vec n \\<and> A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}\""], ["", "lemma polyhedral_cone_carrier: assumes \"A \\<in> carrier_mat nr n\"\n  shows \"polyhedral_cone A \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedral_cone A \\<subseteq> carrier_vec n", "using assms"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. polyhedral_cone A \\<subseteq> carrier_vec n", "unfolding polyhedral_cone_def"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}\n    \\<subseteq> carrier_vec n", "by auto"], ["", "lemma cone_in_polyhedral_cone:\n  assumes CA: \"C \\<subseteq> polyhedral_cone A\"\n    and A: \"A \\<in> carrier_mat nr n\"\n  shows \"cone C \\<subseteq> polyhedral_cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone C \\<subseteq> polyhedral_cone A", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "interpret nr: gram_schmidt nr \"TYPE ('a)\""], ["proof (prove)\ngoal:\nNo subgoals!", "."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "from polyhedral_cone_carrier[OF A] assms(1)"], ["proof (chain)\npicking this:\n  polyhedral_cone A \\<subseteq> carrier_vec n\n  C \\<subseteq> polyhedral_cone A", "have C: \"C \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  polyhedral_cone A \\<subseteq> carrier_vec n\n  C \\<subseteq> polyhedral_cone A\n\ngoal (1 subgoal):\n 1. C \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "assume x: \"x \\<in> cone C\""], ["proof (state)\nthis:\n  x \\<in> cone C\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "then"], ["proof (chain)\npicking this:\n  x \\<in> cone C", "have xn: \"x \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  x \\<in> cone C\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "using cone_carrier[OF C]"], ["proof (prove)\nusing this:\n  x \\<in> cone C\n  cone C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "from x[unfolded cone_alt_def[OF C] cone_list_def nonneg_lincomb_list_def]"], ["proof (chain)\npicking this:\n  x \\<in> {x. \\<exists>Ws.\n                 set Ws \\<subseteq> C \\<and>\n                 x \\<in> {b. \\<exists>c.\n                                lincomb_list c Ws = b \\<and>\n                                (\\<forall>i<length Ws. (0::'a) \\<le> c i)}}", "obtain ll Ds where l0: \"lincomb_list ll Ds = x\" and l1: \"\\<forall>i<length Ds. 0 \\<le> ll i\"\n    and DsC: \"set Ds \\<subseteq> C\""], ["proof (prove)\nusing this:\n  x \\<in> {x. \\<exists>Ws.\n                 set Ws \\<subseteq> C \\<and>\n                 x \\<in> {b. \\<exists>c.\n                                lincomb_list c Ws = b \\<and>\n                                (\\<forall>i<length Ws. (0::'a) \\<le> c i)}}\n\ngoal (1 subgoal):\n 1. (\\<And>ll Ds.\n        \\<lbrakk>lincomb_list ll Ds = x;\n         \\<forall>i<length Ds. (0::'a) \\<le> ll i;\n         set Ds \\<subseteq> C\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lincomb_list ll Ds = x\n  \\<forall>i<length Ds. (0::'a) \\<le> ll i\n  set Ds \\<subseteq> C\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "from DsC C"], ["proof (chain)\npicking this:\n  set Ds \\<subseteq> C\n  C \\<subseteq> carrier_vec n", "have Ds: \"set Ds \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  set Ds \\<subseteq> C\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set Ds \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set Ds \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "have \"A *\\<^sub>v x = A *\\<^sub>v (lincomb_list ll Ds)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x = A *\\<^sub>v lincomb_list ll Ds", "using l0"], ["proof (prove)\nusing this:\n  lincomb_list ll Ds = x\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x = A *\\<^sub>v lincomb_list ll Ds", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x = A *\\<^sub>v lincomb_list ll Ds\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "also"], ["proof (state)\nthis:\n  A *\\<^sub>v x = A *\\<^sub>v lincomb_list ll Ds\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "have \"\\<dots> = nr.lincomb_list ll (map (\\<lambda> d. A *\\<^sub>v d) Ds)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v lincomb_list ll Ds =\n    nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. A *\\<^sub>v lincomb_list ll Ds =\n    nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)", "have one: \" \\<forall>w\\<in>set Ds. dim_vec w = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w\\<in>set Ds. dim_vec w = n", "using DsC C"], ["proof (prove)\nusing this:\n  set Ds \\<subseteq> C\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<forall>w\\<in>set Ds. dim_vec w = n", "by auto"], ["proof (state)\nthis:\n  \\<forall>w\\<in>set Ds. dim_vec w = n\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v lincomb_list ll Ds =\n    nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)", "have two: \"\\<forall>w\\<in>set (map ((*\\<^sub>v) A) Ds). dim_vec w = nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w\\<in>set (map ((*\\<^sub>v) A) Ds). dim_vec w = nr", "using A DsC C"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n  set Ds \\<subseteq> C\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<forall>w\\<in>set (map ((*\\<^sub>v) A) Ds). dim_vec w = nr", "by auto"], ["proof (state)\nthis:\n  \\<forall>w\\<in>set (map ((*\\<^sub>v) A) Ds). dim_vec w = nr\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v lincomb_list ll Ds =\n    nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)", "show \"A *\\<^sub>v lincomb_list ll Ds = nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v lincomb_list ll Ds =\n    nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)", "unfolding lincomb_list_as_mat_mult[OF one] nr.lincomb_list_as_mat_mult[OF two] length_map"], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v (mat_of_cols n Ds *\\<^sub>v vec (length Ds) ll) =\n    mat_of_cols nr (map ((*\\<^sub>v) A) Ds) *\\<^sub>v vec (length Ds) ll", "proof (subst assoc_mult_mat_vec[symmetric, OF A], force+, rule arg_cong[of _ _ \"\\<lambda> x. x *\\<^sub>v _\"])"], ["proof (state)\ngoal (1 subgoal):\n 1. A * mat_of_cols n Ds = mat_of_cols nr (map ((*\\<^sub>v) A) Ds)", "show \"A * mat_of_cols n Ds = mat_of_cols nr (map ((*\\<^sub>v) A) Ds)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A * mat_of_cols n Ds = mat_of_cols nr (map ((*\\<^sub>v) A) Ds)", "unfolding mat_of_cols_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. A * mat n (length Ds) (\\<lambda>(i, j). Ds ! j $ i) =\n    mat nr (length (map ((*\\<^sub>v) A) Ds))\n     (\\<lambda>(i, j). map ((*\\<^sub>v) A) Ds ! j $ i)", "by (intro eq_matI, insert A Ds[unfolded set_conv_nth],\n            (force intro!: arg_cong[of _ _ \"\\<lambda> x. row A _ \\<bullet> x\"])+)"], ["proof (state)\nthis:\n  A * mat_of_cols n Ds = mat_of_cols nr (map ((*\\<^sub>v) A) Ds)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A *\\<^sub>v lincomb_list ll Ds =\n  nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A *\\<^sub>v lincomb_list ll Ds =\n  nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "also"], ["proof (state)\nthis:\n  A *\\<^sub>v lincomb_list ll Ds =\n  nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "have \"\\<dots> \\<le> 0\\<^sub>v nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<le> 0\\<^sub>v nr", "proof (intro lesseq_vecI[of _ nr])"], ["proof (state)\ngoal (3 subgoals):\n 1. nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<in> carrier_vec nr\n 2. 0\\<^sub>v nr \\<in> carrier_vec nr\n 3. \\<And>i.\n       i < nr \\<Longrightarrow>\n       nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i\n       \\<le> 0\\<^sub>v nr $ i", "have *: \"set (map ((*\\<^sub>v) A) Ds) \\<subseteq> carrier_vec nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (map ((*\\<^sub>v) A) Ds) \\<subseteq> carrier_vec nr", "using A Ds"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n  set Ds \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set (map ((*\\<^sub>v) A) Ds) \\<subseteq> carrier_vec nr", "by auto"], ["proof (state)\nthis:\n  set (map ((*\\<^sub>v) A) Ds) \\<subseteq> carrier_vec nr\n\ngoal (3 subgoals):\n 1. nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<in> carrier_vec nr\n 2. 0\\<^sub>v nr \\<in> carrier_vec nr\n 3. \\<And>i.\n       i < nr \\<Longrightarrow>\n       nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i\n       \\<le> 0\\<^sub>v nr $ i", "show Carr: \"nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<in> carrier_vec nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<in> carrier_vec nr", "by (intro nr.lincomb_list_carrier[OF *])"], ["proof (state)\nthis:\n  nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<in> carrier_vec nr\n\ngoal (2 subgoals):\n 1. 0\\<^sub>v nr \\<in> carrier_vec nr\n 2. \\<And>i.\n       i < nr \\<Longrightarrow>\n       nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i\n       \\<le> 0\\<^sub>v nr $ i", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. 0\\<^sub>v nr \\<in> carrier_vec nr\n 2. \\<And>i.\n       i < nr \\<Longrightarrow>\n       nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i\n       \\<le> 0\\<^sub>v nr $ i", "assume i: \"i < nr\""], ["proof (state)\nthis:\n  i < nr\n\ngoal (2 subgoals):\n 1. 0\\<^sub>v nr \\<in> carrier_vec nr\n 2. \\<And>i.\n       i < nr \\<Longrightarrow>\n       nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i\n       \\<le> 0\\<^sub>v nr $ i", "from CA[unfolded polyhedral_cone_def] A"], ["proof (chain)\npicking this:\n  C \\<subseteq> {x \\<in> carrier_vec n.\n                 A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}\n  A \\<in> carrier_mat nr n", "have l2: \"x \\<in> C \\<Longrightarrow> A *\\<^sub>v x \\<le> 0\\<^sub>v nr\" for x"], ["proof (prove)\nusing this:\n  C \\<subseteq> {x \\<in> carrier_vec n.\n                 A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. x \\<in> C \\<Longrightarrow> A *\\<^sub>v x \\<le> 0\\<^sub>v nr", "by auto"], ["proof (state)\nthis:\n  ?x3 \\<in> C \\<Longrightarrow> A *\\<^sub>v ?x3 \\<le> 0\\<^sub>v nr\n\ngoal (2 subgoals):\n 1. 0\\<^sub>v nr \\<in> carrier_vec nr\n 2. \\<And>i.\n       i < nr \\<Longrightarrow>\n       nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i\n       \\<le> 0\\<^sub>v nr $ i", "show \"nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i \\<le> 0\\<^sub>v nr $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i \\<le> 0\\<^sub>v nr $ i", "unfolding subst nr.lincomb_list_index[OF i *] length_map index_zero_vec(1)[OF i]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j = 0..<length Ds. ll j * map ((*\\<^sub>v) A) Ds ! j $ i)\n    \\<le> (0::'a)", "proof (intro sum_nonpos mult_nonneg_nonpos)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> {0..<length Ds} \\<Longrightarrow> (0::'a) \\<le> ll x\n 2. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "fix j"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> {0..<length Ds} \\<Longrightarrow> (0::'a) \\<le> ll x\n 2. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "assume \"j \\<in> {0..<length Ds}\""], ["proof (state)\nthis:\n  j \\<in> {0..<length Ds}\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> {0..<length Ds} \\<Longrightarrow> (0::'a) \\<le> ll x\n 2. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "hence j: \"j < length Ds\""], ["proof (prove)\nusing this:\n  j \\<in> {0..<length Ds}\n\ngoal (1 subgoal):\n 1. j < length Ds", "by auto"], ["proof (state)\nthis:\n  j < length Ds\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> {0..<length Ds} \\<Longrightarrow> (0::'a) \\<le> ll x\n 2. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "from j"], ["proof (chain)\npicking this:\n  j < length Ds", "show \"0 \\<le> ll j\""], ["proof (prove)\nusing this:\n  j < length Ds\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> ll j", "using l1"], ["proof (prove)\nusing this:\n  j < length Ds\n  \\<forall>i<length Ds. (0::'a) \\<le> ll i\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> ll j", "by auto"], ["proof (state)\nthis:\n  (0::'a) \\<le> ll j\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "from j"], ["proof (chain)\npicking this:\n  j < length Ds", "have \"Ds ! j \\<in> C\""], ["proof (prove)\nusing this:\n  j < length Ds\n\ngoal (1 subgoal):\n 1. Ds ! j \\<in> C", "using DsC"], ["proof (prove)\nusing this:\n  j < length Ds\n  set Ds \\<subseteq> C\n\ngoal (1 subgoal):\n 1. Ds ! j \\<in> C", "by auto"], ["proof (state)\nthis:\n  Ds ! j \\<in> C\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "from l2[OF this]"], ["proof (chain)\npicking this:\n  A *\\<^sub>v Ds ! j \\<le> 0\\<^sub>v nr", "have l2: \"A *\\<^sub>v Ds ! j \\<le> 0\\<^sub>v nr\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v Ds ! j \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v Ds ! j \\<le> 0\\<^sub>v nr", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v Ds ! j \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "from lesseq_vecD[OF _ this i] i"], ["proof (chain)\npicking this:\n  0\\<^sub>v nr \\<in> carrier_vec nr \\<Longrightarrow>\n  (A *\\<^sub>v Ds ! j) $ i \\<le> 0\\<^sub>v nr $ i\n  i < nr", "have \"(A *\\<^sub>v Ds ! j) $ i \\<le> 0\""], ["proof (prove)\nusing this:\n  0\\<^sub>v nr \\<in> carrier_vec nr \\<Longrightarrow>\n  (A *\\<^sub>v Ds ! j) $ i \\<le> 0\\<^sub>v nr $ i\n  i < nr\n\ngoal (1 subgoal):\n 1. (A *\\<^sub>v Ds ! j) $ i \\<le> (0::'a)", "by auto"], ["proof (state)\nthis:\n  (A *\\<^sub>v Ds ! j) $ i \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..<length Ds} \\<Longrightarrow>\n       map ((*\\<^sub>v) A) Ds ! x $ i \\<le> (0::'a)", "thus \"map ((*\\<^sub>v) A) Ds ! j $ i \\<le> 0\""], ["proof (prove)\nusing this:\n  (A *\\<^sub>v Ds ! j) $ i \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. map ((*\\<^sub>v) A) Ds ! j $ i \\<le> (0::'a)", "using j i"], ["proof (prove)\nusing this:\n  (A *\\<^sub>v Ds ! j) $ i \\<le> (0::'a)\n  j < length Ds\n  i < nr\n\ngoal (1 subgoal):\n 1. map ((*\\<^sub>v) A) Ds ! j $ i \\<le> (0::'a)", "by auto"], ["proof (state)\nthis:\n  map ((*\\<^sub>v) A) Ds ! j $ i \\<le> (0::'a)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) $ i \\<le> 0\\<^sub>v nr $ i\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nr \\<in> carrier_vec nr", "qed auto"], ["proof (state)\nthis:\n  nr.lincomb_list ll (map ((*\\<^sub>v) A) Ds) \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> cone C \\<Longrightarrow> x \\<in> polyhedral_cone A", "finally"], ["proof (chain)\npicking this:\n  A *\\<^sub>v x \\<le> 0\\<^sub>v nr", "show \"x \\<in> polyhedral_cone A\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v x \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. x \\<in> polyhedral_cone A", "unfolding polyhedral_cone_def"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> carrier_vec n.\n             A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}", "using A xn"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x \\<le> 0\\<^sub>v nr\n  A \\<in> carrier_mat nr n\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> carrier_vec n.\n             A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}", "by auto"], ["proof (state)\nthis:\n  x \\<in> polyhedral_cone A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bounded_cone_is_zero:\n  assumes Ccarr: \"C \\<subseteq> carrier_vec n\" and bnd: \"cone C \\<subseteq> Bounded_vec bnd\"\n  shows \"cone C = {0\\<^sub>v n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone C = {0\\<^sub>v n}", "proof(rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "assume \"\\<not> ?thesis\""], ["proof (state)\nthis:\n  cone C \\<noteq> {0\\<^sub>v n}\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  cone C \\<noteq> {0\\<^sub>v n}", "obtain v where vC: \"v \\<in> cone C\" and vnz: \"v \\<noteq> 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  cone C \\<noteq> {0\\<^sub>v n}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<in> cone C; v \\<noteq> 0\\<^sub>v n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using zero_in_cone assms"], ["proof (prove)\nusing this:\n  cone C \\<noteq> {0\\<^sub>v n}\n  0\\<^sub>v n \\<in> cone ?Vs\n  C \\<subseteq> carrier_vec n\n  cone C \\<subseteq> Bounded_vec bnd\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>v \\<in> cone C; v \\<noteq> 0\\<^sub>v n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v \\<in> cone C\n  v \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "have vcarr: \"v \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> carrier_vec n", "using vC Ccarr cone_carrier"], ["proof (prove)\nusing this:\n  v \\<in> cone C\n  C \\<subseteq> carrier_vec n\n  ?A \\<subseteq> carrier_vec n \\<Longrightarrow>\n  cone ?A \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. v \\<in> carrier_vec n", "by blast"], ["proof (state)\nthis:\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "from vnz vcarr"], ["proof (chain)\npicking this:\n  v \\<noteq> 0\\<^sub>v n\n  v \\<in> carrier_vec n", "obtain i where i_le_n: \"i < dim_vec v\" and vinz: \"v $ i \\<noteq> 0\""], ["proof (prove)\nusing this:\n  v \\<noteq> 0\\<^sub>v n\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < dim_vec v; v $ i \\<noteq> (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  i < dim_vec v\n  v $ i \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "define M where \"M = (1 / (v $ i) * (bnd + 1))\""], ["proof (state)\nthis:\n  M = (1::'a) / v $ i * (bnd + (1::'a))\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "have abs_ge_bnd: \"abs (M * (v $ i)) > bnd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bnd < \\<bar>M * v $ i\\<bar>", "unfolding M_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. bnd < \\<bar>(1::'a) / v $ i * (bnd + (1::'a)) * v $ i\\<bar>", "by (simp add: vinz)"], ["proof (state)\nthis:\n  bnd < \\<bar>M * v $ i\\<bar>\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "have aMvC: \"(abs M) \\<cdot>\\<^sub>v v \\<in> cone C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<in> cone C", "using cone_smult[OF _ Ccarr vC] abs_ge_bnd"], ["proof (prove)\nusing this:\n  (0::'a) \\<le> ?a \\<Longrightarrow> ?a \\<cdot>\\<^sub>v v \\<in> cone C\n  bnd < \\<bar>M * v $ i\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<in> cone C", "by simp"], ["proof (state)\nthis:\n  \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<in> cone C\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "have \"\\<not>(abs (abs M * (v $ i)) \\<le> bnd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> \\<bar>\\<bar>M\\<bar> * v $ i\\<bar> \\<le> bnd", "using abs_ge_bnd"], ["proof (prove)\nusing this:\n  bnd < \\<bar>M * v $ i\\<bar>\n\ngoal (1 subgoal):\n 1. \\<not> \\<bar>\\<bar>M\\<bar> * v $ i\\<bar> \\<le> bnd", "by simp"], ["proof (state)\nthis:\n  \\<not> \\<bar>\\<bar>M\\<bar> * v $ i\\<bar> \\<le> bnd\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "hence \"(abs M) \\<cdot>\\<^sub>v v \\<notin> Bounded_vec bnd\""], ["proof (prove)\nusing this:\n  \\<not> \\<bar>\\<bar>M\\<bar> * v $ i\\<bar> \\<le> bnd\n\ngoal (1 subgoal):\n 1. \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<notin> Bounded_vec bnd", "unfolding Bounded_vec_def"], ["proof (prove)\nusing this:\n  \\<not> \\<bar>\\<bar>M\\<bar> * v $ i\\<bar> \\<le> bnd\n\ngoal (1 subgoal):\n 1. \\<bar>M\\<bar> \\<cdot>\\<^sub>v v\n    \\<notin> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> bnd}", "using i_le_n aMvC"], ["proof (prove)\nusing this:\n  \\<not> \\<bar>\\<bar>M\\<bar> * v $ i\\<bar> \\<le> bnd\n  i < dim_vec v\n  \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<in> cone C\n\ngoal (1 subgoal):\n 1. \\<bar>M\\<bar> \\<cdot>\\<^sub>v v\n    \\<notin> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> bnd}", "by auto"], ["proof (state)\nthis:\n  \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<notin> Bounded_vec bnd\n\ngoal (1 subgoal):\n 1. cone C \\<noteq> {0\\<^sub>v n} \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<notin> Bounded_vec bnd\n\ngoal (1 subgoal):\n 1. False", "using aMvC bnd"], ["proof (prove)\nusing this:\n  \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<notin> Bounded_vec bnd\n  \\<bar>M\\<bar> \\<cdot>\\<^sub>v v \\<in> cone C\n  cone C \\<subseteq> Bounded_vec bnd\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma cone_of_cols: fixes A :: \"'a mat\" and b :: \"'a vec\"\n  assumes A: \"A \\<in> carrier_mat n nr\" and b: \"b \\<in> carrier_vec n\"\n  shows \"b \\<in> cone (set (cols A)) \\<longleftrightarrow> (\\<exists> x. x \\<ge> 0\\<^sub>v nr \\<and> A *\\<^sub>v x = b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "let ?C = \"set (cols A)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "from A"], ["proof (chain)\npicking this:\n  A \\<in> carrier_mat n nr", "have C: \"?C \\<subseteq> carrier_vec n\" and C': \" \\<forall>w\\<in>set (cols A). dim_vec w = n\""], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. set (cols A) \\<subseteq> carrier_vec n &&&\n    \\<forall>w\\<in>set (cols A). dim_vec w = n", "unfolding cols_def"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. set (map (col A) [0..<dim_col A]) \\<subseteq> carrier_vec n &&&\n    \\<forall>w\\<in>set (map (col A) [0..<dim_col A]). dim_vec w = n", "by auto"], ["proof (state)\nthis:\n  set (cols A) \\<subseteq> carrier_vec n\n  \\<forall>w\\<in>set (cols A). dim_vec w = n\n\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "have id: \"finite ?C = True\" \"length (cols A) = nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (set (cols A)) = True &&& length (cols A) = nr", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. finite (set (cols A)) = True &&& length (cols A) = nr", "by auto"], ["proof (state)\nthis:\n  finite (set (cols A)) = True\n  length (cols A) = nr\n\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "have Aid: \"mat_of_cols n (cols A) = A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mat_of_cols n (cols A) = A", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. mat_of_cols n (cols A) = A", "unfolding mat_of_cols_def"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. mat n (length (cols A)) (\\<lambda>(i, j). cols A ! j $ i) = A", "by (intro eq_matI, auto)"], ["proof (state)\nthis:\n  mat_of_cols n (cols A) = A\n\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "unfolding cone_iff_finite_cone[OF C finite_set] finite_cone_iff_cone_list[OF C refl]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in> cone_list (cols A)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "unfolding cone_list_def nonneg_lincomb_list_def mem_Collect_eq id"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        lincomb_list c (cols A) = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "unfolding lincomb_list_as_mat_mult[OF C'] id Aid"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "assume \"x\\<ge>0\\<^sub>v nr\" \"A *\\<^sub>v x = b\""], ["proof (state)\nthis:\n  0\\<^sub>v nr \\<le> x\n  A *\\<^sub>v x = b\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "hence \"\\<exists>c. A *\\<^sub>v vec nr c = b \\<and> (\\<forall>i<nr. 0 \\<le> c i)\""], ["proof (prove)\nusing this:\n  0\\<^sub>v nr \\<le> x\n  A *\\<^sub>v x = b\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       A *\\<^sub>v vec nr c = b \\<and> (\\<forall>i<nr. (0::'a) \\<le> c i)", "using A b"], ["proof (prove)\nusing this:\n  0\\<^sub>v nr \\<le> x\n  A *\\<^sub>v x = b\n  A \\<in> carrier_mat n nr\n  b \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>c.\n       A *\\<^sub>v vec nr c = b \\<and> (\\<forall>i<nr. (0::'a) \\<le> c i)", "by (intro exI[of _ \"\\<lambda> i. x $ i\"], auto simp: less_eq_vec_def intro!: arg_cong[of _ _ \"(*\\<^sub>v) A\"])"], ["proof (state)\nthis:\n  \\<exists>c.\n     A *\\<^sub>v vec nr c = b \\<and> (\\<forall>i<nr. (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>0\\<^sub>v nr \\<le> ?x5; A *\\<^sub>v ?x5 = b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       A *\\<^sub>v vec nr c = b \\<and>\n                       (\\<forall>i<nr. (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>0\\<^sub>v nr \\<le> ?x5; A *\\<^sub>v ?x5 = b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       A *\\<^sub>v vec nr c = b \\<and>\n                       (\\<forall>i<nr. (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>0\\<^sub>v nr \\<le> ?x5; A *\\<^sub>v ?x5 = b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       A *\\<^sub>v vec nr c = b \\<and>\n                       (\\<forall>i<nr. (0::'a) \\<le> c i)\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "assume \"A *\\<^sub>v vec nr c = b\" \"(\\<forall>i<nr. 0 \\<le> c i)\""], ["proof (state)\nthis:\n  A *\\<^sub>v vec nr c = b\n  \\<forall>i<nr. (0::'a) \\<le> c i\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "hence \"\\<exists> x. x\\<ge>0\\<^sub>v nr \\<and> A *\\<^sub>v x = b\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v vec nr c = b\n  \\<forall>i<nr. (0::'a) \\<le> c i\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b", "by (intro exI[of _ \"vec nr c\"], auto simp: less_eq_vec_def)"], ["proof (state)\nthis:\n  \\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>A *\\<^sub>v vec nr ?c5 = b;\n   \\<forall>i<nr. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>0\\<^sub>v nr \\<le> ?x5; A *\\<^sub>v ?x5 = b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       A *\\<^sub>v vec nr c = b \\<and>\n                       (\\<forall>i<nr. (0::'a) \\<le> c i)\n  \\<lbrakk>A *\\<^sub>v vec nr ?c5 = b;\n   \\<forall>i<nr. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b", "show \"(\\<exists>c. A *\\<^sub>v vec nr c = b \\<and> (\\<forall>i<nr. 0 \\<le> c i)) = (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0\\<^sub>v nr \\<le> ?x5; A *\\<^sub>v ?x5 = b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>c.\n                       A *\\<^sub>v vec nr c = b \\<and>\n                       (\\<forall>i<nr. (0::'a) \\<le> c i)\n  \\<lbrakk>A *\\<^sub>v vec nr ?c5 = b;\n   \\<forall>i<nr. (0::'a) \\<le> ?c5 i\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b\n\ngoal (1 subgoal):\n 1. (\\<exists>c.\n        A *\\<^sub>v vec nr c = b \\<and>\n        (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n    (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)", "by blast"], ["proof (state)\nthis:\n  (\\<exists>c.\n      A *\\<^sub>v vec nr c = b \\<and> (\\<forall>i<nr. (0::'a) \\<le> c i)) =\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (b \\<in> cone (set (cols A))) =\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}