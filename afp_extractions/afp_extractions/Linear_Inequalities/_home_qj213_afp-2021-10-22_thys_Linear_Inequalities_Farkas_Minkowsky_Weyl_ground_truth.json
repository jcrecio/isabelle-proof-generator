{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Farkas_Minkowsky_Weyl.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma farkas_minkowsky_weyl_theorem_1_full_dim:\n  assumes X: \"X \\<subseteq> carrier_vec n\"\n    and fin: \"finite X\"\n    and span: \"span X = carrier_vec n\"\n  shows \"\\<exists> nr A. A \\<in> carrier_mat nr n \\<and> cone X = polyhedral_cone A\n  \\<and> (X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow> A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n-1) Bnd))\"", "lemma farkas_minkowsky_weyl_theorem_1:\n  assumes X: \"X \\<subseteq> carrier_vec n\"\n    and finX: \"finite X\"\n  shows \"\\<exists> nr A. A \\<in> carrier_mat nr n \\<and> cone X = polyhedral_cone A \\<and>\n    (X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow> A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n-1) (max 1 Bnd)))\"", "lemma farkas_minkowsky_weyl_theorem_2:\n  assumes A: \"A \\<in> carrier_mat nr n\"\n  shows \"\\<exists> X. X \\<subseteq> carrier_vec n \\<and> finite X \\<and> polyhedral_cone A = cone X\n    \\<and> (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow> X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) (max 1 Bnd)))\"", "lemma farkas_minkowsky_weyl_theorem:\n  \"(\\<exists> X. X \\<subseteq> carrier_vec n \\<and> finite X \\<and> P = cone X)\n  \\<longleftrightarrow> (\\<exists> A nr. A \\<in> carrier_mat nr n \\<and> P = polyhedral_cone A)\""], "translations": [["", "lemma farkas_minkowsky_weyl_theorem_1_full_dim:\n  assumes X: \"X \\<subseteq> carrier_vec n\"\n    and fin: \"finite X\"\n    and span: \"span X = carrier_vec n\"\n  shows \"\\<exists> nr A. A \\<in> carrier_mat nr n \\<and> cone X = polyhedral_cone A\n  \\<and> (X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow> A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n-1) Bnd))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "define cond where \"cond = (\\<lambda> W. Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X)\""], ["proof (state)\nthis:\n  cond =\n  (\\<lambda>W. Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "{"], ["proof (state)\nthis:\n  cond =\n  (\\<lambda>W. Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "fix W"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "assume \"cond W\""], ["proof (state)\nthis:\n  cond W\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "hence *: \"finite W\" \"Suc (card W) = n\" \"lin_indpt W\" \"W \\<subseteq> carrier_vec n\" and WX: \"W \\<subseteq> X\""], ["proof (prove)\nusing this:\n  cond W\n\ngoal (1 subgoal):\n 1. ((finite W &&& Suc (card W) = n) &&&\n     lin_indpt W &&& W \\<subseteq> carrier_vec n) &&&\n    W \\<subseteq> X", "unfolding cond_def"], ["proof (prove)\nusing this:\n  Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X\n\ngoal (1 subgoal):\n 1. ((finite W &&& Suc (card W) = n) &&&\n     lin_indpt W &&& W \\<subseteq> carrier_vec n) &&&\n    W \\<subseteq> X", "using finite_subset[OF _ fin] X"], ["proof (prove)\nusing this:\n  Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X\n  ?A \\<subseteq> X \\<Longrightarrow> finite ?A\n  X \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. ((finite W &&& Suc (card W) = n) &&&\n     lin_indpt W &&& W \\<subseteq> carrier_vec n) &&&\n    W \\<subseteq> X", "by auto"], ["proof (state)\nthis:\n  finite W\n  Suc (card W) = n\n  lin_indpt W\n  W \\<subseteq> carrier_vec n\n  W \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "note nv = normal_vector[OF *]"], ["proof (state)\nthis:\n  normal_vector W \\<in> carrier_vec n\n  normal_vector W \\<noteq> 0\\<^sub>v n\n  ?w \\<in> W \\<Longrightarrow> ?w \\<bullet> normal_vector W = (0::'a)\n  ?w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector W) W)\n  normal_vector W \\<notin> W\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "hence \"normal_vector W \\<in> carrier_vec n\" \"\\<And> w. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = 0\"\n      \"normal_vector W \\<noteq> 0\\<^sub>v n\" \"X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow> normal_vector W \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\""], ["proof (prove)\nusing this:\n  normal_vector W \\<in> carrier_vec n\n  normal_vector W \\<noteq> 0\\<^sub>v n\n  ?w \\<in> W \\<Longrightarrow> ?w \\<bullet> normal_vector W = (0::'a)\n  ?w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector W) W)\n  normal_vector W \\<notin> W\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (1 subgoal):\n 1. (normal_vector W \\<in> carrier_vec n &&&\n     (\\<And>w.\n         w \\<in> W \\<Longrightarrow>\n         normal_vector W \\<bullet> w = (0::'a))) &&&\n    normal_vector W \\<noteq> 0\\<^sub>v n &&&\n    (X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n     normal_vector W\n     \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd))", "using WX"], ["proof (prove)\nusing this:\n  normal_vector W \\<in> carrier_vec n\n  normal_vector W \\<noteq> 0\\<^sub>v n\n  ?w \\<in> W \\<Longrightarrow> ?w \\<bullet> normal_vector W = (0::'a)\n  ?w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector W) W)\n  normal_vector W \\<notin> W\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n  W \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (normal_vector W \\<in> carrier_vec n &&&\n     (\\<And>w.\n         w \\<in> W \\<Longrightarrow>\n         normal_vector W \\<bullet> w = (0::'a))) &&&\n    normal_vector W \\<noteq> 0\\<^sub>v n &&&\n    (X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n     normal_vector W\n     \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd))", "by blast+"], ["proof (state)\nthis:\n  normal_vector W \\<in> carrier_vec n\n  ?w3 \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w3 = (0::'a)\n  normal_vector W \\<noteq> 0\\<^sub>v n\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "}"], ["proof (state)\nthis:\n  cond ?W6 \\<Longrightarrow> normal_vector ?W6 \\<in> carrier_vec n\n  \\<lbrakk>cond ?W6; ?w3 \\<in> ?W6\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W6 \\<bullet> ?w3 = (0::'a)\n  cond ?W6 \\<Longrightarrow> normal_vector ?W6 \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>cond ?W6;\n   X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W6\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "note condD = this"], ["proof (state)\nthis:\n  cond ?W6 \\<Longrightarrow> normal_vector ?W6 \\<in> carrier_vec n\n  \\<lbrakk>cond ?W6; ?w3 \\<in> ?W6\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W6 \\<bullet> ?w3 = (0::'a)\n  cond ?W6 \\<Longrightarrow> normal_vector ?W6 \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>cond ?W6;\n   X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W6\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "define Ns where \"Ns = { normal_vector W | W. cond W \\<and> (\\<forall> w \\<in> X. normal_vector W \\<bullet> w \\<ge> 0) }\n       \\<union> { - normal_vector W | W. cond W \\<and> (\\<forall> w \\<in> X. (- normal_vector W) \\<bullet> w \\<ge> 0)}\""], ["proof (state)\nthis:\n  Ns =\n  {normal_vector W |W.\n   cond W \\<and>\n   (\\<forall>w\\<in>X. (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n  {- normal_vector W |W.\n   cond W \\<and>\n   (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)}\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "have \"Ns \\<subseteq> normal_vector ` {W . W \\<subseteq> X} \\<union> (\\<lambda> W. - normal_vector W) ` {W. W \\<subseteq> X}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ns \\<subseteq> normal_vector ` {W. W \\<subseteq> X} \\<union>\n                   (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X}", "unfolding Ns_def cond_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {normal_vector W |W.\n     (Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X) \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n    {- normal_vector W |W.\n     (Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X) \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)}\n    \\<subseteq> normal_vector ` {W. W \\<subseteq> X} \\<union>\n                (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X}", "by blast"], ["proof (state)\nthis:\n  Ns \\<subseteq> normal_vector ` {W. W \\<subseteq> X} \\<union>\n                 (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X}\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "moreover"], ["proof (state)\nthis:\n  Ns \\<subseteq> normal_vector ` {W. W \\<subseteq> X} \\<union>\n                 (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X}\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "have \"finite \\<dots>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     (normal_vector ` {W. W \\<subseteq> X} \\<union>\n      (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X})", "using \\<open>finite X\\<close>"], ["proof (prove)\nusing this:\n  finite X\n\ngoal (1 subgoal):\n 1. finite\n     (normal_vector ` {W. W \\<subseteq> X} \\<union>\n      (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X})", "by auto"], ["proof (state)\nthis:\n  finite\n   (normal_vector ` {W. W \\<subseteq> X} \\<union>\n    (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X})\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "ultimately"], ["proof (chain)\npicking this:\n  Ns \\<subseteq> normal_vector ` {W. W \\<subseteq> X} \\<union>\n                 (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X}\n  finite\n   (normal_vector ` {W. W \\<subseteq> X} \\<union>\n    (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X})", "have \"finite Ns\""], ["proof (prove)\nusing this:\n  Ns \\<subseteq> normal_vector ` {W. W \\<subseteq> X} \\<union>\n                 (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X}\n  finite\n   (normal_vector ` {W. W \\<subseteq> X} \\<union>\n    (\\<lambda>W. - normal_vector W) ` {W. W \\<subseteq> X})\n\ngoal (1 subgoal):\n 1. finite Ns", "by (metis finite_subset)"], ["proof (state)\nthis:\n  finite Ns\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "from finite_list[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>xs. set xs = Ns", "obtain ns where ns: \"set ns = Ns\""], ["proof (prove)\nusing this:\n  \\<exists>xs. set xs = Ns\n\ngoal (1 subgoal):\n 1. (\\<And>ns. set ns = Ns \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  set ns = Ns\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "have Ns: \"Ns \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ns \\<subseteq> carrier_vec n", "unfolding Ns_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {normal_vector W |W.\n     cond W \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n    {- normal_vector W |W.\n     cond W \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)}\n    \\<subseteq> carrier_vec n", "using condD"], ["proof (prove)\nusing this:\n  cond ?W6 \\<Longrightarrow> normal_vector ?W6 \\<in> carrier_vec n\n  \\<lbrakk>cond ?W6; ?w3 \\<in> ?W6\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W6 \\<bullet> ?w3 = (0::'a)\n  cond ?W6 \\<Longrightarrow> normal_vector ?W6 \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>cond ?W6;\n   X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W6\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. {normal_vector W |W.\n     cond W \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n    {- normal_vector W |W.\n     cond W \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)}\n    \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  Ns \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "define A where \"A = mat_of_rows n ns\""], ["proof (state)\nthis:\n  A = mat_of_rows n ns\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "define nr where \"nr = length ns\""], ["proof (state)\nthis:\n  nr = length ns\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "have A: \"- A \\<in> carrier_mat nr n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - A \\<in> carrier_mat nr n", "unfolding A_def nr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. - mat_of_rows n ns \\<in> carrier_mat (length ns) n", "by auto"], ["proof (state)\nthis:\n  - A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))", "proof (intro exI conjI impI, rule A)"], ["proof (state)\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have not_conj: \"\\<not> (a \\<and> b) \\<longleftrightarrow> (a \\<longrightarrow> \\<not> b)\" for a b"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<not> (a \\<and> b)) = (a \\<longrightarrow> \\<not> b)", "by auto"], ["proof (state)\nthis:\n  (\\<not> (?a3 \\<and> ?b3)) = (?a3 \\<longrightarrow> \\<not> ?b3)\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have id: \"Ns = { nv . \\<exists> W. W \\<subseteq> X \\<and> nv \\<in> {normal_vector W, - normal_vector W} \\<and>\n             Suc (card W) = n \\<and> lin_indpt W \\<and> (\\<forall>a\\<^sub>i\\<in>X. 0 \\<le> nv \\<bullet> a\\<^sub>i)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Ns =\n    {nv.\n     \\<exists>W\\<subseteq>X.\n        nv \\<in> {normal_vector W, - normal_vector W} \\<and>\n        Suc (card W) = n \\<and>\n        lin_indpt W \\<and>\n        (\\<forall>a\\<^sub>i\\<in>X. (0::'a) \\<le> nv \\<bullet> a\\<^sub>i)}", "unfolding Ns_def cond_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {normal_vector W |W.\n     (Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X) \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n    {- normal_vector W |W.\n     (Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X) \\<and>\n     (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)} =\n    {nv.\n     \\<exists>W\\<subseteq>X.\n        nv \\<in> {normal_vector W, - normal_vector W} \\<and>\n        Suc (card W) = n \\<and>\n        lin_indpt W \\<and>\n        (\\<forall>a\\<^sub>i\\<in>X. (0::'a) \\<le> nv \\<bullet> a\\<^sub>i)}", "by auto"], ["proof (state)\nthis:\n  Ns =\n  {nv.\n   \\<exists>W\\<subseteq>X.\n      nv \\<in> {normal_vector W, - normal_vector W} \\<and>\n      Suc (card W) = n \\<and>\n      lin_indpt W \\<and>\n      (\\<forall>a\\<^sub>i\\<in>X. (0::'a) \\<le> nv \\<bullet> a\\<^sub>i)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have \"polyhedral_cone (- A) = { b. b \\<in> carrier_vec n \\<and> (- A) *\\<^sub>v b \\<le> 0\\<^sub>v nr}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedral_cone (- A) =\n    {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr}", "unfolding polyhedral_cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     - A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row (- A))} =\n    {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr}", "using A"], ["proof (prove)\nusing this:\n  - A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     - A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row (- A))} =\n    {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr}", "by auto"], ["proof (state)\nthis:\n  polyhedral_cone (- A) =\n  {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  polyhedral_cone (- A) =\n  {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have \"\\<dots> = {b. b \\<in> carrier_vec n \\<and> (\\<forall> i < nr. row (- A) i \\<bullet> b \\<le> 0)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr} =\n    {b \\<in> carrier_vec n.\n     \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)}", "unfolding less_eq_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     dim_vec (- A *\\<^sub>v b) = dim_vec (0\\<^sub>v nr) \\<and>\n     (\\<forall>i<dim_vec (0\\<^sub>v nr).\n         (- A *\\<^sub>v b) $ i \\<le> 0\\<^sub>v nr $ i)} =\n    {b \\<in> carrier_vec n.\n     \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)}", "using A"], ["proof (prove)\nusing this:\n  - A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     dim_vec (- A *\\<^sub>v b) = dim_vec (0\\<^sub>v nr) \\<and>\n     (\\<forall>i<dim_vec (0\\<^sub>v nr).\n         (- A *\\<^sub>v b) $ i \\<le> 0\\<^sub>v nr $ i)} =\n    {b \\<in> carrier_vec n.\n     \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)}", "by auto"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr} =\n  {b \\<in> carrier_vec n.\n   \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n. - A *\\<^sub>v b \\<le> 0\\<^sub>v nr} =\n  {b \\<in> carrier_vec n.\n   \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have \"\\<dots> = {b. b \\<in> carrier_vec n \\<and> (\\<forall> i < nr. - (ns ! i) \\<bullet> b \\<le> 0)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)} =\n    {b \\<in> carrier_vec n.\n     \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)}", "using A Ns[folded ns]"], ["proof (prove)\nusing this:\n  - A \\<in> carrier_mat nr n\n  set ns \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)} =\n    {b \\<in> carrier_vec n.\n     \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)}", "by (intro Collect_cong conj_cong refl all_cong arg_cong[of _ _ \"\\<lambda> x. x \\<bullet> _ \\<le> _\"],\n          force simp: A_def mat_of_rows_def nr_def set_conv_nth)"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n.\n   \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)} =\n  {b \\<in> carrier_vec n. \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n.\n   \\<forall>i<nr. row (- A) i \\<bullet> b \\<le> (0::'a)} =\n  {b \\<in> carrier_vec n. \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have \"\\<dots> = {b. b \\<in> carrier_vec n \\<and> (\\<forall> n \\<in> Ns. - n \\<bullet> b \\<le> 0)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)} =\n    {b \\<in> carrier_vec n.\n     \\<forall>n\\<in>Ns. - n \\<bullet> b \\<le> (0::'a)}", "unfolding ns[symmetric] nr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>i<length ns. - ns ! i \\<bullet> b \\<le> (0::'a)} =\n    {b \\<in> carrier_vec n.\n     \\<forall>n\\<in>set ns. - n \\<bullet> b \\<le> (0::'a)}", "by (auto simp: set_conv_nth)"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n.\n   \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)} =\n  {b \\<in> carrier_vec n. \\<forall>n\\<in>Ns. - n \\<bullet> b \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n.\n   \\<forall>i<nr. - ns ! i \\<bullet> b \\<le> (0::'a)} =\n  {b \\<in> carrier_vec n. \\<forall>n\\<in>Ns. - n \\<bullet> b \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have \"\\<dots> = {b. b \\<in> carrier_vec n \\<and> (\\<forall> n \\<in> Ns. n \\<bullet> b \\<ge> 0)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>n\\<in>Ns. - n \\<bullet> b \\<le> (0::'a)} =\n    {b \\<in> carrier_vec n. \\<forall>n\\<in>Ns. (0::'a) \\<le> n \\<bullet> b}", "by (intro Collect_cong conj_cong refl ball_cong, insert Ns, auto)"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n.\n   \\<forall>n\\<in>Ns. - n \\<bullet> b \\<le> (0::'a)} =\n  {b \\<in> carrier_vec n. \\<forall>n\\<in>Ns. (0::'a) \\<le> n \\<bullet> b}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n.\n   \\<forall>n\\<in>Ns. - n \\<bullet> b \\<le> (0::'a)} =\n  {b \\<in> carrier_vec n. \\<forall>n\\<in>Ns. (0::'a) \\<le> n \\<bullet> b}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "have \"\\<dots> = cone X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>n\\<in>Ns. (0::'a) \\<le> n \\<bullet> b} =\n    cone X", "unfolding fundamental_theorem_of_linear_inequalities_full_dim(2)[OF X fin span]"], ["proof (prove)\ngoal (1 subgoal):\n 1. {b \\<in> carrier_vec n.\n     \\<forall>n\\<in>Ns. (0::'a) \\<le> n \\<bullet> b} =\n    {b \\<in> carrier_vec n.\n     \\<nexists>B c.\n        B \\<subseteq> X \\<and>\n        c \\<in> {normal_vector B, - normal_vector B} \\<and>\n        Suc (card B) = n \\<and>\n        lin_indpt B \\<and>\n        (\\<forall>a\\<^sub>i\\<in>X.\n            (0::'a) \\<le> c \\<bullet> a\\<^sub>i) \\<and>\n        c \\<bullet> b < (0::'a)}", "by (intro Collect_cong conj_cong refl, unfold not_le[symmetric] not_ex not_conj not_not id, blast)"], ["proof (state)\nthis:\n  {b \\<in> carrier_vec n. \\<forall>n\\<in>Ns. (0::'a) \\<le> n \\<bullet> b} =\n  cone X\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone (- A)\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "finally"], ["proof (chain)\npicking this:\n  polyhedral_cone (- A) = cone X", "show \"cone X = polyhedral_cone (- A)\""], ["proof (prove)\nusing this:\n  polyhedral_cone (- A) = cone X\n\ngoal (1 subgoal):\n 1. cone X = polyhedral_cone (- A)", ".."], ["proof (state)\nthis:\n  cone X = polyhedral_cone (- A)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  cone X = polyhedral_cone (- A)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "assume XI: \"X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (state)\nthis:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "assume \"v \\<in> set (rows (- A))\""], ["proof (state)\nthis:\n  v \\<in> set (rows (- A))\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "hence \"-v \\<in> set (rows A)\""], ["proof (prove)\nusing this:\n  v \\<in> set (rows (- A))\n\ngoal (1 subgoal):\n 1. - v \\<in> set (rows A)", "unfolding rows_def"], ["proof (prove)\nusing this:\n  v \\<in> set (map (row (- A)) [0..<dim_row (- A)])\n\ngoal (1 subgoal):\n 1. - v \\<in> set (map (row A) [0..<dim_row A])", "by auto"], ["proof (state)\nthis:\n  - v \\<in> set (rows A)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "hence \"-v \\<in> Ns\""], ["proof (prove)\nusing this:\n  - v \\<in> set (rows A)\n\ngoal (1 subgoal):\n 1. - v \\<in> Ns", "unfolding A_def"], ["proof (prove)\nusing this:\n  - v \\<in> set (rows (mat_of_rows n ns))\n\ngoal (1 subgoal):\n 1. - v \\<in> Ns", "using ns Ns"], ["proof (prove)\nusing this:\n  - v \\<in> set (rows (mat_of_rows n ns))\n  set ns = Ns\n  Ns \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. - v \\<in> Ns", "by auto"], ["proof (state)\nthis:\n  - v \\<in> Ns\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "from this[unfolded Ns_def]"], ["proof (chain)\npicking this:\n  - v\n  \\<in> {normal_vector W |W.\n         cond W \\<and>\n         (\\<forall>w\\<in>X.\n             (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n        {- normal_vector W |W.\n         cond W \\<and>\n         (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)}", "obtain W where cW: \"cond W\"\n          and v: \"-v = normal_vector W \\<or> v = normal_vector W\""], ["proof (prove)\nusing this:\n  - v\n  \\<in> {normal_vector W |W.\n         cond W \\<and>\n         (\\<forall>w\\<in>X.\n             (0::'a) \\<le> normal_vector W \\<bullet> w)} \\<union>\n        {- normal_vector W |W.\n         cond W \\<and>\n         (\\<forall>w\\<in>X. (0::'a) \\<le> - normal_vector W \\<bullet> w)}\n\ngoal (1 subgoal):\n 1. (\\<And>W.\n        \\<lbrakk>cond W;\n         - v = normal_vector W \\<or> v = normal_vector W\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  cond W\n  - v = normal_vector W \\<or> v = normal_vector W\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "from cW[unfolded cond_def]"], ["proof (chain)\npicking this:\n  Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X", "have WX: \"W \\<subseteq> X\""], ["proof (prove)\nusing this:\n  Suc (card W) = n \\<and> lin_indpt W \\<and> W \\<subseteq> X\n\ngoal (1 subgoal):\n 1. W \\<subseteq> X", "by auto"], ["proof (state)\nthis:\n  W \\<subseteq> X\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "from v"], ["proof (chain)\npicking this:\n  - v = normal_vector W \\<or> v = normal_vector W", "have v: \"v = normal_vector W \\<or> v = - normal_vector W\""], ["proof (prove)\nusing this:\n  - v = normal_vector W \\<or> v = normal_vector W\n\ngoal (1 subgoal):\n 1. v = normal_vector W \\<or> v = - normal_vector W", "by (metis uminus_uminus_vec)"], ["proof (state)\nthis:\n  v = normal_vector W \\<or> v = - normal_vector W\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "from condD(4)[OF cW XI]"], ["proof (chain)\npicking this:\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"normal_vector W \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\""], ["proof (prove)\nusing this:\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "by auto"], ["proof (state)\nthis:\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "hence \"v \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\""], ["proof (prove)\nusing this:\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. v \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "using v"], ["proof (prove)\nusing this:\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n  v = normal_vector W \\<or> v = - normal_vector W\n\ngoal (1 subgoal):\n 1. v \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "by auto"], ["proof (state)\nthis:\n  v \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "}"], ["proof (state)\nthis:\n  ?v5 \\<in> set (rows (- A)) \\<Longrightarrow>\n  ?v5 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "hence \"set (rows (- A)) \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\""], ["proof (prove)\nusing this:\n  ?v5 \\<in> set (rows (- A)) \\<Longrightarrow>\n  ?v5 \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. set (rows (- A))\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "by blast"], ["proof (state)\nthis:\n  set (rows (- A))\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "thus \"- A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)\""], ["proof (prove)\nusing this:\n  set (rows (- A))\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal (1 subgoal):\n 1. - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)", "by simp"], ["proof (state)\nthis:\n  - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  - A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>nr A.\n     A \\<in> carrier_mat nr n \\<and>\n     cone X = polyhedral_cone A \\<and>\n     (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec Bnd \\<longrightarrow>\n      A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) Bnd))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>We next generalize the theorem to the case where X does not span the full space.\n  To this end, we extend X by unit-vectors until the full space is spanned, and then\n  add the normal-vectors of these unit-vectors which are orthogonal to span X as additional\n  constraints to the resulting matrix.\\<close>"], ["", "lemma farkas_minkowsky_weyl_theorem_1:\n  assumes X: \"X \\<subseteq> carrier_vec n\"\n    and finX: \"finite X\"\n  shows \"\\<exists> nr A. A \\<in> carrier_mat nr n \\<and> cone X = polyhedral_cone A \\<and>\n    (X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow> A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n-1) (max 1 Bnd)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from exists_lin_indpt_sublist[OF X]"], ["proof (chain)\npicking this:\n  \\<exists>Ls.\n     lin_indpt_list Ls \\<and>\n     local.span (set Ls) = local.span X \\<and> set Ls \\<subseteq> X", "obtain Ls where lin_Ls: \"lin_indpt_list Ls\" and\n    spanL: \"span (set Ls) = span X\" and LX: \"set Ls \\<subseteq> X\""], ["proof (prove)\nusing this:\n  \\<exists>Ls.\n     lin_indpt_list Ls \\<and>\n     local.span (set Ls) = local.span X \\<and> set Ls \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>Ls.\n        \\<lbrakk>lin_indpt_list Ls; local.span (set Ls) = local.span X;\n         set Ls \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lin_indpt_list Ls\n  local.span (set Ls) = local.span X\n  set Ls \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "define Ns where \"Ns = normal_vectors Ls\""], ["proof (state)\nthis:\n  Ns = normal_vectors Ls\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "define Bs where \"Bs = basis_extension Ls\""], ["proof (state)\nthis:\n  Bs = basis_extension Ls\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from basis_extension[OF lin_Ls, folded Bs_def]"], ["proof (chain)\npicking this:\n  set Bs \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (Ls @ Bs)\n  length (Ls @ Bs) = n", "have BU: \"set Bs \\<subseteq> set (unit_vecs n)\"\n    and lin_Ls_Bs: \"lin_indpt_list (Ls @ Bs)\"\n    and len_Ls_Bs: \"length (Ls @ Bs) = n\""], ["proof (prove)\nusing this:\n  set Bs \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (Ls @ Bs)\n  length (Ls @ Bs) = n\n\ngoal (1 subgoal):\n 1. set Bs \\<subseteq> set (unit_vecs n) &&&\n    lin_indpt_list (Ls @ Bs) &&& length (Ls @ Bs) = n", "by auto"], ["proof (state)\nthis:\n  set Bs \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (Ls @ Bs)\n  length (Ls @ Bs) = n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "note nv = normal_vectors[OF lin_Ls, folded Ns_def]"], ["proof (state)\nthis:\n  set Ns \\<subseteq> carrier_vec n\n  \\<lbrakk>?w \\<in> set Ls; ?nv \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?nv \\<bullet> ?w = (0::'a)\n  \\<lbrakk>?w \\<in> set Ls; ?nv \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> ?nv = (0::'a)\n  lin_indpt_list (Ls @ Ns)\n  length Ls + length Ns = n\n  set Ls \\<inter> set Ns = {}\n  set Ls\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) ?Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from nv(1-6) nv(7)[of Bnd]"], ["proof (chain)\npicking this:\n  set Ns \\<subseteq> carrier_vec n\n  \\<lbrakk>?w \\<in> set Ls; ?nv \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?nv \\<bullet> ?w = (0::'a)\n  \\<lbrakk>?w \\<in> set Ls; ?nv \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> ?nv = (0::'a)\n  lin_indpt_list (Ls @ Ns)\n  length Ls + length Ns = n\n  set Ls \\<inter> set Ns = {}\n  set Ls\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have N: \"set Ns \\<subseteq> carrier_vec n\"\n    and LN': \"lin_indpt_list (Ls @ Ns)\" \"length (Ls @ Ns) = n\"\n    and ortho: \"\\<And> l w. l \\<in> set Ls \\<Longrightarrow> w \\<in> set Ns \\<Longrightarrow> w \\<bullet> l = 0\"\n    and Ns_bnd: \"set Ls \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n     \\<Longrightarrow> set Ns \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) (max 1 Bnd))\""], ["proof (prove)\nusing this:\n  set Ns \\<subseteq> carrier_vec n\n  \\<lbrakk>?w \\<in> set Ls; ?nv \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?nv \\<bullet> ?w = (0::'a)\n  \\<lbrakk>?w \\<in> set Ls; ?nv \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> ?nv = (0::'a)\n  lin_indpt_list (Ls @ Ns)\n  length Ls + length Ns = n\n  set Ls \\<inter> set Ns = {}\n  set Ls\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. (set Ns \\<subseteq> carrier_vec n &&&\n     lin_indpt_list (Ls @ Ns) &&& length (Ls @ Ns) = n) &&&\n    (\\<And>l w.\n        \\<lbrakk>l \\<in> set Ls; w \\<in> set Ns\\<rbrakk>\n        \\<Longrightarrow> w \\<bullet> l = (0::'a)) &&&\n    (set Ls\n     \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n     set Ns\n     \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                 Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "by auto"], ["proof (state)\nthis:\n  set Ns \\<subseteq> carrier_vec n\n  lin_indpt_list (Ls @ Ns)\n  length (Ls @ Ns) = n\n  \\<lbrakk>?l3 \\<in> set Ls; ?w3 \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?w3 \\<bullet> ?l3 = (0::'a)\n  set Ls\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from lin_indpt_list_length_eq_n[OF LN']"], ["proof (chain)\npicking this:\n  local.span (set (Ls @ Ns)) = carrier_vec n\n  basis (set (Ls @ Ns))", "have spanLN: \"span (set Ls \\<union> set Ns) = carrier_vec n\""], ["proof (prove)\nusing this:\n  local.span (set (Ls @ Ns)) = carrier_vec n\n  basis (set (Ls @ Ns))\n\ngoal (1 subgoal):\n 1. local.span (set Ls \\<union> set Ns) = carrier_vec n", "by auto"], ["proof (state)\nthis:\n  local.span (set Ls \\<union> set Ns) = carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "let ?Bnd = \"Bounded_vec (det_bound (n-1) (max 1 Bnd))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "let ?Bndm = \"Bounded_mat (det_bound (n-1) (max 1 Bnd))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "define Y where \"Y = X \\<union> set Bs\""], ["proof (state)\nthis:\n  Y = X \\<union> set Bs\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from lin_Ls_Bs[unfolded lin_indpt_list_def]"], ["proof (chain)\npicking this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))", "have\n    Ls: \"set Ls \\<subseteq> carrier_vec n\" and\n    Bs: \"set Bs \\<subseteq> carrier_vec n\" and\n    distLsBs: \"distinct (Ls @ Bs)\" and\n    lin': \"lin_indpt (set (Ls @ Bs))\""], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. (set Ls \\<subseteq> carrier_vec n &&&\n     set Bs \\<subseteq> carrier_vec n) &&&\n    distinct (Ls @ Bs) &&& lin_indpt (set (Ls @ Bs))", "by auto"], ["proof (state)\nthis:\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n  distinct (Ls @ Bs)\n  lin_indpt (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have LN: \"set Ls \\<inter> set Ns = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns \\<noteq> {} \\<Longrightarrow> False", "assume \"\\<not> ?thesis\""], ["proof (state)\nthis:\n  set Ls \\<inter> set Ns \\<noteq> {}\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  set Ls \\<inter> set Ns \\<noteq> {}", "obtain x where xX: \"x \\<in> set Ls\" and xW: \"x \\<in> set Ns\""], ["proof (prove)\nusing this:\n  set Ls \\<inter> set Ns \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> set Ls; x \\<in> set Ns\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> set Ls\n  x \\<in> set Ns\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns \\<noteq> {} \\<Longrightarrow> False", "from ortho[OF xX xW]"], ["proof (chain)\npicking this:\n  x \\<bullet> x = (0::'a)", "have \"x \\<bullet> x = 0\""], ["proof (prove)\nusing this:\n  x \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. x \\<bullet> x = (0::'a)", "by auto"], ["proof (state)\nthis:\n  x \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns \\<noteq> {} \\<Longrightarrow> False", "hence \"sq_norm x = 0\""], ["proof (prove)\nusing this:\n  x \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)", "by (auto simp: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns \\<noteq> {} \\<Longrightarrow> False", "with xX LX X"], ["proof (chain)\npicking this:\n  x \\<in> set Ls\n  set Ls \\<subseteq> X\n  X \\<subseteq> carrier_vec n\n  \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)", "have \"x = 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  x \\<in> set Ls\n  set Ls \\<subseteq> X\n  X \\<subseteq> carrier_vec n\n  \\<parallel>x\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. x = 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  x = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. set Ls \\<inter> set Ns \\<noteq> {} \\<Longrightarrow> False", "with vs_zero_lin_dep[OF _ lin'] Ls Bs xX"], ["proof (chain)\npicking this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<Longrightarrow>\n  0\\<^sub>v n \\<notin> set (Ls @ Bs)\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n  x \\<in> set Ls\n  x = 0\\<^sub>v n", "show False"], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<Longrightarrow>\n  0\\<^sub>v n \\<notin> set (Ls @ Bs)\n  set Ls \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n  x \\<in> set Ls\n  x = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  set Ls \\<inter> set Ns = {}\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have Y: \"Y \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y \\<subseteq> carrier_vec n", "using X Bs"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. Y \\<subseteq> carrier_vec n", "unfolding Y_def"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n  set Bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. X \\<union> set Bs \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  Y \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have CLB: \"carrier_vec n = span (set (Ls @ Bs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. carrier_vec n = local.span (set (Ls @ Bs))", "using lin_Ls_Bs len_Ls_Bs lin_indpt_list_length_eq_n"], ["proof (prove)\nusing this:\n  lin_indpt_list (Ls @ Bs)\n  length (Ls @ Bs) = n\n  \\<lbrakk>lin_indpt_list ?xs; length ?xs = n\\<rbrakk>\n  \\<Longrightarrow> local.span (set ?xs) = carrier_vec n\n  \\<lbrakk>lin_indpt_list ?xs; length ?xs = n\\<rbrakk>\n  \\<Longrightarrow> basis (set ?xs)\n\ngoal (1 subgoal):\n 1. carrier_vec n = local.span (set (Ls @ Bs))", "by blast"], ["proof (state)\nthis:\n  carrier_vec n = local.span (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "also"], ["proof (state)\nthis:\n  carrier_vec n = local.span (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have \"\\<dots> \\<subseteq> span Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.span (set (Ls @ Bs)) \\<subseteq> local.span Y", "by (rule span_is_monotone, insert LX, auto simp: Y_def)"], ["proof (state)\nthis:\n  local.span (set (Ls @ Bs)) \\<subseteq> local.span Y\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "finally"], ["proof (chain)\npicking this:\n  carrier_vec n \\<subseteq> local.span Y", "have span: \"span Y = carrier_vec n\""], ["proof (prove)\nusing this:\n  carrier_vec n \\<subseteq> local.span Y\n\ngoal (1 subgoal):\n 1. local.span Y = carrier_vec n", "using Y"], ["proof (prove)\nusing this:\n  carrier_vec n \\<subseteq> local.span Y\n  Y \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span Y = carrier_vec n", "by auto"], ["proof (state)\nthis:\n  local.span Y = carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have finY: \"finite Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite Y", "using finX"], ["proof (prove)\nusing this:\n  finite X\n\ngoal (1 subgoal):\n 1. finite Y", "unfolding Y_def"], ["proof (prove)\nusing this:\n  finite X\n\ngoal (1 subgoal):\n 1. finite (X \\<union> set Bs)", "by auto"], ["proof (state)\nthis:\n  finite Y\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from farkas_minkowsky_weyl_theorem_1_full_dim[OF Y finY span]"], ["proof (chain)\npicking this:\n  \\<exists>nr A.\n     A \\<in> carrier_mat nr n \\<and>\n     cone Y = polyhedral_cone A \\<and>\n     (Y \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec ?Bnd \\<longrightarrow>\n      A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) ?Bnd))", "obtain A nr where A: \"A \\<in> carrier_mat nr n\" and YA: \"cone Y = polyhedral_cone A\"\n    and Y_Ints: \"Y \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max 1 Bnd) \\<Longrightarrow> A \\<in> \\<int>\\<^sub>m \\<inter> ?Bndm\""], ["proof (prove)\nusing this:\n  \\<exists>nr A.\n     A \\<in> carrier_mat nr n \\<and>\n     cone Y = polyhedral_cone A \\<and>\n     (Y \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec ?Bnd \\<longrightarrow>\n      A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat (det_bound (n - 1) ?Bnd))\n\ngoal (1 subgoal):\n 1. (\\<And>A nr.\n        \\<lbrakk>A \\<in> carrier_mat nr n; cone Y = polyhedral_cone A;\n         Y \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                       Bounded_vec (max (1::'a) Bnd) \\<Longrightarrow>\n         A \\<in> \\<int>\\<^sub>m \\<inter>\n                 Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  A \\<in> carrier_mat nr n\n  cone Y = polyhedral_cone A\n  Y \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (max (1::'a) Bnd) \\<Longrightarrow>\n  A \\<in> \\<int>\\<^sub>m \\<inter>\n          Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have fin: \"finite ({row A i | i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite ({row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns)", "by auto"], ["proof (state)\nthis:\n  finite ({row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns)\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from finite_list[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>xs.\n     set xs = {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns", "obtain rs where rs_def: \"set rs = {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns\""], ["proof (prove)\nusing this:\n  \\<exists>xs.\n     set xs = {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns\n\ngoal (1 subgoal):\n 1. (\\<And>rs.\n        set rs =\n        {row A i |i. i < nr} \\<union> set Ns \\<union>\n        uminus ` set Ns \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  set rs = {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "from A N"], ["proof (chain)\npicking this:\n  A \\<in> carrier_mat nr n\n  set Ns \\<subseteq> carrier_vec n", "have rs: \"set rs \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n  set Ns \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set rs \\<subseteq> carrier_vec n", "unfolding rs_def"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n  set Ns \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns\n    \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set rs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "let ?m = \"length rs\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "define B where \"B = mat_of_rows n rs\""], ["proof (state)\nthis:\n  B = mat_of_rows n rs\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "have B: \"B \\<in> carrier_mat ?m n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat (length rs) n", "unfolding B_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. mat_of_rows n rs \\<in> carrier_mat (length rs) n", "by auto"], ["proof (state)\nthis:\n  B \\<in> carrier_mat (length rs) n\n\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>nr A.\n       A \\<in> carrier_mat nr n \\<and>\n       cone X = polyhedral_cone A \\<and>\n       (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec Bnd \\<longrightarrow>\n        A \\<in> \\<int>\\<^sub>m \\<inter>\n                Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))", "proof (intro exI conjI impI, rule B)"], ["proof (state)\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have id: \"(\\<forall>r\\<in>{rs ! i |i. i < ?m}. P r) = (\\<forall> r < ?m. P (rs ! r))\" for P"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>r\\<in>{rs ! i |i. i < length rs}. P r) =\n    (\\<forall>r<length rs. P (rs ! r))", "by auto"], ["proof (state)\nthis:\n  (\\<forall>r\\<in>{rs ! i |i. i < length rs}. ?P3 r) =\n  (\\<forall>r<length rs. ?P3 (rs ! r))\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"polyhedral_cone B = { x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v ?m}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedral_cone B =\n    {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)}", "unfolding polyhedral_cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row B)} =\n    {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)}", "using B"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat (length rs) n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row B)} =\n    {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)}", "by auto"], ["proof (state)\nthis:\n  polyhedral_cone B =\n  {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  polyhedral_cone B =\n  {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = { x \\<in> carrier_vec n. \\<forall> i < ?m. row B i \\<bullet> x \\<le> 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)}", "unfolding less_eq_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     dim_vec (B *\\<^sub>v x) = dim_vec (0\\<^sub>v (length rs)) \\<and>\n     (\\<forall>i<dim_vec (0\\<^sub>v (length rs)).\n         (B *\\<^sub>v x) $ i \\<le> 0\\<^sub>v (length rs) $ i)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)}", "using B"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat (length rs) n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     dim_vec (B *\\<^sub>v x) = dim_vec (0\\<^sub>v (length rs)) \\<and>\n     (\\<forall>i<dim_vec (0\\<^sub>v (length rs)).\n         (B *\\<^sub>v x) $ i \\<le> 0\\<^sub>v (length rs) $ i)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)}", "by auto"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)} =\n  {x \\<in> carrier_vec n.\n   \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (length rs)} =\n  {x \\<in> carrier_vec n.\n   \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = { x \\<in> carrier_vec n. \\<forall> r \\<in> set rs. r \\<bullet> x \\<le> 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)}", "using rs"], ["proof (prove)\nusing this:\n  set rs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)}", "unfolding set_conv_nth id"], ["proof (prove)\nusing this:\n  {rs ! i |i. i < length rs} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>r<length rs. rs ! r \\<bullet> x \\<le> (0::'a)}", "by (intro Collect_cong conj_cong refl all_cong arg_cong[of _ _ \"\\<lambda> x. x \\<bullet> _ \\<le> 0\"], auto simp: B_def)"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)} =\n  {x \\<in> carrier_vec n.\n   \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>i<length rs. row B i \\<bullet> x \\<le> (0::'a)} =\n  {x \\<in> carrier_vec n.\n   \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = {x \\<in> carrier_vec n. \\<forall> i < nr. row A i \\<bullet> x \\<le> 0}\n           \\<inter> {x \\<in> carrier_vec n. \\<forall> w \\<in> set Ns \\<union> uminus ` set Ns. w \\<bullet> x \\<le> 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} \\<inter>\n    {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}", "unfolding rs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>r\\<in>{row A i |i. i < nr} \\<union> set Ns \\<union>\n                    uminus ` set Ns.\n        r \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n.\n     \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} \\<inter>\n    {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}", "by blast"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)} =\n  {x \\<in> carrier_vec n.\n   \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} \\<inter>\n  {x \\<in> carrier_vec n.\n   \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n      w \\<bullet> x \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>r\\<in>set rs. r \\<bullet> x \\<le> (0::'a)} =\n  {x \\<in> carrier_vec n.\n   \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} \\<inter>\n  {x \\<in> carrier_vec n.\n   \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n      w \\<bullet> x \\<le> (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"{x \\<in> carrier_vec n. \\<forall> i < nr. row A i \\<bullet> x \\<le> 0} = polyhedral_cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} =\n    polyhedral_cone A", "unfolding polyhedral_cone_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}", "by (auto simp: less_eq_vec_def)"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} =\n  polyhedral_cone A\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>i<nr. row A i \\<bullet> x \\<le> (0::'a)} =\n  polyhedral_cone A\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = cone Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedral_cone A = cone Y", "unfolding YA"], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedral_cone A = polyhedral_cone A", ".."], ["proof (state)\nthis:\n  polyhedral_cone A = cone Y\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  polyhedral_cone A = cone Y\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"{x \\<in> carrier_vec n. \\<forall> w \\<in> set Ns \\<union> uminus ` set Ns. w \\<bullet> x \\<le> 0}\n      = {x \\<in> carrier_vec n. \\<forall> w \\<in> set Ns. w \\<bullet> x = 0}\"\n      (is \"?l = ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)} =\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n 2. {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                    w \\<bullet> x \\<le> (0::'a)}", "show \"?r \\<subseteq> ?l\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                    w \\<bullet> x \\<le> (0::'a)}", "using N"], ["proof (prove)\nusing this:\n  set Ns \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                    w \\<bullet> x \\<le> (0::'a)}", "by auto"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n  \\<subseteq> {x \\<in> carrier_vec n.\n               \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                  w \\<bullet> x \\<le> (0::'a)}\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "{"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n  \\<subseteq> {x \\<in> carrier_vec n.\n               \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                  w \\<bullet> x \\<le> (0::'a)}\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "fix x w"], ["proof (state)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "assume \"x \\<in> ?l\" \"w \\<in> set Ns\""], ["proof (state)\nthis:\n  x \\<in> {x \\<in> carrier_vec n.\n           \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n              w \\<bullet> x \\<le> (0::'a)}\n  w \\<in> set Ns\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "with N"], ["proof (chain)\npicking this:\n  set Ns \\<subseteq> carrier_vec n\n  x \\<in> {x \\<in> carrier_vec n.\n           \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n              w \\<bullet> x \\<le> (0::'a)}\n  w \\<in> set Ns", "have x: \"x \\<in> carrier_vec n\" and w: \"w \\<in> carrier_vec n\"\n          and one: \"w \\<bullet> x \\<le> 0\" and two: \"(-w) \\<bullet> x \\<le> 0\""], ["proof (prove)\nusing this:\n  set Ns \\<subseteq> carrier_vec n\n  x \\<in> {x \\<in> carrier_vec n.\n           \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n              w \\<bullet> x \\<le> (0::'a)}\n  w \\<in> set Ns\n\ngoal (1 subgoal):\n 1. (x \\<in> carrier_vec n &&& w \\<in> carrier_vec n) &&&\n    w \\<bullet> x \\<le> (0::'a) &&& - w \\<bullet> x \\<le> (0::'a)", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n  w \\<in> carrier_vec n\n  w \\<bullet> x \\<le> (0::'a)\n  - w \\<bullet> x \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "from two"], ["proof (chain)\npicking this:\n  - w \\<bullet> x \\<le> (0::'a)", "have \"w \\<bullet> x \\<ge> 0\""], ["proof (prove)\nusing this:\n  - w \\<bullet> x \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. (0::'a) \\<le> w \\<bullet> x", "by (subst (asm) scalar_prod_uminus_left, insert w x, auto)"], ["proof (state)\nthis:\n  (0::'a) \\<le> w \\<bullet> x\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "with one"], ["proof (chain)\npicking this:\n  w \\<bullet> x \\<le> (0::'a)\n  (0::'a) \\<le> w \\<bullet> x", "have \"w \\<bullet> x = 0\""], ["proof (prove)\nusing this:\n  w \\<bullet> x \\<le> (0::'a)\n  (0::'a) \\<le> w \\<bullet> x\n\ngoal (1 subgoal):\n 1. w \\<bullet> x = (0::'a)", "by auto"], ["proof (state)\nthis:\n  w \\<bullet> x = (0::'a)\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x5\n           \\<in> {x \\<in> carrier_vec n.\n                  \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                     w \\<bullet> x \\<le> (0::'a)};\n   ?w5 \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?w5 \\<bullet> ?x5 = (0::'a)\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "thus \"?l \\<subseteq> ?r\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x5\n           \\<in> {x \\<in> carrier_vec n.\n                  \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n                     w \\<bullet> x \\<le> (0::'a)};\n   ?w5 \\<in> set Ns\\<rbrakk>\n  \\<Longrightarrow> ?w5 \\<bullet> ?x5 = (0::'a)\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n        w \\<bullet> x \\<le> (0::'a)}\n    \\<subseteq> {x \\<in> carrier_vec n.\n                 \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "by blast"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n      w \\<bullet> x \\<le> (0::'a)}\n  \\<subseteq> {x \\<in> carrier_vec n.\n               \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n.\n   \\<forall>w\\<in>set Ns \\<union> uminus ` set Ns.\n      w \\<bullet> x \\<le> (0::'a)} =\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "finally"], ["proof (chain)\npicking this:\n  polyhedral_cone B =\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "have \"polyhedral_cone B = cone Y \\<inter> {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = 0}\""], ["proof (prove)\nusing this:\n  polyhedral_cone B =\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. polyhedral_cone B =\n    cone Y \\<inter>\n    {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}", "."], ["proof (state)\nthis:\n  polyhedral_cone B =\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  polyhedral_cone B =\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)}\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = cone X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone Y \\<inter>\n    {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)} =\n    cone X", "unfolding Y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. cone (X \\<union> set Bs) \\<inter>\n    {x \\<in> carrier_vec n.\n     \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)} =\n    cone X", "by (rule orthogonal_cone(1)[OF X N finX spanLN ortho refl spanL LX lin_Ls_Bs len_Ls_Bs])"], ["proof (state)\nthis:\n  cone Y \\<inter>\n  {x \\<in> carrier_vec n. \\<forall>w\\<in>set Ns. w \\<bullet> x = (0::'a)} =\n  cone X\n\ngoal (2 subgoals):\n 1. cone X = polyhedral_cone B\n 2. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "finally"], ["proof (chain)\npicking this:\n  polyhedral_cone B = cone X", "show \"cone X = polyhedral_cone B\""], ["proof (prove)\nusing this:\n  polyhedral_cone B = cone X\n\ngoal (1 subgoal):\n 1. cone X = polyhedral_cone B", ".."], ["proof (state)\nthis:\n  cone X = polyhedral_cone B\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "assume X_I: \"X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (state)\nthis:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "with LX"], ["proof (chain)\npicking this:\n  set Ls \\<subseteq> X\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "have \"set Ls \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (prove)\nusing this:\n  set Ls \\<subseteq> X\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. set Ls \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "by auto"], ["proof (state)\nthis:\n  set Ls \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "from Ns_bnd[OF this]"], ["proof (chain)\npicking this:\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have N_I_Bnd: \"set Ns \\<subseteq> \\<int>\\<^sub>v \\<inter> ?Bnd\""], ["proof (prove)\nusing this:\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. set Ns\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "by auto"], ["proof (state)\nthis:\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "from lin_Ls_Bs"], ["proof (chain)\npicking this:\n  lin_indpt_list (Ls @ Bs)", "have linLs: \"lin_indpt_list Ls\""], ["proof (prove)\nusing this:\n  lin_indpt_list (Ls @ Bs)\n\ngoal (1 subgoal):\n 1. lin_indpt_list Ls", "unfolding lin_indpt_list_def"], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))\n\ngoal (1 subgoal):\n 1. set Ls \\<subseteq> carrier_vec n \\<and>\n    distinct Ls \\<and> lin_indpt (set Ls)", "using subset_li_is_li[of _ \"set Ls\"]"], ["proof (prove)\nusing this:\n  set (Ls @ Bs) \\<subseteq> carrier_vec n \\<and>\n  distinct (Ls @ Bs) \\<and> lin_indpt (set (Ls @ Bs))\n  \\<lbrakk>lin_indpt ?A; set Ls \\<subseteq> ?A\\<rbrakk>\n  \\<Longrightarrow> lin_indpt (set Ls)\n\ngoal (1 subgoal):\n 1. set Ls \\<subseteq> carrier_vec n \\<and>\n    distinct Ls \\<and> lin_indpt (set Ls)", "by auto"], ["proof (state)\nthis:\n  lin_indpt_list Ls\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "from X_I LX"], ["proof (chain)\npicking this:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set Ls \\<subseteq> X", "have L_I: \"set Ls \\<subseteq> \\<int>\\<^sub>v\""], ["proof (prove)\nusing this:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set Ls \\<subseteq> X\n\ngoal (1 subgoal):\n 1. set Ls \\<subseteq> \\<int>\\<^sub>v", "by auto"], ["proof (state)\nthis:\n  set Ls \\<subseteq> \\<int>\\<^sub>v\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have Y_I: \"Y \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max 1 Bnd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)", "unfolding Y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> set Bs\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)", "using X_I BU\n        Bounded_vec_mono[of Bnd \"max 1 Bnd\"]"], ["proof (prove)\nusing this:\n  X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set Bs \\<subseteq> set (unit_vecs n)\n  Bnd \\<le> max (1::'a) Bnd \\<Longrightarrow>\n  Bounded_vec Bnd \\<subseteq> Bounded_vec (max (1::'a) Bnd)\n\ngoal (1 subgoal):\n 1. X \\<union> set Bs\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)", "by (auto simp: unit_vecs_def Ints_vec_def)"], ["proof (state)\nthis:\n  Y \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "from Y_Ints[OF Y_I]"], ["proof (chain)\npicking this:\n  A \\<in> \\<int>\\<^sub>m \\<inter>\n          Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have A_I_Bnd: \"set (rows A) \\<subseteq> \\<int>\\<^sub>v \\<inter> ?Bnd\""], ["proof (prove)\nusing this:\n  A \\<in> \\<int>\\<^sub>m \\<inter>\n          Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. set (rows A)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "by auto"], ["proof (state)\nthis:\n  set (rows A)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"set (rows B) = set (rows (mat_of_rows n rs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (rows B) = set (rows (mat_of_rows n rs))", "unfolding B_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. set (rows (mat_of_rows n rs)) = set (rows (mat_of_rows n rs))", "by auto"], ["proof (state)\nthis:\n  set (rows B) = set (rows (mat_of_rows n rs))\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  set (rows B) = set (rows (mat_of_rows n rs))\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = set rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (rows (mat_of_rows n rs)) = set rs", "using rs"], ["proof (prove)\nusing this:\n  set rs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set (rows (mat_of_rows n rs)) = set rs", "by auto"], ["proof (state)\nthis:\n  set (rows (mat_of_rows n rs)) = set rs\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  set (rows (mat_of_rows n rs)) = set rs\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> = set (rows A) \\<union> set Ns \\<union> uminus ` set Ns\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set rs = set (rows A) \\<union> set Ns \\<union> uminus ` set Ns", "unfolding rs_def rows_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns =\n    set (map (row A) [0..<dim_row A]) \\<union> set Ns \\<union>\n    uminus ` set Ns", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<union> set Ns \\<union> uminus ` set Ns =\n    set (map (row A) [0..<dim_row A]) \\<union> set Ns \\<union>\n    uminus ` set Ns", "by auto"], ["proof (state)\nthis:\n  set rs = set (rows A) \\<union> set Ns \\<union> uminus ` set Ns\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  set rs = set (rows A) \\<union> set Ns \\<union> uminus ` set Ns\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "have \"\\<dots> \\<subseteq> \\<int>\\<^sub>v \\<inter> ?Bnd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (rows A) \\<union> set Ns \\<union> uminus ` set Ns\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "using A_I_Bnd N_I_Bnd"], ["proof (prove)\nusing this:\n  set (rows A)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n  set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. set (rows A) \\<union> set Ns \\<union> uminus ` set Ns\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "by auto"], ["proof (state)\nthis:\n  set (rows A) \\<union> set Ns \\<union> uminus ` set Ns\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "finally"], ["proof (chain)\npicking this:\n  set (rows B)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "show \"B \\<in> \\<int>\\<^sub>m \\<inter> ?Bndm\""], ["proof (prove)\nusing this:\n  set (rows B)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. B \\<in> \\<int>\\<^sub>m \\<inter>\n            Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))", "by simp"], ["proof (state)\nthis:\n  B \\<in> \\<int>\\<^sub>m \\<inter>\n          Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>nr A.\n     A \\<in> carrier_mat nr n \\<and>\n     cone X = polyhedral_cone A \\<and>\n     (X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec Bnd \\<longrightarrow>\n      A \\<in> \\<int>\\<^sub>m \\<inter>\n              Bounded_mat (det_bound (n - 1) (max (1::'a) Bnd)))\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Now for the other direction.\\<close>"], ["", "lemma farkas_minkowsky_weyl_theorem_2:\n  assumes A: \"A \\<in> carrier_mat nr n\"\n  shows \"\\<exists> X. X \\<subseteq> carrier_vec n \\<and> finite X \\<and> polyhedral_cone A = cone X\n    \\<and> (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow> X \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) (max 1 Bnd)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "let ?rows_A = \"{row A i | i. i < nr}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "let ?Bnd = \"Bounded_vec (det_bound (n-1) (max 1 Bnd))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have rows_A_n: \"?rows_A \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<subseteq> carrier_vec n", "using row_carrier_vec A"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < ?nr; ?A \\<in> carrier_mat ?nr ?nc\\<rbrakk>\n  \\<Longrightarrow> row ?A ?i \\<in> carrier_vec ?nc\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  {row A i |i. i < nr} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "hence \"\\<exists> mr B. B \\<in> carrier_mat mr n \\<and> cone ?rows_A = polyhedral_cone B\n    \\<and> (?rows_A \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow> set (rows B) \\<subseteq> \\<int>\\<^sub>v \\<inter> ?Bnd)\""], ["proof (prove)\nusing this:\n  {row A i |i. i < nr} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>mr B.\n       B \\<in> carrier_mat mr n \\<and>\n       cone {row A i |i. i < nr} = polyhedral_cone B \\<and>\n       ({row A i |i. i < nr}\n        \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec Bnd \\<longrightarrow>\n        set (rows B)\n        \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "using farkas_minkowsky_weyl_theorem_1[of ?rows_A]"], ["proof (prove)\nusing this:\n  {row A i |i. i < nr} \\<subseteq> carrier_vec n\n  \\<lbrakk>{row A i |i. i < nr} \\<subseteq> carrier_vec n;\n   finite {row A i |i. i < nr}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>nra Aa.\n                       Aa \\<in> carrier_mat nra n \\<and>\n                       cone {row A i |i. i < nr} = polyhedral_cone Aa \\<and>\n                       ({row A i |i. i < nr}\n                        \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                                    Bounded_vec ?Bnd \\<longrightarrow>\n                        Aa \\<in> \\<int>\\<^sub>m \\<inter>\n                                 Bounded_mat\n                                  (det_bound (n - 1) (max (1::'a) ?Bnd)))\n\ngoal (1 subgoal):\n 1. \\<exists>mr B.\n       B \\<in> carrier_mat mr n \\<and>\n       cone {row A i |i. i < nr} = polyhedral_cone B \\<and>\n       ({row A i |i. i < nr}\n        \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec Bnd \\<longrightarrow>\n        set (rows B)\n        \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "by auto"], ["proof (state)\nthis:\n  \\<exists>mr B.\n     B \\<in> carrier_mat mr n \\<and>\n     cone {row A i |i. i < nr} = polyhedral_cone B \\<and>\n     ({row A i |i. i < nr}\n      \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow>\n      set (rows B)\n      \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                  Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "then"], ["proof (chain)\npicking this:\n  \\<exists>mr B.\n     B \\<in> carrier_mat mr n \\<and>\n     cone {row A i |i. i < nr} = polyhedral_cone B \\<and>\n     ({row A i |i. i < nr}\n      \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow>\n      set (rows B)\n      \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                  Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "obtain mr B\n    where mr: \"B \\<in> carrier_mat mr n\" and B: \"cone ?rows_A = polyhedral_cone B\"\n      and Bnd: \"?rows_A \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow> set (rows B) \\<subseteq> \\<int>\\<^sub>v \\<inter> ?Bnd\""], ["proof (prove)\nusing this:\n  \\<exists>mr B.\n     B \\<in> carrier_mat mr n \\<and>\n     cone {row A i |i. i < nr} = polyhedral_cone B \\<and>\n     ({row A i |i. i < nr}\n      \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<longrightarrow>\n      set (rows B)\n      \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                  Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))\n\ngoal (1 subgoal):\n 1. (\\<And>B mr.\n        \\<lbrakk>B \\<in> carrier_mat mr n;\n         cone {row A i |i. i < nr} = polyhedral_cone B;\n         {row A i |i. i < nr}\n         \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                     Bounded_vec Bnd \\<Longrightarrow>\n         set (rows B)\n         \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                     Bounded_vec\n                      (det_bound (n - 1) (max (1::'a) Bnd))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  B \\<in> carrier_mat mr n\n  cone {row A i |i. i < nr} = polyhedral_cone B\n  {row A i |i. i < nr}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  set (rows B)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "let ?rows_B = \"{row B i | i. i < mr}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have rows_B: \"?rows_B \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {row B i |i. i < mr} \\<subseteq> carrier_vec n", "using mr"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat mr n\n\ngoal (1 subgoal):\n 1. {row B i |i. i < mr} \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  {row B i |i. i < mr} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have \"cone ?rows_B = polyhedral_cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cone {row B i |i. i < mr} = polyhedral_cone A", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. cone {row B i |i. i < mr} \\<subseteq> polyhedral_cone A\n 2. polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}", "have \"?rows_B \\<subseteq> polyhedral_cone A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {row B i |i. i < mr} \\<subseteq> polyhedral_cone A", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "fix r"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "assume \"r \\<in> ?rows_B\""], ["proof (state)\nthis:\n  r \\<in> {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "then"], ["proof (chain)\npicking this:\n  r \\<in> {row B i |i. i < mr}", "obtain j where r: \"r = row B j\" and j: \"j < mr\""], ["proof (prove)\nusing this:\n  r \\<in> {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>r = row B j; j < mr\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  r = row B j\n  j < mr\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "then"], ["proof (chain)\npicking this:\n  r = row B j\n  j < mr", "have rn: \"r \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  r = row B j\n  j < mr\n\ngoal (1 subgoal):\n 1. r \\<in> carrier_vec n", "using mr row_carrier"], ["proof (prove)\nusing this:\n  r = row B j\n  j < mr\n  B \\<in> carrier_mat mr n\n  row ?A ?i \\<in> carrier_vec (dim_col ?A)\n\ngoal (1 subgoal):\n 1. r \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  r \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "moreover"], ["proof (state)\nthis:\n  r \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "have \"A *\\<^sub>v r \\<le> 0\\<^sub>v nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v r \\<le> 0\\<^sub>v nr", "unfolding less_eq_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_vec (A *\\<^sub>v r) = dim_vec (0\\<^sub>v nr) \\<and>\n    (\\<forall>i<dim_vec (0\\<^sub>v nr).\n        (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i)", "proof (standard, unfold index_zero_vec)"], ["proof (state)\ngoal (2 subgoals):\n 1. dim_vec (A *\\<^sub>v r) = nr\n 2. \\<forall>i<nr. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "show \"dim_vec (A *\\<^sub>v r) = nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_vec (A *\\<^sub>v r) = nr", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. dim_vec (A *\\<^sub>v r) = nr", "by auto"], ["proof (state)\nthis:\n  dim_vec (A *\\<^sub>v r) = nr\n\ngoal (1 subgoal):\n 1. \\<forall>i<nr. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>i<nr. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "show \"\\<forall>i< nr. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<nr. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "proof (standard, rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "assume i: \"i < nr\""], ["proof (state)\nthis:\n  i < nr\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "then"], ["proof (chain)\npicking this:\n  i < nr", "have \"row A i \\<in> ?rows_A\""], ["proof (prove)\nusing this:\n  i < nr\n\ngoal (1 subgoal):\n 1. row A i \\<in> {row A i |i. i < nr}", "by auto"], ["proof (state)\nthis:\n  row A i \\<in> {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "then"], ["proof (chain)\npicking this:\n  row A i \\<in> {row A i |i. i < nr}", "have \"row A i \\<in> cone ?rows_A\""], ["proof (prove)\nusing this:\n  row A i \\<in> {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. row A i \\<in> cone {row A i |i. i < nr}", "using set_in_cone rows_A_n"], ["proof (prove)\nusing this:\n  row A i \\<in> {row A i |i. i < nr}\n  ?Vs \\<subseteq> carrier_vec n \\<Longrightarrow> ?Vs \\<subseteq> cone ?Vs\n  {row A i |i. i < nr} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. row A i \\<in> cone {row A i |i. i < nr}", "by blast"], ["proof (state)\nthis:\n  row A i \\<in> cone {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "then"], ["proof (chain)\npicking this:\n  row A i \\<in> cone {row A i |i. i < nr}", "have \"row A i \\<in> polyhedral_cone B\""], ["proof (prove)\nusing this:\n  row A i \\<in> cone {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. row A i \\<in> polyhedral_cone B", "using B"], ["proof (prove)\nusing this:\n  row A i \\<in> cone {row A i |i. i < nr}\n  cone {row A i |i. i < nr} = polyhedral_cone B\n\ngoal (1 subgoal):\n 1. row A i \\<in> polyhedral_cone B", "by auto"], ["proof (state)\nthis:\n  row A i \\<in> polyhedral_cone B\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "then"], ["proof (chain)\npicking this:\n  row A i \\<in> polyhedral_cone B", "have Br: \"B *\\<^sub>v (row A i) \\<le> 0\\<^sub>v mr\""], ["proof (prove)\nusing this:\n  row A i \\<in> polyhedral_cone B\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr", "unfolding polyhedral_cone_def"], ["proof (prove)\nusing this:\n  row A i\n  \\<in> {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row B)}\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr", "using rows_A_n mr"], ["proof (prove)\nusing this:\n  row A i\n  \\<in> {x \\<in> carrier_vec n. B *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row B)}\n  {row A i |i. i < nr} \\<subseteq> carrier_vec n\n  B \\<in> carrier_mat mr n\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr", "by auto"], ["proof (state)\nthis:\n  B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "then"], ["proof (chain)\npicking this:\n  B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr", "have \"(A *\\<^sub>v r) $ i = (row A i) \\<bullet> r\""], ["proof (prove)\nusing this:\n  B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr\n\ngoal (1 subgoal):\n 1. (A *\\<^sub>v r) $ i = row A i \\<bullet> r", "using A i index_mult_mat_vec"], ["proof (prove)\nusing this:\n  B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr\n  A \\<in> carrier_mat nr n\n  i < nr\n  ?i < dim_row ?A \\<Longrightarrow>\n  (?A *\\<^sub>v ?v) $ ?i = row ?A ?i \\<bullet> ?v\n\ngoal (1 subgoal):\n 1. (A *\\<^sub>v r) $ i = row A i \\<bullet> r", "by auto"], ["proof (state)\nthis:\n  (A *\\<^sub>v r) $ i = row A i \\<bullet> r\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "also"], ["proof (state)\nthis:\n  (A *\\<^sub>v r) $ i = row A i \\<bullet> r\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "have \"\\<dots> = r \\<bullet> (row A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. row A i \\<bullet> r = r \\<bullet> row A i", "using comm_scalar_prod[OF _ rn] row_carrier A"], ["proof (prove)\nusing this:\n  ?v\\<^sub>1 \\<in> carrier_vec n \\<Longrightarrow>\n  ?v\\<^sub>1 \\<bullet> r = r \\<bullet> ?v\\<^sub>1\n  row ?A ?i \\<in> carrier_vec (dim_col ?A)\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. row A i \\<bullet> r = r \\<bullet> row A i", "by auto"], ["proof (state)\nthis:\n  row A i \\<bullet> r = r \\<bullet> row A i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "also"], ["proof (state)\nthis:\n  row A i \\<bullet> r = r \\<bullet> row A i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "have \"\\<dots> = (row B j) \\<bullet> (row A i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r \\<bullet> row A i = row B j \\<bullet> row A i", "using r"], ["proof (prove)\nusing this:\n  r = row B j\n\ngoal (1 subgoal):\n 1. r \\<bullet> row A i = row B j \\<bullet> row A i", "by auto"], ["proof (state)\nthis:\n  r \\<bullet> row A i = row B j \\<bullet> row A i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "also"], ["proof (state)\nthis:\n  r \\<bullet> row A i = row B j \\<bullet> row A i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "have \"\\<dots> = (B *\\<^sub>v (row A i)) $ j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. row B j \\<bullet> row A i = (B *\\<^sub>v row A i) $ j", "using index_mult_mat_vec mr j"], ["proof (prove)\nusing this:\n  ?i < dim_row ?A \\<Longrightarrow>\n  (?A *\\<^sub>v ?v) $ ?i = row ?A ?i \\<bullet> ?v\n  B \\<in> carrier_mat mr n\n  j < mr\n\ngoal (1 subgoal):\n 1. row B j \\<bullet> row A i = (B *\\<^sub>v row A i) $ j", "by auto"], ["proof (state)\nthis:\n  row B j \\<bullet> row A i = (B *\\<^sub>v row A i) $ j\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "also"], ["proof (state)\nthis:\n  row B j \\<bullet> row A i = (B *\\<^sub>v row A i) $ j\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "have \"\\<dots> \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (B *\\<^sub>v row A i) $ j \\<le> (0::'a)", "using Br j"], ["proof (prove)\nusing this:\n  B *\\<^sub>v row A i \\<le> 0\\<^sub>v mr\n  j < mr\n\ngoal (1 subgoal):\n 1. (B *\\<^sub>v row A i) $ j \\<le> (0::'a)", "unfolding less_eq_vec_def"], ["proof (prove)\nusing this:\n  dim_vec (B *\\<^sub>v row A i) = dim_vec (0\\<^sub>v mr) \\<and>\n  (\\<forall>ia<dim_vec (0\\<^sub>v mr).\n      (B *\\<^sub>v row A i) $ ia \\<le> 0\\<^sub>v mr $ ia)\n  j < mr\n\ngoal (1 subgoal):\n 1. (B *\\<^sub>v row A i) $ j \\<le> (0::'a)", "by auto"], ["proof (state)\nthis:\n  (B *\\<^sub>v row A i) $ j \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "also"], ["proof (state)\nthis:\n  (B *\\<^sub>v row A i) $ j \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "have \"\\<dots> = 0\\<^sub>v nr $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) = 0\\<^sub>v nr $ i", "using i"], ["proof (prove)\nusing this:\n  i < nr\n\ngoal (1 subgoal):\n 1. (0::'a) = 0\\<^sub>v nr $ i", "by auto"], ["proof (state)\nthis:\n  (0::'a) = 0\\<^sub>v nr $ i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < nr \\<Longrightarrow> (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "finally"], ["proof (chain)\npicking this:\n  (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "show \"(A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i\""], ["proof (prove)\nusing this:\n  (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i\n\ngoal (1 subgoal):\n 1. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i", "by auto"], ["proof (state)\nthis:\n  (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i<nr. (A *\\<^sub>v r) $ i \\<le> 0\\<^sub>v nr $ i\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A *\\<^sub>v r \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n       x \\<in> polyhedral_cone A", "then"], ["proof (chain)\npicking this:\n  A *\\<^sub>v r \\<le> 0\\<^sub>v nr", "show \"r \\<in> polyhedral_cone A\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v r \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. r \\<in> polyhedral_cone A", "unfolding polyhedral_cone_def"], ["proof (prove)\nusing this:\n  A *\\<^sub>v r \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. r \\<in> {x \\<in> carrier_vec n.\n             A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}", "using A rn"], ["proof (prove)\nusing this:\n  A *\\<^sub>v r \\<le> 0\\<^sub>v nr\n  A \\<in> carrier_mat nr n\n  r \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. r \\<in> {x \\<in> carrier_vec n.\n             A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}", "by auto"], ["proof (state)\nthis:\n  r \\<in> polyhedral_cone A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {row B i |i. i < mr} \\<subseteq> polyhedral_cone A\n\ngoal (2 subgoals):\n 1. cone {row B i |i. i < mr} \\<subseteq> polyhedral_cone A\n 2. polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}", "then"], ["proof (chain)\npicking this:\n  {row B i |i. i < mr} \\<subseteq> polyhedral_cone A", "show \"cone ?rows_B \\<subseteq> polyhedral_cone A\""], ["proof (prove)\nusing this:\n  {row B i |i. i < mr} \\<subseteq> polyhedral_cone A\n\ngoal (1 subgoal):\n 1. cone {row B i |i. i < mr} \\<subseteq> polyhedral_cone A", "using cone_in_polyhedral_cone A"], ["proof (prove)\nusing this:\n  {row B i |i. i < mr} \\<subseteq> polyhedral_cone A\n  \\<lbrakk>?C \\<subseteq> polyhedral_cone ?A;\n   ?A \\<in> carrier_mat ?nr n\\<rbrakk>\n  \\<Longrightarrow> cone ?C \\<subseteq> polyhedral_cone ?A\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. cone {row B i |i. i < mr} \\<subseteq> polyhedral_cone A", "by auto"], ["proof (state)\nthis:\n  cone {row B i |i. i < mr} \\<subseteq> polyhedral_cone A\n\ngoal (1 subgoal):\n 1. polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}", "show \"polyhedral_cone A \\<subseteq> cone ?rows_B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "assume \"\\<not> polyhedral_cone A \\<subseteq> cone ?rows_B\""], ["proof (state)\nthis:\n  \\<not> polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<not> polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}", "obtain y where yA: \"y \\<in> polyhedral_cone A\"\n        and yB: \"y \\<notin> cone ?rows_B\""], ["proof (prove)\nusing this:\n  \\<not> polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> polyhedral_cone A;\n         y \\<notin> cone {row B i |i. i < mr}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y \\<in> polyhedral_cone A\n  y \\<notin> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  y \\<in> polyhedral_cone A\n  y \\<notin> cone {row B i |i. i < mr}", "have yn: \"y \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  y \\<in> polyhedral_cone A\n  y \\<notin> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. y \\<in> carrier_vec n", "unfolding polyhedral_cone_def"], ["proof (prove)\nusing this:\n  y \\<in> {x \\<in> carrier_vec n. A *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A)}\n  y \\<notin> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. y \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "have finRB: \"finite ?rows_B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {row B i |i. i < mr}", "by auto"], ["proof (state)\nthis:\n  finite {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from farkas_minkowsky_weyl_theorem_1[OF rows_B finRB]"], ["proof (chain)\npicking this:\n  \\<exists>nr A.\n     A \\<in> carrier_mat nr n \\<and>\n     cone {row B i |i. i < mr} = polyhedral_cone A \\<and>\n     ({row B i |i. i < mr}\n      \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<longrightarrow>\n      A \\<in> \\<int>\\<^sub>m \\<inter>\n              Bounded_mat (det_bound (n - 1) (max (1::'a) ?Bnd)))", "obtain nr' A' where A': \"A' \\<in> carrier_mat nr' n\" and cone: \"cone ?rows_B = polyhedral_cone A'\""], ["proof (prove)\nusing this:\n  \\<exists>nr A.\n     A \\<in> carrier_mat nr n \\<and>\n     cone {row B i |i. i < mr} = polyhedral_cone A \\<and>\n     ({row B i |i. i < mr}\n      \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<longrightarrow>\n      A \\<in> \\<int>\\<^sub>m \\<inter>\n              Bounded_mat (det_bound (n - 1) (max (1::'a) ?Bnd)))\n\ngoal (1 subgoal):\n 1. (\\<And>A' nr'.\n        \\<lbrakk>A' \\<in> carrier_mat nr' n;\n         cone {row B i |i. i < mr} = polyhedral_cone A'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  A' \\<in> carrier_mat nr' n\n  cone {row B i |i. i < mr} = polyhedral_cone A'\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from yB[unfolded cone polyhedral_cone_def] yn A'"], ["proof (chain)\npicking this:\n  y \\<notin> {x \\<in> carrier_vec n.\n              A' *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A')}\n  y \\<in> carrier_vec n\n  A' \\<in> carrier_mat nr' n", "have \"\\<not> (A' *\\<^sub>v y \\<le> 0\\<^sub>v nr')\""], ["proof (prove)\nusing this:\n  y \\<notin> {x \\<in> carrier_vec n.\n              A' *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A')}\n  y \\<in> carrier_vec n\n  A' \\<in> carrier_mat nr' n\n\ngoal (1 subgoal):\n 1. \\<not> A' *\\<^sub>v y \\<le> 0\\<^sub>v nr'", "by auto"], ["proof (state)\nthis:\n  \\<not> A' *\\<^sub>v y \\<le> 0\\<^sub>v nr'\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<not> A' *\\<^sub>v y \\<le> 0\\<^sub>v nr'", "obtain i where i: \"i < nr'\" and \"row A' i \\<bullet> y > 0\""], ["proof (prove)\nusing this:\n  \\<not> A' *\\<^sub>v y \\<le> 0\\<^sub>v nr'\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < nr'; (0::'a) < row A' i \\<bullet> y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding less_eq_vec_def"], ["proof (prove)\nusing this:\n  \\<not> (dim_vec (A' *\\<^sub>v y) = dim_vec (0\\<^sub>v nr') \\<and>\n          (\\<forall>i<dim_vec (0\\<^sub>v nr').\n              (A' *\\<^sub>v y) $ i \\<le> 0\\<^sub>v nr' $ i))\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < nr'; (0::'a) < row A' i \\<bullet> y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using A' yn"], ["proof (prove)\nusing this:\n  \\<not> (dim_vec (A' *\\<^sub>v y) = dim_vec (0\\<^sub>v nr') \\<and>\n          (\\<forall>i<dim_vec (0\\<^sub>v nr').\n              (A' *\\<^sub>v y) $ i \\<le> 0\\<^sub>v nr' $ i))\n  A' \\<in> carrier_mat nr' n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < nr'; (0::'a) < row A' i \\<bullet> y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  i < nr'\n  (0::'a) < row A' i \\<bullet> y\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "define w where \"w = row A' i\""], ["proof (state)\nthis:\n  w = row A' i\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "have w: \"w \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "using i A' yn"], ["proof (prove)\nusing this:\n  i < nr'\n  A' \\<in> carrier_mat nr' n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "unfolding w_def"], ["proof (prove)\nusing this:\n  i < nr'\n  A' \\<in> carrier_mat nr' n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. row A' i \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from \\<open>row A' i \\<bullet> y > 0\\<close> comm_scalar_prod[OF w yn]"], ["proof (chain)\npicking this:\n  (0::'a) < row A' i \\<bullet> y\n  w \\<bullet> y = y \\<bullet> w", "have wy: \"w \\<bullet> y > 0\" \"y \\<bullet> w > 0\""], ["proof (prove)\nusing this:\n  (0::'a) < row A' i \\<bullet> y\n  w \\<bullet> y = y \\<bullet> w\n\ngoal (1 subgoal):\n 1. (0::'a) < w \\<bullet> y &&& (0::'a) < y \\<bullet> w", "unfolding w_def"], ["proof (prove)\nusing this:\n  (0::'a) < row A' i \\<bullet> y\n  row A' i \\<bullet> y = y \\<bullet> row A' i\n\ngoal (1 subgoal):\n 1. (0::'a) < row A' i \\<bullet> y &&& (0::'a) < y \\<bullet> row A' i", "by auto"], ["proof (state)\nthis:\n  (0::'a) < w \\<bullet> y\n  (0::'a) < y \\<bullet> w\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "{"], ["proof (state)\nthis:\n  (0::'a) < w \\<bullet> y\n  (0::'a) < y \\<bullet> w\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "fix b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "assume \"b \\<in> ?rows_B\""], ["proof (state)\nthis:\n  b \\<in> {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "hence \"b \\<in> cone ?rows_B\""], ["proof (prove)\nusing this:\n  b \\<in> {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. b \\<in> cone {row B i |i. i < mr}", "using set_in_cone[OF rows_B]"], ["proof (prove)\nusing this:\n  b \\<in> {row B i |i. i < mr}\n  {row B i |i. i < mr} \\<subseteq> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. b \\<in> cone {row B i |i. i < mr}", "by auto"], ["proof (state)\nthis:\n  b \\<in> cone {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from this[unfolded cone polyhedral_cone_def] A'"], ["proof (chain)\npicking this:\n  b \\<in> {x \\<in> carrier_vec n.\n           A' *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A')}\n  A' \\<in> carrier_mat nr' n", "have b: \"b \\<in> carrier_vec n\" and \"A' *\\<^sub>v b \\<le> 0\\<^sub>v nr'\""], ["proof (prove)\nusing this:\n  b \\<in> {x \\<in> carrier_vec n.\n           A' *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row A')}\n  A' \\<in> carrier_mat nr' n\n\ngoal (1 subgoal):\n 1. b \\<in> carrier_vec n &&& A' *\\<^sub>v b \\<le> 0\\<^sub>v nr'", "by auto"], ["proof (state)\nthis:\n  b \\<in> carrier_vec n\n  A' *\\<^sub>v b \\<le> 0\\<^sub>v nr'\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from this(2)[unfolded less_eq_vec_def, THEN conjunct2, rule_format, of i]"], ["proof (chain)\npicking this:\n  i < dim_vec (0\\<^sub>v nr') \\<Longrightarrow>\n  (A' *\\<^sub>v b) $ i \\<le> 0\\<^sub>v nr' $ i", "have \"w \\<bullet> b \\<le> 0\""], ["proof (prove)\nusing this:\n  i < dim_vec (0\\<^sub>v nr') \\<Longrightarrow>\n  (A' *\\<^sub>v b) $ i \\<le> 0\\<^sub>v nr' $ i\n\ngoal (1 subgoal):\n 1. w \\<bullet> b \\<le> (0::'a)", "unfolding w_def"], ["proof (prove)\nusing this:\n  i < dim_vec (0\\<^sub>v nr') \\<Longrightarrow>\n  (A' *\\<^sub>v b) $ i \\<le> 0\\<^sub>v nr' $ i\n\ngoal (1 subgoal):\n 1. row A' i \\<bullet> b \\<le> (0::'a)", "using i A'"], ["proof (prove)\nusing this:\n  i < dim_vec (0\\<^sub>v nr') \\<Longrightarrow>\n  (A' *\\<^sub>v b) $ i \\<le> 0\\<^sub>v nr' $ i\n  i < nr'\n  A' \\<in> carrier_mat nr' n\n\ngoal (1 subgoal):\n 1. row A' i \\<bullet> b \\<le> (0::'a)", "by auto"], ["proof (state)\nthis:\n  w \\<bullet> b \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "hence \"b \\<bullet> w \\<le> 0\""], ["proof (prove)\nusing this:\n  w \\<bullet> b \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. b \\<bullet> w \\<le> (0::'a)", "using comm_scalar_prod[OF b w]"], ["proof (prove)\nusing this:\n  w \\<bullet> b \\<le> (0::'a)\n  b \\<bullet> w = w \\<bullet> b\n\ngoal (1 subgoal):\n 1. b \\<bullet> w \\<le> (0::'a)", "by auto"], ["proof (state)\nthis:\n  b \\<bullet> w \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "}"], ["proof (state)\nthis:\n  ?b5 \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n  ?b5 \\<bullet> w \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "hence wA: \"w \\<in> cone ?rows_A\""], ["proof (prove)\nusing this:\n  ?b5 \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n  ?b5 \\<bullet> w \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. w \\<in> cone {row A i |i. i < nr}", "unfolding B polyhedral_cone_def"], ["proof (prove)\nusing this:\n  ?b5 \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n  ?b5 \\<bullet> w \\<le> (0::'a)\n\ngoal (1 subgoal):\n 1. w \\<in> {x \\<in> carrier_vec n.\n             B *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row B)}", "using mr w"], ["proof (prove)\nusing this:\n  ?b5 \\<in> {row B i |i. i < mr} \\<Longrightarrow>\n  ?b5 \\<bullet> w \\<le> (0::'a)\n  B \\<in> carrier_mat mr n\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. w \\<in> {x \\<in> carrier_vec n.\n             B *\\<^sub>v x \\<le> 0\\<^sub>v (dim_row B)}", "by (auto simp: less_eq_vec_def)"], ["proof (state)\nthis:\n  w \\<in> cone {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from wy"], ["proof (chain)\npicking this:\n  (0::'a) < w \\<bullet> y\n  (0::'a) < y \\<bullet> w", "have yw: \"-y \\<bullet> w < 0\""], ["proof (prove)\nusing this:\n  (0::'a) < w \\<bullet> y\n  (0::'a) < y \\<bullet> w\n\ngoal (1 subgoal):\n 1. - y \\<bullet> w < (0::'a)", "by (subst scalar_prod_uminus_left, insert yn w, auto)"], ["proof (state)\nthis:\n  - y \\<bullet> w < (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "have \"?rows_A \\<subseteq> carrier_vec n\" \"finite ?rows_A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<subseteq> carrier_vec n &&&\n    finite {row A i |i. i < nr}", "using assms"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. {row A i |i. i < nr} \\<subseteq> carrier_vec n &&&\n    finite {row A i |i. i < nr}", "by auto"], ["proof (state)\nthis:\n  {row A i |i. i < nr} \\<subseteq> carrier_vec n\n  finite {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "from fundamental_theorem_of_linear_inequalities_A_imp_D[OF this wA, unfolded not_ex,\n          rule_format, of \"-y\" ] yn yw"], ["proof (chain)\npicking this:\n  \\<not> (- y \\<in> carrier_vec n \\<and>\n          (\\<forall>a\\<^sub>i\\<in>{row A i |i. i < nr}.\n              (0::'a) \\<le> - y \\<bullet> a\\<^sub>i) \\<and>\n          - y \\<bullet> w < (0::'a))\n  y \\<in> carrier_vec n\n  - y \\<bullet> w < (0::'a)", "obtain i where i: \"i < nr\" and \"- y \\<bullet> row A i < 0\""], ["proof (prove)\nusing this:\n  \\<not> (- y \\<in> carrier_vec n \\<and>\n          (\\<forall>a\\<^sub>i\\<in>{row A i |i. i < nr}.\n              (0::'a) \\<le> - y \\<bullet> a\\<^sub>i) \\<and>\n          - y \\<bullet> w < (0::'a))\n  y \\<in> carrier_vec n\n  - y \\<bullet> w < (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < nr; - y \\<bullet> row A i < (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  i < nr\n  - y \\<bullet> row A i < (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "hence \"y \\<bullet> row A i > 0\""], ["proof (prove)\nusing this:\n  i < nr\n  - y \\<bullet> row A i < (0::'a)\n\ngoal (1 subgoal):\n 1. (0::'a) < y \\<bullet> row A i", "by (subst (asm) scalar_prod_uminus_left, insert i assms yn, auto)"], ["proof (state)\nthis:\n  (0::'a) < y \\<bullet> row A i\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "hence \"row A i \\<bullet> y > 0\""], ["proof (prove)\nusing this:\n  (0::'a) < y \\<bullet> row A i\n\ngoal (1 subgoal):\n 1. (0::'a) < row A i \\<bullet> y", "using comm_scalar_prod[OF _ yn, of \"row A i\"] i assms yn"], ["proof (prove)\nusing this:\n  (0::'a) < y \\<bullet> row A i\n  row A i \\<in> carrier_vec n \\<Longrightarrow>\n  row A i \\<bullet> y = y \\<bullet> row A i\n  i < nr\n  A \\<in> carrier_mat nr n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (0::'a) < row A i \\<bullet> y", "by auto"], ["proof (state)\nthis:\n  (0::'a) < row A i \\<bullet> y\n\ngoal (1 subgoal):\n 1. \\<not> polyhedral_cone A\n           \\<subseteq> cone {row B i |i. i < mr} \\<Longrightarrow>\n    False", "with yA"], ["proof (chain)\npicking this:\n  y \\<in> polyhedral_cone A\n  (0::'a) < row A i \\<bullet> y", "show False"], ["proof (prove)\nusing this:\n  y \\<in> polyhedral_cone A\n  (0::'a) < row A i \\<bullet> y\n\ngoal (1 subgoal):\n 1. False", "unfolding polyhedral_cone_def less_eq_vec_def"], ["proof (prove)\nusing this:\n  y \\<in> {x \\<in> carrier_vec n.\n           dim_vec (A *\\<^sub>v x) = dim_vec (0\\<^sub>v (dim_row A)) \\<and>\n           (\\<forall>i<dim_vec (0\\<^sub>v (dim_row A)).\n               (A *\\<^sub>v x) $ i \\<le> 0\\<^sub>v (dim_row A) $ i)}\n  (0::'a) < row A i \\<bullet> y\n\ngoal (1 subgoal):\n 1. False", "using i assms"], ["proof (prove)\nusing this:\n  y \\<in> {x \\<in> carrier_vec n.\n           dim_vec (A *\\<^sub>v x) = dim_vec (0\\<^sub>v (dim_row A)) \\<and>\n           (\\<forall>i<dim_vec (0\\<^sub>v (dim_row A)).\n               (A *\\<^sub>v x) $ i \\<le> 0\\<^sub>v (dim_row A) $ i)}\n  (0::'a) < row A i \\<bullet> y\n  i < nr\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  polyhedral_cone A \\<subseteq> cone {row B i |i. i < mr}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cone {row B i |i. i < mr} = polyhedral_cone A\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "moreover"], ["proof (state)\nthis:\n  cone {row B i |i. i < mr} = polyhedral_cone A\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have \"?rows_B \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {row B i |i. i < mr} \\<subseteq> carrier_vec n", "using row_carrier_vec mr"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < ?nr; ?A \\<in> carrier_mat ?nr ?nc\\<rbrakk>\n  \\<Longrightarrow> row ?A ?i \\<in> carrier_vec ?nc\n  B \\<in> carrier_mat mr n\n\ngoal (1 subgoal):\n 1. {row B i |i. i < mr} \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  {row B i |i. i < mr} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "moreover"], ["proof (state)\nthis:\n  {row B i |i. i < mr} \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have \"finite ?rows_B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {row B i |i. i < mr}", "by auto"], ["proof (state)\nthis:\n  finite {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "moreover"], ["proof (state)\nthis:\n  finite {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "{"], ["proof (state)\nthis:\n  finite {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have rA: \"set (rows A) = ?rows_A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (rows A) = {row A i |i. i < nr}", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. set (rows A) = {row A i |i. i < nr}", "unfolding rows_def"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. set (map (row A) [0..<dim_row A]) = {row A i |i. i < nr}", "by auto"], ["proof (state)\nthis:\n  set (rows A) = {row A i |i. i < nr}\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "have rB: \"set (rows B) = ?rows_B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (rows B) = {row B i |i. i < mr}", "using mr"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat mr n\n\ngoal (1 subgoal):\n 1. set (rows B) = {row B i |i. i < mr}", "unfolding rows_def"], ["proof (prove)\nusing this:\n  B \\<in> carrier_mat mr n\n\ngoal (1 subgoal):\n 1. set (map (row B) [0..<dim_row B]) = {row B i |i. i < mr}", "by auto"], ["proof (state)\nthis:\n  set (rows B) = {row B i |i. i < mr}\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "assume \"A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\""], ["proof (state)\nthis:\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "hence \"set (rows A) \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (prove)\nusing this:\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd\n\ngoal (1 subgoal):\n 1. set (rows A) \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "by simp"], ["proof (state)\nthis:\n  set (rows A) \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "from Bnd[OF this[unfolded rA]]"], ["proof (chain)\npicking this:\n  set (rows B)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have \"?rows_B \\<subseteq> \\<int>\\<^sub>v \\<inter> ?Bnd\""], ["proof (prove)\nusing this:\n  set (rows B)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. {row B i |i. i < mr}\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "unfolding rA rB"], ["proof (prove)\nusing this:\n  {row B i |i. i < mr}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. {row B i |i. i < mr}\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "."], ["proof (state)\nthis:\n  {row B i |i. i < mr}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "}"], ["proof (state)\nthis:\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<Longrightarrow>\n  {row B i |i. i < mr}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "ultimately"], ["proof (chain)\npicking this:\n  cone {row B i |i. i < mr} = polyhedral_cone A\n  {row B i |i. i < mr} \\<subseteq> carrier_vec n\n  finite {row B i |i. i < mr}\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<Longrightarrow>\n  {row B i |i. i < mr}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "show ?thesis"], ["proof (prove)\nusing this:\n  cone {row B i |i. i < mr} = polyhedral_cone A\n  {row B i |i. i < mr} \\<subseteq> carrier_vec n\n  finite {row B i |i. i < mr}\n  A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<Longrightarrow>\n  {row B i |i. i < mr}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>carrier_vec n.\n       finite X \\<and>\n       polyhedral_cone A = cone X \\<and>\n       (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n        X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                      Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "by blast"], ["proof (state)\nthis:\n  \\<exists>X\\<subseteq>carrier_vec n.\n     finite X \\<and>\n     polyhedral_cone A = cone X \\<and>\n     (A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat Bnd \\<longrightarrow>\n      X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma farkas_minkowsky_weyl_theorem:\n  \"(\\<exists> X. X \\<subseteq> carrier_vec n \\<and> finite X \\<and> P = cone X)\n  \\<longleftrightarrow> (\\<exists> A nr. A \\<in> carrier_mat nr n \\<and> P = polyhedral_cone A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>X\\<subseteq>carrier_vec n. finite X \\<and> P = cone X) =\n    (\\<exists>A nr. A \\<in> carrier_mat nr n \\<and> P = polyhedral_cone A)", "using farkas_minkowsky_weyl_theorem_1 farkas_minkowsky_weyl_theorem_2"], ["proof (prove)\nusing this:\n  \\<lbrakk>?X \\<subseteq> carrier_vec n; finite ?X\\<rbrakk>\n  \\<Longrightarrow> \\<exists>nr A.\n                       A \\<in> carrier_mat nr n \\<and>\n                       cone ?X = polyhedral_cone A \\<and>\n                       (?X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n Bounded_vec ?Bnd \\<longrightarrow>\n                        A \\<in> \\<int>\\<^sub>m \\<inter>\n                                Bounded_mat\n                                 (det_bound (n - 1) (max (1::'a) ?Bnd)))\n  ?A \\<in> carrier_mat ?nr n \\<Longrightarrow>\n  \\<exists>X\\<subseteq>carrier_vec n.\n     finite X \\<and>\n     polyhedral_cone ?A = cone X \\<and>\n     (?A \\<in> \\<int>\\<^sub>m \\<inter> Bounded_mat ?Bnd \\<longrightarrow>\n      X \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                    Bounded_vec (det_bound (n - 1) (max (1::'a) ?Bnd)))\n\ngoal (1 subgoal):\n 1. (\\<exists>X\\<subseteq>carrier_vec n. finite X \\<and> P = cone X) =\n    (\\<exists>A nr. A \\<in> carrier_mat nr n \\<and> P = polyhedral_cone A)", "by metis"], ["", "end"], ["", "end"]]}