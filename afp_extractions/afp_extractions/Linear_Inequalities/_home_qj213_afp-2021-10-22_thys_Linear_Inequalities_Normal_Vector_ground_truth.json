{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Normal_Vector.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma ortho_sum_in_span:\n  assumes W: \"W \\<subseteq> carrier_vec n\"\n    and X: \"X \\<subseteq> carrier_vec n\"\n    and ortho: \"\\<And> w x. w \\<in> W \\<Longrightarrow> x \\<in> X \\<Longrightarrow> x \\<bullet> w = 0\"\n    and inspan: \"lincomb l1 X + lincomb l2 W \\<in> span X\"\n  shows \"lincomb l2 W = 0\\<^sub>v n\"", "lemma ortho_lin_indpt: assumes W: \"W \\<subseteq> carrier_vec n\"\n  and X: \"X \\<subseteq> carrier_vec n\"\n  and ortho: \"\\<And> w x. w \\<in> W \\<Longrightarrow> x \\<in> X \\<Longrightarrow> x \\<bullet> w = 0\"\n  and linW: \"lin_indpt W\"\n  and linX: \"lin_indpt X\"\nshows \"lin_indpt (W \\<union> X)\"", "lemma normal_vector: assumes fin: \"finite W\"\n  and card: \"Suc (card W) = n\"\n  and lin: \"lin_indpt W\"\n  and W: \"W \\<subseteq> carrier_vec n\"\nshows \"normal_vector W \\<in> carrier_vec n\"\n  \"normal_vector W \\<noteq> 0\\<^sub>v n\"\n  \"w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = 0\"\n  \"w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = 0\"\n  \"lin_indpt (insert (normal_vector W) W)\"\n  \"normal_vector W \\<notin> W\"\n  \"W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow> normal_vector W \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) Bnd)\"", "lemma normal_vector_span:\n  assumes card: \"Suc (card D) = n\"\n    and D: \"D \\<subseteq> carrier_vec n\" and fin: \"finite D\" and lin: \"lin_indpt D\"\n  shows \"span D = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> normal_vector D = 0}\"", "lemma normal_vectors:\n  assumes lin: \"lin_indpt_list ws\"\n  shows \"set (normal_vectors ws) \\<subseteq> carrier_vec n\"\n    \"w \\<in> set ws \\<Longrightarrow> nv \\<in> set (normal_vectors ws) \\<Longrightarrow> nv \\<bullet> w = 0\"\n    \"w \\<in> set ws \\<Longrightarrow> nv \\<in> set (normal_vectors ws) \\<Longrightarrow> w \\<bullet> nv = 0\"\n    \"lin_indpt_list (ws @ normal_vectors ws)\"\n    \"length ws + length (normal_vectors ws) = n\"\n    \"set ws \\<inter> set (normal_vectors ws) = {}\"\n    \"set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n       set (normal_vectors ws) \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) (max 1 Bnd))\"", "lemma pos_norm_vec:\n  assumes D: \"D \\<subseteq> carrier_vec n\" and fin: \"finite D\" and lin: \"lin_indpt D\"\n    and card: \"Suc (card D) = n\"\n    and c_def: \"c = pos_norm_vec D x\"\n  shows \"c \\<in> carrier_vec n\" \"span D = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> c = 0}\"\n    \"x \\<notin> span D \\<Longrightarrow> x \\<in> carrier_vec n \\<Longrightarrow> c \\<bullet> x > 0\"\n    \"c \\<in> {normal_vector D, -normal_vector D}\""], "translations": [["", "lemma ortho_sum_in_span:\n  assumes W: \"W \\<subseteq> carrier_vec n\"\n    and X: \"X \\<subseteq> carrier_vec n\"\n    and ortho: \"\\<And> w x. w \\<in> W \\<Longrightarrow> x \\<in> X \\<Longrightarrow> x \\<bullet> w = 0\"\n    and inspan: \"lincomb l1 X + lincomb l2 W \\<in> span X\"\n  shows \"lincomb l2 W = 0\\<^sub>v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb l2 W = 0\\<^sub>v n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "let ?v = \"lincomb l2 W\""], ["proof (state)\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have vcarr: \"?v \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb l2 W \\<in> carrier_vec n", "using W"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  lincomb l2 W \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have vspan: \"?v \\<in> span W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb l2 W \\<in> local.span W", "using W"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<in> local.span W", "by auto"], ["proof (state)\nthis:\n  lincomb l2 W \\<in> local.span W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "assume \"\\<not>?thesis\""], ["proof (state)\nthis:\n  lincomb l2 W \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "from this"], ["proof (chain)\npicking this:\n  lincomb l2 W \\<noteq> 0\\<^sub>v n", "have vnz: \"?v \\<noteq> 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  lincomb l2 W \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  lincomb l2 W \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "let ?x = \"lincomb l1 X\""], ["proof (state)\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have xcarr: \"?x \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb l1 X \\<in> carrier_vec n", "using X"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l1 X \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  lincomb l1 X \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have xspan: \"?x \\<in> span X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb l1 X \\<in> local.span X", "using X xcarr"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n  lincomb l1 X \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l1 X \\<in> local.span X", "by auto"], ["proof (state)\nthis:\n  lincomb l1 X \\<in> local.span X\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have \"0 \\<noteq> sq_norm ?v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) \\<noteq> \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2", "using vnz vcarr"], ["proof (prove)\nusing this:\n  lincomb l2 W \\<noteq> 0\\<^sub>v n\n  lincomb l2 W \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (0::'a) \\<noteq> \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  (0::'a) \\<noteq> \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  (0::'a) \\<noteq> \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have \"sq_norm ?v = 0 + ?v \\<bullet> ?v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2 =\n    (0::'a) + lincomb l2 W \\<bullet> lincomb l2 W", "by (simp add: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2 =\n  (0::'a) + lincomb l2 W \\<bullet> lincomb l2 W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  \\<parallel>lincomb l2 W\\<parallel>\\<^sup>2 =\n  (0::'a) + lincomb l2 W \\<bullet> lincomb l2 W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have \"\\<dots> = ?x \\<bullet> ?v + ?v \\<bullet> ?v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) + lincomb l2 W \\<bullet> lincomb l2 W =\n    lincomb l1 X \\<bullet> lincomb l2 W +\n    lincomb l2 W \\<bullet> lincomb l2 W", "by (subst (2) ortho_span_span[OF X W ortho], insert X W, auto)"], ["proof (state)\nthis:\n  (0::'a) + lincomb l2 W \\<bullet> lincomb l2 W =\n  lincomb l1 X \\<bullet> lincomb l2 W + lincomb l2 W \\<bullet> lincomb l2 W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  (0::'a) + lincomb l2 W \\<bullet> lincomb l2 W =\n  lincomb l1 X \\<bullet> lincomb l2 W + lincomb l2 W \\<bullet> lincomb l2 W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have \"\\<dots> = (?x + ?v ) \\<bullet> ?v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb l1 X \\<bullet> lincomb l2 W +\n    lincomb l2 W \\<bullet> lincomb l2 W =\n    (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W", "using xcarr vcarr"], ["proof (prove)\nusing this:\n  lincomb l1 X \\<in> carrier_vec n\n  lincomb l2 W \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb l1 X \\<bullet> lincomb l2 W +\n    lincomb l2 W \\<bullet> lincomb l2 W =\n    (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W", "using add_scalar_prod_distrib"], ["proof (prove)\nusing this:\n  lincomb l1 X \\<in> carrier_vec n\n  lincomb l2 W \\<in> carrier_vec n\n  \\<lbrakk>?v\\<^sub>1 \\<in> carrier_vec ?n; ?v\\<^sub>2 \\<in> carrier_vec ?n;\n   ?v\\<^sub>3 \\<in> carrier_vec ?n\\<rbrakk>\n  \\<Longrightarrow> (?v\\<^sub>1 + ?v\\<^sub>2) \\<bullet> ?v\\<^sub>3 =\n                    ?v\\<^sub>1 \\<bullet> ?v\\<^sub>3 +\n                    ?v\\<^sub>2 \\<bullet> ?v\\<^sub>3\n\ngoal (1 subgoal):\n 1. lincomb l1 X \\<bullet> lincomb l2 W +\n    lincomb l2 W \\<bullet> lincomb l2 W =\n    (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W", "by force"], ["proof (state)\nthis:\n  lincomb l1 X \\<bullet> lincomb l2 W +\n  lincomb l2 W \\<bullet> lincomb l2 W =\n  (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  lincomb l1 X \\<bullet> lincomb l2 W +\n  lincomb l2 W \\<bullet> lincomb l2 W =\n  (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "have \"\\<dots> = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W = (0::'a)", "by (rule ortho_span_span[OF X W ortho inspan vspan])"], ["proof (state)\nthis:\n  (lincomb l1 X + lincomb l2 W) \\<bullet> lincomb l2 W = (0::'a)\n\ngoal (1 subgoal):\n 1. lincomb l2 W \\<noteq> 0\\<^sub>v n \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  (0::'a) \\<noteq> (0::'a)", "show False"], ["proof (prove)\nusing this:\n  (0::'a) \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "(* TODO move *)"], ["", "lemma ortho_lin_indpt: assumes W: \"W \\<subseteq> carrier_vec n\"\n  and X: \"X \\<subseteq> carrier_vec n\"\n  and ortho: \"\\<And> w x. w \\<in> W \\<Longrightarrow> x \\<in> X \\<Longrightarrow> x \\<bullet> w = 0\"\n  and linW: \"lin_indpt W\"\n  and linX: \"lin_indpt X\"\nshows \"lin_indpt (W \\<union> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lin_indpt (W \\<union> X)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "assume \"\\<not>?thesis\""], ["proof (state)\nthis:\n  \\<not> lin_indpt (W \\<union> X)\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "from this"], ["proof (chain)\npicking this:\n  \\<not> lin_indpt (W \\<union> X)", "obtain c where zerocomb:\"lincomb c (W \\<union> X) = 0\\<^sub>v n\"\n    and notallz: \"\\<exists>v \\<in> (W \\<union> X). c v \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<not> lin_indpt (W \\<union> X)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>lincomb c (W \\<union> X) = 0\\<^sub>v n;\n         \\<exists>v\\<in>W \\<union> X. c v \\<noteq> (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms fin_dim fin_dim_li_fin finite_lin_indpt2 infinite_Un le_sup_iff"], ["proof (prove)\nusing this:\n  \\<not> lin_indpt (W \\<union> X)\n  W \\<subseteq> carrier_vec n\n  X \\<subseteq> carrier_vec n\n  \\<lbrakk>?w3 \\<in> W; ?x3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<bullet> ?w3 = (0::'a)\n  lin_indpt W\n  lin_indpt X\n  fin_dim\n  \\<lbrakk>fin_dim; lin_indpt ?A; ?A \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> finite ?A\n  \\<lbrakk>finite ?A; ?A \\<subseteq> carrier_vec n;\n   \\<And>a.\n      \\<lbrakk>True; lincomb a ?A = 0\\<^sub>v n\\<rbrakk>\n      \\<Longrightarrow> \\<forall>v\\<in>?A. a v = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> lin_indpt ?A\n  infinite (?S \\<union> ?T) = (infinite ?S \\<or> infinite ?T)\n  (sup ?x ?y \\<le> ?z) = (?x \\<le> ?z \\<and> ?y \\<le> ?z)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>lincomb c (W \\<union> X) = 0\\<^sub>v n;\n         \\<exists>v\\<in>W \\<union> X. c v \\<noteq> (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  lincomb c (W \\<union> X) = 0\\<^sub>v n\n  \\<exists>v\\<in>W \\<union> X. c v \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have zero_nin_W: \"0\\<^sub>v n \\<notin> W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<notin> W", "using assms"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  X \\<subseteq> carrier_vec n\n  \\<lbrakk>?w3 \\<in> W; ?x3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<bullet> ?w3 = (0::'a)\n  lin_indpt W\n  lin_indpt X\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n \\<notin> W", "by (metis vs_zero_lin_dep)"], ["proof (state)\nthis:\n  0\\<^sub>v n \\<notin> W\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have WXinters: \"W \\<inter> X = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. W \\<inter> X = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "assume \"\\<not>?thesis\""], ["proof (state)\nthis:\n  W \\<inter> X \\<noteq> {}\n\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "from this"], ["proof (chain)\npicking this:\n  W \\<inter> X \\<noteq> {}", "obtain v where v: \"v\\<in> W \\<inter> X\""], ["proof (prove)\nusing this:\n  W \\<inter> X \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        v \\<in> W \\<inter> X \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  v \\<in> W \\<inter> X\n\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "hence \"v\\<bullet>v=0\""], ["proof (prove)\nusing this:\n  v \\<in> W \\<inter> X\n\ngoal (1 subgoal):\n 1. v \\<bullet> v = (0::'a)", "using ortho"], ["proof (prove)\nusing this:\n  v \\<in> W \\<inter> X\n  \\<lbrakk>?w3 \\<in> W; ?x3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<bullet> ?w3 = (0::'a)\n\ngoal (1 subgoal):\n 1. v \\<bullet> v = (0::'a)", "by auto"], ["proof (state)\nthis:\n  v \\<bullet> v = (0::'a)\n\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  v \\<bullet> v = (0::'a)\n\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "have \"v \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> carrier_vec n", "using assms v"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  X \\<subseteq> carrier_vec n\n  \\<lbrakk>?w3 \\<in> W; ?x3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ?x3 \\<bullet> ?w3 = (0::'a)\n  lin_indpt W\n  lin_indpt X\n  v \\<in> W \\<inter> X\n\ngoal (1 subgoal):\n 1. v \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  v \\<bullet> v = (0::'a)\n  v \\<in> carrier_vec n", "have \"v=0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  v \\<bullet> v = (0::'a)\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. v = 0\\<^sub>v n", "using sq_norm_vec_as_cscalar_prod[of v]"], ["proof (prove)\nusing this:\n  v \\<bullet> v = (0::'a)\n  v \\<in> carrier_vec n\n  \\<parallel>v\\<parallel>\\<^sup>2 = v \\<bullet>c v\n\ngoal (1 subgoal):\n 1. v = 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  v = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. W \\<inter> X \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  v = 0\\<^sub>v n", "show False"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. False", "using zero_nin_W v"], ["proof (prove)\nusing this:\n  v = 0\\<^sub>v n\n  0\\<^sub>v n \\<notin> W\n  v \\<in> W \\<inter> X\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  W \\<inter> X = {}\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have finX: \"finite X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite X", "using X linX"], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n  lin_indpt X\n\ngoal (1 subgoal):\n 1. finite X", "by (simp add: fin_dim_li_fin)"], ["proof (state)\nthis:\n  finite X\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have finW: \"finite W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite W", "using W linW"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  lin_indpt W\n\ngoal (1 subgoal):\n 1. finite W", "by (simp add: fin_dim_li_fin)"], ["proof (state)\nthis:\n  finite W\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have split: \"lincomb c (W \\<union> X) = lincomb c X + lincomb c W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (W \\<union> X) = lincomb c X + lincomb c W", "using lincomb_union[OF W X WXinters finW finX]"], ["proof (prove)\nusing this:\n  ?a \\<in> W \\<union> X \\<rightarrow> UNIV \\<Longrightarrow>\n  lincomb ?a (W \\<union> X) = lincomb ?a W + lincomb ?a X\n\ngoal (1 subgoal):\n 1. lincomb c (W \\<union> X) = lincomb c X + lincomb c W", "by (simp add: M.add.m_comm W X)"], ["proof (state)\nthis:\n  lincomb c (W \\<union> X) = lincomb c X + lincomb c W\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "hence \"lincomb c X + lincomb c W  \\<in> span X\""], ["proof (prove)\nusing this:\n  lincomb c (W \\<union> X) = lincomb c X + lincomb c W\n\ngoal (1 subgoal):\n 1. lincomb c X + lincomb c W \\<in> local.span X", "using zerocomb"], ["proof (prove)\nusing this:\n  lincomb c (W \\<union> X) = lincomb c X + lincomb c W\n  lincomb c (W \\<union> X) = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. lincomb c X + lincomb c W \\<in> local.span X", "using local.span_zero"], ["proof (prove)\nusing this:\n  lincomb c (W \\<union> X) = lincomb c X + lincomb c W\n  lincomb c (W \\<union> X) = 0\\<^sub>v n\n  0\\<^sub>v n \\<in> local.span ?U\n\ngoal (1 subgoal):\n 1. lincomb c X + lincomb c W \\<in> local.span X", "by auto"], ["proof (state)\nthis:\n  lincomb c X + lincomb c W \\<in> local.span X\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "hence z1: \"lincomb c W = 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  lincomb c X + lincomb c W \\<in> local.span X\n\ngoal (1 subgoal):\n 1. lincomb c W = 0\\<^sub>v n", "using ortho_sum_in_span[OF W X ortho]"], ["proof (prove)\nusing this:\n  lincomb c X + lincomb c W \\<in> local.span X\n  \\<lbrakk>\\<And>w x.\n              \\<lbrakk>w \\<in> W; x \\<in> X\\<rbrakk>\n              \\<Longrightarrow> w \\<in> W;\n   \\<And>w x.\n      \\<lbrakk>w \\<in> W; x \\<in> X\\<rbrakk> \\<Longrightarrow> x \\<in> X;\n   lincomb ?l1.0 X + lincomb ?l2.0 W \\<in> local.span X\\<rbrakk>\n  \\<Longrightarrow> lincomb ?l2.0 W = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. lincomb c W = 0\\<^sub>v n", "by simp"], ["proof (state)\nthis:\n  lincomb c W = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "hence z2: \"lincomb c X = 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  lincomb c W = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. lincomb c X = 0\\<^sub>v n", "using split zerocomb X"], ["proof (prove)\nusing this:\n  lincomb c W = 0\\<^sub>v n\n  lincomb c (W \\<union> X) = lincomb c X + lincomb c W\n  lincomb c (W \\<union> X) = 0\\<^sub>v n\n  X \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb c X = 0\\<^sub>v n", "by simp"], ["proof (state)\nthis:\n  lincomb c X = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have or: \"(\\<exists>v \\<in> W. c v \\<noteq> 0) \\<or> (\\<exists> v\\<in> X. c v \\<noteq> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>v\\<in>W. c v \\<noteq> (0::'a)) \\<or>\n    (\\<exists>v\\<in>X. c v \\<noteq> (0::'a))", "using notallz"], ["proof (prove)\nusing this:\n  \\<exists>v\\<in>W \\<union> X. c v \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<exists>v\\<in>W. c v \\<noteq> (0::'a)) \\<or>\n    (\\<exists>v\\<in>X. c v \\<noteq> (0::'a))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>v\\<in>W. c v \\<noteq> (0::'a)) \\<or>\n  (\\<exists>v\\<in>X. c v \\<noteq> (0::'a))\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have ex1: \"\\<exists>v \\<in> W. c v \\<noteq> 0 \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>W. c v \\<noteq> (0::'a) \\<Longrightarrow> False", "using linW"], ["proof (prove)\nusing this:\n  lin_indpt W\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>W. c v \\<noteq> (0::'a) \\<Longrightarrow> False", "using finW lin_dep_def z1"], ["proof (prove)\nusing this:\n  lin_indpt W\n  finite W\n  lin_dep ?S =\n  (\\<exists>A a v.\n      finite A \\<and>\n      A \\<subseteq> ?S \\<and>\n      True \\<and>\n      lincomb a A = 0\\<^sub>v n \\<and>\n      v \\<in> A \\<and> a v \\<noteq> (0::'a))\n  lincomb c W = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>W. c v \\<noteq> (0::'a) \\<Longrightarrow> False", "by blast"], ["proof (state)\nthis:\n  \\<exists>v\\<in>W. c v \\<noteq> (0::'a) \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "have ex2: \"\\<exists> v\\<in> X. c v \\<noteq> 0 \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>X. c v \\<noteq> (0::'a) \\<Longrightarrow> False", "using linX"], ["proof (prove)\nusing this:\n  lin_indpt X\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>X. c v \\<noteq> (0::'a) \\<Longrightarrow> False", "using finX lin_dep_def z2"], ["proof (prove)\nusing this:\n  lin_indpt X\n  finite X\n  lin_dep ?S =\n  (\\<exists>A a v.\n      finite A \\<and>\n      A \\<subseteq> ?S \\<and>\n      True \\<and>\n      lincomb a A = 0\\<^sub>v n \\<and>\n      v \\<in> A \\<and> a v \\<noteq> (0::'a))\n  lincomb c X = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<exists>v\\<in>X. c v \\<noteq> (0::'a) \\<Longrightarrow> False", "by blast"], ["proof (state)\nthis:\n  \\<exists>v\\<in>X. c v \\<noteq> (0::'a) \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> lin_indpt (W \\<union> X) \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using ex1 ex2 or"], ["proof (prove)\nusing this:\n  \\<exists>v\\<in>W. c v \\<noteq> (0::'a) \\<Longrightarrow> False\n  \\<exists>v\\<in>X. c v \\<noteq> (0::'a) \\<Longrightarrow> False\n  (\\<exists>v\\<in>W. c v \\<noteq> (0::'a)) \\<or>\n  (\\<exists>v\\<in>X. c v \\<noteq> (0::'a))\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "definition normal_vector :: \"'a vec set \\<Rightarrow> 'a vec\" where\n  \"normal_vector W = (let ws = (SOME ws. set ws = W \\<and> distinct ws);\n     m = length ws;\n     B = (\\<lambda> j. mat m m (\\<lambda>(i, j'). ws ! i $ (if j' < j then j' else Suc j')))\n     in vec n (\\<lambda> j. (-1)^(m+j) * det (B j)))\""], ["", "lemma normal_vector: assumes fin: \"finite W\"\n  and card: \"Suc (card W) = n\"\n  and lin: \"lin_indpt W\"\n  and W: \"W \\<subseteq> carrier_vec n\"\nshows \"normal_vector W \\<in> carrier_vec n\"\n  \"normal_vector W \\<noteq> 0\\<^sub>v n\"\n  \"w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = 0\"\n  \"w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = 0\"\n  \"lin_indpt (insert (normal_vector W) W)\"\n  \"normal_vector W \\<notin> W\"\n  \"W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow> normal_vector W \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) Bnd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (normal_vector W \\<in> carrier_vec n &&&\n     normal_vector W \\<noteq> 0\\<^sub>v n &&&\n     (w \\<in> W \\<Longrightarrow>\n      w \\<bullet> normal_vector W = (0::'a))) &&&\n    ((w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)) &&&\n     lin_indpt (insert (normal_vector W) W)) &&&\n    normal_vector W \\<notin> W &&&\n    (W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n     normal_vector W\n     \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd))", "proof -"], ["proof (state)\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "define ws where \"ws = (SOME ws. set ws = W \\<and> distinct ws)\""], ["proof (state)\nthis:\n  ws = (SOME ws. set ws = W \\<and> distinct ws)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from finite_distinct_list[OF fin]"], ["proof (chain)\npicking this:\n  \\<exists>xs. set xs = W \\<and> distinct xs", "have \"\\<exists> ws. set ws = W \\<and> distinct ws\""], ["proof (prove)\nusing this:\n  \\<exists>xs. set xs = W \\<and> distinct xs\n\ngoal (1 subgoal):\n 1. \\<exists>ws. set ws = W \\<and> distinct ws", "by auto"], ["proof (state)\nthis:\n  \\<exists>ws. set ws = W \\<and> distinct ws\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from someI_ex[OF this, folded ws_def]"], ["proof (chain)\npicking this:\n  set ws = W \\<and> distinct ws", "have id: \"set ws = W\" and dist: \"distinct ws\""], ["proof (prove)\nusing this:\n  set ws = W \\<and> distinct ws\n\ngoal (1 subgoal):\n 1. set ws = W &&& distinct ws", "by auto"], ["proof (state)\nthis:\n  set ws = W\n  distinct ws\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have len: \"length ws = card W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length ws = card W", "using distinct_card[OF dist] id"], ["proof (prove)\nusing this:\n  card (set ws) = length ws\n  set ws = W\n\ngoal (1 subgoal):\n 1. length ws = card W", "by auto"], ["proof (state)\nthis:\n  length ws = card W\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "let ?n = \"length ws\""], ["proof (state)\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "define B where \"B = (\\<lambda> j. mat ?n ?n (\\<lambda>(i, j'). ws ! i $ (if j' < j then j' else Suc j')))\""], ["proof (state)\nthis:\n  B =\n  (\\<lambda>j.\n      mat (length ws) (length ws)\n       (\\<lambda>(i, j'). ws ! i $ (if j' < j then j' else Suc j')))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "define nv where \"nv = vec n (\\<lambda> j. (-1)^(?n+j) * det (B j))\""], ["proof (state)\nthis:\n  nv = vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have nv2: \"normal_vector W = nv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. normal_vector W = nv", "unfolding normal_vector_def Let_def\n      ws_def[symmetric] B_def nv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vec n\n     (\\<lambda>j.\n         (- (1::'a)) ^ (length ws + j) *\n         det (mat (length ws) (length ws)\n               (\\<lambda>(i, j').\n                   ws ! i $ (if j' < j then j' else Suc j')))) =\n    vec n\n     (\\<lambda>j.\n         (- (1::'a)) ^ (length ws + j) *\n         det (mat (length ws) (length ws)\n               (\\<lambda>(i, j').\n                   ws ! i $ (if j' < j then j' else Suc j'))))", ".."], ["proof (state)\nthis:\n  normal_vector W = nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "define A where \"A = (\\<lambda> w. mat_of_rows n (ws @ [w]))\""], ["proof (state)\nthis:\n  A = (\\<lambda>w. mat_of_rows n (ws @ [w]))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from len id card"], ["proof (chain)\npicking this:\n  length ws = card W\n  set ws = W\n  Suc (card W) = n", "have len: \"Suc ?n = n\""], ["proof (prove)\nusing this:\n  length ws = card W\n  set ws = W\n  Suc (card W) = n\n\ngoal (1 subgoal):\n 1. Suc (length ws) = n", "by auto"], ["proof (state)\nthis:\n  Suc (length ws) = n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have A: \"A w \\<in> carrier_mat n n\" for w"], ["proof (prove)\ngoal (1 subgoal):\n 1. A w \\<in> carrier_mat n n", "using id W len"], ["proof (prove)\nusing this:\n  set ws = W\n  W \\<subseteq> carrier_vec n\n  Suc (length ws) = n\n\ngoal (1 subgoal):\n 1. A w \\<in> carrier_mat n n", "unfolding A_def"], ["proof (prove)\nusing this:\n  set ws = W\n  W \\<subseteq> carrier_vec n\n  Suc (length ws) = n\n\ngoal (1 subgoal):\n 1. mat_of_rows n (ws @ [w]) \\<in> carrier_mat n n", "by auto"], ["proof (state)\nthis:\n  A ?w3 \\<in> carrier_mat n n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  A ?w3 \\<in> carrier_mat n n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "fix w :: \"'a vec\""], ["proof (state)\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "assume w: \"w \\<in> carrier_vec n\""], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from len"], ["proof (chain)\npicking this:\n  Suc (length ws) = n", "have n1[simp]: \"n - Suc 0 = ?n\""], ["proof (prove)\nusing this:\n  Suc (length ws) = n\n\ngoal (1 subgoal):\n 1. n - Suc 0 = length ws", "by auto"], ["proof (state)\nthis:\n  n - Suc 0 = length ws\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  n - Suc 0 = length ws\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "fix j"], ["proof (state)\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "assume j: \"j < n\""], ["proof (state)\nthis:\n  j < n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"mat_delete (A w) ?n j = B j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mat_delete (A w) (length ws) j = B j", "unfolding mat_delete_def A_def mat_of_rows_def B_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. mat (dim_row\n          (mat (length (ws @ [w])) n\n            (\\<lambda>(i, y). (ws @ [w]) ! i $ y)) -\n         1)\n     (dim_col\n       (mat (length (ws @ [w])) n (\\<lambda>(i, y). (ws @ [w]) ! i $ y)) -\n      1)\n     (\\<lambda>(i', j').\n         mat (length (ws @ [w])) n (\\<lambda>(i, y). (ws @ [w]) ! i $ y) $$\n         (if i' < length ws then i' else Suc i',\n          if j' < j then j' else Suc j')) =\n    mat (length ws) (length ws)\n     (\\<lambda>(i, j'). ws ! i $ (if j' < j then j' else Suc j'))", "by (rule eq_matI, insert j len, auto simp: nth_append)"], ["proof (state)\nthis:\n  mat_delete (A w) (length ws) j = B j\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "}"], ["proof (state)\nthis:\n  ?j5 < n \\<Longrightarrow> mat_delete (A w) (length ws) ?j5 = B ?j5\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "note B = this"], ["proof (state)\nthis:\n  ?j5 < n \\<Longrightarrow> mat_delete (A w) (length ws) ?j5 = B ?j5\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"det (A w) = (\\<Sum>j<n. (A w) $$ (length ws, j) * cofactor (A w) ?n j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. det (A w) =\n    (\\<Sum>j<n. A w $$ (length ws, j) * cofactor (A w) (length ws) j)", "by (subst laplace_expansion_row[OF A, of ?n], insert len, auto)"], ["proof (state)\nthis:\n  det (A w) =\n  (\\<Sum>j<n. A w $$ (length ws, j) * cofactor (A w) (length ws) j)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  det (A w) =\n  (\\<Sum>j<n. A w $$ (length ws, j) * cofactor (A w) (length ws) j)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"\\<dots> = (\\<Sum>j<n. w $ j * (-1)^(?n+j) * det (mat_delete (A w) ?n j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<n. A w $$ (length ws, j) * cofactor (A w) (length ws) j) =\n    (\\<Sum>j<n.\n        w $ j * (- (1::'a)) ^ (length ws + j) *\n        det (mat_delete (A w) (length ws) j))", "by (rule sum.cong, auto simp: A_def mat_of_rows_def cofactor_def)"], ["proof (state)\nthis:\n  (\\<Sum>j<n. A w $$ (length ws, j) * cofactor (A w) (length ws) j) =\n  (\\<Sum>j<n.\n      w $ j * (- (1::'a)) ^ (length ws + j) *\n      det (mat_delete (A w) (length ws) j))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j<n. A w $$ (length ws, j) * cofactor (A w) (length ws) j) =\n  (\\<Sum>j<n.\n      w $ j * (- (1::'a)) ^ (length ws + j) *\n      det (mat_delete (A w) (length ws) j))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"\\<dots> = (\\<Sum>j<n. w $ j * (-1)^(?n+j) * det (B j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<n.\n        w $ j * (- (1::'a)) ^ (length ws + j) *\n        det (mat_delete (A w) (length ws) j)) =\n    (\\<Sum>j<n. w $ j * (- (1::'a)) ^ (length ws + j) * det (B j))", "by (rule sum.cong[OF refl], subst B, auto)"], ["proof (state)\nthis:\n  (\\<Sum>j<n.\n      w $ j * (- (1::'a)) ^ (length ws + j) *\n      det (mat_delete (A w) (length ws) j)) =\n  (\\<Sum>j<n. w $ j * (- (1::'a)) ^ (length ws + j) * det (B j))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j<n.\n      w $ j * (- (1::'a)) ^ (length ws + j) *\n      det (mat_delete (A w) (length ws) j)) =\n  (\\<Sum>j<n. w $ j * (- (1::'a)) ^ (length ws + j) * det (B j))\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"\\<dots> = (\\<Sum>j<n. w $ j * nv $ j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<n. w $ j * (- (1::'a)) ^ (length ws + j) * det (B j)) =\n    (\\<Sum>j<n. w $ j * nv $ j)", "by (rule sum.cong[OF refl], auto simp: nv_def)"], ["proof (state)\nthis:\n  (\\<Sum>j<n. w $ j * (- (1::'a)) ^ (length ws + j) * det (B j)) =\n  (\\<Sum>j<n. w $ j * nv $ j)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  (\\<Sum>j<n. w $ j * (- (1::'a)) ^ (length ws + j) * det (B j)) =\n  (\\<Sum>j<n. w $ j * nv $ j)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"\\<dots> = w \\<bullet> nv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<n. w $ j * nv $ j) = w \\<bullet> nv", "unfolding scalar_prod_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<n. w $ j * nv $ j) = (\\<Sum>i = 0..<dim_vec nv. w $ i * nv $ i)", "unfolding nv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>j<n.\n        w $ j *\n        vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j)) $ j) =\n    (\\<Sum>i = 0..<dim_vec\n                    (vec n\n                      (\\<lambda>j.\n                          (- (1::'a)) ^ (length ws + j) * det (B j))).\n        w $ i *\n        vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j)) $ i)", "by (rule sum.cong, auto)"], ["proof (state)\nthis:\n  (\\<Sum>j<n. w $ j * nv $ j) = w \\<bullet> nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "finally"], ["proof (chain)\npicking this:\n  det (A w) = w \\<bullet> nv", "have \"det (A w) = w \\<bullet> nv\""], ["proof (prove)\nusing this:\n  det (A w) = w \\<bullet> nv\n\ngoal (1 subgoal):\n 1. det (A w) = w \\<bullet> nv", "."], ["proof (state)\nthis:\n  det (A w) = w \\<bullet> nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "}"], ["proof (state)\nthis:\n  ?wa5 \\<in> carrier_vec n \\<Longrightarrow>\n  det (A ?wa5) = ?wa5 \\<bullet> nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "note det_scalar = this"], ["proof (state)\nthis:\n  ?wa5 \\<in> carrier_vec n \\<Longrightarrow>\n  det (A ?wa5) = ?wa5 \\<bullet> nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have nv: \"nv \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nv \\<in> carrier_vec n", "unfolding nv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j))\n    \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  nv \\<in> carrier_vec n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  nv \\<in> carrier_vec n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "fix w"], ["proof (state)\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "assume wW: \"w \\<in> W\""], ["proof (state)\nthis:\n  w \\<in> W\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "with W"], ["proof (chain)\npicking this:\n  W \\<subseteq> carrier_vec n\n  w \\<in> W", "have w: \"w \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  w \\<in> W\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from wW id"], ["proof (chain)\npicking this:\n  w \\<in> W\n  set ws = W", "obtain i where i: \"i < ?n\" and ws: \"ws ! i = w\""], ["proof (prove)\nusing this:\n  w \\<in> W\n  set ws = W\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < length ws; ws ! i = w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding set_conv_nth"], ["proof (prove)\nusing this:\n  w \\<in> W\n  {ws ! i |i. i < length ws} = W\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < length ws; ws ! i = w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  i < length ws\n  ws ! i = w\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from det_scalar[OF w]"], ["proof (chain)\npicking this:\n  det (A w) = w \\<bullet> nv", "have \"det (A w) = w \\<bullet> nv\""], ["proof (prove)\nusing this:\n  det (A w) = w \\<bullet> nv\n\ngoal (1 subgoal):\n 1. det (A w) = w \\<bullet> nv", "."], ["proof (state)\nthis:\n  det (A w) = w \\<bullet> nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "also"], ["proof (state)\nthis:\n  det (A w) = w \\<bullet> nv\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"det (A w) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. det (A w) = (0::'a)", "by (subst det_identical_rows[OF A, of i ?n], insert i ws len, auto simp: A_def mat_of_rows_def nth_append)"], ["proof (state)\nthis:\n  det (A w) = (0::'a)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "finally"], ["proof (chain)\npicking this:\n  (0::'a) = w \\<bullet> nv", "have \"w \\<bullet> nv = 0\""], ["proof (prove)\nusing this:\n  (0::'a) = w \\<bullet> nv\n\ngoal (1 subgoal):\n 1. w \\<bullet> nv = (0::'a)", ".."], ["proof (state)\nthis:\n  w \\<bullet> nv = (0::'a)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "note this this[unfolded comm_scalar_prod[OF w nv]]"], ["proof (state)\nthis:\n  w \\<bullet> nv = (0::'a)\n  nv \\<bullet> w = (0::'a)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "}"], ["proof (state)\nthis:\n  ?wa5 \\<in> W \\<Longrightarrow> ?wa5 \\<bullet> nv = (0::'a)\n  ?wa5 \\<in> W \\<Longrightarrow> nv \\<bullet> ?wa5 = (0::'a)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "note ortho = this"], ["proof (state)\nthis:\n  ?wa5 \\<in> W \\<Longrightarrow> ?wa5 \\<bullet> nv = (0::'a)\n  ?wa5 \\<in> W \\<Longrightarrow> nv \\<bullet> ?wa5 = (0::'a)\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have nv0: \"nv \\<noteq> 0\\<^sub>v n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nv \\<noteq> 0\\<^sub>v n", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "assume nv: \"nv = 0\\<^sub>v n\""], ["proof (state)\nthis:\n  nv = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "define bs where \"bs = basis_extension ws\""], ["proof (state)\nthis:\n  bs = basis_extension ws\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "define w where \"w = hd bs\""], ["proof (state)\nthis:\n  w = hd bs\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "have \"lin_indpt_list ws\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lin_indpt_list ws", "using dist lin W"], ["proof (prove)\nusing this:\n  distinct ws\n  lin_indpt W\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_indpt_list ws", "unfolding lin_indpt_list_def id"], ["proof (prove)\nusing this:\n  distinct ws\n  lin_indpt W\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. W \\<subseteq> carrier_vec n \\<and> distinct ws \\<and> lin_indpt W", "by auto"], ["proof (state)\nthis:\n  lin_indpt_list ws\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "from basis_extension[OF this, folded bs_def] len"], ["proof (chain)\npicking this:\n  set bs \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (ws @ bs)\n  length (ws @ bs) = n\n  Suc (length ws) = n", "have lin: \"lin_indpt_list (ws @ bs)\" and \"length bs = 1\" and bsc: \"set bs \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  set bs \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (ws @ bs)\n  length (ws @ bs) = n\n  Suc (length ws) = n\n\ngoal (1 subgoal):\n 1. lin_indpt_list (ws @ bs) &&&\n    length bs = 1 &&& set bs \\<subseteq> carrier_vec n", "by (auto simp: unit_vecs_def)"], ["proof (state)\nthis:\n  lin_indpt_list (ws @ bs)\n  length bs = 1\n  set bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "hence bs: \"bs = [w]\""], ["proof (prove)\nusing this:\n  lin_indpt_list (ws @ bs)\n  length bs = 1\n  set bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. bs = [w]", "unfolding w_def"], ["proof (prove)\nusing this:\n  lin_indpt_list (ws @ bs)\n  length bs = 1\n  set bs \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. bs = [hd bs]", "by (cases bs, auto)"], ["proof (state)\nthis:\n  bs = [w]\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "with bsc"], ["proof (chain)\npicking this:\n  set bs \\<subseteq> carrier_vec n\n  bs = [w]", "have w: \"w \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  set bs \\<subseteq> carrier_vec n\n  bs = [w]\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "note lin = lin[unfolded bs]"], ["proof (state)\nthis:\n  lin_indpt_list (ws @ [w])\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "from lin_indpt_list_length_eq_n[OF lin] len"], ["proof (chain)\npicking this:\n  length (ws @ [w]) = n \\<Longrightarrow>\n  local.span (set (ws @ [w])) = carrier_vec n\n  length (ws @ [w]) = n \\<Longrightarrow> basis (set (ws @ [w]))\n  Suc (length ws) = n", "have basis: \"basis (set (ws @ [w]))\""], ["proof (prove)\nusing this:\n  length (ws @ [w]) = n \\<Longrightarrow>\n  local.span (set (ws @ [w])) = carrier_vec n\n  length (ws @ [w]) = n \\<Longrightarrow> basis (set (ws @ [w]))\n  Suc (length ws) = n\n\ngoal (1 subgoal):\n 1. basis (set (ws @ [w]))", "by auto"], ["proof (state)\nthis:\n  basis (set (ws @ [w]))\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "from w det_scalar nv"], ["proof (chain)\npicking this:\n  w \\<in> carrier_vec n\n  ?wa5 \\<in> carrier_vec n \\<Longrightarrow>\n  det (A ?wa5) = ?wa5 \\<bullet> nv\n  nv = 0\\<^sub>v n", "have det0: \"det (A w) = 0\""], ["proof (prove)\nusing this:\n  w \\<in> carrier_vec n\n  ?wa5 \\<in> carrier_vec n \\<Longrightarrow>\n  det (A ?wa5) = ?wa5 \\<bullet> nv\n  nv = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. det (A w) = (0::'a)", "by auto"], ["proof (state)\nthis:\n  det (A w) = (0::'a)\n\ngoal (1 subgoal):\n 1. nv = 0\\<^sub>v n \\<Longrightarrow> False", "with basis_det_nonzero[OF basis] len"], ["proof (chain)\npicking this:\n  length (ws @ [w]) = n \\<Longrightarrow>\n  det (mat_of_rows n (ws @ [w])) \\<noteq> (0::'a)\n  Suc (length ws) = n\n  det (A w) = (0::'a)", "show False"], ["proof (prove)\nusing this:\n  length (ws @ [w]) = n \\<Longrightarrow>\n  det (mat_of_rows n (ws @ [w])) \\<noteq> (0::'a)\n  Suc (length ws) = n\n  det (A w) = (0::'a)\n\ngoal (1 subgoal):\n 1. False", "unfolding A_def"], ["proof (prove)\nusing this:\n  length (ws @ [w]) = n \\<Longrightarrow>\n  det (mat_of_rows n (ws @ [w])) \\<noteq> (0::'a)\n  Suc (length ws) = n\n  det (mat_of_rows n (ws @ [w])) = (0::'a)\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  nv \\<noteq> 0\\<^sub>v n\n\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "let ?nv = \"normal_vector W\""], ["proof (state)\ngoal (7 subgoals):\n 1. normal_vector W \\<in> carrier_vec n\n 2. normal_vector W \\<noteq> 0\\<^sub>v n\n 3. w \\<in> W \\<Longrightarrow> w \\<bullet> normal_vector W = (0::'a)\n 4. w \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> w = (0::'a)\n 5. lin_indpt (insert (normal_vector W) W)\n 6. normal_vector W \\<notin> W\n 7. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from ortho nv nv0"], ["proof (chain)\npicking this:\n  ?wa5 \\<in> W \\<Longrightarrow> ?wa5 \\<bullet> nv = (0::'a)\n  ?wa5 \\<in> W \\<Longrightarrow> nv \\<bullet> ?wa5 = (0::'a)\n  nv \\<in> carrier_vec n\n  nv \\<noteq> 0\\<^sub>v n", "show nv: \"?nv \\<in> carrier_vec n\"\n    and ortho: \"\\<And> w. w \\<in> W \\<Longrightarrow> w \\<bullet> ?nv = 0\"\n    \"\\<And> w. w \\<in> W \\<Longrightarrow> ?nv \\<bullet> w = 0\"\n    and n0: \"?nv \\<noteq> 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  ?wa5 \\<in> W \\<Longrightarrow> ?wa5 \\<bullet> nv = (0::'a)\n  ?wa5 \\<in> W \\<Longrightarrow> nv \\<bullet> ?wa5 = (0::'a)\n  nv \\<in> carrier_vec n\n  nv \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. normal_vector W \\<in> carrier_vec n &&&\n    ((\\<And>w.\n         w \\<in> W \\<Longrightarrow>\n         w \\<bullet> normal_vector W = (0::'a)) &&&\n     (\\<And>w.\n         w \\<in> W \\<Longrightarrow>\n         normal_vector W \\<bullet> w = (0::'a))) &&&\n    normal_vector W \\<noteq> 0\\<^sub>v n", "unfolding nv2"], ["proof (prove)\nusing this:\n  ?wa5 \\<in> W \\<Longrightarrow> ?wa5 \\<bullet> nv = (0::'a)\n  ?wa5 \\<in> W \\<Longrightarrow> nv \\<bullet> ?wa5 = (0::'a)\n  nv \\<in> carrier_vec n\n  nv \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. nv \\<in> carrier_vec n &&&\n    ((\\<And>w. w \\<in> W \\<Longrightarrow> w \\<bullet> nv = (0::'a)) &&&\n     (\\<And>w. w \\<in> W \\<Longrightarrow> nv \\<bullet> w = (0::'a))) &&&\n    nv \\<noteq> 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  normal_vector W \\<in> carrier_vec n\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> normal_vector W = (0::'a)\n  ?w3 \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w3 = (0::'a)\n  normal_vector W \\<noteq> 0\\<^sub>v n\n\ngoal (3 subgoals):\n 1. lin_indpt (insert (normal_vector W) W)\n 2. normal_vector W \\<notin> W\n 3. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from n0 nv"], ["proof (chain)\npicking this:\n  normal_vector W \\<noteq> 0\\<^sub>v n\n  normal_vector W \\<in> carrier_vec n", "have \"sq_norm ?nv \\<noteq> 0\""], ["proof (prove)\nusing this:\n  normal_vector W \\<noteq> 0\\<^sub>v n\n  normal_vector W \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<parallel>normal_vector W\\<parallel>\\<^sup>2 \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  \\<parallel>normal_vector W\\<parallel>\\<^sup>2 \\<noteq> (0::'a)\n\ngoal (3 subgoals):\n 1. lin_indpt (insert (normal_vector W) W)\n 2. normal_vector W \\<notin> W\n 3. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "hence nvnv: \"?nv \\<bullet> ?nv \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<parallel>normal_vector W\\<parallel>\\<^sup>2 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vector W \\<bullet> normal_vector W \\<noteq> (0::'a)", "by (auto simp: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  normal_vector W \\<bullet> normal_vector W \\<noteq> (0::'a)\n\ngoal (3 subgoals):\n 1. lin_indpt (insert (normal_vector W) W)\n 2. normal_vector W \\<notin> W\n 3. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "show nvW: \"?nv \\<notin> W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. normal_vector W \\<notin> W", "using nvnv ortho"], ["proof (prove)\nusing this:\n  normal_vector W \\<bullet> normal_vector W \\<noteq> (0::'a)\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> normal_vector W = (0::'a)\n  ?w3 \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w3 = (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vector W \\<notin> W", "by blast"], ["proof (state)\nthis:\n  normal_vector W \\<notin> W\n\ngoal (2 subgoals):\n 1. lin_indpt (insert (normal_vector W) W)\n 2. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"?nv \\<notin> span W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. normal_vector W \\<notin> local.span W", "using W ortho nvnv nv"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> normal_vector W = (0::'a)\n  ?w3 \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w3 = (0::'a)\n  normal_vector W \\<bullet> normal_vector W \\<noteq> (0::'a)\n  normal_vector W \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. normal_vector W \\<notin> local.span W", "using orthocompl_span"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  ?w3 \\<in> W \\<Longrightarrow> ?w3 \\<bullet> normal_vector W = (0::'a)\n  ?w3 \\<in> W \\<Longrightarrow> normal_vector W \\<bullet> ?w3 = (0::'a)\n  normal_vector W \\<bullet> normal_vector W \\<noteq> (0::'a)\n  normal_vector W \\<in> carrier_vec n\n  \\<lbrakk>\\<And>x. x \\<in> ?S \\<Longrightarrow> ?v \\<bullet> x = (0::'a);\n   ?S \\<subseteq> carrier_vec n; ?v \\<in> carrier_vec n;\n   ?y \\<in> local.span ?S\\<rbrakk>\n  \\<Longrightarrow> ?v \\<bullet> ?y = (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vector W \\<notin> local.span W", "by blast"], ["proof (state)\nthis:\n  normal_vector W \\<notin> local.span W\n\ngoal (2 subgoals):\n 1. lin_indpt (insert (normal_vector W) W)\n 2. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "with lin_dep_iff_in_span[OF W lin nv nvW]"], ["proof (chain)\npicking this:\n  (normal_vector W \\<in> local.span W) =\n  lin_dep (W \\<union> {normal_vector W})\n  normal_vector W \\<notin> local.span W", "show \"lin_indpt (insert ?nv W)\""], ["proof (prove)\nusing this:\n  (normal_vector W \\<in> local.span W) =\n  lin_dep (W \\<union> {normal_vector W})\n  normal_vector W \\<notin> local.span W\n\ngoal (1 subgoal):\n 1. lin_indpt (insert (normal_vector W) W)", "by auto"], ["proof (state)\nthis:\n  lin_indpt (insert (normal_vector W) W)\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  lin_indpt (insert (normal_vector W) W)\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "assume \"W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (state)\nthis:\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "hence wsI: \"set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (prove)\nusing this:\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "unfolding id"], ["proof (prove)\nusing this:\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "by auto"], ["proof (state)\nthis:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have ws: \"set ws \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set ws \\<subseteq> carrier_vec n", "using W"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set ws \\<subseteq> carrier_vec n", "unfolding id"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. W \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set ws \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "from wsI ws"], ["proof (chain)\npicking this:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set ws \\<subseteq> carrier_vec n", "have wsI: \"i < ?n \\<Longrightarrow> ws ! i \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n\" for i"], ["proof (prove)\nusing this:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set ws \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. i < length ws \\<Longrightarrow>\n    ws ! i\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n", "using len wsI"], ["proof (prove)\nusing this:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set ws \\<subseteq> carrier_vec n\n  Suc (length ws) = n\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. i < length ws \\<Longrightarrow>\n    ws ! i\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n", "unfolding set_conv_nth"], ["proof (prove)\nusing this:\n  {ws ! i |i. i < length ws}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  {ws ! i |i. i < length ws} \\<subseteq> carrier_vec n\n  Suc (length ws) = n\n  {ws ! i |i. i < length ws}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. i < length ws \\<Longrightarrow>\n    ws ! i\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  ?i3 < length ws \\<Longrightarrow>\n  ws ! ?i3\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have ints: \"i < ?n \\<Longrightarrow> j < n \\<Longrightarrow> ws ! i $ j \\<in> \\<int>\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < length ws; j < n\\<rbrakk>\n    \\<Longrightarrow> ws ! i $ j \\<in> \\<int>", "using wsI[of i, unfolded Ints_vec_def]"], ["proof (prove)\nusing this:\n  i < length ws \\<Longrightarrow>\n  ws ! i\n  \\<in> {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>} \\<inter>\n        Bounded_vec Bnd \\<inter>\n        carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < length ws; j < n\\<rbrakk>\n    \\<Longrightarrow> ws ! i $ j \\<in> \\<int>", "by force"], ["proof (state)\nthis:\n  \\<lbrakk>?i3 < length ws; ?j3 < n\\<rbrakk>\n  \\<Longrightarrow> ws ! ?i3 $ ?j3 \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have bnd: \"i < ?n \\<Longrightarrow> j < n \\<Longrightarrow> abs (ws ! i $ j) \\<le> Bnd\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < length ws; j < n\\<rbrakk>\n    \\<Longrightarrow> \\<bar>ws ! i $ j\\<bar> \\<le> Bnd", "using wsI[unfolded Bounded_vec_def, of i]"], ["proof (prove)\nusing this:\n  i < length ws \\<Longrightarrow>\n  ws ! i\n  \\<in> \\<int>\\<^sub>v \\<inter>\n        {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> Bnd} \\<inter>\n        carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < length ws; j < n\\<rbrakk>\n    \\<Longrightarrow> \\<bar>ws ! i $ j\\<bar> \\<le> Bnd", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?i3 < length ws; ?j3 < n\\<rbrakk>\n  \\<Longrightarrow> \\<bar>ws ! ?i3 $ ?j3\\<bar> \\<le> Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?i3 < length ws; ?j3 < n\\<rbrakk>\n  \\<Longrightarrow> \\<bar>ws ! ?i3 $ ?j3\\<bar> \\<le> Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "assume i: \"i < n\""], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have ints: \"nv $ i \\<in> \\<int>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nv $ i \\<in> \\<int>", "unfolding nv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j)) $ i\n    \\<in> \\<int>", "using wsI len ws"], ["proof (prove)\nusing this:\n  ?i3 < length ws \\<Longrightarrow>\n  ws ! ?i3\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n\n  Suc (length ws) = n\n  set ws \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j)) $ i\n    \\<in> \\<int>", "by (auto simp: i B_def set_conv_nth intro!: Ints_mult Ints_det ints)"], ["proof (state)\nthis:\n  nv $ i \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "have \"\\<bar>nv $ i\\<bar> \\<le> det_bound (n - 1) Bnd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>nv $ i\\<bar> \\<le> det_bound (n - 1) Bnd", "unfolding nv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j)) $\n          i\\<bar>\n    \\<le> det_bound (n - 1) Bnd", "using wsI len ws i"], ["proof (prove)\nusing this:\n  ?i3 < length ws \\<Longrightarrow>\n  ws ! ?i3\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<inter> carrier_vec n\n  Suc (length ws) = n\n  set ws \\<subseteq> carrier_vec n\n  i < n\n\ngoal (1 subgoal):\n 1. \\<bar>vec n (\\<lambda>j. (- (1::'a)) ^ (length ws + j) * det (B j)) $\n          i\\<bar>\n    \\<le> det_bound (n - 1) Bnd", "by (auto simp: B_def Bounded_mat_def abs_mult intro!: det_bound bnd)"], ["proof (state)\nthis:\n  \\<bar>nv $ i\\<bar> \\<le> det_bound (n - 1) Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "note ints this"], ["proof (state)\nthis:\n  nv $ i \\<in> \\<int>\n  \\<bar>nv $ i\\<bar> \\<le> det_bound (n - 1) Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "}"], ["proof (state)\nthis:\n  ?i5 < n \\<Longrightarrow> nv $ ?i5 \\<in> \\<int>\n  ?i5 < n \\<Longrightarrow> \\<bar>nv $ ?i5\\<bar> \\<le> det_bound (n - 1) Bnd\n\ngoal (1 subgoal):\n 1. W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "with nv nv2"], ["proof (chain)\npicking this:\n  normal_vector W \\<in> carrier_vec n\n  normal_vector W = nv\n  ?i5 < n \\<Longrightarrow> nv $ ?i5 \\<in> \\<int>\n  ?i5 < n \\<Longrightarrow> \\<bar>nv $ ?i5\\<bar> \\<le> det_bound (n - 1) Bnd", "show \"?nv \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\""], ["proof (prove)\nusing this:\n  normal_vector W \\<in> carrier_vec n\n  normal_vector W = nv\n  ?i5 < n \\<Longrightarrow> nv $ ?i5 \\<in> \\<int>\n  ?i5 < n \\<Longrightarrow> \\<bar>nv $ ?i5\\<bar> \\<le> det_bound (n - 1) Bnd\n\ngoal (1 subgoal):\n 1. normal_vector W\n    \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)", "unfolding Ints_vec_def Bounded_vec_def"], ["proof (prove)\nusing this:\n  normal_vector W \\<in> carrier_vec n\n  normal_vector W = nv\n  ?i5 < n \\<Longrightarrow> nv $ ?i5 \\<in> \\<int>\n  ?i5 < n \\<Longrightarrow> \\<bar>nv $ ?i5\\<bar> \\<le> det_bound (n - 1) Bnd\n\ngoal (1 subgoal):\n 1. normal_vector W\n    \\<in> {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>} \\<inter>\n          {x. \\<forall>i<dim_vec x.\n                 \\<bar>x $ i\\<bar> \\<le> det_bound (n - 1) Bnd}", "by auto"], ["proof (state)\nthis:\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  normal_vector W\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) Bnd)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma normal_vector_span:\n  assumes card: \"Suc (card D) = n\"\n    and D: \"D \\<subseteq> carrier_vec n\" and fin: \"finite D\" and lin: \"lin_indpt D\"\n  shows \"span D = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> normal_vector D = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "note nv = normal_vector[OF fin card lin D]"], ["proof (state)\nthis:\n  normal_vector D \\<in> carrier_vec n\n  normal_vector D \\<noteq> 0\\<^sub>v n\n  ?w \\<in> D \\<Longrightarrow> ?w \\<bullet> normal_vector D = (0::'a)\n  ?w \\<in> D \\<Longrightarrow> normal_vector D \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector D) D)\n  normal_vector D \\<notin> D\n  D \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vector D\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "{"], ["proof (state)\nthis:\n  normal_vector D \\<in> carrier_vec n\n  normal_vector D \\<noteq> 0\\<^sub>v n\n  ?w \\<in> D \\<Longrightarrow> ?w \\<bullet> normal_vector D = (0::'a)\n  ?w \\<in> D \\<Longrightarrow> normal_vector D \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector D) D)\n  normal_vector D \\<notin> D\n  D \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vector D\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "assume xspan: \"x \\<in> span D\""], ["proof (state)\nthis:\n  x \\<in> local.span D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "from finite_in_span[OF fin D xspan]"], ["proof (chain)\npicking this:\n  \\<exists>a. True \\<and> lincomb a D = x", "obtain c where\n      \"x \\<bullet> normal_vector D = lincomb c D \\<bullet> normal_vector D\""], ["proof (prove)\nusing this:\n  \\<exists>a. True \\<and> lincomb a D = x\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        x \\<bullet> normal_vector D =\n        lincomb c D \\<bullet> normal_vector D \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<bullet> normal_vector D = lincomb c D \\<bullet> normal_vector D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  x \\<bullet> normal_vector D = lincomb c D \\<bullet> normal_vector D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"\\<dots> = (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c D \\<bullet> normal_vector D =\n    (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D))", "by (rule lincomb_scalar_prod_left, insert D nv, auto)"], ["proof (state)\nthis:\n  lincomb c D \\<bullet> normal_vector D =\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D))\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  lincomb c D \\<bullet> normal_vector D =\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D))\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"\\<dots> = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) = (0::'a)", "apply (rule sum.neutral)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>D. c x * (x \\<bullet> normal_vector D) = (0::'a)", "using nv(1,2,3) D comm_scalar_prod[of \"normal_vector D\"]"], ["proof (prove)\nusing this:\n  normal_vector D \\<in> carrier_vec n\n  normal_vector D \\<noteq> 0\\<^sub>v n\n  ?w \\<in> D \\<Longrightarrow> ?w \\<bullet> normal_vector D = (0::'a)\n  D \\<subseteq> carrier_vec n\n  \\<lbrakk>normal_vector D \\<in> carrier_vec ?n;\n   ?v\\<^sub>2 \\<in> carrier_vec ?n\\<rbrakk>\n  \\<Longrightarrow> normal_vector D \\<bullet> ?v\\<^sub>2 =\n                    ?v\\<^sub>2 \\<bullet> normal_vector D\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>D. c x * (x \\<bullet> normal_vector D) = (0::'a)", "by fastforce"], ["proof (state)\nthis:\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "finally"], ["proof (chain)\npicking this:\n  x \\<bullet> normal_vector D = (0::'a)", "have \"x \\<in> carrier_vec n\"  \"x \\<bullet> normal_vector D = 0\""], ["proof (prove)\nusing this:\n  x \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n &&& x \\<bullet> normal_vector D = (0::'a)", "using xspan D"], ["proof (prove)\nusing this:\n  x \\<bullet> normal_vector D = (0::'a)\n  x \\<in> local.span D\n  D \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n &&& x \\<bullet> normal_vector D = (0::'a)", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n  x \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "}"], ["proof (state)\nthis:\n  ?x5 \\<in> local.span D \\<Longrightarrow> ?x5 \\<in> carrier_vec n\n  ?x5 \\<in> local.span D \\<Longrightarrow>\n  ?x5 \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "moreover"], ["proof (state)\nthis:\n  ?x5 \\<in> local.span D \\<Longrightarrow> ?x5 \\<in> carrier_vec n\n  ?x5 \\<in> local.span D \\<Longrightarrow>\n  ?x5 \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "{"], ["proof (state)\nthis:\n  ?x5 \\<in> local.span D \\<Longrightarrow> ?x5 \\<in> carrier_vec n\n  ?x5 \\<in> local.span D \\<Longrightarrow>\n  ?x5 \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "let ?n = \"normal_vector D\""], ["proof (state)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "assume x: \"x \\<in> carrier_vec n\" and xscal: \"x \\<bullet> normal_vector D = 0\""], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n  x \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "let ?B = \"(insert (normal_vector D) D)\""], ["proof (state)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"card ?B = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (insert (normal_vector D) D) = n", "using card card_insert_disjoint[OF fin nv(6)]"], ["proof (prove)\nusing this:\n  Suc (card D) = n\n  card (insert (normal_vector D) D) = Suc (card D)\n\ngoal (1 subgoal):\n 1. card (insert (normal_vector D) D) = n", "by auto"], ["proof (state)\nthis:\n  card (insert (normal_vector D) D) = n\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "moreover"], ["proof (state)\nthis:\n  card (insert (normal_vector D) D) = n\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have B: \"?B \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (normal_vector D) D \\<subseteq> carrier_vec n", "using D nv"], ["proof (prove)\nusing this:\n  D \\<subseteq> carrier_vec n\n  normal_vector D \\<in> carrier_vec n\n  normal_vector D \\<noteq> 0\\<^sub>v n\n  ?w \\<in> D \\<Longrightarrow> ?w \\<bullet> normal_vector D = (0::'a)\n  ?w \\<in> D \\<Longrightarrow> normal_vector D \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector D) D)\n  normal_vector D \\<notin> D\n  D \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vector D\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (1 subgoal):\n 1. insert (normal_vector D) D \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  insert (normal_vector D) D \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "ultimately"], ["proof (chain)\npicking this:\n  card (insert (normal_vector D) D) = n\n  insert (normal_vector D) D \\<subseteq> carrier_vec n", "have \"span ?B = carrier_vec n\""], ["proof (prove)\nusing this:\n  card (insert (normal_vector D) D) = n\n  insert (normal_vector D) D \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span (insert (normal_vector D) D) = carrier_vec n", "by (intro span_carrier_lin_indpt_card_n, insert nv(5), auto)"], ["proof (state)\nthis:\n  local.span (insert (normal_vector D) D) = carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "hence xspan: \"x \\<in> span ?B\""], ["proof (prove)\nusing this:\n  local.span (insert (normal_vector D) D) = carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> local.span (insert (normal_vector D) D)", "using x"], ["proof (prove)\nusing this:\n  local.span (insert (normal_vector D) D) = carrier_vec n\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. x \\<in> local.span (insert (normal_vector D) D)", "by auto"], ["proof (state)\nthis:\n  x \\<in> local.span (insert (normal_vector D) D)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "obtain c where \"x = lincomb c ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        x = lincomb c (insert (normal_vector D) D) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using finite_in_span[OF _ B xspan] fin"], ["proof (prove)\nusing this:\n  finite (insert (normal_vector D) D) \\<Longrightarrow>\n  \\<exists>a. True \\<and> lincomb a (insert (normal_vector D) D) = x\n  finite D\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        x = lincomb c (insert (normal_vector D) D) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x = lincomb c (insert (normal_vector D) D)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "hence \"0 = lincomb c ?B \\<bullet> normal_vector D\""], ["proof (prove)\nusing this:\n  x = lincomb c (insert (normal_vector D) D)\n\ngoal (1 subgoal):\n 1. (0::'a) =\n    lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D", "using xscal"], ["proof (prove)\nusing this:\n  x = lincomb c (insert (normal_vector D) D)\n  x \\<bullet> normal_vector D = (0::'a)\n\ngoal (1 subgoal):\n 1. (0::'a) =\n    lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D", "by auto"], ["proof (state)\nthis:\n  (0::'a) = lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  (0::'a) = lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"\\<dots> = (\\<Sum>w\\<in> ?B. c w * (w \\<bullet> normal_vector D))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D =\n    (\\<Sum>w\\<in>insert (normal_vector D) D.\n       c w * (w \\<bullet> normal_vector D))", "by (subst lincomb_scalar_prod_left, insert B, auto)"], ["proof (state)\nthis:\n  lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D =\n  (\\<Sum>w\\<in>insert (normal_vector D) D.\n     c w * (w \\<bullet> normal_vector D))\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  lincomb c (insert (normal_vector D) D) \\<bullet> normal_vector D =\n  (\\<Sum>w\\<in>insert (normal_vector D) D.\n     c w * (w \\<bullet> normal_vector D))\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"\\<dots> = (\\<Sum>w\\<in> D. c w * (w \\<bullet> normal_vector D)) + c ?n * (?n \\<bullet> ?n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>w\\<in>insert (normal_vector D) D.\n       c w * (w \\<bullet> normal_vector D)) =\n    (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) +\n    c (normal_vector D) * (normal_vector D \\<bullet> normal_vector D)", "by (subst sum.insert[OF fin nv(6)], auto)"], ["proof (state)\nthis:\n  (\\<Sum>w\\<in>insert (normal_vector D) D.\n     c w * (w \\<bullet> normal_vector D)) =\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) +\n  c (normal_vector D) * (normal_vector D \\<bullet> normal_vector D)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  (\\<Sum>w\\<in>insert (normal_vector D) D.\n     c w * (w \\<bullet> normal_vector D)) =\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) +\n  c (normal_vector D) * (normal_vector D \\<bullet> normal_vector D)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"(\\<Sum>w\\<in> D. c w * (w \\<bullet> normal_vector D)) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) = (0::'a)", "apply(rule sum.neutral)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>D. c x * (x \\<bullet> normal_vector D) = (0::'a)", "using nv(1,3) comm_scalar_prod[OF nv(1)] D"], ["proof (prove)\nusing this:\n  normal_vector D \\<in> carrier_vec n\n  ?w \\<in> D \\<Longrightarrow> ?w \\<bullet> normal_vector D = (0::'a)\n  ?v\\<^sub>2 \\<in> carrier_vec n \\<Longrightarrow>\n  normal_vector D \\<bullet> ?v\\<^sub>2 =\n  ?v\\<^sub>2 \\<bullet> normal_vector D\n  D \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>D. c x * (x \\<bullet> normal_vector D) = (0::'a)", "by fastforce"], ["proof (state)\nthis:\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  (\\<Sum>w\\<in>D. c w * (w \\<bullet> normal_vector D)) = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"?n \\<bullet> ?n = sq_norm ?n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. normal_vector D \\<bullet> normal_vector D =\n    \\<parallel>normal_vector D\\<parallel>\\<^sup>2", "using sq_norm_vec_as_cscalar_prod[of ?n]"], ["proof (prove)\nusing this:\n  \\<parallel>normal_vector D\\<parallel>\\<^sup>2 =\n  normal_vector D \\<bullet>c normal_vector D\n\ngoal (1 subgoal):\n 1. normal_vector D \\<bullet> normal_vector D =\n    \\<parallel>normal_vector D\\<parallel>\\<^sup>2", "by simp"], ["proof (state)\nthis:\n  normal_vector D \\<bullet> normal_vector D =\n  \\<parallel>normal_vector D\\<parallel>\\<^sup>2\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "finally"], ["proof (chain)\npicking this:\n  (0::'a) =\n  (0::'a) +\n  c (normal_vector D) * \\<parallel>normal_vector D\\<parallel>\\<^sup>2", "have \"c ?n * sq_norm ?n = 0\""], ["proof (prove)\nusing this:\n  (0::'a) =\n  (0::'a) +\n  c (normal_vector D) * \\<parallel>normal_vector D\\<parallel>\\<^sup>2\n\ngoal (1 subgoal):\n 1. c (normal_vector D) * \\<parallel>normal_vector D\\<parallel>\\<^sup>2 =\n    (0::'a)", "by simp"], ["proof (state)\nthis:\n  c (normal_vector D) * \\<parallel>normal_vector D\\<parallel>\\<^sup>2 =\n  (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "hence ncoord: \"c ?n = 0\""], ["proof (prove)\nusing this:\n  c (normal_vector D) * \\<parallel>normal_vector D\\<parallel>\\<^sup>2 =\n  (0::'a)\n\ngoal (1 subgoal):\n 1. c (normal_vector D) = (0::'a)", "using nv(1-5)"], ["proof (prove)\nusing this:\n  c (normal_vector D) * \\<parallel>normal_vector D\\<parallel>\\<^sup>2 =\n  (0::'a)\n  normal_vector D \\<in> carrier_vec n\n  normal_vector D \\<noteq> 0\\<^sub>v n\n  ?w \\<in> D \\<Longrightarrow> ?w \\<bullet> normal_vector D = (0::'a)\n  ?w \\<in> D \\<Longrightarrow> normal_vector D \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vector D) D)\n\ngoal (1 subgoal):\n 1. c (normal_vector D) = (0::'a)", "by auto"], ["proof (state)\nthis:\n  c (normal_vector D) = (0::'a)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"x = lincomb c ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = lincomb c (insert (normal_vector D) D)", "by fact"], ["proof (state)\nthis:\n  x = lincomb c (insert (normal_vector D) D)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "also"], ["proof (state)\nthis:\n  x = lincomb c (insert (normal_vector D) D)\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "have \"\\<dots> = lincomb c D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (insert (normal_vector D) D) = lincomb c D", "apply (subst lincomb_insert2[OF fin D _ nv(6,1)])"], ["proof (prove)\ngoal (2 subgoals):\n 1. c \\<in> insert (normal_vector D) D \\<rightarrow> UNIV\n 2. c (normal_vector D) \\<cdot>\\<^sub>v normal_vector D + lincomb c D =\n    lincomb c D", "using ncoord nv(1) D"], ["proof (prove)\nusing this:\n  c (normal_vector D) = (0::'a)\n  normal_vector D \\<in> carrier_vec n\n  D \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. c \\<in> insert (normal_vector D) D \\<rightarrow> UNIV\n 2. c (normal_vector D) \\<cdot>\\<^sub>v normal_vector D + lincomb c D =\n    lincomb c D", "by auto"], ["proof (state)\nthis:\n  lincomb c (insert (normal_vector D) D) = lincomb c D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "finally"], ["proof (chain)\npicking this:\n  x = lincomb c D", "have \"x \\<in> span D\""], ["proof (prove)\nusing this:\n  x = lincomb c D\n\ngoal (1 subgoal):\n 1. x \\<in> local.span D", "using fin"], ["proof (prove)\nusing this:\n  x = lincomb c D\n  finite D\n\ngoal (1 subgoal):\n 1. x \\<in> local.span D", "by auto"], ["proof (state)\nthis:\n  x \\<in> local.span D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x5 \\<in> carrier_vec n;\n   ?x5 \\<bullet> normal_vector D = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> ?x5 \\<in> local.span D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "ultimately"], ["proof (chain)\npicking this:\n  ?x5 \\<in> local.span D \\<Longrightarrow> ?x5 \\<in> carrier_vec n\n  ?x5 \\<in> local.span D \\<Longrightarrow>\n  ?x5 \\<bullet> normal_vector D = (0::'a)\n  \\<lbrakk>?x5 \\<in> carrier_vec n;\n   ?x5 \\<bullet> normal_vector D = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> ?x5 \\<in> local.span D", "show ?thesis"], ["proof (prove)\nusing this:\n  ?x5 \\<in> local.span D \\<Longrightarrow> ?x5 \\<in> carrier_vec n\n  ?x5 \\<in> local.span D \\<Longrightarrow>\n  ?x5 \\<bullet> normal_vector D = (0::'a)\n  \\<lbrakk>?x5 \\<in> carrier_vec n;\n   ?x5 \\<bullet> normal_vector D = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> ?x5 \\<in> local.span D\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "by auto"], ["proof (state)\nthis:\n  local.span D =\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}\n\ngoal:\nNo subgoals!", "qed"], ["", "definition normal_vectors :: \"'a vec list \\<Rightarrow> 'a vec list\" where\n  \"normal_vectors ws = (let us = basis_extension ws\n    in map (\\<lambda> i. normal_vector (set (ws @ us) - {us ! i})) [0..<length us])\""], ["", "lemma normal_vectors:\n  assumes lin: \"lin_indpt_list ws\"\n  shows \"set (normal_vectors ws) \\<subseteq> carrier_vec n\"\n    \"w \\<in> set ws \\<Longrightarrow> nv \\<in> set (normal_vectors ws) \\<Longrightarrow> nv \\<bullet> w = 0\"\n    \"w \\<in> set ws \\<Longrightarrow> nv \\<in> set (normal_vectors ws) \\<Longrightarrow> w \\<bullet> nv = 0\"\n    \"lin_indpt_list (ws @ normal_vectors ws)\"\n    \"length ws + length (normal_vectors ws) = n\"\n    \"set ws \\<inter> set (normal_vectors ws) = {}\"\n    \"set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n       set (normal_vectors ws) \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n-1) (max 1 Bnd))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (set (normal_vectors ws) \\<subseteq> carrier_vec n &&&\n     (\\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n      \\<Longrightarrow> nv \\<bullet> w = (0::'a)) &&&\n     (\\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n      \\<Longrightarrow> w \\<bullet> nv = (0::'a))) &&&\n    (lin_indpt_list (ws @ normal_vectors ws) &&&\n     length ws + length (normal_vectors ws) = n) &&&\n    set ws \\<inter> set (normal_vectors ws) = {} &&&\n    (set ws\n     \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n     set (normal_vectors ws)\n     \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                 Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd)))", "proof -"], ["proof (state)\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "define us where \"us = basis_extension ws\""], ["proof (state)\nthis:\n  us = basis_extension ws\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from basis_extension[OF assms, folded us_def]"], ["proof (chain)\npicking this:\n  set us \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (ws @ us)\n  length (ws @ us) = n", "have units: \"set us \\<subseteq> set (unit_vecs n)\"\n    and lin: \"lin_indpt_list (ws @ us)\"\n    and len: \"length (ws @ us) = n\""], ["proof (prove)\nusing this:\n  set us \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (ws @ us)\n  length (ws @ us) = n\n\ngoal (1 subgoal):\n 1. set us \\<subseteq> set (unit_vecs n) &&&\n    lin_indpt_list (ws @ us) &&& length (ws @ us) = n", "by auto"], ["proof (state)\nthis:\n  set us \\<subseteq> set (unit_vecs n)\n  lin_indpt_list (ws @ us)\n  length (ws @ us) = n\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from lin_indpt_list_length_eq_n[OF lin len]"], ["proof (chain)\npicking this:\n  local.span (set (ws @ us)) = carrier_vec n\n  basis (set (ws @ us))", "have span: \"span (set (ws @ us)) = carrier_vec n\""], ["proof (prove)\nusing this:\n  local.span (set (ws @ us)) = carrier_vec n\n  basis (set (ws @ us))\n\ngoal (1 subgoal):\n 1. local.span (set (ws @ us)) = carrier_vec n", "by auto"], ["proof (state)\nthis:\n  local.span (set (ws @ us)) = carrier_vec n\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from lin[unfolded lin_indpt_list_def]"], ["proof (chain)\npicking this:\n  set (ws @ us) \\<subseteq> carrier_vec n \\<and>\n  distinct (ws @ us) \\<and> lin_indpt (set (ws @ us))", "have wsus: \"set (ws @ us) \\<subseteq> carrier_vec n\"\n    and dist: \"distinct (ws @ us)\"\n    and lin': \"lin_indpt (set (ws @ us))\""], ["proof (prove)\nusing this:\n  set (ws @ us) \\<subseteq> carrier_vec n \\<and>\n  distinct (ws @ us) \\<and> lin_indpt (set (ws @ us))\n\ngoal (1 subgoal):\n 1. set (ws @ us) \\<subseteq> carrier_vec n &&&\n    distinct (ws @ us) &&& lin_indpt (set (ws @ us))", "by auto"], ["proof (state)\nthis:\n  set (ws @ us) \\<subseteq> carrier_vec n\n  distinct (ws @ us)\n  lin_indpt (set (ws @ us))\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "let ?nv = \"normal_vectors ws\""], ["proof (state)\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "note nv_def = normal_vectors_def[of ws, unfolded Let_def, folded us_def]"], ["proof (state)\nthis:\n  normal_vectors ws =\n  map (\\<lambda>i. normal_vector (set (ws @ us) - {us ! i})) [0..<length us]\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "let ?m = \"length ws\""], ["proof (state)\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "let ?n = \"length us\""], ["proof (state)\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have lnv[simp]: \"length ?nv = length us\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (normal_vectors ws) = length us", "unfolding nv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. length\n     (map (\\<lambda>i. normal_vector (set (ws @ us) - {us ! i}))\n       [0..<length us]) =\n    length us", "by auto"], ["proof (state)\nthis:\n  length (normal_vectors ws) = length us\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "{"], ["proof (state)\nthis:\n  length (normal_vectors ws) = length us\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "fix i"], ["proof (state)\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "let ?V = \"set (ws @ us) - {us ! i}\""], ["proof (state)\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "assume i: \"i < ?n\""], ["proof (state)\nthis:\n  i < length us\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "hence nvi: \"?nv ! i = normal_vector ?V\""], ["proof (prove)\nusing this:\n  i < length us\n\ngoal (1 subgoal):\n 1. normal_vectors ws ! i = normal_vector (set (ws @ us) - {us ! i})", "unfolding nv_def"], ["proof (prove)\nusing this:\n  i < length us\n\ngoal (1 subgoal):\n 1. map (\\<lambda>i. normal_vector (set (ws @ us) - {us ! i}))\n     [0..<length us] !\n    i =\n    normal_vector (set (ws @ us) - {us ! i})", "by auto"], ["proof (state)\nthis:\n  normal_vectors ws ! i = normal_vector (set (ws @ us) - {us ! i})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from i"], ["proof (chain)\npicking this:\n  i < length us", "have \"us ! i \\<in> set us\""], ["proof (prove)\nusing this:\n  i < length us\n\ngoal (1 subgoal):\n 1. us ! i \\<in> set us", "by auto"], ["proof (state)\nthis:\n  us ! i \\<in> set us\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "with wsus"], ["proof (chain)\npicking this:\n  set (ws @ us) \\<subseteq> carrier_vec n\n  us ! i \\<in> set us", "have u: \"us ! i \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  set (ws @ us) \\<subseteq> carrier_vec n\n  us ! i \\<in> set us\n\ngoal (1 subgoal):\n 1. us ! i \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  us ! i \\<in> carrier_vec n\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have id: \"?V \\<union> {us ! i} = set (ws @ us)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (ws @ us) - {us ! i} \\<union> {us ! i} = set (ws @ us)", "using i"], ["proof (prove)\nusing this:\n  i < length us\n\ngoal (1 subgoal):\n 1. set (ws @ us) - {us ! i} \\<union> {us ! i} = set (ws @ us)", "by auto"], ["proof (state)\nthis:\n  set (ws @ us) - {us ! i} \\<union> {us ! i} = set (ws @ us)\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have V: \"?V \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (ws @ us) - {us ! i} \\<subseteq> carrier_vec n", "using wsus"], ["proof (prove)\nusing this:\n  set (ws @ us) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set (ws @ us) - {us ! i} \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set (ws @ us) - {us ! i} \\<subseteq> carrier_vec n\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have finV: \"finite ?V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (set (ws @ us) - {us ! i})", "by auto"], ["proof (state)\nthis:\n  finite (set (ws @ us) - {us ! i})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have \"Suc (card ?V) = card (insert (us ! i) ?V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Suc (card (set (ws @ us) - {us ! i})) =\n    card (insert (us ! i) (set (ws @ us) - {us ! i}))", "by (subst card_insert_disjoint[OF finV], auto)"], ["proof (state)\nthis:\n  Suc (card (set (ws @ us) - {us ! i})) =\n  card (insert (us ! i) (set (ws @ us) - {us ! i}))\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "also"], ["proof (state)\nthis:\n  Suc (card (set (ws @ us) - {us ! i})) =\n  card (insert (us ! i) (set (ws @ us) - {us ! i}))\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "have \"insert (us ! i) ?V = set (ws @ us)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (us ! i) (set (ws @ us) - {us ! i}) = set (ws @ us)", "using i"], ["proof (prove)\nusing this:\n  i < length us\n\ngoal (1 subgoal):\n 1. insert (us ! i) (set (ws @ us) - {us ! i}) = set (ws @ us)", "by auto"], ["proof (state)\nthis:\n  insert (us ! i) (set (ws @ us) - {us ! i}) = set (ws @ us)\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "finally"], ["proof (chain)\npicking this:\n  Suc (card (set (ws @ us) - {us ! i})) = card (set (ws @ us))", "have cardV: \"Suc (card ?V) = n\""], ["proof (prove)\nusing this:\n  Suc (card (set (ws @ us) - {us ! i})) = card (set (ws @ us))\n\ngoal (1 subgoal):\n 1. Suc (card (set (ws @ us) - {us ! i})) = n", "using len distinct_card[OF dist]"], ["proof (prove)\nusing this:\n  Suc (card (set (ws @ us) - {us ! i})) = card (set (ws @ us))\n  length (ws @ us) = n\n  card (set (ws @ us)) = length (ws @ us)\n\ngoal (1 subgoal):\n 1. Suc (card (set (ws @ us) - {us ! i})) = n", "by auto"], ["proof (state)\nthis:\n  Suc (card (set (ws @ us) - {us ! i})) = n\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from subset_li_is_li[OF lin']"], ["proof (chain)\npicking this:\n  ?B \\<subseteq> set (ws @ us) \\<Longrightarrow> lin_indpt ?B", "have linV: \"lin_indpt ?V\""], ["proof (prove)\nusing this:\n  ?B \\<subseteq> set (ws @ us) \\<Longrightarrow> lin_indpt ?B\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ us) - {us ! i})", "by auto"], ["proof (state)\nthis:\n  lin_indpt (set (ws @ us) - {us ! i})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from lin_dep_iff_in_span[OF _ linV u, unfolded id] wsus lin'"], ["proof (chain)\npicking this:\n  \\<lbrakk>set (ws @ us) - {us ! i} \\<subseteq> carrier_vec n;\n   us ! i \\<notin> set (ws @ us) - {us ! i}\\<rbrakk>\n  \\<Longrightarrow> (us ! i \\<in> local.span (set (ws @ us) - {us ! i})) =\n                    lin_dep (set (ws @ us))\n  set (ws @ us) \\<subseteq> carrier_vec n\n  lin_indpt (set (ws @ us))", "have usV: \"us ! i \\<notin> span ?V\""], ["proof (prove)\nusing this:\n  \\<lbrakk>set (ws @ us) - {us ! i} \\<subseteq> carrier_vec n;\n   us ! i \\<notin> set (ws @ us) - {us ! i}\\<rbrakk>\n  \\<Longrightarrow> (us ! i \\<in> local.span (set (ws @ us) - {us ! i})) =\n                    lin_dep (set (ws @ us))\n  set (ws @ us) \\<subseteq> carrier_vec n\n  lin_indpt (set (ws @ us))\n\ngoal (1 subgoal):\n 1. us ! i \\<notin> local.span (set (ws @ us) - {us ! i})", "by auto"], ["proof (state)\nthis:\n  us ! i \\<notin> local.span (set (ws @ us) - {us ! i})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "note nv = normal_vector[OF finV cardV linV V, folded nvi]"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<in> carrier_vec n\n  normal_vectors ws ! i \\<noteq> 0\\<^sub>v n\n  ?w \\<in> set (ws @ us) - {us ! i} \\<Longrightarrow>\n  ?w \\<bullet> normal_vectors ws ! i = (0::'a)\n  ?w \\<in> set (ws @ us) - {us ! i} \\<Longrightarrow>\n  normal_vectors ws ! i \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vectors ws ! i) (set (ws @ us) - {us ! i}))\n  normal_vectors ws ! i \\<notin> set (ws @ us) - {us ! i}\n  set (ws @ us) - {us ! i}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vectors ws ! i\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from normal_vector_span[OF cardV V _ linV, folded nvi] comm_scalar_prod[OF _ nv(1)]"], ["proof (chain)\npicking this:\n  finite (set (ws @ us) - {us ! i}) \\<Longrightarrow>\n  local.span (set (ws @ us) - {us ! i}) =\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vectors ws ! i = (0::'a)}\n  ?v\\<^sub>1 \\<in> carrier_vec n \\<Longrightarrow>\n  ?v\\<^sub>1 \\<bullet> normal_vectors ws ! i =\n  normal_vectors ws ! i \\<bullet> ?v\\<^sub>1", "have span: \"span ?V = {x \\<in> carrier_vec n. ?nv ! i \\<bullet> x = 0}\""], ["proof (prove)\nusing this:\n  finite (set (ws @ us) - {us ! i}) \\<Longrightarrow>\n  local.span (set (ws @ us) - {us ! i}) =\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vectors ws ! i = (0::'a)}\n  ?v\\<^sub>1 \\<in> carrier_vec n \\<Longrightarrow>\n  ?v\\<^sub>1 \\<bullet> normal_vectors ws ! i =\n  normal_vectors ws ! i \\<bullet> ?v\\<^sub>1\n\ngoal (1 subgoal):\n 1. local.span (set (ws @ us) - {us ! i}) =\n    {x \\<in> carrier_vec n. normal_vectors ws ! i \\<bullet> x = (0::'a)}", "by auto"], ["proof (state)\nthis:\n  local.span (set (ws @ us) - {us ! i}) =\n  {x \\<in> carrier_vec n. normal_vectors ws ! i \\<bullet> x = (0::'a)}\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from nv(1,2)"], ["proof (chain)\npicking this:\n  normal_vectors ws ! i \\<in> carrier_vec n\n  normal_vectors ws ! i \\<noteq> 0\\<^sub>v n", "have \"sq_norm (?nv ! i) \\<noteq> 0\""], ["proof (prove)\nusing this:\n  normal_vectors ws ! i \\<in> carrier_vec n\n  normal_vectors ws ! i \\<noteq> 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. \\<parallel>normal_vectors ws ! i\\<parallel>\\<^sup>2 \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  \\<parallel>normal_vectors ws ! i\\<parallel>\\<^sup>2 \\<noteq> (0::'a)\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "hence nvi: \"?nv ! i \\<bullet> ?nv ! i \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<parallel>normal_vectors ws ! i\\<parallel>\\<^sup>2 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vectors ws ! i \\<bullet> normal_vectors ws ! i \\<noteq> (0::'a)", "by (auto simp: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<bullet> normal_vectors ws ! i \\<noteq> (0::'a)\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from span nvi"], ["proof (chain)\npicking this:\n  local.span (set (ws @ us) - {us ! i}) =\n  {x \\<in> carrier_vec n. normal_vectors ws ! i \\<bullet> x = (0::'a)}\n  normal_vectors ws ! i \\<bullet> normal_vectors ws ! i \\<noteq> (0::'a)", "have nvspan: \"?nv ! i \\<notin> span ?V\""], ["proof (prove)\nusing this:\n  local.span (set (ws @ us) - {us ! i}) =\n  {x \\<in> carrier_vec n. normal_vectors ws ! i \\<bullet> x = (0::'a)}\n  normal_vectors ws ! i \\<bullet> normal_vectors ws ! i \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vectors ws ! i \\<notin> local.span (set (ws @ us) - {us ! i})", "by auto"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<notin> local.span (set (ws @ us) - {us ! i})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from u usV[unfolded span]"], ["proof (chain)\npicking this:\n  us ! i \\<in> carrier_vec n\n  us ! i\n  \\<notin> {x \\<in> carrier_vec n.\n            normal_vectors ws ! i \\<bullet> x = (0::'a)}", "have \"?nv ! i \\<bullet> us ! i \\<noteq> 0\""], ["proof (prove)\nusing this:\n  us ! i \\<in> carrier_vec n\n  us ! i\n  \\<notin> {x \\<in> carrier_vec n.\n            normal_vectors ws ! i \\<bullet> x = (0::'a)}\n\ngoal (1 subgoal):\n 1. normal_vectors ws ! i \\<bullet> us ! i \\<noteq> (0::'a)", "by blast"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<bullet> us ! i \\<noteq> (0::'a)\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "note nv nvi this span usV nvspan"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<in> carrier_vec n\n  normal_vectors ws ! i \\<noteq> 0\\<^sub>v n\n  ?w \\<in> set (ws @ us) - {us ! i} \\<Longrightarrow>\n  ?w \\<bullet> normal_vectors ws ! i = (0::'a)\n  ?w \\<in> set (ws @ us) - {us ! i} \\<Longrightarrow>\n  normal_vectors ws ! i \\<bullet> ?w = (0::'a)\n  lin_indpt (insert (normal_vectors ws ! i) (set (ws @ us) - {us ! i}))\n  normal_vectors ws ! i \\<notin> set (ws @ us) - {us ! i}\n  set (ws @ us) - {us ! i}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd \\<Longrightarrow>\n  normal_vectors ws ! i\n  \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) ?Bnd)\n  normal_vectors ws ! i \\<bullet> normal_vectors ws ! i \\<noteq> (0::'a)\n  normal_vectors ws ! i \\<bullet> us ! i \\<noteq> (0::'a)\n  local.span (set (ws @ us) - {us ! i}) =\n  {x \\<in> carrier_vec n. normal_vectors ws ! i \\<bullet> x = (0::'a)}\n  us ! i \\<notin> local.span (set (ws @ us) - {us ! i})\n  normal_vectors ws ! i \\<notin> local.span (set (ws @ us) - {us ! i})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "}"], ["proof (state)\nthis:\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<in> carrier_vec n\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>?i5 < length us; ?w \\<in> set (ws @ us) - {us ! ?i5}\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> normal_vectors ws ! ?i5 = (0::'a)\n  \\<lbrakk>?i5 < length us; ?w \\<in> set (ws @ us) - {us ! ?i5}\\<rbrakk>\n  \\<Longrightarrow> normal_vectors ws ! ?i5 \\<bullet> ?w = (0::'a)\n  ?i5 < length us \\<Longrightarrow>\n  lin_indpt (insert (normal_vectors ws ! ?i5) (set (ws @ us) - {us ! ?i5}))\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<notin> set (ws @ us) - {us ! ?i5}\n  \\<lbrakk>?i5 < length us;\n   set (ws @ us) - {us ! ?i5}\n   \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vectors ws ! ?i5\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) ?Bnd)\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<bullet> normal_vectors ws ! ?i5 \\<noteq> (0::'a)\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<bullet> us ! ?i5 \\<noteq> (0::'a)\n  ?i5 < length us \\<Longrightarrow>\n  local.span (set (ws @ us) - {us ! ?i5}) =\n  {x \\<in> carrier_vec n. normal_vectors ws ! ?i5 \\<bullet> x = (0::'a)}\n  ?i5 < length us \\<Longrightarrow>\n  us ! ?i5 \\<notin> local.span (set (ws @ us) - {us ! ?i5})\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<notin> local.span (set (ws @ us) - {us ! ?i5})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "note nvi = this"], ["proof (state)\nthis:\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<in> carrier_vec n\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>?i5 < length us; ?w \\<in> set (ws @ us) - {us ! ?i5}\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> normal_vectors ws ! ?i5 = (0::'a)\n  \\<lbrakk>?i5 < length us; ?w \\<in> set (ws @ us) - {us ! ?i5}\\<rbrakk>\n  \\<Longrightarrow> normal_vectors ws ! ?i5 \\<bullet> ?w = (0::'a)\n  ?i5 < length us \\<Longrightarrow>\n  lin_indpt (insert (normal_vectors ws ! ?i5) (set (ws @ us) - {us ! ?i5}))\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<notin> set (ws @ us) - {us ! ?i5}\n  \\<lbrakk>?i5 < length us;\n   set (ws @ us) - {us ! ?i5}\n   \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vectors ws ! ?i5\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) ?Bnd)\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<bullet> normal_vectors ws ! ?i5 \\<noteq> (0::'a)\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<bullet> us ! ?i5 \\<noteq> (0::'a)\n  ?i5 < length us \\<Longrightarrow>\n  local.span (set (ws @ us) - {us ! ?i5}) =\n  {x \\<in> carrier_vec n. normal_vectors ws ! ?i5 \\<bullet> x = (0::'a)}\n  ?i5 < length us \\<Longrightarrow>\n  us ! ?i5 \\<notin> local.span (set (ws @ us) - {us ! ?i5})\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<notin> local.span (set (ws @ us) - {us ! ?i5})\n\ngoal (7 subgoals):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 3. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 4. lin_indpt_list (ws @ normal_vectors ws)\n 5. length ws + length (normal_vectors ws) = n\n 6. set ws \\<inter> set (normal_vectors ws) = {}\n 7. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "show nv: \"set ?nv \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (normal_vectors ws) \\<subseteq> carrier_vec n", "unfolding set_conv_nth"], ["proof (prove)\ngoal (1 subgoal):\n 1. {normal_vectors ws ! i |i. i < length (normal_vectors ws)}\n    \\<subseteq> carrier_vec n", "using nvi(1)"], ["proof (prove)\nusing this:\n  ?i5 < length us \\<Longrightarrow>\n  normal_vectors ws ! ?i5 \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. {normal_vectors ws ! i |i. i < length (normal_vectors ws)}\n    \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (6 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 3. lin_indpt_list (ws @ normal_vectors ws)\n 4. length ws + length (normal_vectors ws) = n\n 5. set ws \\<inter> set (normal_vectors ws) = {}\n 6. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "{"], ["proof (state)\nthis:\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (6 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 3. lin_indpt_list (ws @ normal_vectors ws)\n 4. length ws + length (normal_vectors ws) = n\n 5. set ws \\<inter> set (normal_vectors ws) = {}\n 6. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "fix w nv"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 3. lin_indpt_list (ws @ normal_vectors ws)\n 4. length ws + length (normal_vectors ws) = n\n 5. set ws \\<inter> set (normal_vectors ws) = {}\n 6. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "assume w: \"w \\<in> set ws\""], ["proof (state)\nthis:\n  w \\<in> set ws\n\ngoal (6 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 3. lin_indpt_list (ws @ normal_vectors ws)\n 4. length ws + length (normal_vectors ws) = n\n 5. set ws \\<inter> set (normal_vectors ws) = {}\n 6. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "with dist"], ["proof (chain)\npicking this:\n  distinct (ws @ us)\n  w \\<in> set ws", "have wus: \"w \\<notin> set us\""], ["proof (prove)\nusing this:\n  distinct (ws @ us)\n  w \\<in> set ws\n\ngoal (1 subgoal):\n 1. w \\<notin> set us", "by auto"], ["proof (state)\nthis:\n  w \\<notin> set us\n\ngoal (6 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 3. lin_indpt_list (ws @ normal_vectors ws)\n 4. length ws + length (normal_vectors ws) = n\n 5. set ws \\<inter> set (normal_vectors ws) = {}\n 6. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "assume n: \"nv \\<in> set ?nv\""], ["proof (state)\nthis:\n  nv \\<in> set (normal_vectors ws)\n\ngoal (6 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> nv \\<bullet> w = (0::'a)\n 2. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 3. lin_indpt_list (ws @ normal_vectors ws)\n 4. length ws + length (normal_vectors ws) = n\n 5. set ws \\<inter> set (normal_vectors ws) = {}\n 6. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "with w wus"], ["proof (chain)\npicking this:\n  w \\<in> set ws\n  w \\<notin> set us\n  nv \\<in> set (normal_vectors ws)", "show \"nv \\<bullet> w = 0\""], ["proof (prove)\nusing this:\n  w \\<in> set ws\n  w \\<notin> set us\n  nv \\<in> set (normal_vectors ws)\n\ngoal (1 subgoal):\n 1. nv \\<bullet> w = (0::'a)", "unfolding set_conv_nth[of \"normal_vectors _\"]"], ["proof (prove)\nusing this:\n  w \\<in> set ws\n  w \\<notin> set us\n  nv \\<in> {normal_vectors ws ! i |i. i < length (normal_vectors ws)}\n\ngoal (1 subgoal):\n 1. nv \\<bullet> w = (0::'a)", "by (auto intro!: nvi(4)[of _ w])"], ["proof (state)\nthis:\n  nv \\<bullet> w = (0::'a)\n\ngoal (5 subgoals):\n 1. \\<lbrakk>w \\<in> set ws; nv \\<in> set (normal_vectors ws)\\<rbrakk>\n    \\<Longrightarrow> w \\<bullet> nv = (0::'a)\n 2. lin_indpt_list (ws @ normal_vectors ws)\n 3. length ws + length (normal_vectors ws) = n\n 4. set ws \\<inter> set (normal_vectors ws) = {}\n 5. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "thus \"w \\<bullet> nv = 0\""], ["proof (prove)\nusing this:\n  nv \\<bullet> w = (0::'a)\n\ngoal (1 subgoal):\n 1. w \\<bullet> nv = (0::'a)", "using comm_scalar_prod[of w n nv] w nv n wsus"], ["proof (prove)\nusing this:\n  nv \\<bullet> w = (0::'a)\n  \\<lbrakk>w \\<in> carrier_vec n; nv \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> w \\<bullet> nv = nv \\<bullet> w\n  w \\<in> set ws\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n  nv \\<in> set (normal_vectors ws)\n  set (ws @ us) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. w \\<bullet> nv = (0::'a)", "by auto"], ["proof (state)\nthis:\n  w \\<bullet> nv = (0::'a)\n\ngoal (4 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. length ws + length (normal_vectors ws) = n\n 3. set ws \\<inter> set (normal_vectors ws) = {}\n 4. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?wa5 \\<in> set ws; ?nva5 \\<in> set (normal_vectors ws)\\<rbrakk>\n  \\<Longrightarrow> ?wa5 \\<bullet> ?nva5 = (0::'a)\n\ngoal (4 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. length ws + length (normal_vectors ws) = n\n 3. set ws \\<inter> set (normal_vectors ws) = {}\n 4. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "note scalar_0 = this"], ["proof (state)\nthis:\n  \\<lbrakk>?wa5 \\<in> set ws; ?nva5 \\<in> set (normal_vectors ws)\\<rbrakk>\n  \\<Longrightarrow> ?wa5 \\<bullet> ?nva5 = (0::'a)\n\ngoal (4 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. length ws + length (normal_vectors ws) = n\n 3. set ws \\<inter> set (normal_vectors ws) = {}\n 4. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "show \"length ws + length ?nv = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length ws + length (normal_vectors ws) = n", "using len"], ["proof (prove)\nusing this:\n  length (ws @ us) = n\n\ngoal (1 subgoal):\n 1. length ws + length (normal_vectors ws) = n", "by simp"], ["proof (state)\nthis:\n  length ws + length (normal_vectors ws) = n\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "{"], ["proof (state)\nthis:\n  length ws + length (normal_vectors ws) = n\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "assume wsI: \"set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\""], ["proof (state)\nthis:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "{"], ["proof (state)\nthis:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "fix nv"], ["proof (state)\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "assume \"nv \\<in> set ?nv\""], ["proof (state)\nthis:\n  nv \\<in> set (normal_vectors ws)\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "then"], ["proof (chain)\npicking this:\n  nv \\<in> set (normal_vectors ws)", "obtain i where nv: \"nv = ?nv ! i\" and i: \"i < ?n\""], ["proof (prove)\nusing this:\n  nv \\<in> set (normal_vectors ws)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>nv = normal_vectors ws ! i; i < length us\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding set_conv_nth"], ["proof (prove)\nusing this:\n  nv \\<in> {normal_vectors ws ! i |i. i < length (normal_vectors ws)}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>nv = normal_vectors ws ! i; i < length us\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  nv = normal_vectors ws ! i\n  i < length us\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from wsI"], ["proof (chain)\npicking this:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd", "have \"set (ws @ us) - {us ! i} \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max 1 Bnd)\""], ["proof (prove)\nusing this:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n\ngoal (1 subgoal):\n 1. set (ws @ us) - {us ! i}\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)", "using units\n          Bounded_vec_mono[of Bnd \"max 1 Bnd\"]"], ["proof (prove)\nusing this:\n  set ws \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd\n  set us \\<subseteq> set (unit_vecs n)\n  Bnd \\<le> max (1::'a) Bnd \\<Longrightarrow>\n  Bounded_vec Bnd \\<subseteq> Bounded_vec (max (1::'a) Bnd)\n\ngoal (1 subgoal):\n 1. set (ws @ us) - {us ! i}\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)", "by (auto simp: unit_vecs_def)"], ["proof (state)\nthis:\n  set (ws @ us) - {us ! i}\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (max (1::'a) Bnd)\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "from nvi(7)[OF i this] nv"], ["proof (chain)\npicking this:\n  normal_vectors ws ! i\n  \\<in> \\<int>\\<^sub>v \\<inter>\n        Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n  nv = normal_vectors ws ! i", "have \"nv \\<in> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) (max 1 Bnd))\""], ["proof (prove)\nusing this:\n  normal_vectors ws ! i\n  \\<in> \\<int>\\<^sub>v \\<inter>\n        Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n  nv = normal_vectors ws ! i\n\ngoal (1 subgoal):\n 1. nv \\<in> \\<int>\\<^sub>v \\<inter>\n             Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "by auto"], ["proof (state)\nthis:\n  nv \\<in> \\<int>\\<^sub>v \\<inter>\n           Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "}"], ["proof (state)\nthis:\n  ?nva5 \\<in> set (normal_vectors ws) \\<Longrightarrow>\n  ?nva5\n  \\<in> \\<int>\\<^sub>v \\<inter>\n        Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (3 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}\n 3. set ws\n    \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n    set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "thus \"set ?nv \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec (det_bound (n - 1) (max 1 Bnd))\""], ["proof (prove)\nusing this:\n  ?nva5 \\<in> set (normal_vectors ws) \\<Longrightarrow>\n  ?nva5\n  \\<in> \\<int>\\<^sub>v \\<inter>\n        Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (1 subgoal):\n 1. set (normal_vectors ws)\n    \\<subseteq> \\<int>\\<^sub>v \\<inter>\n                Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))", "by auto"], ["proof (state)\nthis:\n  set (normal_vectors ws)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (2 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}", "}"], ["proof (state)\nthis:\n  set ws\n  \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec Bnd \\<Longrightarrow>\n  set (normal_vectors ws)\n  \\<subseteq> \\<int>\\<^sub>v \\<inter>\n              Bounded_vec (det_bound (n - 1) (max (1::'a) Bnd))\n\ngoal (2 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}", "have dist_nv: \"distinct ?nv\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (normal_vectors ws)", "unfolding distinct_conv_nth lnv"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<length us.\n       \\<forall>j<length us.\n          i \\<noteq> j \\<longrightarrow>\n          normal_vectors ws ! i \\<noteq> normal_vectors ws ! j", "proof (intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < length us; j < length us; i \\<noteq> j\\<rbrakk>\n       \\<Longrightarrow> normal_vectors ws ! i \\<noteq>\n                         normal_vectors ws ! j", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < length us; j < length us; i \\<noteq> j\\<rbrakk>\n       \\<Longrightarrow> normal_vectors ws ! i \\<noteq>\n                         normal_vectors ws ! j", "assume i: \"i < ?n\" and j: \"j < ?n\" and ij: \"i \\<noteq> j\""], ["proof (state)\nthis:\n  i < length us\n  j < length us\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < length us; j < length us; i \\<noteq> j\\<rbrakk>\n       \\<Longrightarrow> normal_vectors ws ! i \\<noteq>\n                         normal_vectors ws ! j", "with dist"], ["proof (chain)\npicking this:\n  distinct (ws @ us)\n  i < length us\n  j < length us\n  i \\<noteq> j", "have usj: \"us ! j \\<in> set (ws @ us) - {us ! i}\""], ["proof (prove)\nusing this:\n  distinct (ws @ us)\n  i < length us\n  j < length us\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. us ! j \\<in> set (ws @ us) - {us ! i}", "by (simp, auto simp: distinct_conv_nth set_conv_nth)"], ["proof (state)\nthis:\n  us ! j \\<in> set (ws @ us) - {us ! i}\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i < length us; j < length us; i \\<noteq> j\\<rbrakk>\n       \\<Longrightarrow> normal_vectors ws ! i \\<noteq>\n                         normal_vectors ws ! j", "from nvi(4)[OF i this] nvi(9)[OF j]"], ["proof (chain)\npicking this:\n  normal_vectors ws ! i \\<bullet> us ! j = (0::'a)\n  normal_vectors ws ! j \\<bullet> us ! j \\<noteq> (0::'a)", "show \"?nv ! i \\<noteq> ?nv ! j\""], ["proof (prove)\nusing this:\n  normal_vectors ws ! i \\<bullet> us ! j = (0::'a)\n  normal_vectors ws ! j \\<bullet> us ! j \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vectors ws ! i \\<noteq> normal_vectors ws ! j", "by auto"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<noteq> normal_vectors ws ! j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  distinct (normal_vectors ws)\n\ngoal (2 subgoals):\n 1. lin_indpt_list (ws @ normal_vectors ws)\n 2. set ws \\<inter> set (normal_vectors ws) = {}", "show disj: \"set ws \\<inter> set ?nv = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set ws \\<inter> set (normal_vectors ws) = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. set ws \\<inter> set (normal_vectors ws) \\<noteq> {} \\<Longrightarrow>\n    False", "assume \"\\<not> ?thesis\""], ["proof (state)\nthis:\n  set ws \\<inter> set (normal_vectors ws) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. set ws \\<inter> set (normal_vectors ws) \\<noteq> {} \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  set ws \\<inter> set (normal_vectors ws) \\<noteq> {}", "obtain w where w: \"w \\<in> set ws\" \"w \\<in> set ?nv\""], ["proof (prove)\nusing this:\n  set ws \\<inter> set (normal_vectors ws) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        \\<lbrakk>w \\<in> set ws; w \\<in> set (normal_vectors ws)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  w \\<in> set ws\n  w \\<in> set (normal_vectors ws)\n\ngoal (1 subgoal):\n 1. set ws \\<inter> set (normal_vectors ws) \\<noteq> {} \\<Longrightarrow>\n    False", "from scalar_0[OF this] this(1)"], ["proof (chain)\npicking this:\n  w \\<bullet> w = (0::'a)\n  w \\<in> set ws", "have \"sq_norm w = 0\""], ["proof (prove)\nusing this:\n  w \\<bullet> w = (0::'a)\n  w \\<in> set ws\n\ngoal (1 subgoal):\n 1. \\<parallel>w\\<parallel>\\<^sup>2 = (0::'a)", "by (auto simp: sq_norm_vec_as_cscalar_prod)"], ["proof (state)\nthis:\n  \\<parallel>w\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. set ws \\<inter> set (normal_vectors ws) \\<noteq> {} \\<Longrightarrow>\n    False", "with w wsus"], ["proof (chain)\npicking this:\n  w \\<in> set ws\n  w \\<in> set (normal_vectors ws)\n  set (ws @ us) \\<subseteq> carrier_vec n\n  \\<parallel>w\\<parallel>\\<^sup>2 = (0::'a)", "have \"w = 0\\<^sub>v n\""], ["proof (prove)\nusing this:\n  w \\<in> set ws\n  w \\<in> set (normal_vectors ws)\n  set (ws @ us) \\<subseteq> carrier_vec n\n  \\<parallel>w\\<parallel>\\<^sup>2 = (0::'a)\n\ngoal (1 subgoal):\n 1. w = 0\\<^sub>v n", "by auto"], ["proof (state)\nthis:\n  w = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. set ws \\<inter> set (normal_vectors ws) \\<noteq> {} \\<Longrightarrow>\n    False", "with vs_zero_lin_dep[OF wsus lin'] w(1)"], ["proof (chain)\npicking this:\n  0\\<^sub>v n \\<notin> set (ws @ us)\n  w \\<in> set ws\n  w = 0\\<^sub>v n", "show False"], ["proof (prove)\nusing this:\n  0\\<^sub>v n \\<notin> set (ws @ us)\n  w \\<in> set ws\n  w = 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  set ws \\<inter> set (normal_vectors ws) = {}\n\ngoal (1 subgoal):\n 1. lin_indpt_list (ws @ normal_vectors ws)", "have dist': \"distinct (ws @ ?nv)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (ws @ normal_vectors ws)", "using dist disj dist_nv"], ["proof (prove)\nusing this:\n  distinct (ws @ us)\n  set ws \\<inter> set (normal_vectors ws) = {}\n  distinct (normal_vectors ws)\n\ngoal (1 subgoal):\n 1. distinct (ws @ normal_vectors ws)", "by auto"], ["proof (state)\nthis:\n  distinct (ws @ normal_vectors ws)\n\ngoal (1 subgoal):\n 1. lin_indpt_list (ws @ normal_vectors ws)", "show \"lin_indpt_list (ws @ ?nv)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lin_indpt_list (ws @ normal_vectors ws)", "unfolding lin_indpt_list_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. set (ws @ normal_vectors ws) \\<subseteq> carrier_vec n \\<and>\n    distinct (ws @ normal_vectors ws) \\<and>\n    lin_indpt (set (ws @ normal_vectors ws))", "proof (intro conjI dist')"], ["proof (state)\ngoal (2 subgoals):\n 1. set (ws @ normal_vectors ws) \\<subseteq> carrier_vec n\n 2. lin_indpt (set (ws @ normal_vectors ws))", "show set: \"set (ws @ ?nv) \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (ws @ normal_vectors ws) \\<subseteq> carrier_vec n", "using nv wsus"], ["proof (prove)\nusing this:\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n  set (ws @ us) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set (ws @ normal_vectors ws) \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set (ws @ normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "hence ws: \"set ws \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  set (ws @ normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set ws \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set ws \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "have lin_nv: \"lin_indpt (set ?nv)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lin_indpt (set (normal_vectors ws))", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "assume \"lin_dep (set ?nv)\""], ["proof (state)\nthis:\n  lin_dep (set (normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "from finite_lin_dep[OF finite_set this nv]"], ["proof (chain)\npicking this:\n  \\<exists>a v.\n     True \\<and>\n     lincomb a (set (normal_vectors ws)) = 0\\<^sub>v n \\<and>\n     v \\<in> set (normal_vectors ws) \\<and> a v \\<noteq> (0::'a)", "obtain a v where comb: \"lincomb a (set ?nv) = 0\\<^sub>v n\" and vnv: \"v \\<in> set ?nv\" and av0: \"a v \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<exists>a v.\n     True \\<and>\n     lincomb a (set (normal_vectors ws)) = 0\\<^sub>v n \\<and>\n     v \\<in> set (normal_vectors ws) \\<and> a v \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>a v.\n        \\<lbrakk>lincomb a (set (normal_vectors ws)) = 0\\<^sub>v n;\n         v \\<in> set (normal_vectors ws); a v \\<noteq> (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  lincomb a (set (normal_vectors ws)) = 0\\<^sub>v n\n  v \\<in> set (normal_vectors ws)\n  a v \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "from vnv[unfolded set_conv_nth]"], ["proof (chain)\npicking this:\n  v \\<in> {normal_vectors ws ! i |i. i < length (normal_vectors ws)}", "obtain i where i: \"i < ?n\" and vi: \"v = ?nv ! i\""], ["proof (prove)\nusing this:\n  v \\<in> {normal_vectors ws ! i |i. i < length (normal_vectors ws)}\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i < length us; v = normal_vectors ws ! i\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  i < length us\n  v = normal_vectors ws ! i\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "define b where \"b = (\\<lambda> w. a w / a v)\""], ["proof (state)\nthis:\n  b = (\\<lambda>w. a w / a v)\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "define c where \"c = (\\<lambda> w. -1 * b w)\""], ["proof (state)\nthis:\n  c = (\\<lambda>w. - (1::'a) * b w)\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "define x where \"x = lincomb b (set ?nv - {v})\""], ["proof (state)\nthis:\n  x = lincomb b (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "define w where \"w = lincomb c (set ?nv - {v})\""], ["proof (state)\nthis:\n  w = lincomb c (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have w: \"w \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "unfolding w_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (set (normal_vectors ws) - {v}) \\<in> carrier_vec n", "using nv"], ["proof (prove)\nusing this:\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb c (set (normal_vectors ws) - {v}) \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have x: \"x \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec n", "unfolding x_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb b (set (normal_vectors ws) - {v}) \\<in> carrier_vec n", "using nv"], ["proof (prove)\nusing this:\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lincomb b (set (normal_vectors ws) - {v}) \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "from arg_cong[OF comb, of \"\\<lambda> x. (1/ a v) \\<cdot>\\<^sub>v x\"]"], ["proof (chain)\npicking this:\n  (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws)) =\n  (1::'a) / a v \\<cdot>\\<^sub>v 0\\<^sub>v n", "have \"0\\<^sub>v n = 1 / a v \\<cdot>\\<^sub>v lincomb a (set ?nv)\""], ["proof (prove)\nusing this:\n  (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws)) =\n  (1::'a) / a v \\<cdot>\\<^sub>v 0\\<^sub>v n\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v n =\n    (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws))", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>v n =\n  (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  0\\<^sub>v n =\n  (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have \"\\<dots> = lincomb b (set ?nv)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws)) =\n    lincomb b (set (normal_vectors ws))", "by (subst lincomb_smult[symmetric, OF nv], auto simp: b_def)"], ["proof (state)\nthis:\n  (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws)) =\n  lincomb b (set (normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  (1::'a) / a v \\<cdot>\\<^sub>v lincomb a (set (normal_vectors ws)) =\n  lincomb b (set (normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have \"\\<dots> = b v \\<cdot>\\<^sub>v v + lincomb b (set ?nv - {v})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb b (set (normal_vectors ws)) =\n    b v \\<cdot>\\<^sub>v v + lincomb b (set (normal_vectors ws) - {v})", "by (subst lincomb_del2[OF _ nv _ vnv], auto)"], ["proof (state)\nthis:\n  lincomb b (set (normal_vectors ws)) =\n  b v \\<cdot>\\<^sub>v v + lincomb b (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  lincomb b (set (normal_vectors ws)) =\n  b v \\<cdot>\\<^sub>v v + lincomb b (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have \"b v \\<cdot>\\<^sub>v v = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b v \\<cdot>\\<^sub>v v = v", "using av0"], ["proof (prove)\nusing this:\n  a v \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. b v \\<cdot>\\<^sub>v v = v", "unfolding b_def"], ["proof (prove)\nusing this:\n  a v \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. a v / a v \\<cdot>\\<^sub>v v = v", "by auto"], ["proof (state)\nthis:\n  b v \\<cdot>\\<^sub>v v = v\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  0\\<^sub>v n = v + lincomb b (set (normal_vectors ws) - {v})", "have \"v + lincomb b (set ?nv - {v}) - lincomb b (set ?nv - {v}) =\n         0\\<^sub>v n - lincomb b (set ?nv - {v})\" (is \"?l = ?r\")"], ["proof (prove)\nusing this:\n  0\\<^sub>v n = v + lincomb b (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. v + lincomb b (set (normal_vectors ws) - {v}) -\n    lincomb b (set (normal_vectors ws) - {v}) =\n    0\\<^sub>v n - lincomb b (set (normal_vectors ws) - {v})", "by simp"], ["proof (state)\nthis:\n  v + lincomb b (set (normal_vectors ws) - {v}) -\n  lincomb b (set (normal_vectors ws) - {v}) =\n  0\\<^sub>v n - lincomb b (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  v + lincomb b (set (normal_vectors ws) - {v}) -\n  lincomb b (set (normal_vectors ws) - {v}) =\n  0\\<^sub>v n - lincomb b (set (normal_vectors ws) - {v})\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have \"?l = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v + lincomb b (set (normal_vectors ws) - {v}) -\n    lincomb b (set (normal_vectors ws) - {v}) =\n    v", "by (rule add_diff_cancel_right_vec, insert vnv nv, auto)"], ["proof (state)\nthis:\n  v + lincomb b (set (normal_vectors ws) - {v}) -\n  lincomb b (set (normal_vectors ws) - {v}) =\n  v\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  v + lincomb b (set (normal_vectors ws) - {v}) -\n  lincomb b (set (normal_vectors ws) - {v}) =\n  v\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have \"?r = w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n - lincomb b (set (normal_vectors ws) - {v}) = w", "unfolding w_def c_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v n - lincomb b (set (normal_vectors ws) - {v}) =\n    lincomb (\\<lambda>w. - (1::'a) * b w) (set (normal_vectors ws) - {v})", "by (subst lincomb_smult, unfold x_def[symmetric], insert nv x, auto)"], ["proof (state)\nthis:\n  0\\<^sub>v n - lincomb b (set (normal_vectors ws) - {v}) = w\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  v = w", "have vw: \"v = w\""], ["proof (prove)\nusing this:\n  v = w\n\ngoal (1 subgoal):\n 1. v = w", "."], ["proof (state)\nthis:\n  v = w\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have u: \"us ! i \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. us ! i \\<in> carrier_vec n", "using i wsus"], ["proof (prove)\nusing this:\n  i < length us\n  set (ws @ us) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. us ! i \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  us ! i \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have nv': \"set ?nv - {?nv ! i} \\<subseteq> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (normal_vectors ws) - {normal_vectors ws ! i}\n    \\<subseteq> carrier_vec n", "using nv"], ["proof (prove)\nusing this:\n  set (normal_vectors ws) \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. set (normal_vectors ws) - {normal_vectors ws ! i}\n    \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  set (normal_vectors ws) - {normal_vectors ws ! i}\n  \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "have \"?nv ! i \\<bullet> us ! i = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. normal_vectors ws ! i \\<bullet> us ! i = (0::'a)", "unfolding vi[symmetric] vw"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<bullet> us ! i = (0::'a)", "unfolding w_def vi"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c (set (normal_vectors ws) - {normal_vectors ws ! i}) \\<bullet>\n    us ! i =\n    (0::'a)", "unfolding lincomb_scalar_prod_left[OF nv' u]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>w\\<in>set (normal_vectors ws) - {normal_vectors ws ! i}.\n       c w * (w \\<bullet> us ! i)) =\n    (0::'a)", "proof (rule sum.neutral, intro ballI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> set (normal_vectors ws) -\n               {normal_vectors ws ! i} \\<Longrightarrow>\n       c x * (x \\<bullet> us ! i) = (0::'a)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> set (normal_vectors ws) -\n               {normal_vectors ws ! i} \\<Longrightarrow>\n       c x * (x \\<bullet> us ! i) = (0::'a)", "assume \"x \\<in> set ?nv - {?nv ! i}\""], ["proof (state)\nthis:\n  x \\<in> set (normal_vectors ws) - {normal_vectors ws ! i}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> set (normal_vectors ws) -\n               {normal_vectors ws ! i} \\<Longrightarrow>\n       c x * (x \\<bullet> us ! i) = (0::'a)", "then"], ["proof (chain)\npicking this:\n  x \\<in> set (normal_vectors ws) - {normal_vectors ws ! i}", "obtain j where j: \"j < ?n\" and x: \"x = ?nv ! j\" and ij: \"i \\<noteq> j\""], ["proof (prove)\nusing this:\n  x \\<in> set (normal_vectors ws) - {normal_vectors ws ! i}\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>j < length us; x = normal_vectors ws ! j;\n         i \\<noteq> j\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding set_conv_nth"], ["proof (prove)\nusing this:\n  x \\<in> {normal_vectors ws ! i |i. i < length (normal_vectors ws)} -\n          {normal_vectors ws ! i}\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>j < length us; x = normal_vectors ws ! j;\n         i \\<noteq> j\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  j < length us\n  x = normal_vectors ws ! j\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> set (normal_vectors ws) -\n               {normal_vectors ws ! i} \\<Longrightarrow>\n       c x * (x \\<bullet> us ! i) = (0::'a)", "from dist[simplified] ij i j"], ["proof (chain)\npicking this:\n  distinct ws \\<and> distinct us \\<and> set ws \\<inter> set us = {}\n  i \\<noteq> j\n  i < length us\n  j < length us", "have \"us ! i \\<noteq> us ! j\""], ["proof (prove)\nusing this:\n  distinct ws \\<and> distinct us \\<and> set ws \\<inter> set us = {}\n  i \\<noteq> j\n  i < length us\n  j < length us\n\ngoal (1 subgoal):\n 1. us ! i \\<noteq> us ! j", "unfolding distinct_conv_nth"], ["proof (prove)\nusing this:\n  (\\<forall>i<length ws.\n      \\<forall>j<length ws.\n         i \\<noteq> j \\<longrightarrow> ws ! i \\<noteq> ws ! j) \\<and>\n  (\\<forall>i<length us.\n      \\<forall>j<length us.\n         i \\<noteq> j \\<longrightarrow> us ! i \\<noteq> us ! j) \\<and>\n  set ws \\<inter> set us = {}\n  i \\<noteq> j\n  i < length us\n  j < length us\n\ngoal (1 subgoal):\n 1. us ! i \\<noteq> us ! j", "by auto"], ["proof (state)\nthis:\n  us ! i \\<noteq> us ! j\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> set (normal_vectors ws) -\n               {normal_vectors ws ! i} \\<Longrightarrow>\n       c x * (x \\<bullet> us ! i) = (0::'a)", "with i"], ["proof (chain)\npicking this:\n  i < length us\n  us ! i \\<noteq> us ! j", "have \"us ! i \\<in> set (ws @ us) - {us ! j}\""], ["proof (prove)\nusing this:\n  i < length us\n  us ! i \\<noteq> us ! j\n\ngoal (1 subgoal):\n 1. us ! i \\<in> set (ws @ us) - {us ! j}", "by auto"], ["proof (state)\nthis:\n  us ! i \\<in> set (ws @ us) - {us ! j}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> set (normal_vectors ws) -\n               {normal_vectors ws ! i} \\<Longrightarrow>\n       c x * (x \\<bullet> us ! i) = (0::'a)", "from nvi(3-4)[OF j this]"], ["proof (chain)\npicking this:\n  us ! i \\<bullet> normal_vectors ws ! j = (0::'a)\n  normal_vectors ws ! j \\<bullet> us ! i = (0::'a)", "show \"c x * (x \\<bullet> us ! i) = 0\""], ["proof (prove)\nusing this:\n  us ! i \\<bullet> normal_vectors ws ! j = (0::'a)\n  normal_vectors ws ! j \\<bullet> us ! i = (0::'a)\n\ngoal (1 subgoal):\n 1. c x * (x \\<bullet> us ! i) = (0::'a)", "unfolding x"], ["proof (prove)\nusing this:\n  us ! i \\<bullet> normal_vectors ws ! j = (0::'a)\n  normal_vectors ws ! j \\<bullet> us ! i = (0::'a)\n\ngoal (1 subgoal):\n 1. c (normal_vectors ws ! j) * (normal_vectors ws ! j \\<bullet> us ! i) =\n    (0::'a)", "by auto"], ["proof (state)\nthis:\n  c x * (x \\<bullet> us ! i) = (0::'a)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  normal_vectors ws ! i \\<bullet> us ! i = (0::'a)\n\ngoal (1 subgoal):\n 1. lin_dep (set (normal_vectors ws)) \\<Longrightarrow> False", "with nvi(9)[OF i]"], ["proof (chain)\npicking this:\n  normal_vectors ws ! i \\<bullet> us ! i \\<noteq> (0::'a)\n  normal_vectors ws ! i \\<bullet> us ! i = (0::'a)", "show False"], ["proof (prove)\nusing this:\n  normal_vectors ws ! i \\<bullet> us ! i \\<noteq> (0::'a)\n  normal_vectors ws ! i \\<bullet> us ! i = (0::'a)\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  lin_indpt (set (normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "from subset_li_is_li[OF lin']"], ["proof (chain)\npicking this:\n  ?B \\<subseteq> set (ws @ us) \\<Longrightarrow> lin_indpt ?B", "have \"lin_indpt (set ws)\""], ["proof (prove)\nusing this:\n  ?B \\<subseteq> set (ws @ us) \\<Longrightarrow> lin_indpt ?B\n\ngoal (1 subgoal):\n 1. lin_indpt (set ws)", "by auto"], ["proof (state)\nthis:\n  lin_indpt (set ws)\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "from ortho_lin_indpt[OF nv ws scalar_0 lin_nv this]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>w x.\n              \\<lbrakk>w \\<in> set (normal_vectors ws);\n               x \\<in> set ws\\<rbrakk>\n              \\<Longrightarrow> x \\<in> set ws;\n   \\<And>w x.\n      \\<lbrakk>w \\<in> set (normal_vectors ws); x \\<in> set ws\\<rbrakk>\n      \\<Longrightarrow> w \\<in> set (normal_vectors ws)\\<rbrakk>\n  \\<Longrightarrow> lin_indpt (set (normal_vectors ws) \\<union> set ws)", "have \"lin_indpt (set ?nv \\<union> set ws)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>w x.\n              \\<lbrakk>w \\<in> set (normal_vectors ws);\n               x \\<in> set ws\\<rbrakk>\n              \\<Longrightarrow> x \\<in> set ws;\n   \\<And>w x.\n      \\<lbrakk>w \\<in> set (normal_vectors ws); x \\<in> set ws\\<rbrakk>\n      \\<Longrightarrow> w \\<in> set (normal_vectors ws)\\<rbrakk>\n  \\<Longrightarrow> lin_indpt (set (normal_vectors ws) \\<union> set ws)\n\ngoal (1 subgoal):\n 1. lin_indpt (set (normal_vectors ws) \\<union> set ws)", "."], ["proof (state)\nthis:\n  lin_indpt (set (normal_vectors ws) \\<union> set ws)\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "also"], ["proof (state)\nthis:\n  lin_indpt (set (normal_vectors ws) \\<union> set ws)\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "have \"set ?nv \\<union> set ws = set (ws @ ?nv)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (normal_vectors ws) \\<union> set ws = set (ws @ normal_vectors ws)", "by auto"], ["proof (state)\nthis:\n  set (normal_vectors ws) \\<union> set ws = set (ws @ normal_vectors ws)\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "finally"], ["proof (chain)\npicking this:\n  lin_indpt (set (ws @ normal_vectors ws))", "show \"lin_indpt (set (ws @ ?nv))\""], ["proof (prove)\nusing this:\n  lin_indpt (set (ws @ normal_vectors ws))\n\ngoal (1 subgoal):\n 1. lin_indpt (set (ws @ normal_vectors ws))", "."], ["proof (state)\nthis:\n  lin_indpt (set (ws @ normal_vectors ws))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  lin_indpt_list (ws @ normal_vectors ws)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition pos_norm_vec :: \"'a vec set \\<Rightarrow> 'a vec \\<Rightarrow> 'a vec\" where\n  \"pos_norm_vec D x = (let c' = normal_vector D;\n     c = (if c' \\<bullet> x > 0 then c' else -c') in c)\""], ["", "lemma pos_norm_vec:\n  assumes D: \"D \\<subseteq> carrier_vec n\" and fin: \"finite D\" and lin: \"lin_indpt D\"\n    and card: \"Suc (card D) = n\"\n    and c_def: \"c = pos_norm_vec D x\"\n  shows \"c \\<in> carrier_vec n\" \"span D = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> c = 0}\"\n    \"x \\<notin> span D \\<Longrightarrow> x \\<in> carrier_vec n \\<Longrightarrow> c \\<bullet> x > 0\"\n    \"c \\<in> {normal_vector D, -normal_vector D}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (c \\<in> carrier_vec n &&&\n     local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}) &&&\n    (\\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n     \\<Longrightarrow> (0::'a) < c \\<bullet> x) &&&\n    c \\<in> {normal_vector D, - normal_vector D}", "proof -"], ["proof (state)\ngoal (4 subgoals):\n 1. c \\<in> carrier_vec n\n 2. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 3. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x\n 4. c \\<in> {normal_vector D, - normal_vector D}", "have n: \"normal_vector D \\<in> carrier_vec n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. normal_vector D \\<in> carrier_vec n", "using normal_vector assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<in> carrier_vec n\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n; ?w \\<in> ?W\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> normal_vector ?W = (0::'a)\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n; ?w \\<in> ?W\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<bullet> ?w = (0::'a)\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> lin_indpt (insert (normal_vector ?W) ?W)\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<notin> ?W\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n;\n   ?W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) ?Bnd)\n  D \\<subseteq> carrier_vec n\n  finite D\n  lin_indpt D\n  Suc (card D) = n\n  c = pos_norm_vec D x\n\ngoal (1 subgoal):\n 1. normal_vector D \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  normal_vector D \\<in> carrier_vec n\n\ngoal (4 subgoals):\n 1. c \\<in> carrier_vec n\n 2. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 3. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x\n 4. c \\<in> {normal_vector D, - normal_vector D}", "show cnorm: \"c \\<in> {normal_vector D, -normal_vector D}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c \\<in> {normal_vector D, - normal_vector D}", "unfolding c_def pos_norm_vec_def Let_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if (0::'a) < normal_vector D \\<bullet> x then normal_vector D\n     else - normal_vector D)\n    \\<in> {normal_vector D, - normal_vector D}", "by auto"], ["proof (state)\nthis:\n  c \\<in> {normal_vector D, - normal_vector D}\n\ngoal (3 subgoals):\n 1. c \\<in> carrier_vec n\n 2. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 3. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "then"], ["proof (chain)\npicking this:\n  c \\<in> {normal_vector D, - normal_vector D}", "show c: \"c \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  c \\<in> {normal_vector D, - normal_vector D}\n\ngoal (1 subgoal):\n 1. c \\<in> carrier_vec n", "using assms normal_vector"], ["proof (prove)\nusing this:\n  c \\<in> {normal_vector D, - normal_vector D}\n  D \\<subseteq> carrier_vec n\n  finite D\n  lin_indpt D\n  Suc (card D) = n\n  c = pos_norm_vec D x\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<in> carrier_vec n\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<noteq> 0\\<^sub>v n\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n; ?w \\<in> ?W\\<rbrakk>\n  \\<Longrightarrow> ?w \\<bullet> normal_vector ?W = (0::'a)\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n; ?w \\<in> ?W\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<bullet> ?w = (0::'a)\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> lin_indpt (insert (normal_vector ?W) ?W)\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W \\<notin> ?W\n  \\<lbrakk>finite ?W; Suc (card ?W) = n; lin_indpt ?W;\n   ?W \\<subseteq> carrier_vec n;\n   ?W \\<subseteq> \\<int>\\<^sub>v \\<inter> Bounded_vec ?Bnd\\<rbrakk>\n  \\<Longrightarrow> normal_vector ?W\n                    \\<in> \\<int>\\<^sub>v \\<inter>\n                          Bounded_vec (det_bound (n - 1) ?Bnd)\n\ngoal (1 subgoal):\n 1. c \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  c \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 2. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "have \"span D = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> normal_vector D = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "using normal_vector_span[OF card D fin lin]"], ["proof (prove)\nusing this:\n  local.span D =\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}\n\ngoal (1 subgoal):\n 1. local.span D =\n    {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}", "by auto"], ["proof (state)\nthis:\n  local.span D =\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}\n\ngoal (2 subgoals):\n 1. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 2. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "also"], ["proof (state)\nthis:\n  local.span D =\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)}\n\ngoal (2 subgoals):\n 1. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 2. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "have \"\\<dots> = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> c = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)} =\n    {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}", "using cnorm c"], ["proof (prove)\nusing this:\n  c \\<in> {normal_vector D, - normal_vector D}\n  c \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)} =\n    {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}", "by auto"], ["proof (state)\nthis:\n  {x \\<in> carrier_vec n. x \\<bullet> normal_vector D = (0::'a)} =\n  {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n\ngoal (2 subgoals):\n 1. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n 2. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "finally"], ["proof (chain)\npicking this:\n  local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}", "show span_char: \"span D = { x. x \\<in> carrier_vec n \\<and> x \\<bullet> c = 0}\""], ["proof (prove)\nusing this:\n  local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n\ngoal (1 subgoal):\n 1. local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}", "by auto"], ["proof (state)\nthis:\n  local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "{"], ["proof (state)\nthis:\n  local.span D = {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "assume x: \"x \\<notin> span D\" \"x \\<in> carrier_vec n\""], ["proof (state)\nthis:\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "hence \"c \\<bullet> x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. c \\<bullet> x \\<noteq> (0::'a)", "using comm_scalar_prod[OF c]"], ["proof (prove)\nusing this:\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n  ?v\\<^sub>2 \\<in> carrier_vec n \\<Longrightarrow>\n  c \\<bullet> ?v\\<^sub>2 = ?v\\<^sub>2 \\<bullet> c\n\ngoal (1 subgoal):\n 1. c \\<bullet> x \\<noteq> (0::'a)", "unfolding span_char"], ["proof (prove)\nusing this:\n  x \\<notin> {x \\<in> carrier_vec n. x \\<bullet> c = (0::'a)}\n  x \\<in> carrier_vec n\n  ?v\\<^sub>2 \\<in> carrier_vec n \\<Longrightarrow>\n  c \\<bullet> ?v\\<^sub>2 = ?v\\<^sub>2 \\<bullet> c\n\ngoal (1 subgoal):\n 1. c \\<bullet> x \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  c \\<bullet> x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "hence \"normal_vector D \\<bullet> x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  c \\<bullet> x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. normal_vector D \\<bullet> x \\<noteq> (0::'a)", "using cnorm n x"], ["proof (prove)\nusing this:\n  c \\<bullet> x \\<noteq> (0::'a)\n  c \\<in> {normal_vector D, - normal_vector D}\n  normal_vector D \\<in> carrier_vec n\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. normal_vector D \\<bullet> x \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  normal_vector D \\<bullet> x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "with x"], ["proof (chain)\npicking this:\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n  normal_vector D \\<bullet> x \\<noteq> (0::'a)", "have b: \"\\<not> (normal_vector D \\<bullet> x > 0) \\<Longrightarrow> (-normal_vector D) \\<bullet> x > 0\""], ["proof (prove)\nusing this:\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n  normal_vector D \\<bullet> x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<not> (0::'a) < normal_vector D \\<bullet> x \\<Longrightarrow>\n    (0::'a) < - normal_vector D \\<bullet> x", "using assms n"], ["proof (prove)\nusing this:\n  x \\<notin> local.span D\n  x \\<in> carrier_vec n\n  normal_vector D \\<bullet> x \\<noteq> (0::'a)\n  D \\<subseteq> carrier_vec n\n  finite D\n  lin_indpt D\n  Suc (card D) = n\n  c = pos_norm_vec D x\n  normal_vector D \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<not> (0::'a) < normal_vector D \\<bullet> x \\<Longrightarrow>\n    (0::'a) < - normal_vector D \\<bullet> x", "by auto"], ["proof (state)\nthis:\n  \\<not> (0::'a) < normal_vector D \\<bullet> x \\<Longrightarrow>\n  (0::'a) < - normal_vector D \\<bullet> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n    \\<Longrightarrow> (0::'a) < c \\<bullet> x", "then"], ["proof (chain)\npicking this:\n  \\<not> (0::'a) < normal_vector D \\<bullet> x \\<Longrightarrow>\n  (0::'a) < - normal_vector D \\<bullet> x", "show \"c \\<bullet> x > 0\""], ["proof (prove)\nusing this:\n  \\<not> (0::'a) < normal_vector D \\<bullet> x \\<Longrightarrow>\n  (0::'a) < - normal_vector D \\<bullet> x\n\ngoal (1 subgoal):\n 1. (0::'a) < c \\<bullet> x", "unfolding c_def pos_norm_vec_def Let_def"], ["proof (prove)\nusing this:\n  \\<not> (0::'a) < normal_vector D \\<bullet> x \\<Longrightarrow>\n  (0::'a) < - normal_vector D \\<bullet> x\n\ngoal (1 subgoal):\n 1. (0::'a)\n    < (if (0::'a) < normal_vector D \\<bullet> x then normal_vector D\n       else - normal_vector D) \\<bullet>\n      x", "by (auto split: if_splits)"], ["proof (state)\nthis:\n  (0::'a) < c \\<bullet> x\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<notin> local.span D; x \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> (0::'a) < c \\<bullet> x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}