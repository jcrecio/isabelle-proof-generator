{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Dim_Span.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma fixes V W :: \"'a vec set\"\n  shows\n    card_le_dim_span:\n    \"V \\<subseteq> carrier_vec n \\<Longrightarrow> V \\<subseteq> span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V \\<le> dim_span W\" and\n    card_eq_dim_span_imp_same_span:\n    \"W \\<subseteq> carrier_vec n \\<Longrightarrow> V \\<subseteq> span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V = dim_span W \\<Longrightarrow> span V = span W\" and\n    same_span_imp_card_eq_dim_span:\n    \"V \\<subseteq> carrier_vec n \\<Longrightarrow> W \\<subseteq> carrier_vec n \\<Longrightarrow> span V = span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V = dim_span W\" and\n    dim_span_cong:\n    \"span V = span W \\<Longrightarrow> dim_span V = dim_span W\" and\n    ex_basis_span:\n    \"V \\<subseteq> carrier_vec n \\<Longrightarrow> \\<exists> W. W \\<subseteq> carrier_vec n \\<and> lin_indpt W \\<and> span V = span W \\<and> dim_span V = card W\"", "lemma dim_span_le_n: assumes W: \"W \\<subseteq> carrier_vec n\" shows \"dim_span W \\<le> n\"", "lemma dim_span_insert: assumes W: \"W \\<subseteq> carrier_vec n\"\n  and v: \"v \\<in> carrier_vec n\" and vs: \"v \\<notin> span W\"\nshows \"dim_span (insert v W) = Suc (dim_span W)\""], "translations": [["", "lemma fixes V W :: \"'a vec set\"\n  shows\n    card_le_dim_span:\n    \"V \\<subseteq> carrier_vec n \\<Longrightarrow> V \\<subseteq> span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V \\<le> dim_span W\" and\n    card_eq_dim_span_imp_same_span:\n    \"W \\<subseteq> carrier_vec n \\<Longrightarrow> V \\<subseteq> span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V = dim_span W \\<Longrightarrow> span V = span W\" and\n    same_span_imp_card_eq_dim_span:\n    \"V \\<subseteq> carrier_vec n \\<Longrightarrow> W \\<subseteq> carrier_vec n \\<Longrightarrow> span V = span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V = dim_span W\" and\n    dim_span_cong:\n    \"span V = span W \\<Longrightarrow> dim_span V = dim_span W\" and\n    ex_basis_span:\n    \"V \\<subseteq> carrier_vec n \\<Longrightarrow> \\<exists> W. W \\<subseteq> carrier_vec n \\<and> lin_indpt W \\<and> span V = span W \\<and> dim_span V = card W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n       lin_indpt V\\<rbrakk>\n      \\<Longrightarrow> card V \\<le> dim_span W) &&&\n     (\\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n       lin_indpt V; card V = dim_span W\\<rbrakk>\n      \\<Longrightarrow> local.span V = local.span W)) &&&\n    (\\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n      local.span V = local.span W; lin_indpt V\\<rbrakk>\n     \\<Longrightarrow> card V = dim_span W) &&&\n    (local.span V = local.span W \\<Longrightarrow>\n     dim_span V = dim_span W) &&&\n    (V \\<subseteq> carrier_vec n \\<Longrightarrow>\n     \\<exists>W\\<subseteq>carrier_vec n.\n        lin_indpt W \\<and>\n        local.span V = local.span W \\<and> dim_span V = card W)", "proof -"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. local.span V = local.span W \\<Longrightarrow> dim_span V = dim_span W\n 5. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "show cong: \"\\<And> V W. span V = span W \\<Longrightarrow> dim_span V = dim_span W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>V W.\n       local.span V = local.span W \\<Longrightarrow> dim_span V = dim_span W", "unfolding dim_span_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>V W.\n       local.span V = local.span W \\<Longrightarrow>\n       Max (card `\n            {Va.\n             Va \\<subseteq> carrier_vec n \\<and>\n             Va \\<subseteq> local.span V \\<and> lin_indpt Va}) =\n       Max (card `\n            {V. V \\<subseteq> carrier_vec n \\<and>\n                V \\<subseteq> local.span W \\<and> lin_indpt V})", "by auto"], ["proof (state)\nthis:\n  local.span ?V1 = local.span ?W1 \\<Longrightarrow>\n  dim_span ?V1 = dim_span ?W1\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "{"], ["proof (state)\nthis:\n  local.span ?V1 = local.span ?W1 \\<Longrightarrow>\n  dim_span ?V1 = dim_span ?W1\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "fix W :: \"'a vec set\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "let ?M = \"{V. V \\<subseteq> carrier_vec n \\<and> V \\<subseteq> span W \\<and> lin_indpt V}\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "have \"card ` ?M \\<subseteq> {0 .. n}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span W \\<and> lin_indpt V}\n    \\<subseteq> {0..n}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> card `\n               {V. V \\<subseteq> carrier_vec n \\<and>\n                   V \\<subseteq> local.span W \\<and>\n                   lin_indpt V} \\<Longrightarrow>\n       x \\<in> {0..n}", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> card `\n               {V. V \\<subseteq> carrier_vec n \\<and>\n                   V \\<subseteq> local.span W \\<and>\n                   lin_indpt V} \\<Longrightarrow>\n       x \\<in> {0..n}", "assume \"k \\<in> card ` ?M\""], ["proof (state)\nthis:\n  k \\<in> card `\n          {V. V \\<subseteq> carrier_vec n \\<and>\n              V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> card `\n               {V. V \\<subseteq> carrier_vec n \\<and>\n                   V \\<subseteq> local.span W \\<and>\n                   lin_indpt V} \\<Longrightarrow>\n       x \\<in> {0..n}", "then"], ["proof (chain)\npicking this:\n  k \\<in> card `\n          {V. V \\<subseteq> carrier_vec n \\<and>\n              V \\<subseteq> local.span W \\<and> lin_indpt V}", "obtain V where V: \"V \\<subseteq> carrier_vec n \\<and> V \\<subseteq> span W \\<and> lin_indpt V\"\n        and k: \"k = card V\""], ["proof (prove)\nusing this:\n  k \\<in> card `\n          {V. V \\<subseteq> carrier_vec n \\<and>\n              V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        \\<lbrakk>V \\<subseteq> carrier_vec n \\<and>\n                 V \\<subseteq> local.span W \\<and> lin_indpt V;\n         k = card V\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V \\<subseteq> carrier_vec n \\<and>\n  V \\<subseteq> local.span W \\<and> lin_indpt V\n  k = card V\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> card `\n               {V. V \\<subseteq> carrier_vec n \\<and>\n                   V \\<subseteq> local.span W \\<and>\n                   lin_indpt V} \\<Longrightarrow>\n       x \\<in> {0..n}", "from V"], ["proof (chain)\npicking this:\n  V \\<subseteq> carrier_vec n \\<and>\n  V \\<subseteq> local.span W \\<and> lin_indpt V", "have \"card V \\<le> n\""], ["proof (prove)\nusing this:\n  V \\<subseteq> carrier_vec n \\<and>\n  V \\<subseteq> local.span W \\<and> lin_indpt V\n\ngoal (1 subgoal):\n 1. card V \\<le> n", "using dim_is_n li_le_dim"], ["proof (prove)\nusing this:\n  V \\<subseteq> carrier_vec n \\<and>\n  V \\<subseteq> local.span W \\<and> lin_indpt V\n  local.dim = n\n  \\<lbrakk>fin_dim; ?A \\<subseteq> carrier_vec n; lin_indpt ?A\\<rbrakk>\n  \\<Longrightarrow> finite ?A\n  \\<lbrakk>fin_dim; ?A \\<subseteq> carrier_vec n; lin_indpt ?A\\<rbrakk>\n  \\<Longrightarrow> card ?A \\<le> local.dim\n\ngoal (1 subgoal):\n 1. card V \\<le> n", "by auto"], ["proof (state)\nthis:\n  card V \\<le> n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> card `\n               {V. V \\<subseteq> carrier_vec n \\<and>\n                   V \\<subseteq> local.span W \\<and>\n                   lin_indpt V} \\<Longrightarrow>\n       x \\<in> {0..n}", "with k"], ["proof (chain)\npicking this:\n  k = card V\n  card V \\<le> n", "show \"k \\<in> {0 .. n}\""], ["proof (prove)\nusing this:\n  k = card V\n  card V \\<le> n\n\ngoal (1 subgoal):\n 1. k \\<in> {0..n}", "by auto"], ["proof (state)\nthis:\n  k \\<in> {0..n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card `\n  {V. V \\<subseteq> carrier_vec n \\<and>\n      V \\<subseteq> local.span W \\<and> lin_indpt V}\n  \\<subseteq> {0..n}\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "from finite_subset[OF this]"], ["proof (chain)\npicking this:\n  finite {0..n} \\<Longrightarrow>\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span W \\<and> lin_indpt V})", "have fin: \"finite (card ` ?M)\""], ["proof (prove)\nusing this:\n  finite {0..n} \\<Longrightarrow>\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span W \\<and> lin_indpt V})\n\ngoal (1 subgoal):\n 1. finite\n     (card `\n      {V. V \\<subseteq> carrier_vec n \\<and>\n          V \\<subseteq> local.span W \\<and> lin_indpt V})", "by auto"], ["proof (state)\nthis:\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span W \\<and> lin_indpt V})\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "have \"{} \\<in> ?M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {} \\<in> {V. V \\<subseteq> carrier_vec n \\<and>\n                 V \\<subseteq> local.span W \\<and> lin_indpt V}", "by (auto simp: span_empty span_zero)"], ["proof (state)\nthis:\n  {} \\<in> {V. V \\<subseteq> carrier_vec n \\<and>\n               V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "from imageI[OF this, of card]"], ["proof (chain)\npicking this:\n  card {}\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span W \\<and> lin_indpt V}", "have \"0 \\<in> card ` ?M\""], ["proof (prove)\nusing this:\n  card {}\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. 0 \\<in> card `\n            {V. V \\<subseteq> carrier_vec n \\<and>\n                V \\<subseteq> local.span W \\<and> lin_indpt V}", "by auto"], ["proof (state)\nthis:\n  0 \\<in> card `\n          {V. V \\<subseteq> carrier_vec n \\<and>\n              V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "hence Mempty: \"card ` ?M \\<noteq> {}\""], ["proof (prove)\nusing this:\n  0 \\<in> card `\n          {V. V \\<subseteq> carrier_vec n \\<and>\n              V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span W \\<and> lin_indpt V} \\<noteq>\n    {}", "by auto"], ["proof (state)\nthis:\n  card `\n  {V. V \\<subseteq> carrier_vec n \\<and>\n      V \\<subseteq> local.span W \\<and> lin_indpt V} \\<noteq>\n  {}\n\ngoal (4 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V \\<le> dim_span W\n 2. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 3. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 4. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "from Max_ge[OF fin, folded dim_span_def]"], ["proof (chain)\npicking this:\n  ?x \\<in> card `\n           {V. V \\<subseteq> carrier_vec n \\<and>\n               V \\<subseteq> local.span W \\<and>\n               lin_indpt V} \\<Longrightarrow>\n  ?x \\<le> dim_span W", "show \"\\<And> V :: 'a vec set. V \\<subseteq> carrier_vec n \\<Longrightarrow> V \\<subseteq> span W \\<Longrightarrow> lin_indpt V \\<Longrightarrow> card V \\<le> dim_span W\""], ["proof (prove)\nusing this:\n  ?x \\<in> card `\n           {V. V \\<subseteq> carrier_vec n \\<and>\n               V \\<subseteq> local.span W \\<and>\n               lin_indpt V} \\<Longrightarrow>\n  ?x \\<le> dim_span W\n\ngoal (1 subgoal):\n 1. \\<And>V.\n       \\<lbrakk>V \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n        lin_indpt V\\<rbrakk>\n       \\<Longrightarrow> card V \\<le> dim_span W", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?V1 \\<subseteq> carrier_vec n; ?V1 \\<subseteq> local.span W;\n   lin_indpt ?V1\\<rbrakk>\n  \\<Longrightarrow> card ?V1 \\<le> dim_span W\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "note this fin Mempty"], ["proof (state)\nthis:\n  \\<lbrakk>?V1 \\<subseteq> carrier_vec n; ?V1 \\<subseteq> local.span W;\n   lin_indpt ?V1\\<rbrakk>\n  \\<Longrightarrow> card ?V1 \\<le> dim_span W\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span W \\<and> lin_indpt V})\n  card `\n  {V. V \\<subseteq> carrier_vec n \\<and>\n      V \\<subseteq> local.span W \\<and> lin_indpt V} \\<noteq>\n  {}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?V1 \\<subseteq> carrier_vec n; ?V1 \\<subseteq> local.span ?Wa4;\n   lin_indpt ?V1\\<rbrakk>\n  \\<Longrightarrow> card ?V1 \\<le> dim_span ?Wa4\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span ?Wa4 \\<and> lin_indpt V})\n  card `\n  {V. V \\<subseteq> carrier_vec n \\<and>\n      V \\<subseteq> local.span ?Wa4 \\<and> lin_indpt V} \\<noteq>\n  {}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "note part1 = this"], ["proof (state)\nthis:\n  \\<lbrakk>?V1 \\<subseteq> carrier_vec n; ?V1 \\<subseteq> local.span ?Wa4;\n   lin_indpt ?V1\\<rbrakk>\n  \\<Longrightarrow> card ?V1 \\<le> dim_span ?Wa4\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span ?Wa4 \\<and> lin_indpt V})\n  card `\n  {V. V \\<subseteq> carrier_vec n \\<and>\n      V \\<subseteq> local.span ?Wa4 \\<and> lin_indpt V} \\<noteq>\n  {}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?V1 \\<subseteq> carrier_vec n; ?V1 \\<subseteq> local.span ?Wa4;\n   lin_indpt ?V1\\<rbrakk>\n  \\<Longrightarrow> card ?V1 \\<le> dim_span ?Wa4\n  finite\n   (card `\n    {V. V \\<subseteq> carrier_vec n \\<and>\n        V \\<subseteq> local.span ?Wa4 \\<and> lin_indpt V})\n  card `\n  {V. V \\<subseteq> carrier_vec n \\<and>\n      V \\<subseteq> local.span ?Wa4 \\<and> lin_indpt V} \\<noteq>\n  {}\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "fix V W :: \"'a vec set\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "assume  W: \"W \\<subseteq> carrier_vec n\"\n      and VsW: \"V \\<subseteq> span W\" and linV: \"lin_indpt V\" and card: \"card V = dim_span W\""], ["proof (state)\nthis:\n  W \\<subseteq> carrier_vec n\n  V \\<subseteq> local.span W\n  lin_indpt V\n  card V = dim_span W\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "from W VsW"], ["proof (chain)\npicking this:\n  W \\<subseteq> carrier_vec n\n  V \\<subseteq> local.span W", "have V: \"V \\<subseteq> carrier_vec n\""], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  V \\<subseteq> local.span W\n\ngoal (1 subgoal):\n 1. V \\<subseteq> carrier_vec n", "using span_mem[OF W]"], ["proof (prove)\nusing this:\n  W \\<subseteq> carrier_vec n\n  V \\<subseteq> local.span W\n  ?u \\<in> W \\<Longrightarrow> ?u \\<in> local.span W\n\ngoal (1 subgoal):\n 1. V \\<subseteq> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  V \\<subseteq> carrier_vec n\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "from Max_in[OF part1(2,3), folded dim_span_def, of W]"], ["proof (chain)\npicking this:\n  dim_span W\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span W \\<and> lin_indpt V}", "obtain WW where WW: \"WW \\<subseteq> carrier_vec n\" \"WW \\<subseteq> span W\" \"lin_indpt WW\"\n      and id: \"dim_span W = card WW\""], ["proof (prove)\nusing this:\n  dim_span W\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. (\\<And>WW.\n        \\<lbrakk>WW \\<subseteq> carrier_vec n; WW \\<subseteq> local.span W;\n         lin_indpt WW; dim_span W = card WW\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  WW \\<subseteq> carrier_vec n\n  WW \\<subseteq> local.span W\n  lin_indpt WW\n  dim_span W = card WW\n\ngoal (3 subgoals):\n 1. \\<lbrakk>W \\<subseteq> carrier_vec n; V \\<subseteq> local.span W;\n     lin_indpt V; card V = dim_span W\\<rbrakk>\n    \\<Longrightarrow> local.span V = local.span W\n 2. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 3. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "show \"span V = span W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.span V = local.span W", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "from VsW V W"], ["proof (chain)\npicking this:\n  V \\<subseteq> local.span W\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n", "have sub: \"span V \\<subseteq> span W\""], ["proof (prove)\nusing this:\n  V \\<subseteq> local.span W\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span V \\<subseteq> local.span W", "using span_subsetI"], ["proof (prove)\nusing this:\n  V \\<subseteq> local.span W\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n  \\<lbrakk>?ws \\<subseteq> carrier_vec n;\n   ?us \\<subseteq> local.span ?ws\\<rbrakk>\n  \\<Longrightarrow> local.span ?us \\<subseteq> local.span ?ws\n\ngoal (1 subgoal):\n 1. local.span V \\<subseteq> local.span W", "by metis"], ["proof (state)\nthis:\n  local.span V \\<subseteq> local.span W\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "assume \"span V \\<noteq> span W\""], ["proof (state)\nthis:\n  local.span V \\<noteq> local.span W\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "with sub"], ["proof (chain)\npicking this:\n  local.span V \\<subseteq> local.span W\n  local.span V \\<noteq> local.span W", "obtain w where wW: \"w \\<in> span W\" and wsV: \"w \\<notin> span V\""], ["proof (prove)\nusing this:\n  local.span V \\<subseteq> local.span W\n  local.span V \\<noteq> local.span W\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        \\<lbrakk>w \\<in> local.span W; w \\<notin> local.span V\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  w \\<in> local.span W\n  w \\<notin> local.span V\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "from wW W"], ["proof (chain)\npicking this:\n  w \\<in> local.span W\n  W \\<subseteq> carrier_vec n", "have w: \"w \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  w \\<in> local.span W\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. w \\<in> carrier_vec n", "by auto"], ["proof (state)\nthis:\n  w \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "from linV V"], ["proof (chain)\npicking this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n", "have finV: \"finite V\""], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. finite V", "using fin_dim fin_dim_li_fin"], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n  fin_dim\n  \\<lbrakk>fin_dim; lin_indpt ?A; ?A \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite V", "by blast"], ["proof (state)\nthis:\n  finite V\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "from wsV span_mem[OF V, of w]"], ["proof (chain)\npicking this:\n  w \\<notin> local.span V\n  w \\<in> V \\<Longrightarrow> w \\<in> local.span V", "have wV: \"w \\<notin> V\""], ["proof (prove)\nusing this:\n  w \\<notin> local.span V\n  w \\<in> V \\<Longrightarrow> w \\<in> local.span V\n\ngoal (1 subgoal):\n 1. w \\<notin> V", "by auto"], ["proof (state)\nthis:\n  w \\<notin> V\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "let ?X = \"insert w V\""], ["proof (state)\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "have \"card ?X = Suc (card V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (insert w V) = Suc (card V)", "using wV finV"], ["proof (prove)\nusing this:\n  w \\<notin> V\n  finite V\n\ngoal (1 subgoal):\n 1. card (insert w V) = Suc (card V)", "by simp"], ["proof (state)\nthis:\n  card (insert w V) = Suc (card V)\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "hence gt: \"card ?X > dim_span W\""], ["proof (prove)\nusing this:\n  card (insert w V) = Suc (card V)\n\ngoal (1 subgoal):\n 1. dim_span W < card (insert w V)", "unfolding card"], ["proof (prove)\nusing this:\n  card (insert w V) = Suc (dim_span W)\n\ngoal (1 subgoal):\n 1. dim_span W < card (insert w V)", "by simp"], ["proof (state)\nthis:\n  dim_span W < card (insert w V)\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "have linX: \"lin_indpt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lin_indpt (insert w V)", "using lin_dep_iff_in_span[OF V linV w wV] wsV"], ["proof (prove)\nusing this:\n  (w \\<in> local.span V) = lin_dep (V \\<union> {w})\n  w \\<notin> local.span V\n\ngoal (1 subgoal):\n 1. lin_indpt (insert w V)", "by auto"], ["proof (state)\nthis:\n  lin_indpt (insert w V)\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "have XW: \"?X \\<subseteq> span W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert w V \\<subseteq> local.span W", "using wW VsW"], ["proof (prove)\nusing this:\n  w \\<in> local.span W\n  V \\<subseteq> local.span W\n\ngoal (1 subgoal):\n 1. insert w V \\<subseteq> local.span W", "by auto"], ["proof (state)\nthis:\n  insert w V \\<subseteq> local.span W\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "from part1(1)[OF _ XW linX] w V"], ["proof (chain)\npicking this:\n  insert w V \\<subseteq> carrier_vec n \\<Longrightarrow>\n  card (insert w V) \\<le> dim_span W\n  w \\<in> carrier_vec n\n  V \\<subseteq> carrier_vec n", "have \"card ?X \\<le> dim_span W\""], ["proof (prove)\nusing this:\n  insert w V \\<subseteq> carrier_vec n \\<Longrightarrow>\n  card (insert w V) \\<le> dim_span W\n  w \\<in> carrier_vec n\n  V \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. card (insert w V) \\<le> dim_span W", "by auto"], ["proof (state)\nthis:\n  card (insert w V) \\<le> dim_span W\n\ngoal (1 subgoal):\n 1. local.span V \\<noteq> local.span W \\<Longrightarrow> False", "with gt"], ["proof (chain)\npicking this:\n  dim_span W < card (insert w V)\n  card (insert w V) \\<le> dim_span W", "show False"], ["proof (prove)\nusing this:\n  dim_span W < card (insert w V)\n  card (insert w V) \\<le> dim_span W\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local.span V = local.span W\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?Wa3 \\<subseteq> carrier_vec n; ?Va3 \\<subseteq> local.span ?Wa3;\n   lin_indpt ?Va3; card ?Va3 = dim_span ?Wa3\\<rbrakk>\n  \\<Longrightarrow> local.span ?Va3 = local.span ?Wa3\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "note card_dim_span = this"], ["proof (state)\nthis:\n  \\<lbrakk>?Wa3 \\<subseteq> carrier_vec n; ?Va3 \\<subseteq> local.span ?Wa3;\n   lin_indpt ?Va3; card ?Va3 = dim_span ?Wa3\\<rbrakk>\n  \\<Longrightarrow> local.span ?Va3 = local.span ?Wa3\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?Wa3 \\<subseteq> carrier_vec n; ?Va3 \\<subseteq> local.span ?Wa3;\n   lin_indpt ?Va3; card ?Va3 = dim_span ?Wa3\\<rbrakk>\n  \\<Longrightarrow> local.span ?Va3 = local.span ?Wa3\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "fix V :: \"'a vec set\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "assume V: \"V \\<subseteq> carrier_vec n\""], ["proof (state)\nthis:\n  V \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "from Max_in[OF part1(2,3), folded dim_span_def, of V]"], ["proof (chain)\npicking this:\n  dim_span V\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span V \\<and> lin_indpt V}", "obtain W where W: \"W \\<subseteq> carrier_vec n\" \"W \\<subseteq> span V\" \"lin_indpt W\"\n      and idW: \"card W = dim_span V\""], ["proof (prove)\nusing this:\n  dim_span V\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span V \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. (\\<And>W.\n        \\<lbrakk>W \\<subseteq> carrier_vec n; W \\<subseteq> local.span V;\n         lin_indpt W; card W = dim_span V\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  W \\<subseteq> carrier_vec n\n  W \\<subseteq> local.span V\n  lin_indpt W\n  card W = dim_span V\n\ngoal (2 subgoals):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W\n 2. V \\<subseteq> carrier_vec n \\<Longrightarrow>\n    \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "show \"\\<exists> W. W \\<subseteq> carrier_vec n \\<and> lin_indpt W \\<and> span V = span W \\<and> dim_span V = card W\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>W\\<subseteq>carrier_vec n.\n       lin_indpt W \\<and>\n       local.span V = local.span W \\<and> dim_span V = card W", "proof (intro exI[of _ W] conjI W idW[symmetric])"], ["proof (state)\ngoal (1 subgoal):\n 1. local.span V = local.span W", "from card_dim_span[OF V(1) W(2-3) idW]"], ["proof (chain)\npicking this:\n  local.span W = local.span V", "show \"span V = span W\""], ["proof (prove)\nusing this:\n  local.span W = local.span V\n\ngoal (1 subgoal):\n 1. local.span V = local.span W", "by auto"], ["proof (state)\nthis:\n  local.span V = local.span W\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>W\\<subseteq>carrier_vec n.\n     lin_indpt W \\<and>\n     local.span V = local.span W \\<and> dim_span V = card W\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "}"], ["proof (state)\nthis:\n  ?Va3 \\<subseteq> carrier_vec n \\<Longrightarrow>\n  \\<exists>W\\<subseteq>carrier_vec n.\n     lin_indpt W \\<and>\n     local.span ?Va3 = local.span W \\<and> dim_span ?Va3 = card W\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "{"], ["proof (state)\nthis:\n  ?Va3 \\<subseteq> carrier_vec n \\<Longrightarrow>\n  \\<exists>W\\<subseteq>carrier_vec n.\n     lin_indpt W \\<and>\n     local.span ?Va3 = local.span W \\<and> dim_span ?Va3 = card W\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "fix V W"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "assume V: \"V \\<subseteq> carrier_vec n\"\n      and W: \"W \\<subseteq> carrier_vec n\"\n      and span: \"span V = span W\"\n      and lin: \"lin_indpt V\""], ["proof (state)\nthis:\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n  local.span V = local.span W\n  lin_indpt V\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "from Max_in[OF part1(2,3), folded dim_span_def, of W]"], ["proof (chain)\npicking this:\n  dim_span W\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span W \\<and> lin_indpt V}", "obtain WW where WW: \"WW \\<subseteq> carrier_vec n\" \"WW \\<subseteq> span W\" \"lin_indpt WW\"\n      and idWW: \"card WW = dim_span W\""], ["proof (prove)\nusing this:\n  dim_span W\n  \\<in> card `\n        {V. V \\<subseteq> carrier_vec n \\<and>\n            V \\<subseteq> local.span W \\<and> lin_indpt V}\n\ngoal (1 subgoal):\n 1. (\\<And>WW.\n        \\<lbrakk>WW \\<subseteq> carrier_vec n; WW \\<subseteq> local.span W;\n         lin_indpt WW; card WW = dim_span W\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  WW \\<subseteq> carrier_vec n\n  WW \\<subseteq> local.span W\n  lin_indpt WW\n  card WW = dim_span W\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "from card_dim_span[OF W WW(2-3) idWW] span"], ["proof (chain)\npicking this:\n  local.span WW = local.span W\n  local.span V = local.span W", "have spanWW: \"span WW = span V\""], ["proof (prove)\nusing this:\n  local.span WW = local.span W\n  local.span V = local.span W\n\ngoal (1 subgoal):\n 1. local.span WW = local.span V", "by auto"], ["proof (state)\nthis:\n  local.span WW = local.span V\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "from span"], ["proof (chain)\npicking this:\n  local.span V = local.span W", "have \"V \\<subseteq> span W\""], ["proof (prove)\nusing this:\n  local.span V = local.span W\n\ngoal (1 subgoal):\n 1. V \\<subseteq> local.span W", "using span_mem[OF V]"], ["proof (prove)\nusing this:\n  local.span V = local.span W\n  ?u \\<in> V \\<Longrightarrow> ?u \\<in> local.span V\n\ngoal (1 subgoal):\n 1. V \\<subseteq> local.span W", "by auto"], ["proof (state)\nthis:\n  V \\<subseteq> local.span W\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "from part1(1)[OF V this lin]"], ["proof (chain)\npicking this:\n  card V \\<le> dim_span W", "have VW: \"card V \\<le> dim_span W\""], ["proof (prove)\nusing this:\n  card V \\<le> dim_span W\n\ngoal (1 subgoal):\n 1. card V \\<le> dim_span W", "."], ["proof (state)\nthis:\n  card V \\<le> dim_span W\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "have finWW: \"finite WW\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite WW", "using WW"], ["proof (prove)\nusing this:\n  WW \\<subseteq> carrier_vec n\n  WW \\<subseteq> local.span W\n  lin_indpt WW\n\ngoal (1 subgoal):\n 1. finite WW", "by (simp add: fin_dim_li_fin)"], ["proof (state)\nthis:\n  finite WW\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "have finV: \"finite V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite V", "using lin V"], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. finite V", "by (simp add: fin_dim_li_fin)"], ["proof (state)\nthis:\n  finite V\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "from replacement[OF finWW finV V WW(3) WW(2)[folded span], unfolded idWW]"], ["proof (chain)\npicking this:\n  \\<exists>C.\n     finite C \\<and>\n     C \\<subseteq> carrier_vec n \\<and>\n     C \\<subseteq> local.span V \\<and>\n     C \\<inter> WW = {} \\<and>\n     int (card C) \\<le> int (card V) - int (dim_span W) \\<and>\n     local.span (WW \\<union> C) = local.span V", "obtain C :: \"'a vec set\"\n      where le: \"int (card C) \\<le> int (card V) - int (dim_span W)\""], ["proof (prove)\nusing this:\n  \\<exists>C.\n     finite C \\<and>\n     C \\<subseteq> carrier_vec n \\<and>\n     C \\<subseteq> local.span V \\<and>\n     C \\<inter> WW = {} \\<and>\n     int (card C) \\<le> int (card V) - int (dim_span W) \\<and>\n     local.span (WW \\<union> C) = local.span V\n\ngoal (1 subgoal):\n 1. (\\<And>C.\n        int (card C) \\<le> int (card V) - int (dim_span W) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  int (card C) \\<le> int (card V) - int (dim_span W)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "from le"], ["proof (chain)\npicking this:\n  int (card C) \\<le> int (card V) - int (dim_span W)", "have \"int (dim_span W) + int (card C) \\<le> int (card V)\""], ["proof (prove)\nusing this:\n  int (card C) \\<le> int (card V) - int (dim_span W)\n\ngoal (1 subgoal):\n 1. int (dim_span W) + int (card C) \\<le> int (card V)", "by linarith"], ["proof (state)\nthis:\n  int (dim_span W) + int (card C) \\<le> int (card V)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "hence \"dim_span W + card C \\<le> card V\""], ["proof (prove)\nusing this:\n  int (dim_span W) + int (card C) \\<le> int (card V)\n\ngoal (1 subgoal):\n 1. dim_span W + card C \\<le> card V", "by linarith"], ["proof (state)\nthis:\n  dim_span W + card C \\<le> card V\n\ngoal (1 subgoal):\n 1. \\<lbrakk>V \\<subseteq> carrier_vec n; W \\<subseteq> carrier_vec n;\n     local.span V = local.span W; lin_indpt V\\<rbrakk>\n    \\<Longrightarrow> card V = dim_span W", "with VW"], ["proof (chain)\npicking this:\n  card V \\<le> dim_span W\n  dim_span W + card C \\<le> card V", "show \"card V = dim_span W\""], ["proof (prove)\nusing this:\n  card V \\<le> dim_span W\n  dim_span W + card C \\<le> card V\n\ngoal (1 subgoal):\n 1. card V = dim_span W", "by auto"], ["proof (state)\nthis:\n  card V = dim_span W\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?Va3 \\<subseteq> carrier_vec n; ?Wa3 \\<subseteq> carrier_vec n;\n   local.span ?Va3 = local.span ?Wa3; lin_indpt ?Va3\\<rbrakk>\n  \\<Longrightarrow> card ?Va3 = dim_span ?Wa3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dim_span_le_n: assumes W: \"W \\<subseteq> carrier_vec n\" shows \"dim_span W \\<le> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_span W \\<le> n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_span W \\<le> n", "from ex_basis_span[OF W]"], ["proof (chain)\npicking this:\n  \\<exists>Wa\\<subseteq>carrier_vec n.\n     lin_indpt Wa \\<and>\n     local.span W = local.span Wa \\<and> dim_span W = card Wa", "obtain V where\n    V: \"V \\<subseteq> carrier_vec n\"\n    and lin: \"lin_indpt V\"\n    and dim: \"dim_span W = card V\""], ["proof (prove)\nusing this:\n  \\<exists>Wa\\<subseteq>carrier_vec n.\n     lin_indpt Wa \\<and>\n     local.span W = local.span Wa \\<and> dim_span W = card Wa\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        \\<lbrakk>V \\<subseteq> carrier_vec n; lin_indpt V;\n         dim_span W = card V\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V \\<subseteq> carrier_vec n\n  lin_indpt V\n  dim_span W = card V\n\ngoal (1 subgoal):\n 1. dim_span W \\<le> n", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_span W \\<le> n", "unfolding dim"], ["proof (prove)\ngoal (1 subgoal):\n 1. card V \\<le> n", "using lin V"], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. card V \\<le> n", "using dim_is_n li_le_dim"], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n  local.dim = n\n  \\<lbrakk>fin_dim; ?A \\<subseteq> carrier_vec n; lin_indpt ?A\\<rbrakk>\n  \\<Longrightarrow> finite ?A\n  \\<lbrakk>fin_dim; ?A \\<subseteq> carrier_vec n; lin_indpt ?A\\<rbrakk>\n  \\<Longrightarrow> card ?A \\<le> local.dim\n\ngoal (1 subgoal):\n 1. card V \\<le> n", "by auto"], ["proof (state)\nthis:\n  dim_span W \\<le> n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dim_span_insert: assumes W: \"W \\<subseteq> carrier_vec n\"\n  and v: \"v \\<in> carrier_vec n\" and vs: \"v \\<notin> span W\"\nshows \"dim_span (insert v W) = Suc (dim_span W)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "from ex_basis_span[OF W]"], ["proof (chain)\npicking this:\n  \\<exists>Wa\\<subseteq>carrier_vec n.\n     lin_indpt Wa \\<and>\n     local.span W = local.span Wa \\<and> dim_span W = card Wa", "obtain V where\n    V: \"V \\<subseteq> carrier_vec n\"\n    and lin: \"lin_indpt V\"\n    and span: \"span W = span V\"\n    and dim: \"dim_span W = card V\""], ["proof (prove)\nusing this:\n  \\<exists>Wa\\<subseteq>carrier_vec n.\n     lin_indpt Wa \\<and>\n     local.span W = local.span Wa \\<and> dim_span W = card Wa\n\ngoal (1 subgoal):\n 1. (\\<And>V.\n        \\<lbrakk>V \\<subseteq> carrier_vec n; lin_indpt V;\n         local.span W = local.span V; dim_span W = card V\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  V \\<subseteq> carrier_vec n\n  lin_indpt V\n  local.span W = local.span V\n  dim_span W = card V\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "from V vs[unfolded span]"], ["proof (chain)\npicking this:\n  V \\<subseteq> carrier_vec n\n  v \\<notin> local.span V", "have vV: \"v \\<notin> V\""], ["proof (prove)\nusing this:\n  V \\<subseteq> carrier_vec n\n  v \\<notin> local.span V\n\ngoal (1 subgoal):\n 1. v \\<notin> V", "using span_mem[OF V]"], ["proof (prove)\nusing this:\n  V \\<subseteq> carrier_vec n\n  v \\<notin> local.span V\n  ?u \\<in> V \\<Longrightarrow> ?u \\<in> local.span V\n\ngoal (1 subgoal):\n 1. v \\<notin> V", "by blast"], ["proof (state)\nthis:\n  v \\<notin> V\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "from lin_dep_iff_in_span[OF V lin v vV] vs span"], ["proof (chain)\npicking this:\n  (v \\<in> local.span V) = lin_dep (V \\<union> {v})\n  v \\<notin> local.span W\n  local.span W = local.span V", "have lin': \"lin_indpt (insert v V)\""], ["proof (prove)\nusing this:\n  (v \\<in> local.span V) = lin_dep (V \\<union> {v})\n  v \\<notin> local.span W\n  local.span W = local.span V\n\ngoal (1 subgoal):\n 1. lin_indpt (insert v V)", "by auto"], ["proof (state)\nthis:\n  lin_indpt (insert v V)\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "have finV: \"finite V\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite V", "using lin V"], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. finite V", "using fin_dim fin_dim_li_fin"], ["proof (prove)\nusing this:\n  lin_indpt V\n  V \\<subseteq> carrier_vec n\n  fin_dim\n  \\<lbrakk>fin_dim; lin_indpt ?A; ?A \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite V", "by blast"], ["proof (state)\nthis:\n  finite V\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "have \"card (insert v V) = Suc (card V)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (insert v V) = Suc (card V)", "using finV vV"], ["proof (prove)\nusing this:\n  finite V\n  v \\<notin> V\n\ngoal (1 subgoal):\n 1. card (insert v V) = Suc (card V)", "by auto"], ["proof (state)\nthis:\n  card (insert v V) = Suc (card V)\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "hence cvV: \"card (insert v V) = Suc (dim_span W)\""], ["proof (prove)\nusing this:\n  card (insert v V) = Suc (card V)\n\ngoal (1 subgoal):\n 1. card (insert v V) = Suc (dim_span W)", "using dim"], ["proof (prove)\nusing this:\n  card (insert v V) = Suc (card V)\n  dim_span W = card V\n\ngoal (1 subgoal):\n 1. card (insert v V) = Suc (dim_span W)", "by auto"], ["proof (state)\nthis:\n  card (insert v V) = Suc (dim_span W)\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "have \"span (insert v V) = span (insert v W)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.span (insert v V) = local.span (insert v W)", "using span V W v"], ["proof (prove)\nusing this:\n  local.span W = local.span V\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n  v \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. local.span (insert v V) = local.span (insert v W)", "by (metis bot_least insert_subset insert_union span_union_is_sum)"], ["proof (state)\nthis:\n  local.span (insert v V) = local.span (insert v W)\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "from same_span_imp_card_eq_dim_span[OF _ _ this lin'] cvV v V W"], ["proof (chain)\npicking this:\n  \\<lbrakk>insert v V \\<subseteq> carrier_vec n;\n   insert v W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> card (insert v V) = dim_span (insert v W)\n  card (insert v V) = Suc (dim_span W)\n  v \\<in> carrier_vec n\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>insert v V \\<subseteq> carrier_vec n;\n   insert v W \\<subseteq> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> card (insert v V) = dim_span (insert v W)\n  card (insert v V) = Suc (dim_span W)\n  v \\<in> carrier_vec n\n  V \\<subseteq> carrier_vec n\n  W \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. dim_span (insert v W) = Suc (dim_span W)", "by auto"], ["proof (state)\nthis:\n  dim_span (insert v W) = Suc (dim_span W)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}