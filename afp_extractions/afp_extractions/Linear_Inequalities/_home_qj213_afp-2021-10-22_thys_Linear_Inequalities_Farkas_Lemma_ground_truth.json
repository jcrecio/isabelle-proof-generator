{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Farkas_Lemma.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma Farkas_Lemma: fixes A :: \"'a mat\" and b :: \"'a vec\"\n  assumes A: \"A \\<in> carrier_mat n nr\" and b: \"b \\<in> carrier_vec n\"\n  shows \"(\\<exists> x. x \\<ge> 0\\<^sub>v nr \\<and> A *\\<^sub>v x = b) \\<longleftrightarrow> (\\<forall> y. y \\<in> carrier_vec n \\<longrightarrow> A\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v nr \\<longrightarrow> y \\<bullet> b \\<ge> 0)\"", "lemma Farkas_Lemma':\n  fixes A :: \"'a mat\" and b :: \"'a vec\"\n  assumes A: \"A \\<in> carrier_mat nr nc\" and b: \"b\\<in> carrier_vec nr\"\n  shows \"(\\<exists>x. x\\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b)\n         \\<longleftrightarrow> (\\<forall>y. y \\<ge> 0\\<^sub>v nr \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], "translations": [["", "lemma Farkas_Lemma: fixes A :: \"'a mat\" and b :: \"'a vec\"\n  assumes A: \"A \\<in> carrier_mat n nr\" and b: \"b \\<in> carrier_vec n\"\n  shows \"(\\<exists> x. x \\<ge> 0\\<^sub>v nr \\<and> A *\\<^sub>v x = b) \\<longleftrightarrow> (\\<forall> y. y \\<in> carrier_vec n \\<longrightarrow> A\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v nr \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "let ?C = \"set (cols A)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "from A"], ["proof (chain)\npicking this:\n  A \\<in> carrier_mat n nr", "have C: \"?C \\<subseteq> carrier_vec n\" and C': \" \\<forall>w\\<in>set (cols A). dim_vec w = n\""], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. set (cols A) \\<subseteq> carrier_vec n &&&\n    \\<forall>w\\<in>set (cols A). dim_vec w = n", "unfolding cols_def"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat n nr\n\ngoal (1 subgoal):\n 1. set (map (col A) [0..<dim_col A]) \\<subseteq> carrier_vec n &&&\n    \\<forall>w\\<in>set (map (col A) [0..<dim_col A]). dim_vec w = n", "by auto"], ["proof (state)\nthis:\n  set (cols A) \\<subseteq> carrier_vec n\n  \\<forall>w\\<in>set (cols A). dim_vec w = n\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"(\\<exists> x. x \\<ge> 0\\<^sub>v nr \\<and> A *\\<^sub>v x = b) = (b \\<in> cone ?C)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (b \\<in> cone (set (cols A)))", "using cone_of_cols[OF A b]"], ["proof (prove)\nusing this:\n  (b \\<in> cone (set (cols A))) =\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (b \\<in> cone (set (cols A)))", "by simp"], ["proof (state)\nthis:\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n  (b \\<in> cone (set (cols A)))\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n  (b \\<in> cone (set (cols A)))\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<nexists>y. y \\<in> carrier_vec n \\<and> (\\<forall>a\\<^sub>i\\<in>?C. 0 \\<le> y \\<bullet> a\\<^sub>i) \\<and> y \\<bullet> b < 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in> cone (set (cols A))) =\n    (\\<nexists>y.\n        y \\<in> carrier_vec n \\<and>\n        (\\<forall>a\\<^sub>i\\<in>set (cols A).\n            (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n        y \\<bullet> b < (0::'a))", "unfolding fundamental_theorem_of_linear_inequalities(3)[OF C finite_set] mem_Collect_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. (b \\<in> carrier_vec n \\<and>\n     (\\<nexists>c.\n         c \\<in> carrier_vec n \\<and>\n         (\\<forall>a\\<^sub>i\\<in>set (cols A).\n             (0::'a) \\<le> c \\<bullet> a\\<^sub>i) \\<and>\n         c \\<bullet> b < (0::'a))) =\n    (\\<nexists>y.\n        y \\<in> carrier_vec n \\<and>\n        (\\<forall>a\\<^sub>i\\<in>set (cols A).\n            (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n        y \\<bullet> b < (0::'a))", "using b"], ["proof (prove)\nusing this:\n  b \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (b \\<in> carrier_vec n \\<and>\n     (\\<nexists>c.\n         c \\<in> carrier_vec n \\<and>\n         (\\<forall>a\\<^sub>i\\<in>set (cols A).\n             (0::'a) \\<le> c \\<bullet> a\\<^sub>i) \\<and>\n         c \\<bullet> b < (0::'a))) =\n    (\\<nexists>y.\n        y \\<in> carrier_vec n \\<and>\n        (\\<forall>a\\<^sub>i\\<in>set (cols A).\n            (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n        y \\<bullet> b < (0::'a))", "by auto"], ["proof (state)\nthis:\n  (b \\<in> cone (set (cols A))) =\n  (\\<nexists>y.\n      y \\<in> carrier_vec n \\<and>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n      y \\<bullet> b < (0::'a))\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (b \\<in> cone (set (cols A))) =\n  (\\<nexists>y.\n      y \\<in> carrier_vec n \\<and>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n      y \\<bullet> b < (0::'a))\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<forall>y. y \\<in> carrier_vec n \\<longrightarrow> (\\<forall>a\\<^sub>i\\<in>?C. 0 \\<le> y \\<bullet> a\\<^sub>i) \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<nexists>y.\n        y \\<in> carrier_vec n \\<and>\n        (\\<forall>a\\<^sub>i\\<in>set (cols A).\n            (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n        y \\<bullet> b < (0::'a)) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        (\\<forall>a\\<^sub>i\\<in>set (cols A).\n            (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "by auto"], ["proof (state)\nthis:\n  (\\<nexists>y.\n      y \\<in> carrier_vec n \\<and>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n      y \\<bullet> b < (0::'a)) =\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<nexists>y.\n      y \\<in> carrier_vec n \\<and>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<and>\n      y \\<bullet> b < (0::'a)) =\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<forall> y. y \\<in> carrier_vec n \\<longrightarrow> A\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v nr \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        (\\<forall>a\\<^sub>i\\<in>set (cols A).\n            (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "proof (intro all_cong imp_cong refl)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec n \\<Longrightarrow>\n       (\\<forall>a\\<^sub>i\\<in>set (cols A).\n           (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n       (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "fix y :: \"'a vec\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec n \\<Longrightarrow>\n       (\\<forall>a\\<^sub>i\\<in>set (cols A).\n           (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n       (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "assume y: \"y \\<in> carrier_vec n\""], ["proof (state)\nthis:\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec n \\<Longrightarrow>\n       (\\<forall>a\\<^sub>i\\<in>set (cols A).\n           (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n       (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "have \"(\\<forall>a\\<^sub>i\\<in> ?C. 0 \\<le> y \\<bullet> a\\<^sub>i) = (\\<forall>a\\<^sub>i\\<in> ?C. 0 \\<le> a\\<^sub>i \\<bullet> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a\\<^sub>i\\<in>set (cols A).\n        (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n    (\\<forall>a\\<^sub>i\\<in>set (cols A).\n        (0::'a) \\<le> a\\<^sub>i \\<bullet> y)", "by (intro ball_cong[OF refl], subst comm_scalar_prod[OF y], insert C, auto)"], ["proof (state)\nthis:\n  (\\<forall>a\\<^sub>i\\<in>set (cols A).\n      (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n  (\\<forall>a\\<^sub>i\\<in>set (cols A). (0::'a) \\<le> a\\<^sub>i \\<bullet> y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec n \\<Longrightarrow>\n       (\\<forall>a\\<^sub>i\\<in>set (cols A).\n           (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n       (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "also"], ["proof (state)\nthis:\n  (\\<forall>a\\<^sub>i\\<in>set (cols A).\n      (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n  (\\<forall>a\\<^sub>i\\<in>set (cols A). (0::'a) \\<le> a\\<^sub>i \\<bullet> y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec n \\<Longrightarrow>\n       (\\<forall>a\\<^sub>i\\<in>set (cols A).\n           (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n       (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "have \"\\<dots> = (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a\\<^sub>i\\<in>set (cols A).\n        (0::'a) \\<le> a\\<^sub>i \\<bullet> y) =\n    (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "unfolding less_eq_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>a\\<^sub>i\\<in>set (cols A).\n        (0::'a) \\<le> a\\<^sub>i \\<bullet> y) =\n    (dim_vec (0\\<^sub>v nr) = dim_vec (A\\<^sup>T *\\<^sub>v y) \\<and>\n     (\\<forall>i<dim_vec (A\\<^sup>T *\\<^sub>v y).\n         0\\<^sub>v nr $ i \\<le> (A\\<^sup>T *\\<^sub>v y) $ i))", "using C A y"], ["proof (prove)\nusing this:\n  set (cols A) \\<subseteq> carrier_vec n\n  A \\<in> carrier_mat n nr\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<forall>a\\<^sub>i\\<in>set (cols A).\n        (0::'a) \\<le> a\\<^sub>i \\<bullet> y) =\n    (dim_vec (0\\<^sub>v nr) = dim_vec (A\\<^sup>T *\\<^sub>v y) \\<and>\n     (\\<forall>i<dim_vec (A\\<^sup>T *\\<^sub>v y).\n         0\\<^sub>v nr $ i \\<le> (A\\<^sup>T *\\<^sub>v y) $ i))", "by (auto simp: cols_def)"], ["proof (state)\nthis:\n  (\\<forall>a\\<^sub>i\\<in>set (cols A).\n      (0::'a) \\<le> a\\<^sub>i \\<bullet> y) =\n  (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec n \\<Longrightarrow>\n       (\\<forall>a\\<^sub>i\\<in>set (cols A).\n           (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n       (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "finally"], ["proof (chain)\npicking this:\n  (\\<forall>a\\<^sub>i\\<in>set (cols A).\n      (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n  (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "show \"(\\<forall>a\\<^sub>i\\<in>set (cols A). 0 \\<le> y \\<bullet> a\\<^sub>i) = (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)\""], ["proof (prove)\nusing this:\n  (\\<forall>a\\<^sub>i\\<in>set (cols A).\n      (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n  (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. (\\<forall>a\\<^sub>i\\<in>set (cols A).\n        (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n    (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)", "."], ["proof (state)\nthis:\n  (\\<forall>a\\<^sub>i\\<in>set (cols A).\n      (0::'a) \\<le> y \\<bullet> a\\<^sub>i) =\n  (0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      (\\<forall>a\\<^sub>i\\<in>set (cols A).\n          (0::'a) \\<le> y \\<bullet> a\\<^sub>i) \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "finally"], ["proof (chain)\npicking this:\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec n \\<longrightarrow>\n        0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "."], ["proof (state)\nthis:\n  (\\<exists>x\\<ge>0\\<^sub>v nr. A *\\<^sub>v x = b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec n \\<longrightarrow>\n      0\\<^sub>v nr \\<le> A\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Farkas_Lemma':\n  fixes A :: \"'a mat\" and b :: \"'a vec\"\n  assumes A: \"A \\<in> carrier_mat nr nc\" and b: \"b\\<in> carrier_vec nr\"\n  shows \"(\\<exists>x. x\\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b)\n         \\<longleftrightarrow> (\\<forall>y. y \\<ge> 0\\<^sub>v nr \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "define B where \"B = (1\\<^sub>m nr) @\\<^sub>c (A @\\<^sub>c -A)\""], ["proof (state)\nthis:\n  B = 1\\<^sub>m nr @\\<^sub>c A @\\<^sub>c - A\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "define b' where \"b' = 0\\<^sub>v nc @\\<^sub>v (b @\\<^sub>v -b)\""], ["proof (state)\nthis:\n  b' = 0\\<^sub>v nc @\\<^sub>v b @\\<^sub>v - b\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "define n where \"n = nr + (nc + nc)\""], ["proof (state)\nthis:\n  n = nr + (nc + nc)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have id0: \"0\\<^sub>v (nr + (nc + nc)) = 0\\<^sub>v nr @\\<^sub>v (0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v (nr + (nc + nc)) =\n    0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc", "by (intro eq_vecI, auto)"], ["proof (state)\nthis:\n  0\\<^sub>v (nr + (nc + nc)) =\n  0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have idcarr: \"(1\\<^sub>m nr) \\<in> carrier_mat nr nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr \\<in> carrier_mat nr nr", "by auto"], ["proof (state)\nthis:\n  1\\<^sub>m nr \\<in> carrier_mat nr nr\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have B: \"B \\<in> carrier_mat nr n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<in> carrier_mat nr n", "unfolding B_def n_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr @\\<^sub>c A @\\<^sub>c - A\n    \\<in> carrier_mat nr (nr + (nc + nc))", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr @\\<^sub>c A @\\<^sub>c - A\n    \\<in> carrier_mat nr (nr + (nc + nc))", "by auto"], ["proof (state)\nthis:\n  B \\<in> carrier_mat nr n\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"(\\<exists>x \\<in> carrier_vec nc. A *\\<^sub>v x \\<le> b) =\n        (\\<exists>x1 \\<in> carrier_vec nr. \\<exists>x2 \\<in> carrier_vec nc. \\<exists>x3 \\<in> carrier_vec nc. \n         x1 \\<ge> 0\\<^sub>v nr \\<and> x2 \\<ge> 0\\<^sub>v nc \\<and> x3 \\<ge> 0\\<^sub>v nc \\<and> B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) = b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b) =\n    (\\<exists>x1\\<in>carrier_vec nr.\n        \\<exists>x2\\<in>carrier_vec nc.\n           \\<exists>x3\\<in>carrier_vec nc.\n              0\\<^sub>v nr \\<le> x1 \\<and>\n              0\\<^sub>v nc \\<le> x2 \\<and>\n              0\\<^sub>v nc \\<le> x3 \\<and>\n              B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "assume \"\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b\""], ["proof (state)\nthis:\n  \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "from this"], ["proof (chain)\npicking this:\n  \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "obtain x where Axb: \"A *\\<^sub>v x \\<le> b\" and xcarr: \"x \\<in> carrier_vec nc\""], ["proof (prove)\nusing this:\n  \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>A *\\<^sub>v x \\<le> b; x \\<in> carrier_vec nc\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x \\<le> b\n  x \\<in> carrier_vec nc\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have bmAx: \"b - A *\\<^sub>v x \\<in> carrier_vec nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b - A *\\<^sub>v x \\<in> carrier_vec nr", "using A b xcarr"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n  b \\<in> carrier_vec nr\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. b - A *\\<^sub>v x \\<in> carrier_vec nr", "by simp"], ["proof (state)\nthis:\n  b - A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "define x1 where \"x1 = b - A *\\<^sub>v x\""], ["proof (state)\nthis:\n  x1 = b - A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x1: \"x1 \\<in> carrier_vec nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x1 \\<in> carrier_vec nr", "using bmAx"], ["proof (prove)\nusing this:\n  b - A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. x1 \\<in> carrier_vec nr", "unfolding x1_def"], ["proof (prove)\nusing this:\n  b - A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. b - A *\\<^sub>v x \\<in> carrier_vec nr", "by (simp add: xcarr)"], ["proof (state)\nthis:\n  x1 \\<in> carrier_vec nr\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "define x2 where \"x2 = vec (dim_vec x) (\\<lambda>i. if x $ i \\<ge> 0 then x $ i else 0)\""], ["proof (state)\nthis:\n  x2 =\n  vec (dim_vec x)\n   (\\<lambda>i. if (0::'a) \\<le> x $ i then x $ i else (0::'a))\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x2: \"x2 \\<in> carrier_vec nc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x2 \\<in> carrier_vec nc", "using xcarr"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. x2 \\<in> carrier_vec nc", "unfolding x2_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. vec (dim_vec x)\n     (\\<lambda>i. if (0::'a) \\<le> x $ i then x $ i else (0::'a))\n    \\<in> carrier_vec nc", "by simp"], ["proof (state)\nthis:\n  x2 \\<in> carrier_vec nc\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "define x3 where \"x3 = vec (dim_vec x) (\\<lambda>i. if x $ i < 0 then -x $ i else 0)\""], ["proof (state)\nthis:\n  x3 =\n  vec (dim_vec x) (\\<lambda>i. if x $ i < (0::'a) then - x $ i else (0::'a))\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x3: \"x3 \\<in> carrier_vec nc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x3 \\<in> carrier_vec nc", "using xcarr"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. x3 \\<in> carrier_vec nc", "unfolding x3_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. vec (dim_vec x)\n     (\\<lambda>i. if x $ i < (0::'a) then - x $ i else (0::'a))\n    \\<in> carrier_vec nc", "by simp"], ["proof (state)\nthis:\n  x3 \\<in> carrier_vec nc\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x2x3carr: \"x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)", "using x2 x3"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)", "by simp"], ["proof (state)\nthis:\n  x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x2x3x: \"x2 - x3 = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x2 - x3 = x", "unfolding x2_def x3_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vec (dim_vec x)\n     (\\<lambda>i. if (0::'a) \\<le> x $ i then x $ i else (0::'a)) -\n    vec (dim_vec x)\n     (\\<lambda>i. if x $ i < (0::'a) then - x $ i else (0::'a)) =\n    x", "by auto"], ["proof (state)\nthis:\n  x2 - x3 = x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"A *\\<^sub>v x -b \\<le> 0\\<^sub>v nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x - b \\<le> 0\\<^sub>v nr", "using vec_le_iff_diff_le_0 b"], ["proof (prove)\nusing this:\n  (?a \\<le> ?b) = (?a - ?b \\<le> 0\\<^sub>v (dim_vec ?a))\n  b \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x - b \\<le> 0\\<^sub>v nr", "by (metis A Axb carrier_matD(1) dim_mult_mat_vec)"], ["proof (state)\nthis:\n  A *\\<^sub>v x - b \\<le> 0\\<^sub>v nr\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "hence x1lez: \"x1 \\<ge> 0\\<^sub>v nr\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v x - b \\<le> 0\\<^sub>v nr\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nr \\<le> x1", "using x1"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x - b \\<le> 0\\<^sub>v nr\n  x1 \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nr \\<le> x1", "unfolding x1_def"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x - b \\<le> 0\\<^sub>v nr\n  b - A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nr \\<le> b - A *\\<^sub>v x", "by (smt A Axb carrier_matD(1) carrier_vecD diff_ge_0_iff_ge dim_mult_mat_vec \n          index_minus_vec(1) index_zero_vec(1) index_zero_vec(2) less_eq_vec_def)"], ["proof (state)\nthis:\n  0\\<^sub>v nr \\<le> x1\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x2lez: \"x2 \\<ge> 0\\<^sub>v nc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v nc \\<le> x2", "using x2 less_eq_vec_def"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  (?v \\<le> ?w) =\n  (dim_vec ?v = dim_vec ?w \\<and>\n   (\\<forall>i<dim_vec ?w. ?v $ i \\<le> ?w $ i))\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nc \\<le> x2", "unfolding x2_def"], ["proof (prove)\nusing this:\n  vec (dim_vec x)\n   (\\<lambda>i. if (0::'a) \\<le> x $ i then x $ i else (0::'a))\n  \\<in> carrier_vec nc\n  (?v \\<le> ?w) =\n  (dim_vec ?v = dim_vec ?w \\<and>\n   (\\<forall>i<dim_vec ?w. ?v $ i \\<le> ?w $ i))\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nc\n    \\<le> vec (dim_vec x)\n           (\\<lambda>i. if (0::'a) \\<le> x $ i then x $ i else (0::'a))", "by fastforce"], ["proof (state)\nthis:\n  0\\<^sub>v nc \\<le> x2\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x3lez: \"x3 \\<ge> 0\\<^sub>v nc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0\\<^sub>v nc \\<le> x3", "using x3 less_eq_vec_def"], ["proof (prove)\nusing this:\n  x3 \\<in> carrier_vec nc\n  (?v \\<le> ?w) =\n  (dim_vec ?v = dim_vec ?w \\<and>\n   (\\<forall>i<dim_vec ?w. ?v $ i \\<le> ?w $ i))\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nc \\<le> x3", "unfolding x3_def"], ["proof (prove)\nusing this:\n  vec (dim_vec x) (\\<lambda>i. if x $ i < (0::'a) then - x $ i else (0::'a))\n  \\<in> carrier_vec nc\n  (?v \\<le> ?w) =\n  (dim_vec ?v = dim_vec ?w \\<and>\n   (\\<forall>i<dim_vec ?w. ?v $ i \\<le> ?w $ i))\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nc\n    \\<le> vec (dim_vec x)\n           (\\<lambda>i. if x $ i < (0::'a) then - x $ i else (0::'a))", "by fastforce"], ["proof (state)\nthis:\n  0\\<^sub>v nc \\<le> x3\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have B1: \"(1\\<^sub>m nr) *\\<^sub>v x1 = b - A *\\<^sub>v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x", "using xcarr x1"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec nc\n  x1 \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x", "unfolding x1_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec nc\n  b - A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr *\\<^sub>v (b - A *\\<^sub>v x) = b - A *\\<^sub>v x", "by simp"], ["proof (state)\nthis:\n  1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"A *\\<^sub>v x2 + (-A) *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v (-x3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3", "using x2 x3 A"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"\\<dots> = A *\\<^sub>v (x2 + (-x3))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)", "using A x2 x3"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)", "by (metis mult_add_distrib_mat_vec uminus_carrier_vec)"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"\\<dots> = A *\\<^sub>v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v x", "using x2x3x minus_add_uminus_vec x2 x3"], ["proof (prove)\nusing this:\n  x2 - x3 = x\n  \\<lbrakk>?v \\<in> carrier_vec ?n; ?w \\<in> carrier_vec ?n\\<rbrakk>\n  \\<Longrightarrow> ?v - ?w = ?v + - ?w\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v x", "by fastforce"], ["proof (state)\nthis:\n  A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "finally"], ["proof (chain)\npicking this:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "have B2:\"A *\\<^sub>v x2 + (-A) *\\<^sub>v x3 = A *\\<^sub>v x\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) = (1\\<^sub>m nr) *\\<^sub>v x1 + (A *\\<^sub>v x2 + (-A) *\\<^sub>v x3)\" (is \"\\<dots> = ?p1 + ?p2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n    1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)", "using x1 x2 x3 A mat_mult_append_cols"], ["proof (prove)\nusing this:\n  x1 \\<in> carrier_vec nr\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  A \\<in> carrier_mat nr nc\n  \\<lbrakk>?A \\<in> carrier_mat ?nr ?nc1.0; ?B \\<in> carrier_mat ?nr ?nc2.0;\n   ?v1.0 \\<in> carrier_vec ?nc1.0; ?v2.0 \\<in> carrier_vec ?nc2.0\\<rbrakk>\n  \\<Longrightarrow> (?A @\\<^sub>c ?B) *\\<^sub>v (?v1.0 @\\<^sub>v ?v2.0) =\n                    ?A *\\<^sub>v ?v1.0 + ?B *\\<^sub>v ?v2.0\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n    1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)", "unfolding B_def"], ["proof (prove)\nusing this:\n  x1 \\<in> carrier_vec nr\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  A \\<in> carrier_mat nr nc\n  \\<lbrakk>?A \\<in> carrier_mat ?nr ?nc1.0; ?B \\<in> carrier_mat ?nr ?nc2.0;\n   ?v1.0 \\<in> carrier_vec ?nc1.0; ?v2.0 \\<in> carrier_vec ?nc2.0\\<rbrakk>\n  \\<Longrightarrow> (?A @\\<^sub>c ?B) *\\<^sub>v (?v1.0 @\\<^sub>v ?v2.0) =\n                    ?A *\\<^sub>v ?v1.0 + ?B *\\<^sub>v ?v2.0\n\ngoal (1 subgoal):\n 1. (1\\<^sub>m nr @\\<^sub>c A @\\<^sub>c - A) *\\<^sub>v\n    (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n    1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)", "by (subst mat_mult_append_cols[OF _ _ x1 x2x3carr], auto simp add: mat_mult_append_cols)"], ["proof (state)\nthis:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"?p1 = b - A *\\<^sub>v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x", "using B1"], ["proof (prove)\nusing this:\n  1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x", "unfolding x1_def"], ["proof (prove)\nusing this:\n  1\\<^sub>m nr *\\<^sub>v (b - A *\\<^sub>v x) = b - A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. 1\\<^sub>m nr *\\<^sub>v (b - A *\\<^sub>v x) = b - A *\\<^sub>v x", "by auto"], ["proof (state)\nthis:\n  1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  1\\<^sub>m nr *\\<^sub>v x1 = b - A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"?p2 = A *\\<^sub>v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "using B2"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "by simp"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "finally"], ["proof (chain)\npicking this:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  b - A *\\<^sub>v x + A *\\<^sub>v x", "have res: \"B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) = b\""], ["proof (prove)\nusing this:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  b - A *\\<^sub>v x + A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b", "using A xcarr b"], ["proof (prove)\nusing this:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  b - A *\\<^sub>v x + A *\\<^sub>v x\n  A \\<in> carrier_mat nr nc\n  x \\<in> carrier_vec nc\n  b \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b", "by auto"], ["proof (state)\nthis:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (2 subgoals):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n 2. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "show \"\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow> \\<exists>x1\\<in>carrier_vec nr. \\<exists>x2\\<in>carrier_vec nc. \\<exists>x3\\<in>carrier_vec nc.\n          0\\<^sub>v nr \\<le> x1 \\<and> 0\\<^sub>v nc \\<le> x2 \\<and> 0\\<^sub>v nc \\<le> x3 \\<and> B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b", "using x1 x2 x3 x1lez x2lez x3lez res"], ["proof (prove)\nusing this:\n  x1 \\<in> carrier_vec nr\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  0\\<^sub>v nr \\<le> x1\n  0\\<^sub>v nc \\<le> x2\n  0\\<^sub>v nc \\<le> x3\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n    \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b", "by auto"], ["proof (state)\nthis:\n  \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b \\<Longrightarrow>\n  \\<exists>x1\\<in>carrier_vec nr.\n     \\<exists>x2\\<in>carrier_vec nc.\n        \\<exists>x3\\<in>carrier_vec nc.\n           0\\<^sub>v nr \\<le> x1 \\<and>\n           0\\<^sub>v nc \\<le> x2 \\<and>\n           0\\<^sub>v nc \\<le> x3 \\<and>\n           B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "assume \"\\<exists>x1 \\<in> carrier_vec nr. \\<exists>x2 \\<in> carrier_vec nc. \\<exists>x3 \\<in> carrier_vec nc. \n            x1 \\<ge> 0\\<^sub>v nr \\<and> x2 \\<ge> 0\\<^sub>v nc \\<and> x3 \\<ge> 0\\<^sub>v nc \\<and> B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) = b\""], ["proof (state)\nthis:\n  \\<exists>x1\\<in>carrier_vec nr.\n     \\<exists>x2\\<in>carrier_vec nc.\n        \\<exists>x3\\<in>carrier_vec nc.\n           0\\<^sub>v nr \\<le> x1 \\<and>\n           0\\<^sub>v nc \\<le> x2 \\<and>\n           0\\<^sub>v nc \\<le> x3 \\<and>\n           B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "from this"], ["proof (chain)\npicking this:\n  \\<exists>x1\\<in>carrier_vec nr.\n     \\<exists>x2\\<in>carrier_vec nc.\n        \\<exists>x3\\<in>carrier_vec nc.\n           0\\<^sub>v nr \\<le> x1 \\<and>\n           0\\<^sub>v nc \\<le> x2 \\<and>\n           0\\<^sub>v nc \\<le> x3 \\<and>\n           B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b", "obtain x1 x2 x3 where x1: \"x1 \\<in> carrier_vec nr\" and x1lez: \"x1 \\<ge> 0\\<^sub>v nr\" \n      and x2: \"x2 \\<in> carrier_vec nc\" and x2lez: \"x2 \\<ge> 0\\<^sub>v nc\"\n      and x3: \"x3 \\<in> carrier_vec nc\" and x3lez: \"x3 \\<ge> 0\\<^sub>v nc\"\n      and clc: \"B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) = b\""], ["proof (prove)\nusing this:\n  \\<exists>x1\\<in>carrier_vec nr.\n     \\<exists>x2\\<in>carrier_vec nc.\n        \\<exists>x3\\<in>carrier_vec nc.\n           0\\<^sub>v nr \\<le> x1 \\<and>\n           0\\<^sub>v nc \\<le> x2 \\<and>\n           0\\<^sub>v nc \\<le> x3 \\<and>\n           B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (1 subgoal):\n 1. (\\<And>x1 x2 x3.\n        \\<lbrakk>x1 \\<in> carrier_vec nr; 0\\<^sub>v nr \\<le> x1;\n         x2 \\<in> carrier_vec nc; 0\\<^sub>v nc \\<le> x2;\n         x3 \\<in> carrier_vec nc; 0\\<^sub>v nc \\<le> x3;\n         B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x1 \\<in> carrier_vec nr\n  0\\<^sub>v nr \\<le> x1\n  x2 \\<in> carrier_vec nc\n  0\\<^sub>v nc \\<le> x2\n  x3 \\<in> carrier_vec nc\n  0\\<^sub>v nc \\<le> x3\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have x2x3carr: \"x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)", "using x2 x3"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)", "by simp"], ["proof (state)\nthis:\n  x2 @\\<^sub>v x3 \\<in> carrier_vec (nc + nc)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "define x where \"x = x2 - x3\""], ["proof (state)\nthis:\n  x = x2 - x3\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have xcarr: \"x \\<in> carrier_vec nc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec nc", "using x2 x3"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. x \\<in> carrier_vec nc", "unfolding x_def"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. x2 - x3 \\<in> carrier_vec nc", "by simp"], ["proof (state)\nthis:\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"A *\\<^sub>v x2 + (-A) *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v (-x3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3", "using x2 x3 A"], ["proof (prove)\nusing this:\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x2 + A *\\<^sub>v - x3\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"\\<dots> = A *\\<^sub>v (x2 + (-x3))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)", "using A x2 x3"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)", "by (metis mult_add_distrib_mat_vec uminus_carrier_vec)"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + A *\\<^sub>v - x3 = A *\\<^sub>v (x2 + - x3)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"\\<dots> = A *\\<^sub>v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v x", "using minus_add_uminus_vec x2 x3"], ["proof (prove)\nusing this:\n  \\<lbrakk>?v \\<in> carrier_vec ?n; ?w \\<in> carrier_vec ?n\\<rbrakk>\n  \\<Longrightarrow> ?v - ?w = ?v + - ?w\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v x", "unfolding x_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?v \\<in> carrier_vec ?n; ?w \\<in> carrier_vec ?n\\<rbrakk>\n  \\<Longrightarrow> ?v - ?w = ?v + - ?w\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v (x2 - x3)", "by fastforce"], ["proof (state)\nthis:\n  A *\\<^sub>v (x2 + - x3) = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "finally"], ["proof (chain)\npicking this:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "have B2:\"A *\\<^sub>v x2 + (-A) *\\<^sub>v x3 = A *\\<^sub>v x\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have Axcarr: \"A *\\<^sub>v x \\<in> carrier_vec nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x \\<in> carrier_vec nr", "using A xcarr"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x \\<in> carrier_vec nr", "by auto"], ["proof (state)\nthis:\n  A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"b = B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b = B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3)", "using clc"], ["proof (prove)\nusing this:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b\n\ngoal (1 subgoal):\n 1. b = B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3)", "by auto"], ["proof (state)\nthis:\n  b = B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  b = B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"\\<dots> = (1\\<^sub>m nr) *\\<^sub>v x1 + (A *\\<^sub>v x2 + (-A) *\\<^sub>v x3)\" (is \"\\<dots> = ?p1 + ?p2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n    1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)", "using x1 x2 x3 A mat_mult_append_cols"], ["proof (prove)\nusing this:\n  x1 \\<in> carrier_vec nr\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  A \\<in> carrier_mat nr nc\n  \\<lbrakk>?A \\<in> carrier_mat ?nr ?nc1.0; ?B \\<in> carrier_mat ?nr ?nc2.0;\n   ?v1.0 \\<in> carrier_vec ?nc1.0; ?v2.0 \\<in> carrier_vec ?nc2.0\\<rbrakk>\n  \\<Longrightarrow> (?A @\\<^sub>c ?B) *\\<^sub>v (?v1.0 @\\<^sub>v ?v2.0) =\n                    ?A *\\<^sub>v ?v1.0 + ?B *\\<^sub>v ?v2.0\n\ngoal (1 subgoal):\n 1. B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n    1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)", "unfolding B_def"], ["proof (prove)\nusing this:\n  x1 \\<in> carrier_vec nr\n  x2 \\<in> carrier_vec nc\n  x3 \\<in> carrier_vec nc\n  A \\<in> carrier_mat nr nc\n  \\<lbrakk>?A \\<in> carrier_mat ?nr ?nc1.0; ?B \\<in> carrier_mat ?nr ?nc2.0;\n   ?v1.0 \\<in> carrier_vec ?nc1.0; ?v2.0 \\<in> carrier_vec ?nc2.0\\<rbrakk>\n  \\<Longrightarrow> (?A @\\<^sub>c ?B) *\\<^sub>v (?v1.0 @\\<^sub>v ?v2.0) =\n                    ?A *\\<^sub>v ?v1.0 + ?B *\\<^sub>v ?v2.0\n\ngoal (1 subgoal):\n 1. (1\\<^sub>m nr @\\<^sub>c A @\\<^sub>c - A) *\\<^sub>v\n    (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n    1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)", "by (subst mat_mult_append_cols[OF _ _ x1 x2x3carr], auto simp add: mat_mult_append_cols)"], ["proof (state)\nthis:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "also"], ["proof (state)\nthis:\n  B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n  1\\<^sub>m nr *\\<^sub>v x1 + (A *\\<^sub>v x2 + - A *\\<^sub>v x3)\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "have \"?p2 = A *\\<^sub>v x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "using B2"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x", "by simp"], ["proof (state)\nthis:\n  A *\\<^sub>v x2 + - A *\\<^sub>v x3 = A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "finally"], ["proof (chain)\npicking this:\n  b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x", "have res: \"b = (1\\<^sub>m nr) *\\<^sub>v x1 + A *\\<^sub>v x\""], ["proof (prove)\nusing this:\n  b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x", "using A xcarr b"], ["proof (prove)\nusing this:\n  b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x\n  A \\<in> carrier_mat nr nc\n  x \\<in> carrier_vec nc\n  b \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x", "by auto"], ["proof (state)\nthis:\n  b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "hence \"b = x1 + A *\\<^sub>v x\""], ["proof (prove)\nusing this:\n  b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. b = x1 + A *\\<^sub>v x", "using x1 A b"], ["proof (prove)\nusing this:\n  b = 1\\<^sub>m nr *\\<^sub>v x1 + A *\\<^sub>v x\n  x1 \\<in> carrier_vec nr\n  A \\<in> carrier_mat nr nc\n  b \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. b = x1 + A *\\<^sub>v x", "by simp"], ["proof (state)\nthis:\n  b = x1 + A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "hence \"b - A *\\<^sub>v x = x1\""], ["proof (prove)\nusing this:\n  b = x1 + A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. b - A *\\<^sub>v x = x1", "using x1 A b"], ["proof (prove)\nusing this:\n  b = x1 + A *\\<^sub>v x\n  x1 \\<in> carrier_vec nr\n  A \\<in> carrier_mat nr nc\n  b \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. b - A *\\<^sub>v x = x1", "by auto"], ["proof (state)\nthis:\n  b - A *\\<^sub>v x = x1\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "hence \"b - A *\\<^sub>v x \\<ge> 0\\<^sub>v nr\""], ["proof (prove)\nusing this:\n  b - A *\\<^sub>v x = x1\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nr \\<le> b - A *\\<^sub>v x", "using x1lez"], ["proof (prove)\nusing this:\n  b - A *\\<^sub>v x = x1\n  0\\<^sub>v nr \\<le> x1\n\ngoal (1 subgoal):\n 1. 0\\<^sub>v nr \\<le> b - A *\\<^sub>v x", "by auto"], ["proof (state)\nthis:\n  0\\<^sub>v nr \\<le> b - A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "hence \"A *\\<^sub>v x \\<le> b\""], ["proof (prove)\nusing this:\n  0\\<^sub>v nr \\<le> b - A *\\<^sub>v x\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x \\<le> b", "using Axcarr"], ["proof (prove)\nusing this:\n  0\\<^sub>v nr \\<le> b - A *\\<^sub>v x\n  A *\\<^sub>v x \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. A *\\<^sub>v x \\<le> b", "by (smt \\<open>b - A *\\<^sub>v x = x1\\<close> \\<open>b = x1 + A *\\<^sub>v x\\<close> carrier_vecD comm_add_vec index_zero_vec(2) \n          minus_add_minus_vec minus_cancel_vec vec_le_iff_diff_le_0 x1)"], ["proof (state)\nthis:\n  A *\\<^sub>v x \\<le> b\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "then"], ["proof (chain)\npicking this:\n  A *\\<^sub>v x \\<le> b", "show \"\\<exists>x1\\<in>carrier_vec nr. \\<exists>x2\\<in>carrier_vec nc. \\<exists>x3\\<in>carrier_vec nc.\n          0\\<^sub>v nr \\<le> x1 \\<and> 0\\<^sub>v nc \\<le> x2 \\<and> 0\\<^sub>v nc \\<le> x3 \\<and> B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b \\<Longrightarrow>\n          \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b\""], ["proof (prove)\nusing this:\n  A *\\<^sub>v x \\<le> b\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "using xcarr"], ["proof (prove)\nusing this:\n  A *\\<^sub>v x \\<le> b\n  x \\<in> carrier_vec nc\n\ngoal (1 subgoal):\n 1. \\<exists>x1\\<in>carrier_vec nr.\n       \\<exists>x2\\<in>carrier_vec nc.\n          \\<exists>x3\\<in>carrier_vec nc.\n             0\\<^sub>v nr \\<le> x1 \\<and>\n             0\\<^sub>v nc \\<le> x2 \\<and>\n             0\\<^sub>v nc \\<le> x3 \\<and>\n             B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) =\n             b \\<Longrightarrow>\n    \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b", "by blast"], ["proof (state)\nthis:\n  \\<exists>x1\\<in>carrier_vec nr.\n     \\<exists>x2\\<in>carrier_vec nc.\n        \\<exists>x3\\<in>carrier_vec nc.\n           0\\<^sub>v nr \\<le> x1 \\<and>\n           0\\<^sub>v nc \\<le> x2 \\<and>\n           0\\<^sub>v nc \\<le> x3 \\<and>\n           B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b \\<Longrightarrow>\n  \\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b) =\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v nr \\<le> x1 \\<and>\n            0\\<^sub>v nc \\<le> x2 \\<and>\n            0\\<^sub>v nc \\<le> x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b) =\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v nr \\<le> x1 \\<and>\n            0\\<^sub>v nc \\<le> x2 \\<and>\n            0\\<^sub>v nc \\<le> x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<exists>x1 \\<in> carrier_vec nr. \\<exists>x2 \\<in> carrier_vec nc. \\<exists>x3 \\<in> carrier_vec nc. \n         (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) \\<ge> 0\\<^sub>v n  \\<and> B *\\<^sub>v (x1 @\\<^sub>v (x2 @\\<^sub>v x3)) = b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x1\\<in>carrier_vec nr.\n        \\<exists>x2\\<in>carrier_vec nc.\n           \\<exists>x3\\<in>carrier_vec nc.\n              0\\<^sub>v nr \\<le> x1 \\<and>\n              0\\<^sub>v nc \\<le> x2 \\<and>\n              0\\<^sub>v nc \\<le> x3 \\<and>\n              B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n    (\\<exists>x1\\<in>carrier_vec nr.\n        \\<exists>x2\\<in>carrier_vec nc.\n           \\<exists>x3\\<in>carrier_vec nc.\n              0\\<^sub>v n \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n              B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b)", "by (metis append_vec_le id0 n_def zero_carrier_vec)"], ["proof (state)\nthis:\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v nr \\<le> x1 \\<and>\n            0\\<^sub>v nc \\<le> x2 \\<and>\n            0\\<^sub>v nc \\<le> x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v n \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v nr \\<le> x1 \\<and>\n            0\\<^sub>v nc \\<le> x2 \\<and>\n            0\\<^sub>v nc \\<le> x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v n \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<exists>x \\<in> carrier_vec n. x \\<ge> 0\\<^sub>v n  \\<and> B *\\<^sub>v x = b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x1\\<in>carrier_vec nr.\n        \\<exists>x2\\<in>carrier_vec nc.\n           \\<exists>x3\\<in>carrier_vec nc.\n              0\\<^sub>v n \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n              B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n    (\\<exists>x\\<in>carrier_vec n.\n        0\\<^sub>v n \\<le> x \\<and> B *\\<^sub>v x = b)", "unfolding n_def exists_vec_append"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x1\\<in>carrier_vec nr.\n        \\<exists>x2\\<in>carrier_vec nc.\n           \\<exists>x3\\<in>carrier_vec nc.\n              0\\<^sub>v (nr + (nc + nc))\n              \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n              B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n    (\\<exists>x1\\<in>carrier_vec nr.\n        \\<exists>x1a\\<in>carrier_vec nc.\n           \\<exists>x2\\<in>carrier_vec nc.\n              0\\<^sub>v (nr + (nc + nc))\n              \\<le> x1 @\\<^sub>v x1a @\\<^sub>v x2 \\<and>\n              B *\\<^sub>v (x1 @\\<^sub>v x1a @\\<^sub>v x2) = b)", "by auto"], ["proof (state)\nthis:\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v n \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n  (\\<exists>x\\<in>carrier_vec n.\n      0\\<^sub>v n \\<le> x \\<and> B *\\<^sub>v x = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<exists>x1\\<in>carrier_vec nr.\n      \\<exists>x2\\<in>carrier_vec nc.\n         \\<exists>x3\\<in>carrier_vec nc.\n            0\\<^sub>v n \\<le> x1 @\\<^sub>v x2 @\\<^sub>v x3 \\<and>\n            B *\\<^sub>v (x1 @\\<^sub>v x2 @\\<^sub>v x3) = b) =\n  (\\<exists>x\\<in>carrier_vec n.\n      0\\<^sub>v n \\<le> x \\<and> B *\\<^sub>v x = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<exists>x \\<ge> 0\\<^sub>v n. B *\\<^sub>v x = b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<in>carrier_vec n.\n        0\\<^sub>v n \\<le> x \\<and> B *\\<^sub>v x = b) =\n    (\\<exists>x\\<ge>0\\<^sub>v n. B *\\<^sub>v x = b)", "unfolding less_eq_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<in>carrier_vec n.\n        (dim_vec (0\\<^sub>v n) = dim_vec x \\<and>\n         (\\<forall>i<dim_vec x. 0\\<^sub>v n $ i \\<le> x $ i)) \\<and>\n        B *\\<^sub>v x = b) =\n    (\\<exists>x.\n        (dim_vec (0\\<^sub>v n) = dim_vec x \\<and>\n         (\\<forall>i<dim_vec x. 0\\<^sub>v n $ i \\<le> x $ i)) \\<and>\n        B *\\<^sub>v x = b)", "by fastforce"], ["proof (state)\nthis:\n  (\\<exists>x\\<in>carrier_vec n.\n      0\\<^sub>v n \\<le> x \\<and> B *\\<^sub>v x = b) =\n  (\\<exists>x\\<ge>0\\<^sub>v n. B *\\<^sub>v x = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<exists>x\\<in>carrier_vec n.\n      0\\<^sub>v n \\<le> x \\<and> B *\\<^sub>v x = b) =\n  (\\<exists>x\\<ge>0\\<^sub>v n. B *\\<^sub>v x = b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<forall> y. y \\<in> carrier_vec nr \\<longrightarrow> B\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v n \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x\\<ge>0\\<^sub>v n. B *\\<^sub>v x = b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec nr \\<longrightarrow>\n        0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "by (rule gram_schmidt.Farkas_Lemma[OF B b])"], ["proof (state)\nthis:\n  (\\<exists>x\\<ge>0\\<^sub>v n. B *\\<^sub>v x = b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec nr \\<longrightarrow>\n      0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "also"], ["proof (state)\nthis:\n  (\\<exists>x\\<ge>0\\<^sub>v n. B *\\<^sub>v x = b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec nr \\<longrightarrow>\n      0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "have \"\\<dots> = (\\<forall> y. y \\<in> carrier_vec nr \\<longrightarrow> (y \\<ge> 0\\<^sub>v nr \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc) \\<longrightarrow> y \\<bullet> b \\<ge> 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y.\n        y \\<in> carrier_vec nr \\<longrightarrow>\n        0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b) =\n    (\\<forall>y.\n        y \\<in> carrier_vec nr \\<longrightarrow>\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "proof (intro all_cong imp_cong refl)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "fix y :: \"'a vec\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "assume y: \"y \\<in> carrier_vec nr\""], ["proof (state)\nthis:\n  y \\<in> carrier_vec nr\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have idtcarr: \"(1\\<^sub>m nr)\\<^sup>T \\<in> carrier_mat nr nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1\\<^sub>m nr)\\<^sup>T \\<in> carrier_mat nr nr", "by auto"], ["proof (state)\nthis:\n  (1\\<^sub>m nr)\\<^sup>T \\<in> carrier_mat nr nr\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have Atcarr: \"A\\<^sup>T \\<in> carrier_mat nc nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sup>T \\<in> carrier_mat nc nr", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. A\\<^sup>T \\<in> carrier_mat nc nr", "by auto"], ["proof (state)\nthis:\n  A\\<^sup>T \\<in> carrier_mat nc nr\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have mAtcarr: \"(-A)\\<^sup>T \\<in> carrier_mat nc nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- A)\\<^sup>T \\<in> carrier_mat nc nr", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. (- A)\\<^sup>T \\<in> carrier_mat nc nr", "by auto"], ["proof (state)\nthis:\n  (- A)\\<^sup>T \\<in> carrier_mat nc nr\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have AtAtcarr: \"A\\<^sup>T @\\<^sub>r (-A)\\<^sup>T \\<in> carrier_mat (nc + nc) nr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T \\<in> carrier_mat (nc + nc) nr", "using A"], ["proof (prove)\nusing this:\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T \\<in> carrier_mat (nc + nc) nr", "by auto"], ["proof (state)\nthis:\n  A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T \\<in> carrier_mat (nc + nc) nr\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"B\\<^sup>T *\\<^sub>v y = ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r A\\<^sup>T @\\<^sub>r (-A)\\<^sup>T) *\\<^sub>v y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B\\<^sup>T *\\<^sub>v y =\n    ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n     A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n    y", "unfolding B_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (1\\<^sub>m nr @\\<^sub>c A @\\<^sub>c - A)\\<^sup>T *\\<^sub>v y =\n    ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n     A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n    y", "by (simp add: append_cols_def)"], ["proof (state)\nthis:\n  B\\<^sup>T *\\<^sub>v y =\n  ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n   A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n  y\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "also"], ["proof (state)\nthis:\n  B\\<^sup>T *\\<^sub>v y =\n  ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n   A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n  y\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"\\<dots> = ((1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y) @\\<^sub>v (A\\<^sup>T *\\<^sub>v y) @\\<^sub>v ((-A)\\<^sup>T *\\<^sub>v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n     A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n    y =\n    (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n    A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y", "using mat_mult_append[OF Atcarr mAtcarr y] mat_mult_append y Atcarr idtcarr mAtcarr"], ["proof (prove)\nusing this:\n  (A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v y =\n  A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y\n  \\<lbrakk>?A \\<in> carrier_mat ?nr1.0 ?nc; ?B \\<in> carrier_mat ?nr2.0 ?nc;\n   ?v \\<in> carrier_vec ?nc\\<rbrakk>\n  \\<Longrightarrow> (?A @\\<^sub>r ?B) *\\<^sub>v ?v =\n                    ?A *\\<^sub>v ?v @\\<^sub>v ?B *\\<^sub>v ?v\n  y \\<in> carrier_vec nr\n  A\\<^sup>T \\<in> carrier_mat nc nr\n  (1\\<^sub>m nr)\\<^sup>T \\<in> carrier_mat nr nr\n  (- A)\\<^sup>T \\<in> carrier_mat nc nr\n\ngoal (1 subgoal):\n 1. ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n     A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n    y =\n    (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n    A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y", "by (metis AtAtcarr)"], ["proof (state)\nthis:\n  ((1\\<^sub>m nr)\\<^sup>T @\\<^sub>r\n   A\\<^sup>T @\\<^sub>r (- A)\\<^sup>T) *\\<^sub>v\n  y =\n  (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n  A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "finally"], ["proof (chain)\npicking this:\n  B\\<^sup>T *\\<^sub>v y =\n  (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n  A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y", "have eq: \"B\\<^sup>T *\\<^sub>v y = ((1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y) @\\<^sub>v (A\\<^sup>T *\\<^sub>v y) @\\<^sub>v ((-A)\\<^sup>T *\\<^sub>v y)\""], ["proof (prove)\nusing this:\n  B\\<^sup>T *\\<^sub>v y =\n  (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n  A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y\n\ngoal (1 subgoal):\n 1. B\\<^sup>T *\\<^sub>v y =\n    (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n    A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y", "by auto"], ["proof (state)\nthis:\n  B\\<^sup>T *\\<^sub>v y =\n  (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n  A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"(B\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v n) = (0\\<^sub>v n \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v n\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)", "unfolding eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v n\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v n\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)", "by simp"], ["proof (state)\nthis:\n  (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v n\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "also"], ["proof (state)\nthis:\n  (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v n\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"\\<dots> = (((1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y) @\\<^sub>v (A\\<^sup>T *\\<^sub>v y) @\\<^sub>v ((-A)\\<^sup>T *\\<^sub>v y) \\<ge> 0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v n\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)", "using id0"], ["proof (prove)\nusing this:\n  0\\<^sub>v (nr + (nc + nc)) =\n  0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n\ngoal (1 subgoal):\n 1. (0\\<^sub>v n\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)", "by (metis eq n_def)"], ["proof (state)\nthis:\n  (0\\<^sub>v n\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "also"], ["proof (state)\nthis:\n  (0\\<^sub>v n\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"\\<dots> = (y \\<ge> 0\\<^sub>v nr \\<and> A\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v nc \\<and> ((-A)\\<^sup>T *\\<^sub>v y) \\<ge> 0\\<^sub>v nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n     \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n           A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v nr \\<le> y \\<and>\n     0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n     0\\<^sub>v nc \\<le> (- A)\\<^sup>T *\\<^sub>v y)", "by (metis Atcarr append_vec_le mult_mat_vec_carrier one_mult_mat_vec transpose_one y zero_carrier_vec)"], ["proof (state)\nthis:\n  (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> (- A)\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "also"], ["proof (state)\nthis:\n  (0\\<^sub>v nr @\\<^sub>v 0\\<^sub>v nc @\\<^sub>v 0\\<^sub>v nc\n   \\<le> (1\\<^sub>m nr)\\<^sup>T *\\<^sub>v y @\\<^sub>v\n         A\\<^sup>T *\\<^sub>v y @\\<^sub>v (- A)\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> (- A)\\<^sup>T *\\<^sub>v y)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"\\<dots> = (y \\<ge> 0\\<^sub>v nr \\<and>A\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v nc \\<and> -(A\\<^sup>T *\\<^sub>v y) \\<ge> 0\\<^sub>v nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v nr \\<le> y \\<and>\n     0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n     0\\<^sub>v nc \\<le> (- A)\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v nr \\<le> y \\<and>\n     0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n     0\\<^sub>v nc \\<le> - (A\\<^sup>T *\\<^sub>v y))", "by (metis A Atcarr carrier_matD(2) carrier_vecD transpose_uminus uminus_mult_mat_vec y)"], ["proof (state)\nthis:\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> (- A)\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> - (A\\<^sup>T *\\<^sub>v y))\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "also"], ["proof (state)\nthis:\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> (- A)\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> - (A\\<^sup>T *\\<^sub>v y))\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"\\<dots> = (y \\<ge> 0\\<^sub>v nr \\<and>A\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v nc \\<and> (A\\<^sup>T *\\<^sub>v y) \\<le> 0\\<^sub>v nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v nr \\<le> y \\<and>\n     0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n     0\\<^sub>v nc \\<le> - (A\\<^sup>T *\\<^sub>v y)) =\n    (0\\<^sub>v nr \\<le> y \\<and>\n     0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n     A\\<^sup>T *\\<^sub>v y \\<le> 0\\<^sub>v nc)", "by (metis (mono_tags, lifting) A Atcarr carrier_matD(2) carrier_vecD index_zero_vec(2) \n          mAtcarr mult_mat_vec_carrier transpose_uminus uminus_mult_mat_vec uminus_uminus_vec\n          vec_le_iff_diff_le_0 y zero_minus_vec)"], ["proof (state)\nthis:\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> - (A\\<^sup>T *\\<^sub>v y)) =\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   A\\<^sup>T *\\<^sub>v y \\<le> 0\\<^sub>v nc)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "also"], ["proof (state)\nthis:\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   0\\<^sub>v nc \\<le> - (A\\<^sup>T *\\<^sub>v y)) =\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   A\\<^sup>T *\\<^sub>v y \\<le> 0\\<^sub>v nc)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "have \"\\<dots> = (y \\<ge> 0\\<^sub>v nr \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0\\<^sub>v nr \\<le> y \\<and>\n     0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n     A\\<^sup>T *\\<^sub>v y \\<le> 0\\<^sub>v nc) =\n    (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "by auto"], ["proof (state)\nthis:\n  (0\\<^sub>v nr \\<le> y \\<and>\n   0\\<^sub>v nc \\<le> A\\<^sup>T *\\<^sub>v y \\<and>\n   A\\<^sup>T *\\<^sub>v y \\<le> 0\\<^sub>v nc) =\n  (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> carrier_vec nr \\<Longrightarrow>\n       (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n       (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "finally"], ["proof (chain)\npicking this:\n  (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "show \"(B\\<^sup>T *\\<^sub>v y \\<ge> 0\\<^sub>v n) = (y \\<ge> 0\\<^sub>v nr \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)\""], ["proof (prove)\nusing this:\n  (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)\n\ngoal (1 subgoal):\n 1. (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n    (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)", "."], ["proof (state)\nthis:\n  (0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y) =\n  (0\\<^sub>v nr \\<le> y \\<and> A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>y.\n      y \\<in> carrier_vec nr \\<longrightarrow>\n      0\\<^sub>v n \\<le> B\\<^sup>T *\\<^sub>v y \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec nr \\<longrightarrow>\n      0\\<^sub>v nr \\<le> y \\<and>\n      A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "finally"], ["proof (chain)\npicking this:\n  (\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec nr \\<longrightarrow>\n      0\\<^sub>v nr \\<le> y \\<and>\n      A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>x\\<in>carrier_vec nc. A *\\<^sub>v x \\<le> b) =\n  (\\<forall>y.\n      y \\<in> carrier_vec nr \\<longrightarrow>\n      0\\<^sub>v nr \\<le> y \\<and>\n      A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n    (\\<forall>y.\n        0\\<^sub>v nr \\<le> y \\<and>\n        A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n        (0::'a) \\<le> y \\<bullet> b)", "by (auto simp: less_eq_vec_def)"], ["proof (state)\nthis:\n  (\\<exists>x. x \\<in> carrier_vec nc \\<and> A *\\<^sub>v x \\<le> b) =\n  (\\<forall>y.\n      0\\<^sub>v nr \\<le> y \\<and>\n      A\\<^sup>T *\\<^sub>v y = 0\\<^sub>v nc \\<longrightarrow>\n      (0::'a) \\<le> y \\<bullet> b)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}