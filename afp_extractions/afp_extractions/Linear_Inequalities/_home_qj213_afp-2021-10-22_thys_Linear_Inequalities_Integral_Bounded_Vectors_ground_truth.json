{"file_name": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities/Integral_Bounded_Vectors.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Linear_Inequalities", "problem_names": ["lemma sq_norm_unit_vec[simp]: assumes i: \"i < n\"\n  shows \"\\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1 :: 'a :: {comm_ring_1,conjugatable_ring})\"", "lemma indexed_Ints_vec_UNIV: \"\\<int>\\<^sub>v = indexed_Ints_vec UNIV\"", "lemma indexed_Ints_vec_subset: \"\\<int>\\<^sub>v \\<subseteq> indexed_Ints_vec I\"", "lemma Ints_vec_vec_set: \"v \\<in> \\<int>\\<^sub>v = (vec_set v \\<subseteq> \\<int>)\"", "lemma Ints_mat_elements_mat: \"A \\<in> \\<int>\\<^sub>m = (elements_mat A \\<subseteq> \\<int>)\"", "lemma minus_in_Ints_vec_iff[simp]: \"(-x) \\<in> \\<int>\\<^sub>v \\<longleftrightarrow> (x :: 'a :: ring_1 vec) \\<in> \\<int>\\<^sub>v\"", "lemma minus_in_Ints_mat_iff[simp]: \"(-A) \\<in> \\<int>\\<^sub>m \\<longleftrightarrow> (A :: 'a :: ring_1 mat) \\<in> \\<int>\\<^sub>m\"", "lemma Ints_vec_rows_Ints_mat[simp]: \"set (rows A) \\<subseteq> \\<int>\\<^sub>v \\<longleftrightarrow> A \\<in> \\<int>\\<^sub>m\"", "lemma unit_vec_integral[simp,intro]: \"unit_vec n i \\<in> \\<int>\\<^sub>v\"", "lemma diff_indexed_Ints_vec:\n  \"x \\<in> carrier_vec n \\<Longrightarrow> y \\<in> carrier_vec n \\<Longrightarrow> x \\<in> indexed_Ints_vec I \\<Longrightarrow> y \\<in> indexed_Ints_vec I\n  \\<Longrightarrow> x - y \\<in> indexed_Ints_vec I\"", "lemma smult_indexed_Ints_vec: \"x \\<in> \\<int> \\<Longrightarrow> v \\<in> indexed_Ints_vec I \\<Longrightarrow> x \\<cdot>\\<^sub>v v \\<in> indexed_Ints_vec I\"", "lemma add_indexed_Ints_vec:\n  \"x \\<in> carrier_vec n \\<Longrightarrow> y \\<in> carrier_vec n \\<Longrightarrow> x \\<in> indexed_Ints_vec I \\<Longrightarrow> y \\<in> indexed_Ints_vec I\n  \\<Longrightarrow> x + y \\<in> indexed_Ints_vec I\"", "lemma (in vec_space) lincomb_indexed_Ints_vec: assumes cI: \"\\<And> x. x \\<in> C \\<Longrightarrow> c x \\<in> \\<int>\"\n  and C: \"C \\<subseteq> carrier_vec n\"\n  and CI: \"C \\<subseteq> indexed_Ints_vec I\"\nshows \"lincomb c C \\<in> indexed_Ints_vec I\"", "lemma Bounded_vec_vec_set: \"v \\<in> Bounded_vec b \\<longleftrightarrow> (\\<forall> x \\<in> vec_set v. abs x \\<le> b)\"", "lemma Bounded_mat_elements_mat: \"A \\<in> Bounded_mat b \\<longleftrightarrow> (\\<forall> x \\<in> elements_mat A. abs x \\<le> b)\"", "lemma Bounded_vec_rows_Bounded_mat[simp]: \"set (rows A) \\<subseteq> Bounded_vec B \\<longleftrightarrow> A \\<in> Bounded_mat B\"", "lemma unit_vec_Bounded_vec[simp,intro]: \"unit_vec n i \\<in> Bounded_vec (max 1 Bnd)\"", "lemma Bounded_matD: assumes \"A \\<in> Bounded_mat b\"\n  \"A \\<in> carrier_mat nr nc\"\nshows \"i < nr \\<Longrightarrow> j < nc \\<Longrightarrow> abs (A $$ (i,j)) \\<le> b\"", "lemma Bounded_vec_mono: \"b \\<le> B \\<Longrightarrow> Bounded_vec b \\<subseteq> Bounded_vec B\"", "lemma Bounded_mat_mono: \"b \\<le> B \\<Longrightarrow> Bounded_mat b \\<subseteq> Bounded_mat B\"", "lemma finite_Bounded_vec_Max:\n  assumes A: \"A \\<subseteq> carrier_vec n\"\n    and fin: \"finite A\"\n  shows \"A \\<subseteq> Bounded_vec (Max { abs (a $ i) | a i. a \\<in> A \\<and> i < n})\"", "lemma det_bound: assumes A: \"A \\<in> carrier_mat n n\"\n  and x: \"A \\<in> Bounded_mat x\"\nshows \"abs (det A) \\<le> det_bound n x\"", "lemma minus_in_Bounded_vec[simp]:\n  \"(-x) \\<in> Bounded_vec b \\<longleftrightarrow> x \\<in> Bounded_vec b\"", "lemma sum_in_Bounded_vecI[intro]: assumes\n  xB: \"x \\<in> Bounded_vec B1\" and\n  yB: \"y \\<in> Bounded_vec B2\" and\n  x: \"x \\<in> carrier_vec n\" and\n  y: \"y \\<in> carrier_vec n\"\nshows \"x + y \\<in> Bounded_vec (B1 + B2)\"", "lemma (in gram_schmidt) lincomb_card_bound: assumes XBnd: \"X \\<subseteq> Bounded_vec Bnd\"\n  and X: \"X \\<subseteq> carrier_vec n\"\n  and Bnd: \"Bnd \\<ge> 0\"\n  and c: \"\\<And> x. x \\<in> X \\<Longrightarrow> abs (c x) \\<le> 1\"\n  and card: \"card X \\<le> k\"\nshows \"lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)\"", "lemma bounded_vecset_sum:\n  assumes Acarr: \"A \\<subseteq> carrier_vec n\"\n    and Bcarr: \"B \\<subseteq> carrier_vec n\"\n    and sum: \"C = A + B\"\n    and Cbnd: \"\\<exists> bndC. C \\<subseteq> Bounded_vec bndC\"\n  shows \"A \\<noteq> {} \\<Longrightarrow> (\\<exists> bndB. B \\<subseteq> Bounded_vec bndB)\"\n    and \"B \\<noteq> {} \\<Longrightarrow> (\\<exists> bndA. A \\<subseteq> Bounded_vec bndA)\""], "translations": [["", "lemma sq_norm_unit_vec[simp]: assumes i: \"i < n\"\n  shows \"\\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1 :: 'a :: {comm_ring_1,conjugatable_ring})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1::'a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1::'a)", "from i"], ["proof (chain)\npicking this:\n  i < n", "have id: \"[0..<n] = [0..<i] @ [i] @ [Suc i ..< n]\""], ["proof (prove)\nusing this:\n  i < n\n\ngoal (1 subgoal):\n 1. [0..<n] = [0..<i] @ [i] @ [Suc i..<n]", "by (metis append_Cons append_Nil diff_zero length_upt list_trisect)"], ["proof (state)\nthis:\n  [0..<n] = [0..<i] @ [i] @ [Suc i..<n]\n\ngoal (1 subgoal):\n 1. \\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1::'a)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1::'a)", "unfolding sq_norm_vec_def unit_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sum_list\n     (map sq_norm\n       (list_of_vec\n         (vec n (\\<lambda>j. if j = i then 1::'a else (0::'a))))) =\n    (1::'a)", "by (auto simp: o_def id, subst (1 2) sum_list_0, auto)"], ["proof (state)\nthis:\n  \\<parallel>unit_vec n i\\<parallel>\\<^sup>2 = (1::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition Ints_vec (\"\\<int>\\<^sub>v\") where\n  \"\\<int>\\<^sub>v = {x. \\<forall> i < dim_vec x. x $ i \\<in> \\<int>}\""], ["", "definition indexed_Ints_vec  where\n  \"indexed_Ints_vec I = {x. \\<forall> i < dim_vec x. i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}\""], ["", "lemma indexed_Ints_vec_UNIV: \"\\<int>\\<^sub>v = indexed_Ints_vec UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<int>\\<^sub>v = indexed_Ints_vec UNIV", "unfolding Ints_vec_def indexed_Ints_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>} =\n    {x. \\<forall>i<dim_vec x.\n           i \\<in> UNIV \\<longrightarrow> x $ i \\<in> \\<int>}", "by auto"], ["", "lemma indexed_Ints_vec_subset: \"\\<int>\\<^sub>v \\<subseteq> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<int>\\<^sub>v \\<subseteq> indexed_Ints_vec I", "unfolding Ints_vec_def indexed_Ints_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>}\n    \\<subseteq> {x. \\<forall>i<dim_vec x.\n                       i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}", "by auto"], ["", "lemma Ints_vec_vec_set: \"v \\<in> \\<int>\\<^sub>v = (vec_set v \\<subseteq> \\<int>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v \\<in> \\<int>\\<^sub>v) = (set\\<^sub>v v \\<subseteq> \\<int>)", "unfolding Ints_vec_def vec_set_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (v \\<in> {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>}) =\n    (($) v ` {..<dim_vec v} \\<subseteq> \\<int>)", "by auto"], ["", "definition Ints_mat (\"\\<int>\\<^sub>m\") where\n  \"\\<int>\\<^sub>m = {A. \\<forall> i < dim_row A. \\<forall> j < dim_col A. A $$ (i,j) \\<in> \\<int>}\""], ["", "lemma Ints_mat_elements_mat: \"A \\<in> \\<int>\\<^sub>m = (elements_mat A \\<subseteq> \\<int>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<in> \\<int>\\<^sub>m) = (elements_mat A \\<subseteq> \\<int>)", "unfolding Ints_mat_def elements_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<in> {A. \\<forall>i<dim_row A.\n                    \\<forall>j<dim_col A. A $$ (i, j) \\<in> \\<int>}) =\n    (set (concat\n           (map (\\<lambda>i. map (\\<lambda>j. A $$ (i, j)) [0..<dim_col A])\n             [0..<dim_row A]))\n     \\<subseteq> \\<int>)", "by force"], ["", "lemma minus_in_Ints_vec_iff[simp]: \"(-x) \\<in> \\<int>\\<^sub>v \\<longleftrightarrow> (x :: 'a :: ring_1 vec) \\<in> \\<int>\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- x \\<in> \\<int>\\<^sub>v) = (x \\<in> \\<int>\\<^sub>v)", "unfolding Ints_vec_vec_set"], ["proof (prove)\ngoal (1 subgoal):\n 1. (set\\<^sub>v (- x) \\<subseteq> \\<int>) =\n    (set\\<^sub>v x \\<subseteq> \\<int>)", "by (auto simp: minus_in_Ints_iff)"], ["", "lemma minus_in_Ints_mat_iff[simp]: \"(-A) \\<in> \\<int>\\<^sub>m \\<longleftrightarrow> (A :: 'a :: ring_1 mat) \\<in> \\<int>\\<^sub>m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- A \\<in> \\<int>\\<^sub>m) = (A \\<in> \\<int>\\<^sub>m)", "unfolding Ints_mat_elements_mat"], ["proof (prove)\ngoal (1 subgoal):\n 1. (elements_mat (- A) \\<subseteq> \\<int>) =\n    (elements_mat A \\<subseteq> \\<int>)", "by (auto simp: minus_in_Ints_iff)"], ["", "lemma Ints_vec_rows_Ints_mat[simp]: \"set (rows A) \\<subseteq> \\<int>\\<^sub>v \\<longleftrightarrow> A \\<in> \\<int>\\<^sub>m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (set (rows A) \\<subseteq> \\<int>\\<^sub>v) = (A \\<in> \\<int>\\<^sub>m)", "unfolding rows_def Ints_vec_def Ints_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (set (map (row A) [0..<dim_row A])\n     \\<subseteq> {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>}) =\n    (A \\<in> {A. \\<forall>i<dim_row A.\n                    \\<forall>j<dim_col A. A $$ (i, j) \\<in> \\<int>})", "by force"], ["", "lemma unit_vec_integral[simp,intro]: \"unit_vec n i \\<in> \\<int>\\<^sub>v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unit_vec n i \\<in> \\<int>\\<^sub>v", "unfolding Ints_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. unit_vec n i \\<in> {x. \\<forall>i<dim_vec x. x $ i \\<in> \\<int>}", "by (auto simp: unit_vec_def)"], ["", "lemma diff_indexed_Ints_vec:\n  \"x \\<in> carrier_vec n \\<Longrightarrow> y \\<in> carrier_vec n \\<Longrightarrow> x \\<in> indexed_Ints_vec I \\<Longrightarrow> y \\<in> indexed_Ints_vec I\n  \\<Longrightarrow> x - y \\<in> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier_vec n; y \\<in> carrier_vec n;\n     x \\<in> indexed_Ints_vec I; y \\<in> indexed_Ints_vec I\\<rbrakk>\n    \\<Longrightarrow> x - y \\<in> indexed_Ints_vec I", "unfolding indexed_Ints_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier_vec n; y \\<in> carrier_vec n;\n     x \\<in> {x. \\<forall>i<dim_vec x.\n                    i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>};\n     y \\<in> {x. \\<forall>i<dim_vec x.\n                    i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}\\<rbrakk>\n    \\<Longrightarrow> x - y\n                      \\<in> {x. \\<forall>i<dim_vec x.\n                                   i \\<in> I \\<longrightarrow>\n                                   x $ i \\<in> \\<int>}", "by auto"], ["", "lemma smult_indexed_Ints_vec: \"x \\<in> \\<int> \\<Longrightarrow> v \\<in> indexed_Ints_vec I \\<Longrightarrow> x \\<cdot>\\<^sub>v v \\<in> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> \\<int>; v \\<in> indexed_Ints_vec I\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot>\\<^sub>v v \\<in> indexed_Ints_vec I", "unfolding indexed_Ints_vec_def smult_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> \\<int>;\n     v \\<in> {x. \\<forall>i<dim_vec x.\n                    i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}\\<rbrakk>\n    \\<Longrightarrow> vec (dim_vec v) (\\<lambda>i. x * v $ i)\n                      \\<in> {x. \\<forall>i<dim_vec x.\n                                   i \\<in> I \\<longrightarrow>\n                                   x $ i \\<in> \\<int>}", "by simp"], ["", "lemma add_indexed_Ints_vec:\n  \"x \\<in> carrier_vec n \\<Longrightarrow> y \\<in> carrier_vec n \\<Longrightarrow> x \\<in> indexed_Ints_vec I \\<Longrightarrow> y \\<in> indexed_Ints_vec I\n  \\<Longrightarrow> x + y \\<in> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier_vec n; y \\<in> carrier_vec n;\n     x \\<in> indexed_Ints_vec I; y \\<in> indexed_Ints_vec I\\<rbrakk>\n    \\<Longrightarrow> x + y \\<in> indexed_Ints_vec I", "unfolding indexed_Ints_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> carrier_vec n; y \\<in> carrier_vec n;\n     x \\<in> {x. \\<forall>i<dim_vec x.\n                    i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>};\n     y \\<in> {x. \\<forall>i<dim_vec x.\n                    i \\<in> I \\<longrightarrow> x $ i \\<in> \\<int>}\\<rbrakk>\n    \\<Longrightarrow> x + y\n                      \\<in> {x. \\<forall>i<dim_vec x.\n                                   i \\<in> I \\<longrightarrow>\n                                   x $ i \\<in> \\<int>}", "by auto"], ["", "lemma (in vec_space) lincomb_indexed_Ints_vec: assumes cI: \"\\<And> x. x \\<in> C \\<Longrightarrow> c x \\<in> \\<int>\"\n  and C: \"C \\<subseteq> carrier_vec n\"\n  and CI: \"C \\<subseteq> indexed_Ints_vec I\"\nshows \"lincomb c C \\<in> indexed_Ints_vec I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c C \\<in> indexed_Ints_vec I", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. lincomb c C \\<in> indexed_Ints_vec I", "from C"], ["proof (chain)\npicking this:\n  C \\<subseteq> carrier_vec n", "have id: \"dim_vec (lincomb c C) = n\""], ["proof (prove)\nusing this:\n  C \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. dim_vec (lincomb c C) = n", "by auto"], ["proof (state)\nthis:\n  dim_vec (lincomb c C) = n\n\ngoal (1 subgoal):\n 1. lincomb c C \\<in> indexed_Ints_vec I", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c C \\<in> indexed_Ints_vec I", "unfolding indexed_Ints_vec_def mem_Collect_eq id"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<n. i \\<in> I \\<longrightarrow> lincomb c C $ i \\<in> \\<int>", "proof (intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i < n; i \\<in> I\\<rbrakk>\n       \\<Longrightarrow> lincomb c C $ i \\<in> \\<int>", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i < n; i \\<in> I\\<rbrakk>\n       \\<Longrightarrow> lincomb c C $ i \\<in> \\<int>", "assume i: \"i < n\" and iI: \"i \\<in> I\""], ["proof (state)\nthis:\n  i < n\n  i \\<in> I\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i < n; i \\<in> I\\<rbrakk>\n       \\<Longrightarrow> lincomb c C $ i \\<in> \\<int>", "have \"lincomb c C $ i = (\\<Sum>x\\<in>C. c x * x $ i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c C $ i = (\\<Sum>x\\<in>C. c x * x $ i)", "by (rule lincomb_index[OF i C])"], ["proof (state)\nthis:\n  lincomb c C $ i = (\\<Sum>x\\<in>C. c x * x $ i)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i < n; i \\<in> I\\<rbrakk>\n       \\<Longrightarrow> lincomb c C $ i \\<in> \\<int>", "also"], ["proof (state)\nthis:\n  lincomb c C $ i = (\\<Sum>x\\<in>C. c x * x $ i)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i < n; i \\<in> I\\<rbrakk>\n       \\<Longrightarrow> lincomb c C $ i \\<in> \\<int>", "have \"\\<dots> \\<in> \\<int>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>C. c x * x $ i) \\<in> \\<int>", "by (intro Ints_sum Ints_mult cI, insert i iI CI[unfolded indexed_Ints_vec_def] C, force+)"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>C. c x * x $ i) \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>i < n; i \\<in> I\\<rbrakk>\n       \\<Longrightarrow> lincomb c C $ i \\<in> \\<int>", "finally"], ["proof (chain)\npicking this:\n  lincomb c C $ i \\<in> \\<int>", "show \"lincomb c C $ i \\<in> \\<int>\""], ["proof (prove)\nusing this:\n  lincomb c C $ i \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. lincomb c C $ i \\<in> \\<int>", "."], ["proof (state)\nthis:\n  lincomb c C $ i \\<in> \\<int>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  lincomb c C \\<in> indexed_Ints_vec I\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"Bounded_vec (b :: 'a :: linordered_idom) = {x . \\<forall> i < dim_vec x . abs (x $ i) \\<le> b}\""], ["", "lemma Bounded_vec_vec_set: \"v \\<in> Bounded_vec b \\<longleftrightarrow> (\\<forall> x \\<in> vec_set v. abs x \\<le> b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v \\<in> Bounded_vec b) =\n    (\\<forall>x\\<in>set\\<^sub>v v. \\<bar>x\\<bar> \\<le> b)", "unfolding Bounded_vec_def vec_set_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (v \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> b}) =\n    (\\<forall>x\\<in>($) v ` {..<dim_vec v}. \\<bar>x\\<bar> \\<le> b)", "by auto"], ["", "definition \"Bounded_mat (b :: 'a :: linordered_idom) =\n  {A . (\\<forall> i < dim_row A . \\<forall> j < dim_col A. abs (A $$ (i,j)) \\<le> b)}\""], ["", "lemma Bounded_mat_elements_mat: \"A \\<in> Bounded_mat b \\<longleftrightarrow> (\\<forall> x \\<in> elements_mat A. abs x \\<le> b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<in> Bounded_mat b) =\n    (\\<forall>x\\<in>elements_mat A. \\<bar>x\\<bar> \\<le> b)", "unfolding Bounded_mat_def elements_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<in> {A. \\<forall>i<dim_row A.\n                    \\<forall>j<dim_col A.\n                       \\<bar>A $$ (i, j)\\<bar> \\<le> b}) =\n    (\\<forall>x\\<in>set (concat\n                          (map (\\<lambda>i.\n                                   map (\\<lambda>j. A $$ (i, j))\n                                    [0..<dim_col A])\n                            [0..<dim_row A])).\n        \\<bar>x\\<bar> \\<le> b)", "by auto"], ["", "lemma Bounded_vec_rows_Bounded_mat[simp]: \"set (rows A) \\<subseteq> Bounded_vec B \\<longleftrightarrow> A \\<in> Bounded_mat B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (set (rows A) \\<subseteq> Bounded_vec B) = (A \\<in> Bounded_mat B)", "unfolding rows_def Bounded_vec_def Bounded_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (set (map (row A) [0..<dim_row A])\n     \\<subseteq> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> B}) =\n    (A \\<in> {A. \\<forall>i<dim_row A.\n                    \\<forall>j<dim_col A. \\<bar>A $$ (i, j)\\<bar> \\<le> B})", "by force"], ["", "lemma unit_vec_Bounded_vec[simp,intro]: \"unit_vec n i \\<in> Bounded_vec (max 1 Bnd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. unit_vec n i \\<in> Bounded_vec (max (1::'a) Bnd)", "unfolding Bounded_vec_def unit_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. vec n (\\<lambda>j. if j = i then 1::'a else (0::'a))\n    \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> max (1::'a) Bnd}", "by auto"], ["", "lemma Bounded_matD: assumes \"A \\<in> Bounded_mat b\"\n  \"A \\<in> carrier_mat nr nc\"\nshows \"i < nr \\<Longrightarrow> j < nc \\<Longrightarrow> abs (A $$ (i,j)) \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i < nr; j < nc\\<rbrakk>\n    \\<Longrightarrow> \\<bar>A $$ (i, j)\\<bar> \\<le> b", "using assms"], ["proof (prove)\nusing this:\n  A \\<in> Bounded_mat b\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < nr; j < nc\\<rbrakk>\n    \\<Longrightarrow> \\<bar>A $$ (i, j)\\<bar> \\<le> b", "unfolding Bounded_mat_def"], ["proof (prove)\nusing this:\n  A \\<in> {A. \\<forall>i<dim_row A.\n                 \\<forall>j<dim_col A. \\<bar>A $$ (i, j)\\<bar> \\<le> b}\n  A \\<in> carrier_mat nr nc\n\ngoal (1 subgoal):\n 1. \\<lbrakk>i < nr; j < nc\\<rbrakk>\n    \\<Longrightarrow> \\<bar>A $$ (i, j)\\<bar> \\<le> b", "by auto"], ["", "lemma Bounded_vec_mono: \"b \\<le> B \\<Longrightarrow> Bounded_vec b \\<subseteq> Bounded_vec B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> B \\<Longrightarrow> Bounded_vec b \\<subseteq> Bounded_vec B", "unfolding Bounded_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> B \\<Longrightarrow>\n    {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> b}\n    \\<subseteq> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> B}", "by auto"], ["", "lemma Bounded_mat_mono: \"b \\<le> B \\<Longrightarrow> Bounded_mat b \\<subseteq> Bounded_mat B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> B \\<Longrightarrow> Bounded_mat b \\<subseteq> Bounded_mat B", "unfolding Bounded_mat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> B \\<Longrightarrow>\n    {A. \\<forall>i<dim_row A.\n           \\<forall>j<dim_col A. \\<bar>A $$ (i, j)\\<bar> \\<le> b}\n    \\<subseteq> {A. \\<forall>i<dim_row A.\n                       \\<forall>j<dim_col A.\n                          \\<bar>A $$ (i, j)\\<bar> \\<le> B}", "by force"], ["", "lemma finite_Bounded_vec_Max:\n  assumes A: \"A \\<subseteq> carrier_vec n\"\n    and fin: \"finite A\"\n  shows \"A \\<subseteq> Bounded_vec (Max { abs (a $ i) | a i. a \\<in> A \\<and> i < n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> Bounded_vec\n                   (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       x \\<in> Bounded_vec\n                (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "let ?B = \"{ abs (a $ i) | a i. a \\<in> A \\<and> i < n}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       x \\<in> Bounded_vec\n                (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "have fin: \"finite ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n}", "by (rule finite_subset[of _ \"(\\<lambda> (a,i). abs (a $ i)) ` (A \\<times> {0 ..< n})\"], insert fin, auto)"], ["proof (state)\nthis:\n  finite {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       x \\<in> Bounded_vec\n                (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       x \\<in> Bounded_vec\n                (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "assume a: \"a \\<in> A\""], ["proof (state)\nthis:\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> A \\<Longrightarrow>\n       x \\<in> Bounded_vec\n                (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "show \"a \\<in> Bounded_vec (Max ?B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> Bounded_vec\n             (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})", "unfolding Bounded_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<in> {x. \\<forall>i<dim_vec x.\n                   \\<bar>x $ i\\<bar>\n                   \\<le> Max {\\<bar>a $ i\\<bar> |a i.\n                              a \\<in> A \\<and> i < n}}", "by (standard, intro allI impI Max_ge[OF fin], insert a A, force)"], ["proof (state)\nthis:\n  a \\<in> Bounded_vec (Max {\\<bar>a $ i\\<bar> |a i. a \\<in> A \\<and> i < n})\n\ngoal:\nNo subgoals!", "qed"], ["", "definition det_bound :: \"nat \\<Rightarrow> 'a :: linordered_idom \\<Rightarrow> 'a\" where\n  \"det_bound n x = fact n * (x^n)\""], ["", "lemma det_bound: assumes A: \"A \\<in> carrier_mat n n\"\n  and x: \"A \\<in> Bounded_mat x\"\nshows \"abs (det A) \\<le> det_bound n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "have \"abs (det A) = abs (\\<Sum>p | p permutes {0..<n}. signof p * (\\<Prod>i = 0..<n. A $$ (i, p i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> =\n    \\<bar>\\<Sum>p | p permutes {0..<n}.\n            signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>", "unfolding det_def'[OF A]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>p | p permutes {0..<n}.\n            signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar> =\n    \\<bar>\\<Sum>p | p permutes {0..<n}.\n            signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>", ".."], ["proof (state)\nthis:\n  \\<bar>det A\\<bar> =\n  \\<bar>\\<Sum>p | p permutes {0..<n}.\n          signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "also"], ["proof (state)\nthis:\n  \\<bar>det A\\<bar> =\n  \\<bar>\\<Sum>p | p permutes {0..<n}.\n          signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "have \"\\<dots> \\<le> (\\<Sum>p | p permutes {0..<n}. abs (signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>p | p permutes {0..<n}.\n            signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>\n    \\<le> (\\<Sum>p | p permutes {0..<n}.\n             \\<bar>signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>)", "by (rule sum_abs)"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>p | p permutes {0..<n}.\n          signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>\n  \\<le> (\\<Sum>p | p permutes {0..<n}.\n           \\<bar>signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "also"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>p | p permutes {0..<n}.\n          signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>\n  \\<le> (\\<Sum>p | p permutes {0..<n}.\n           \\<bar>signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "have \"\\<dots> = (\\<Sum>p | p permutes {0..<n}. (\\<Prod>i = 0..<n. abs (A $$ (i, p i))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>p | p permutes {0..<n}.\n       \\<bar>signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>) =\n    (\\<Sum>p | p permutes {0..<n}.\n       \\<Prod>i = 0..<n. \\<bar>A $$ (i, p i)\\<bar>)", "by (rule sum.cong[OF refl], auto simp: abs_mult abs_prod signof_def)"], ["proof (state)\nthis:\n  (\\<Sum>p | p permutes {0..<n}.\n     \\<bar>signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>) =\n  (\\<Sum>p | p permutes {0..<n}.\n     \\<Prod>i = 0..<n. \\<bar>A $$ (i, p i)\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "also"], ["proof (state)\nthis:\n  (\\<Sum>p | p permutes {0..<n}.\n     \\<bar>signof p * (\\<Prod>i = 0..<n. A $$ (i, p i))\\<bar>) =\n  (\\<Sum>p | p permutes {0..<n}.\n     \\<Prod>i = 0..<n. \\<bar>A $$ (i, p i)\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "have \"\\<dots> \\<le> (\\<Sum>p | p permutes {0..<n}. (\\<Prod>i = 0..<n. x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>p | p permutes {0..<n}.\n       \\<Prod>i = 0..<n. \\<bar>A $$ (i, p i)\\<bar>)\n    \\<le> (\\<Sum>p | p permutes {0..<n}. \\<Prod>i = 0..<n. x)", "by (intro sum_mono prod_mono conjI Bounded_matD[OF x A], auto)"], ["proof (state)\nthis:\n  (\\<Sum>p | p permutes {0..<n}.\n     \\<Prod>i = 0..<n. \\<bar>A $$ (i, p i)\\<bar>)\n  \\<le> (\\<Sum>p | p permutes {0..<n}. \\<Prod>i = 0..<n. x)\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "also"], ["proof (state)\nthis:\n  (\\<Sum>p | p permutes {0..<n}.\n     \\<Prod>i = 0..<n. \\<bar>A $$ (i, p i)\\<bar>)\n  \\<le> (\\<Sum>p | p permutes {0..<n}. \\<Prod>i = 0..<n. x)\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "have \"\\<dots> = fact n * x^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>p | p permutes {0..<n}. \\<Prod>i = 0..<n. x) = fact n * x ^ n", "by (auto simp add: card_permutations)"], ["proof (state)\nthis:\n  (\\<Sum>p | p permutes {0..<n}. \\<Prod>i = 0..<n. x) = fact n * x ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "finally"], ["proof (chain)\npicking this:\n  \\<bar>det A\\<bar> \\<le> fact n * x ^ n", "show \"abs (det A) \\<le> det_bound n x\""], ["proof (prove)\nusing this:\n  \\<bar>det A\\<bar> \\<le> fact n * x ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> det_bound n x", "unfolding det_bound_def"], ["proof (prove)\nusing this:\n  \\<bar>det A\\<bar> \\<le> fact n * x ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>det A\\<bar> \\<le> fact n * x ^ n", "by auto"], ["proof (state)\nthis:\n  \\<bar>det A\\<bar> \\<le> det_bound n x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma minus_in_Bounded_vec[simp]:\n  \"(-x) \\<in> Bounded_vec b \\<longleftrightarrow> x \\<in> Bounded_vec b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (- x \\<in> Bounded_vec b) = (x \\<in> Bounded_vec b)", "unfolding Bounded_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (- x \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> b}) =\n    (x \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> b})", "by auto"], ["", "lemma sum_in_Bounded_vecI[intro]: assumes\n  xB: \"x \\<in> Bounded_vec B1\" and\n  yB: \"y \\<in> Bounded_vec B2\" and\n  x: \"x \\<in> carrier_vec n\" and\n  y: \"y \\<in> carrier_vec n\"\nshows \"x + y \\<in> Bounded_vec (B1 + B2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + y \\<in> Bounded_vec (B1 + B2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x + y \\<in> Bounded_vec (B1 + B2)", "from x y"], ["proof (chain)\npicking this:\n  x \\<in> carrier_vec n\n  y \\<in> carrier_vec n", "have id: \"dim_vec (x + y) = n\""], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. dim_vec (x + y) = n", "by auto"], ["proof (state)\nthis:\n  dim_vec (x + y) = n\n\ngoal (1 subgoal):\n 1. x + y \\<in> Bounded_vec (B1 + B2)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. x + y \\<in> Bounded_vec (B1 + B2)", "unfolding Bounded_vec_def mem_Collect_eq id"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<n. \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "proof (intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "assume i: \"i < n\""], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "with x y xB yB"], ["proof (chain)\npicking this:\n  x \\<in> carrier_vec n\n  y \\<in> carrier_vec n\n  x \\<in> Bounded_vec B1\n  y \\<in> Bounded_vec B2\n  i < n", "have *: \"abs (x $ i) \\<le> B1\" \"abs (y $ i) \\<le> B2\""], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  y \\<in> carrier_vec n\n  x \\<in> Bounded_vec B1\n  y \\<in> Bounded_vec B2\n  i < n\n\ngoal (1 subgoal):\n 1. \\<bar>x $ i\\<bar> \\<le> B1 &&& \\<bar>y $ i\\<bar> \\<le> B2", "unfolding Bounded_vec_def"], ["proof (prove)\nusing this:\n  x \\<in> carrier_vec n\n  y \\<in> carrier_vec n\n  x \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> B1}\n  y \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> B2}\n  i < n\n\ngoal (1 subgoal):\n 1. \\<bar>x $ i\\<bar> \\<le> B1 &&& \\<bar>y $ i\\<bar> \\<le> B2", "by auto"], ["proof (state)\nthis:\n  \\<bar>x $ i\\<bar> \\<le> B1\n  \\<bar>y $ i\\<bar> \\<le> B2\n\ngoal (1 subgoal):\n 1. \\<And>i. i < n \\<Longrightarrow> \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "thus \"\\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2\""], ["proof (prove)\nusing this:\n  \\<bar>x $ i\\<bar> \\<le> B1\n  \\<bar>y $ i\\<bar> \\<le> B2\n\ngoal (1 subgoal):\n 1. \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "using i x y"], ["proof (prove)\nusing this:\n  \\<bar>x $ i\\<bar> \\<le> B1\n  \\<bar>y $ i\\<bar> \\<le> B2\n  i < n\n  x \\<in> carrier_vec n\n  y \\<in> carrier_vec n\n\ngoal (1 subgoal):\n 1. \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2", "by simp"], ["proof (state)\nthis:\n  \\<bar>(x + y) $ i\\<bar> \\<le> B1 + B2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x + y \\<in> Bounded_vec (B1 + B2)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in gram_schmidt) lincomb_card_bound: assumes XBnd: \"X \\<subseteq> Bounded_vec Bnd\"\n  and X: \"X \\<subseteq> carrier_vec n\"\n  and Bnd: \"Bnd \\<ge> 0\"\n  and c: \"\\<And> x. x \\<in> X \\<Longrightarrow> abs (c x) \\<le> 1\"\n  and card: \"card X \\<le> k\"\nshows \"lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)", "from X"], ["proof (chain)\npicking this:\n  X \\<subseteq> carrier_vec n", "have dim: \"dim_vec (lincomb c X) = n\""], ["proof (prove)\nusing this:\n  X \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. dim_vec (lincomb c X) = n", "by auto"], ["proof (state)\nthis:\n  dim_vec (lincomb c X) = n\n\ngoal (1 subgoal):\n 1. lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)", "unfolding Bounded_vec_def mem_Collect_eq dim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i<n. \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "proof (intro allI impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "assume i: \"i < n\""], ["proof (state)\nthis:\n  i < n\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"abs (lincomb c X $ i) = abs (\\<Sum>x\\<in>X. c x * x $ i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>lincomb c X $ i\\<bar> = \\<bar>\\<Sum>x\\<in>X. c x * x $ i\\<bar>", "by (subst lincomb_index[OF i X], auto)"], ["proof (state)\nthis:\n  \\<bar>lincomb c X $ i\\<bar> = \\<bar>\\<Sum>x\\<in>X. c x * x $ i\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  \\<bar>lincomb c X $ i\\<bar> = \\<bar>\\<Sum>x\\<in>X. c x * x $ i\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> \\<le> (\\<Sum>x\\<in>X. abs (c x * x $ i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>x\\<in>X. c x * x $ i\\<bar>\n    \\<le> (\\<Sum>x\\<in>X. \\<bar>c x * x $ i\\<bar>)", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>x\\<in>X. c x * x $ i\\<bar>\n  \\<le> (\\<Sum>x\\<in>X. \\<bar>c x * x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>x\\<in>X. c x * x $ i\\<bar>\n  \\<le> (\\<Sum>x\\<in>X. \\<bar>c x * x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> = (\\<Sum>x\\<in>X. abs (c x) * abs (x $ i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>X. \\<bar>c x * x $ i\\<bar>) =\n    (\\<Sum>x\\<in>X. \\<bar>c x\\<bar> * \\<bar>x $ i\\<bar>)", "by (auto simp: abs_mult)"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. \\<bar>c x * x $ i\\<bar>) =\n  (\\<Sum>x\\<in>X. \\<bar>c x\\<bar> * \\<bar>x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. \\<bar>c x * x $ i\\<bar>) =\n  (\\<Sum>x\\<in>X. \\<bar>c x\\<bar> * \\<bar>x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> \\<le> (\\<Sum>x\\<in>X. 1 * abs (x $ i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>X. \\<bar>c x\\<bar> * \\<bar>x $ i\\<bar>)\n    \\<le> (\\<Sum>x\\<in>X. (1::'a) * \\<bar>x $ i\\<bar>)", "by (rule sum_mono[OF mult_right_mono], insert c, auto)"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. \\<bar>c x\\<bar> * \\<bar>x $ i\\<bar>)\n  \\<le> (\\<Sum>x\\<in>X. (1::'a) * \\<bar>x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. \\<bar>c x\\<bar> * \\<bar>x $ i\\<bar>)\n  \\<le> (\\<Sum>x\\<in>X. (1::'a) * \\<bar>x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> = (\\<Sum>x\\<in>X. abs (x $ i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>X. (1::'a) * \\<bar>x $ i\\<bar>) =\n    (\\<Sum>x\\<in>X. \\<bar>x $ i\\<bar>)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. (1::'a) * \\<bar>x $ i\\<bar>) =\n  (\\<Sum>x\\<in>X. \\<bar>x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. (1::'a) * \\<bar>x $ i\\<bar>) =\n  (\\<Sum>x\\<in>X. \\<bar>x $ i\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> \\<le> (\\<Sum>x\\<in>X. Bnd)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>X. \\<bar>x $ i\\<bar>) \\<le> (\\<Sum>x\\<in>X. Bnd)", "by (rule sum_mono, insert i XBnd[unfolded Bounded_vec_def] X, force)"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. \\<bar>x $ i\\<bar>) \\<le> (\\<Sum>x\\<in>X. Bnd)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. \\<bar>x $ i\\<bar>) \\<le> (\\<Sum>x\\<in>X. Bnd)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> = of_nat (card X) * Bnd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>X. Bnd) = of_nat (card X) * Bnd", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. Bnd) = of_nat (card X) * Bnd\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "also"], ["proof (state)\nthis:\n  (\\<Sum>x\\<in>X. Bnd) = of_nat (card X) * Bnd\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "have \"\\<dots> \\<le> of_nat k * Bnd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. of_nat (card X) * Bnd \\<le> of_nat k * Bnd", "by (rule mult_right_mono[OF _ Bnd], insert card, auto)"], ["proof (state)\nthis:\n  of_nat (card X) * Bnd \\<le> of_nat k * Bnd\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i < n \\<Longrightarrow>\n       \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "finally"], ["proof (chain)\npicking this:\n  \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "show \"abs (lincomb c X $ i) \\<le> of_nat k * Bnd\""], ["proof (prove)\nusing this:\n  \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd\n\ngoal (1 subgoal):\n 1. \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd", "by auto"], ["proof (state)\nthis:\n  \\<bar>lincomb c X $ i\\<bar> \\<le> of_nat k * Bnd\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  lincomb c X \\<in> Bounded_vec (of_nat k * Bnd)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bounded_vecset_sum:\n  assumes Acarr: \"A \\<subseteq> carrier_vec n\"\n    and Bcarr: \"B \\<subseteq> carrier_vec n\"\n    and sum: \"C = A + B\"\n    and Cbnd: \"\\<exists> bndC. C \\<subseteq> Bounded_vec bndC\"\n  shows \"A \\<noteq> {} \\<Longrightarrow> (\\<exists> bndB. B \\<subseteq> Bounded_vec bndB)\"\n    and \"B \\<noteq> {} \\<Longrightarrow> (\\<exists> bndA. A \\<subseteq> Bounded_vec bndA)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A \\<noteq> {} \\<Longrightarrow>\n     \\<exists>bndB. B \\<subseteq> Bounded_vec bndB) &&&\n    (B \\<noteq> {} \\<Longrightarrow>\n     \\<exists>bndA. A \\<subseteq> Bounded_vec bndA)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "{"], ["proof (state)\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "fix A B :: \"'a vec set\""], ["proof (state)\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "assume Acarr: \"A \\<subseteq> carrier_vec n\""], ["proof (state)\nthis:\n  A \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "assume Bcarr: \"B \\<subseteq> carrier_vec n\""], ["proof (state)\nthis:\n  B \\<subseteq> carrier_vec n\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "assume sum: \"C = A + B\""], ["proof (state)\nthis:\n  C = A + B\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "assume Ane: \"A \\<noteq> {}\""], ["proof (state)\nthis:\n  A \\<noteq> {}\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "have \"\\<exists> bndB. B \\<subseteq> Bounded_vec bndB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "proof(cases \"B = {}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "case Bne: False"], ["proof (state)\nthis:\n  B \\<noteq> {}\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "from Cbnd"], ["proof (chain)\npicking this:\n  \\<exists>bndC. C \\<subseteq> Bounded_vec bndC", "obtain bndC where bndC: \"C \\<subseteq> Bounded_vec bndC\""], ["proof (prove)\nusing this:\n  \\<exists>bndC. C \\<subseteq> Bounded_vec bndC\n\ngoal (1 subgoal):\n 1. (\\<And>bndC.\n        C \\<subseteq> Bounded_vec bndC \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  C \\<subseteq> Bounded_vec bndC\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "from Ane"], ["proof (chain)\npicking this:\n  A \\<noteq> {}", "obtain a where aA: \"a \\<in> A\" and acarr: \"a \\<in> carrier_vec n\""], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; a \\<in> carrier_vec n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Acarr"], ["proof (prove)\nusing this:\n  A \\<noteq> {}\n  A \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> A; a \\<in> carrier_vec n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  a \\<in> A\n  a \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "let ?M = \"{abs (a $ i) | i. i < n}\""], ["proof (state)\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "have finM: \"finite ?M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {\\<bar>a $ i\\<bar> |i. i < n}", "by simp"], ["proof (state)\nthis:\n  finite {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "define nb where \"nb = abs bndC + Max ?M\""], ["proof (state)\nthis:\n  nb = \\<bar>bndC\\<bar> + Max {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "{"], ["proof (state)\nthis:\n  nb = \\<bar>bndC\\<bar> + Max {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "fix b"], ["proof (state)\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "assume bB: \"b \\<in> B\" and bcarr: \"b \\<in> carrier_vec n\""], ["proof (state)\nthis:\n  b \\<in> B\n  b \\<in> carrier_vec n\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "have ab: \"a + b \\<in> Bounded_vec bndC\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a + b \\<in> Bounded_vec bndC", "using aA bB bndC sum"], ["proof (prove)\nusing this:\n  a \\<in> A\n  b \\<in> B\n  C \\<subseteq> Bounded_vec bndC\n  C = A + B\n\ngoal (1 subgoal):\n 1. a + b \\<in> Bounded_vec bndC", "by auto"], ["proof (state)\nthis:\n  a + b \\<in> Bounded_vec bndC\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "{"], ["proof (state)\nthis:\n  a + b \\<in> Bounded_vec bndC\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "assume i_lt_n: \"i < n\""], ["proof (state)\nthis:\n  i < n\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "hence ai_le_max: \"abs(a $ i) \\<le> Max ?M\""], ["proof (prove)\nusing this:\n  i < n\n\ngoal (1 subgoal):\n 1. \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}", "using acarr finM Max_ge"], ["proof (prove)\nusing this:\n  i < n\n  a \\<in> carrier_vec n\n  finite {\\<bar>a $ i\\<bar> |i. i < n}\n  \\<lbrakk>finite ?A; ?x \\<in> ?A\\<rbrakk> \\<Longrightarrow> ?x \\<le> Max ?A\n\ngoal (1 subgoal):\n 1. \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}", "by blast"], ["proof (state)\nthis:\n  \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "hence \"abs(a $ i + b $ i) \\<le> abs bndC\""], ["proof (prove)\nusing this:\n  \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (1 subgoal):\n 1. \\<bar>a $ i + b $ i\\<bar> \\<le> \\<bar>bndC\\<bar>", "using ab bcarr acarr index_add_vec(1) i_lt_n"], ["proof (prove)\nusing this:\n  \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}\n  a + b \\<in> Bounded_vec bndC\n  b \\<in> carrier_vec n\n  a \\<in> carrier_vec n\n  ?i < dim_vec ?v\\<^sub>2 \\<Longrightarrow>\n  (?v\\<^sub>1 + ?v\\<^sub>2) $ ?i = ?v\\<^sub>1 $ ?i + ?v\\<^sub>2 $ ?i\n  i < n\n\ngoal (1 subgoal):\n 1. \\<bar>a $ i + b $ i\\<bar> \\<le> \\<bar>bndC\\<bar>", "unfolding Bounded_vec_def"], ["proof (prove)\nusing this:\n  \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}\n  a + b \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> bndC}\n  b \\<in> carrier_vec n\n  a \\<in> carrier_vec n\n  ?i < dim_vec ?v\\<^sub>2 \\<Longrightarrow>\n  (?v\\<^sub>1 + ?v\\<^sub>2) $ ?i = ?v\\<^sub>1 $ ?i + ?v\\<^sub>2 $ ?i\n  i < n\n\ngoal (1 subgoal):\n 1. \\<bar>a $ i + b $ i\\<bar> \\<le> \\<bar>bndC\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>a $ i + b $ i\\<bar> \\<le> \\<bar>bndC\\<bar>\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "hence \"abs(b $ i) \\<le> abs bndC + abs(a $ i)\""], ["proof (prove)\nusing this:\n  \\<bar>a $ i + b $ i\\<bar> \\<le> \\<bar>bndC\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>b $ i\\<bar> \\<le> \\<bar>bndC\\<bar> + \\<bar>a $ i\\<bar>", "by simp"], ["proof (state)\nthis:\n  \\<bar>b $ i\\<bar> \\<le> \\<bar>bndC\\<bar> + \\<bar>a $ i\\<bar>\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "hence \"abs(b $ i) \\<le> nb\""], ["proof (prove)\nusing this:\n  \\<bar>b $ i\\<bar> \\<le> \\<bar>bndC\\<bar> + \\<bar>a $ i\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>b $ i\\<bar> \\<le> nb", "using i_lt_n bcarr ai_le_max"], ["proof (prove)\nusing this:\n  \\<bar>b $ i\\<bar> \\<le> \\<bar>bndC\\<bar> + \\<bar>a $ i\\<bar>\n  i < n\n  b \\<in> carrier_vec n\n  \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (1 subgoal):\n 1. \\<bar>b $ i\\<bar> \\<le> nb", "unfolding nb_def"], ["proof (prove)\nusing this:\n  \\<bar>b $ i\\<bar> \\<le> \\<bar>bndC\\<bar> + \\<bar>a $ i\\<bar>\n  i < n\n  b \\<in> carrier_vec n\n  \\<bar>a $ i\\<bar> \\<le> Max {\\<bar>a $ i\\<bar> |i. i < n}\n\ngoal (1 subgoal):\n 1. \\<bar>b $ i\\<bar>\n    \\<le> \\<bar>bndC\\<bar> + Max {\\<bar>a $ i\\<bar> |i. i < n}", "by simp"], ["proof (state)\nthis:\n  \\<bar>b $ i\\<bar> \\<le> nb\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "}"], ["proof (state)\nthis:\n  ?i2 < n \\<Longrightarrow> \\<bar>b $ ?i2\\<bar> \\<le> nb\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "hence \"b \\<in> Bounded_vec nb\""], ["proof (prove)\nusing this:\n  ?i2 < n \\<Longrightarrow> \\<bar>b $ ?i2\\<bar> \\<le> nb\n\ngoal (1 subgoal):\n 1. b \\<in> Bounded_vec nb", "unfolding Bounded_vec_def"], ["proof (prove)\nusing this:\n  ?i2 < n \\<Longrightarrow> \\<bar>b $ ?i2\\<bar> \\<le> nb\n\ngoal (1 subgoal):\n 1. b \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> nb}", "using bcarr carrier_vecD"], ["proof (prove)\nusing this:\n  ?i2 < n \\<Longrightarrow> \\<bar>b $ ?i2\\<bar> \\<le> nb\n  b \\<in> carrier_vec n\n  ?v \\<in> carrier_vec ?n \\<Longrightarrow> dim_vec ?v = ?n\n\ngoal (1 subgoal):\n 1. b \\<in> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> nb}", "by blast"], ["proof (state)\nthis:\n  b \\<in> Bounded_vec nb\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?b2 \\<in> B; ?b2 \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> ?b2 \\<in> Bounded_vec nb\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "hence \"B \\<subseteq> Bounded_vec nb\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?b2 \\<in> B; ?b2 \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> ?b2 \\<in> Bounded_vec nb\n\ngoal (1 subgoal):\n 1. B \\<subseteq> Bounded_vec nb", "unfolding Bounded_vec_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?b2 \\<in> B; ?b2 \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> ?b2\n                    \\<in> {x. \\<forall>i<dim_vec x.\n                                 \\<bar>x $ i\\<bar> \\<le> nb}\n\ngoal (1 subgoal):\n 1. B \\<subseteq> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> nb}", "using Bcarr"], ["proof (prove)\nusing this:\n  \\<lbrakk>?b2 \\<in> B; ?b2 \\<in> carrier_vec n\\<rbrakk>\n  \\<Longrightarrow> ?b2\n                    \\<in> {x. \\<forall>i<dim_vec x.\n                                 \\<bar>x $ i\\<bar> \\<le> nb}\n  B \\<subseteq> carrier_vec n\n\ngoal (1 subgoal):\n 1. B \\<subseteq> {x. \\<forall>i<dim_vec x. \\<bar>x $ i\\<bar> \\<le> nb}", "by auto"], ["proof (state)\nthis:\n  B \\<subseteq> Bounded_vec nb\n\ngoal (2 subgoals):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "thus ?thesis"], ["proof (prove)\nusing this:\n  B \\<subseteq> Bounded_vec nb\n\ngoal (1 subgoal):\n 1. \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "by auto"], ["proof (state)\nthis:\n  \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n\ngoal (1 subgoal):\n 1. B = {} \\<Longrightarrow> \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "qed auto"], ["proof (state)\nthis:\n  \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?Aa2 \\<subseteq> carrier_vec n; ?Ba2 \\<subseteq> carrier_vec n;\n   C = ?Aa2 + ?Ba2; ?Aa2 \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>bndB. ?Ba2 \\<subseteq> Bounded_vec bndB\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "note theor = this"], ["proof (state)\nthis:\n  \\<lbrakk>?Aa2 \\<subseteq> carrier_vec n; ?Ba2 \\<subseteq> carrier_vec n;\n   C = ?Aa2 + ?Ba2; ?Aa2 \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>bndB. ?Ba2 \\<subseteq> Bounded_vec bndB\n\ngoal (2 subgoals):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n 2. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "show \"A \\<noteq> {} \\<Longrightarrow> (\\<exists> bndB. B \\<subseteq> Bounded_vec bndB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "using theor[OF Acarr Bcarr sum]"], ["proof (prove)\nusing this:\n  A \\<noteq> {} \\<Longrightarrow>\n  \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n\ngoal (1 subgoal):\n 1. A \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndB. B \\<subseteq> Bounded_vec bndB", "by simp"], ["proof (state)\nthis:\n  A \\<noteq> {} \\<Longrightarrow>\n  \\<exists>bndB. B \\<subseteq> Bounded_vec bndB\n\ngoal (1 subgoal):\n 1. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "have CBA: \"C = B + A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C = B + A", "unfolding sum"], ["proof (prove)\ngoal (1 subgoal):\n 1. A + B = B + A", "by (rule comm_add_vecset[OF Acarr Bcarr])"], ["proof (state)\nthis:\n  C = B + A\n\ngoal (1 subgoal):\n 1. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "show \"B \\<noteq> {} \\<Longrightarrow> \\<exists> bndA. A \\<subseteq> Bounded_vec bndA\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "using theor[OF Bcarr Acarr CBA]"], ["proof (prove)\nusing this:\n  B \\<noteq> {} \\<Longrightarrow>\n  \\<exists>bndB. A \\<subseteq> Bounded_vec bndB\n\ngoal (1 subgoal):\n 1. B \\<noteq> {} \\<Longrightarrow>\n    \\<exists>bndA. A \\<subseteq> Bounded_vec bndA", "by simp"], ["proof (state)\nthis:\n  B \\<noteq> {} \\<Longrightarrow>\n  \\<exists>bndA. A \\<subseteq> Bounded_vec bndA\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}