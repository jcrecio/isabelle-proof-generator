{"file_name": "/home/qj213/afp-2021-10-22/thys/Differential_Dynamic_Logic/Lib.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Differential_Dynamic_Logic", "problem_names": ["lemma vec_extensionality:\"(\\<And>i. v$i = w$i) \\<Longrightarrow> (v = w)\"", "lemma norm_axis: \"norm (axis i x) = norm x\"", "lemma bounded_linear_axis: \"bounded_linear (axis i)\"", "lemma bounded_linear_vec:\n  fixes f::\"('a::finite) \\<Rightarrow> 'b::real_normed_vector \\<Rightarrow> 'c::real_normed_vector\"\n  assumes bounds:\"\\<And>i. bounded_linear (f i)\"\n  shows \"bounded_linear (\\<lambda>x. \\<chi> i. f i x)\"", "lemmas blinfun_vec_simps[simp] = blinfun_vec.rep_eq", "lemma continuous_blinfun_vec:\"(\\<And>i. continuous_on UNIV (blinfun_apply (g i))) \\<Longrightarrow> continuous_on UNIV (blinfun_vec g)\"", "lemma blinfun_elim:\"\\<And>g. (blinfun_apply (blinfun_vec g)) = (\\<lambda>x. \\<chi> i. g i x)\"", "lemma sup_plus:\n  fixes f g::\"('b::metric_space) \\<Rightarrow> real\"\n  assumes nonempty:\"R \\<noteq> {}\"\n  assumes bddf:\"bdd_above (f ` R)\"\n  assumes bddg:\"bdd_above (g ` R)\"\n  shows \"(SUP x\\<in>R. f x  + g x) \\<le> (SUP x\\<in>R. f x) + (SUP x\\<in>R. g x)\"", "lemma continuous_blinfun_vec':\n  fixes f::\"'a::{finite,linorder} \\<Rightarrow> 'b::{metric_space, real_normed_vector,abs} \\<Rightarrow> 'b \\<Rightarrow>\\<^sub>L real\"\n  fixes S::\"'b set\"\n  assumes conts:\"\\<And>i. continuous_on UNIV (f i)\"\n  shows \"continuous_on UNIV (\\<lambda>x. blinfun_vec (\\<lambda> i. f i x))\"", "lemma has_derivative_vec[derivative_intros]:\n  assumes \"\\<And>i. ((\\<lambda>x. f i x) has_derivative (\\<lambda>h. f' i h)) F\"\n  shows \"((\\<lambda>x. \\<chi> i. f i x) has_derivative (\\<lambda>h. \\<chi> i. f' i h)) F\"", "lemma has_derivative_proj:\n  fixes j::\"('a::finite)\" \n  fixes f::\"'a \\<Rightarrow> real \\<Rightarrow> real\"\n  assumes assm:\"((\\<lambda>x. \\<chi> i. f i x) has_derivative (\\<lambda>h. \\<chi> i. f' i h)) F\"\n  shows \"((\\<lambda>x. f j x) has_derivative (\\<lambda>h. f' j h)) F\"", "lemma has_derivative_proj':\n  fixes i::\"'a::finite\"\n  shows \"\\<forall>x. ((\\<lambda> x. x $ i) has_derivative (\\<lambda>x::(real^'a). x $ i)) (at x)\"", "lemma constant_when_zero:\n  fixes v::\"real \\<Rightarrow> (real, 'i::finite) vec\"\n  assumes x0: \"(v t0) $ i = x0\"\n  assumes sol: \"(v solves_ode f) T S\"\n  assumes f0: \"\\<And>s x. s \\<in> T \\<Longrightarrow> f s x $ i = 0\"\n  assumes t0:\"t0 \\<in> T\"\n  assumes t:\"t \\<in> T\"\n  assumes convex:\"convex T\"\n  shows \"v t $ i = x0\"", "lemma\n  solves_ode_subset:\n  assumes x: \"(x solves_ode f) T X\"\n  assumes s: \"S \\<subseteq> T\"\n  shows \"(x solves_ode f) S X\"", "lemma\n  solves_ode_supset_range:\n  assumes x: \"(x solves_ode f) T X\"\n  assumes y: \"X \\<subseteq> Y\"\n  shows \"(x solves_ode f) T Y\"", "lemma\n  usolves_ode_subset:\n  assumes x: \"(x usolves_ode f from t0) T X\"\n  assumes s: \"S \\<subseteq> T\"\n  assumes t0: \"t0 \\<in> S\"\n  assumes S: \"is_interval S\"\n  shows \"(x usolves_ode f from t0) S X\"", "lemma example:\n  fixes x t::real and i::\"('sz::finite)\"\n  assumes \"t > 0\"\n  shows \"x = (ll_on_open.flow UNIV (\\<lambda>t. \\<lambda>x. \\<chi> (i::('sz::finite)). 0) UNIV 0 (\\<chi> i. x) t) $ i\"", "lemma MVT_ivl:\n  fixes f::\"'a::ordered_euclidean_space\\<Rightarrow>'b::ordered_euclidean_space\"\n  assumes fderiv: \"\\<And>x. x \\<in> D \\<Longrightarrow> (f has_derivative J x) (at x within D)\"\n  assumes J_ivl: \"\\<And>x. x \\<in> D \\<Longrightarrow> J x u \\<ge> J0\"\n  assumes line_in: \"\\<And>x. x \\<in> {0..1} \\<Longrightarrow> a + x *\\<^sub>R u \\<in> D\"\n  shows \"f (a + u) - f a \\<ge> J0\"", "lemma MVT_ivl':\n  fixes f::\"'a::ordered_euclidean_space\\<Rightarrow>'b::ordered_euclidean_space\"\n  assumes fderiv: \"(\\<And>x. x \\<in> D \\<Longrightarrow> (f has_derivative J x) (at x within D))\"\n  assumes J_ivl: \"\\<And>x. x \\<in> D \\<Longrightarrow> J x (a - b) \\<ge> J0\"\n  assumes line_in: \"\\<And>x. x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D\"\n  shows \"f a \\<ge> f b + J0\""], "translations": [["", "lemma vec_extensionality:\"(\\<And>i. v$i = w$i) \\<Longrightarrow> (v = w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. v $ i = w $ i) \\<Longrightarrow> v = w", "by (simp add: vec_eq_iff)"], ["", "lemma norm_axis: \"norm (axis i x) = norm x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (axis i x) = norm x", "unfolding axis_def norm_vec_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. L2_set\n     (\\<lambda>ia. norm ((\\<chi>ia. if ia = i then x else (0::'a)) $ ia))\n     UNIV =\n    norm x", "unfolding L2_set_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt\n     (\\<Sum>ia\\<in>UNIV.\n        (norm ((\\<chi>ia. if ia = i then x else (0::'a)) $ ia))\\<^sup>2) =\n    norm x", "by(clarsimp simp add: if_distrib[where f=norm] if_distrib[where f=\"\\<lambda>x. x\\<^sup>2\"] sum.If_cases)"], ["", "lemma bounded_linear_axis: \"bounded_linear (axis i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (axis i)", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b1 b2. axis i (b1 + b2) = axis i b1 + axis i b2\n 2. \\<And>r b. axis i (r *\\<^sub>R b) = r *\\<^sub>R axis i b\n 3. \\<exists>K. \\<forall>x. norm (axis i x) \\<le> norm x * K", "show \"axis i (x + y) = axis i x + axis i y\" \"axis i (r *\\<^sub>R x) = r *\\<^sub>R axis i x\" for x y :: \"'a\" and r"], ["proof (prove)\ngoal (1 subgoal):\n 1. axis i (x + y) = axis i x + axis i y &&&\n    axis i (r *\\<^sub>R x) = r *\\<^sub>R axis i x", "by (auto simp: vec_eq_iff axis_def)"], ["proof (state)\nthis:\n  axis i (?x + ?y) = axis i ?x + axis i ?y\n  axis i (?r *\\<^sub>R ?x) = ?r *\\<^sub>R axis i ?x\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (axis i x) \\<le> norm x * K", "show \"\\<exists>K. \\<forall>x::'a. norm (axis i x) \\<le> norm x * K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (axis i x) \\<le> norm x * K", "by (auto simp add: norm_axis intro!: exI[of _ 1])"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>x. norm (axis i x) \\<le> norm x * K\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bounded_linear_vec:\n  fixes f::\"('a::finite) \\<Rightarrow> 'b::real_normed_vector \\<Rightarrow> 'c::real_normed_vector\"\n  assumes bounds:\"\\<And>i. bounded_linear (f i)\"\n  shows \"bounded_linear (\\<lambda>x. \\<chi> i. f i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>x. \\<chi>i. f i x)", "proof unfold_locales"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b1 b2.\n       (\\<chi>i. f i (b1 + b2)) = (\\<chi>i. f i b1) + (\\<chi>i. f i b2)\n 2. \\<And>r b. (\\<chi>i. f i (r *\\<^sub>R b)) = r *\\<^sub>R (\\<chi>i. f i b)\n 3. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "fix r x y"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b1 b2.\n       (\\<chi>i. f i (b1 + b2)) = (\\<chi>i. f i b1) + (\\<chi>i. f i b2)\n 2. \\<And>r b. (\\<chi>i. f i (r *\\<^sub>R b)) = r *\\<^sub>R (\\<chi>i. f i b)\n 3. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "interpret bounded_linear \"f i\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (f i)", "by fact"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>b1 b2.\n       (\\<chi>i. f i (b1 + b2)) = (\\<chi>i. f i b1) + (\\<chi>i. f i b2)\n 2. \\<And>r b. (\\<chi>i. f i (r *\\<^sub>R b)) = r *\\<^sub>R (\\<chi>i. f i b)\n 3. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "show \"(\\<chi> i. f i (x + y)) = (\\<chi> i. f i x) + (\\<chi> i. f i y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<chi>i. f i (x + y)) = (\\<chi>i. f i x) + (\\<chi>i. f i y)", "by (vector add)"], ["proof (state)\nthis:\n  (\\<chi>i. f i (x + y)) = (\\<chi>i. f i x) + (\\<chi>i. f i y)\n\ngoal (2 subgoals):\n 1. \\<And>r b. (\\<chi>i. f i (r *\\<^sub>R b)) = r *\\<^sub>R (\\<chi>i. f i b)\n 2. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "show \"(\\<chi> i. f i (r *\\<^sub>R x)) = r *\\<^sub>R (\\<chi> i. f i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<chi>i. f i (r *\\<^sub>R x)) = r *\\<^sub>R (\\<chi>i. f i x)", "by (vector scaleR)"], ["proof (state)\nthis:\n  (\\<chi>i. f i (r *\\<^sub>R x)) = r *\\<^sub>R (\\<chi>i. f i x)\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "obtain K where \"norm (f i x) \\<le> norm x * K i\" for x i"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>K.\n        (\\<And>x i. norm (f i x) \\<le> norm x * K i) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bounded"], ["proof (prove)\nusing this:\n  \\<exists>K. \\<forall>x. norm (f ?i x) \\<le> norm x * K\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        (\\<And>x i. norm (f i x) \\<le> norm x * K i) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  norm (f ?i ?x) \\<le> norm ?x * K ?i\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "then"], ["proof (chain)\npicking this:\n  norm (f ?i ?x) \\<le> norm ?x * K ?i", "have \"norm (\\<chi> i. f i x) \\<le> norm x * (\\<Sum>i\\<in>UNIV. K i)\" (is \"?lhs \\<le> ?rhs\") for x"], ["proof (prove)\nusing this:\n  norm (f ?i ?x) \\<le> norm ?x * K ?i\n\ngoal (1 subgoal):\n 1. norm (\\<chi>i. f i x) \\<le> norm x * sum K UNIV", "unfolding sum_distrib_left"], ["proof (prove)\nusing this:\n  norm (f ?i ?x) \\<le> norm ?x * K ?i\n\ngoal (1 subgoal):\n 1. norm (\\<chi>i. f i x) \\<le> (\\<Sum>n\\<in>UNIV. norm x * K n)", "unfolding norm_vec_def"], ["proof (prove)\nusing this:\n  norm (f ?i ?x) \\<le> norm ?x * K ?i\n\ngoal (1 subgoal):\n 1. L2_set (\\<lambda>i. norm ((\\<chi>i. f i x) $ i)) UNIV\n    \\<le> (\\<Sum>n\\<in>UNIV. norm x * K n)", "by (auto intro!: L2_set_le_sum_abs[THEN order_trans] sum_mono simp: abs_mult)"], ["proof (state)\nthis:\n  norm (\\<chi>i. f i ?x) \\<le> norm ?x * sum K UNIV\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "then"], ["proof (chain)\npicking this:\n  norm (\\<chi>i. f i ?x) \\<le> norm ?x * sum K UNIV", "show \"\\<exists>K. \\<forall>x. norm (\\<chi> i. f i x) \\<le> norm x * K\""], ["proof (prove)\nusing this:\n  norm (\\<chi>i. f i ?x) \\<le> norm ?x * sum K UNIV\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K", "by blast"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>x. norm (\\<chi>i. f i x) \\<le> norm x * K\n\ngoal:\nNo subgoals!", "qed"], ["", "lift_definition blinfun_vec::\"('a::finite \\<Rightarrow> 'b::real_normed_vector \\<Rightarrow>\\<^sub>L real) \\<Rightarrow> 'b \\<Rightarrow>\\<^sub>L (real ^ 'a)\" is \"(\\<lambda>(f::('a \\<Rightarrow> 'b \\<Rightarrow> real)) (x::'b). \\<chi> (i::'a). f i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>fun.\n       (\\<And>x. bounded_linear (fun x)) \\<Longrightarrow>\n       bounded_linear (\\<lambda>x. \\<chi>i. fun i x)", "by(rule bounded_linear_vec, simp)"], ["", "lemmas blinfun_vec_simps[simp] = blinfun_vec.rep_eq"], ["", "lemma continuous_blinfun_vec:\"(\\<And>i. continuous_on UNIV (blinfun_apply (g i))) \\<Longrightarrow> continuous_on UNIV (blinfun_vec g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. continuous_on UNIV (blinfun_apply (g i))) \\<Longrightarrow>\n    continuous_on UNIV (blinfun_apply (blinfun_vec g))", "by (simp add: continuous_on_vec_lambda)"], ["", "lemma blinfun_elim:\"\\<And>g. (blinfun_apply (blinfun_vec g)) = (\\<lambda>x. \\<chi> i. g i x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g.\n       blinfun_apply (blinfun_vec g) =\n       (\\<lambda>x. \\<chi>i. blinfun_apply (g i) x)", "using blinfun_vec.rep_eq"], ["proof (prove)\nusing this:\n  blinfun_apply (blinfun_vec ?x) =\n  (\\<lambda>x. \\<chi>i. blinfun_apply (?x i) x)\n\ngoal (1 subgoal):\n 1. \\<And>g.\n       blinfun_apply (blinfun_vec g) =\n       (\\<lambda>x. \\<chi>i. blinfun_apply (g i) x)", "by auto"], ["", "lemma sup_plus:\n  fixes f g::\"('b::metric_space) \\<Rightarrow> real\"\n  assumes nonempty:\"R \\<noteq> {}\"\n  assumes bddf:\"bdd_above (f ` R)\"\n  assumes bddg:\"bdd_above (g ` R)\"\n  shows \"(SUP x\\<in>R. f x  + g x) \\<le> (SUP x\\<in>R. f x) + (SUP x\\<in>R. g x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "have bddfg:\"bdd_above((\\<lambda>x. f x + g x ) ` R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>x. f x + g x) ` R)", "using bddf bddg"], ["proof (prove)\nusing this:\n  bdd_above (f ` R)\n  bdd_above (g ` R)\n\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>x. f x + g x) ` R)", "apply (auto simp add: bdd_above_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>M Ma.\n       \\<lbrakk>\\<forall>x\\<in>R. f x \\<le> M;\n        \\<forall>x\\<in>R. g x \\<le> Ma\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M. \\<forall>x\\<in>R. f x + g x \\<le> M", "using add_mono_thms_linordered_semiring(1)"], ["proof (prove)\nusing this:\n  ?i \\<le> ?j \\<and> ?k \\<le> ?l \\<Longrightarrow> ?i + ?k \\<le> ?j + ?l\n\ngoal (1 subgoal):\n 1. \\<And>M Ma.\n       \\<lbrakk>\\<forall>x\\<in>R. f x \\<le> M;\n        \\<forall>x\\<in>R. g x \\<le> Ma\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M. \\<forall>x\\<in>R. f x + g x \\<le> M", "by blast"], ["proof (state)\nthis:\n  bdd_above ((\\<lambda>x. f x + g x) ` R)\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "have eq:\"(SUP x\\<in>R. f x + g x) \\<le> (SUP x\\<in>R. f x) + (SUP x\\<in>R. g x)\n    \\<longleftrightarrow> (\\<forall>x\\<in>R. (f x + g x) \\<le> (SUP x\\<in>R. f x) + (SUP x\\<in>R. g x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)) =\n    (\\<forall>x\\<in>R. f x + g x \\<le> Sup (f ` R) + Sup (g ` R))", "apply(rule cSUP_le_iff)"], ["proof (prove)\ngoal (2 subgoals):\n 1. R \\<noteq> {}\n 2. bdd_above ((\\<lambda>x. f x + g x) ` R)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. R \\<noteq> {}", "by (rule nonempty)"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>x. f x + g x) ` R)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>x. f x + g x) ` R)", "by (rule bddfg)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)) =\n  (\\<forall>x\\<in>R. f x + g x \\<le> Sup (f ` R) + Sup (g ` R))\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "have fs:\"\\<And>x. x \\<in> R \\<Longrightarrow> f x \\<le> (SUP x\\<in>R. f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> R \\<Longrightarrow> f x \\<le> Sup (f ` R)", "using bddf"], ["proof (prove)\nusing this:\n  bdd_above (f ` R)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> R \\<Longrightarrow> f x \\<le> Sup (f ` R)", "by (simp add: cSUP_upper)"], ["proof (state)\nthis:\n  ?x \\<in> R \\<Longrightarrow> f ?x \\<le> Sup (f ` R)\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "have gs:\"\\<And>x. x \\<in> R \\<Longrightarrow> g x \\<le> (SUP x\\<in>R. g x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> R \\<Longrightarrow> g x \\<le> Sup (g ` R)", "using bddg"], ["proof (prove)\nusing this:\n  bdd_above (g ` R)\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> R \\<Longrightarrow> g x \\<le> Sup (g ` R)", "by (simp add: cSUP_upper)"], ["proof (state)\nthis:\n  ?x \\<in> R \\<Longrightarrow> g ?x \\<le> Sup (g ` R)\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "have \"(\\<forall>x\\<in>R. (f x + g x) \\<le> (SUP x\\<in>R. f x) + (SUP x\\<in>R. g x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>R. f x + g x \\<le> Sup (f ` R) + Sup (g ` R)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> R \\<Longrightarrow> f x + g x \\<le> Sup (f ` R) + Sup (g ` R)", "subgoal for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> R \\<Longrightarrow> f x + g x \\<le> Sup (f ` R) + Sup (g ` R)", "using fs[of x] gs[of x]"], ["proof (prove)\nusing this:\n  x \\<in> R \\<Longrightarrow> f x \\<le> Sup (f ` R)\n  x \\<in> R \\<Longrightarrow> g x \\<le> Sup (g ` R)\n\ngoal (1 subgoal):\n 1. x \\<in> R \\<Longrightarrow> f x + g x \\<le> Sup (f ` R) + Sup (g ` R)", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>x\\<in>R. f x + g x \\<le> Sup (f ` R) + Sup (g ` R)\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "then"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>R. f x + g x \\<le> Sup (f ` R) + Sup (g ` R)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>R. f x + g x \\<le> Sup (f ` R) + Sup (g ` R)\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)", "by (auto simp add: eq)"], ["proof (state)\nthis:\n  (SUP x\\<in>R. f x + g x) \\<le> Sup (f ` R) + Sup (g ` R)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma continuous_blinfun_vec':\n  fixes f::\"'a::{finite,linorder} \\<Rightarrow> 'b::{metric_space, real_normed_vector,abs} \\<Rightarrow> 'b \\<Rightarrow>\\<^sub>L real\"\n  fixes S::\"'b set\"\n  assumes conts:\"\\<And>i. continuous_on UNIV (f i)\"\n  shows \"continuous_on UNIV (\\<lambda>x. blinfun_vec (\\<lambda> i. f i x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on UNIV (\\<lambda>x. blinfun_vec (\\<lambda>i. f i x))", "proof (auto simp add:  LIM_def continuous_on_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "fix x1 and \\<epsilon>::real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "assume \\<epsilon>:\"0 < \\<epsilon>\""], ["proof (state)\nthis:\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "let ?n = \"card (UNIV::'a set)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have conts':\" \\<And>i x1 \\<epsilon>. 0 < \\<epsilon> \\<Longrightarrow> \\<exists>\\<delta>>0. \\<forall>x2. x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow> dist (f i  x2) (f i x1) < \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i x1 \\<epsilon>.\n       0 < \\<epsilon> \\<Longrightarrow>\n       \\<exists>\\<delta>>0.\n          \\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon>", "using conts"], ["proof (prove)\nusing this:\n  continuous_on UNIV (f ?i)\n\ngoal (1 subgoal):\n 1. \\<And>i x1 \\<epsilon>.\n       0 < \\<epsilon> \\<Longrightarrow>\n       \\<exists>\\<delta>>0.\n          \\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon>", "by(auto simp add: LIM_def continuous_on_def)"], ["proof (state)\nthis:\n  0 < ?\\<epsilon> \\<Longrightarrow>\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> ?x1.0 \\<and> dist x2 ?x1.0 < \\<delta> \\<longrightarrow>\n        dist (f ?i x2) (f ?i ?x1.0) < ?\\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have conts'':\"\\<And>i. \\<exists>\\<delta>>0. \\<forall>x2. x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow> dist (f i  x2) (f i x1) < (\\<epsilon>/?n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<exists>\\<delta>>0.\n          \\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "subgoal for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<delta>>0.\n       \\<forall>x2.\n          x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n          dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "using conts'[of \"\\<epsilon> / ?n\"  x1 i] \\<epsilon>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon> / real CARD('a) \\<Longrightarrow>\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<delta>>0.\n       \\<forall>x2.\n          x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n          dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "let ?f = \"(\\<lambda>x. blinfun_vec (\\<lambda> i. f i x))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "let ?P\\<delta> = \"(\\<lambda> i \\<delta>. (\\<delta>>0 \\<and> (\\<forall>x2. x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow> dist (f i  x2) (f i x1) < (\\<epsilon>/?n))))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "let ?\\<delta>i = \"(\\<lambda>i. SOME \\<delta>. ?P\\<delta> i \\<delta>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have Ps:\"\\<And>i. \\<exists>\\<delta>. ?P\\<delta> i \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<exists>\\<delta>>0.\n          \\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "using conts''"], ["proof (prove)\nusing this:\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<exists>\\<delta>>0.\n          \\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have P\\<delta>i:\"\\<And>i. ?P\\<delta> i (?\\<delta>i i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       0 < (SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1)\n                   < \\<epsilon> / real CARD('a))) \\<and>\n       (\\<forall>x2.\n           x2 \\<noteq> x1 \\<and>\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f i x2) (f i x1)\n                     < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n           dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))", "subgoal for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))) \\<and>\n    (\\<forall>x2.\n        x2 \\<noteq> x1 \\<and>\n        dist x2 x1\n        < (SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1)\n                  < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n        dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))", "using someI[of \"?P\\<delta> i\" ] Ps[of i]"], ["proof (prove)\nusing this:\n  0 < ?x \\<and>\n  (\\<forall>x2.\n      x2 \\<noteq> x1 \\<and> dist x2 x1 < ?x \\<longrightarrow>\n      dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)) \\<Longrightarrow>\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))) \\<and>\n  (\\<forall>x2.\n      x2 \\<noteq> x1 \\<and>\n      dist x2 x1\n      < (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1)\n                < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n      dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. 0 < (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))) \\<and>\n    (\\<forall>x2.\n        x2 \\<noteq> x1 \\<and>\n        dist x2 x1\n        < (SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1)\n                  < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n        dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a))) \\<and>\n  (\\<forall>x2.\n      x2 \\<noteq> x1 \\<and>\n      dist x2 x1\n      < (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f ?i x2) (f ?i x1)\n                < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n      dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have finU:\"finite (UNIV::'a set)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite UNIV", "by auto"], ["proof (state)\nthis:\n  finite UNIV\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "let ?\\<delta> = \"linorder_class.Min  (?\\<delta>i ` UNIV)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have \\<delta>0s:\"\\<And>i. ?\\<delta>i i > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       0 < (SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "using P\\<delta>i"], ["proof (prove)\nusing this:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a))) \\<and>\n  (\\<forall>x2.\n      x2 \\<noteq> x1 \\<and>\n      dist x2 x1\n      < (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f ?i x2) (f ?i x1)\n                < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n      dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       0 < (SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "by blast"], ["proof (state)\nthis:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "then"], ["proof (chain)\npicking this:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))", "have \\<delta>0s':\"\\<And>i. 0 < ?\\<delta>i i\""], ["proof (prove)\nusing this:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       0 < (SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "by auto"], ["proof (state)\nthis:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have bounds:\"bdd_below (?\\<delta>i ` UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_below\n     (range\n       (\\<lambda>i.\n           SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))", "unfolding bdd_below_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>m.\n       Ball\n        (range\n          (\\<lambda>i.\n              SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))\n        ((\\<le>) m)", "using \\<delta>0s less_eq_real_def"], ["proof (prove)\nusing this:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. \\<exists>m.\n       Ball\n        (range\n          (\\<lambda>i.\n              SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))\n        ((\\<le>) m)", "by blast"], ["proof (state)\nthis:\n  bdd_below\n   (range\n     (\\<lambda>i.\n         SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have \\<delta>s:\"\\<And>i. ?\\<delta> \\<le> ?\\<delta>i i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       (MIN i.\n           SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n       \\<le> (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "using bounds cINF_lower[of ?\\<delta>i]"], ["proof (prove)\nusing this:\n  bdd_below\n   (range\n     (\\<lambda>i.\n         SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))\n  \\<lbrakk>bdd_below\n            ((\\<lambda>i.\n                 SOME \\<delta>.\n                    0 < \\<delta> \\<and>\n                    (\\<forall>x2.\n                        x2 \\<noteq> x1 \\<and>\n                        dist x2 x1 < \\<delta> \\<longrightarrow>\n                        dist (f i x2) (f i x1)\n                        < \\<epsilon> / real CARD('a))) `\n             ?A);\n   ?x \\<in> ?A\\<rbrakk>\n  \\<Longrightarrow> (INF i\\<in>?A.\n                        SOME \\<delta>.\n                           0 < \\<delta> \\<and>\n                           (\\<forall>x2.\n                               x2 \\<noteq> x1 \\<and>\n                               dist x2 x1 < \\<delta> \\<longrightarrow>\n                               dist (f i x2) (f i x1)\n                               < \\<epsilon> / real CARD('a)))\n                    \\<le> (SOME \\<delta>.\n                              0 < \\<delta> \\<and>\n                              (\\<forall>x2.\n                                  x2 \\<noteq> x1 \\<and>\n                                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                                  dist (f ?x x2) (f ?x x1)\n                                  < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       (MIN i.\n           SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n       \\<le> (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "by auto"], ["proof (state)\nthis:\n  (MIN i.\n      SOME \\<delta>.\n         0 < \\<delta> \\<and>\n         (\\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n  \\<le> (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have finite:\"finite ((?\\<delta>i ` UNIV))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     (range\n       (\\<lambda>i.\n           SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))", "by auto"], ["proof (state)\nthis:\n  finite\n   (range\n     (\\<lambda>i.\n         SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have nonempty:\"((?\\<delta>i ` UNIV)) \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range\n     (\\<lambda>i.\n         SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1)\n                < \\<epsilon> / real CARD('a))) \\<noteq>\n    {}", "by auto"], ["proof (state)\nthis:\n  range\n   (\\<lambda>i.\n       SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a))) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have \\<delta>:\"?\\<delta> > 0 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (MIN i.\n            SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "using Min_gr_iff[OF finite nonempty] \\<delta>0s'"], ["proof (prove)\nusing this:\n  (?x < (MIN i.\n            SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))) =\n  (\\<forall>a\\<in>range\n                   (\\<lambda>i.\n                       SOME \\<delta>.\n                          0 < \\<delta> \\<and>\n                          (\\<forall>x2.\n                              x2 \\<noteq> x1 \\<and>\n                              dist x2 x1 < \\<delta> \\<longrightarrow>\n                              dist (f i x2) (f i x1)\n                              < \\<epsilon> / real CARD('a))).\n      ?x < a)\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. 0 < (MIN i.\n            SOME \\<delta>.\n               0 < \\<delta> \\<and>\n               (\\<forall>x2.\n                   x2 \\<noteq> x1 \\<and>\n                   dist x2 x1 < \\<delta> \\<longrightarrow>\n                   dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "by blast"], ["proof (state)\nthis:\n  0 < (MIN i.\n          SOME \\<delta>.\n             0 < \\<delta> \\<and>\n             (\\<forall>x2.\n                 x2 \\<noteq> x1 \\<and>\n                 dist x2 x1 < \\<delta> \\<longrightarrow>\n                 dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have conts''':\"\\<And>i x2. x2 \\<noteq> x1 \\<Longrightarrow> dist x2 x1 < ?\\<delta>i i \\<Longrightarrow> dist (f i  x2) (f i x1) < (\\<epsilon>/?n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        dist x2 x1\n        < (SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1)\n                  < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "subgoal for i x2"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x2 \\<noteq> x1;\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1)\n               < \\<epsilon> / real CARD('a)))\\<rbrakk>\n    \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "using conts''[of i]"], ["proof (prove)\nusing this:\n  \\<exists>\\<delta>>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x2 \\<noteq> x1;\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1)\n               < \\<epsilon> / real CARD('a)))\\<rbrakk>\n    \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<delta>.\n       \\<lbrakk>x2 \\<noteq> x1;\n        dist x2 x1\n        < (SOME \\<delta>.\n              0 < \\<delta> \\<and>\n              (\\<forall>x2.\n                  x2 \\<noteq> x1 \\<and>\n                  dist x2 x1 < \\<delta> \\<longrightarrow>\n                  dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)));\n        0 < \\<delta>;\n        \\<forall>x2.\n           x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n           dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\\<rbrakk>\n       \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "subgoal for \\<delta>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x2 \\<noteq> x1;\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)));\n     0 < \\<delta>;\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n        dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\\<rbrakk>\n    \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "apply(erule allE[where x=x2])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x2 \\<noteq> x1;\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)));\n     0 < \\<delta>;\n     x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n     dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\\<rbrakk>\n    \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "using P\\<delta>i  \\<delta>s[of i]"], ["proof (prove)\nusing this:\n  0 < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a))) \\<and>\n  (\\<forall>x2.\n      x2 \\<noteq> x1 \\<and>\n      dist x2 x1\n      < (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f ?i x2) (f ?i x1)\n                < \\<epsilon> / real CARD('a))) \\<longrightarrow>\n      dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a))\n  (MIN i.\n      SOME \\<delta>.\n         0 < \\<delta> \\<and>\n         (\\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n  \\<le> (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x2 \\<noteq> x1;\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)));\n     0 < \\<delta>;\n     x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n     dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)\\<rbrakk>\n    \\<Longrightarrow> dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)", "apply (auto simp add: \\<delta>s[of i])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<lbrakk>?x2.0 \\<noteq> x1;\n   dist ?x2.0 x1\n   < (SOME \\<delta>.\n         0 < \\<delta> \\<and>\n         (\\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f ?i x2) (f ?i x1)\n             < \\<epsilon> / real CARD('a)))\\<rbrakk>\n  \\<Longrightarrow> dist (f ?i ?x2.0) (f ?i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "have \"\\<And>x2. x2 \\<noteq> x1 \\<and> dist x2 x1 < ?\\<delta> \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2)) (blinfun_vec (\\<lambda>i. f i x1)) < \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       x2 \\<noteq> x1 \\<and>\n       dist x2 x1\n       < (MIN i.\n             SOME \\<delta>.\n                0 < \\<delta> \\<and>\n                (\\<forall>x2.\n                    x2 \\<noteq> x1 \\<and>\n                    dist x2 x1 < \\<delta> \\<longrightarrow>\n                    dist (f i x2) (f i x1)\n                    < \\<epsilon> / real CARD('a))) \\<Longrightarrow>\n       dist (blinfun_vec (\\<lambda>i. f i x2))\n        (blinfun_vec (\\<lambda>i. f i x1))\n       < \\<epsilon>", "proof (auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "fix x2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "assume ne:\"x2 \\<noteq> x1\""], ["proof (state)\nthis:\n  x2 \\<noteq> x1\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "assume dist:\"\\<forall>i. dist x2 x1 < ?\\<delta>i i\""], ["proof (state)\nthis:\n  \\<forall>i.\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have dists:\"\\<And>i. dist x2 x1 < ?\\<delta>i i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       dist x2 x1\n       < (SOME \\<delta>.\n             0 < \\<delta> \\<and>\n             (\\<forall>x2.\n                 x2 \\<noteq> x1 \\<and>\n                 dist x2 x1 < \\<delta> \\<longrightarrow>\n                 dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "subgoal for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x2 x1\n    < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "using dist \\<delta>s[of i]"], ["proof (prove)\nusing this:\n  \\<forall>i.\n     dist x2 x1\n     < (SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n  (MIN i.\n      SOME \\<delta>.\n         0 < \\<delta> \\<and>\n         (\\<forall>x2.\n             x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n             dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n  \\<le> (SOME \\<delta>.\n            0 < \\<delta> \\<and>\n            (\\<forall>x2.\n                x2 \\<noteq> x1 \\<and>\n                dist x2 x1 < \\<delta> \\<longrightarrow>\n                dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. dist x2 x1\n    < (SOME \\<delta>.\n          0 < \\<delta> \\<and>\n          (\\<forall>x2.\n              x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n              dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  dist x2 x1\n  < (SOME \\<delta>.\n        0 < \\<delta> \\<and>\n        (\\<forall>x2.\n            x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n            dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have euclid:\"\\<And>y. norm(?f x1 y - ?f x2 y) = (L2_set (\\<lambda>i. norm(f i x1 y - f i x2 y)) UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       norm\n        (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n         blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) =\n       L2_set\n        (\\<lambda>i.\n            norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n        UNIV", "by (simp add: norm_vec_def)"], ["proof (state)\nthis:\n  norm\n   (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) ?y -\n    blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) ?y) =\n  L2_set\n   (\\<lambda>i.\n       norm (blinfun_apply (f i x1) ?y - blinfun_apply (f i x2) ?y))\n   UNIV\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have finite:\"finite (UNIV::'a set)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite UNIV", "by auto"], ["proof (state)\nthis:\n  finite UNIV\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have nonempty: \"(UNIV::'a set) \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  UNIV \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have nonemptyB: \"(UNIV::'b set) \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  UNIV \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have nonemptyR: \"(UNIV::real set) \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. UNIV \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  UNIV \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have SUP_leq:\"\\<And>f::('b \\<Rightarrow> real). \\<And> g::('b \\<Rightarrow> real). \\<And> S::'b set. S \\<noteq> {} \\<Longrightarrow> bdd_above (g ` S) \\<Longrightarrow> (\\<And>x. x \\<in> (S::'b set) \\<Longrightarrow> ((f x)::real) \\<le> ((g x)::real)) \\<Longrightarrow> (SUP x\\<in>S. f x) \\<le> (SUP x\\<in>S. g x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f g S.\n       \\<lbrakk>S \\<noteq> {}; bdd_above (g ` S);\n        \\<And>x. x \\<in> S \\<Longrightarrow> f x \\<le> g x\\<rbrakk>\n       \\<Longrightarrow> Sup (f ` S) \\<le> Sup (g ` S)", "by(rule cSup_mono, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>?S \\<noteq> {}; bdd_above (?g ` ?S);\n   \\<And>x. x \\<in> ?S \\<Longrightarrow> ?f x \\<le> ?g x\\<rbrakk>\n  \\<Longrightarrow> Sup (?f ` ?S) \\<le> Sup (?g ` ?S)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have SUP_sum_comm':\"\\<And>R S f . finite (S::'a set) \\<Longrightarrow> (R::'d::metric_space set) \\<noteq> {} \\<Longrightarrow>\n      (\\<And>i x. ((f i x)::real) \\<ge> 0) \\<Longrightarrow>\n      (\\<And>i. bdd_above (f i ` R)) \\<Longrightarrow>\n      (SUP x\\<in>R . (\\<Sum>i \\<in> S. f i x)) \\<le> (\\<Sum>i \\<in> S. (SUP x\\<in>R. f i x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "fix  R::\"'d set\" and S ::\"('a)set\"  and f  ::\"'a \\<Rightarrow> 'd \\<Rightarrow> real\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "assume non:\"R \\<noteq> {} \""], ["proof (state)\nthis:\n  R \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "assume fin:\"finite S\""], ["proof (state)\nthis:\n  finite S\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "assume every:\"(\\<And>i x. 0 \\<le> f i x)\""], ["proof (state)\nthis:\n  0 \\<le> f ?i ?x\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "assume bddF:\"\\<And>i. bdd_above (f i ` R)\""], ["proof (state)\nthis:\n  bdd_above (f ?i ` R)\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "then"], ["proof (chain)\npicking this:\n  bdd_above (f ?i ` R)", "have bddF':\"\\<And>i. \\<exists>M. \\<forall>x \\<in>R. f i x \\<le> M \""], ["proof (prove)\nusing this:\n  bdd_above (f ?i ` R)\n\ngoal (1 subgoal):\n 1. \\<And>i. \\<exists>M. \\<forall>x\\<in>R. f i x \\<le> M", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>x\\<in>f ?i ` R. x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>i. \\<exists>M. \\<forall>x\\<in>R. f i x \\<le> M", "by auto"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "let ?boundP = \"(\\<lambda>i M. \\<forall>x \\<in>R. f i x \\<le> M)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "let ?bound = \"(\\<lambda>i::'a. SOME M. \\<forall>x \\<in>R. f i x \\<le> M)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "have \"\\<And>i. \\<exists>M. ?boundP i M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. \\<exists>M. \\<forall>x\\<in>R. f i x \\<le> M", "using bddF'"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>i. \\<exists>M. \\<forall>x\\<in>R. f i x \\<le> M", "by auto"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "then"], ["proof (chain)\npicking this:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M", "have each_bound:\"\\<And>i. ?boundP i (?bound i)\""], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<forall>x\\<in>R.\n          f i x \\<le> (SOME M. \\<forall>x\\<in>R. f i x \\<le> M)", "subgoal for i"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>R. f i x \\<le> (SOME M. \\<forall>x\\<in>R. f i x \\<le> M)", "using someI[of \"?boundP i\"]"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>x\\<in>R. f ?i x \\<le> M\n  \\<forall>x\\<in>R. f i x \\<le> ?x \\<Longrightarrow>\n  \\<forall>x\\<in>R. f i x \\<le> (SOME M. \\<forall>x\\<in>R. f i x \\<le> M)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>R. f i x \\<le> (SOME M. \\<forall>x\\<in>R. f i x \\<le> M)", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>x\\<in>R. f ?i x \\<le> (SOME M. \\<forall>x\\<in>R. f ?i x \\<le> M)\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "let ?bigBound = \"(\\<lambda>F. \\<Sum>i\\<in>F. (?bound i))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "have bddG:\"\\<And>i::'a. \\<And>F. bdd_above ((\\<lambda>x. \\<Sum>i\\<in>F. f i x) ` R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i F. bdd_above ((\\<lambda>x. \\<Sum>i\\<in>F. f i x) ` R)", "subgoal for i F"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>x. \\<Sum>i\\<in>F. f i x) ` R)", "using bddF[of i]"], ["proof (prove)\nusing this:\n  bdd_above (f i ` R)\n\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>x. \\<Sum>i\\<in>F. f i x) ` R)", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>x\\<in>f i ` R. x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>x\\<in>(\\<lambda>x. \\<Sum>i\\<in>F. f i x) ` R. x \\<le> M", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x\\<in>R. f i x \\<le> M \\<Longrightarrow>\n       \\<exists>M. \\<forall>x\\<in>R. (\\<Sum>i\\<in>F. f i x) \\<le> M", "apply(rule exI[where x=\"?bigBound F\"])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x\\<in>R. f i x \\<le> M \\<Longrightarrow>\n       \\<forall>x\\<in>R.\n          (\\<Sum>i\\<in>F. f i x)\n          \\<le> (\\<Sum>i\\<in>F. SOME M. \\<forall>Ma\\<in>R. f i Ma \\<le> M)", "subgoal for M"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>R. f i x \\<le> M \\<Longrightarrow>\n    \\<forall>x\\<in>R.\n       (\\<Sum>i\\<in>F. f i x)\n       \\<le> (\\<Sum>i\\<in>F. SOME M. \\<forall>Ma\\<in>R. f i Ma \\<le> M)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>x\\<in>R. f i x \\<le> M; x \\<in> R\\<rbrakk>\n       \\<Longrightarrow> (\\<Sum>i\\<in>F. f i x)\n                         \\<le> (\\<Sum>i\\<in>F.\n                                  SOME M. \\<forall>Ma\\<in>R. f i Ma \\<le> M)", "subgoal for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>R. f i x \\<le> M; x \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (\\<Sum>i\\<in>F. f i x)\n                      \\<le> (\\<Sum>i\\<in>F.\n                               SOME M. \\<forall>Ma\\<in>R. f i Ma \\<le> M)", "using each_bound"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>R. f ?i x \\<le> (SOME M. \\<forall>x\\<in>R. f ?i x \\<le> M)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>R. f i x \\<le> M; x \\<in> R\\<rbrakk>\n    \\<Longrightarrow> (\\<Sum>i\\<in>F. f i x)\n                      \\<le> (\\<Sum>i\\<in>F.\n                               SOME M. \\<forall>Ma\\<in>R. f i Ma \\<le> M)", "by (simp add: sum_mono)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  bdd_above ((\\<lambda>x. \\<Sum>i\\<in>?F. f i x) ` R)\n\ngoal (1 subgoal):\n 1. \\<And>R S f.\n       \\<lbrakk>finite S; R \\<noteq> {}; \\<And>i x. 0 \\<le> f i x;\n        \\<And>i. bdd_above (f i ` R)\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x)\n                         \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "show \"?thesis R S f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x) \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "using fin assms"], ["proof (prove)\nusing this:\n  finite S\n  continuous_on UNIV (f ?i)\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x) \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))", "proof (induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n    (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x)\n    \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "case empty"], ["proof (state)\nthis:\n  continuous_on UNIV (f ?i)\n\ngoal (2 subgoals):\n 1. (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n    (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x)\n    \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "have \"((SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x)::real) \\<le> (\\<Sum>i\\<in>{}. SUP a\\<in>R. f i a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x)\n    \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))", "by (simp add: non)"], ["proof (state)\nthis:\n  (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x) \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))\n\ngoal (2 subgoals):\n 1. (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n    (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x)\n    \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "then"], ["proof (chain)\npicking this:\n  (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x) \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))", "show ?case"], ["proof (prove)\nusing this:\n  (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x) \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x)\n    \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))", "by auto"], ["proof (state)\nthis:\n  (SUP x\\<in>R. \\<Sum>i\\<in>{}. f i x) \\<le> (\\<Sum>i\\<in>{}. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "case (insert x F)"], ["proof (state)\nthis:\n  finite F\n  x \\<notin> F\n  (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n  (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x) \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R))\n  continuous_on UNIV (f ?i)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "have \"((SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)::real) \\<le> (SUP xa\\<in>R. f x xa +  (\\<Sum>i\\<in>F. f i xa))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n    \\<le> (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))", "using insert.hyps(2)"], ["proof (prove)\nusing this:\n  x \\<notin> F\n\ngoal (1 subgoal):\n 1. (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n    \\<le> (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))", "by auto"], ["proof (state)\nthis:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "moreover"], ["proof (state)\nthis:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "have \"...  \\<le> (SUP xa\\<in> R. f x xa) + (SUP xa\\<in>R. (\\<Sum>i\\<in>F. f i xa))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n    \\<le> Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)", "by(rule sup_plus, rule non, rule bddF, rule bddG)"], ["proof (state)\nthis:\n  (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n  \\<le> Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "moreover"], ["proof (state)\nthis:\n  (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n  \\<le> Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "have \"... \\<le> (SUP xa\\<in> R. f x xa) + (\\<Sum>i\\<in>F. SUP a\\<in>R. f i a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n    \\<le> Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))", "using add_le_cancel_left conts insert.hyps(3)"], ["proof (prove)\nusing this:\n  (?c + ?a \\<le> ?c + ?b) = (?a \\<le> ?b)\n  continuous_on UNIV (f ?i)\n  (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n  (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x) \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n    \\<le> Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))", "by blast"], ["proof (state)\nthis:\n  Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n  \\<le> Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "moreover"], ["proof (state)\nthis:\n  Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n  \\<le> Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "have \"... \\<le> (\\<Sum>i\\<in>(insert x F). SUP a\\<in>R. f i a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n    \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "by (simp add: insert.hyps(2))"], ["proof (state)\nthis:\n  Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "ultimately"], ["proof (chain)\npicking this:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n  (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n  \\<le> Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n  Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n  \\<le> Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n  Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "have \"((SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)::real) \\<le> (\\<Sum>i\\<in>(insert x F). SUP a\\<in>R. f i a)\""], ["proof (prove)\nusing this:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n  (SUP xa\\<in>R. f x xa + (\\<Sum>i\\<in>F. f i xa))\n  \\<le> Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n  Sup (f x ` R) + (SUP xa\\<in>R. \\<Sum>i\\<in>F. f i xa)\n  \\<le> Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n  Sup (f x ` R) + (\\<Sum>i\\<in>F. Sup (f i ` R))\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n    \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "by linarith"], ["proof (state)\nthis:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        (\\<And>i. continuous_on UNIV (f i)) \\<Longrightarrow>\n        (SUP x\\<in>R. \\<Sum>i\\<in>F. f i x)\n        \\<le> (\\<Sum>i\\<in>F. Sup (f i ` R));\n        \\<And>i. continuous_on UNIV (f i)\\<rbrakk>\n       \\<Longrightarrow> (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n                         \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "then"], ["proof (chain)\npicking this:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "show ?case"], ["proof (prove)\nusing this:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))\n\ngoal (1 subgoal):\n 1. (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n    \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))", "by auto"], ["proof (state)\nthis:\n  (SUP xa\\<in>R. \\<Sum>i\\<in>insert x F. f i xa)\n  \\<le> (\\<Sum>i\\<in>insert x F. Sup (f i ` R))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (SUP x\\<in>R. \\<Sum>i\\<in>S. f i x) \\<le> (\\<Sum>i\\<in>S. Sup (f i ` R))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>finite ?S; ?R \\<noteq> {}; \\<And>i x. 0 \\<le> ?f i x;\n   \\<And>i. bdd_above (?f i ` ?R)\\<rbrakk>\n  \\<Longrightarrow> (SUP x\\<in>?R. \\<Sum>i\\<in>?S. ?f i x)\n                    \\<le> (\\<Sum>i\\<in>?S. Sup (?f i ` ?R))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have SUP_sum_comm:\"\\<And>R S y1 y2 . finite (S::'a set) \\<Longrightarrow> (R::'b set) \\<noteq> {} \\<Longrightarrow> (SUP x\\<in>R . (\\<Sum>i \\<in> S. norm(f i y1 x - f i y2 x)/norm(x))) \\<le> (\\<Sum>i \\<in> S. (SUP x\\<in>R. norm(f i y1 x - f i y2 x)/norm(x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> (SUP x\\<in>R.\n                             \\<Sum>i\\<in>S.\n                               norm\n                                (blinfun_apply (f i y1) x -\n                                 blinfun_apply (f i y2) x) /\n                               norm x)\n                         \\<le> (\\<Sum>i\\<in>S.\n                                  SUP x\\<in>R.\n                                     norm\n(blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n                                     norm x)", "apply(rule SUP_sum_comm')"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>R S y1 y2.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk> \\<Longrightarrow> finite S\n 2. \\<And>R S y1 y2.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> R \\<noteq> {}\n 3. \\<And>R S y1 y2 i x.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm\n                                  (blinfun_apply (f i y1) x -\n                                   blinfun_apply (f i y2) x) /\n                                 norm x\n 4. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> bdd_above\n                          ((\\<lambda>x.\n                               norm\n                                (blinfun_apply (f i y1) x -\n                                 blinfun_apply (f i y2) x) /\n                               norm x) `\n                           R)", "apply(auto)[3]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> bdd_above\n                          ((\\<lambda>x.\n                               norm\n                                (blinfun_apply (f i y1) x -\n                                 blinfun_apply (f i y2) x) /\n                               norm x) `\n                           R)", "proof (unfold bdd_above_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "fix R S y1 y2 i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "fix rr :: \"real \\<Rightarrow> real\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "obtain bb :: \"real \\<Rightarrow> ('b \\<Rightarrow> real) \\<Rightarrow> 'b set \\<Rightarrow> 'b\" where\n              ff1: \"\\<And>r f B. r \\<notin> f ` B \\<or> f (bb r f B) = r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>bb.\n        (\\<And>r f B.\n            r \\<notin> f ` B \\<or> f (bb r f B) = r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  ?r1 \\<notin> ?f1 ` ?B1 \\<or> ?f1 (bb ?r1 ?f1 ?B1) = ?r1\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "{"], ["proof (state)\nthis:\n  ?r1 \\<notin> ?f1 ` ?B1 \\<or> ?f1 (bb ?r1 ?f1 ?B1) = ?r1\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "assume \"\\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2)\""], ["proof (state)\nthis:\n  \\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2)\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "then"], ["proof (chain)\npicking this:\n  \\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2)", "have \"\\<exists>r. norm (blinfun_apply (f i y1) (bb (rr r) (\\<lambda>b. norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) / norm b) R) - blinfun_apply (f i y2) (bb (rr r) (\\<lambda>b. norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) / norm b) R)) / norm (bb (rr r) (\\<lambda>b. norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) / norm b) R) \\<noteq> rr r\""], ["proof (prove)\nusing this:\n  \\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2)\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       norm\n        (blinfun_apply (f i y1)\n          (bb (rr r)\n            (\\<lambda>b.\n                norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                norm b)\n            R) -\n         blinfun_apply (f i y2)\n          (bb (rr r)\n            (\\<lambda>b.\n                norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                norm b)\n            R)) /\n       norm\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R) \\<noteq>\n       rr r", "by (metis (no_types) le_norm_blinfun minus_blinfun.rep_eq)"], ["proof (state)\nthis:\n  \\<exists>r.\n     norm\n      (blinfun_apply (f i y1)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R) -\n       blinfun_apply (f i y2)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R)) /\n     norm\n      (bb (rr r)\n        (\\<lambda>b.\n            norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n            norm b)\n        R) \\<noteq>\n     rr r\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "then"], ["proof (chain)\npicking this:\n  \\<exists>r.\n     norm\n      (blinfun_apply (f i y1)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R) -\n       blinfun_apply (f i y2)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R)) /\n     norm\n      (bb (rr r)\n        (\\<lambda>b.\n            norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n            norm b)\n        R) \\<noteq>\n     rr r", "have \"\\<exists>r. rr r \\<le> r \\<or> rr r \\<notin> (\\<lambda>b. norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) / norm b) ` R\""], ["proof (prove)\nusing this:\n  \\<exists>r.\n     norm\n      (blinfun_apply (f i y1)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R) -\n       blinfun_apply (f i y2)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R)) /\n     norm\n      (bb (rr r)\n        (\\<lambda>b.\n            norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n            norm b)\n        R) \\<noteq>\n     rr r\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       rr r \\<le> r \\<or>\n       rr r\n       \\<notin> (\\<lambda>b.\n                    norm\n                     (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                    norm b) `\n                R", "using ff1"], ["proof (prove)\nusing this:\n  \\<exists>r.\n     norm\n      (blinfun_apply (f i y1)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R) -\n       blinfun_apply (f i y2)\n        (bb (rr r)\n          (\\<lambda>b.\n              norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n              norm b)\n          R)) /\n     norm\n      (bb (rr r)\n        (\\<lambda>b.\n            norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n            norm b)\n        R) \\<noteq>\n     rr r\n  ?r1 \\<notin> ?f1 ` ?B1 \\<or> ?f1 (bb ?r1 ?f1 ?B1) = ?r1\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       rr r \\<le> r \\<or>\n       rr r\n       \\<notin> (\\<lambda>b.\n                    norm\n                     (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                    norm b) `\n                R", "by meson"], ["proof (state)\nthis:\n  \\<exists>r.\n     rr r \\<le> r \\<or>\n     rr r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "}"], ["proof (state)\nthis:\n  \\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2) \\<Longrightarrow>\n  \\<exists>r.\n     rr r \\<le> r \\<or>\n     rr r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "then"], ["proof (chain)\npicking this:\n  \\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2) \\<Longrightarrow>\n  \\<exists>r.\n     rr r \\<le> r \\<or>\n     rr r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R", "have \"\\<exists>r. rr r \\<le> r \\<or> rr r \\<notin> (\\<lambda>b. norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) / norm b) ` R\""], ["proof (prove)\nusing this:\n  \\<exists>r. \\<not> rr r \\<le> norm (f i y1 - f i y2) \\<Longrightarrow>\n  \\<exists>r.\n     rr r \\<le> r \\<or>\n     rr r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       rr r \\<le> r \\<or>\n       rr r\n       \\<notin> (\\<lambda>b.\n                    norm\n                     (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                    norm b) `\n                R", "by blast"], ["proof (state)\nthis:\n  \\<exists>r.\n     rr r \\<le> r \\<or>\n     rr r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "}"], ["proof (state)\nthis:\n  \\<exists>r.\n     ?rr3 r \\<le> r \\<or>\n     ?rr3 r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R\n\ngoal (1 subgoal):\n 1. \\<And>R S y1 y2 i.\n       \\<lbrakk>finite S; R \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M.\n                            \\<forall>x\\<in>(\\<lambda>x.\n         norm (blinfun_apply (f i y1) x - blinfun_apply (f i y2) x) /\n         norm x) `\n     R.\n                               x \\<le> M", "then"], ["proof (chain)\npicking this:\n  \\<exists>r.\n     ?rr3 r \\<le> r \\<or>\n     ?rr3 r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R", "show \"\\<exists>r. \\<forall>ra\\<in>(\\<lambda>b. norm (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) / norm b) ` R. ra \\<le> r\""], ["proof (prove)\nusing this:\n  \\<exists>r.\n     ?rr3 r \\<le> r \\<or>\n     ?rr3 r\n     \\<notin> (\\<lambda>b.\n                  norm\n                   (blinfun_apply (f i y1) b - blinfun_apply (f i y2) b) /\n                  norm b) `\n              R\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       \\<forall>ra\\<in>(\\<lambda>b.\n                           norm\n                            (blinfun_apply (f i y1) b -\n                             blinfun_apply (f i y2) b) /\n                           norm b) `\n                       R.\n          ra \\<le> r", "by meson"], ["proof (state)\nthis:\n  \\<exists>r.\n     \\<forall>ra\\<in>(\\<lambda>b.\n                         norm\n                          (blinfun_apply (f i y1) b -\n                           blinfun_apply (f i y2) b) /\n                         norm b) `\n                     R.\n        ra \\<le> r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>finite ?S1; ?R1 \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> (SUP x\\<in>?R1.\n                        \\<Sum>i\\<in>?S1.\n                          norm\n                           (blinfun_apply (f i ?y1.1) x -\n                            blinfun_apply (f i ?y2.1) x) /\n                          norm x)\n                    \\<le> (\\<Sum>i\\<in>?S1.\n                             SUP x\\<in>?R1.\n                                norm\n                                 (blinfun_apply (f i ?y1.1) x -\n                                  blinfun_apply (f i ?y2.1) x) /\n                                norm x)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have SUM_leq:\"\\<And>S::('a) set. \\<And> f g ::('a \\<Rightarrow> real). S \\<noteq> {} \\<Longrightarrow> finite S \\<Longrightarrow> (\\<And>x. x \\<in> S \\<Longrightarrow> f x < g x) \\<Longrightarrow> (\\<Sum>x\\<in>S. f x) < (\\<Sum>x\\<in>S. g x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>S f g.\n       \\<lbrakk>S \\<noteq> {}; finite S;\n        \\<And>x. x \\<in> S \\<Longrightarrow> f x < g x\\<rbrakk>\n       \\<Longrightarrow> sum f S < sum g S", "by(rule sum_strict_mono, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>?S1 \\<noteq> {}; finite ?S1;\n   \\<And>x. x \\<in> ?S1 \\<Longrightarrow> ?f1 x < ?g1 x\\<rbrakk>\n  \\<Longrightarrow> sum ?f1 ?S1 < sum ?g1 ?S1\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have L2:\"\\<And>f S. L2_set (\\<lambda>x. norm(f x)) S \\<le> (\\<Sum>x \\<in> S. norm(f x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f S.\n       L2_set (\\<lambda>x. norm (f x)) S \\<le> (\\<Sum>x\\<in>S. norm (f x))", "using L2_set_le_sum norm_ge_zero"], ["proof (prove)\nusing this:\n  (\\<And>i. i \\<in> ?A \\<Longrightarrow> 0 \\<le> ?f i) \\<Longrightarrow>\n  L2_set ?f ?A \\<le> sum ?f ?A\n  0 \\<le> norm ?x\n\ngoal (1 subgoal):\n 1. \\<And>f S.\n       L2_set (\\<lambda>x. norm (f x)) S \\<le> (\\<Sum>x\\<in>S. norm (f x))", "by metis"], ["proof (state)\nthis:\n  L2_set (\\<lambda>x. norm (?f1 x)) ?S1\n  \\<le> (\\<Sum>x\\<in>?S1. norm (?f1 x))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have L2':\"\\<And>y. (L2_set (\\<lambda>i. norm(f i x1 y - f i x2 y)) UNIV)/norm(y) \\<le> (\\<Sum>i\\<in>UNIV. norm(f i x1 y - f i x2 y))/norm(y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       L2_set\n        (\\<lambda>i.\n            norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n        UNIV /\n       norm y\n       \\<le> (\\<Sum>i\\<in>UNIV.\n                norm\n                 (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n             norm y", "subgoal for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. L2_set\n     (\\<lambda>i.\n         norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n     UNIV /\n    norm y\n    \\<le> (\\<Sum>i\\<in>UNIV.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n          norm y", "using L2[of \"(\\<lambda> x. f x x1 y - f x x2 y)\" UNIV]"], ["proof (prove)\nusing this:\n  L2_set\n   (\\<lambda>x. norm (blinfun_apply (f x x1) y - blinfun_apply (f x x2) y))\n   UNIV\n  \\<le> (\\<Sum>x\\<in>UNIV.\n           norm (blinfun_apply (f x x1) y - blinfun_apply (f x x2) y))\n\ngoal (1 subgoal):\n 1. L2_set\n     (\\<lambda>i.\n         norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n     UNIV /\n    norm y\n    \\<le> (\\<Sum>i\\<in>UNIV.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n          norm y", "by (auto simp add: divide_right_mono)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  L2_set\n   (\\<lambda>i.\n       norm (blinfun_apply (f i x1) ?y2 - blinfun_apply (f i x2) ?y2))\n   UNIV /\n  norm ?y2\n  \\<le> (\\<Sum>i\\<in>UNIV.\n           norm (blinfun_apply (f i x1) ?y2 - blinfun_apply (f i x2) ?y2)) /\n        norm ?y2\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"\\<And>i. (SUP y\\<in>UNIV.  norm((f i x1 - f i x2) y)/norm(y)) = norm(f i x1 - f i x2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       (SUP y. norm (blinfun_apply (f i x1 - f i x2) y) / norm y) =\n       norm (f i x1 - f i x2)", "by (simp add: onorm_def norm_blinfun.rep_eq)"], ["proof (state)\nthis:\n  (SUP y. norm (blinfun_apply (f ?i2 x1 - f ?i2 x2) y) / norm y) =\n  norm (f ?i2 x1 - f ?i2 x2)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "then"], ["proof (chain)\npicking this:\n  (SUP y. norm (blinfun_apply (f ?i2 x1 - f ?i2 x2) y) / norm y) =\n  norm (f ?i2 x1 - f ?i2 x2)", "have each_norm:\"\\<And>i. (SUP y\\<in>UNIV.  norm(f i x1 y - f i x2 y)/norm(y)) = norm(f i x1 - f i x2)\""], ["proof (prove)\nusing this:\n  (SUP y. norm (blinfun_apply (f ?i2 x1 - f ?i2 x2) y) / norm y) =\n  norm (f ?i2 x1 - f ?i2 x2)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       (SUP y.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n           norm y) =\n       norm (f i x1 - f i x2)", "by (metis (no_types, lifting) SUP_cong blinfun.diff_left)"], ["proof (state)\nthis:\n  (SUP y.\n      norm (blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y) /\n      norm y) =\n  norm (f ?i2 x1 - f ?i2 x2)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have bounded_linear:\"\\<And>i. bounded_linear (\\<lambda>y. f i x1 y - f i x2 y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       bounded_linear\n        (\\<lambda>y. blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)", "by (simp add: blinfun.bounded_linear_right bounded_linear_sub)"], ["proof (state)\nthis:\n  bounded_linear\n   (\\<lambda>y. blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have each_bound:\"\\<And>i. bdd_above ((\\<lambda>y. norm(f i x1 y - f i x2 y)/norm(y)) ` UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       bdd_above\n        (range\n          (\\<lambda>y.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n              norm y))", "using bounded_linear"], ["proof (prove)\nusing this:\n  bounded_linear\n   (\\<lambda>y. blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       bdd_above\n        (range\n          (\\<lambda>y.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n              norm y))", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  bounded_linear\n   (\\<lambda>y. blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "fix i :: 'a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "fix rr :: \"real \\<Rightarrow> real\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "have \"\\<And>a r. norm (blinfun_apply (f a x1) r - blinfun_apply (f a x2) r) / norm r \\<le> norm (f a x1 - f a x2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a r.\n       norm (blinfun_apply (f a x1) r - blinfun_apply (f a x2) r) / norm r\n       \\<le> norm (f a x1 - f a x2)", "by (metis le_norm_blinfun minus_blinfun.rep_eq)"], ["proof (state)\nthis:\n  norm (blinfun_apply (f ?a2 x1) ?r2 - blinfun_apply (f ?a2 x2) ?r2) /\n  norm ?r2\n  \\<le> norm (f ?a2 x1 - f ?a2 x2)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "then"], ["proof (chain)\npicking this:\n  norm (blinfun_apply (f ?a2 x1) ?r2 - blinfun_apply (f ?a2 x2) ?r2) /\n  norm ?r2\n  \\<le> norm (f ?a2 x1 - f ?a2 x2)", "have \"\\<And>r R. r \\<notin> (\\<lambda>r. norm (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) / norm r) ` R \\<or> r \\<le> norm (f i x1 - f i x2)\""], ["proof (prove)\nusing this:\n  norm (blinfun_apply (f ?a2 x1) ?r2 - blinfun_apply (f ?a2 x2) ?r2) /\n  norm ?r2\n  \\<le> norm (f ?a2 x1 - f ?a2 x2)\n\ngoal (1 subgoal):\n 1. \\<And>r R.\n       r \\<notin> (\\<lambda>r.\n                      norm\n                       (blinfun_apply (f i x1) r -\n                        blinfun_apply (f i x2) r) /\n                      norm r) `\n                  R \\<or>\n       r \\<le> norm (f i x1 - f i x2)", "by blast"], ["proof (state)\nthis:\n  ?r2\n  \\<notin> (\\<lambda>r.\n               norm (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n               norm r) `\n           ?R2 \\<or>\n  ?r2 \\<le> norm (f i x1 - f i x2)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "then"], ["proof (chain)\npicking this:\n  ?r2\n  \\<notin> (\\<lambda>r.\n               norm (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n               norm r) `\n           ?R2 \\<or>\n  ?r2 \\<le> norm (f i x1 - f i x2)", "have \"\\<exists>r. rr r \\<le> r \\<or> rr r \\<notin> range (\\<lambda>r. norm (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) / norm r)\""], ["proof (prove)\nusing this:\n  ?r2\n  \\<notin> (\\<lambda>r.\n               norm (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n               norm r) `\n           ?R2 \\<or>\n  ?r2 \\<le> norm (f i x1 - f i x2)\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       rr r \\<le> r \\<or>\n       rr r\n       \\<notin> range\n                 (\\<lambda>r.\n                     norm\n                      (blinfun_apply (f i x1) r -\n                       blinfun_apply (f i x2) r) /\n                     norm r)", "by blast"], ["proof (state)\nthis:\n  \\<exists>r.\n     rr r \\<le> r \\<or>\n     rr r\n     \\<notin> range\n               (\\<lambda>r.\n                   norm\n                    (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n                   norm r)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "}"], ["proof (state)\nthis:\n  \\<exists>r.\n     ?rr4 r \\<le> r \\<or>\n     ?rr4 r\n     \\<notin> range\n               (\\<lambda>r.\n                   norm\n                    (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n                   norm r)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       (\\<And>i.\n           bounded_linear\n            (\\<lambda>y.\n                blinfun_apply (f i x1) y -\n                blinfun_apply (f i x2) y)) \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x\\<in>range\n                          (\\<lambda>y.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y) /\n                              norm y).\n             x \\<le> M", "then"], ["proof (chain)\npicking this:\n  \\<exists>r.\n     ?rr4 r \\<le> r \\<or>\n     ?rr4 r\n     \\<notin> range\n               (\\<lambda>r.\n                   norm\n                    (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n                   norm r)", "show \"\\<exists>r. \\<forall>ra\\<in>range (\\<lambda>r. norm (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) / norm r). ra \\<le> r\""], ["proof (prove)\nusing this:\n  \\<exists>r.\n     ?rr4 r \\<le> r \\<or>\n     ?rr4 r\n     \\<notin> range\n               (\\<lambda>r.\n                   norm\n                    (blinfun_apply (f i x1) r - blinfun_apply (f i x2) r) /\n                   norm r)\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       \\<forall>ra\\<in>range\n                        (\\<lambda>r.\n                            norm\n                             (blinfun_apply (f i x1) r -\n                              blinfun_apply (f i x2) r) /\n                            norm r).\n          ra \\<le> r", "by meson"], ["proof (state)\nthis:\n  \\<exists>r.\n     \\<forall>ra\\<in>range\n                      (\\<lambda>r.\n                          norm\n                           (blinfun_apply (f i x1) r -\n                            blinfun_apply (f i x2) r) /\n                          norm r).\n        ra \\<le> r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   (range\n     (\\<lambda>y.\n         norm (blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y) /\n         norm y))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have bdd_above:\"(bdd_above ((\\<lambda>y. (\\<Sum>i\\<in>UNIV. norm(f i x1 y - f i x2 y)/norm(y))) ` UNIV))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     (range\n       (\\<lambda>y.\n           \\<Sum>i\\<in>UNIV.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n             norm y))", "using each_bound"], ["proof (prove)\nusing this:\n  bdd_above\n   (range\n     (\\<lambda>y.\n         norm (blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y) /\n         norm y))\n\ngoal (1 subgoal):\n 1. bdd_above\n     (range\n       (\\<lambda>y.\n           \\<Sum>i\\<in>UNIV.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n             norm y))", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>x\\<in>range\n                     (\\<lambda>y.\n                         norm\n                          (blinfun_apply (f ?i2 x1) y -\n                           blinfun_apply (f ?i2 x2) y) /\n                         norm y).\n        x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>x\\<in>range\n                       (\\<lambda>y.\n                           \\<Sum>i\\<in>UNIV.\n                             norm\n                              (blinfun_apply (f i x1) y -\n                               blinfun_apply (f i x2) y) /\n                             norm y).\n          x \\<le> M", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "assume each:\"(\\<And>i. \\<exists>M. \\<forall>x. \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> / norm x \\<le> M)\""], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>x.\n        \\<bar>blinfun_apply (f ?i2 x1) x -\n              blinfun_apply (f ?i2 x2) x\\<bar> /\n        norm x\n        \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "let ?boundP = \"(\\<lambda>i M. \\<forall>x. \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> / norm x \\<le> M)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "let ?bound = \"(\\<lambda>i. SOME x. ?boundP i x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "have bounds:\"\\<And>i. ?boundP i (?bound i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<forall>x.\n          \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n          norm x\n          \\<le> (SOME x.\n                    \\<forall>xa.\n                       \\<bar>blinfun_apply (f i x1) xa -\n                             blinfun_apply (f i x2) xa\\<bar> /\n                       norm xa\n                       \\<le> x)", "subgoal for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n       norm x\n       \\<le> (SOME x.\n                 \\<forall>xa.\n                    \\<bar>blinfun_apply (f i x1) xa -\n                          blinfun_apply (f i x2) xa\\<bar> /\n                    norm xa\n                    \\<le> x)", "using each someI[of \"?boundP i\"]"], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>x.\n        \\<bar>blinfun_apply (f ?i2 x1) x -\n              blinfun_apply (f ?i2 x2) x\\<bar> /\n        norm x\n        \\<le> M\n  \\<forall>x.\n     \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n     norm x\n     \\<le> ?x \\<Longrightarrow>\n  \\<forall>x.\n     \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n     norm x\n     \\<le> (SOME M.\n               \\<forall>x.\n                  \\<bar>blinfun_apply (f i x1) x -\n                        blinfun_apply (f i x2) x\\<bar> /\n                  norm x\n                  \\<le> M)\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n       norm x\n       \\<le> (SOME x.\n                 \\<forall>xa.\n                    \\<bar>blinfun_apply (f i x1) xa -\n                          blinfun_apply (f i x2) xa\\<bar> /\n                    norm xa\n                    \\<le> x)", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>x.\n     \\<bar>blinfun_apply (f ?i2 x1) x - blinfun_apply (f ?i2 x2) x\\<bar> /\n     norm x\n     \\<le> (SOME x.\n               \\<forall>xa.\n                  \\<bar>blinfun_apply (f ?i2 x1) xa -\n                        blinfun_apply (f ?i2 x2) xa\\<bar> /\n                  norm xa\n                  \\<le> x)\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "let ?bigBound = \"\\<Sum>i\\<in>(UNIV::'a set). ?bound i\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<exists>M.\n           \\<forall>x.\n              \\<bar>blinfun_apply (f i x1) x -\n                    blinfun_apply (f i x2) x\\<bar> /\n              norm x\n              \\<le> M) \\<Longrightarrow>\n    \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "show \"\\<exists>M. \\<forall>x. (\\<Sum>i\\<in>UNIV. \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> / norm x) \\<le> M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M", "apply(rule exI[where x= ?bigBound])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       (\\<Sum>i\\<in>UNIV.\n          \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n          norm x)\n       \\<le> (\\<Sum>i\\<in>UNIV.\n                SOME M.\n                   \\<forall>Ma.\n                      \\<bar>blinfun_apply (f i x1) Ma -\n                            blinfun_apply (f i x2) Ma\\<bar> /\n                      norm Ma\n                      \\<le> M)", "by(auto simp add: bounds sum_mono)"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>x.\n        (\\<Sum>i\\<in>UNIV.\n           \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n           norm x)\n        \\<le> M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   (range\n     (\\<lambda>y.\n         \\<Sum>i\\<in>UNIV.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n           norm y))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have bdd_above:\"(bdd_above ((\\<lambda>y. (\\<Sum>i\\<in>UNIV. norm(f i x1 y - f i x2 y))/norm(y)) ` UNIV))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     (range\n       (\\<lambda>y.\n           (\\<Sum>i\\<in>UNIV.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n           norm y))", "using bdd_above"], ["proof (prove)\nusing this:\n  bdd_above\n   (range\n     (\\<lambda>y.\n         \\<Sum>i\\<in>UNIV.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n           norm y))\n\ngoal (1 subgoal):\n 1. bdd_above\n     (range\n       (\\<lambda>y.\n           (\\<Sum>i\\<in>UNIV.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n           norm y))", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>x\\<in>range\n                     (\\<lambda>y.\n                         \\<Sum>i\\<in>UNIV.\n                           norm\n                            (blinfun_apply (f i x1) y -\n                             blinfun_apply (f i x2) y) /\n                           norm y).\n        x \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>x\\<in>range\n                       (\\<lambda>y.\n                           (\\<Sum>i\\<in>UNIV.\n                              norm\n                               (blinfun_apply (f i x1) y -\n                                blinfun_apply (f i x2) y)) /\n                           norm y).\n          x \\<le> M", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "fix M :: real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "assume a1: \"\\<forall>x. (\\<Sum>i\\<in>UNIV. \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> / norm x) \\<le> M\""], ["proof (state)\nthis:\n  \\<forall>x.\n     (\\<Sum>i\\<in>UNIV.\n        \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n        norm x)\n     \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "{"], ["proof (state)\nthis:\n  \\<forall>x.\n     (\\<Sum>i\\<in>UNIV.\n        \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n        norm x)\n     \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "fix bb :: \"real \\<Rightarrow> 'b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "have \"\\<And>b. (\\<Sum>a\\<in>UNIV. \\<bar>blinfun_apply (f a x1) b - blinfun_apply (f a x2) b\\<bar>) / norm b \\<le> M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>b.\n       (\\<Sum>a\\<in>UNIV.\n          \\<bar>blinfun_apply (f a x1) b - blinfun_apply (f a x2) b\\<bar>) /\n       norm b\n       \\<le> M", "using a1"], ["proof (prove)\nusing this:\n  \\<forall>x.\n     (\\<Sum>i\\<in>UNIV.\n        \\<bar>blinfun_apply (f i x1) x - blinfun_apply (f i x2) x\\<bar> /\n        norm x)\n     \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       (\\<Sum>a\\<in>UNIV.\n          \\<bar>blinfun_apply (f a x1) b - blinfun_apply (f a x2) b\\<bar>) /\n       norm b\n       \\<le> M", "by (simp add: sum_divide_distrib)"], ["proof (state)\nthis:\n  (\\<Sum>a\\<in>UNIV.\n     \\<bar>blinfun_apply (f a x1) ?b2 - blinfun_apply (f a x2) ?b2\\<bar>) /\n  norm ?b2\n  \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>a\\<in>UNIV.\n     \\<bar>blinfun_apply (f a x1) ?b2 - blinfun_apply (f a x2) ?b2\\<bar>) /\n  norm ?b2\n  \\<le> M", "have \"\\<exists>r. (\\<Sum>a\\<in>UNIV. \\<bar>blinfun_apply (f a x1) (bb r) - blinfun_apply (f a x2) (bb r)\\<bar>) / norm (bb r) \\<le> r\""], ["proof (prove)\nusing this:\n  (\\<Sum>a\\<in>UNIV.\n     \\<bar>blinfun_apply (f a x1) ?b2 - blinfun_apply (f a x2) ?b2\\<bar>) /\n  norm ?b2\n  \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       (\\<Sum>a\\<in>UNIV.\n          \\<bar>blinfun_apply (f a x1) (bb r) -\n                blinfun_apply (f a x2) (bb r)\\<bar>) /\n       norm (bb r)\n       \\<le> r", "by blast"], ["proof (state)\nthis:\n  \\<exists>r.\n     (\\<Sum>a\\<in>UNIV.\n        \\<bar>blinfun_apply (f a x1) (bb r) -\n              blinfun_apply (f a x2) (bb r)\\<bar>) /\n     norm (bb r)\n     \\<le> r\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "}"], ["proof (state)\nthis:\n  \\<exists>r.\n     (\\<Sum>a\\<in>UNIV.\n        \\<bar>blinfun_apply (f a x1) (?bb4 r) -\n              blinfun_apply (f a x2) (?bb4 r)\\<bar>) /\n     norm (?bb4 r)\n     \\<le> r\n\ngoal (1 subgoal):\n 1. \\<And>M.\n       \\<forall>x.\n          (\\<Sum>i\\<in>UNIV.\n             \\<bar>blinfun_apply (f i x1) x -\n                   blinfun_apply (f i x2) x\\<bar> /\n             norm x)\n          \\<le> M \\<Longrightarrow>\n       \\<exists>M.\n          \\<forall>x.\n             (\\<Sum>i\\<in>UNIV.\n                \\<bar>blinfun_apply (f i x1) x -\n                      blinfun_apply (f i x2) x\\<bar>) /\n             norm x\n             \\<le> M", "then"], ["proof (chain)\npicking this:\n  \\<exists>r.\n     (\\<Sum>a\\<in>UNIV.\n        \\<bar>blinfun_apply (f a x1) (?bb4 r) -\n              blinfun_apply (f a x2) (?bb4 r)\\<bar>) /\n     norm (?bb4 r)\n     \\<le> r", "show \"\\<exists>r. \\<forall>b. (\\<Sum>a\\<in>UNIV. \\<bar>blinfun_apply (f a x1) b - blinfun_apply (f a x2) b\\<bar>) / norm b \\<le> r\""], ["proof (prove)\nusing this:\n  \\<exists>r.\n     (\\<Sum>a\\<in>UNIV.\n        \\<bar>blinfun_apply (f a x1) (?bb4 r) -\n              blinfun_apply (f a x2) (?bb4 r)\\<bar>) /\n     norm (?bb4 r)\n     \\<le> r\n\ngoal (1 subgoal):\n 1. \\<exists>r.\n       \\<forall>b.\n          (\\<Sum>a\\<in>UNIV.\n             \\<bar>blinfun_apply (f a x1) b -\n                   blinfun_apply (f a x2) b\\<bar>) /\n          norm b\n          \\<le> r", "by meson"], ["proof (state)\nthis:\n  \\<exists>r.\n     \\<forall>b.\n        (\\<Sum>a\\<in>UNIV.\n           \\<bar>blinfun_apply (f a x1) b -\n                 blinfun_apply (f a x2) b\\<bar>) /\n        norm b\n        \\<le> r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   (range\n     (\\<lambda>y.\n         (\\<Sum>i\\<in>UNIV.\n            norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n         norm y))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"dist (?f x2) (?f x1) = norm((?f x2) - (?f x1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (blinfun_vec (\\<lambda>i. f i x2))\n     (blinfun_vec (\\<lambda>i. f i x1)) =\n    norm\n     (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1))", "by (simp add: dist_blinfun_def)"], ["proof (state)\nthis:\n  dist (blinfun_vec (\\<lambda>i. f i x2))\n   (blinfun_vec (\\<lambda>i. f i x1)) =\n  norm (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  dist (blinfun_vec (\\<lambda>i. f i x2))\n   (blinfun_vec (\\<lambda>i. f i x1)) =\n  norm (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... = (SUP y\\<in>UNIV. norm(?f x1 y - ?f x2 y)/norm(y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1)) =\n    (SUP y.\n        norm\n         (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n          blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n        norm y)", "by (metis (no_types, lifting) SUP_cong blinfun.diff_left norm_blinfun.rep_eq norm_minus_commute onorm_def)"], ["proof (state)\nthis:\n  norm\n   (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1)) =\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  norm\n   (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1)) =\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... = (SUP y\\<in>UNIV. (L2_set (\\<lambda>i. norm(f i x1 y - f i x2 y)) UNIV)/norm(y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP y.\n        norm\n         (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n          blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n        norm y) =\n    (SUP y.\n        L2_set\n         (\\<lambda>i.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n         UNIV /\n        norm y)", "using  euclid"], ["proof (prove)\nusing this:\n  norm\n   (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) ?y -\n    blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) ?y) =\n  L2_set\n   (\\<lambda>i.\n       norm (blinfun_apply (f i x1) ?y - blinfun_apply (f i x2) ?y))\n   UNIV\n\ngoal (1 subgoal):\n 1. (SUP y.\n        norm\n         (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n          blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n        norm y) =\n    (SUP y.\n        L2_set\n         (\\<lambda>i.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n         UNIV /\n        norm y)", "by auto"], ["proof (state)\nthis:\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y) =\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y) =\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... \\<le> (SUP y\\<in>UNIV. (\\<Sum>i\\<in>UNIV. norm(f i x1 y - f i x2 y))/norm(y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP y.\n        L2_set\n         (\\<lambda>i.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n         UNIV /\n        norm y)\n    \\<le> (SUP y.\n              (\\<Sum>i\\<in>UNIV.\n                 norm\n                  (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n              norm y)", "using L2' SUP_cong SUP_leq bdd_above"], ["proof (prove)\nusing this:\n  L2_set\n   (\\<lambda>i.\n       norm (blinfun_apply (f i x1) ?y2 - blinfun_apply (f i x2) ?y2))\n   UNIV /\n  norm ?y2\n  \\<le> (\\<Sum>i\\<in>UNIV.\n           norm (blinfun_apply (f i x1) ?y2 - blinfun_apply (f i x2) ?y2)) /\n        norm ?y2\n  \\<lbrakk>?A = ?B;\n   \\<And>x. x \\<in> ?B \\<Longrightarrow> ?C x = ?D x\\<rbrakk>\n  \\<Longrightarrow> Sup (?C ` ?A) = Sup (?D ` ?B)\n  \\<lbrakk>?S \\<noteq> {}; bdd_above (?g ` ?S);\n   \\<And>x. x \\<in> ?S \\<Longrightarrow> ?f x \\<le> ?g x\\<rbrakk>\n  \\<Longrightarrow> Sup (?f ` ?S) \\<le> Sup (?g ` ?S)\n  bdd_above\n   (range\n     (\\<lambda>y.\n         (\\<Sum>i\\<in>UNIV.\n            norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n         norm y))\n\ngoal (1 subgoal):\n 1. (SUP y.\n        L2_set\n         (\\<lambda>i.\n             norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n         UNIV /\n        norm y)\n    \\<le> (SUP y.\n              (\\<Sum>i\\<in>UNIV.\n                 norm\n                  (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n              norm y)", "by auto"], ["proof (state)\nthis:\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n  \\<le> (SUP y.\n            (\\<Sum>i\\<in>UNIV.\n               norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n            norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n  \\<le> (SUP y.\n            (\\<Sum>i\\<in>UNIV.\n               norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n            norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... = (SUP y\\<in>UNIV. (\\<Sum>i\\<in>UNIV. norm(f i x1 y - f i x2 y)/norm(y)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP y.\n        (\\<Sum>i\\<in>UNIV.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n        norm y) =\n    (SUP y.\n        \\<Sum>i\\<in>UNIV.\n          norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n          norm y)", "by (simp add: sum_divide_distrib)"], ["proof (state)\nthis:\n  (SUP y.\n      (\\<Sum>i\\<in>UNIV.\n         norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n      norm y) =\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (SUP y.\n      (\\<Sum>i\\<in>UNIV.\n         norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n      norm y) =\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... \\<le> (\\<Sum>i\\<in>UNIV. (SUP y\\<in>UNIV.  norm(f i x1 y - f i x2 y)/norm(y)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP y.\n        \\<Sum>i\\<in>UNIV.\n          norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n          norm y)\n    \\<le> (\\<Sum>i\\<in>UNIV.\n             SUP y.\n                norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n                norm y)", "by(rule SUP_sum_comm[OF finite  nonemptyB, of x1 x2])"], ["proof (state)\nthis:\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n  \\<le> (\\<Sum>i\\<in>UNIV.\n           SUP y.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n              norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n  \\<le> (\\<Sum>i\\<in>UNIV.\n           SUP y.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n              norm y)\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... = (\\<Sum>i\\<in>UNIV. norm(f i x1 - f i x2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV.\n       SUP y.\n          norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n          norm y) =\n    (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2))", "using each_norm"], ["proof (prove)\nusing this:\n  (SUP y.\n      norm (blinfun_apply (f ?i2 x1) y - blinfun_apply (f ?i2 x2) y) /\n      norm y) =\n  norm (f ?i2 x1 - f ?i2 x2)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV.\n       SUP y.\n          norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n          norm y) =\n    (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2))", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV.\n     SUP y.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n        norm y) =\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV.\n     SUP y.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n        norm y) =\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... = (\\<Sum>i\\<in>UNIV. dist(f i x1) (f i x2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2)) =\n    (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))", "by (simp add: dist_blinfun_def)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2)) =\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2)) =\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... < (\\<Sum>i\\<in>(UNIV::'a set). \\<epsilon> / ?n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n    < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))", "using conts'''[OF ne dists]"], ["proof (prove)\nusing this:\n  dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n    < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))", "using SUM_leq[OF nonempty, of \"(\\<lambda>i.  dist (f i x1) (f i x2))\" \"(\\<lambda>i.  \\<epsilon> / ?n)\"]"], ["proof (prove)\nusing this:\n  dist (f ?i x2) (f ?i x1) < \\<epsilon> / real CARD('a)\n  \\<lbrakk>finite UNIV;\n   \\<And>x.\n      x \\<in> UNIV \\<Longrightarrow>\n      dist (f x x1) (f x x2) < \\<epsilon> / real CARD('a)\\<rbrakk>\n  \\<Longrightarrow> (\\<Sum>x\\<in>UNIV. dist (f x x1) (f x x2))\n                    < (\\<Sum>x\\<in>UNIV. \\<epsilon> / real CARD('a))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n    < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))", "by (simp add: dist_commute)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n  < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n  < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "have \"... = \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a)) = \\<epsilon>", "by(auto)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a)) = \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x2.\n       \\<lbrakk>x2 \\<noteq> x1;\n        \\<forall>x.\n           dist x2 x1\n           < (SOME \\<delta>.\n                 0 < \\<delta> \\<and>\n                 (\\<forall>x2.\n                     x2 \\<noteq> x1 \\<and>\n                     dist x2 x1 < \\<delta> \\<longrightarrow>\n                     dist (f x x2) (f x x1)\n                     < \\<epsilon> / real CARD('a)))\\<rbrakk>\n       \\<Longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2))\n                          (blinfun_vec (\\<lambda>i. f i x1))\n                         < \\<epsilon>", "ultimately"], ["proof (chain)\npicking this:\n  dist (blinfun_vec (\\<lambda>i. f i x2))\n   (blinfun_vec (\\<lambda>i. f i x1)) =\n  norm (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1))\n  norm\n   (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1)) =\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y)\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y) =\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n  \\<le> (SUP y.\n            (\\<Sum>i\\<in>UNIV.\n               norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n            norm y)\n  (SUP y.\n      (\\<Sum>i\\<in>UNIV.\n         norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n      norm y) =\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n  \\<le> (\\<Sum>i\\<in>UNIV.\n           SUP y.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n              norm y)\n  (\\<Sum>i\\<in>UNIV.\n     SUP y.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n        norm y) =\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2))\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2)) =\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n  < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))\n  (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a)) = \\<epsilon>", "show \"dist (?f x2) (?f x1) < \\<epsilon>\""], ["proof (prove)\nusing this:\n  dist (blinfun_vec (\\<lambda>i. f i x2))\n   (blinfun_vec (\\<lambda>i. f i x1)) =\n  norm (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1))\n  norm\n   (blinfun_vec (\\<lambda>i. f i x2) - blinfun_vec (\\<lambda>i. f i x1)) =\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y)\n  (SUP y.\n      norm\n       (blinfun_apply (blinfun_vec (\\<lambda>i. f i x1)) y -\n        blinfun_apply (blinfun_vec (\\<lambda>i. f i x2)) y) /\n      norm y) =\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n  (SUP y.\n      L2_set\n       (\\<lambda>i.\n           norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y))\n       UNIV /\n      norm y)\n  \\<le> (SUP y.\n            (\\<Sum>i\\<in>UNIV.\n               norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n            norm y)\n  (SUP y.\n      (\\<Sum>i\\<in>UNIV.\n         norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y)) /\n      norm y) =\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n  (SUP y.\n      \\<Sum>i\\<in>UNIV.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) / norm y)\n  \\<le> (\\<Sum>i\\<in>UNIV.\n           SUP y.\n              norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n              norm y)\n  (\\<Sum>i\\<in>UNIV.\n     SUP y.\n        norm (blinfun_apply (f i x1) y - blinfun_apply (f i x2) y) /\n        norm y) =\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2))\n  (\\<Sum>i\\<in>UNIV. norm (f i x1 - f i x2)) =\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n  (\\<Sum>i\\<in>UNIV. dist (f i x1) (f i x2))\n  < (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a))\n  (\\<Sum>i\\<in>UNIV. \\<epsilon> / real CARD('a)) = \\<epsilon>\n\ngoal (1 subgoal):\n 1. dist (blinfun_vec (\\<lambda>i. f i x2))\n     (blinfun_vec (\\<lambda>i. f i x1))\n    < \\<epsilon>", "by linarith"], ["proof (state)\nthis:\n  dist (blinfun_vec (\\<lambda>i. f i x2)) (blinfun_vec (\\<lambda>i. f i x1))\n  < \\<epsilon>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?x2.0 \\<noteq> x1 \\<and>\n  dist ?x2.0 x1\n  < (MIN i.\n        SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1)\n               < \\<epsilon> / real CARD('a))) \\<Longrightarrow>\n  dist (blinfun_vec (\\<lambda>i. f i ?x2.0))\n   (blinfun_vec (\\<lambda>i. f i x1))\n  < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>x r.\n       0 < r \\<Longrightarrow>\n       \\<exists>s>0.\n          \\<forall>xa.\n             xa \\<noteq> x \\<and> dist xa x < s \\<longrightarrow>\n             dist (blinfun_vec (\\<lambda>i. f i xa))\n              (blinfun_vec (\\<lambda>i. f i x))\n             < r", "then"], ["proof (chain)\npicking this:\n  ?x2.0 \\<noteq> x1 \\<and>\n  dist ?x2.0 x1\n  < (MIN i.\n        SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1)\n               < \\<epsilon> / real CARD('a))) \\<Longrightarrow>\n  dist (blinfun_vec (\\<lambda>i. f i ?x2.0))\n   (blinfun_vec (\\<lambda>i. f i x1))\n  < \\<epsilon>", "show \"\\<exists>s>0. \\<forall>x2. x2 \\<noteq> x1 \\<and> dist x2 x1 < s \\<longrightarrow> dist (blinfun_vec (\\<lambda>i. f i x2)) (blinfun_vec (\\<lambda>i. f i x1)) < \\<epsilon>\""], ["proof (prove)\nusing this:\n  ?x2.0 \\<noteq> x1 \\<and>\n  dist ?x2.0 x1\n  < (MIN i.\n        SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1)\n               < \\<epsilon> / real CARD('a))) \\<Longrightarrow>\n  dist (blinfun_vec (\\<lambda>i. f i ?x2.0))\n   (blinfun_vec (\\<lambda>i. f i x1))\n  < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<exists>s>0.\n       \\<forall>x2.\n          x2 \\<noteq> x1 \\<and> dist x2 x1 < s \\<longrightarrow>\n          dist (blinfun_vec (\\<lambda>i. f i x2))\n           (blinfun_vec (\\<lambda>i. f i x1))\n          < \\<epsilon>", "using \\<delta>"], ["proof (prove)\nusing this:\n  ?x2.0 \\<noteq> x1 \\<and>\n  dist ?x2.0 x1\n  < (MIN i.\n        SOME \\<delta>.\n           0 < \\<delta> \\<and>\n           (\\<forall>x2.\n               x2 \\<noteq> x1 \\<and> dist x2 x1 < \\<delta> \\<longrightarrow>\n               dist (f i x2) (f i x1)\n               < \\<epsilon> / real CARD('a))) \\<Longrightarrow>\n  dist (blinfun_vec (\\<lambda>i. f i ?x2.0))\n   (blinfun_vec (\\<lambda>i. f i x1))\n  < \\<epsilon>\n  0 < (MIN i.\n          SOME \\<delta>.\n             0 < \\<delta> \\<and>\n             (\\<forall>x2.\n                 x2 \\<noteq> x1 \\<and>\n                 dist x2 x1 < \\<delta> \\<longrightarrow>\n                 dist (f i x2) (f i x1) < \\<epsilon> / real CARD('a)))\n\ngoal (1 subgoal):\n 1. \\<exists>s>0.\n       \\<forall>x2.\n          x2 \\<noteq> x1 \\<and> dist x2 x1 < s \\<longrightarrow>\n          dist (blinfun_vec (\\<lambda>i. f i x2))\n           (blinfun_vec (\\<lambda>i. f i x1))\n          < \\<epsilon>", "by blast"], ["proof (state)\nthis:\n  \\<exists>s>0.\n     \\<forall>x2.\n        x2 \\<noteq> x1 \\<and> dist x2 x1 < s \\<longrightarrow>\n        dist (blinfun_vec (\\<lambda>i. f i x2))\n         (blinfun_vec (\\<lambda>i. f i x1))\n        < \\<epsilon>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_derivative_vec[derivative_intros]:\n  assumes \"\\<And>i. ((\\<lambda>x. f i x) has_derivative (\\<lambda>h. f' i h)) F\"\n  shows \"((\\<lambda>x. \\<chi> i. f i x) has_derivative (\\<lambda>h. \\<chi> i. f' i h)) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<chi>i. f i x) has_derivative\n     (\\<lambda>h. \\<chi>i. f' i h))\n     F", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<chi>i. f i x) has_derivative\n     (\\<lambda>h. \\<chi>i. f' i h))\n     F", "have *: \"(\\<chi> i. f i x) = (\\<Sum>i\\<in>UNIV. axis i (f i x))\" \"(\\<chi> i. f' i x) = (\\<Sum>i\\<in>UNIV. axis i (f' i x))\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<chi>i. f i x) = (\\<Sum>i\\<in>UNIV. axis i (f i x)) &&&\n    (\\<chi>i. f' i x) = (\\<Sum>i\\<in>UNIV. axis i (f' i x))", "by (simp_all add: axis_def sum.If_cases vec_eq_iff)"], ["proof (state)\nthis:\n  (\\<chi>i. f i ?x) = (\\<Sum>i\\<in>UNIV. axis i (f i ?x))\n  (\\<chi>i. f' i ?x) = (\\<Sum>i\\<in>UNIV. axis i (f' i ?x))\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<chi>i. f i x) has_derivative\n     (\\<lambda>h. \\<chi>i. f' i h))\n     F", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<chi>i. f i x) has_derivative\n     (\\<lambda>h. \\<chi>i. f' i h))\n     F", "unfolding *"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. \\<Sum>i\\<in>UNIV. axis i (f i x)) has_derivative\n     (\\<lambda>h. \\<Sum>i\\<in>UNIV. axis i (f' i h)))\n     F", "by (intro has_derivative_sum bounded_linear.has_derivative[OF bounded_linear_axis] assms)"], ["proof (state)\nthis:\n  ((\\<lambda>x. \\<chi>i. f i x) has_derivative\n   (\\<lambda>h. \\<chi>i. f' i h))\n   F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_derivative_proj:\n  fixes j::\"('a::finite)\" \n  fixes f::\"'a \\<Rightarrow> real \\<Rightarrow> real\"\n  assumes assm:\"((\\<lambda>x. \\<chi> i. f i x) has_derivative (\\<lambda>h. \\<chi> i. f' i h)) F\"\n  shows \"((\\<lambda>x. f j x) has_derivative (\\<lambda>h. f' j h)) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f j has_derivative f' j) F", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (f j has_derivative f' j) F", "have bounded_proj:\"bounded_linear (\\<lambda> x::(real^'a). x $ j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>x. x $ j)", "by (simp add: bounded_linear_vec_nth)"], ["proof (state)\nthis:\n  bounded_linear (\\<lambda>x. x $ j)\n\ngoal (1 subgoal):\n 1. (f j has_derivative f' j) F", "show \"?thesis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f j has_derivative f' j) F", "using bounded_linear.has_derivative[OF bounded_proj, of \"(\\<lambda>x. \\<chi> i. f i x)\" \"(\\<lambda>h. \\<chi> i. f' i h)\", OF assm]"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. (\\<chi>i. f i x) $ j) has_derivative\n   (\\<lambda>x. (\\<chi>i. f' i x) $ j))\n   F\n\ngoal (1 subgoal):\n 1. (f j has_derivative f' j) F", "by auto"], ["proof (state)\nthis:\n  (f j has_derivative f' j) F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma has_derivative_proj':\n  fixes i::\"'a::finite\"\n  shows \"\\<forall>x. ((\\<lambda> x. x $ i) has_derivative (\\<lambda>x::(real^'a). x $ i)) (at x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       ((\\<lambda>x. x $ i) has_derivative (\\<lambda>x. x $ i)) (at x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       ((\\<lambda>x. x $ i) has_derivative (\\<lambda>x. x $ i)) (at x)", "have bounded_proj:\"bounded_linear (\\<lambda> x::(real^'a). x $ i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>x. x $ i)", "by (simp add: bounded_linear_vec_nth)"], ["proof (state)\nthis:\n  bounded_linear (\\<lambda>x. x $ i)\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       ((\\<lambda>x. x $ i) has_derivative (\\<lambda>x. x $ i)) (at x)", "show \"?thesis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       ((\\<lambda>x. x $ i) has_derivative (\\<lambda>x. x $ i)) (at x)", "using bounded_proj"], ["proof (prove)\nusing this:\n  bounded_linear (\\<lambda>x. x $ i)\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       ((\\<lambda>x. x $ i) has_derivative (\\<lambda>x. x $ i)) (at x)", "unfolding has_derivative_def"], ["proof (prove)\nusing this:\n  bounded_linear (\\<lambda>x. x $ i)\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       bounded_linear (\\<lambda>x. x $ i) \\<and>\n       (\\<lambda>y.\n           (y $ i - netlimit (at x) $ i -\n            (y - netlimit (at x)) $ i) /\\<^sub>R\n           norm (y - netlimit (at x)))\n       \\<midarrow>x\\<rightarrow> 0", "by auto"], ["proof (state)\nthis:\n  \\<forall>x.\n     ((\\<lambda>x. x $ i) has_derivative (\\<lambda>x. x $ i)) (at x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma constant_when_zero:\n  fixes v::\"real \\<Rightarrow> (real, 'i::finite) vec\"\n  assumes x0: \"(v t0) $ i = x0\"\n  assumes sol: \"(v solves_ode f) T S\"\n  assumes f0: \"\\<And>s x. s \\<in> T \\<Longrightarrow> f s x $ i = 0\"\n  assumes t0:\"t0 \\<in> T\"\n  assumes t:\"t \\<in> T\"\n  assumes convex:\"convex T\"\n  shows \"v t $ i = x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v t $ i = x0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v t $ i = x0", "from solves_odeD[OF sol]"], ["proof (chain)\npicking this:\n  (v has_vderiv_on (\\<lambda>t. f t (v t))) T\n  ?t \\<in> T \\<Longrightarrow> v ?t \\<in> S", "have deriv: \"(v has_vderiv_on (\\<lambda>t. f t (v t))) T\""], ["proof (prove)\nusing this:\n  (v has_vderiv_on (\\<lambda>t. f t (v t))) T\n  ?t \\<in> T \\<Longrightarrow> v ?t \\<in> S\n\ngoal (1 subgoal):\n 1. (v has_vderiv_on (\\<lambda>t. f t (v t))) T", "by simp"], ["proof (state)\nthis:\n  (v has_vderiv_on (\\<lambda>t. f t (v t))) T\n\ngoal (1 subgoal):\n 1. v t $ i = x0", "then"], ["proof (chain)\npicking this:\n  (v has_vderiv_on (\\<lambda>t. f t (v t))) T", "have \"((\\<lambda>t. v t $ i) has_vderiv_on (\\<lambda>t. 0)) T\""], ["proof (prove)\nusing this:\n  (v has_vderiv_on (\\<lambda>t. f t (v t))) T\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. v t $ i) has_vderiv_on (\\<lambda>t. 0)) T", "using f0"], ["proof (prove)\nusing this:\n  (v has_vderiv_on (\\<lambda>t. f t (v t))) T\n  ?s \\<in> T \\<Longrightarrow> f ?s ?x $ i = 0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. v t $ i) has_vderiv_on (\\<lambda>t. 0)) T", "by (auto simp: has_vderiv_on_def has_vector_derivative_def cart_eq_inner_axis\n      intro!: derivative_eq_intros)"], ["proof (state)\nthis:\n  ((\\<lambda>t. v t $ i) has_vderiv_on (\\<lambda>t. 0)) T\n\ngoal (1 subgoal):\n 1. v t $ i = x0", "from has_vderiv_on_zero_constant[OF convex this]"], ["proof (chain)\npicking this:\n  (\\<And>c.\n      (\\<And>x. x \\<in> T \\<Longrightarrow> v x $ i = c) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain c where c:\"\\<And>x. x \\<in> T \\<Longrightarrow> v x $ i = c\""], ["proof (prove)\nusing this:\n  (\\<And>c.\n      (\\<And>x. x \\<in> T \\<Longrightarrow> v x $ i = c) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        (\\<And>x. x \\<in> T \\<Longrightarrow> v x $ i = c) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  ?x \\<in> T \\<Longrightarrow> v ?x $ i = c\n\ngoal (1 subgoal):\n 1. v t $ i = x0", "with x0"], ["proof (chain)\npicking this:\n  v t0 $ i = x0\n  ?x \\<in> T \\<Longrightarrow> v ?x $ i = c", "have \"c = x0\" \"v t $ i = c\""], ["proof (prove)\nusing this:\n  v t0 $ i = x0\n  ?x \\<in> T \\<Longrightarrow> v ?x $ i = c\n\ngoal (1 subgoal):\n 1. c = x0 &&& v t $ i = c", "using t t0 c x0"], ["proof (prove)\nusing this:\n  v t0 $ i = x0\n  ?x \\<in> T \\<Longrightarrow> v ?x $ i = c\n  t \\<in> T\n  t0 \\<in> T\n  ?x \\<in> T \\<Longrightarrow> v ?x $ i = c\n  v t0 $ i = x0\n\ngoal (1 subgoal):\n 1. c = x0 &&& v t $ i = c", "by blast+"], ["proof (state)\nthis:\n  c = x0\n  v t $ i = c\n\ngoal (1 subgoal):\n 1. v t $ i = x0", "then"], ["proof (chain)\npicking this:\n  c = x0\n  v t $ i = c", "show ?thesis"], ["proof (prove)\nusing this:\n  c = x0\n  v t $ i = c\n\ngoal (1 subgoal):\n 1. v t $ i = x0", "by simp"], ["proof (state)\nthis:\n  v t $ i = x0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  solves_ode_subset:\n  assumes x: \"(x solves_ode f) T X\"\n  assumes s: \"S \\<subseteq> T\"\n  shows \"(x solves_ode f) S X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x solves_ode f) S X", "apply(rule solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (x has_vderiv_on (\\<lambda>t. f t (x t))) S\n 2. \\<And>t. t \\<in> S \\<Longrightarrow> x t \\<in> X", "using has_vderiv_on_subset s solves_ode_vderivD x"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?f has_vderiv_on ?f') ?S; ?T \\<subseteq> ?S\\<rbrakk>\n  \\<Longrightarrow> (?f has_vderiv_on ?f') ?T\n  S \\<subseteq> T\n  (?y solves_ode ?f) ?T ?X \\<Longrightarrow>\n  (?y has_vderiv_on (\\<lambda>t. ?f t (?y t))) ?T\n  (x solves_ode f) T X\n\ngoal (2 subgoals):\n 1. (x has_vderiv_on (\\<lambda>t. f t (x t))) S\n 2. \\<And>t. t \\<in> S \\<Longrightarrow> x t \\<in> X", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> S \\<Longrightarrow> x t \\<in> X", "using assms"], ["proof (prove)\nusing this:\n  (x solves_ode f) T X\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> S \\<Longrightarrow> x t \\<in> X", "by (auto intro!: solves_odeI dest!: solves_ode_domainD)"], ["", "lemma\n  solves_ode_supset_range:\n  assumes x: \"(x solves_ode f) T X\"\n  assumes y: \"X \\<subseteq> Y\"\n  shows \"(x solves_ode f) T Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x solves_ode f) T Y", "apply(rule solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (x has_vderiv_on (\\<lambda>t. f t (x t))) T\n 2. \\<And>t. t \\<in> T \\<Longrightarrow> x t \\<in> Y", "using has_vderiv_on_subset y solves_ode_vderivD x"], ["proof (prove)\nusing this:\n  \\<lbrakk>(?f has_vderiv_on ?f') ?S; ?T \\<subseteq> ?S\\<rbrakk>\n  \\<Longrightarrow> (?f has_vderiv_on ?f') ?T\n  X \\<subseteq> Y\n  (?y solves_ode ?f) ?T ?X \\<Longrightarrow>\n  (?y has_vderiv_on (\\<lambda>t. ?f t (?y t))) ?T\n  (x solves_ode f) T X\n\ngoal (2 subgoals):\n 1. (x has_vderiv_on (\\<lambda>t. f t (x t))) T\n 2. \\<And>t. t \\<in> T \\<Longrightarrow> x t \\<in> Y", "apply force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> T \\<Longrightarrow> x t \\<in> Y", "using assms"], ["proof (prove)\nusing this:\n  (x solves_ode f) T X\n  X \\<subseteq> Y\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> T \\<Longrightarrow> x t \\<in> Y", "by (auto intro!: solves_odeI dest!: solves_ode_domainD)"], ["", "lemma\n  usolves_ode_subset:\n  assumes x: \"(x usolves_ode f from t0) T X\"\n  assumes s: \"S \\<subseteq> T\"\n  assumes t0: \"t0 \\<in> S\"\n  assumes S: \"is_interval S\"\n  shows \"(x usolves_ode f from t0) S X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x usolves_ode f from t0) S X", "proof (rule usolves_odeI)"], ["proof (state)\ngoal (4 subgoals):\n 1. (x solves_ode f) S X\n 2. t0 \\<in> S\n 3. is_interval S\n 4. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "note usolves_odeD[OF x]"], ["proof (state)\nthis:\n  (x solves_ode f) T X\n  t0 \\<in> T\n  is_interval T\n  \\<lbrakk>t0 \\<in> ?T'; is_interval ?T'; ?T' \\<subseteq> T;\n   (?z solves_ode f) ?T' X; ?z t0 = x t0; ?t \\<in> ?T'\\<rbrakk>\n  \\<Longrightarrow> ?z ?t = x ?t\n\ngoal (4 subgoals):\n 1. (x solves_ode f) S X\n 2. t0 \\<in> S\n 3. is_interval S\n 4. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "show \"(x solves_ode f) S X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x solves_ode f) S X", "by (rule solves_ode_subset; fact)"], ["proof (state)\nthis:\n  (x solves_ode f) S X\n\ngoal (3 subgoals):\n 1. t0 \\<in> S\n 2. is_interval S\n 3. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "show \"t0 \\<in> S\" \"is_interval S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> S &&& is_interval S", "by(fact+)"], ["proof (state)\nthis:\n  t0 \\<in> S\n  is_interval S\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "fix z t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "assume s: \"{t0 -- t} \\<subseteq> S\" and z: \"(z solves_ode f) {t0 -- t} X\" and z0: \"z t0 = x t0\""], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> S\n  (z solves_ode f) {t0--t} X\n  z t0 = x t0\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "then"], ["proof (chain)\npicking this:\n  {t0--t} \\<subseteq> S\n  (z solves_ode f) {t0--t} X\n  z t0 = x t0", "have \"t0 \\<in> {t0 -- t}\" \"is_interval {t0 -- t}\""], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> S\n  (z solves_ode f) {t0--t} X\n  z t0 = x t0\n\ngoal (1 subgoal):\n 1. t0 \\<in> {t0--t} &&& is_interval {t0--t}", "by auto"], ["proof (state)\nthis:\n  t0 \\<in> {t0--t}\n  is_interval {t0--t}\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "moreover"], ["proof (state)\nthis:\n  t0 \\<in> {t0--t}\n  is_interval {t0--t}\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "note s"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "moreover"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "have \"(z solves_ode f) {t0--t} X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z solves_ode f) {t0--t} X", "using solves_odeD[OF z] \\<open>S \\<subseteq> T\\<close>"], ["proof (prove)\nusing this:\n  (z has_vderiv_on (\\<lambda>t. f t (z t))) {t0--t}\n  ?t \\<in> {t0--t} \\<Longrightarrow> z ?t \\<in> X\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. (z solves_ode f) {t0--t} X", "by (intro solves_ode_subset_range[OF z]) force"], ["proof (state)\nthis:\n  (z solves_ode f) {t0--t} X\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "moreover"], ["proof (state)\nthis:\n  (z solves_ode f) {t0--t} X\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "note z0"], ["proof (state)\nthis:\n  z t0 = x t0\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "moreover"], ["proof (state)\nthis:\n  z t0 = x t0\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "have \"t \\<in> {t0 -- t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> {t0--t}", "by simp"], ["proof (state)\nthis:\n  t \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. \\<And>z t.\n       \\<lbrakk>{t0--t} \\<subseteq> S; (z solves_ode f) {t0--t} X;\n        z t0 = x t0\\<rbrakk>\n       \\<Longrightarrow> z t = x t", "ultimately"], ["proof (chain)\npicking this:\n  t0 \\<in> {t0--t}\n  is_interval {t0--t}\n  {t0--t} \\<subseteq> S\n  (z solves_ode f) {t0--t} X\n  z t0 = x t0\n  t \\<in> {t0--t}", "show \"z t = x t\""], ["proof (prove)\nusing this:\n  t0 \\<in> {t0--t}\n  is_interval {t0--t}\n  {t0--t} \\<subseteq> S\n  (z solves_ode f) {t0--t} X\n  z t0 = x t0\n  t \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. z t = x t", "by (meson \\<open>\\<And>z ta T'. \\<lbrakk>t0 \\<in> T'; is_interval T'; T' \\<subseteq> T; (z solves_ode f) T' X; z t0 = x t0; ta \\<in> T'\\<rbrakk> \\<Longrightarrow> z ta = x ta\\<close> assms(2) dual_order.trans)"], ["proof (state)\nthis:\n  z t = x t\n\ngoal:\nNo subgoals!", "qed\n\n\\<comment> \\<open>Example of using lemmas above to show a lemma that could be useful for dL: The constant ODE\\<close>\n\\<comment> \\<open>0 does not change the state.\\<close>"], ["", "lemma example:\n  fixes x t::real and i::\"('sz::finite)\"\n  assumes \"t > 0\"\n  shows \"x = (ll_on_open.flow UNIV (\\<lambda>t. \\<lambda>x. \\<chi> (i::('sz::finite)). 0) UNIV 0 (\\<chi> i. x) t) $ i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "let ?T = UNIV"], ["proof (state)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "let ?f = \"(\\<lambda>t. \\<lambda>x. \\<chi> i::('sz::finite). 0)\""], ["proof (state)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "let ?X = UNIV"], ["proof (state)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "let ?t0.0 = 0"], ["proof (state)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "let ?x0.0 = \"\\<chi> i::('sz::finite). x\""], ["proof (state)\ngoal (1 subgoal):\n 1. x =\n    ll_on_open.flow UNIV (\\<lambda>t x. \\<chi>i. 0) UNIV 0 (\\<chi>i. x) t $\n    i", "interpret ll: ll_on_open \"UNIV\" \"(\\<lambda>t x. \\<chi> i::('sz::finite). 0)\" UNIV"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open UNIV (\\<lambda>t x. \\<chi>i. (0::'a)) UNIV", "using gt_ex"], ["proof (prove)\nusing this:\n  \\<exists>y. ?x < y\n\ngoal (1 subgoal):\n 1. ll_on_open UNIV (\\<lambda>t x. \\<chi>i. (0::'a)) UNIV", "by unfold_locales\n      (auto simp: interval_def continuous_on_def local_lipschitz_def intro!: lipschitz_intros)"], ["proof (state)\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have foo1:\"?t0.0 \\<in> ?T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'b) \\<in> UNIV", "by auto"], ["proof (state)\nthis:\n  (0::?'b5) \\<in> UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have foo2:\"?x0.0 \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<chi>i. x) \\<in> UNIV", "by auto"], ["proof (state)\nthis:\n  (\\<chi>i. x) \\<in> UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "let ?v = \"ll.flow  ?t0.0 ?x0.0\""], ["proof (state)\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "from ll.flow_solves_ode[OF foo1 foo2]"], ["proof (chain)\npicking this:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV", "have solves:\"(ll.flow  ?t0.0 ?x0.0 solves_ode ?f) (ll.existence_ivl  ?t0.0 ?x0.0) ?X\""], ["proof (prove)\nusing this:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n\ngoal (1 subgoal):\n 1. (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n     (ll.existence_ivl 0 (\\<chi>i. x)) UNIV", "by (auto)"], ["proof (state)\nthis:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "then"], ["proof (chain)\npicking this:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV", "have solves:\"(?v solves_ode ?f) (ll.existence_ivl  ?t0.0 ?x0.0) ?X\""], ["proof (prove)\nusing this:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n\ngoal (1 subgoal):\n 1. (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n     (ll.existence_ivl 0 (\\<chi>i. x)) UNIV", "by auto"], ["proof (state)\nthis:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have thex0: \"(?v ?t0.0) $ (i::('sz::finite)) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ll.flow 0 (\\<chi>i. x) 0 $ i = x", "by auto"], ["proof (state)\nthis:\n  ll.flow 0 (\\<chi>i. x) 0 $ i = x\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have sol_help: \"(?v solves_ode ?f) (ll.existence_ivl  ?t0.0 ?x0.0) ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n     (ll.existence_ivl 0 (\\<chi>i. x)) UNIV", "using solves"], ["proof (prove)\nusing this:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n\ngoal (1 subgoal):\n 1. (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n     (ll.existence_ivl 0 (\\<chi>i. x)) UNIV", "by auto"], ["proof (state)\nthis:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have ivl:\"ll.existence_ivl ?t0.0 ?x0.0 = UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ll.existence_ivl 0 (\\<chi>i. x) = UNIV", "by (rule ll.existence_ivl_eq_domain)\n       (auto intro!: exI[where x=0] simp: vec_eq_iff)"], ["proof (state)\nthis:\n  ll.existence_ivl 0 (\\<chi>i. x) = UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have sol: \"(?v solves_ode ?f) UNIV ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0)) UNIV UNIV", "using solves ivl"], ["proof (prove)\nusing this:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0))\n   (ll.existence_ivl 0 (\\<chi>i. x)) UNIV\n  ll.existence_ivl 0 (\\<chi>i. x) = UNIV\n\ngoal (1 subgoal):\n 1. (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0)) UNIV UNIV", "by auto"], ["proof (state)\nthis:\n  (ll.flow 0 (\\<chi>i. x) solves_ode (\\<lambda>t x. \\<chi>i. 0)) UNIV UNIV\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "have thef0: \"\\<And>t x. ?f t x $ i = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t x. (\\<chi>i. (0::'d)) $ i = (0::'d)", "by auto"], ["proof (state)\nthis:\n  (\\<chi>i. (0::?'d6)) $ i = (0::?'d6)\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "from constant_when_zero [OF thex0 sol thef0]"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 \\<in> UNIV; ?t \\<in> UNIV; convex UNIV\\<rbrakk>\n  \\<Longrightarrow> ll.flow 0 (\\<chi>i. x) ?t $ i = x", "have \"?v t $ i = x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<in> UNIV; ?t \\<in> UNIV; convex UNIV\\<rbrakk>\n  \\<Longrightarrow> ll.flow 0 (\\<chi>i. x) ?t $ i = x\n\ngoal (1 subgoal):\n 1. ll.flow 0 (\\<chi>i. x) t $ i = x", "by auto"], ["proof (state)\nthis:\n  ll.flow 0 (\\<chi>i. x) t $ i = x\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "thus ?thesis"], ["proof (prove)\nusing this:\n  ll.flow 0 (\\<chi>i. x) t $ i = x\n\ngoal (1 subgoal):\n 1. x = ll.flow 0 (\\<chi>i. x) t $ i", "by auto"], ["proof (state)\nthis:\n  x = ll.flow 0 (\\<chi>i. x) t $ i\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MVT_ivl:\n  fixes f::\"'a::ordered_euclidean_space\\<Rightarrow>'b::ordered_euclidean_space\"\n  assumes fderiv: \"\\<And>x. x \\<in> D \\<Longrightarrow> (f has_derivative J x) (at x within D)\"\n  assumes J_ivl: \"\\<And>x. x \\<in> D \\<Longrightarrow> J x u \\<ge> J0\"\n  assumes line_in: \"\\<And>x. x \\<in> {0..1} \\<Longrightarrow> a + x *\\<^sub>R u \\<in> D\"\n  shows \"f (a + u) - f a \\<ge> J0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "from MVT_corrected[OF fderiv line_in]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x. x \\<in> D \\<Longrightarrow> x \\<in> D;\n   \\<And>x.\n      \\<lbrakk>0 \\<le> x; x \\<le> 1\\<rbrakk>\n      \\<Longrightarrow> x \\<in> {0..1}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t\\<in>Basis \\<rightarrow> {0<..<1}.\n                       f (a + u) - f a =\n                       (\\<Sum>i\\<in>Basis.\n                          (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R\n                          i)", "obtain t where\n    t: \"t\\<in>Basis \\<rightarrow> {0<..<1}\" and\n    mvt: \"f (a + u) - f a = (\\<Sum>i\\<in>Basis. (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x. x \\<in> D \\<Longrightarrow> x \\<in> D;\n   \\<And>x.\n      \\<lbrakk>0 \\<le> x; x \\<le> 1\\<rbrakk>\n      \\<Longrightarrow> x \\<in> {0..1}\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t\\<in>Basis \\<rightarrow> {0<..<1}.\n                       f (a + u) - f a =\n                       (\\<Sum>i\\<in>Basis.\n                          (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R\n                          i)\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> Basis \\<rightarrow> {0<..<1};\n         f (a + u) - f a =\n         (\\<Sum>i\\<in>Basis.\n            (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t \\<in> Basis \\<rightarrow> {0<..<1}\n  f (a + u) - f a =\n  (\\<Sum>i\\<in>Basis. (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\n\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "note mvt"], ["proof (state)\nthis:\n  f (a + u) - f a =\n  (\\<Sum>i\\<in>Basis. (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\n\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "also"], ["proof (state)\nthis:\n  f (a + u) - f a =\n  (\\<Sum>i\\<in>Basis. (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\n\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "have \"\\<dots> \\<ge> J0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. J0 \\<le> (\\<Sum>i\\<in>Basis.\n                (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. J0 \\<le> (\\<Sum>i\\<in>Basis.\n                (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)", "have J: \"\\<And>i. i \\<in> Basis \\<Longrightarrow> J0 \\<le> J (a + t i *\\<^sub>R u) u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> Basis \\<Longrightarrow> J0 \\<le> J (a + t i *\\<^sub>R u) u", "using J_ivl t line_in"], ["proof (prove)\nusing this:\n  ?x \\<in> D \\<Longrightarrow> J0 \\<le> J ?x u\n  t \\<in> Basis \\<rightarrow> {0<..<1}\n  ?x \\<in> {0..1} \\<Longrightarrow> a + ?x *\\<^sub>R u \\<in> D\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> Basis \\<Longrightarrow> J0 \\<le> J (a + t i *\\<^sub>R u) u", "by (auto simp: Pi_iff)"], ["proof (state)\nthis:\n  ?i \\<in> Basis \\<Longrightarrow> J0 \\<le> J (a + t ?i *\\<^sub>R u) u\n\ngoal (1 subgoal):\n 1. J0 \\<le> (\\<Sum>i\\<in>Basis.\n                (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. J0 \\<le> (\\<Sum>i\\<in>Basis.\n                (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)", "using J"], ["proof (prove)\nusing this:\n  ?i \\<in> Basis \\<Longrightarrow> J0 \\<le> J (a + t ?i *\\<^sub>R u) u\n\ngoal (1 subgoal):\n 1. J0 \\<le> (\\<Sum>i\\<in>Basis.\n                (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)", "unfolding atLeastAtMost_iff eucl_le[where 'a='b]"], ["proof (prove)\nusing this:\n  ?i \\<in> Basis \\<Longrightarrow>\n  \\<forall>i\\<in>Basis.\n     J0 \\<bullet> i \\<le> J (a + t ?i *\\<^sub>R u) u \\<bullet> i\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>Basis.\n       J0 \\<bullet> i\n       \\<le> (\\<Sum>i\\<in>Basis.\n                (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R\n                i) \\<bullet>\n             i", "by auto"], ["proof (state)\nthis:\n  J0 \\<le> (\\<Sum>i\\<in>Basis.\n              (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  J0 \\<le> (\\<Sum>i\\<in>Basis.\n              (J (a + t i *\\<^sub>R u) u \\<bullet> i) *\\<^sub>R i)\n\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "finally"], ["proof (chain)\npicking this:\n  J0 \\<le> f (a + u) - f a", "show ?thesis"], ["proof (prove)\nusing this:\n  J0 \\<le> f (a + u) - f a\n\ngoal (1 subgoal):\n 1. J0 \\<le> f (a + u) - f a", "."], ["proof (state)\nthis:\n  J0 \\<le> f (a + u) - f a\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma MVT_ivl':\n  fixes f::\"'a::ordered_euclidean_space\\<Rightarrow>'b::ordered_euclidean_space\"\n  assumes fderiv: \"(\\<And>x. x \\<in> D \\<Longrightarrow> (f has_derivative J x) (at x within D))\"\n  assumes J_ivl: \"\\<And>x. x \\<in> D \\<Longrightarrow> J x (a - b) \\<ge> J0\"\n  assumes line_in: \"\\<And>x. x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D\"\n  shows \"f a \\<ge> f b + J0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f b + J0 \\<le> f a", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f b + J0 \\<le> f a", "have \"f (b + (a - b)) - f b \\<ge> J0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. J0 \\<le> f (b + (a - b)) - f b", "apply (rule MVT_ivl[OF fderiv ])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x. x \\<in> D \\<Longrightarrow> x \\<in> D\n 2. \\<And>x. x \\<in> D \\<Longrightarrow> J0 \\<le> J x (a - b)\n 3. \\<And>x.\n       x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D", "apply assumption"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> D \\<Longrightarrow> J0 \\<le> J x (a - b)\n 2. \\<And>x.\n       x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D", "apply (rule J_ivl)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> D \\<Longrightarrow> x \\<in> D\n 2. \\<And>x.\n       x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D", "apply assumption"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D", "using line_in"], ["proof (prove)\nusing this:\n  ?x \\<in> {0..1} \\<Longrightarrow> b + ?x *\\<^sub>R (a - b) \\<in> D\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..1} \\<Longrightarrow> b + x *\\<^sub>R (a - b) \\<in> D", "apply (auto simp: diff_le_eq le_diff_eq ac_simps)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  J0 \\<le> f (b + (a - b)) - f b\n\ngoal (1 subgoal):\n 1. f b + J0 \\<le> f a", "thus ?thesis"], ["proof (prove)\nusing this:\n  J0 \\<le> f (b + (a - b)) - f b\n\ngoal (1 subgoal):\n 1. f b + J0 \\<le> f a", "by (auto simp: diff_le_eq le_diff_eq ac_simps)"], ["proof (state)\nthis:\n  f b + J0 \\<le> f a\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}