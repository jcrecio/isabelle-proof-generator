{"file_name": "/home/qj213/afp-2021-10-22/thys/KAT_and_DRA/SingleSorted/Test_Dioid.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/KAT_and_DRA", "problem_names": ["lemma \"n 1 \\<cdot> x = n 1\"", "lemma \"x \\<cdot> n 1 = n 1\"", "lemma \"n 1 \\<cdot> x = n 1 \\<Longrightarrow> n x \\<cdot> y \\<cdot> t z = n 1 \\<Longrightarrow> n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z  \"", "lemma n_t_closed [simp]: \"t (n x) = n x\"", "lemma mult_t_closed [simp]: \"t (n x \\<cdot> n y) = n x \\<cdot> n y\"", "lemma n_comm_var: \"n (n x \\<cdot> n y) = n (n y \\<cdot> n x)\"", "lemma n_comm: \"n x \\<cdot> n y = n y \\<cdot> n x\"", "lemma huntington1 [simp]: \"n (n (n n x \\<cdot> n y) \\<cdot> n (n n x \\<cdot> n n y)) = n n x\"", "lemma huntington2 [simp]: \"n (n x \\<oplus> n n y) \\<oplus> n (n x \\<oplus> n y) = n n x\"", "lemma add_assoc: \"n x \\<oplus> (n y \\<oplus> n z) = (n x \\<oplus> n y) \\<oplus> n z\"", "lemma t_mult_closure: \"t x = x \\<Longrightarrow> t y = y \\<Longrightarrow> t (x \\<cdot> y) = x \\<cdot> y\"", "lemma n_t_compl [simp]: \"n x \\<oplus> t x = 1\"", "lemma zero_least1 [simp]: \"o \\<oplus> n x = n x\"", "lemma zero_least2 [simp]: \"o \\<cdot> n x = o\"", "lemma zero_least3 [simp]: \"n x \\<cdot> o  = o\"", "lemma one_greatest1 [simp]: \"1 \\<oplus> n x = 1\"", "lemma one_greatest2 [simp]: \"n x \\<oplus> 1 = 1\"", "lemma n_add_idem [simp]: \"n x \\<oplus> n x = n x\"", "lemma n_mult_idem [simp]: \"n x \\<cdot> n x = n x\"", "lemma n_preserve [simp]: \"n x \\<cdot> n y \\<cdot> n x = n y \\<cdot> n x\"", "lemma n_preserve2 [simp]: \"n x \\<cdot> n y \\<cdot> t x = o\"", "lemma de_morgan1 [simp]: \"n (n x \\<cdot> n y) = t x \\<oplus> t y\"", "lemma de_morgan4 [simp]: \"n (t x \\<oplus> t y) = n x \\<cdot> n y\"", "lemma n_absorb1 [simp]: \"n x \\<oplus> n x \\<cdot> n y = n x\"", "lemma n_absorb2 [simp]: \"n x \\<cdot> (n x \\<oplus> n y) = n x\"", "lemma n_distrib1: \"n x \\<cdot> (n y \\<oplus> n z) = (n x \\<cdot> n y) \\<oplus> (n x \\<cdot> n z)\"", "lemma n_distrib1_opp: \"(n x \\<oplus> n y) \\<cdot> n z  = (n x \\<cdot> n z) \\<oplus> (n y \\<cdot> n z)\"", "lemma n_distrib2: \"n x \\<oplus> n y \\<cdot> n z = (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)\"", "lemma n_distrib2_opp: \"n x \\<cdot> n y \\<oplus> n z = (n x \\<oplus> n z) \\<cdot> (n y \\<oplus> n z)\"", "lemma ts_ord_alt: \"n x \\<sqsubseteq> n y \\<longleftrightarrow> n x \\<oplus> n y = n y\"", "lemma ts_ord_refl: \"n x \\<sqsubseteq> n x\"", "lemma ts_ord_trans: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n y \\<sqsubseteq> n z \\<Longrightarrow> n x \\<sqsubseteq> n z\"", "lemma ts_ord_antisym: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n y \\<sqsubseteq> n x \\<Longrightarrow> n x = n y\"", "lemma ts_ord_mult_isol: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y\"", "lemma ts_ord_mult_isor: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n x \\<cdot> n z \\<sqsubseteq> n y \\<cdot> n z\"", "lemma ts_ord_add_isol: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n z \\<oplus> n x \\<sqsubseteq> n z \\<oplus> n y\"", "lemma ts_ord_add_isor: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n x \\<oplus> n z \\<sqsubseteq> n y \\<oplus> n z\"", "lemma ts_ord_anti: \"n x \\<sqsubseteq> n y \\<Longrightarrow> t y \\<sqsubseteq> t x\"", "lemma ts_ord_anti_iff: \"n x \\<sqsubseteq> n y \\<longleftrightarrow> t y \\<sqsubseteq> t x\"", "lemma zero_ts_ord: \"o \\<sqsubseteq> n x\"", "lemma n_subid: \"n x \\<sqsubseteq> 1\"", "lemma n_mult_lb1: \"n x \\<cdot> n y \\<sqsubseteq> n x\"", "lemma n_mult_lb2: \"n x \\<cdot> n y \\<sqsubseteq> n y\"", "lemma n_mult_glbI: \"n z \\<sqsubseteq> n x \\<Longrightarrow>  n z \\<sqsubseteq> n y \\<Longrightarrow> n z \\<sqsubseteq> n x \\<cdot> n y\"", "lemma n_mult_glb: \"n z \\<sqsubseteq> n x \\<and> n z \\<sqsubseteq> n y \\<longleftrightarrow> n z \\<sqsubseteq> n x \\<cdot> n y\"", "lemma n_add_ub1: \"n x \\<sqsubseteq> n x \\<oplus> n y\"", "lemma n_add_ub2: \"n y \\<sqsubseteq> n x \\<oplus> n y\"", "lemma n_add_lubI: \"n x \\<sqsubseteq> n z \\<Longrightarrow> n y \\<sqsubseteq> n z \\<Longrightarrow> n x \\<oplus> n y \\<sqsubseteq> n z\"", "lemma n_add_lub: \"n x \\<sqsubseteq> n z \\<and> n y \\<sqsubseteq> n z \\<longleftrightarrow> n x \\<oplus> n y \\<sqsubseteq> n z\"", "lemma n_galois1: \"n x \\<sqsubseteq> n y \\<oplus> n z \\<longleftrightarrow> n x \\<cdot> t y \\<sqsubseteq> n z\"", "lemma n_galois2: \"n x \\<sqsubseteq> t y \\<oplus> n z \\<longleftrightarrow> n x \\<cdot> n y \\<sqsubseteq> n z\"", "lemma n_distrib_alt: \"n x \\<cdot> n z = n y \\<cdot> n z \\<Longrightarrow> n x \\<oplus> n z = n y \\<oplus> n z \\<Longrightarrow> n x = n y\"", "lemma n_dist_var1: \"(n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) = t x \\<cdot> n y \\<oplus> n x \\<cdot> n z\"", "lemma n_dist_var2: \"n (n x \\<cdot> n y \\<oplus> t x \\<cdot> n z) = n x \\<cdot> t y \\<oplus> t x \\<cdot> t z\"", "lemma n_zero [simp]: \"n 0 = 1\"", "lemma n_one [simp]: \"n 1 = 0\"", "lemma one_idem [simp]: \"1 + 1 = 1\"", "lemma t_n_closed [simp]: \"n n (n x) = n x\"", "lemma t_de_morgan_var1 [simp]: \"n (n x \\<cdot> n y) = n n x + n n y\"", "lemma n_mult_comm: \"n x \\<cdot> n y = n y \\<cdot> n x\"", "lemma tm3': \"n x \\<cdot> n (n n z \\<cdot> n n y) = n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))\"", "lemma ord_transl [simp]: \"n x \\<le> n y \\<longleftrightarrow> n x \\<sqsubseteq> n y\"", "lemma add_transl [simp]: \"n x + n y = n x \\<oplus> n y\"", "lemma zero_trans: \"0 = o\"", "lemma test_prop: \"(\\<forall>x. test x \\<longrightarrow> P x) \\<longleftrightarrow> (\\<forall>x. P (t x))\"", "lemma test_propI: \"test x \\<Longrightarrow> P x \\<Longrightarrow> P (t x)\"", "lemma test_propE [elim!]: \"test x \\<Longrightarrow> P (t x) \\<Longrightarrow> P x\"", "lemma test_comp_closed [simp]: \"test p \\<Longrightarrow> test (!p)\"", "lemma test_double_comp_var: \"test p \\<Longrightarrow> p = !(!p)\"", "lemma test_mult_closed: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test (p \\<cdot> q)\"", "lemma t_add_closed [simp]: \"t (n x + n y) = n x + n y\"", "lemma test_add_closed: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test (p + q)\"", "lemma test_mult_comm_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q = q \\<cdot> p\"", "lemma t_zero [simp]: \"t 0 = 0\"", "lemma test_zero_var: \"test 0\"", "lemma test_one_var: \"test 1\"", "lemma test_preserve: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<cdot> p = q \\<cdot> p\"", "lemma test_preserve2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<cdot> !p = 0\"", "lemma n_subid': \"n x \\<le> 1\"", "lemma test_subid: \"test p \\<Longrightarrow> p \\<le> 1\"", "lemma test_mult_idem_var [simp]: \"test p \\<Longrightarrow> p \\<cdot> p = p\"", "lemma n_add_comp [simp]: \"n x + t x = 1\"", "lemma n_add_comp_var [simp]: \"t x + n x = 1\"", "lemma test_add_comp [simp]: \"test p \\<Longrightarrow> p + !p = 1\"", "lemma test_comp_mult1 [simp]: \"test p \\<Longrightarrow> !p \\<cdot> p = 0\"", "lemma test_comp_mult2 [simp]: \"test p \\<Longrightarrow> p \\<cdot> !p = 0\"", "lemma test_comp: \"test p \\<Longrightarrow> \\<exists>q. test q \\<and> p + q = 1 \\<and> p \\<cdot> q = 0\"", "lemma n_absorb1' [simp]: \"n x + n x \\<cdot> n y = n x\"", "lemma test_absorb1 [simp]: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p + p \\<cdot> q = p\"", "lemma n_absorb2' [simp]: \"n x \\<cdot> (n x + n y) = n x\"", "lemma test_absorb2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> (p + q) = p\"", "lemma n_distrib_left: \"n x \\<cdot> (n y + n z) = (n x \\<cdot> n y) + (n x \\<cdot> n z)\"", "lemma test_distrib_left: \"test p \\<Longrightarrow>  test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> (q + r) = p \\<cdot> q + p \\<cdot> r\"", "lemma de_morgan1': \"test p \\<Longrightarrow> test q \\<Longrightarrow> !p + !q = !(p \\<cdot> q)\"", "lemma n_de_morgan_var2 [simp]: \"n (n x + n y) = t x \\<cdot> t y\"", "lemma n_de_morgan_var3 [simp]: \"n (t x + t y) = n x \\<cdot> n y\"", "lemma de_morgan2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !p \\<cdot> !q = !(p + q)\"", "lemma de_morgan3: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !(!p + !q) = p \\<cdot> q\"", "lemma de_morgan4': \"test p \\<Longrightarrow> test q \\<Longrightarrow> !(!p \\<cdot> !q) = p + q\"", "lemma n_add_distr: \"n x + (n y \\<cdot> n z) = (n x + n y) \\<cdot> (n x + n z)\"", "lemma test_add_distr: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p + q \\<cdot> r = (p + q) \\<cdot> (p + r)\"", "lemma n_add_distl: \"(n x \\<cdot> n y) + n z = (n x + n z) \\<cdot> (n y + n z)\"", "lemma test_add_distl_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> q + r = (p + r) \\<cdot> (q + r)\"", "lemma n_ord_def_alt: \"n x \\<le> n y \\<longleftrightarrow> n x \\<cdot> n y = n x\"", "lemma test_leq_mult_def_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<le> q \\<longleftrightarrow> p \\<cdot> q = p\"", "lemma n_anti: \"n x \\<le> n y \\<Longrightarrow> t y \\<le> t x\"", "lemma n_anti_iff: \"n x \\<le> n y \\<longleftrightarrow> t y \\<le> t x\"", "lemma test_comp_anti_iff: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<le> q \\<longleftrightarrow> !q \\<le> !p\"", "lemma n_restrictl: \"n x \\<cdot> y \\<le> y\"", "lemma test_restrictl: \"test p \\<Longrightarrow> p \\<cdot> x \\<le> x\"", "lemma n_mult_lb1': \"n x \\<cdot> n y \\<le> n x\"", "lemma test_mult_lb1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<le> p\"", "lemma n_mult_lb2': \"n x \\<cdot> n y \\<le> n y\"", "lemma test_mult_lb2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<le> q\"", "lemma n_mult_glbI': \"n z \\<le> n x \\<Longrightarrow>  n z \\<le> n y \\<Longrightarrow> n z \\<le> n x \\<cdot> n y\"", "lemma test_mult_glbI:  \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> q \\<Longrightarrow> p \\<le> r \\<Longrightarrow> p \\<le> q \\<cdot> r\"", "lemma n_mult_glb': \"n z \\<le> n x \\<and> n z \\<le> n y \\<longleftrightarrow> n z \\<le> n x \\<cdot> n y\"", "lemma test_mult_glb: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> q \\<and> p \\<le> r \\<longleftrightarrow> p \\<le> q \\<cdot> r\"", "lemma n_galois1': \"n x \\<le> n y + n z \\<longleftrightarrow> n x \\<cdot> t y \\<le> n z\"", "lemma test_galois1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> q + r \\<longleftrightarrow> p \\<cdot> !q \\<le> r\"", "lemma n_galois2': \"n x \\<le> t y + n z \\<longleftrightarrow> n x \\<cdot> n y \\<le> n z\"", "lemma test_galois2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> !q + r \\<longleftrightarrow> p \\<cdot> q \\<le> r\"", "lemma n_huntington2: \"n (n x + t y) + n (n x + n y) = n n x\"", "lemma test_huntington2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !(p + q) + !(p + !q) = !p\"", "lemma n_kat_1_opp: \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z \\<longleftrightarrow> t x \\<cdot> y \\<cdot> n z = 0\"", "lemma test_eq4: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !p \\<cdot> x \\<cdot> !q = x \\<cdot> !q \\<longleftrightarrow> p \\<cdot> x \\<cdot> !q = 0\"", "lemma n_kat_1_var: \"t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z \\<longleftrightarrow> n x \\<cdot> y \\<cdot> t z = 0\"", "lemma test_kat_1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x \\<cdot> q = x \\<cdot> q \\<longleftrightarrow> !p \\<cdot> x \\<cdot> q = 0\"", "lemma n_kat_21_opp:  \"y \\<cdot> n z \\<le> n x \\<cdot> y \\<Longrightarrow> n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z\"", "lemma test_kat_21_opp: \"test p \\<Longrightarrow> test q \\<Longrightarrow> x \\<cdot> q \\<le> p \\<cdot> x \\<longrightarrow> p \\<cdot> x \\<cdot> q = x \\<cdot> q\"", "lemma  \" n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z \\<Longrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\"", "lemma n_distrib_alt': \"n x \\<cdot> n z = n y \\<cdot> n z \\<Longrightarrow> n x + n z = n y + n z \\<Longrightarrow> n x = n y\"", "lemma test_distrib_alt: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> r = q \\<cdot> r \\<and> p + r = q + r \\<longrightarrow> p = q\"", "lemma n_eq1: \"n x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z \\<longleftrightarrow> y \\<le> z\"", "lemma test_eq1: \"test p \\<Longrightarrow> y \\<le> x \\<longleftrightarrow> p \\<cdot> y \\<le> x \\<and> !p \\<cdot> y \\<le> x\"", "lemma n_dist_var1': \"(n x + n y) \\<cdot> (t x + n z) = t x \\<cdot> n y + n x \\<cdot> n z\"", "lemma test_dist_var1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> (p + q) \\<cdot> (!p + r) = !p \\<cdot> q + p \\<cdot> r\"", "lemma n_dist_var2': \"n (n x \\<cdot> n y + t x \\<cdot> n z) = n x \\<cdot> t y + t x \\<cdot> t z\"", "lemma test_dist_var2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> !(p \\<cdot> q + !p \\<cdot> r) = (p \\<cdot> !q + !p \\<cdot> !r)\"", "lemma test_restrictr: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> x\"", "lemma test_eq2: \"test p \\<Longrightarrow> z \\<le> p \\<cdot> x + !p \\<cdot> y \\<longleftrightarrow> p \\<cdot> z \\<le> p \\<cdot> x \\<and> !p \\<cdot> z \\<le> !p \\<cdot> y\"", "lemma test_eq3: \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\"", "lemma test1: \"\\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = 0\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\"", "lemma \"\\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\"", "lemma comm_add: \"\\<lbrakk>test p; p\\<cdot>x = x\\<cdot>p; p\\<cdot>y = y\\<cdot>p\\<rbrakk> \\<Longrightarrow> p\\<cdot>(x + y) = (x + y)\\<cdot>p\"", "lemma comm_add_var: \"\\<lbrakk>test p; test q; test r; p\\<cdot>x = x\\<cdot>p; p\\<cdot>y = y\\<cdot>p\\<rbrakk> \\<Longrightarrow> p\\<cdot>(q\\<cdot>x + r\\<cdot>y) = (q\\<cdot>x + r\\<cdot>y)\\<cdot>p\"", "lemma \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and> !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p \"", "lemma test_distrib: \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> (p + q)\\<cdot>(q\\<cdot>y + !q\\<cdot>x) = q\\<cdot>y + !q\\<cdot>p\\<cdot>x\"", "lemma n_left_distrib_var: \"test p \\<Longrightarrow> p \\<cdot> (x + y) = p \\<cdot> x + p \\<cdot> y\"", "lemma n_mult_left_iso: \"x \\<le> y \\<Longrightarrow> n z \\<cdot> x \\<le> n z \\<cdot> y\"", "lemma test_mult_isol: \"test p \\<Longrightarrow> x \\<le> y \\<Longrightarrow> p \\<cdot> x \\<le> p \\<cdot> y\"", "lemma \"test p \\<Longrightarrow> x \\<cdot> p \\<le> x\"", "lemma \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\"", "lemma \"\\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = 0\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\"", "lemma \"\\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\"", "lemma comm_add: \"test p \\<Longrightarrow>  p \\<cdot> x = x \\<cdot> p \\<Longrightarrow>  p \\<cdot> y = y \\<cdot> p \\<Longrightarrow> p \\<cdot> (x + y) = (x + y) \\<cdot> p\"", "lemma comm_add_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<Longrightarrow> p \\<cdot> y = y \\<cdot> p \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) = (q \\<cdot> x + r \\<cdot> y) \\<cdot> p\"", "lemma test_distrib: \"test p \\<Longrightarrow> test q \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) = q \\<cdot> y + !q \\<cdot> p \\<cdot> x\"", "lemma n_restrictr: \"x \\<cdot> n y \\<le> x\"", "lemma test_restrictr: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> x\"", "lemma n_kat_2: \"n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z \\<longleftrightarrow> n x \\<cdot> y \\<le> y \\<cdot> n z\"", "lemma test_kat_2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\"", "lemma n_kat_2_opp: \"y \\<cdot> n z = n x \\<cdot> y \\<cdot> n z \\<longleftrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\"", "lemma test_kat_2_opp: \"test p \\<Longrightarrow> test q \\<Longrightarrow> x \\<cdot> q  = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> x \\<cdot> q \\<le> p \\<cdot> x\"", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x\\<cdot>!q = 0\\<rbrakk> \\<Longrightarrow> p\\<cdot>x = p\\<cdot>x\\<cdot>q\"", "lemma \"\\<lbrakk>test p; test q; x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\\<rbrakk> \\<Longrightarrow> p\\<cdot>x = p\\<cdot>x\\<cdot>q\"", "lemma \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> x \\<cdot> (p + q) \\<le> x \\<cdot> p + x \\<cdot> q\"", "lemma n_kat_31: \"n x \\<cdot> y \\<cdot> t z = 0 \\<Longrightarrow> n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\"", "lemma test_kat_31: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = 0 \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\"", "lemma n_kat_var: \"t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z \\<Longrightarrow> n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\"", "lemma test1_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\"", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x\\<cdot>!q = 0\\<rbrakk> \\<Longrightarrow> !p\\<cdot>x\\<cdot>q = 0\"", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x = p\\<cdot>x\\<cdot>q\\<rbrakk> \\<Longrightarrow> x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\"", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x = p\\<cdot>x\\<cdot>q\\<rbrakk> \\<Longrightarrow> p\\<cdot>x\\<cdot>!q = 0\"", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x = p\\<cdot>x\\<cdot>q\\<rbrakk> \\<Longrightarrow> !p\\<cdot>x\\<cdot>q = 0\"", "lemma \"\\<lbrakk>test p; test q; x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\\<rbrakk> \\<Longrightarrow> !p\\<cdot>x\\<cdot>q = 0\"", "lemma \"\\<lbrakk>test p; test q; !p\\<cdot>x\\<cdot>q = 0\\<rbrakk> \\<Longrightarrow> p\\<cdot>x = p\\<cdot>x\\<cdot>q\"", "lemma \"\\<lbrakk>test p; test q; !p\\<cdot>x\\<cdot>q = 0\\<rbrakk> \\<Longrightarrow> x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\"", "lemma \"\\<lbrakk>test p; test q; !p\\<cdot>x\\<cdot>q = 0\\<rbrakk> \\<Longrightarrow> p\\<cdot>x\\<cdot>!q = 0\"", "lemma \"test p \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and> !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p\"", "lemma n_kat_1: \"n x \\<cdot> y \\<cdot> t z = 0 \\<longleftrightarrow> n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\"", "lemma test_kat_1': \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = 0 \\<longleftrightarrow> p \\<cdot> x =  p \\<cdot> x \\<cdot> q\"", "lemma n_kat_3: \"n x \\<cdot> y \\<cdot> t z = 0 \\<longleftrightarrow> n x \\<cdot> y \\<le> y \\<cdot> n z\"", "lemma test_kat_3: \"test p \\<Longrightarrow> test q \\<Longrightarrow>  p \\<cdot> x \\<cdot> !q = 0 \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\"", "lemma n_kat_prop: \"n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y \\<longleftrightarrow> t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z\"", "lemma test_kat_prop: \"test p \\<Longrightarrow> test q  \\<Longrightarrow>  p \\<cdot> x = p \\<cdot> x \\<cdot> q  \\<longleftrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\"", "lemma n_kat_3_opp: \"t x \\<cdot> y \\<cdot> n z = 0 \\<longleftrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\"", "lemma kat_1_var: \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z \\<longleftrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\"", "lemma \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> (p\\<cdot>x\\<cdot>!q = 0) \\<Longrightarrow> (!p\\<cdot>x\\<cdot>q = 0)\"", "lemma \"n x \\<cdot> y + t x \\<cdot> z = n x \\<cdot> y \\<or> n x \\<cdot> y + t x \\<cdot> z = t x \\<cdot> z\""], "translations": [["", "lemma \"n 1 \\<cdot> x = n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (1::'a) \\<cdot> x = n (1::'a)", "(*nitpick*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. n (1::'a) \\<cdot> x = n (1::'a)", "oops"], ["", "lemma \"x \\<cdot> n 1 = n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> n (1::'a) = n (1::'a)", "(*nitpick*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> n (1::'a) = n (1::'a)", "oops"], ["", "lemma \"n 1 \\<cdot> x = n 1 \\<Longrightarrow> n x \\<cdot> y \\<cdot> t z = n 1 \\<Longrightarrow> n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z  \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n (1::'a) \\<cdot> x = n (1::'a);\n     n x \\<cdot> y \\<cdot> t z = n (1::'a)\\<rbrakk>\n    \\<Longrightarrow> n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z", "(*nitpick*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n (1::'a) \\<cdot> x = n (1::'a);\n     n x \\<cdot> y \\<cdot> t z = n (1::'a)\\<rbrakk>\n    \\<Longrightarrow> n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z", "oops"], ["", "lemma n_t_closed [simp]: \"t (n x) = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n t x = n x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n t x = n x", "have \"\\<And>x y. n x \\<cdot> n (t (n x) \\<cdot> t y) = t (n x \\<cdot> n y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y. n x \\<cdot> n (n t x \\<cdot> t y) = t (n x \\<cdot> n y)", "by (simp add: local.tm3)"], ["proof (state)\nthis:\n  n ?x \\<cdot> n (n t ?x \\<cdot> t ?y) = t (n ?x \\<cdot> n ?y)\n\ngoal (1 subgoal):\n 1. n t x = n x", "thus ?thesis"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> n (n t ?x \\<cdot> t ?y) = t (n ?x \\<cdot> n ?y)\n\ngoal (1 subgoal):\n 1. n t x = n x", "by (metis (no_types) local.mult_1_right local.tm1 local.tm2 local.tm3 mult_assoc)"], ["proof (state)\nthis:\n  n t x = n x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma mult_t_closed [simp]: \"t (n x \\<cdot> n y) = n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t (n x \\<cdot> n y) = n x \\<cdot> n y", "by (metis local.mult_1_right local.tm1 local.tm2 local.tm3 n_t_closed)"], ["", "lemma n_comm_var: \"n (n x \\<cdot> n y) = n (n y \\<cdot> n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n x \\<cdot> n y) = n (n y \\<cdot> n x)", "by (metis local.mult_1_left local.tm1 local.tm3 n_t_closed)"], ["", "lemma n_comm: \"n x \\<cdot> n y = n y \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "using mult_t_closed n_comm_var"], ["proof (prove)\nusing this:\n  t (n ?x \\<cdot> n ?y) = n ?x \\<cdot> n ?y\n  n (n ?x \\<cdot> n ?y) = n (n ?y \\<cdot> n ?x)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "by fastforce"], ["", "lemma huntington1 [simp]: \"n (n (n n x \\<cdot> n y) \\<cdot> n (n n x \\<cdot> n n y)) = n n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n (t x \\<cdot> n y) \\<cdot> n (t x \\<cdot> t y)) = t x", "by (metis local.mult_1_right local.tm1 local.tm2 local.tm3)"], ["", "lemma huntington2 [simp]: \"n (n x \\<oplus> n n y) \\<oplus> n (n x \\<oplus> n y) = n n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n x \\<oplus> t y) \\<oplus> n (n x \\<oplus> n y) = t x", "by (simp add: n_add_op_def)"], ["", "lemma add_assoc: \"n x \\<oplus> (n y \\<oplus> n z) = (n x \\<oplus> n y) \\<oplus> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> (n y \\<oplus> n z) = n x \\<oplus> n y \\<oplus> n z", "by (simp add: mult_assoc n_add_op_def)"], ["", "lemma t_mult_closure: \"t x = x \\<Longrightarrow> t y = y \\<Longrightarrow> t (x \\<cdot> y) = x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t x = x; t y = y\\<rbrakk>\n    \\<Longrightarrow> t (x \\<cdot> y) = x \\<cdot> y", "by (metis mult_t_closed)"], ["", "lemma n_t_compl [simp]: \"n x \\<oplus> t x = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> t x = (1::'a)", "using n_add_op_def local.tm1 local.tm2"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  t (1::'a) = (1::'a)\n  n ?x \\<cdot> t ?x = n (1::'a)\n\ngoal (1 subgoal):\n 1. n x \\<oplus> t x = (1::'a)", "by presburger"], ["", "lemma zero_least1 [simp]: \"o \\<oplus> n x = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. o \\<oplus> n x = n x", "by (simp add: a_zero_def n_add_op_def)"], ["", "lemma zero_least2 [simp]: \"o \\<cdot> n x = o\""], ["proof (prove)\ngoal (1 subgoal):\n 1. o \\<cdot> n x = o", "by (metis a_zero_def local.tm2 local.tm3 mult_assoc mult_t_closed zero_least1)"], ["", "lemma zero_least3 [simp]: \"n x \\<cdot> o  = o\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> o = o", "using a_zero_def n_comm zero_least2"], ["proof (prove)\nusing this:\n  o \\<equiv> n (1::'a)\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n  o \\<cdot> n ?x = o\n\ngoal (1 subgoal):\n 1. n x \\<cdot> o = o", "by fastforce"], ["", "lemma one_greatest1 [simp]: \"1 \\<oplus> n x = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<oplus> n x = (1::'a)", "by (metis (no_types) a_zero_def local.tm1 n_add_op_def n_comm_var zero_least3)"], ["", "lemma one_greatest2 [simp]: \"n x \\<oplus> 1 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> (1::'a) = (1::'a)", "by (metis n_add_op_def n_comm_var one_greatest1)"], ["", "lemma n_add_idem [simp]: \"n x \\<oplus> n x = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> n x = n x", "by (metis huntington1 local.mult_1_right n_t_closed n_t_compl n_add_op_def)"], ["", "lemma n_mult_idem [simp]: \"n x \\<cdot> n x = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n x = n x", "by (metis mult_t_closed n_add_idem n_add_op_def)"], ["", "lemma n_preserve [simp]: \"n x \\<cdot> n y \\<cdot> n x = n y \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y \\<cdot> n x = n y \\<cdot> n x", "by (metis mult_assoc n_comm n_mult_idem)"], ["", "lemma n_preserve2 [simp]: \"n x \\<cdot> n y \\<cdot> t x = o\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y \\<cdot> t x = o", "by (metis a_zero_def local.tm2 mult_assoc n_comm zero_least3)"], ["", "lemma de_morgan1 [simp]: \"n (n x \\<cdot> n y) = t x \\<oplus> t y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n x \\<cdot> n y) = t x \\<oplus> t y", "by (simp add: n_add_op_def)"], ["", "lemma de_morgan4 [simp]: \"n (t x \\<oplus> t y) = n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (t x \\<oplus> t y) = n x \\<cdot> n y", "using n_add_op_def mult_t_closed n_t_closed"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  t (n ?x \\<cdot> n ?y) = n ?x \\<cdot> n ?y\n  n t ?x = n ?x\n\ngoal (1 subgoal):\n 1. n (t x \\<oplus> t y) = n x \\<cdot> n y", "by presburger"], ["", "lemma n_absorb1 [simp]: \"n x \\<oplus> n x \\<cdot> n y = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> n x \\<cdot> n y = n x", "by (metis local.mult_1_right local.tm1 local.tm3 one_greatest2 n_add_op_def)"], ["", "lemma n_absorb2 [simp]: \"n x \\<cdot> (n x \\<oplus> n y) = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> (n x \\<oplus> n y) = n x", "by (metis mult_t_closed n_absorb1 n_add_op_def)"], ["", "lemma n_distrib1: \"n x \\<cdot> (n y \\<oplus> n z) = (n x \\<cdot> n y) \\<oplus> (n x \\<cdot> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> (n y \\<oplus> n z) =\n    n x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "using local.tm3 n_comm_var  n_add_op_def"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> n (t ?z \\<cdot> t ?y) =\n  n (n (n ?x \\<cdot> n ?y) \\<cdot> n (n ?x \\<cdot> n ?z))\n  n (n ?x \\<cdot> n ?y) = n (n ?y \\<cdot> n ?x)\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> (n y \\<oplus> n z) =\n    n x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "by presburger"], ["", "lemma n_distrib1_opp: \"(n x \\<oplus> n y) \\<cdot> n z  = (n x \\<cdot> n z) \\<oplus> (n y \\<cdot> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> n z =\n    n x \\<cdot> n z \\<oplus> n y \\<cdot> n z", "using n_add_op_def n_comm n_distrib1"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n  n ?x \\<cdot> (n ?y \\<oplus> n ?z) =\n  n ?x \\<cdot> n ?y \\<oplus> n ?x \\<cdot> n ?z\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> n z =\n    n x \\<cdot> n z \\<oplus> n y \\<cdot> n z", "by presburger"], ["", "lemma n_distrib2: \"n x \\<oplus> n y \\<cdot> n z = (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> n y \\<cdot> n z =\n    (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)", "by (metis mult_t_closed n_distrib1 n_mult_idem  n_add_op_def)"], ["", "lemma n_distrib2_opp: \"n x \\<cdot> n y \\<oplus> n z = (n x \\<oplus> n z) \\<cdot> (n y \\<oplus> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y \\<oplus> n z =\n    (n x \\<oplus> n z) \\<cdot> (n y \\<oplus> n z)", "by (metis de_morgan1 mult_t_closed n_distrib1_opp n_add_op_def)"], ["", "definition ts_ord :: \"'a \\<Rightarrow> 'a \\<Rightarrow> bool\" (infix \"\\<sqsubseteq>\" 50) where\n  \"x \\<sqsubseteq> y = (n x \\<cdot> n y = n y)\""], ["", "lemma ts_ord_alt: \"n x \\<sqsubseteq> n y \\<longleftrightarrow> n x \\<oplus> n y = n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<sqsubseteq> n y) = (n x \\<oplus> n y = n y)", "by (metis mult_t_closed n_t_closed ts_ord_def n_add_op_def)"], ["", "lemma ts_ord_refl: \"n x \\<sqsubseteq> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n x", "by (simp add: ts_ord_def)"], ["", "lemma ts_ord_trans: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n y \\<sqsubseteq> n z \\<Longrightarrow> n x \\<sqsubseteq> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<sqsubseteq> n y; n y \\<sqsubseteq> n z\\<rbrakk>\n    \\<Longrightarrow> n x \\<sqsubseteq> n z", "by (metis mult_assoc ts_ord_def)"], ["", "lemma ts_ord_antisym: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n y \\<sqsubseteq> n x \\<Longrightarrow> n x = n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<sqsubseteq> n y; n y \\<sqsubseteq> n x\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "by (metis n_add_idem n_comm ts_ord_def n_add_op_def)"], ["", "lemma ts_ord_mult_isol: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y", "assume \"n x \\<sqsubseteq> n y\""], ["proof (state)\nthis:\n  n x \\<sqsubseteq> n y\n\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y", "hence \"n (n (n z \\<cdot> n x) \\<cdot> n (n z \\<cdot> n y)) = n z \\<cdot> n y\""], ["proof (prove)\nusing this:\n  n x \\<sqsubseteq> n y\n\ngoal (1 subgoal):\n 1. n (n (n z \\<cdot> n x) \\<cdot> n (n z \\<cdot> n y)) = n z \\<cdot> n y", "by (metis mult_t_closed n_add_idem n_distrib1 ts_ord_def n_add_op_def)"], ["proof (state)\nthis:\n  n (n (n z \\<cdot> n x) \\<cdot> n (n z \\<cdot> n y)) = n z \\<cdot> n y\n\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y", "thus ?thesis"], ["proof (prove)\nusing this:\n  n (n (n z \\<cdot> n x) \\<cdot> n (n z \\<cdot> n y)) = n z \\<cdot> n y\n\ngoal (1 subgoal):\n 1. n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y", "by (metis mult_t_closed ts_ord_def)"], ["proof (state)\nthis:\n  n z \\<cdot> n x \\<sqsubseteq> n z \\<cdot> n y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ts_ord_mult_isor: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n x \\<cdot> n z \\<sqsubseteq> n y \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n x \\<cdot> n z \\<sqsubseteq> n y \\<cdot> n z", "using n_comm ts_ord_mult_isol"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n  n ?x \\<sqsubseteq> n ?y \\<Longrightarrow>\n  n ?z \\<cdot> n ?x \\<sqsubseteq> n ?z \\<cdot> n ?y\n\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n x \\<cdot> n z \\<sqsubseteq> n y \\<cdot> n z", "by auto"], ["", "lemma ts_ord_add_isol: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n z \\<oplus> n x \\<sqsubseteq> n z \\<oplus> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n z \\<oplus> n x \\<sqsubseteq> n z \\<oplus> n y", "by (metis mult_assoc mult_t_closed n_mult_idem ts_ord_def n_add_op_def)"], ["", "lemma ts_ord_add_isor: \"n x \\<sqsubseteq> n y \\<Longrightarrow> n x \\<oplus> n z \\<sqsubseteq> n y \\<oplus> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n x \\<oplus> n z \\<sqsubseteq> n y \\<oplus> n z", "using n_add_op_def n_comm ts_ord_add_isol"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n  n ?x \\<sqsubseteq> n ?y \\<Longrightarrow>\n  n ?z \\<oplus> n ?x \\<sqsubseteq> n ?z \\<oplus> n ?y\n\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow>\n    n x \\<oplus> n z \\<sqsubseteq> n y \\<oplus> n z", "by presburger"], ["", "lemma ts_ord_anti: \"n x \\<sqsubseteq> n y \\<Longrightarrow> t y \\<sqsubseteq> t x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<Longrightarrow> t y \\<sqsubseteq> t x", "by (metis n_absorb2 n_add_idem n_comm ts_ord_def n_add_op_def)"], ["", "lemma ts_ord_anti_iff: \"n x \\<sqsubseteq> n y \\<longleftrightarrow> t y \\<sqsubseteq> t x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<sqsubseteq> n y) = (t y \\<sqsubseteq> t x)", "using ts_ord_anti"], ["proof (prove)\nusing this:\n  n ?x \\<sqsubseteq> n ?y \\<Longrightarrow> t ?y \\<sqsubseteq> t ?x\n\ngoal (1 subgoal):\n 1. (n x \\<sqsubseteq> n y) = (t y \\<sqsubseteq> t x)", "by force"], ["", "lemma zero_ts_ord: \"o \\<sqsubseteq> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. o \\<sqsubseteq> n x", "by (simp add: a_zero_def ts_ord_def)"], ["", "lemma n_subid: \"n x \\<sqsubseteq> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> (1::'a)", "by (simp add: a_zero_def[symmetric] ts_ord_def)"], ["", "lemma n_mult_lb1: \"n x \\<cdot> n y \\<sqsubseteq> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y \\<sqsubseteq> n x", "by (metis (no_types) local.mult_1_right local.tm1 n_comm n_subid ts_ord_mult_isor)"], ["", "lemma n_mult_lb2: \"n x \\<cdot> n y \\<sqsubseteq> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y \\<sqsubseteq> n y", "by (metis n_comm n_mult_lb1)"], ["", "lemma n_mult_glbI: \"n z \\<sqsubseteq> n x \\<Longrightarrow>  n z \\<sqsubseteq> n y \\<Longrightarrow> n z \\<sqsubseteq> n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n z \\<sqsubseteq> n x; n z \\<sqsubseteq> n y\\<rbrakk>\n    \\<Longrightarrow> n z \\<sqsubseteq> n x \\<cdot> n y", "by (metis n_t_closed ts_ord_anti_iff ts_ord_def ts_ord_mult_isol)"], ["", "lemma n_mult_glb: \"n z \\<sqsubseteq> n x \\<and> n z \\<sqsubseteq> n y \\<longleftrightarrow> n z \\<sqsubseteq> n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n z \\<sqsubseteq> n x \\<and> n z \\<sqsubseteq> n y) =\n    (n z \\<sqsubseteq> n x \\<cdot> n y)", "by (metis mult_t_closed n_mult_glbI n_mult_lb1 n_mult_lb2 ts_ord_trans)"], ["", "lemma n_add_ub1: \"n x \\<sqsubseteq> n x \\<oplus> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n x \\<oplus> n y", "by (metis (no_types) n_absorb2 n_mult_lb2 n_add_op_def)"], ["", "lemma n_add_ub2: \"n y \\<sqsubseteq> n x \\<oplus> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n y \\<sqsubseteq> n x \\<oplus> n y", "by (metis n_add_ub1 n_comm_var n_add_op_def)"], ["", "lemma n_add_lubI: \"n x \\<sqsubseteq> n z \\<Longrightarrow> n y \\<sqsubseteq> n z \\<Longrightarrow> n x \\<oplus> n y \\<sqsubseteq> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<sqsubseteq> n z; n y \\<sqsubseteq> n z\\<rbrakk>\n    \\<Longrightarrow> n x \\<oplus> n y \\<sqsubseteq> n z", "by (metis ts_ord_add_isol ts_ord_alt)"], ["", "lemma n_add_lub: \"n x \\<sqsubseteq> n z \\<and> n y \\<sqsubseteq> n z \\<longleftrightarrow> n x \\<oplus> n y \\<sqsubseteq> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<sqsubseteq> n z \\<and> n y \\<sqsubseteq> n z) =\n    (n x \\<oplus> n y \\<sqsubseteq> n z)", "by (metis n_add_lubI n_add_op_def n_add_ub1 n_add_ub2 ts_ord_trans)"], ["", "lemma n_galois1: \"n x \\<sqsubseteq> n y \\<oplus> n z \\<longleftrightarrow> n x \\<cdot> t y \\<sqsubseteq> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<sqsubseteq> n y \\<oplus> n z) =\n    (n x \\<cdot> t y \\<sqsubseteq> n z)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "assume \"n x \\<sqsubseteq> n y \\<oplus> n z\""], ["proof (state)\nthis:\n  n x \\<sqsubseteq> n y \\<oplus> n z\n\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "hence \"n x \\<cdot> t y \\<sqsubseteq> (n y \\<oplus> n z ) \\<cdot> t y\""], ["proof (prove)\nusing this:\n  n x \\<sqsubseteq> n y \\<oplus> n z\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> (n y \\<oplus> n z) \\<cdot> t y", "by (metis n_add_op_def ts_ord_mult_isor)"], ["proof (state)\nthis:\n  n x \\<cdot> t y \\<sqsubseteq> (n y \\<oplus> n z) \\<cdot> t y\n\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "also"], ["proof (state)\nthis:\n  n x \\<cdot> t y \\<sqsubseteq> (n y \\<oplus> n z) \\<cdot> t y\n\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "have \"... = n y \\<cdot> t y \\<oplus> n z \\<cdot> t y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n y \\<oplus> n z) \\<cdot> t y =\n    n y \\<cdot> t y \\<oplus> n z \\<cdot> t y", "using n_add_op_def local.tm3 n_comm"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  n ?x \\<cdot> n (t ?z \\<cdot> t ?y) =\n  n (n (n ?x \\<cdot> n ?y) \\<cdot> n (n ?x \\<cdot> n ?z))\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n\ngoal (1 subgoal):\n 1. (n y \\<oplus> n z) \\<cdot> t y =\n    n y \\<cdot> t y \\<oplus> n z \\<cdot> t y", "by presburger"], ["proof (state)\nthis:\n  (n y \\<oplus> n z) \\<cdot> t y = n y \\<cdot> t y \\<oplus> n z \\<cdot> t y\n\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "also"], ["proof (state)\nthis:\n  (n y \\<oplus> n z) \\<cdot> t y = n y \\<cdot> t y \\<oplus> n z \\<cdot> t y\n\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "have \"... = n z \\<cdot> t y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n y \\<cdot> t y \\<oplus> n z \\<cdot> t y = n z \\<cdot> t y", "using a_zero_def local.tm2 n_distrib2 zero_least1"], ["proof (prove)\nusing this:\n  o \\<equiv> n (1::'a)\n  n ?x \\<cdot> t ?x = n (1::'a)\n  n ?x \\<oplus> n ?y \\<cdot> n ?z =\n  (n ?x \\<oplus> n ?y) \\<cdot> (n ?x \\<oplus> n ?z)\n  o \\<oplus> n ?x = n ?x\n\ngoal (1 subgoal):\n 1. n y \\<cdot> t y \\<oplus> n z \\<cdot> t y = n z \\<cdot> t y", "by presburger"], ["proof (state)\nthis:\n  n y \\<cdot> t y \\<oplus> n z \\<cdot> t y = n z \\<cdot> t y\n\ngoal (2 subgoals):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z \\<Longrightarrow>\n    n x \\<cdot> t y \\<sqsubseteq> n z\n 2. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "finally"], ["proof (chain)\npicking this:\n  n x \\<cdot> t y \\<sqsubseteq> n z \\<cdot> t y", "show \"n x \\<cdot> t y \\<sqsubseteq> n z\""], ["proof (prove)\nusing this:\n  n x \\<cdot> t y \\<sqsubseteq> n z \\<cdot> t y\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z", "by (metis mult_t_closed n_mult_glb)"], ["proof (state)\nthis:\n  n x \\<cdot> t y \\<sqsubseteq> n z\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "assume a: \"n x \\<cdot> t y \\<sqsubseteq> n z\""], ["proof (state)\nthis:\n  n x \\<cdot> t y \\<sqsubseteq> n z\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "have \"n x = t (n x \\<cdot> (n y \\<oplus> t y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x = t (n x \\<cdot> (n y \\<oplus> t y))", "using local.mult_1_right n_t_closed n_t_compl"], ["proof (prove)\nusing this:\n  ?a \\<cdot> (1::'a) = ?a\n  n t ?x = n ?x\n  n ?x \\<oplus> t ?x = (1::'a)\n\ngoal (1 subgoal):\n 1. n x = t (n x \\<cdot> (n y \\<oplus> t y))", "by presburger"], ["proof (state)\nthis:\n  n x = t (n x \\<cdot> (n y \\<oplus> t y))\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "also"], ["proof (state)\nthis:\n  n x = t (n x \\<cdot> (n y \\<oplus> t y))\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "have \"... = t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t (n x \\<cdot> (n y \\<oplus> t y)) =\n    t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y)", "using n_distrib1"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> (n ?y \\<oplus> n ?z) =\n  n ?x \\<cdot> n ?y \\<oplus> n ?x \\<cdot> n ?z\n\ngoal (1 subgoal):\n 1. t (n x \\<cdot> (n y \\<oplus> t y)) =\n    t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y)", "by presburger"], ["proof (state)\nthis:\n  t (n x \\<cdot> (n y \\<oplus> t y)) =\n  t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "also"], ["proof (state)\nthis:\n  t (n x \\<cdot> (n y \\<oplus> t y)) =\n  t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "have \"...  \\<sqsubseteq> t (n y \\<oplus> n x \\<cdot> t y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y) \\<sqsubseteq>\n    t (n y \\<oplus> n x \\<cdot> t y)", "by (metis calculation local.mult_1_right mult_t_closed n_add_op_def n_add_ub2 n_distrib2 n_t_compl)"], ["proof (state)\nthis:\n  t (n x \\<cdot> n y \\<oplus> n x \\<cdot> t y) \\<sqsubseteq>\n  t (n y \\<oplus> n x \\<cdot> t y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t y \\<sqsubseteq> n z \\<Longrightarrow>\n    n x \\<sqsubseteq> n y \\<oplus> n z", "finally"], ["proof (chain)\npicking this:\n  n x \\<sqsubseteq> t (n y \\<oplus> n x \\<cdot> t y)", "show \"n x \\<sqsubseteq> n y \\<oplus> n z\""], ["proof (prove)\nusing this:\n  n x \\<sqsubseteq> t (n y \\<oplus> n x \\<cdot> t y)\n\ngoal (1 subgoal):\n 1. n x \\<sqsubseteq> n y \\<oplus> n z", "by (metis (no_types, hide_lams) a mult_t_closed ts_ord_add_isol ts_ord_trans n_add_op_def)"], ["proof (state)\nthis:\n  n x \\<sqsubseteq> n y \\<oplus> n z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_galois2: \"n x \\<sqsubseteq> t y \\<oplus> n z \\<longleftrightarrow> n x \\<cdot> n y \\<sqsubseteq> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<sqsubseteq> t y \\<oplus> n z) =\n    (n x \\<cdot> n y \\<sqsubseteq> n z)", "by (metis n_galois1 n_t_closed)"], ["", "lemma n_distrib_alt: \"n x \\<cdot> n z = n y \\<cdot> n z \\<Longrightarrow> n x \\<oplus> n z = n y \\<oplus> n z \\<Longrightarrow> n x = n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "assume a: \"n x \\<cdot> n z = n y \\<cdot> n z\" and b: \"n x \\<oplus> n z = n y \\<oplus> n z\""], ["proof (state)\nthis:\n  n x \\<cdot> n z = n y \\<cdot> n z\n  n x \\<oplus> n z = n y \\<oplus> n z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "have \"n x = n x \\<oplus> n x \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x = n x \\<oplus> n x \\<cdot> n z", "using n_absorb1"], ["proof (prove)\nusing this:\n  n ?x \\<oplus> n ?x \\<cdot> n ?y = n ?x\n\ngoal (1 subgoal):\n 1. n x = n x \\<oplus> n x \\<cdot> n z", "by presburger"], ["proof (state)\nthis:\n  n x = n x \\<oplus> n x \\<cdot> n z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "also"], ["proof (state)\nthis:\n  n x = n x \\<oplus> n x \\<cdot> n z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "have \"... = n x \\<oplus> n y \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> n x \\<cdot> n z = n x \\<oplus> n y \\<cdot> n z", "using a"], ["proof (prove)\nusing this:\n  n x \\<cdot> n z = n y \\<cdot> n z\n\ngoal (1 subgoal):\n 1. n x \\<oplus> n x \\<cdot> n z = n x \\<oplus> n y \\<cdot> n z", "by presburger"], ["proof (state)\nthis:\n  n x \\<oplus> n x \\<cdot> n z = n x \\<oplus> n y \\<cdot> n z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "also"], ["proof (state)\nthis:\n  n x \\<oplus> n x \\<cdot> n z = n x \\<oplus> n y \\<cdot> n z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "have \"... = (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<oplus> n y \\<cdot> n z =\n    (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)", "using n_distrib2"], ["proof (prove)\nusing this:\n  n ?x \\<oplus> n ?y \\<cdot> n ?z =\n  (n ?x \\<oplus> n ?y) \\<cdot> (n ?x \\<oplus> n ?z)\n\ngoal (1 subgoal):\n 1. n x \\<oplus> n y \\<cdot> n z =\n    (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)", "by blast"], ["proof (state)\nthis:\n  n x \\<oplus> n y \\<cdot> n z =\n  (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "also"], ["proof (state)\nthis:\n  n x \\<oplus> n y \\<cdot> n z =\n  (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "have \"... = (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z) =\n    (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z)", "using n_add_op_def b n_comm"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  n x \\<oplus> n z = n y \\<oplus> n z\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z) =\n    (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z)", "by presburger"], ["proof (state)\nthis:\n  (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z) =\n  (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "also"], ["proof (state)\nthis:\n  (n x \\<oplus> n y) \\<cdot> (n x \\<oplus> n z) =\n  (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "have \"... = n y \\<cdot> (n x \\<oplus> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z) =\n    n y \\<cdot> (n x \\<oplus> n z)", "by (metis a b n_distrib1 n_distrib2 n_mult_idem)"], ["proof (state)\nthis:\n  (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z) =\n  n y \\<cdot> (n x \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "also"], ["proof (state)\nthis:\n  (n y \\<oplus> n x) \\<cdot> (n y \\<oplus> n z) =\n  n y \\<cdot> (n x \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "have \"... = n y \\<cdot> (n y \\<oplus> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n y \\<cdot> (n x \\<oplus> n z) = n y \\<cdot> (n y \\<oplus> n z)", "using b"], ["proof (prove)\nusing this:\n  n x \\<oplus> n z = n y \\<oplus> n z\n\ngoal (1 subgoal):\n 1. n y \\<cdot> (n x \\<oplus> n z) = n y \\<cdot> (n y \\<oplus> n z)", "by presburger"], ["proof (state)\nthis:\n  n y \\<cdot> (n x \\<oplus> n z) = n y \\<cdot> (n y \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>n x \\<cdot> n z = n y \\<cdot> n z;\n     n x \\<oplus> n z = n y \\<oplus> n z\\<rbrakk>\n    \\<Longrightarrow> n x = n y", "finally"], ["proof (chain)\npicking this:\n  n x = n y \\<cdot> (n y \\<oplus> n z)", "show \"n x = n y\""], ["proof (prove)\nusing this:\n  n x = n y \\<cdot> (n y \\<oplus> n z)\n\ngoal (1 subgoal):\n 1. n x = n y", "using n_absorb2"], ["proof (prove)\nusing this:\n  n x = n y \\<cdot> (n y \\<oplus> n z)\n  n ?x \\<cdot> (n ?x \\<oplus> n ?y) = n ?x\n\ngoal (1 subgoal):\n 1. n x = n y", "by presburger"], ["proof (state)\nthis:\n  n x = n y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_dist_var1: \"(n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) = t x \\<cdot> n y \\<oplus> n x \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "have \"(n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) = n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus> (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z)", "using n_add_op_def n_distrib1 n_distrib1_opp"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  n ?x \\<cdot> (n ?y \\<oplus> n ?z) =\n  n ?x \\<cdot> n ?y \\<oplus> n ?x \\<cdot> n ?z\n  (n ?x \\<oplus> n ?y) \\<cdot> n ?z =\n  n ?x \\<cdot> n ?z \\<oplus> n ?y \\<cdot> n ?z\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z)", "by presburger"], ["proof (state)\nthis:\n  (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n  n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "also"], ["proof (state)\nthis:\n  (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n  n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "have \"... = t x \\<cdot> n y \\<oplus> (n x \\<cdot> n z \\<oplus> (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z) =\n    t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z))", "using n_add_op_def local.mult_1_left local.tm1 local.tm2 n_comm n_t_closed"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  (1::'a) \\<cdot> ?a = ?a\n  t (1::'a) = (1::'a)\n  n ?x \\<cdot> t ?x = n (1::'a)\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n  n t ?x = n ?x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z) =\n    t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z))", "by presburger"], ["proof (state)\nthis:\n  n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z) =\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus> (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z))\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "also"], ["proof (state)\nthis:\n  n x \\<cdot> t x \\<oplus> n y \\<cdot> t x \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n y \\<cdot> n z) =\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus> (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z))\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "have \"... = t x \\<cdot> n y \\<oplus> (n x \\<cdot> n z \\<oplus> (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z))", "by (metis mult_assoc mult_t_closed n_distrib1_opp)"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z)) =\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z))\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "also"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<oplus> t x) \\<cdot> t (n y \\<cdot> n z)) =\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z))\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "have \"... = (t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z) \\<oplus> (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "have f1: \"\\<And>a aa ab. n n (n (a::'a) \\<cdot> (n aa \\<cdot> n ab)) = n a \\<cdot> (n aa \\<cdot> n ab)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa ab.\n       t (n a \\<cdot> (n aa \\<cdot> n ab)) = n a \\<cdot> (n aa \\<cdot> n ab)", "by (metis (full_types) mult_t_closed)"], ["proof (state)\nthis:\n  t (n ?a \\<cdot> (n ?aa \\<cdot> n ?ab)) =\n  n ?a \\<cdot> (n ?aa \\<cdot> n ?ab)\n\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "have \"\\<And>a aa ab. n (a::'a) \\<cdot> (n aa \\<cdot> n ab) = n aa \\<cdot> (n ab \\<cdot> n a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa ab.\n       n a \\<cdot> (n aa \\<cdot> n ab) = n aa \\<cdot> (n ab \\<cdot> n a)", "by (metis mult_assoc n_comm)"], ["proof (state)\nthis:\n  n ?a \\<cdot> (n ?aa \\<cdot> n ?ab) = n ?aa \\<cdot> (n ?ab \\<cdot> n ?a)\n\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "hence \"n (n (n y \\<cdot> n n x) \\<cdot> n n (n (n x \\<cdot> n z) \\<cdot> (n (n x \\<cdot> n y \\<cdot> n z) \\<cdot> n (n y \\<cdot> n n x \\<cdot> n z)))) = n (n (n y \\<cdot> n n x) \\<cdot> n (n y \\<cdot> n n x \\<cdot> n z) \\<cdot> (n (n x \\<cdot> n z) \\<cdot> n (n x \\<cdot> n y \\<cdot> n z)))\""], ["proof (prove)\nusing this:\n  n ?a \\<cdot> (n ?aa \\<cdot> n ?ab) = n ?aa \\<cdot> (n ?ab \\<cdot> n ?a)\n\ngoal (1 subgoal):\n 1. n (n (n y \\<cdot> t x) \\<cdot>\n       t (n (n x \\<cdot> n z) \\<cdot>\n          (n (n x \\<cdot> n y \\<cdot> n z) \\<cdot>\n           n (n y \\<cdot> t x \\<cdot> n z)))) =\n    n (n (n y \\<cdot> t x) \\<cdot> n (n y \\<cdot> t x \\<cdot> n z) \\<cdot>\n       (n (n x \\<cdot> n z) \\<cdot> n (n x \\<cdot> n y \\<cdot> n z)))", "using f1 mult_assoc"], ["proof (prove)\nusing this:\n  n ?a \\<cdot> (n ?aa \\<cdot> n ?ab) = n ?aa \\<cdot> (n ?ab \\<cdot> n ?a)\n  t (n ?a \\<cdot> (n ?aa \\<cdot> n ?ab)) =\n  n ?a \\<cdot> (n ?aa \\<cdot> n ?ab)\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. n (n (n y \\<cdot> t x) \\<cdot>\n       t (n (n x \\<cdot> n z) \\<cdot>\n          (n (n x \\<cdot> n y \\<cdot> n z) \\<cdot>\n           n (n y \\<cdot> t x \\<cdot> n z)))) =\n    n (n (n y \\<cdot> t x) \\<cdot> n (n y \\<cdot> t x \\<cdot> n z) \\<cdot>\n       (n (n x \\<cdot> n z) \\<cdot> n (n x \\<cdot> n y \\<cdot> n z)))", "by presburger"], ["proof (state)\nthis:\n  n (n (n y \\<cdot> t x) \\<cdot>\n     t (n (n x \\<cdot> n z) \\<cdot>\n        (n (n x \\<cdot> n y \\<cdot> n z) \\<cdot>\n         n (n y \\<cdot> t x \\<cdot> n z)))) =\n  n (n (n y \\<cdot> t x) \\<cdot> n (n y \\<cdot> t x \\<cdot> n z) \\<cdot>\n     (n (n x \\<cdot> n z) \\<cdot> n (n x \\<cdot> n y \\<cdot> n z)))\n\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "thus ?thesis"], ["proof (prove)\nusing this:\n  n (n (n y \\<cdot> t x) \\<cdot>\n     t (n (n x \\<cdot> n z) \\<cdot>\n        (n (n x \\<cdot> n y \\<cdot> n z) \\<cdot>\n         n (n y \\<cdot> t x \\<cdot> n z)))) =\n  n (n (n y \\<cdot> t x) \\<cdot> n (n y \\<cdot> t x \\<cdot> n z) \\<cdot>\n     (n (n x \\<cdot> n z) \\<cdot> n (n x \\<cdot> n y \\<cdot> n z)))\n\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "using mult_t_closed n_add_op_def n_comm"], ["proof (prove)\nusing this:\n  n (n (n y \\<cdot> t x) \\<cdot>\n     t (n (n x \\<cdot> n z) \\<cdot>\n        (n (n x \\<cdot> n y \\<cdot> n z) \\<cdot>\n         n (n y \\<cdot> t x \\<cdot> n z)))) =\n  n (n (n y \\<cdot> t x) \\<cdot> n (n y \\<cdot> t x \\<cdot> n z) \\<cdot>\n     (n (n x \\<cdot> n z) \\<cdot> n (n x \\<cdot> n y \\<cdot> n z)))\n  t (n ?x \\<cdot> n ?y) = n ?x \\<cdot> n ?y\n  ?x \\<oplus> ?y \\<equiv> n (n ?x \\<cdot> n ?y)\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus>\n    (n x \\<cdot> n z \\<oplus>\n     (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n    t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)", "by presburger"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n  t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n  t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "also"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus>\n  (n x \\<cdot> n z \\<oplus>\n   (n x \\<cdot> n y \\<cdot> n z \\<oplus> t x \\<cdot> n y \\<cdot> n z)) =\n  t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "have \"... = (t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z) \\<oplus> (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z) =\n    t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y)", "using mult_assoc mult_t_closed n_comm"], ["proof (prove)\nusing this:\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n  t (n ?x \\<cdot> n ?y) = n ?x \\<cdot> n ?y\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z) =\n    t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y)", "by presburger"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z) =\n  t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "also"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus> t x \\<cdot> n y \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> n x \\<cdot> n y \\<cdot> n z) =\n  t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "have \"... = (t x \\<cdot> n y \\<cdot> (1 \\<oplus> n z)) \\<oplus> (n x \\<cdot> n z \\<cdot> (1 \\<oplus> n y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z \\<oplus>\n    (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y) =\n    t x \\<cdot> n y \\<cdot> ((1::'a) \\<oplus> n z) \\<oplus>\n    n x \\<cdot> n z \\<cdot> ((1::'a) \\<oplus> n y)", "by (metis a_zero_def n_add_op_def local.mult_1_right local.tm1 mult_t_closed n_absorb1 zero_least2)"], ["proof (state)\nthis:\n  t x \\<cdot> n y \\<oplus> t (t x \\<cdot> n y) \\<cdot> n z \\<oplus>\n  (n x \\<cdot> n z \\<oplus> t (n x \\<cdot> n z) \\<cdot> n y) =\n  t x \\<cdot> n y \\<cdot> ((1::'a) \\<oplus> n z) \\<oplus>\n  n x \\<cdot> n z \\<cdot> ((1::'a) \\<oplus> n y)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "finally"], ["proof (chain)\npicking this:\n  (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n  t x \\<cdot> n y \\<cdot> ((1::'a) \\<oplus> n z) \\<oplus>\n  n x \\<cdot> n z \\<cdot> ((1::'a) \\<oplus> n y)", "show ?thesis"], ["proof (prove)\nusing this:\n  (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n  t x \\<cdot> n y \\<cdot> ((1::'a) \\<oplus> n z) \\<oplus>\n  n x \\<cdot> n z \\<cdot> ((1::'a) \\<oplus> n y)\n\ngoal (1 subgoal):\n 1. (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n    t x \\<cdot> n y \\<oplus> n x \\<cdot> n z", "by simp"], ["proof (state)\nthis:\n  (n x \\<oplus> n y) \\<cdot> (t x \\<oplus> n z) =\n  t x \\<cdot> n y \\<oplus> n x \\<cdot> n z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_dist_var2: \"n (n x \\<cdot> n y \\<oplus> t x \\<cdot> n z) = n x \\<cdot> t y \\<oplus> t x \\<cdot> t z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n x \\<cdot> n y \\<oplus> t x \\<cdot> n z) =\n    n x \\<cdot> t y \\<oplus> t x \\<cdot> t z", "by (metis (no_types) n_add_op_def n_dist_var1 n_t_closed)"], ["", "end"], ["", "subsection \\<open>Test Near-Semirings\\<close>"], ["", "class test_near_semiring_zerol = ab_near_semiring_one_zerol + n_op + plus_ord + \n  assumes test_one [simp]: \"n n 1 = 1\" \n  and test_mult [simp]: \"n n (n x \\<cdot> n y) = n x \\<cdot> n y\" \n  and test_mult_comp [simp]: \"n x \\<cdot> n n x = 0\"\n  and test_de_morgan [simp]: \"n (n n x \\<cdot> n n y) = n x + n y\"  \n\nbegin"], ["", "lemma n_zero [simp]: \"n 0 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (0::'a) = (1::'a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n (0::'a) = (1::'a)", "have \"n 0 = n (n 1 \\<cdot> n n 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (0::'a) = n (n (1::'a) \\<cdot> n n (1::'a))", "using local.test_mult_comp"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> n n ?x = (0::'a)\n\ngoal (1 subgoal):\n 1. n (0::'a) = n (n (1::'a) \\<cdot> n n (1::'a))", "by presburger"], ["proof (state)\nthis:\n  n (0::'a) = n (n (1::'a) \\<cdot> n n (1::'a))\n\ngoal (1 subgoal):\n 1. n (0::'a) = (1::'a)", "also"], ["proof (state)\nthis:\n  n (0::'a) = n (n (1::'a) \\<cdot> n n (1::'a))\n\ngoal (1 subgoal):\n 1. n (0::'a) = (1::'a)", "have \"... = n (n 1 \\<cdot> 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n (1::'a) \\<cdot> n n (1::'a)) = n (n (1::'a) \\<cdot> (1::'a))", "by simp"], ["proof (state)\nthis:\n  n (n (1::'a) \\<cdot> n n (1::'a)) = n (n (1::'a) \\<cdot> (1::'a))\n\ngoal (1 subgoal):\n 1. n (0::'a) = (1::'a)", "finally"], ["proof (chain)\npicking this:\n  n (0::'a) = n (n (1::'a) \\<cdot> (1::'a))", "show ?thesis"], ["proof (prove)\nusing this:\n  n (0::'a) = n (n (1::'a) \\<cdot> (1::'a))\n\ngoal (1 subgoal):\n 1. n (0::'a) = (1::'a)", "by simp"], ["proof (state)\nthis:\n  n (0::'a) = (1::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_one [simp]: \"n 1 = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "have \"n 1 = n 1 \\<cdot> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (1::'a) = n (1::'a) \\<cdot> (1::'a)", "by simp"], ["proof (state)\nthis:\n  n (1::'a) = n (1::'a) \\<cdot> (1::'a)\n\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "also"], ["proof (state)\nthis:\n  n (1::'a) = n (1::'a) \\<cdot> (1::'a)\n\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "have \"... = n 1 \\<cdot> n n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (1::'a) \\<cdot> (1::'a) = n (1::'a) \\<cdot> n n (1::'a)", "by simp"], ["proof (state)\nthis:\n  n (1::'a) \\<cdot> (1::'a) = n (1::'a) \\<cdot> n n (1::'a)\n\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "finally"], ["proof (chain)\npicking this:\n  n (1::'a) = n (1::'a) \\<cdot> n n (1::'a)", "show ?thesis"], ["proof (prove)\nusing this:\n  n (1::'a) = n (1::'a) \\<cdot> n n (1::'a)\n\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "using test_mult_comp"], ["proof (prove)\nusing this:\n  n (1::'a) = n (1::'a) \\<cdot> n n (1::'a)\n  n ?x \\<cdot> n n ?x = (0::'a)\n\ngoal (1 subgoal):\n 1. n (1::'a) = (0::'a)", "by metis"], ["proof (state)\nthis:\n  n (1::'a) = (0::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma one_idem [simp]: \"1 + 1 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "have \"1 + 1 = n n 1 + n n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = n n (1::'a) + n n (1::'a)", "by simp"], ["proof (state)\nthis:\n  (1::'a) + (1::'a) = n n (1::'a) + n n (1::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "also"], ["proof (state)\nthis:\n  (1::'a) + (1::'a) = n n (1::'a) + n n (1::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "have \"... = n (n n n 1 \\<cdot> n n n 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n n (1::'a) + n n (1::'a) = n (n n n (1::'a) \\<cdot> n n n (1::'a))", "using local.test_de_morgan"], ["proof (prove)\nusing this:\n  n (n n ?x \\<cdot> n n ?y) = n ?x + n ?y\n\ngoal (1 subgoal):\n 1. n n (1::'a) + n n (1::'a) = n (n n n (1::'a) \\<cdot> n n n (1::'a))", "by presburger"], ["proof (state)\nthis:\n  n n (1::'a) + n n (1::'a) = n (n n n (1::'a) \\<cdot> n n n (1::'a))\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "also"], ["proof (state)\nthis:\n  n n (1::'a) + n n (1::'a) = n (n n n (1::'a) \\<cdot> n n n (1::'a))\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "have \"... = n (0 \\<cdot> n n n 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n n n (1::'a) \\<cdot> n n n (1::'a)) =\n    n ((0::'a) \\<cdot> n n n (1::'a))", "by simp"], ["proof (state)\nthis:\n  n (n n n (1::'a) \\<cdot> n n n (1::'a)) =\n  n ((0::'a) \\<cdot> n n n (1::'a))\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "also"], ["proof (state)\nthis:\n  n (n n n (1::'a) \\<cdot> n n n (1::'a)) =\n  n ((0::'a) \\<cdot> n n n (1::'a))\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "have \"... = n 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n ((0::'a) \\<cdot> n n n (1::'a)) = n (0::'a)", "by simp"], ["proof (state)\nthis:\n  n ((0::'a) \\<cdot> n n n (1::'a)) = n (0::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "finally"], ["proof (chain)\npicking this:\n  (1::'a) + (1::'a) = n (0::'a)", "show ?thesis"], ["proof (prove)\nusing this:\n  (1::'a) + (1::'a) = n (0::'a)\n\ngoal (1 subgoal):\n 1. (1::'a) + (1::'a) = (1::'a)", "by simp"], ["proof (state)\nthis:\n  (1::'a) + (1::'a) = (1::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "subclass near_dioid_one_zerol"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.near_dioid_one_zerol (+) (\\<cdot>) (1::'a) (0::'a) (\\<le>) (<)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x + x = x", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x + x = x", "have \"x + x = (1 + 1) \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x + x = ((1::'a) + (1::'a)) \\<cdot> x", "using local.distrib_right' local.mult_onel"], ["proof (prove)\nusing this:\n  (?x + ?y) \\<cdot> ?z = ?x \\<cdot> ?z + ?y \\<cdot> ?z\n  (1::'a) \\<cdot> ?x = ?x\n\ngoal (1 subgoal):\n 1. x + x = ((1::'a) + (1::'a)) \\<cdot> x", "by presburger"], ["proof (state)\nthis:\n  x + x = ((1::'a) + (1::'a)) \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<And>x. x + x = x", "also"], ["proof (state)\nthis:\n  x + x = ((1::'a) + (1::'a)) \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<And>x. x + x = x", "have \"... = 1 \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((1::'a) + (1::'a)) \\<cdot> x = (1::'a) \\<cdot> x", "by simp"], ["proof (state)\nthis:\n  ((1::'a) + (1::'a)) \\<cdot> x = (1::'a) \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<And>x. x + x = x", "finally"], ["proof (chain)\npicking this:\n  x + x = (1::'a) \\<cdot> x", "show \"x + x = x\""], ["proof (prove)\nusing this:\n  x + x = (1::'a) \\<cdot> x\n\ngoal (1 subgoal):\n 1. x + x = x", "by simp"], ["proof (state)\nthis:\n  x + x = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma t_n_closed [simp]: \"n n (n x) = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n n n x = n x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n n n x = n x", "have \"n n (n x) = n (n n x \\<cdot> 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n n n x = n (n n x \\<cdot> (1::'a))", "by simp"], ["proof (state)\nthis:\n  n n n x = n (n n x \\<cdot> (1::'a))\n\ngoal (1 subgoal):\n 1. n n n x = n x", "also"], ["proof (state)\nthis:\n  n n n x = n (n n x \\<cdot> (1::'a))\n\ngoal (1 subgoal):\n 1. n n n x = n x", "have \"... = n (n n x \\<cdot> n n 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n n x \\<cdot> (1::'a)) = n (n n x \\<cdot> n n (1::'a))", "by simp"], ["proof (state)\nthis:\n  n (n n x \\<cdot> (1::'a)) = n (n n x \\<cdot> n n (1::'a))\n\ngoal (1 subgoal):\n 1. n n n x = n x", "also"], ["proof (state)\nthis:\n  n (n n x \\<cdot> (1::'a)) = n (n n x \\<cdot> n n (1::'a))\n\ngoal (1 subgoal):\n 1. n n n x = n x", "have \"... = n x + n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n n x \\<cdot> n n (1::'a)) = n x + n (1::'a)", "using local.test_de_morgan"], ["proof (prove)\nusing this:\n  n (n n ?x \\<cdot> n n ?y) = n ?x + n ?y\n\ngoal (1 subgoal):\n 1. n (n n x \\<cdot> n n (1::'a)) = n x + n (1::'a)", "by presburger"], ["proof (state)\nthis:\n  n (n n x \\<cdot> n n (1::'a)) = n x + n (1::'a)\n\ngoal (1 subgoal):\n 1. n n n x = n x", "also"], ["proof (state)\nthis:\n  n (n n x \\<cdot> n n (1::'a)) = n x + n (1::'a)\n\ngoal (1 subgoal):\n 1. n n n x = n x", "have \"... = n x + 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x + n (1::'a) = n x + (0::'a)", "by simp"], ["proof (state)\nthis:\n  n x + n (1::'a) = n x + (0::'a)\n\ngoal (1 subgoal):\n 1. n n n x = n x", "finally"], ["proof (chain)\npicking this:\n  n n n x = n x + (0::'a)", "show ?thesis"], ["proof (prove)\nusing this:\n  n n n x = n x + (0::'a)\n\ngoal (1 subgoal):\n 1. n n n x = n x", "by simp"], ["proof (state)\nthis:\n  n n n x = n x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma t_de_morgan_var1 [simp]: \"n (n x \\<cdot> n y) = n n x + n n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n x \\<cdot> n y) = n n x + n n y", "by (metis local.test_de_morgan t_n_closed)"], ["", "lemma n_mult_comm: \"n x \\<cdot> n y = n y \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "have \"n x \\<cdot> n y = n n (n x \\<cdot> n y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n n (n x \\<cdot> n y)", "by (metis local.test_mult)"], ["proof (state)\nthis:\n  n x \\<cdot> n y = n n (n x \\<cdot> n y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "also"], ["proof (state)\nthis:\n  n x \\<cdot> n y = n n (n x \\<cdot> n y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "have \"... = n (n n x + n n y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n n (n x \\<cdot> n y) = n (n n x + n n y)", "by simp"], ["proof (state)\nthis:\n  n n (n x \\<cdot> n y) = n (n n x + n n y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "also"], ["proof (state)\nthis:\n  n n (n x \\<cdot> n y) = n (n n x + n n y)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "have \"... = n (n n y + n n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n n x + n n y) = n (n n y + n n x)", "by (metis add_commute)"], ["proof (state)\nthis:\n  n (n n x + n n y) = n (n n y + n n x)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "also"], ["proof (state)\nthis:\n  n (n n x + n n y) = n (n n y + n n x)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "have \"... = n n (n y \\<cdot> n x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n n y + n n x) = n n (n y \\<cdot> n x)", "by simp"], ["proof (state)\nthis:\n  n (n n y + n n x) = n n (n y \\<cdot> n x)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "finally"], ["proof (chain)\npicking this:\n  n x \\<cdot> n y = n n (n y \\<cdot> n x)", "show ?thesis"], ["proof (prove)\nusing this:\n  n x \\<cdot> n y = n n (n y \\<cdot> n x)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n y = n y \\<cdot> n x", "by (metis local.test_mult)"], ["proof (state)\nthis:\n  n x \\<cdot> n y = n y \\<cdot> n x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tm3': \"n x \\<cdot> n (n n z \\<cdot> n n y) = n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "have \"n x \\<cdot> n (n n z \\<cdot> n n y) = n (n n y \\<cdot> n n z) \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n n y \\<cdot> n n z) \\<cdot> n x", "using n_mult_comm"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> n ?y = n ?y \\<cdot> n ?x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n n y \\<cdot> n n z) \\<cdot> n x", "by presburger"], ["proof (state)\nthis:\n  n x \\<cdot> n (n n z \\<cdot> n n y) = n (n n y \\<cdot> n n z) \\<cdot> n x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "also"], ["proof (state)\nthis:\n  n x \\<cdot> n (n n z \\<cdot> n n y) = n (n n y \\<cdot> n n z) \\<cdot> n x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "have \"... = (n y + n z) \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n (n n y \\<cdot> n n z) \\<cdot> n x = (n y + n z) \\<cdot> n x", "by simp"], ["proof (state)\nthis:\n  n (n n y \\<cdot> n n z) \\<cdot> n x = (n y + n z) \\<cdot> n x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "also"], ["proof (state)\nthis:\n  n (n n y \\<cdot> n n z) \\<cdot> n x = (n y + n z) \\<cdot> n x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "have \"... = n y \\<cdot> n x + n z \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n y + n z) \\<cdot> n x = n y \\<cdot> n x + n z \\<cdot> n x", "by simp"], ["proof (state)\nthis:\n  (n y + n z) \\<cdot> n x = n y \\<cdot> n x + n z \\<cdot> n x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "also"], ["proof (state)\nthis:\n  (n y + n z) \\<cdot> n x = n y \\<cdot> n x + n z \\<cdot> n x\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "have \"... = n n (n x \\<cdot> n y) + n n (n x \\<cdot> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n y \\<cdot> n x + n z \\<cdot> n x =\n    n n (n x \\<cdot> n y) + n n (n x \\<cdot> n z)", "by (metis local.test_mult n_mult_comm)"], ["proof (state)\nthis:\n  n y \\<cdot> n x + n z \\<cdot> n x =\n  n n (n x \\<cdot> n y) + n n (n x \\<cdot> n z)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "finally"], ["proof (chain)\npicking this:\n  n x \\<cdot> n (n n z \\<cdot> n n y) =\n  n n (n x \\<cdot> n y) + n n (n x \\<cdot> n z)", "show ?thesis"], ["proof (prove)\nusing this:\n  n x \\<cdot> n (n n z \\<cdot> n n y) =\n  n n (n x \\<cdot> n y) + n n (n x \\<cdot> n z)\n\ngoal (1 subgoal):\n 1. n x \\<cdot> n (n n z \\<cdot> n n y) =\n    n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "by (metis t_de_morgan_var1)"], ["proof (state)\nthis:\n  n x \\<cdot> n (n n z \\<cdot> n n y) =\n  n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))\n\ngoal:\nNo subgoals!", "qed"], ["", "subclass test_monoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.test_monoid (1::'a) (\\<cdot>) n_op", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. n n (1::'a) = (1::'a)\n 2. \\<And>x. n x \\<cdot> n n x = n (1::'a)\n 3. \\<And>x z y.\n       n x \\<cdot> n (n n z \\<cdot> n n y) =\n       n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "show \"n n 1 = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n n (1::'a) = (1::'a)", "by simp"], ["proof (state)\nthis:\n  n n (1::'a) = (1::'a)\n\ngoal (2 subgoals):\n 1. \\<And>x. n x \\<cdot> n n x = n (1::'a)\n 2. \\<And>x z y.\n       n x \\<cdot> n (n n z \\<cdot> n n y) =\n       n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "show \"\\<And>x. n x \\<cdot> n n x = n 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. n x \\<cdot> n n x = n (1::'a)", "by simp"], ["proof (state)\nthis:\n  n ?x1 \\<cdot> n n ?x1 = n (1::'a)\n\ngoal (1 subgoal):\n 1. \\<And>x z y.\n       n x \\<cdot> n (n n z \\<cdot> n n y) =\n       n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "show \" \\<And>x z y. n x \\<cdot> n (n n z \\<cdot> n n y) = n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x z y.\n       n x \\<cdot> n (n n z \\<cdot> n n y) =\n       n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "using tm3'"], ["proof (prove)\nusing this:\n  n ?x \\<cdot> n (n n ?z \\<cdot> n n ?y) =\n  n (n (n ?x \\<cdot> n ?y) \\<cdot> n (n ?x \\<cdot> n ?z))\n\ngoal (1 subgoal):\n 1. \\<And>x z y.\n       n x \\<cdot> n (n n z \\<cdot> n n y) =\n       n (n (n x \\<cdot> n y) \\<cdot> n (n x \\<cdot> n z))", "by blast"], ["proof (state)\nthis:\n  n ?x1 \\<cdot> n (n n ?z1 \\<cdot> n n ?y1) =\n  n (n (n ?x1 \\<cdot> n ?y1) \\<cdot> n (n ?x1 \\<cdot> n ?z1))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ord_transl [simp]: \"n x \\<le> n y \\<longleftrightarrow> n x \\<sqsubseteq> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (n x \\<le> n y) = (n x \\<sqsubseteq> n y)", "by (simp add: local.join.sup.absorb_iff2 local.n_add_op_def local.ts_ord_alt)"], ["", "lemma add_transl [simp]: \"n x + n y = n x \\<oplus> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n x + n y = n x \\<oplus> n y", "by (simp add: local.n_add_op_def)"], ["", "lemma zero_trans: \"0 = o\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a) = o", "by (metis local.a_zero_def n_one)"], ["", "definition test :: \"'a \\<Rightarrow> bool\" where\n  \"test p \\<equiv> t p = p\""], ["", "notation n_op (\"!_\" [101] 100)"], ["", "lemma test_prop: \"(\\<forall>x. test x \\<longrightarrow> P x) \\<longleftrightarrow> (\\<forall>x. P (t x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>x. test x \\<longrightarrow> P x) = (\\<forall>x. P (t x))", "by (metis test_def t_n_closed)"], ["", "lemma test_propI: \"test x \\<Longrightarrow> P x \\<Longrightarrow> P (t x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test x; P x\\<rbrakk> \\<Longrightarrow> P (t x)", "by (simp add: test_def)"], ["", "lemma test_propE [elim!]: \"test x \\<Longrightarrow> P (t x) \\<Longrightarrow> P x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test x; P (t x)\\<rbrakk> \\<Longrightarrow> P x", "by (simp add: test_def)"], ["", "lemma test_comp_closed [simp]: \"test p \\<Longrightarrow> test (!p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> test (!p)", "by (simp add: test_def)"], ["", "lemma test_double_comp_var: \"test p \\<Longrightarrow> p = !(!p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p = t p", "by auto"], ["", "lemma test_mult_closed: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test (p \\<cdot> q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> test (p \\<cdot> q)", "by (metis local.test_mult test_def)"], ["", "lemma t_add_closed [simp]: \"t (n x + n y) = n x + n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t (!x + !y) = !x + !y", "by (metis local.test_de_morgan t_n_closed)"], ["", "lemma test_add_closed: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test (p + q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> test (p + q)", "by (metis t_add_closed test_def)"], ["", "lemma test_mult_comm_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q = q \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> q = q \\<cdot> p", "using n_mult_comm"], ["proof (prove)\nusing this:\n  !?x \\<cdot> !?y = !?y \\<cdot> !?x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> q = q \\<cdot> p", "by auto"], ["", "lemma t_zero [simp]: \"t 0 = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t (0::'a) = (0::'a)", "by simp"], ["", "lemma test_zero_var: \"test 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test (0::'a)", "by (simp add: test_def)"], ["", "lemma test_one_var: \"test 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test (1::'a)", "by (simp add: test_def)"], ["", "lemma test_preserve: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<cdot> p = q \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> q \\<cdot> p = q \\<cdot> p", "by auto"], ["", "lemma test_preserve2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<cdot> !p = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> q \\<cdot> !p = (0::'a)", "by (metis local.a_zero_def local.n_preserve2 n_one test_double_comp_var)"], ["", "lemma n_subid': \"n x \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<le> (1::'a)", "using local.n_subid n_zero ord_transl"], ["proof (prove)\nusing this:\n  !?x \\<sqsubseteq> (1::'a)\n  !(0::'a) = (1::'a)\n  (!?x \\<le> !?y) = (!?x \\<sqsubseteq> !?y)\n\ngoal (1 subgoal):\n 1. !x \\<le> (1::'a)", "by blast"], ["", "lemma test_subid: \"test p \\<Longrightarrow> p \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<le> (1::'a)", "using n_subid'"], ["proof (prove)\nusing this:\n  !?x \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<le> (1::'a)", "by auto"], ["", "lemma test_mult_idem_var [simp]: \"test p \\<Longrightarrow> p \\<cdot> p = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<cdot> p = p", "by auto"], ["", "lemma n_add_comp [simp]: \"n x + t x = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x + t x = (1::'a)", "by simp"], ["", "lemma n_add_comp_var [simp]: \"t x + n x = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x + !x = (1::'a)", "by (simp add: add_commute)"], ["", "lemma test_add_comp [simp]: \"test p \\<Longrightarrow> p + !p = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p + !p = (1::'a)", "using n_add_comp"], ["proof (prove)\nusing this:\n  !?x + t ?x = (1::'a)\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p + !p = (1::'a)", "by fastforce"], ["", "lemma test_comp_mult1 [simp]: \"test p \\<Longrightarrow> !p \\<cdot> p = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> !p \\<cdot> p = (0::'a)", "by auto"], ["", "lemma test_comp_mult2 [simp]: \"test p \\<Longrightarrow> p \\<cdot> !p = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<cdot> !p = (0::'a)", "using local.test_mult_comp"], ["proof (prove)\nusing this:\n  !?x \\<cdot> t ?x = (0::'a)\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<cdot> !p = (0::'a)", "by fastforce"], ["", "lemma test_comp: \"test p \\<Longrightarrow> \\<exists>q. test q \\<and> p + q = 1 \\<and> p \\<cdot> q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    \\<exists>q. test q \\<and> p + q = (1::'a) \\<and> p \\<cdot> q = (0::'a)", "using test_add_comp test_comp_closed test_comp_mult2"], ["proof (prove)\nusing this:\n  test ?p \\<Longrightarrow> ?p + !?p = (1::'a)\n  test ?p \\<Longrightarrow> test (!?p)\n  test ?p \\<Longrightarrow> ?p \\<cdot> !?p = (0::'a)\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    \\<exists>q. test q \\<and> p + q = (1::'a) \\<and> p \\<cdot> q = (0::'a)", "by blast"], ["", "lemma n_absorb1' [simp]: \"n x + n x \\<cdot> n y = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x + !x \\<cdot> !y = !x", "by (metis add_transl local.de_morgan4 local.n_absorb1)"], ["", "lemma test_absorb1 [simp]: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p + p \\<cdot> q = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p + p \\<cdot> q = p", "by auto"], ["", "lemma n_absorb2' [simp]: \"n x \\<cdot> (n x + n y) = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> (!x + !y) = !x", "by simp"], ["", "lemma test_absorb2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> (p + q) = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> (p + q) = p", "by auto"], ["", "lemma n_distrib_left: \"n x \\<cdot> (n y + n z) = (n x \\<cdot> n y) + (n x \\<cdot> n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> (!y + !z) = !x \\<cdot> !y + !x \\<cdot> !z", "by (metis (no_types) add_transl local.de_morgan4 local.n_distrib1)"], ["", "lemma test_distrib_left: \"test p \\<Longrightarrow>  test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> (q + r) = p \\<cdot> q + p \\<cdot> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q + r) = p \\<cdot> q + p \\<cdot> r", "using n_distrib_left"], ["proof (prove)\nusing this:\n  !?x \\<cdot> (!?y + !?z) = !?x \\<cdot> !?y + !?x \\<cdot> !?z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q + r) = p \\<cdot> q + p \\<cdot> r", "by auto"], ["", "lemma de_morgan1': \"test p \\<Longrightarrow> test q \\<Longrightarrow> !p + !q = !(p \\<cdot> q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !p + !q = !(p \\<cdot> q)", "by auto"], ["", "lemma n_de_morgan_var2 [simp]: \"n (n x + n y) = t x \\<cdot> t y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !(!x + !y) = t x \\<cdot> t y", "by (metis local.test_de_morgan local.test_mult)"], ["", "lemma n_de_morgan_var3 [simp]: \"n (t x + t y) = n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !(t x + t y) = !x \\<cdot> !y", "by simp"], ["", "lemma de_morgan2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !p \\<cdot> !q = !(p + q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> !q = !(p + q)", "by auto"], ["", "lemma de_morgan3: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !(!p + !q) = p \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(!p + !q) = p \\<cdot> q", "using local.de_morgan1' local.t_mult_closure test_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>test ?p; test ?q\\<rbrakk>\n  \\<Longrightarrow> !?p + !?q = !(?p \\<cdot> ?q)\n  \\<lbrakk>t ?x = ?x; t ?y = ?y\\<rbrakk>\n  \\<Longrightarrow> t (?x \\<cdot> ?y) = ?x \\<cdot> ?y\n  test ?p \\<equiv> t ?p = ?p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(!p + !q) = p \\<cdot> q", "by auto"], ["", "lemma de_morgan4': \"test p \\<Longrightarrow> test q \\<Longrightarrow> !(!p \\<cdot> !q) = p + q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(!p \\<cdot> !q) = p + q", "by auto"], ["", "lemma n_add_distr: \"n x + (n y \\<cdot> n z) = (n x + n y) \\<cdot> (n x + n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x + !y \\<cdot> !z = (!x + !y) \\<cdot> (!x + !z)", "by (metis add_transl local.n_distrib2 n_de_morgan_var3)"], ["", "lemma test_add_distr: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p + q \\<cdot> r = (p + q) \\<cdot> (p + r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p + q \\<cdot> r = (p + q) \\<cdot> (p + r)", "using n_add_distr"], ["proof (prove)\nusing this:\n  !?x + !?y \\<cdot> !?z = (!?x + !?y) \\<cdot> (!?x + !?z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p + q \\<cdot> r = (p + q) \\<cdot> (p + r)", "by fastforce"], ["", "lemma n_add_distl: \"(n x \\<cdot> n y) + n z = (n x + n z) \\<cdot> (n y + n z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> !y + !z = (!x + !z) \\<cdot> (!y + !z)", "by (simp add: add_commute n_add_distr)"], ["", "lemma test_add_distl_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> q + r = (p + r) \\<cdot> (q + r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> q + r = (p + r) \\<cdot> (q + r)", "by (simp add: add_commute test_add_distr)"], ["", "lemma n_ord_def_alt: \"n x \\<le> n y \\<longleftrightarrow> n x \\<cdot> n y = n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<le> !y) = (!x \\<cdot> !y = !x)", "by (metis (no_types) local.join.sup.absorb_iff2 local.n_absorb2' local.n_mult_lb2 ord_transl)"], ["", "lemma test_leq_mult_def_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<le> q \\<longleftrightarrow> p \\<cdot> q = p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q) = (p \\<cdot> q = p)", "using n_ord_def_alt"], ["proof (prove)\nusing this:\n  (!?x \\<le> !?y) = (!?x \\<cdot> !?y = !?x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q) = (p \\<cdot> q = p)", "by auto"], ["", "lemma n_anti: \"n x \\<le> n y \\<Longrightarrow> t y \\<le> t x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<le> !y \\<Longrightarrow> t y \\<le> t x", "using local.ts_ord_anti ord_transl"], ["proof (prove)\nusing this:\n  !?x \\<sqsubseteq> !?y \\<Longrightarrow> t ?y \\<sqsubseteq> t ?x\n  (!?x \\<le> !?y) = (!?x \\<sqsubseteq> !?y)\n\ngoal (1 subgoal):\n 1. !x \\<le> !y \\<Longrightarrow> t y \\<le> t x", "by blast"], ["", "lemma n_anti_iff: \"n x \\<le> n y \\<longleftrightarrow> t y \\<le> t x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<le> !y) = (t y \\<le> t x)", "using n_anti"], ["proof (prove)\nusing this:\n  !?x \\<le> !?y \\<Longrightarrow> t ?y \\<le> t ?x\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y) = (t y \\<le> t x)", "by fastforce"], ["", "lemma test_comp_anti_iff: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<le> q \\<longleftrightarrow> !q \\<le> !p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q) = (!q \\<le> !p)", "using n_anti_iff"], ["proof (prove)\nusing this:\n  (!?x \\<le> !?y) = (t ?y \\<le> t ?x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q) = (!q \\<le> !p)", "by auto"], ["", "lemma n_restrictl: \"n x \\<cdot> y \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y", "using local.mult_isor n_subid'"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> ?x \\<cdot> ?z \\<le> ?y \\<cdot> ?z\n  !?x \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y", "by fastforce"], ["", "lemma test_restrictl: \"test p \\<Longrightarrow> p \\<cdot> x \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<cdot> x \\<le> x", "by (auto simp: n_restrictl)"], ["", "lemma n_mult_lb1': \"n x \\<cdot> n y \\<le> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> !y \\<le> !x", "by (simp add: local.join.sup.orderI)"], ["", "lemma test_mult_lb1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<le> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> q \\<le> p", "by (auto simp: n_mult_lb1')"], ["", "lemma n_mult_lb2': \"n x \\<cdot> n y \\<le> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> !y \\<le> !y", "by (fact local.n_restrictl)"], ["", "lemma test_mult_lb2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> q \\<le> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> q \\<le> q", "by (rule test_restrictl)"], ["", "lemma n_mult_glbI': \"n z \\<le> n x \\<Longrightarrow>  n z \\<le> n y \\<Longrightarrow> n z \\<le> n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<le> !x; !z \\<le> !y\\<rbrakk>\n    \\<Longrightarrow> !z \\<le> !x \\<cdot> !y", "by (metis mult_isor n_ord_def_alt)"], ["", "lemma test_mult_glbI:  \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> q \\<Longrightarrow> p \\<le> r \\<Longrightarrow> p \\<le> q \\<cdot> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<le> q; p \\<le> r\\<rbrakk>\n    \\<Longrightarrow> p \\<le> q \\<cdot> r", "by (metis (no_types) local.mult_isor test_leq_mult_def_var)"], ["", "lemma n_mult_glb': \"n z \\<le> n x \\<and> n z \\<le> n y \\<longleftrightarrow> n z \\<le> n x \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!z \\<le> !x \\<and> !z \\<le> !y) = (!z \\<le> !x \\<cdot> !y)", "using local.order_trans n_mult_glbI' n_mult_lb1' n_mult_lb2'"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<le> ?y; ?y \\<le> ?z\\<rbrakk> \\<Longrightarrow> ?x \\<le> ?z\n  \\<lbrakk>!?z \\<le> !?x; !?z \\<le> !?y\\<rbrakk>\n  \\<Longrightarrow> !?z \\<le> !?x \\<cdot> !?y\n  !?x \\<cdot> !?y \\<le> !?x\n  !?x \\<cdot> !?y \\<le> !?y\n\ngoal (1 subgoal):\n 1. (!z \\<le> !x \\<and> !z \\<le> !y) = (!z \\<le> !x \\<cdot> !y)", "by blast"], ["", "lemma test_mult_glb: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> q \\<and> p \\<le> r \\<longleftrightarrow> p \\<le> q \\<cdot> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q \\<and> p \\<le> r) = (p \\<le> q \\<cdot> r)", "using local.n_mult_glb'"], ["proof (prove)\nusing this:\n  (!?z \\<le> !?x \\<and> !?z \\<le> !?y) = (!?z \\<le> !?x \\<cdot> !?y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q \\<and> p \\<le> r) = (p \\<le> q \\<cdot> r)", "by force"], ["", "lemma n_galois1': \"n x \\<le> n y + n z \\<longleftrightarrow> n x \\<cdot> t y \\<le> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "have \"n x \\<le> n y + n z \\<longleftrightarrow> n x \\<sqsubseteq> n y \\<oplus> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<sqsubseteq> !y \\<oplus> !z)", "by (metis local.test_de_morgan ord_transl n_add_op_def)"], ["proof (state)\nthis:\n  (!x \\<le> !y + !z) = (!x \\<sqsubseteq> !y \\<oplus> !z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "also"], ["proof (state)\nthis:\n  (!x \\<le> !y + !z) = (!x \\<sqsubseteq> !y \\<oplus> !z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "have \"... \\<longleftrightarrow> n x \\<cdot> t y \\<sqsubseteq> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<sqsubseteq> !y \\<oplus> !z) = (!x \\<cdot> t y \\<sqsubseteq> !z)", "using local.n_galois1"], ["proof (prove)\nusing this:\n  (!?x \\<sqsubseteq> !?y \\<oplus> !?z) =\n  (!?x \\<cdot> t ?y \\<sqsubseteq> !?z)\n\ngoal (1 subgoal):\n 1. (!x \\<sqsubseteq> !y \\<oplus> !z) = (!x \\<cdot> t y \\<sqsubseteq> !z)", "by auto"], ["proof (state)\nthis:\n  (!x \\<sqsubseteq> !y \\<oplus> !z) = (!x \\<cdot> t y \\<sqsubseteq> !z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "also"], ["proof (state)\nthis:\n  (!x \\<sqsubseteq> !y \\<oplus> !z) = (!x \\<cdot> t y \\<sqsubseteq> !z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "have \"... \\<longleftrightarrow> n x \\<cdot> t y \\<le> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> t y \\<sqsubseteq> !z) = (!x \\<cdot> t y \\<le> !z)", "by (metis local.test_mult ord_transl)"], ["proof (state)\nthis:\n  (!x \\<cdot> t y \\<sqsubseteq> !z) = (!x \\<cdot> t y \\<le> !z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "finally"], ["proof (chain)\npicking this:\n  (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "show ?thesis"], ["proof (prove)\nusing this:\n  (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)", "by simp"], ["proof (state)\nthis:\n  (!x \\<le> !y + !z) = (!x \\<cdot> t y \\<le> !z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_galois1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> q + r \\<longleftrightarrow> p \\<cdot> !q \\<le> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q + r) = (p \\<cdot> !q \\<le> r)", "using n_galois1'"], ["proof (prove)\nusing this:\n  (!?x \\<le> !?y + !?z) = (!?x \\<cdot> t ?y \\<le> !?z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> q + r) = (p \\<cdot> !q \\<le> r)", "by auto"], ["", "lemma n_galois2': \"n x \\<le> t y + n z \\<longleftrightarrow> n x \\<cdot> n y \\<le> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<le> t y + !z) = (!x \\<cdot> !y \\<le> !z)", "using local.n_galois1'"], ["proof (prove)\nusing this:\n  (!?x \\<le> !?y + !?z) = (!?x \\<cdot> t ?y \\<le> !?z)\n\ngoal (1 subgoal):\n 1. (!x \\<le> t y + !z) = (!x \\<cdot> !y \\<le> !z)", "by auto"], ["", "lemma test_galois2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<le> !q + r \\<longleftrightarrow> p \\<cdot> q \\<le> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> !q + r) = (p \\<cdot> q \\<le> r)", "using test_galois1"], ["proof (prove)\nusing this:\n  \\<lbrakk>test ?p; test ?q; test ?r\\<rbrakk>\n  \\<Longrightarrow> (?p \\<le> ?q + ?r) = (?p \\<cdot> !?q \\<le> ?r)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p \\<le> !q + r) = (p \\<cdot> q \\<le> r)", "by auto"], ["", "lemma n_huntington2: \"n (n x + t y) + n (n x + n y) = n n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !(!x + t y) + !(!x + !y) = t x", "by simp"], ["", "lemma test_huntington2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !(p + q) + !(p + !q) = !p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(p + q) + !(p + !q) = !p", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(p + q) + !(p + !q) = !p", "assume a1: \"test p\""], ["proof (state)\nthis:\n  test p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(p + q) + !(p + !q) = !p", "assume a2: \"test q\""], ["proof (state)\nthis:\n  test q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(p + q) + !(p + !q) = !p", "have \"p = !(!p)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p = t p", "using a1 test_double_comp_var"], ["proof (prove)\nusing this:\n  test p\n  test ?p \\<Longrightarrow> ?p = t ?p\n\ngoal (1 subgoal):\n 1. p = t p", "by blast"], ["proof (state)\nthis:\n  p = t p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> !(p + q) + !(p + !q) = !p", "thus ?thesis"], ["proof (prove)\nusing this:\n  p = t p\n\ngoal (1 subgoal):\n 1. !(p + q) + !(p + !q) = !p", "using a2"], ["proof (prove)\nusing this:\n  p = t p\n  test q\n\ngoal (1 subgoal):\n 1. !(p + q) + !(p + !q) = !p", "by (metis (full_types) n_huntington2 test_double_comp_var)"], ["proof (state)\nthis:\n  !(p + q) + !(p + !q) = !p\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_kat_1_opp: \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z \\<longleftrightarrow> t x \\<cdot> y \\<cdot> n z = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> !z = y \\<cdot> !z) =\n    (t x \\<cdot> y \\<cdot> !z = (0::'a))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z \\<Longrightarrow>\n    t x \\<cdot> y \\<cdot> !z = (0::'a)\n 2. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "assume \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z\""], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z\n\ngoal (2 subgoals):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z \\<Longrightarrow>\n    t x \\<cdot> y \\<cdot> !z = (0::'a)\n 2. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "hence \"t x \\<cdot> y \\<cdot> n z = t x \\<cdot> n x \\<cdot> y \\<cdot> n z\""], ["proof (prove)\nusing this:\n  !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> !z = t x \\<cdot> !x \\<cdot> y \\<cdot> !z", "by (simp add: mult_assoc)"], ["proof (state)\nthis:\n  t x \\<cdot> y \\<cdot> !z = t x \\<cdot> !x \\<cdot> y \\<cdot> !z\n\ngoal (2 subgoals):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z \\<Longrightarrow>\n    t x \\<cdot> y \\<cdot> !z = (0::'a)\n 2. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "thus \" t x \\<cdot> y \\<cdot> n z = 0\""], ["proof (prove)\nusing this:\n  t x \\<cdot> y \\<cdot> !z = t x \\<cdot> !x \\<cdot> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> !z = (0::'a)", "by (simp add: n_mult_comm)"], ["proof (state)\nthis:\n  t x \\<cdot> y \\<cdot> !z = (0::'a)\n\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "assume \"n n x \\<cdot> y \\<cdot> n z = 0\""], ["proof (state)\nthis:\n  t x \\<cdot> y \\<cdot> !z = (0::'a)\n\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "hence \"n x \\<cdot> y \\<cdot> n z = 1 \\<cdot> y \\<cdot> n z\""], ["proof (prove)\nusing this:\n  t x \\<cdot> y \\<cdot> !z = (0::'a)\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = (1::'a) \\<cdot> y \\<cdot> !z", "by (metis local.add_zerol local.distrib_right' n_add_comp t_n_closed)"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> !z = (1::'a) \\<cdot> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> !z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "thus \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z\""], ["proof (prove)\nusing this:\n  !x \\<cdot> y \\<cdot> !z = (1::'a) \\<cdot> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "by auto"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_eq4: \"test p \\<Longrightarrow> test q \\<Longrightarrow> !p \\<cdot> x \\<cdot> !q = x \\<cdot> !q \\<longleftrightarrow> p \\<cdot> x \\<cdot> !q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (!p \\<cdot> x \\<cdot> !q = x \\<cdot> !q) =\n                      (p \\<cdot> x \\<cdot> !q = (0::'a))", "using n_kat_1_opp"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y \\<cdot> !?z = ?y \\<cdot> !?z) =\n  (t ?x \\<cdot> ?y \\<cdot> !?z = (0::'a))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (!p \\<cdot> x \\<cdot> !q = x \\<cdot> !q) =\n                      (p \\<cdot> x \\<cdot> !q = (0::'a))", "by auto"], ["", "lemma n_kat_1_var: \"t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z \\<longleftrightarrow> n x \\<cdot> y \\<cdot> t z = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z) =\n    (!x \\<cdot> y \\<cdot> t z = (0::'a))", "by (simp add: n_kat_1_opp)"], ["", "lemma test_kat_1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x \\<cdot> q = x \\<cdot> q \\<longleftrightarrow> !p \\<cdot> x \\<cdot> q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x \\<cdot> q = x \\<cdot> q) =\n                      (!p \\<cdot> x \\<cdot> q = (0::'a))", "using n_kat_1_var"], ["proof (prove)\nusing this:\n  (t ?x \\<cdot> ?y \\<cdot> t ?z = ?y \\<cdot> t ?z) =\n  (!?x \\<cdot> ?y \\<cdot> t ?z = (0::'a))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x \\<cdot> q = x \\<cdot> q) =\n                      (!p \\<cdot> x \\<cdot> q = (0::'a))", "by auto"], ["", "lemma n_kat_21_opp:  \"y \\<cdot> n z \\<le> n x \\<cdot> y \\<Longrightarrow> n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> !z \\<le> !x \\<cdot> y \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<cdot> !z \\<le> !x \\<cdot> y \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "assume \"y \\<cdot> n z \\<le> n x \\<cdot> y\""], ["proof (state)\nthis:\n  y \\<cdot> !z \\<le> !x \\<cdot> y\n\ngoal (1 subgoal):\n 1. y \\<cdot> !z \\<le> !x \\<cdot> y \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "hence \"y \\<cdot> n z + n x \\<cdot> y = n x \\<cdot> y\""], ["proof (prove)\nusing this:\n  y \\<cdot> !z \\<le> !x \\<cdot> y\n\ngoal (1 subgoal):\n 1. y \\<cdot> !z + !x \\<cdot> y = !x \\<cdot> y", "by (meson local.join.sup_absorb2)"], ["proof (state)\nthis:\n  y \\<cdot> !z + !x \\<cdot> y = !x \\<cdot> y\n\ngoal (1 subgoal):\n 1. y \\<cdot> !z \\<le> !x \\<cdot> y \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "hence \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z + (n x \\<cdot> (y \\<cdot> n z) + 0)\""], ["proof (prove)\nusing this:\n  y \\<cdot> !z + !x \\<cdot> y = !x \\<cdot> y\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z =\n    y \\<cdot> !z + (!x \\<cdot> (y \\<cdot> !z) + (0::'a))", "by (metis local.add_zeror local.distrib_right' local.n_mult_idem mult_assoc)"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> !z =\n  y \\<cdot> !z + (!x \\<cdot> (y \\<cdot> !z) + (0::'a))\n\ngoal (1 subgoal):\n 1. y \\<cdot> !z \\<le> !x \\<cdot> y \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "thus ?thesis"], ["proof (prove)\nusing this:\n  !x \\<cdot> y \\<cdot> !z =\n  y \\<cdot> !z + (!x \\<cdot> (y \\<cdot> !z) + (0::'a))\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z", "by (metis local.add_zeror local.distrib_right' local.join.sup_absorb2 local.join.sup_left_commute local.mult_onel local.n_subid')"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_kat_21_opp: \"test p \\<Longrightarrow> test q \\<Longrightarrow> x \\<cdot> q \\<le> p \\<cdot> x \\<longrightarrow> p \\<cdot> x \\<cdot> q = x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> q \\<le> p \\<cdot> x \\<longrightarrow>\n                      p \\<cdot> x \\<cdot> q = x \\<cdot> q", "using n_kat_21_opp"], ["proof (prove)\nusing this:\n  ?y \\<cdot> !?z \\<le> !?x \\<cdot> ?y \\<Longrightarrow>\n  !?x \\<cdot> ?y \\<cdot> !?z = ?y \\<cdot> !?z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> q \\<le> p \\<cdot> x \\<longrightarrow>\n                      p \\<cdot> x \\<cdot> q = x \\<cdot> q", "by auto"], ["", "lemma  \" n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z \\<Longrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z \\<Longrightarrow>\n    y \\<cdot> !z \\<le> !x \\<cdot> y", "(*nitpick*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = y \\<cdot> !z \\<Longrightarrow>\n    y \\<cdot> !z \\<le> !x \\<cdot> y", "oops"], ["", "lemma n_distrib_alt': \"n x \\<cdot> n z = n y \\<cdot> n z \\<Longrightarrow> n x + n z = n y + n z \\<Longrightarrow> n x = n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>!x \\<cdot> !z = !y \\<cdot> !z; !x + !z = !y + !z\\<rbrakk>\n    \\<Longrightarrow> !x = !y", "using local.n_distrib_alt"], ["proof (prove)\nusing this:\n  \\<lbrakk>!?x \\<cdot> !?z = !?y \\<cdot> !?z;\n   !?x \\<oplus> !?z = !?y \\<oplus> !?z\\<rbrakk>\n  \\<Longrightarrow> !?x = !?y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!x \\<cdot> !z = !y \\<cdot> !z; !x + !z = !y + !z\\<rbrakk>\n    \\<Longrightarrow> !x = !y", "by auto"], ["", "lemma test_distrib_alt: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> r = q \\<cdot> r \\<and> p + r = q + r \\<longrightarrow> p = q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> r = q \\<cdot> r \\<and>\n                      p + r = q + r \\<longrightarrow>\n                      p = q", "using n_distrib_alt"], ["proof (prove)\nusing this:\n  \\<lbrakk>!?x \\<cdot> !?z = !?y \\<cdot> !?z;\n   !?x \\<oplus> !?z = !?y \\<oplus> !?z\\<rbrakk>\n  \\<Longrightarrow> !?x = !?y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> r = q \\<cdot> r \\<and>\n                      p + r = q + r \\<longrightarrow>\n                      p = q", "by auto"], ["", "lemma n_eq1: \"n x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z \\<longleftrightarrow> y \\<le> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)", "have  \"n x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z \\<longleftrightarrow> n x \\<cdot> y + t x \\<cdot> y \\<le> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) =\n    (!x \\<cdot> y + t x \\<cdot> y \\<le> z)", "by simp"], ["proof (state)\nthis:\n  (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) =\n  (!x \\<cdot> y + t x \\<cdot> y \\<le> z)\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)", "also"], ["proof (state)\nthis:\n  (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) =\n  (!x \\<cdot> y + t x \\<cdot> y \\<le> z)\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)", "have \"... \\<longleftrightarrow> (n x + t x) \\<cdot> y \\<le> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y + t x \\<cdot> y \\<le> z) = ((!x + t x) \\<cdot> y \\<le> z)", "using local.distrib_right'"], ["proof (prove)\nusing this:\n  (?x + ?y) \\<cdot> ?z = ?x \\<cdot> ?z + ?y \\<cdot> ?z\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y + t x \\<cdot> y \\<le> z) = ((!x + t x) \\<cdot> y \\<le> z)", "by presburger"], ["proof (state)\nthis:\n  (!x \\<cdot> y + t x \\<cdot> y \\<le> z) = ((!x + t x) \\<cdot> y \\<le> z)\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)", "finally"], ["proof (chain)\npicking this:\n  (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) =\n  ((!x + t x) \\<cdot> y \\<le> z)", "show ?thesis"], ["proof (prove)\nusing this:\n  (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) =\n  ((!x + t x) \\<cdot> y \\<le> z)\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)", "by auto"], ["proof (state)\nthis:\n  (!x \\<cdot> y \\<le> z \\<and> t x \\<cdot> y \\<le> z) = (y \\<le> z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_eq1: \"test p \\<Longrightarrow> y \\<le> x \\<longleftrightarrow> p \\<cdot> y \\<le> x \\<and> !p \\<cdot> y \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (y \\<le> x) = (p \\<cdot> y \\<le> x \\<and> !p \\<cdot> y \\<le> x)", "using n_eq1"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y \\<le> ?z \\<and> t ?x \\<cdot> ?y \\<le> ?z) = (?y \\<le> ?z)\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (y \\<le> x) = (p \\<cdot> y \\<le> x \\<and> !p \\<cdot> y \\<le> x)", "by auto"], ["", "lemma n_dist_var1': \"(n x + n y) \\<cdot> (t x + n z) = t x \\<cdot> n y + n x \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x + !y) \\<cdot> (t x + !z) = t x \\<cdot> !y + !x \\<cdot> !z", "by (metis add_transl local.n_dist_var1 local.test_mult)"], ["", "lemma test_dist_var1: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> (p + q) \\<cdot> (!p + r) = !p \\<cdot> q + p \\<cdot> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (!p + r) = !p \\<cdot> q + p \\<cdot> r", "using n_dist_var1'"], ["proof (prove)\nusing this:\n  (!?x + !?y) \\<cdot> (t ?x + !?z) = t ?x \\<cdot> !?y + !?x \\<cdot> !?z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (!p + r) = !p \\<cdot> q + p \\<cdot> r", "by fastforce"], ["", "lemma n_dist_var2': \"n (n x \\<cdot> n y + t x \\<cdot> n z) = n x \\<cdot> t y + t x \\<cdot> t z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z", "have f1: \"!x \\<cdot> !y = !(!(!x \\<cdot> !y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> !y = t (!x \\<cdot> !y)", "using n_de_morgan_var3 t_de_morgan_var1"], ["proof (prove)\nusing this:\n  !(t ?x + t ?y) = !?x \\<cdot> !?y\n  !(!?x \\<cdot> !?y) = t ?x + t ?y\n\ngoal (1 subgoal):\n 1. !x \\<cdot> !y = t (!x \\<cdot> !y)", "by presburger"], ["proof (state)\nthis:\n  !x \\<cdot> !y = t (!x \\<cdot> !y)\n\ngoal (1 subgoal):\n 1. !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z", "have \"!(!(!x)) = !x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !t x = !x", "by simp"], ["proof (state)\nthis:\n  !t x = !x\n\ngoal (1 subgoal):\n 1. !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z", "thus ?thesis"], ["proof (prove)\nusing this:\n  !t x = !x\n\ngoal (1 subgoal):\n 1. !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z", "using f1"], ["proof (prove)\nusing this:\n  !t x = !x\n  !x \\<cdot> !y = t (!x \\<cdot> !y)\n\ngoal (1 subgoal):\n 1. !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z", "by (metis (no_types) n_de_morgan_var3 n_dist_var1' t_de_morgan_var1)"], ["proof (state)\nthis:\n  !(!x \\<cdot> !y + t x \\<cdot> !z) = !x \\<cdot> t y + t x \\<cdot> t z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_dist_var2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> !(p \\<cdot> q + !p \\<cdot> r) = (p \\<cdot> !q + !p \\<cdot> !r)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> !(p \\<cdot> q + !p \\<cdot> r) =\n                      p \\<cdot> !q + !p \\<cdot> !r", "using n_dist_var2'"], ["proof (prove)\nusing this:\n  !(!?x \\<cdot> !?y + t ?x \\<cdot> !?z) =\n  !?x \\<cdot> t ?y + t ?x \\<cdot> t ?z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r\\<rbrakk>\n    \\<Longrightarrow> !(p \\<cdot> q + !p \\<cdot> r) =\n                      p \\<cdot> !q + !p \\<cdot> !r", "by auto"], ["", "lemma test_restrictr: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> x \\<cdot> p \\<le> x", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> x \\<cdot> p \\<le> x", "oops"], ["", "lemma test_eq2: \"test p \\<Longrightarrow> z \\<le> p \\<cdot> x + !p \\<cdot> y \\<longleftrightarrow> p \\<cdot> z \\<le> p \\<cdot> x \\<and> !p \\<cdot> z \\<le> !p \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (z \\<le> p \\<cdot> x + !p \\<cdot> y) =\n    (p \\<cdot> z \\<le> p \\<cdot> x \\<and> !p \\<cdot> z \\<le> !p \\<cdot> y)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (z \\<le> p \\<cdot> x + !p \\<cdot> y) =\n    (p \\<cdot> z \\<le> p \\<cdot> x \\<and> !p \\<cdot> z \\<le> !p \\<cdot> y)", "oops"], ["", "lemma test_eq3: \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "oops"], ["", "lemma test1: \"\\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = 0\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "lemma comm_add: \"\\<lbrakk>test p; p\\<cdot>x = x\\<cdot>p; p\\<cdot>y = y\\<cdot>p\\<rbrakk> \\<Longrightarrow> p\\<cdot>(x + y) = (x + y)\\<cdot>p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (x + y) = (x + y) \\<cdot> p", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (x + y) = (x + y) \\<cdot> p", "oops"], ["", "lemma comm_add_var: \"\\<lbrakk>test p; test q; test r; p\\<cdot>x = x\\<cdot>p; p\\<cdot>y = y\\<cdot>p\\<rbrakk> \\<Longrightarrow> p\\<cdot>(q\\<cdot>x + r\\<cdot>y) = (q\\<cdot>x + r\\<cdot>y)\\<cdot>p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "oops"], ["", "lemma \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and> !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; p \\<cdot> x = x \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and>\n                      !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; p \\<cdot> x = x \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and>\n                      !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p", "oops"], ["", "lemma test_distrib: \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> (p + q)\\<cdot>(q\\<cdot>y + !q\\<cdot>x) = q\\<cdot>y + !q\\<cdot>p\\<cdot>x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "oops"], ["", "end"], ["", "subsection \\<open>Test Near Semirings with Distributive Tests\\<close>"], ["", "text \\<open>\n  We now make the assumption that tests distribute over finite sums of arbitrary elements from the left.\n  This can be justified in models such as multirelations and probabilistic predicate transformers.\n\\<close>"], ["", "class test_near_semiring_zerol_distrib = test_near_semiring_zerol  +\n  assumes n_left_distrib: \"n x \\<cdot> (y + z) = n x \\<cdot> y + n x \\<cdot> z\"\n\nbegin"], ["", "lemma n_left_distrib_var: \"test p \\<Longrightarrow> p \\<cdot> (x + y) = p \\<cdot> x + p \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<cdot> (x + y) = p \\<cdot> x + p \\<cdot> y", "using n_left_distrib"], ["proof (prove)\nusing this:\n  !?x \\<cdot> (?y + ?z) = !?x \\<cdot> ?y + !?x \\<cdot> ?z\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> p \\<cdot> (x + y) = p \\<cdot> x + p \\<cdot> y", "by auto"], ["", "lemma n_mult_left_iso: \"x \\<le> y \\<Longrightarrow> n z \\<cdot> x \\<le> n z \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow> !z \\<cdot> x \\<le> !z \\<cdot> y", "by (metis local.join.sup.absorb_iff1 local.n_left_distrib)"], ["", "lemma test_mult_isol: \"test p \\<Longrightarrow> x \\<le> y \\<Longrightarrow> p \\<cdot> x \\<le> p \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x \\<le> p \\<cdot> y", "using n_mult_left_iso"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> !?z \\<cdot> ?x \\<le> !?z \\<cdot> ?y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x \\<le> p \\<cdot> y", "by auto"], ["", "lemma \"test p \\<Longrightarrow> x \\<cdot> p \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> x \\<cdot> p \\<le> x", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> x \\<cdot> p \\<le> x", "oops"], ["", "lemma \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = 0\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk> \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "text \\<open>Next, we study tests with commutativity conditions.\\<close>"], ["", "lemma comm_add: \"test p \\<Longrightarrow>  p \\<cdot> x = x \\<cdot> p \\<Longrightarrow>  p \\<cdot> y = y \\<cdot> p \\<Longrightarrow> p \\<cdot> (x + y) = (x + y) \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (x + y) = (x + y) \\<cdot> p", "by (simp add: n_left_distrib_var)"], ["", "lemma comm_add_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> test r \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<Longrightarrow> p \\<cdot> y = y \\<cdot> p \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) = (q \\<cdot> x + r \\<cdot> y) \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "assume a1: \"test p\""], ["proof (state)\nthis:\n  test p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "assume a2: \"test q\""], ["proof (state)\nthis:\n  test q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "assume a3: \"p \\<cdot> x = x \\<cdot> p\""], ["proof (state)\nthis:\n  p \\<cdot> x = x \\<cdot> p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "assume a4: \"test r\""], ["proof (state)\nthis:\n  test r\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "assume a5: \"p \\<cdot> y = y \\<cdot> p\""], ["proof (state)\nthis:\n  p \\<cdot> y = y \\<cdot> p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "have f6: \"p \\<cdot> (q \\<cdot> x) = q \\<cdot> p \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<cdot> (q \\<cdot> x) = q \\<cdot> p \\<cdot> x", "using a2 a1 local.test_mult_comm_var mult_assoc"], ["proof (prove)\nusing this:\n  test q\n  test p\n  \\<lbrakk>test ?p; test ?q\\<rbrakk>\n  \\<Longrightarrow> ?p \\<cdot> ?q = ?q \\<cdot> ?p\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n\ngoal (1 subgoal):\n 1. p \\<cdot> (q \\<cdot> x) = q \\<cdot> p \\<cdot> x", "by presburger"], ["proof (state)\nthis:\n  p \\<cdot> (q \\<cdot> x) = q \\<cdot> p \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "have \"p \\<cdot> (r \\<cdot> y) = r \\<cdot> p \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<cdot> (r \\<cdot> y) = r \\<cdot> p \\<cdot> y", "using a4 a1"], ["proof (prove)\nusing this:\n  test r\n  test p\n\ngoal (1 subgoal):\n 1. p \\<cdot> (r \\<cdot> y) = r \\<cdot> p \\<cdot> y", "by (simp add: local.test_mult_comm_var mult_assoc)"], ["proof (state)\nthis:\n  p \\<cdot> (r \\<cdot> y) = r \\<cdot> p \\<cdot> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; test r; p \\<cdot> x = x \\<cdot> p;\n     p \\<cdot> y = y \\<cdot> p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n                      (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "thus ?thesis"], ["proof (prove)\nusing this:\n  p \\<cdot> (r \\<cdot> y) = r \\<cdot> p \\<cdot> y\n\ngoal (1 subgoal):\n 1. p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n    (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "using f6 a5 a3 a1"], ["proof (prove)\nusing this:\n  p \\<cdot> (r \\<cdot> y) = r \\<cdot> p \\<cdot> y\n  p \\<cdot> (q \\<cdot> x) = q \\<cdot> p \\<cdot> x\n  p \\<cdot> y = y \\<cdot> p\n  p \\<cdot> x = x \\<cdot> p\n  test p\n\ngoal (1 subgoal):\n 1. p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n    (q \\<cdot> x + r \\<cdot> y) \\<cdot> p", "by (simp add: mult_assoc n_left_distrib_var)"], ["proof (state)\nthis:\n  p \\<cdot> (q \\<cdot> x + r \\<cdot> y) =\n  (q \\<cdot> x + r \\<cdot> y) \\<cdot> p\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_distrib: \"test p \\<Longrightarrow> test q \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) = q \\<cdot> y + !q \\<cdot> p \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "assume a: \"test p\" and b: \"test q\""], ["proof (state)\nthis:\n  test p\n  test q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "hence \"(p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) = p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y + q \\<cdot> !q \\<cdot> x\""], ["proof (prove)\nusing this:\n  test p\n  test q\n\ngoal (1 subgoal):\n 1. (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n    p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n    q \\<cdot> !q \\<cdot> x", "using local.add.assoc local.distrib_right' mult_assoc n_left_distrib_var"], ["proof (prove)\nusing this:\n  test p\n  test q\n  ?a + ?b + ?c = ?a + (?b + ?c)\n  (?x + ?y) \\<cdot> ?z = ?x \\<cdot> ?z + ?y \\<cdot> ?z\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n  test ?p \\<Longrightarrow>\n  ?p \\<cdot> (?x + ?y) = ?p \\<cdot> ?x + ?p \\<cdot> ?y\n\ngoal (1 subgoal):\n 1. (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n    p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n    q \\<cdot> !q \\<cdot> x", "by presburger"], ["proof (state)\nthis:\n  (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n  p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n  q \\<cdot> !q \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "also"], ["proof (state)\nthis:\n  (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n  p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n  q \\<cdot> !q \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "have \"... = p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n    q \\<cdot> !q \\<cdot> x =\n    p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y", "by (simp add: a b local.test_mult_comm_var)"], ["proof (state)\nthis:\n  p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n  q \\<cdot> !q \\<cdot> x =\n  p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "also"], ["proof (state)\nthis:\n  p \\<cdot> q \\<cdot> y + p \\<cdot> !q \\<cdot> x + q \\<cdot> q \\<cdot> y +\n  q \\<cdot> !q \\<cdot> x =\n  p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "have \"... = (p + 1) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y =\n    (p + (1::'a)) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "using add_commute local.add.assoc"], ["proof (prove)\nusing this:\n  ?a + ?b = ?b + ?a\n  ?a + ?b + ?c = ?a + (?b + ?c)\n\ngoal (1 subgoal):\n 1. p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y =\n    (p + (1::'a)) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "by force"], ["proof (state)\nthis:\n  p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y =\n  (p + (1::'a)) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "also"], ["proof (state)\nthis:\n  p \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x + q \\<cdot> y =\n  (p + (1::'a)) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "have \"... = q \\<cdot> y + !q \\<cdot> p \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (p + (1::'a)) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x =\n    q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "by (simp add: a local.join.sup.absorb2 local.test_subid)"], ["proof (state)\nthis:\n  (p + (1::'a)) \\<cdot> q \\<cdot> y + !q \\<cdot> p \\<cdot> x =\n  q \\<cdot> y + !q \\<cdot> p \\<cdot> x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n                      q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "finally"], ["proof (chain)\npicking this:\n  (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n  q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "show ?thesis"], ["proof (prove)\nusing this:\n  (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n  q \\<cdot> y + !q \\<cdot> p \\<cdot> x\n\ngoal (1 subgoal):\n 1. (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n    q \\<cdot> y + !q \\<cdot> p \\<cdot> x", "by simp"], ["proof (state)\nthis:\n  (p + q) \\<cdot> (q \\<cdot> y + !q \\<cdot> x) =\n  q \\<cdot> y + !q \\<cdot> p \\<cdot> x\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Test Predioids\\<close>"], ["", "text \\<open>\n  The following class is relevant for probabilistic Kleene algebras.\n\\<close>"], ["", "class test_pre_dioid_zerol = test_near_semiring_zerol_distrib + pre_dioid\n\nbegin"], ["", "lemma n_restrictr: \"x \\<cdot> n y \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> x", "using local.mult_isol local.n_subid'"], ["proof (prove)\nusing this:\n  ?x \\<le> ?y \\<Longrightarrow> ?z \\<cdot> ?x \\<le> ?z \\<cdot> ?y\n  !?x \\<le> (1::'a)\n\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> x", "by fastforce"], ["", "lemma test_restrictr: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> x \\<cdot> p \\<le> x", "using n_restrictr"], ["proof (prove)\nusing this:\n  ?x \\<cdot> !?y \\<le> ?x\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow> x \\<cdot> p \\<le> x", "by fastforce"], ["", "lemma n_kat_2: \"n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z \\<longleftrightarrow> n x \\<cdot> y \\<le> y \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y = !x \\<cdot> y \\<cdot> !z) =\n    (!x \\<cdot> y \\<le> y \\<cdot> !z)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y \\<le> y \\<cdot> !z\n 2. !x \\<cdot> y \\<le> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "assume \"n x \\<cdot> y = n x \\<cdot> y \\<cdot> n z\""], ["proof (state)\nthis:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z\n\ngoal (2 subgoals):\n 1. !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y \\<le> y \\<cdot> !z\n 2. !x \\<cdot> y \\<le> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "thus \"n x \\<cdot> y \\<le> y \\<cdot> n z\""], ["proof (prove)\nusing this:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y \\<cdot> !z", "by (metis mult.assoc n_restrictl)"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<le> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "assume \"n x \\<cdot> y \\<le> y \\<cdot> n z\""], ["proof (state)\nthis:\n  !x \\<cdot> y \\<le> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "hence \"n x \\<cdot> y  \\<le> n x \\<cdot> y \\<cdot> n z\""], ["proof (prove)\nusing this:\n  !x \\<cdot> y \\<le> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> !x \\<cdot> y \\<cdot> !z", "by (metis local.mult_isol local.n_mult_idem mult_assoc)"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<le> !x \\<cdot> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<le> y \\<cdot> !z \\<Longrightarrow>\n    !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "thus \"n x \\<cdot> y  = n x \\<cdot> y \\<cdot> n z\""], ["proof (prove)\nusing this:\n  !x \\<cdot> y \\<le> !x \\<cdot> y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z", "by (simp add: local.order.antisym n_restrictr)"], ["proof (state)\nthis:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_kat_2: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "using n_kat_2"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y = !?x \\<cdot> ?y \\<cdot> !?z) =\n  (!?x \\<cdot> ?y \\<le> ?y \\<cdot> !?z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "by auto"], ["", "lemma n_kat_2_opp: \"y \\<cdot> n z = n x \\<cdot> y \\<cdot> n z \\<longleftrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<cdot> !z = !x \\<cdot> y \\<cdot> !z) =\n    (y \\<cdot> !z \\<le> !x \\<cdot> y)", "by (metis local.n_kat_21_opp n_restrictr)"], ["", "lemma test_kat_2_opp: \"test p \\<Longrightarrow> test q \\<Longrightarrow> x \\<cdot> q  = p \\<cdot> x \\<cdot> q \\<longleftrightarrow> x \\<cdot> q \\<le> p \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (x \\<cdot> q = p \\<cdot> x \\<cdot> q) =\n                      (x \\<cdot> q \\<le> p \\<cdot> x)", "by (metis local.test_kat_21_opp test_restrictr)"], ["", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x\\<cdot>!q = 0\\<rbrakk> \\<Longrightarrow> p\\<cdot>x = p\\<cdot>x\\<cdot>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\\<rbrakk> \\<Longrightarrow> p\\<cdot>x = p\\<cdot>x\\<cdot>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> x \\<cdot> (p + q) \\<le> x \\<cdot> p + x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> (p + q) \\<le> x \\<cdot> p + x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> (p + q) \\<le> x \\<cdot> p + x \\<cdot> q", "oops"], ["", "end"], ["", "text \\<open>\n  The following class is relevant for Demonic Refinement Algebras.\n\\<close>"], ["", "class test_semiring_zerol = test_near_semiring_zerol + semiring_one_zerol\n\nbegin"], ["", "subclass dioid_one_zerol"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.dioid_one_zerol (+) (\\<cdot>) (1::'a) (0::'a) (\\<le>) (<)", ".."], ["", "subclass test_pre_dioid_zerol"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.test_pre_dioid_zerol (+) (\\<cdot>) (\\<le>) (<) (1::'a) (0::'a)\n     n_op", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z. !x \\<cdot> (y + z) = !x \\<cdot> y + !x \\<cdot> z", "show \"\\<And>x y z. !x \\<cdot> (y + z) = !x \\<cdot> y + !x \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y z. !x \\<cdot> (y + z) = !x \\<cdot> y + !x \\<cdot> z", "by (simp add: local.distrib_left)"], ["proof (state)\nthis:\n  !?x1 \\<cdot> (?y1 + ?z1) = !?x1 \\<cdot> ?y1 + !?x1 \\<cdot> ?z1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_kat_31: \"n x \\<cdot> y \\<cdot> t z = 0 \\<Longrightarrow> n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> t z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> t z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "assume a: \"n x \\<cdot> y \\<cdot> t z = 0\""], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> t z = (0::'a)\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> t z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "have \"n x \\<cdot> y = n x \\<cdot> y \\<cdot> (n z + t z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y = !x \\<cdot> y \\<cdot> (!z + t z)", "by simp"], ["proof (state)\nthis:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> (!z + t z)\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> t z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "also"], ["proof (state)\nthis:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> (!z + t z)\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> t z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "have \"... = n x \\<cdot> y \\<cdot> n z + n x \\<cdot> y \\<cdot> t z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> (!z + t z) =\n    !x \\<cdot> y \\<cdot> !z + !x \\<cdot> y \\<cdot> t z", "using local.distrib_left"], ["proof (prove)\nusing this:\n  ?a \\<cdot> (?b + ?c) = ?a \\<cdot> ?b + ?a \\<cdot> ?c\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> (!z + t z) =\n    !x \\<cdot> y \\<cdot> !z + !x \\<cdot> y \\<cdot> t z", "by blast"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> (!z + t z) =\n  !x \\<cdot> y \\<cdot> !z + !x \\<cdot> y \\<cdot> t z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> t z = (0::'a) \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "finally"], ["proof (chain)\npicking this:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z + !x \\<cdot> y \\<cdot> t z", "show \"n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\""], ["proof (prove)\nusing this:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z + !x \\<cdot> y \\<cdot> t z\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "using a"], ["proof (prove)\nusing this:\n  !x \\<cdot> y = !x \\<cdot> y \\<cdot> !z + !x \\<cdot> y \\<cdot> t z\n  !x \\<cdot> y \\<cdot> t z = (0::'a)\n\ngoal (1 subgoal):\n 1. !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "by auto"], ["proof (state)\nthis:\n  !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma test_kat_31: \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = 0 \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "by (metis local.test_double_comp_var n_kat_31)"], ["", "lemma n_kat_var: \"t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z \\<Longrightarrow> n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "using local.n_kat_1_var n_kat_31"], ["proof (prove)\nusing this:\n  (t ?x \\<cdot> ?y \\<cdot> t ?z = ?y \\<cdot> t ?z) =\n  (!?x \\<cdot> ?y \\<cdot> t ?z = (0::'a))\n  !?x \\<cdot> ?y \\<cdot> t ?z = (0::'a) \\<Longrightarrow>\n  !?x \\<cdot> ?y \\<cdot> !?z = !?x \\<cdot> ?y\n\ngoal (1 subgoal):\n 1. t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z \\<Longrightarrow>\n    !x \\<cdot> y \\<cdot> !z = !x \\<cdot> y", "by blast"], ["", "lemma test1_var: \"test p \\<Longrightarrow> test q \\<Longrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "by (metis local.test_eq4 test_kat_31)"], ["", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x\\<cdot>!q = 0\\<rbrakk> \\<Longrightarrow> !p\\<cdot>x\\<cdot>q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x = p\\<cdot>x\\<cdot>q\\<rbrakk> \\<Longrightarrow> x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x = p \\<cdot> x \\<cdot> q\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x = p \\<cdot> x \\<cdot> q\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x = p\\<cdot>x\\<cdot>q\\<rbrakk> \\<Longrightarrow> p\\<cdot>x\\<cdot>!q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x = p \\<cdot> x \\<cdot> q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = (0::'a)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x = p \\<cdot> x \\<cdot> q\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = (0::'a)", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; p\\<cdot>x = p\\<cdot>x\\<cdot>q\\<rbrakk> \\<Longrightarrow> !p\\<cdot>x\\<cdot>q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x = p \\<cdot> x \\<cdot> q\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x = p \\<cdot> x \\<cdot> q\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\\<rbrakk> \\<Longrightarrow> !p\\<cdot>x\\<cdot>q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; !p\\<cdot>x\\<cdot>q = 0\\<rbrakk> \\<Longrightarrow> p\\<cdot>x = p\\<cdot>x\\<cdot>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; !p \\<cdot> x \\<cdot> q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; !p \\<cdot> x \\<cdot> q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; !p\\<cdot>x\\<cdot>q = 0\\<rbrakk> \\<Longrightarrow> x\\<cdot>!q = !p\\<cdot>x\\<cdot>!q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; !p \\<cdot> x \\<cdot> q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; !p \\<cdot> x \\<cdot> q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q", "oops"], ["", "lemma \"\\<lbrakk>test p; test q; !p\\<cdot>x\\<cdot>q = 0\\<rbrakk> \\<Longrightarrow> p\\<cdot>x\\<cdot>!q = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; !p \\<cdot> x \\<cdot> q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = (0::'a)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; !p \\<cdot> x \\<cdot> q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = (0::'a)", "oops"], ["", "lemma \"test p \\<Longrightarrow> p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and> !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p;\n     p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and>\n     !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p;\n     p \\<cdot> x = p \\<cdot> x \\<cdot> p \\<and>\n     !p \\<cdot> x = !p \\<cdot> x \\<cdot> !p\\<rbrakk>\n    \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p", "oops"], ["", "end"], ["", "subsection \\<open>Test Semirings\\<close>"], ["", "text \\<open>\n  The following class is relevant for Kleene Algebra with Tests.\n\\<close>"], ["", "class test_semiring = test_semiring_zerol + semiring_one_zero\n\nbegin"], ["", "lemma n_kat_1: \"n x \\<cdot> y \\<cdot> t z = 0 \\<longleftrightarrow> n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> t z = (0::'a)) =\n    (!x \\<cdot> y \\<cdot> !z = !x \\<cdot> y)", "by (metis local.annir local.n_kat_31 local.test_mult_comp mult_assoc)"], ["", "lemma test_kat_1': \"test p \\<Longrightarrow> test q \\<Longrightarrow> p \\<cdot> x \\<cdot> !q = 0 \\<longleftrightarrow> p \\<cdot> x =  p \\<cdot> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x \\<cdot> !q = (0::'a)) =\n                      (p \\<cdot> x = p \\<cdot> x \\<cdot> q)", "by (metis local.test_double_comp_var n_kat_1)"], ["", "lemma n_kat_3: \"n x \\<cdot> y \\<cdot> t z = 0 \\<longleftrightarrow> n x \\<cdot> y \\<le> y \\<cdot> n z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> t z = (0::'a)) = (!x \\<cdot> y \\<le> y \\<cdot> !z)", "using local.n_kat_2 n_kat_1"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y = !?x \\<cdot> ?y \\<cdot> !?z) =\n  (!?x \\<cdot> ?y \\<le> ?y \\<cdot> !?z)\n  (!?x \\<cdot> ?y \\<cdot> t ?z = (0::'a)) =\n  (!?x \\<cdot> ?y \\<cdot> !?z = !?x \\<cdot> ?y)\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> t z = (0::'a)) = (!x \\<cdot> y \\<le> y \\<cdot> !z)", "by force"], ["", "lemma test_kat_3: \"test p \\<Longrightarrow> test q \\<Longrightarrow>  p \\<cdot> x \\<cdot> !q = 0 \\<longleftrightarrow> p \\<cdot> x \\<le> x \\<cdot> q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x \\<cdot> !q = (0::'a)) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "using n_kat_3"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y \\<cdot> t ?z = (0::'a)) =\n  (!?x \\<cdot> ?y \\<le> ?y \\<cdot> !?z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x \\<cdot> !q = (0::'a)) =\n                      (p \\<cdot> x \\<le> x \\<cdot> q)", "by auto"], ["", "lemma n_kat_prop: \"n x \\<cdot> y \\<cdot> n z = n x \\<cdot> y \\<longleftrightarrow> t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> !z = !x \\<cdot> y) =\n    (t x \\<cdot> y \\<cdot> t z = y \\<cdot> t z)", "by (metis local.annir local.n_kat_1_opp local.n_kat_var local.t_n_closed local.test_mult_comp mult_assoc)"], ["", "lemma test_kat_prop: \"test p \\<Longrightarrow> test q  \\<Longrightarrow>  p \\<cdot> x = p \\<cdot> x \\<cdot> q  \\<longleftrightarrow> x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q\\<rbrakk>\n    \\<Longrightarrow> (p \\<cdot> x = p \\<cdot> x \\<cdot> q) =\n                      (x \\<cdot> !q = !p \\<cdot> x \\<cdot> !q)", "by (metis local.annir local.test1_var local.test_comp_mult2 local.test_eq4 mult_assoc)"], ["", "lemma n_kat_3_opp: \"t x \\<cdot> y \\<cdot> n z = 0 \\<longleftrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t x \\<cdot> y \\<cdot> !z = (0::'a)) = (y \\<cdot> !z \\<le> !x \\<cdot> y)", "by (metis local.n_kat_1_var local.n_kat_2_opp local.t_n_closed)"], ["", "lemma kat_1_var: \"n x \\<cdot> y \\<cdot> n z = y \\<cdot> n z \\<longleftrightarrow> y \\<cdot> n z \\<le> n x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> !z = y \\<cdot> !z) =\n    (y \\<cdot> !z \\<le> !x \\<cdot> y)", "using local.n_kat_2_opp"], ["proof (prove)\nusing this:\n  (?y \\<cdot> !?z = !?x \\<cdot> ?y \\<cdot> !?z) =\n  (?y \\<cdot> !?z \\<le> !?x \\<cdot> ?y)\n\ngoal (1 subgoal):\n 1. (!x \\<cdot> y \\<cdot> !z = y \\<cdot> !z) =\n    (y \\<cdot> !z \\<le> !x \\<cdot> y)", "by force"], ["", "lemma \"\\<lbrakk>test p; test q\\<rbrakk> \\<Longrightarrow> (p\\<cdot>x\\<cdot>!q = 0) \\<Longrightarrow> (!p\\<cdot>x\\<cdot>q = 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "(* nitpick *)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>test p; test q; p \\<cdot> x \\<cdot> !q = (0::'a)\\<rbrakk>\n    \\<Longrightarrow> !p \\<cdot> x \\<cdot> q = (0::'a)", "oops"], ["", "lemma \"n x \\<cdot> y + t x \\<cdot> z = n x \\<cdot> y \\<or> n x \\<cdot> y + t x \\<cdot> z = t x \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y + t x \\<cdot> z = !x \\<cdot> y \\<or>\n    !x \\<cdot> y + t x \\<cdot> z = t x \\<cdot> z", "(*nitpick*)"], ["proof (prove)\ngoal (1 subgoal):\n 1. !x \\<cdot> y + t x \\<cdot> z = !x \\<cdot> y \\<or>\n    !x \\<cdot> y + t x \\<cdot> z = t x \\<cdot> z", "oops"], ["", "end"], ["", "end"]]}