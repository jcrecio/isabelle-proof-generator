{"file_name": "/home/qj213/afp-2021-10-22/thys/KAT_and_DRA/SingleSorted/KAT.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/KAT_and_DRA", "problem_names": ["lemma star_n_export1: \"(n x \\<cdot> y)\\<^sup>\\<star> \\<cdot> n x \\<le> n x \\<cdot> y\\<^sup>\\<star>\"", "lemma star_test_export1: \"test p \\<Longrightarrow> (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> p \\<cdot> x\\<^sup>\\<star>\"", "lemma star_n_export2: \"(n x \\<cdot> y)\\<^sup>\\<star> \\<cdot> n x \\<le> y\\<^sup>\\<star> \\<cdot> n x\"", "lemma star_test_export2: \"test p \\<Longrightarrow> (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> x\\<^sup>\\<star> \\<cdot> p\"", "lemma star_n_export_left: \"x \\<cdot> n y \\<le> n y \\<cdot> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> n y = n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\"", "lemma star_test_export_left: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow> x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>\"", "lemma star_n_export_right: \"x \\<cdot> n y \\<le> n y \\<cdot> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> n y = (n y \\<cdot> x)\\<^sup>\\<star> \\<cdot> n y\"", "lemma star_test_export_right: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow> x\\<^sup>\\<star> \\<cdot> p = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p\"", "lemma star_n_folk: \"n z \\<cdot> x = x \\<cdot> n z \\<Longrightarrow> n z \\<cdot> y = y \\<cdot> n z \\<Longrightarrow> (n z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> n z = n z \\<cdot> (n z \\<cdot> x)\\<^sup>\\<star>\"", "lemma star_test_folk: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> p \\<cdot> y = y \\<cdot> p \\<longrightarrow> (p \\<cdot> x + !p \\<cdot> y)\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (p \\<cdot> x)\\<^sup>\\<star>\"", "lemma n_star_sim_right: \"n y \\<cdot> x = x \\<cdot> n y \\<Longrightarrow> n y \\<cdot> x\\<^sup>\\<star> = (n y \\<cdot> x)\\<^sup>\\<star> \\<cdot> n y\"", "lemma star_sim_right: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> p \\<cdot> x\\<^sup>\\<star> = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p\"", "lemma n_star_sim_left: \"n y \\<cdot> x = x \\<cdot> n y \\<Longrightarrow> n y \\<cdot> x\\<^sup>\\<star> = n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\"", "lemma star_sim_left: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> p \\<cdot> x\\<^sup>\\<star> = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>\"", "lemma n_comm_star: \"n z \\<cdot> x = x \\<cdot> n z \\<Longrightarrow>  n z \\<cdot> y = y \\<cdot> n z \\<Longrightarrow> n z \\<cdot> x \\<cdot> (n z \\<cdot> y)\\<^sup>\\<star> = n z \\<cdot> x \\<cdot> y\\<^sup>\\<star>\"", "lemma comm_star: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow>  p \\<cdot> y = y \\<cdot> p \\<longrightarrow> p \\<cdot> x \\<cdot> (p \\<cdot> y)\\<^sup>\\<star> = p \\<cdot> x \\<cdot> y\\<^sup>\\<star>\"", "lemma n_star_sim_right_var: \"n y \\<cdot> x = x \\<cdot> n y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> n y = n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\"", "lemma star_sim_right_var: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>\""], "translations": [["", "lemma star_n_export1: \"(n x \\<cdot> y)\\<^sup>\\<star> \\<cdot> n x \\<le> n x \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y)\\<^sup>\\<star> \\<cdot> !x \\<le> !x \\<cdot> y\\<^sup>\\<star>", "by (simp add: local.n_restrictr local.star_sim1)"], ["", "lemma star_test_export1: \"test p \\<Longrightarrow> (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> p \\<cdot> x\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> p \\<cdot> x\\<^sup>\\<star>", "using star_n_export1"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y)\\<^sup>\\<star> \\<cdot> !?x\n  \\<le> !?x \\<cdot> ?y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> p \\<cdot> x\\<^sup>\\<star>", "by auto"], ["", "lemma star_n_export2: \"(n x \\<cdot> y)\\<^sup>\\<star> \\<cdot> n x \\<le> y\\<^sup>\\<star> \\<cdot> n x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (!x \\<cdot> y)\\<^sup>\\<star> \\<cdot> !x \\<le> y\\<^sup>\\<star> \\<cdot> !x", "by (simp add: local.mult_isor local.n_restrictl local.star_iso)"], ["", "lemma star_test_export2: \"test p \\<Longrightarrow> (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> x\\<^sup>\\<star> \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> x\\<^sup>\\<star> \\<cdot> p", "using star_n_export2"], ["proof (prove)\nusing this:\n  (!?x \\<cdot> ?y)\\<^sup>\\<star> \\<cdot> !?x\n  \\<le> ?y\\<^sup>\\<star> \\<cdot> !?x\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p \\<le> x\\<^sup>\\<star> \\<cdot> p", "by auto"], ["", "lemma star_n_export_left: \"x \\<cdot> n y \\<le> n y \\<cdot> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> n y = n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y = !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y \\<le> !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>\n 2. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "assume a1: \"x \\<cdot> n y \\<le> n y \\<cdot> x\""], ["proof (state)\nthis:\n  x \\<cdot> !y \\<le> !y \\<cdot> x\n\ngoal (2 subgoals):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y \\<le> !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>\n 2. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "hence \"x \\<cdot> n y = n y \\<cdot> x \\<cdot> n y\""], ["proof (prove)\nusing this:\n  x \\<cdot> !y \\<le> !y \\<cdot> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> !y = !y \\<cdot> x \\<cdot> !y", "by (simp add: local.n_kat_2_opp)"], ["proof (state)\nthis:\n  x \\<cdot> !y = !y \\<cdot> x \\<cdot> !y\n\ngoal (2 subgoals):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y \\<le> !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>\n 2. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "thus \"x\\<^sup>\\<star> \\<cdot> n y \\<le> n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  x \\<cdot> !y = !y \\<cdot> x \\<cdot> !y\n\ngoal (1 subgoal):\n 1. x\\<^sup>\\<star> \\<cdot> !y \\<le> !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>", "by (simp add: local.star_sim1 mult_assoc)"], ["proof (state)\nthis:\n  x\\<^sup>\\<star> \\<cdot> !y \\<le> !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "assume a1: \"x \\<cdot> n y \\<le> n y \\<cdot> x\""], ["proof (state)\nthis:\n  x \\<cdot> !y \\<le> !y \\<cdot> x\n\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "thus \"n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> n y\""], ["proof (prove)\nusing this:\n  x \\<cdot> !y \\<le> !y \\<cdot> x\n\ngoal (1 subgoal):\n 1. !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "using local.star_slide star_n_export2"], ["proof (prove)\nusing this:\n  x \\<cdot> !y \\<le> !y \\<cdot> x\n  (?x \\<cdot> ?y)\\<^sup>\\<star> \\<cdot> ?x =\n  ?x \\<cdot> (?y \\<cdot> ?x)\\<^sup>\\<star>\n  (!?x \\<cdot> ?y)\\<^sup>\\<star> \\<cdot> !?x\n  \\<le> ?y\\<^sup>\\<star> \\<cdot> !?x\n\ngoal (1 subgoal):\n 1. !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y", "by force"], ["proof (state)\nthis:\n  !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star> \\<le> x\\<^sup>\\<star> \\<cdot> !y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_test_export_left: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow> x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>", "using star_n_export_left"], ["proof (prove)\nusing this:\n  ?x \\<cdot> !?y \\<le> !?y \\<cdot> ?x \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> !?y = !?y \\<cdot> (?x \\<cdot> !?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>", "by auto"], ["", "lemma star_n_export_right: \"x \\<cdot> n y \\<le> n y \\<cdot> x \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> n y = (n y \\<cdot> x)\\<^sup>\\<star> \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> !y \\<le> !y \\<cdot> x \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y = (!y \\<cdot> x)\\<^sup>\\<star> \\<cdot> !y", "by (simp add: local.star_slide star_n_export_left)"], ["", "lemma star_test_export_right: \"test p \\<Longrightarrow> x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow> x\\<^sup>\\<star> \\<cdot> p = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> p = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p", "using star_n_export_right"], ["proof (prove)\nusing this:\n  ?x \\<cdot> !?y \\<le> !?y \\<cdot> ?x \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> !?y = (!?y \\<cdot> ?x)\\<^sup>\\<star> \\<cdot> !?y\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    x \\<cdot> p \\<le> p \\<cdot> x \\<longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> p = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p", "by auto"], ["", "lemma star_n_folk: \"n z \\<cdot> x = x \\<cdot> n z \\<Longrightarrow> n z \\<cdot> y = y \\<cdot> n z \\<Longrightarrow> (n z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> n z = n z \\<cdot> (n z \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "assume a: \"n z \\<cdot> x = x \\<cdot> n z\" and b: \"n z \\<cdot> y = y \\<cdot> n z\""], ["proof (state)\nthis:\n  !z \\<cdot> x = x \\<cdot> !z\n  !z \\<cdot> y = y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "hence \"n z \\<cdot> (n z \\<cdot> x + t z \\<cdot> y) = (n z \\<cdot> x + t z \\<cdot> y) \\<cdot> n z\""], ["proof (prove)\nusing this:\n  !z \\<cdot> x = x \\<cdot> !z\n  !z \\<cdot> y = y \\<cdot> !z\n\ngoal (1 subgoal):\n 1. !z \\<cdot> (!z \\<cdot> x + t z \\<cdot> y) =\n    (!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z", "using local.comm_add_var local.t_n_closed local.test_def"], ["proof (prove)\nusing this:\n  !z \\<cdot> x = x \\<cdot> !z\n  !z \\<cdot> y = y \\<cdot> !z\n  \\<lbrakk>test ?p; test ?q; test ?r; ?p \\<cdot> ?x = ?x \\<cdot> ?p;\n   ?p \\<cdot> ?y = ?y \\<cdot> ?p\\<rbrakk>\n  \\<Longrightarrow> ?p \\<cdot> (?q \\<cdot> ?x + ?r \\<cdot> ?y) =\n                    (?q \\<cdot> ?x + ?r \\<cdot> ?y) \\<cdot> ?p\n  !t ?x = !?x\n  test ?p \\<equiv> t ?p = ?p\n\ngoal (1 subgoal):\n 1. !z \\<cdot> (!z \\<cdot> x + t z \\<cdot> y) =\n    (!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z", "by blast"], ["proof (state)\nthis:\n  !z \\<cdot> (!z \\<cdot> x + t z \\<cdot> y) =\n  (!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "hence \"(n z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> n z = n z \\<cdot> ((n z \\<cdot> x + t z \\<cdot> y) \\<cdot> n z)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  !z \\<cdot> (!z \\<cdot> x + t z \\<cdot> y) =\n  (!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z\n\ngoal (1 subgoal):\n 1. (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n    !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star>", "using local.order_refl star_n_export_left"], ["proof (prove)\nusing this:\n  !z \\<cdot> (!z \\<cdot> x + t z \\<cdot> y) =\n  (!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z\n  ?x \\<le> ?x\n  ?x \\<cdot> !?y \\<le> !?y \\<cdot> ?x \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> !?y = !?y \\<cdot> (?x \\<cdot> !?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n    !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star>", "by presburger"], ["proof (state)\nthis:\n  (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n  !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n  !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "have \"... = n z \\<cdot> (n z \\<cdot> x \\<cdot> n z + t z \\<cdot> y \\<cdot> n z)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star> =\n    !z \\<cdot>\n    (!z \\<cdot> x \\<cdot> !z + t z \\<cdot> y \\<cdot> !z)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star> =\n  !z \\<cdot>\n  (!z \\<cdot> x \\<cdot> !z + t z \\<cdot> y \\<cdot> !z)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  !z \\<cdot> ((!z \\<cdot> x + t z \\<cdot> y) \\<cdot> !z)\\<^sup>\\<star> =\n  !z \\<cdot>\n  (!z \\<cdot> x \\<cdot> !z + t z \\<cdot> y \\<cdot> !z)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "have \"... = n z \\<cdot> (n z \\<cdot> n z \\<cdot> x + t z \\<cdot> n z \\<cdot> y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !z \\<cdot>\n    (!z \\<cdot> x \\<cdot> !z + t z \\<cdot> y \\<cdot> !z)\\<^sup>\\<star> =\n    !z \\<cdot>\n    (!z \\<cdot> !z \\<cdot> x + t z \\<cdot> !z \\<cdot> y)\\<^sup>\\<star>", "by (simp add: a b mult_assoc)"], ["proof (state)\nthis:\n  !z \\<cdot>\n  (!z \\<cdot> x \\<cdot> !z + t z \\<cdot> y \\<cdot> !z)\\<^sup>\\<star> =\n  !z \\<cdot>\n  (!z \\<cdot> !z \\<cdot> x + t z \\<cdot> !z \\<cdot> y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "also"], ["proof (state)\nthis:\n  !z \\<cdot>\n  (!z \\<cdot> x \\<cdot> !z + t z \\<cdot> y \\<cdot> !z)\\<^sup>\\<star> =\n  !z \\<cdot>\n  (!z \\<cdot> !z \\<cdot> x + t z \\<cdot> !z \\<cdot> y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "have \"... = n z \\<cdot> (n z \\<cdot> x + 0 \\<cdot> y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !z \\<cdot>\n    (!z \\<cdot> !z \\<cdot> x + t z \\<cdot> !z \\<cdot> y)\\<^sup>\\<star> =\n    !z \\<cdot> (!z \\<cdot> x + (0::'a) \\<cdot> y)\\<^sup>\\<star>", "by (simp add: local.n_mult_comm)"], ["proof (state)\nthis:\n  !z \\<cdot>\n  (!z \\<cdot> !z \\<cdot> x + t z \\<cdot> !z \\<cdot> y)\\<^sup>\\<star> =\n  !z \\<cdot> (!z \\<cdot> x + (0::'a) \\<cdot> y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot>\n                      !z =\n                      !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "finally"], ["proof (chain)\npicking this:\n  (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n  !z \\<cdot> (!z \\<cdot> x + (0::'a) \\<cdot> y)\\<^sup>\\<star>", "show \"(n z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> n z = n z \\<cdot> (n z \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\nusing this:\n  (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n  !z \\<cdot> (!z \\<cdot> x + (0::'a) \\<cdot> y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n    !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>", "by simp"], ["proof (state)\nthis:\n  (!z \\<cdot> x + t z \\<cdot> y)\\<^sup>\\<star> \\<cdot> !z =\n  !z \\<cdot> (!z \\<cdot> x)\\<^sup>\\<star>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma star_test_folk: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> p \\<cdot> y = y \\<cdot> p \\<longrightarrow> (p \\<cdot> x + !p \\<cdot> y)\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (p \\<cdot> x)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> y = y \\<cdot> p \\<longrightarrow>\n    (p \\<cdot> x + !p \\<cdot> y)\\<^sup>\\<star> \\<cdot> p =\n    p \\<cdot> (p \\<cdot> x)\\<^sup>\\<star>", "using star_n_folk"], ["proof (prove)\nusing this:\n  \\<lbrakk>!?z \\<cdot> ?x = ?x \\<cdot> !?z;\n   !?z \\<cdot> ?y = ?y \\<cdot> !?z\\<rbrakk>\n  \\<Longrightarrow> (!?z \\<cdot> ?x + t ?z \\<cdot> ?y)\\<^sup>\\<star> \\<cdot>\n                    !?z =\n                    !?z \\<cdot> (!?z \\<cdot> ?x)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> y = y \\<cdot> p \\<longrightarrow>\n    (p \\<cdot> x + !p \\<cdot> y)\\<^sup>\\<star> \\<cdot> p =\n    p \\<cdot> (p \\<cdot> x)\\<^sup>\\<star>", "by auto"], ["", "end"], ["", "class kat_zerol = kleene_algebra_zerol + test_semiring_zerol\nbegin"], ["", "sublocale conway: near_conway_zerol_tests star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.near_conway_zerol_tests star (+) (\\<cdot>) (1::'a) (\\<le>) (<)\n     (0::'a) n_op", ".."], ["", "lemma n_star_sim_right: \"n y \\<cdot> x = x \\<cdot> n y \\<Longrightarrow> n y \\<cdot> x\\<^sup>\\<star> = (n y \\<cdot> x)\\<^sup>\\<star> \\<cdot> n y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !y \\<cdot> x = x \\<cdot> !y \\<Longrightarrow>\n    !y \\<cdot> x\\<^sup>\\<star> = (!y \\<cdot> x)\\<^sup>\\<star> \\<cdot> !y", "by (metis local.n_mult_idem local.star_sim3 mult_assoc)"], ["", "lemma star_sim_right: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> p \\<cdot> x\\<^sup>\\<star> = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> x\\<^sup>\\<star> = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p", "using n_star_sim_right"], ["proof (prove)\nusing this:\n  !?y \\<cdot> ?x = ?x \\<cdot> !?y \\<Longrightarrow>\n  !?y \\<cdot> ?x\\<^sup>\\<star> = (!?y \\<cdot> ?x)\\<^sup>\\<star> \\<cdot> !?y\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> x\\<^sup>\\<star> = (p \\<cdot> x)\\<^sup>\\<star> \\<cdot> p", "by auto"], ["", "lemma n_star_sim_left: \"n y \\<cdot> x = x \\<cdot> n y \\<Longrightarrow> n y \\<cdot> x\\<^sup>\\<star> = n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !y \\<cdot> x = x \\<cdot> !y \\<Longrightarrow>\n    !y \\<cdot> x\\<^sup>\\<star> = !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>", "by (metis local.star_slide n_star_sim_right)"], ["", "lemma star_sim_left: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> p \\<cdot> x\\<^sup>\\<star> = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> x\\<^sup>\\<star> = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>", "using n_star_sim_left"], ["proof (prove)\nusing this:\n  !?y \\<cdot> ?x = ?x \\<cdot> !?y \\<Longrightarrow>\n  !?y \\<cdot> ?x\\<^sup>\\<star> = !?y \\<cdot> (?x \\<cdot> !?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> x\\<^sup>\\<star> = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>", "by auto"], ["", "lemma n_comm_star: \"n z \\<cdot> x = x \\<cdot> n z \\<Longrightarrow>  n z \\<cdot> y = y \\<cdot> n z \\<Longrightarrow> n z \\<cdot> x \\<cdot> (n z \\<cdot> y)\\<^sup>\\<star> = n z \\<cdot> x \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> !z \\<cdot> x \\<cdot> (!z \\<cdot> y)\\<^sup>\\<star> =\n                      !z \\<cdot> x \\<cdot> y\\<^sup>\\<star>", "using mult_assoc n_star_sim_left"], ["proof (prove)\nusing this:\n  ?a \\<cdot> ?b \\<cdot> ?c = ?a \\<cdot> (?b \\<cdot> ?c)\n  !?y \\<cdot> ?x = ?x \\<cdot> !?y \\<Longrightarrow>\n  !?y \\<cdot> ?x\\<^sup>\\<star> = !?y \\<cdot> (?x \\<cdot> !?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>!z \\<cdot> x = x \\<cdot> !z;\n     !z \\<cdot> y = y \\<cdot> !z\\<rbrakk>\n    \\<Longrightarrow> !z \\<cdot> x \\<cdot> (!z \\<cdot> y)\\<^sup>\\<star> =\n                      !z \\<cdot> x \\<cdot> y\\<^sup>\\<star>", "by presburger"], ["", "lemma comm_star: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow>  p \\<cdot> y = y \\<cdot> p \\<longrightarrow> p \\<cdot> x \\<cdot> (p \\<cdot> y)\\<^sup>\\<star> = p \\<cdot> x \\<cdot> y\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> y = y \\<cdot> p \\<longrightarrow>\n    p \\<cdot> x \\<cdot> (p \\<cdot> y)\\<^sup>\\<star> =\n    p \\<cdot> x \\<cdot> y\\<^sup>\\<star>", "using n_comm_star"], ["proof (prove)\nusing this:\n  \\<lbrakk>!?z \\<cdot> ?x = ?x \\<cdot> !?z;\n   !?z \\<cdot> ?y = ?y \\<cdot> !?z\\<rbrakk>\n  \\<Longrightarrow> !?z \\<cdot> ?x \\<cdot> (!?z \\<cdot> ?y)\\<^sup>\\<star> =\n                    !?z \\<cdot> ?x \\<cdot> ?y\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    p \\<cdot> y = y \\<cdot> p \\<longrightarrow>\n    p \\<cdot> x \\<cdot> (p \\<cdot> y)\\<^sup>\\<star> =\n    p \\<cdot> x \\<cdot> y\\<^sup>\\<star>", "by auto"], ["", "lemma n_star_sim_right_var: \"n y \\<cdot> x = x \\<cdot> n y \\<Longrightarrow> x\\<^sup>\\<star> \\<cdot> n y = n y \\<cdot> (x \\<cdot> n y)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. !y \\<cdot> x = x \\<cdot> !y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y = !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>", "using local.star_sim3 n_star_sim_left"], ["proof (prove)\nusing this:\n  ?z \\<cdot> ?x = ?y \\<cdot> ?z \\<Longrightarrow>\n  ?z \\<cdot> ?x\\<^sup>\\<star> = ?y\\<^sup>\\<star> \\<cdot> ?z\n  !?y \\<cdot> ?x = ?x \\<cdot> !?y \\<Longrightarrow>\n  !?y \\<cdot> ?x\\<^sup>\\<star> = !?y \\<cdot> (?x \\<cdot> !?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. !y \\<cdot> x = x \\<cdot> !y \\<Longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> !y = !y \\<cdot> (x \\<cdot> !y)\\<^sup>\\<star>", "by force"], ["", "lemma star_sim_right_var: \"test p \\<Longrightarrow> p \\<cdot> x = x \\<cdot> p \\<longrightarrow> x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>", "using n_star_sim_right_var"], ["proof (prove)\nusing this:\n  !?y \\<cdot> ?x = ?x \\<cdot> !?y \\<Longrightarrow>\n  ?x\\<^sup>\\<star> \\<cdot> !?y = !?y \\<cdot> (?x \\<cdot> !?y)\\<^sup>\\<star>\n\ngoal (1 subgoal):\n 1. test p \\<Longrightarrow>\n    p \\<cdot> x = x \\<cdot> p \\<longrightarrow>\n    x\\<^sup>\\<star> \\<cdot> p = p \\<cdot> (x \\<cdot> p)\\<^sup>\\<star>", "by auto"], ["", "end"], ["", "text \\<open>Finally, we define Kleene algebra with tests.\\<close>"], ["", "class kat = kleene_algebra + test_semiring\n\nbegin"], ["", "sublocale conway: test_pre_conway star"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.test_pre_conway star (+) (\\<cdot>) (1::'a) (\\<le>) (<) (0::'a)\n     n_op", ".."], ["", "end"], ["", "end"]]}