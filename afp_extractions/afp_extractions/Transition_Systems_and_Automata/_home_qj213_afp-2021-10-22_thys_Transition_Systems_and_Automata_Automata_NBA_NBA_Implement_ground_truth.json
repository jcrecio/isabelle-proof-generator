{"file_name": "/home/qj213/afp-2021-10-22/thys/Transition_Systems_and_Automata/Automata/NBA/NBA_Implement.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Transition_Systems_and_Automata", "problem_names": ["lemma nba_scheme_itype[autoref_itype]:\n      \"nba ::\\<^sub>i \\<langle>L\\<rangle>\\<^sub>i i_set \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set \\<rightarrow>\\<^sub>i (L \\<rightarrow>\\<^sub>i S \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set) \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set \\<rightarrow>\\<^sub>i\n        \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme\"\n      \"alphabet ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i \\<langle>L\\<rangle>\\<^sub>i i_set\"\n      \"initial ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set\"\n      \"transition ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i L \\<rightarrow>\\<^sub>i S \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set\"\n      \"accepting ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set\"", "lemma nbai_param[param, autoref_rules]:\n    \"(nbai, nbai) \\<in> \\<langle>L\\<rangle> list_rel \\<rightarrow> \\<langle>S\\<rangle> list_rel \\<rightarrow> (L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_rel) \\<rightarrow>\n      (S \\<rightarrow> bool_rel) \\<rightarrow> \\<langle>L, S\\<rangle> nbai_rel\"\n    \"(alphabeti, alphabeti) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> \\<langle>L\\<rangle> list_rel\"\n    \"(initiali, initiali) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> \\<langle>S\\<rangle> list_rel\"\n    \"(transitioni, transitioni) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_rel\"\n    \"(acceptingi, acceptingi) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> (S \\<rightarrow> bool_rel)\"", "lemmas [autoref_rel_intf] = REL_INTFI[of nbai_nba_rel i_nba_scheme]", "lemma nbai_nba_param[param, autoref_rules]:\n    \"(nbai, nba) \\<in> \\<langle>L\\<rangle> list_set_rel \\<rightarrow> \\<langle>S\\<rangle> list_set_rel \\<rightarrow> (L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_set_rel) \\<rightarrow>\n      (S \\<rightarrow> bool_rel) \\<rightarrow> \\<langle>L, S\\<rangle> nbai_nba_rel\"\n    \"(alphabeti, alphabet) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> \\<langle>L\\<rangle> list_set_rel\"\n    \"(initiali, initial) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> \\<langle>S\\<rangle> list_set_rel\"\n    \"(transitioni, transition) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_set_rel\"\n    \"(acceptingi, accepting) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> S \\<rightarrow> bool_rel\"", "lemma nbai_nba_id_param[param]: \"(nbai_nba, id) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> \\<langle>L, S\\<rangle> nba_rel\"", "lemma nbai_nba_br: \"\\<langle>Id, Id\\<rangle> nbai_nba_rel = br nbai_nba nbai_invar\""], "translations": [["", "lemma nba_scheme_itype[autoref_itype]:\n      \"nba ::\\<^sub>i \\<langle>L\\<rangle>\\<^sub>i i_set \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set \\<rightarrow>\\<^sub>i (L \\<rightarrow>\\<^sub>i S \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set) \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set \\<rightarrow>\\<^sub>i\n        \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme\"\n      \"alphabet ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i \\<langle>L\\<rangle>\\<^sub>i i_set\"\n      \"initial ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set\"\n      \"transition ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i L \\<rightarrow>\\<^sub>i S \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set\"\n      \"accepting ::\\<^sub>i \\<langle>L, S\\<rangle>\\<^sub>i i_nba_scheme \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>i i_set\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nba ::\\<^sub>i\n     \\<langle>L\\<rangle>\\<^sub>ii_set \\<rightarrow>\\<^sub>i\n     \\<langle>S\\<rangle>\\<^sub>ii_set \\<rightarrow>\\<^sub>i\n     (L \\<rightarrow>\\<^sub>i\n      S \\<rightarrow>\\<^sub>i\n      \\<langle>S\\<rangle>\\<^sub>ii_set) \\<rightarrow>\\<^sub>i\n     \\<langle>S\\<rangle>\\<^sub>ii_set \\<rightarrow>\\<^sub>i \\<langle>L,\n     S\\<rangle>\\<^sub>ii_nba_scheme &&&\n     alphabet ::\\<^sub>i\n     \\<langle>L, S\\<rangle>\\<^sub>ii_nba_scheme \\<rightarrow>\\<^sub>i\n     \\<langle>L\\<rangle>\\<^sub>ii_set) &&&\n    initial ::\\<^sub>i\n    \\<langle>L, S\\<rangle>\\<^sub>ii_nba_scheme \\<rightarrow>\\<^sub>i\n    \\<langle>S\\<rangle>\\<^sub>ii_set &&&\n    transition ::\\<^sub>i\n    \\<langle>L, S\\<rangle>\\<^sub>ii_nba_scheme \\<rightarrow>\\<^sub>i\n    L \\<rightarrow>\\<^sub>i\n    S \\<rightarrow>\\<^sub>i \\<langle>S\\<rangle>\\<^sub>ii_set &&&\n    accepting ::\\<^sub>i\n    \\<langle>L, S\\<rangle>\\<^sub>ii_nba_scheme \\<rightarrow>\\<^sub>i\n    \\<langle>S\\<rangle>\\<^sub>ii_set", "by auto"], ["", "end"], ["", "datatype ('label, 'state) nbai = nbai\n    (alphabeti: \"'label list\")\n    (initiali: \"'state list\")\n    (transitioni: \"'label \\<Rightarrow> 'state \\<Rightarrow> 'state list\")\n    (acceptingi: \"'state \\<Rightarrow> bool\")"], ["", "definition nbai_rel :: \"('label\\<^sub>1 \\<times> 'label\\<^sub>2) set \\<Rightarrow> ('state\\<^sub>1 \\<times> 'state\\<^sub>2) set \\<Rightarrow>\n    (('label\\<^sub>1, 'state\\<^sub>1) nbai \\<times> ('label\\<^sub>2, 'state\\<^sub>2) nbai) set\" where\n    [to_relAPP]: \"nbai_rel L S \\<equiv> {(A\\<^sub>1, A\\<^sub>2).\n      (alphabeti A\\<^sub>1, alphabeti A\\<^sub>2) \\<in> \\<langle>L\\<rangle> list_rel \\<and>\n      (initiali A\\<^sub>1, initiali A\\<^sub>2) \\<in> \\<langle>S\\<rangle> list_rel \\<and>\n      (transitioni A\\<^sub>1, transitioni A\\<^sub>2) \\<in> L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_rel \\<and>\n      (acceptingi A\\<^sub>1, acceptingi A\\<^sub>2) \\<in> S \\<rightarrow> bool_rel}\""], ["", "lemma nbai_param[param, autoref_rules]:\n    \"(nbai, nbai) \\<in> \\<langle>L\\<rangle> list_rel \\<rightarrow> \\<langle>S\\<rangle> list_rel \\<rightarrow> (L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_rel) \\<rightarrow>\n      (S \\<rightarrow> bool_rel) \\<rightarrow> \\<langle>L, S\\<rangle> nbai_rel\"\n    \"(alphabeti, alphabeti) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> \\<langle>L\\<rangle> list_rel\"\n    \"(initiali, initiali) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> \\<langle>S\\<rangle> list_rel\"\n    \"(transitioni, transitioni) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_rel\"\n    \"(acceptingi, acceptingi) \\<in> \\<langle>L, S\\<rangle> nbai_rel \\<rightarrow> (S \\<rightarrow> bool_rel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((nbai, nbai)\n     \\<in> \\<langle>L\\<rangle>list_rel \\<rightarrow>\n           \\<langle>S\\<rangle>list_rel \\<rightarrow>\n           (L \\<rightarrow>\n            S \\<rightarrow> \\<langle>S\\<rangle>list_rel) \\<rightarrow>\n           (S \\<rightarrow> bool_rel) \\<rightarrow> \\<langle>L,\n           S\\<rangle>nbai_rel &&&\n     (alphabeti, alphabeti)\n     \\<in> \\<langle>L, S\\<rangle>nbai_rel \\<rightarrow>\n           \\<langle>L\\<rangle>list_rel) &&&\n    (initiali, initiali)\n    \\<in> \\<langle>L, S\\<rangle>nbai_rel \\<rightarrow>\n          \\<langle>S\\<rangle>list_rel &&&\n    (transitioni, transitioni)\n    \\<in> \\<langle>L, S\\<rangle>nbai_rel \\<rightarrow>\n          L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle>list_rel &&&\n    (acceptingi, acceptingi)\n    \\<in> \\<langle>L, S\\<rangle>nbai_rel \\<rightarrow>\n          S \\<rightarrow> bool_rel", "unfolding nbai_rel_def fun_rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((nbai, nbai)\n     \\<in> {(f, f').\n            \\<forall>(a, a')\\<in>\\<langle>L\\<rangle>list_rel.\n               (f a, f' a')\n               \\<in> {(f, f').\n                      \\<forall>(a, a')\\<in>\\<langle>S\\<rangle>list_rel.\n                         (f a, f' a')\n                         \\<in> {(f, f').\n                                \\<forall>(a, a')\n   \\<in>{(f, f').\n         \\<forall>(a, a')\\<in>L.\n            (f a, f' a')\n            \\<in> {(f, f').\n                   \\<forall>(a, a')\\<in>S.\n                      (f a, f' a') \\<in> \\<langle>S\\<rangle>list_rel}}.\n                                   (f a, f' a')\n                                   \\<in> {(f, f').\n    \\<forall>(a, a')\n             \\<in>{(f, f').\n                   \\<forall>(a, a')\\<in>S. (f a, f' a') \\<in> bool_rel}.\n       (f a, f' a')\n       \\<in> {(A\\<^sub>1, A\\<^sub>2).\n              (alphabeti A\\<^sub>1, alphabeti A\\<^sub>2)\n              \\<in> \\<langle>L\\<rangle>list_rel \\<and>\n              (initiali A\\<^sub>1, initiali A\\<^sub>2)\n              \\<in> \\<langle>S\\<rangle>list_rel \\<and>\n              (transitioni A\\<^sub>1, transitioni A\\<^sub>2)\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>L.\n                        (f a, f' a')\n                        \\<in> {(f, f').\n                               \\<forall>(a, a')\\<in>S.\n                                  (f a, f' a')\n                                  \\<in> \\<langle>S\\<rangle>list_rel}} \\<and>\n              (acceptingi A\\<^sub>1, acceptingi A\\<^sub>2)\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>S.\n                        (f a, f' a') \\<in> bool_rel}}}}}} &&&\n     (alphabeti, alphabeti)\n     \\<in> {(f, f').\n            \\<forall>(a, a')\n                     \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                           (alphabeti A\\<^sub>1, alphabeti A\\<^sub>2)\n                           \\<in> \\<langle>L\\<rangle>list_rel \\<and>\n                           (initiali A\\<^sub>1, initiali A\\<^sub>2)\n                           \\<in> \\<langle>S\\<rangle>list_rel \\<and>\n                           (transitioni A\\<^sub>1, transitioni A\\<^sub>2)\n                           \\<in> {(f, f').\n                                  \\<forall>(a, a')\\<in>L.\n                                     (f a, f' a')\n                                     \\<in> {(f, f').\n      \\<forall>(a, a')\\<in>S.\n         (f a, f' a') \\<in> \\<langle>S\\<rangle>list_rel}} \\<and>\n                           (acceptingi A\\<^sub>1, acceptingi A\\<^sub>2)\n                           \\<in> {(f, f').\n                                  \\<forall>(a, a')\\<in>S.\n                                     (f a, f' a') \\<in> bool_rel}}.\n               (f a, f' a') \\<in> \\<langle>L\\<rangle>list_rel}) &&&\n    (initiali, initiali)\n    \\<in> {(f, f').\n           \\<forall>(a, a')\n                    \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                          (alphabeti A\\<^sub>1, alphabeti A\\<^sub>2)\n                          \\<in> \\<langle>L\\<rangle>list_rel \\<and>\n                          (initiali A\\<^sub>1, initiali A\\<^sub>2)\n                          \\<in> \\<langle>S\\<rangle>list_rel \\<and>\n                          (transitioni A\\<^sub>1, transitioni A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>L.\n                                    (f a, f' a')\n                                    \\<in> {(f, f').\n     \\<forall>(a, a')\\<in>S.\n        (f a, f' a') \\<in> \\<langle>S\\<rangle>list_rel}} \\<and>\n                          (acceptingi A\\<^sub>1, acceptingi A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>S.\n                                    (f a, f' a') \\<in> bool_rel}}.\n              (f a, f' a') \\<in> \\<langle>S\\<rangle>list_rel} &&&\n    (transitioni, transitioni)\n    \\<in> {(f, f').\n           \\<forall>(a, a')\n                    \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                          (alphabeti A\\<^sub>1, alphabeti A\\<^sub>2)\n                          \\<in> \\<langle>L\\<rangle>list_rel \\<and>\n                          (initiali A\\<^sub>1, initiali A\\<^sub>2)\n                          \\<in> \\<langle>S\\<rangle>list_rel \\<and>\n                          (transitioni A\\<^sub>1, transitioni A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>L.\n                                    (f a, f' a')\n                                    \\<in> {(f, f').\n     \\<forall>(a, a')\\<in>S.\n        (f a, f' a') \\<in> \\<langle>S\\<rangle>list_rel}} \\<and>\n                          (acceptingi A\\<^sub>1, acceptingi A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>S.\n                                    (f a, f' a') \\<in> bool_rel}}.\n              (f a, f' a')\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>L.\n                        (f a, f' a')\n                        \\<in> {(f, f').\n                               \\<forall>(a, a')\\<in>S.\n                                  (f a, f' a')\n                                  \\<in> \\<langle>S\\<rangle>list_rel}}} &&&\n    (acceptingi, acceptingi)\n    \\<in> {(f, f').\n           \\<forall>(a, a')\n                    \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                          (alphabeti A\\<^sub>1, alphabeti A\\<^sub>2)\n                          \\<in> \\<langle>L\\<rangle>list_rel \\<and>\n                          (initiali A\\<^sub>1, initiali A\\<^sub>2)\n                          \\<in> \\<langle>S\\<rangle>list_rel \\<and>\n                          (transitioni A\\<^sub>1, transitioni A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>L.\n                                    (f a, f' a')\n                                    \\<in> {(f, f').\n     \\<forall>(a, a')\\<in>S.\n        (f a, f' a') \\<in> \\<langle>S\\<rangle>list_rel}} \\<and>\n                          (acceptingi A\\<^sub>1, acceptingi A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>S.\n                                    (f a, f' a') \\<in> bool_rel}}.\n              (f a, f' a')\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>S. (f a, f' a') \\<in> bool_rel}}", "by auto"], ["", "definition nbai_nba_rel :: \"('label\\<^sub>1 \\<times> 'label\\<^sub>2) set \\<Rightarrow> ('state\\<^sub>1 \\<times> 'state\\<^sub>2) set \\<Rightarrow>\n    (('label\\<^sub>1, 'state\\<^sub>1) nbai \\<times> ('label\\<^sub>2, 'state\\<^sub>2) nba) set\" where\n    [to_relAPP]: \"nbai_nba_rel L S \\<equiv> {(A\\<^sub>1, A\\<^sub>2).\n      (alphabeti A\\<^sub>1, alphabet A\\<^sub>2) \\<in> \\<langle>L\\<rangle> list_set_rel \\<and>\n      (initiali A\\<^sub>1, initial A\\<^sub>2) \\<in> \\<langle>S\\<rangle> list_set_rel \\<and>\n      (transitioni A\\<^sub>1, transition A\\<^sub>2) \\<in> L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_set_rel \\<and>\n      (acceptingi A\\<^sub>1, accepting A\\<^sub>2) \\<in> S \\<rightarrow> bool_rel}\""], ["", "lemmas [autoref_rel_intf] = REL_INTFI[of nbai_nba_rel i_nba_scheme]"], ["", "(* TODO: why is there a warning? *)"], ["", "lemma nbai_nba_param[param, autoref_rules]:\n    \"(nbai, nba) \\<in> \\<langle>L\\<rangle> list_set_rel \\<rightarrow> \\<langle>S\\<rangle> list_set_rel \\<rightarrow> (L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_set_rel) \\<rightarrow>\n      (S \\<rightarrow> bool_rel) \\<rightarrow> \\<langle>L, S\\<rangle> nbai_nba_rel\"\n    \"(alphabeti, alphabet) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> \\<langle>L\\<rangle> list_set_rel\"\n    \"(initiali, initial) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> \\<langle>S\\<rangle> list_set_rel\"\n    \"(transitioni, transition) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> L \\<rightarrow> S \\<rightarrow> \\<langle>S\\<rangle> list_set_rel\"\n    \"(acceptingi, accepting) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> S \\<rightarrow> bool_rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((nbai, nba)\n     \\<in> \\<langle>L\\<rangle>list_set_rel \\<rightarrow>\n           \\<langle>S\\<rangle>list_set_rel \\<rightarrow>\n           (L \\<rightarrow>\n            S \\<rightarrow> \\<langle>S\\<rangle>list_set_rel) \\<rightarrow>\n           (S \\<rightarrow> bool_rel) \\<rightarrow> \\<langle>L,\n           S\\<rangle>nbai_nba_rel &&&\n     (alphabeti, alphabet)\n     \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<rightarrow>\n           \\<langle>L\\<rangle>list_set_rel) &&&\n    (initiali, initial)\n    \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<rightarrow>\n          \\<langle>S\\<rangle>list_set_rel &&&\n    (transitioni, transition)\n    \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<rightarrow>\n          L \\<rightarrow>\n          S \\<rightarrow> \\<langle>S\\<rangle>list_set_rel &&&\n    (acceptingi, accepting)\n    \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<rightarrow>\n          S \\<rightarrow> bool_rel", "unfolding nbai_nba_rel_def fun_rel_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((nbai, nba)\n     \\<in> {(f, f').\n            \\<forall>(a, a')\\<in>\\<langle>L\\<rangle>list_set_rel.\n               (f a, f' a')\n               \\<in> {(f, f').\n                      \\<forall>(a, a')\\<in>\\<langle>S\\<rangle>list_set_rel.\n                         (f a, f' a')\n                         \\<in> {(f, f').\n                                \\<forall>(a, a')\n   \\<in>{(f, f').\n         \\<forall>(a, a')\\<in>L.\n            (f a, f' a')\n            \\<in> {(f, f').\n                   \\<forall>(a, a')\\<in>S.\n                      (f a, f' a') \\<in> \\<langle>S\\<rangle>list_set_rel}}.\n                                   (f a, f' a')\n                                   \\<in> {(f, f').\n    \\<forall>(a, a')\n             \\<in>{(f, f').\n                   \\<forall>(a, a')\\<in>S. (f a, f' a') \\<in> bool_rel}.\n       (f a, f' a')\n       \\<in> {(A\\<^sub>1, A\\<^sub>2).\n              (alphabeti A\\<^sub>1, alphabet A\\<^sub>2)\n              \\<in> \\<langle>L\\<rangle>list_set_rel \\<and>\n              (initiali A\\<^sub>1, initial A\\<^sub>2)\n              \\<in> \\<langle>S\\<rangle>list_set_rel \\<and>\n              (transitioni A\\<^sub>1, transition A\\<^sub>2)\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>L.\n                        (f a, f' a')\n                        \\<in> {(f, f').\n                               \\<forall>(a, a')\\<in>S.\n                                  (f a, f' a')\n                                  \\<in> \\<langle>S\\<rangle>list_set_rel}} \\<and>\n              (acceptingi A\\<^sub>1, accepting A\\<^sub>2)\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>S.\n                        (f a, f' a') \\<in> bool_rel}}}}}} &&&\n     (alphabeti, alphabet)\n     \\<in> {(f, f').\n            \\<forall>(a, a')\n                     \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                           (alphabeti A\\<^sub>1, alphabet A\\<^sub>2)\n                           \\<in> \\<langle>L\\<rangle>list_set_rel \\<and>\n                           (initiali A\\<^sub>1, initial A\\<^sub>2)\n                           \\<in> \\<langle>S\\<rangle>list_set_rel \\<and>\n                           (transitioni A\\<^sub>1, transition A\\<^sub>2)\n                           \\<in> {(f, f').\n                                  \\<forall>(a, a')\\<in>L.\n                                     (f a, f' a')\n                                     \\<in> {(f, f').\n      \\<forall>(a, a')\\<in>S.\n         (f a, f' a') \\<in> \\<langle>S\\<rangle>list_set_rel}} \\<and>\n                           (acceptingi A\\<^sub>1, accepting A\\<^sub>2)\n                           \\<in> {(f, f').\n                                  \\<forall>(a, a')\\<in>S.\n                                     (f a, f' a') \\<in> bool_rel}}.\n               (f a, f' a') \\<in> \\<langle>L\\<rangle>list_set_rel}) &&&\n    (initiali, initial)\n    \\<in> {(f, f').\n           \\<forall>(a, a')\n                    \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                          (alphabeti A\\<^sub>1, alphabet A\\<^sub>2)\n                          \\<in> \\<langle>L\\<rangle>list_set_rel \\<and>\n                          (initiali A\\<^sub>1, initial A\\<^sub>2)\n                          \\<in> \\<langle>S\\<rangle>list_set_rel \\<and>\n                          (transitioni A\\<^sub>1, transition A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>L.\n                                    (f a, f' a')\n                                    \\<in> {(f, f').\n     \\<forall>(a, a')\\<in>S.\n        (f a, f' a') \\<in> \\<langle>S\\<rangle>list_set_rel}} \\<and>\n                          (acceptingi A\\<^sub>1, accepting A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>S.\n                                    (f a, f' a') \\<in> bool_rel}}.\n              (f a, f' a') \\<in> \\<langle>S\\<rangle>list_set_rel} &&&\n    (transitioni, transition)\n    \\<in> {(f, f').\n           \\<forall>(a, a')\n                    \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                          (alphabeti A\\<^sub>1, alphabet A\\<^sub>2)\n                          \\<in> \\<langle>L\\<rangle>list_set_rel \\<and>\n                          (initiali A\\<^sub>1, initial A\\<^sub>2)\n                          \\<in> \\<langle>S\\<rangle>list_set_rel \\<and>\n                          (transitioni A\\<^sub>1, transition A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>L.\n                                    (f a, f' a')\n                                    \\<in> {(f, f').\n     \\<forall>(a, a')\\<in>S.\n        (f a, f' a') \\<in> \\<langle>S\\<rangle>list_set_rel}} \\<and>\n                          (acceptingi A\\<^sub>1, accepting A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>S.\n                                    (f a, f' a') \\<in> bool_rel}}.\n              (f a, f' a')\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>L.\n                        (f a, f' a')\n                        \\<in> {(f, f').\n                               \\<forall>(a, a')\\<in>S.\n                                  (f a, f' a')\n                                  \\<in> \\<langle>S\\<rangle>list_set_rel}}} &&&\n    (acceptingi, accepting)\n    \\<in> {(f, f').\n           \\<forall>(a, a')\n                    \\<in>{(A\\<^sub>1, A\\<^sub>2).\n                          (alphabeti A\\<^sub>1, alphabet A\\<^sub>2)\n                          \\<in> \\<langle>L\\<rangle>list_set_rel \\<and>\n                          (initiali A\\<^sub>1, initial A\\<^sub>2)\n                          \\<in> \\<langle>S\\<rangle>list_set_rel \\<and>\n                          (transitioni A\\<^sub>1, transition A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>L.\n                                    (f a, f' a')\n                                    \\<in> {(f, f').\n     \\<forall>(a, a')\\<in>S.\n        (f a, f' a') \\<in> \\<langle>S\\<rangle>list_set_rel}} \\<and>\n                          (acceptingi A\\<^sub>1, accepting A\\<^sub>2)\n                          \\<in> {(f, f').\n                                 \\<forall>(a, a')\\<in>S.\n                                    (f a, f' a') \\<in> bool_rel}}.\n              (f a, f' a')\n              \\<in> {(f, f').\n                     \\<forall>(a, a')\\<in>S. (f a, f' a') \\<in> bool_rel}}", "by auto"], ["", "definition nbai_nba :: \"('label, 'state) nbai \\<Rightarrow> ('label, 'state) nba\" where\n    \"nbai_nba A \\<equiv> nba (set (alphabeti A)) (set (initiali A)) (\\<lambda> a p. set (transitioni A a p)) (acceptingi A)\""], ["", "definition nbai_invar :: \"('label, 'state) nbai \\<Rightarrow> bool\" where\n    \"nbai_invar A \\<equiv> distinct (alphabeti A) \\<and> distinct (initiali A) \\<and> (\\<forall> a p. distinct (transitioni A a p))\""], ["", "lemma nbai_nba_id_param[param]: \"(nbai_nba, id) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel \\<rightarrow> \\<langle>L, S\\<rangle> nba_rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nbai_nba, id)\n    \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<rightarrow> \\<langle>L,\n          S\\<rangle>nba_rel", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a a'.\n       (a, a') \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (nbai_nba a, id a') \\<in> \\<langle>L, S\\<rangle>nba_rel", "fix Ai A"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a a'.\n       (a, a') \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (nbai_nba a, id a') \\<in> \\<langle>L, S\\<rangle>nba_rel", "assume 1: \"(Ai, A) \\<in> \\<langle>L, S\\<rangle> nbai_nba_rel\""], ["proof (state)\nthis:\n  (Ai, A) \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel\n\ngoal (1 subgoal):\n 1. \\<And>a a'.\n       (a, a') \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (nbai_nba a, id a') \\<in> \\<langle>L, S\\<rangle>nba_rel", "have 2: \"nbai_nba Ai = nba (set (alphabeti Ai)) (set (initiali Ai))\n      (\\<lambda> a p. set (transitioni Ai a p)) (acceptingi Ai)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nbai_nba Ai =\n    nba (set (alphabeti Ai)) (set (initiali Ai))\n     (\\<lambda>a p. set (transitioni Ai a p)) (acceptingi Ai)", "unfolding nbai_nba_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. nba (set (alphabeti Ai)) (set (initiali Ai))\n     (\\<lambda>a p. set (transitioni Ai a p)) (acceptingi Ai) =\n    nba (set (alphabeti Ai)) (set (initiali Ai))\n     (\\<lambda>a p. set (transitioni Ai a p)) (acceptingi Ai)", "by rule"], ["proof (state)\nthis:\n  nbai_nba Ai =\n  nba (set (alphabeti Ai)) (set (initiali Ai))\n   (\\<lambda>a p. set (transitioni Ai a p)) (acceptingi Ai)\n\ngoal (1 subgoal):\n 1. \\<And>a a'.\n       (a, a') \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (nbai_nba a, id a') \\<in> \\<langle>L, S\\<rangle>nba_rel", "have 3: \"id A = nba (id (alphabet A)) (id (initial A))\n      (\\<lambda> a p. id (transition A a p)) (accepting A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. id A =\n    nba (id (alphabet A)) (id (initial A))\n     (\\<lambda>a p. id (transition A a p)) (accepting A)", "by simp"], ["proof (state)\nthis:\n  id A =\n  nba (id (alphabet A)) (id (initial A))\n   (\\<lambda>a p. id (transition A a p)) (accepting A)\n\ngoal (1 subgoal):\n 1. \\<And>a a'.\n       (a, a') \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (nbai_nba a, id a') \\<in> \\<langle>L, S\\<rangle>nba_rel", "show \"(nbai_nba Ai, id A) \\<in> \\<langle>L, S\\<rangle> nba_rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nbai_nba Ai, id A) \\<in> \\<langle>L, S\\<rangle>nba_rel", "unfolding 2 3"], ["proof (prove)\ngoal (1 subgoal):\n 1. (nba (set (alphabeti Ai)) (set (initiali Ai))\n      (\\<lambda>a p. set (transitioni Ai a p)) (acceptingi Ai),\n     nba (id (alphabet A)) (id (initial A))\n      (\\<lambda>a p. id (transition A a p)) (accepting A))\n    \\<in> \\<langle>L, S\\<rangle>nba_rel", "using 1"], ["proof (prove)\nusing this:\n  (Ai, A) \\<in> \\<langle>L, S\\<rangle>nbai_nba_rel\n\ngoal (1 subgoal):\n 1. (nba (set (alphabeti Ai)) (set (initiali Ai))\n      (\\<lambda>a p. set (transitioni Ai a p)) (acceptingi Ai),\n     nba (id (alphabet A)) (id (initial A))\n      (\\<lambda>a p. id (transition A a p)) (accepting A))\n    \\<in> \\<langle>L, S\\<rangle>nba_rel", "by parametricity"], ["proof (state)\nthis:\n  (nbai_nba Ai, id A) \\<in> \\<langle>L, S\\<rangle>nba_rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nbai_nba_br: \"\\<langle>Id, Id\\<rangle> nbai_nba_rel = br nbai_nba nbai_invar\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>Id, Id\\<rangle>nbai_nba_rel = br nbai_nba nbai_invar", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       (a, b) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (a, b) \\<in> br nbai_nba nbai_invar\n 2. \\<And>a b.\n       (a, b) \\<in> br nbai_nba nbai_invar \\<Longrightarrow>\n       (a, b) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel", "show \"(A, B) \\<in> \\<langle>Id, Id\\<rangle> nbai_nba_rel\" if \"(A, B) \\<in> br nbai_nba nbai_invar\"\n      for A and B :: \"('a, 'b) nba\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A, B) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel", "using that"], ["proof (prove)\nusing this:\n  (A, B) \\<in> br nbai_nba nbai_invar\n\ngoal (1 subgoal):\n 1. (A, B) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel", "unfolding nbai_nba_rel_def nbai_nba_def nbai_invar_def"], ["proof (prove)\nusing this:\n  (A, B)\n  \\<in> br (\\<lambda>A.\n               nba (set (alphabeti A)) (set (initiali A))\n                (\\<lambda>a p. set (transitioni A a p)) (acceptingi A))\n         (\\<lambda>A.\n             distinct (alphabeti A) \\<and>\n             distinct (initiali A) \\<and>\n             (\\<forall>a p. distinct (transitioni A a p)))\n\ngoal (1 subgoal):\n 1. (A, B)\n    \\<in> {(A\\<^sub>1, A\\<^sub>2).\n           (alphabeti A\\<^sub>1, alphabet A\\<^sub>2)\n           \\<in> \\<langle>Id\\<rangle>list_set_rel \\<and>\n           (initiali A\\<^sub>1, initial A\\<^sub>2)\n           \\<in> \\<langle>Id\\<rangle>list_set_rel \\<and>\n           (transitioni A\\<^sub>1, transition A\\<^sub>2)\n           \\<in> Id \\<rightarrow>\n                 Id \\<rightarrow> \\<langle>Id\\<rangle>list_set_rel \\<and>\n           (acceptingi A\\<^sub>1, accepting A\\<^sub>2)\n           \\<in> Id \\<rightarrow> bool_rel}", "by (auto simp: in_br_conv list_set_rel_def)"], ["proof (state)\nthis:\n  (?A, ?B) \\<in> br nbai_nba nbai_invar \\<Longrightarrow>\n  (?A, ?B) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (a, b) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel \\<Longrightarrow>\n       (a, b) \\<in> br nbai_nba nbai_invar", "show \"(A, B) \\<in> br nbai_nba nbai_invar\" if \"(A, B) \\<in> \\<langle>Id, Id\\<rangle> nbai_nba_rel\"\n      for A and B :: \"('a, 'b) nba\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (A, B) \\<in> br nbai_nba nbai_invar", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (A, B) \\<in> br nbai_nba nbai_invar", "have 1: \"(nbai_nba A, id B) \\<in> \\<langle>Id, Id\\<rangle> nba_rel\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (nbai_nba A, id B) \\<in> \\<langle>Id, Id\\<rangle>nba_rel", "using that"], ["proof (prove)\nusing this:\n  (A, B) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel\n\ngoal (1 subgoal):\n 1. (nbai_nba A, id B) \\<in> \\<langle>Id, Id\\<rangle>nba_rel", "by parametricity"], ["proof (state)\nthis:\n  (nbai_nba A, id B) \\<in> \\<langle>Id, Id\\<rangle>nba_rel\n\ngoal (1 subgoal):\n 1. (A, B) \\<in> br nbai_nba nbai_invar", "have 2: \"nbai_invar A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nbai_invar A", "using nbai_nba_param(2 - 5)[param_fo, OF that]"], ["proof (prove)\nusing this:\n  (alphabeti A, alphabet B) \\<in> \\<langle>Id\\<rangle>list_set_rel\n  (initiali A, initial B) \\<in> \\<langle>Id\\<rangle>list_set_rel\n  \\<lbrakk>(?x1, ?x'1) \\<in> Id; (?x, ?x') \\<in> Id\\<rbrakk>\n  \\<Longrightarrow> (transitioni A ?x1 ?x, transition B ?x'1 ?x')\n                    \\<in> \\<langle>Id\\<rangle>list_set_rel\n  (?x, ?x') \\<in> Id \\<Longrightarrow>\n  (acceptingi A ?x, accepting B ?x') \\<in> bool_rel\n\ngoal (1 subgoal):\n 1. nbai_invar A", "by (auto simp: in_br_conv list_set_rel_def nbai_invar_def)"], ["proof (state)\nthis:\n  nbai_invar A\n\ngoal (1 subgoal):\n 1. (A, B) \\<in> br nbai_nba nbai_invar", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (A, B) \\<in> br nbai_nba nbai_invar", "using 1 2"], ["proof (prove)\nusing this:\n  (nbai_nba A, id B) \\<in> \\<langle>Id, Id\\<rangle>nba_rel\n  nbai_invar A\n\ngoal (1 subgoal):\n 1. (A, B) \\<in> br nbai_nba nbai_invar", "unfolding in_br_conv"], ["proof (prove)\nusing this:\n  (nbai_nba A, id B) \\<in> \\<langle>Id, Id\\<rangle>nba_rel\n  nbai_invar A\n\ngoal (1 subgoal):\n 1. B = nbai_nba A \\<and> nbai_invar A", "by auto"], ["proof (state)\nthis:\n  (A, B) \\<in> br nbai_nba nbai_invar\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (?A, ?B) \\<in> \\<langle>Id, Id\\<rangle>nbai_nba_rel \\<Longrightarrow>\n  (?A, ?B) \\<in> br nbai_nba nbai_invar\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}