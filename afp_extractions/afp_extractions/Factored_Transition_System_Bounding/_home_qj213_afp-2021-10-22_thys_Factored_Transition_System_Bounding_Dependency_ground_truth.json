{"file_name": "/home/qj213/afp-2021-10-22/thys/Factored_Transition_System_Bounding/Dependency.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Factored_Transition_System_Bounding", "problem_names": ["lemma  dep_var_set_self_empty: \n  fixes PROB vs\n  assumes \"dep_var_set PROB vs vs\"\n  shows \"(vs = {})\"", "lemma DEP_REFL: \n  fixes PROB \n  shows \"reflexive (\\<lambda>v v'. dep PROB v v')\"", "lemma NEQ_DEP_IMP_IN_DOM_i:\n  fixes a v\n  assumes \"a \\<in> PROB\" \"v \\<in> fmdom' (fst a)\"\n  shows \"v \\<in> prob_dom PROB\"", "lemma NEQ_DEP_IMP_IN_DOM_ii:\n  fixes a v\n  assumes \"a \\<in> PROB\" \"v \\<in> fmdom' (snd a)\"\n  shows \"v \\<in> prob_dom PROB\"", "lemma NEQ_DEP_IMP_IN_DOM: \n  fixes PROB :: \"(('a, 'b) fmap \\<times> ('a, 'b) fmap) set\" and  v v'\n  assumes \"\\<not>(v = v')\" \"(dep PROB v v')\" \n  shows \"(v \\<in> (prob_dom PROB) \\<and> v' \\<in> (prob_dom PROB))\"", "lemma dep_sos_imp_mem_dep: \n  fixes PROB S vs\n  assumes \"(dep_var_set PROB (\\<Union> S) vs)\"\n  shows \"(\\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs)\"", "lemma dep_union_imp_or_dep: \n  fixes PROB vs vs' vs''\n  assumes \"(dep_var_set PROB vs (vs' \\<union> vs''))\"\n  shows \"(dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs'')\"", "lemma dep_biunion_imp_or_dep: \n  fixes PROB vs S\n  assumes \"(dep_var_set PROB vs (\\<Union>S))\"\n  shows \"(\\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs')\"", "lemma dep_tc_imp_in_dom: \n  fixes PROB :: \"(('a, 'b) fmap \\<times> ('a, 'b) fmap) set\" and v1 v2\n  assumes \"\\<not>(v1 = v2)\" \"(dep_tc PROB v1 v2)\"\n  shows \"(v1 \\<in> prob_dom PROB)\"", "lemma not_dep_disj_imp_not_dep: \n  fixes PROB vs_1 vs_2 vs_3\n  assumes \"((vs_1 \\<inter> vs_2) = {})\" \"(vs_3 \\<subseteq> vs_2)\" \"\\<not>(dep_var_set PROB vs_1 vs_2)\"\n  shows \"\\<not>(dep_var_set PROB vs_1 vs_3)\"", "lemma dep_slist_imp_mem_dep: \n  fixes PROB vs lvs\n  assumes \"(dep_var_set PROB (\\<Union> (set lvs)) vs)\"\n  shows \"(\\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs)\"", "lemma n_bigunion_le_sum_3: \n  fixes PROB vs svs\n  assumes \"(\\<forall> vs'. vs' \\<in> svs \\<longrightarrow> \\<not>(dep_var_set PROB vs' vs))\"\n  shows \"\\<not>(dep_var_set PROB (\\<Union>svs) vs)\"", "lemma disj_not_dep_vset_union_imp_or:\n  fixes PROB a vs vs' \n  assumes \"(a \\<in> PROB)\" \"(disjnt vs vs')\" \n    \"(\\<not>(dep_var_set PROB vs' vs) \\<or> \\<not>(dep_var_set PROB vs vs'))\"\n    \"(varset_action a (vs \\<union> vs'))\"\n  shows \"(varset_action a vs \\<or> varset_action a vs')\""], "translations": [["", "lemma  dep_var_set_self_empty: \n  fixes PROB vs\n  assumes \"dep_var_set PROB vs vs\"\n  shows \"(vs = {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vs = {}", "using assms"], ["proof (prove)\nusing this:\n  dep_var_set PROB vs vs\n\ngoal (1 subgoal):\n 1. vs = {}", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt vs vs \\<and>\n  (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. vs = {}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. disjnt vs vs \\<and>\n    (\\<exists>v1 v2.\n        v1 \\<in> vs \\<and>\n        v2 \\<in> vs \\<and> dep PROB v1 v2) \\<Longrightarrow>\n    vs = {}", "obtain v1 v2 where\n    \"v1 \\<in> vs\" \"v2 \\<in> vs\" \"disjnt vs vs\" \"dep PROB v1 v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> vs; disjnt vs vs;\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  dep_var_set PROB vs vs\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> vs; disjnt vs vs;\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt vs vs \\<and>\n  (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> vs; disjnt vs vs;\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> vs\n  v2 \\<in> vs\n  disjnt vs vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. disjnt vs vs \\<and>\n    (\\<exists>v1 v2.\n        v1 \\<in> vs \\<and>\n        v2 \\<in> vs \\<and> dep PROB v1 v2) \\<Longrightarrow>\n    vs = {}", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> vs\n  v2 \\<in> vs\n  disjnt vs vs\n  dep PROB v1 v2", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 \\<in> vs\n  v2 \\<in> vs\n  disjnt vs vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. vs = {}", "by force"], ["proof (state)\nthis:\n  vs = {}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma DEP_REFL: \n  fixes PROB \n  shows \"reflexive (\\<lambda>v v'. dep PROB v v')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. reflexive (dep PROB)", "unfolding dep_def reflexive_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x.\n       (\\<exists>a.\n           a \\<in> PROB \\<and>\n           (x \\<in> fmdom' (fst a) \\<and> x \\<in> fmdom' (snd a) \\<or>\n            x \\<in> fmdom' (snd a) \\<and> x \\<in> fmdom' (snd a))) \\<or>\n       x = x", "by presburger\n\n\n\\<comment> \\<open>NOTE added lemma.\\<close>"], ["", "lemma NEQ_DEP_IMP_IN_DOM_i:\n  fixes a v\n  assumes \"a \\<in> PROB\" \"v \\<in> fmdom' (fst a)\"\n  shows \"v \\<in> prob_dom PROB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "have \"v \\<in> fmdom' (fst a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (fst a)", "using assms(2)"], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (fst a)\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (fst a)", "by simp"], ["proof (state)\nthis:\n  v \\<in> fmdom' (fst a)\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "moreover"], ["proof (state)\nthis:\n  v \\<in> fmdom' (fst a)\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "have \"fmdom' (fst a) \\<subseteq> prob_dom PROB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fmdom' (fst a) \\<subseteq> prob_dom PROB", "using assms(1)"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n\ngoal (1 subgoal):\n 1. fmdom' (fst a) \\<subseteq> prob_dom PROB", "unfolding prob_dom_def action_dom_def"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n\ngoal (1 subgoal):\n 1. fmdom' (fst a)\n    \\<subseteq> (\\<Union>(s1, s2)\\<in>PROB. fmdom' s1 \\<union> fmdom' s2)", "using case_prod_beta'"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n  (\\<lambda>(x, y). ?f x y) = (\\<lambda>x. ?f (fst x) (snd x))\n\ngoal (1 subgoal):\n 1. fmdom' (fst a)\n    \\<subseteq> (\\<Union>(s1, s2)\\<in>PROB. fmdom' s1 \\<union> fmdom' s2)", "by auto"], ["proof (state)\nthis:\n  fmdom' (fst a) \\<subseteq> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "ultimately"], ["proof (chain)\npicking this:\n  v \\<in> fmdom' (fst a)\n  fmdom' (fst a) \\<subseteq> prob_dom PROB", "show ?thesis"], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (fst a)\n  fmdom' (fst a) \\<subseteq> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "by blast"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed\n\n\\<comment> \\<open>NOTE added lemma.\\<close>"], ["", "lemma NEQ_DEP_IMP_IN_DOM_ii:\n  fixes a v\n  assumes \"a \\<in> PROB\" \"v \\<in> fmdom' (snd a)\"\n  shows \"v \\<in> prob_dom PROB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "have \"v \\<in> fmdom' (snd a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a)", "using assms(2)"], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a)", "by simp"], ["proof (state)\nthis:\n  v \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "moreover"], ["proof (state)\nthis:\n  v \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "have \"fmdom' (snd a) \\<subseteq> prob_dom PROB\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fmdom' (snd a) \\<subseteq> prob_dom PROB", "using assms(1)"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n\ngoal (1 subgoal):\n 1. fmdom' (snd a) \\<subseteq> prob_dom PROB", "unfolding prob_dom_def action_dom_def"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n\ngoal (1 subgoal):\n 1. fmdom' (snd a)\n    \\<subseteq> (\\<Union>(s1, s2)\\<in>PROB. fmdom' s1 \\<union> fmdom' s2)", "using case_prod_beta'"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n  (\\<lambda>(x, y). ?f x y) = (\\<lambda>x. ?f (fst x) (snd x))\n\ngoal (1 subgoal):\n 1. fmdom' (snd a)\n    \\<subseteq> (\\<Union>(s1, s2)\\<in>PROB. fmdom' s1 \\<union> fmdom' s2)", "by auto"], ["proof (state)\nthis:\n  fmdom' (snd a) \\<subseteq> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "ultimately"], ["proof (chain)\npicking this:\n  v \\<in> fmdom' (snd a)\n  fmdom' (snd a) \\<subseteq> prob_dom PROB", "show ?thesis"], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (snd a)\n  fmdom' (snd a) \\<subseteq> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB", "by blast"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma NEQ_DEP_IMP_IN_DOM: \n  fixes PROB :: \"(('a, 'b) fmap \\<times> ('a, 'b) fmap) set\" and  v v'\n  assumes \"\\<not>(v = v')\" \"(dep PROB v v')\" \n  shows \"(v \\<in> (prob_dom PROB) \\<and> v' \\<in> (prob_dom PROB))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "using assms"], ["proof (prove)\nusing this:\n  v \\<noteq> v'\n  dep PROB v v'\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "unfolding dep_def"], ["proof (prove)\nusing this:\n  v \\<noteq> v'\n  (\\<exists>a.\n      a \\<in> PROB \\<and>\n      (v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n       v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))) \\<or>\n  v = v'\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "using FDOM_pre_subset_prob_dom_pair FDOM_eff_subset_prob_dom_pair"], ["proof (prove)\nusing this:\n  v \\<noteq> v'\n  (\\<exists>a.\n      a \\<in> PROB \\<and>\n      (v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n       v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))) \\<or>\n  v = v'\n  ?a \\<in> ?PROB \\<Longrightarrow>\n  fmdom' (fst ?a) \\<subseteq> prob_dom ?PROB\n  ?a \\<in> ?PROB \\<Longrightarrow>\n  fmdom' (snd ?a) \\<subseteq> prob_dom ?PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>v \\<noteq> v';\n     (\\<exists>a.\n         a \\<in> PROB \\<and>\n         (v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n          v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))) \\<or>\n     v = v';\n     \\<And>a PROB.\n        a \\<in> PROB \\<Longrightarrow>\n        fmdom' (fst a) \\<subseteq> prob_dom PROB;\n     \\<And>a PROB.\n        a \\<in> PROB \\<Longrightarrow>\n        fmdom' (snd a) \\<subseteq> prob_dom PROB\\<rbrakk>\n    \\<Longrightarrow> v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "obtain a where 1:\n    \"a \\<in> PROB\"\n    \"(v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or> v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> PROB;\n         v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n         v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  v \\<noteq> v'\n  dep PROB v v'\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> PROB;\n         v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n         v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding dep_def"], ["proof (prove)\nusing this:\n  v \\<noteq> v'\n  (\\<exists>a.\n      a \\<in> PROB \\<and>\n      (v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n       v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))) \\<or>\n  v = v'\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> PROB;\n         v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n         v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> PROB\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v \\<noteq> v';\n     (\\<exists>a.\n         a \\<in> PROB \\<and>\n         (v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n          v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))) \\<or>\n     v = v';\n     \\<And>a PROB.\n        a \\<in> PROB \\<Longrightarrow>\n        fmdom' (fst a) \\<subseteq> prob_dom PROB;\n     \\<And>a PROB.\n        a \\<in> PROB \\<Longrightarrow>\n        fmdom' (snd a) \\<subseteq> prob_dom PROB\\<rbrakk>\n    \\<Longrightarrow> v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  a \\<in> PROB\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)", "consider \n    (i) \"v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a)\"\n    | (ii) \"v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\""], ["proof (prove)\nusing this:\n  a \\<in> PROB\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v \\<in> fmdom' (fst a) \\<and>\n             v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n             thesis;\n     v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n     thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>v \\<in> fmdom' (fst a) \\<and>\n           v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n           ?thesis;\n   v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n   ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v \\<noteq> v';\n     (\\<exists>a.\n         a \\<in> PROB \\<and>\n         (v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n          v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a))) \\<or>\n     v = v';\n     \\<And>a PROB.\n        a \\<in> PROB \\<Longrightarrow>\n        fmdom' (fst a) \\<subseteq> prob_dom PROB;\n     \\<And>a PROB.\n        a \\<in> PROB \\<Longrightarrow>\n        fmdom' (snd a) \\<subseteq> prob_dom PROB\\<rbrakk>\n    \\<Longrightarrow> v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>v \\<in> fmdom' (fst a) \\<and>\n           v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n           ?thesis;\n   v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n   ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> fmdom' (fst a) \\<and>\n           v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n           ?thesis;\n   v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n   ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n 2. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "case i"], ["proof (state)\nthis:\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a)\n\ngoal (2 subgoals):\n 1. v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n 2. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a)", "have \"v \\<in> fmdom' (fst a)\" \"v' \\<in> fmdom' (snd a)\""], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (fst a) &&& v' \\<in> fmdom' (snd a)", "by simp+"], ["proof (state)\nthis:\n  v \\<in> fmdom' (fst a)\n  v' \\<in> fmdom' (snd a)\n\ngoal (2 subgoals):\n 1. v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n 2. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v \\<in> fmdom' (fst a)\n  v' \\<in> fmdom' (snd a)", "have \"v \\<in> prob_dom PROB\"  \"v' \\<in> prob_dom PROB\""], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (fst a)\n  v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB &&& v' \\<in> prob_dom PROB", "using 1 NEQ_DEP_IMP_IN_DOM_i NEQ_DEP_IMP_IN_DOM_ii"], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (fst a)\n  v' \\<in> fmdom' (snd a)\n  a \\<in> PROB\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\n  \\<lbrakk>?a \\<in> ?PROB; ?v \\<in> fmdom' (fst ?a)\\<rbrakk>\n  \\<Longrightarrow> ?v \\<in> prob_dom ?PROB\n  \\<lbrakk>?a \\<in> ?PROB; ?v \\<in> fmdom' (snd ?a)\\<rbrakk>\n  \\<Longrightarrow> ?v \\<in> prob_dom ?PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB &&& v' \\<in> prob_dom PROB", "by metis+"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB\n  v' \\<in> prob_dom PROB\n\ngoal (2 subgoals):\n 1. v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n 2. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v \\<in> prob_dom PROB\n  v' \\<in> prob_dom PROB", "show ?thesis"], ["proof (prove)\nusing this:\n  v \\<in> prob_dom PROB\n  v' \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "by simp"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "case ii"], ["proof (state)\nthis:\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)", "have \"v \\<in> fmdom' (snd a)\" \"v' \\<in> fmdom' (snd a)\""], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a) &&& v' \\<in> fmdom' (snd a)", "by simp+"], ["proof (state)\nthis:\n  v \\<in> fmdom' (snd a)\n  v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v \\<in> fmdom' (snd a)\n  v' \\<in> fmdom' (snd a)", "have \"v \\<in> prob_dom PROB\"  \"v' \\<in> prob_dom PROB\""], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (snd a)\n  v' \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB &&& v' \\<in> prob_dom PROB", "using 1 NEQ_DEP_IMP_IN_DOM_ii"], ["proof (prove)\nusing this:\n  v \\<in> fmdom' (snd a)\n  v' \\<in> fmdom' (snd a)\n  a \\<in> PROB\n  v \\<in> fmdom' (fst a) \\<and> v' \\<in> fmdom' (snd a) \\<or>\n  v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a)\n  \\<lbrakk>?a \\<in> ?PROB; ?v \\<in> fmdom' (snd ?a)\\<rbrakk>\n  \\<Longrightarrow> ?v \\<in> prob_dom ?PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB &&& v' \\<in> prob_dom PROB", "by metis+"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB\n  v' \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> fmdom' (snd a) \\<and> v' \\<in> fmdom' (snd a) \\<Longrightarrow>\n    v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v \\<in> prob_dom PROB\n  v' \\<in> prob_dom PROB", "show ?thesis"], ["proof (prove)\nusing this:\n  v \\<in> prob_dom PROB\n  v' \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB", "by simp"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v \\<in> prob_dom PROB \\<and> v' \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dep_sos_imp_mem_dep: \n  fixes PROB S vs\n  assumes \"(dep_var_set PROB (\\<Union> S) vs)\"\n  shows \"(\\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "obtain v1 v2 where obtain_v1_v2: \"v1 \\<in> \\<Union>S\" \"v2 \\<in> vs\" \"disjnt (\\<Union>S) vs\" \"dep PROB v1 v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> \\<Union> S; v2 \\<in> vs; disjnt (\\<Union> S) vs;\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms dep_var_set_def[of PROB \"\\<Union> S\" vs]"], ["proof (prove)\nusing this:\n  dep_var_set PROB (\\<Union> S) vs\n  dep_var_set PROB (\\<Union> S) vs \\<equiv>\n  disjnt (\\<Union> S) vs \\<and>\n  (\\<exists>v1 v2.\n      v1 \\<in> \\<Union> S \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> \\<Union> S; v2 \\<in> vs; disjnt (\\<Union> S) vs;\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> \\<Union> S\n  v2 \\<in> vs\n  disjnt (\\<Union> S) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "moreover"], ["proof (state)\nthis:\n  v1 \\<in> \\<Union> S\n  v2 \\<in> vs\n  disjnt (\\<Union> S) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "{"], ["proof (state)\nthis:\n  v1 \\<in> \\<Union> S\n  v2 \\<in> vs\n  disjnt (\\<Union> S) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "fix vs'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "assume \"vs' \\<in> S\""], ["proof (state)\nthis:\n  vs' \\<in> S\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "moreover"], ["proof (state)\nthis:\n  vs' \\<in> S\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "have \"vs' \\<subseteq> (\\<Union>S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vs' \\<subseteq> \\<Union> S", "using calculation Union_upper"], ["proof (prove)\nusing this:\n  vs' \\<in> S\n  ?B \\<in> ?A \\<Longrightarrow> ?B \\<subseteq> \\<Union> ?A\n\ngoal (1 subgoal):\n 1. vs' \\<subseteq> \\<Union> S", "by blast"], ["proof (state)\nthis:\n  vs' \\<subseteq> \\<Union> S\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "ultimately"], ["proof (chain)\npicking this:\n  vs' \\<in> S\n  vs' \\<subseteq> \\<Union> S", "have \"disjnt vs' vs\""], ["proof (prove)\nusing this:\n  vs' \\<in> S\n  vs' \\<subseteq> \\<Union> S\n\ngoal (1 subgoal):\n 1. disjnt vs' vs", "using obtain_v1_v2(3) disjnt_subset1"], ["proof (prove)\nusing this:\n  vs' \\<in> S\n  vs' \\<subseteq> \\<Union> S\n  disjnt (\\<Union> S) vs\n  \\<lbrakk>disjnt ?X ?Y; ?Z \\<subseteq> ?X\\<rbrakk>\n  \\<Longrightarrow> disjnt ?Z ?Y\n\ngoal (1 subgoal):\n 1. disjnt vs' vs", "by blast"], ["proof (state)\nthis:\n  disjnt vs' vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "}"], ["proof (state)\nthis:\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt ?vs'2 vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "ultimately"], ["proof (chain)\npicking this:\n  v1 \\<in> \\<Union> S\n  v2 \\<in> vs\n  disjnt (\\<Union> S) vs\n  dep PROB v1 v2\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt ?vs'2 vs", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 \\<in> \\<Union> S\n  v2 \\<in> vs\n  disjnt (\\<Union> S) vs\n  dep PROB v1 v2\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt ?vs'2 vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  v1 \\<in> \\<Union> S\n  v2 \\<in> vs\n  disjnt (\\<Union> S) vs\n  dep PROB v1 v2\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt ?vs'2 vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'.\n       vs' \\<in> S \\<and>\n       disjnt vs' vs \\<and>\n       (\\<exists>v1 v2.\n           v1 \\<in> vs' \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)", "by blast"], ["proof (state)\nthis:\n  \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs' vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dep_union_imp_or_dep: \n  fixes PROB vs vs' vs''\n  assumes \"(dep_var_set PROB vs (vs' \\<union> vs''))\"\n  shows \"(dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs'')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "obtain v1 v2 where \n    obtain_v1_v2: \"v1 \\<in> vs\" \"v2 \\<in> vs' \\<union> vs''\" \"disjnt vs (vs' \\<union> vs'')\" \"dep PROB v1 v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> vs' \\<union> vs'';\n         disjnt vs (vs' \\<union> vs''); dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms dep_var_set_def[of PROB vs \"(vs' \\<union> vs'')\"]"], ["proof (prove)\nusing this:\n  dep_var_set PROB vs (vs' \\<union> vs'')\n  dep_var_set PROB vs (vs' \\<union> vs'') \\<equiv>\n  disjnt vs (vs' \\<union> vs'') \\<and>\n  (\\<exists>v1 v2.\n      v1 \\<in> vs \\<and> v2 \\<in> vs' \\<union> vs'' \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> vs' \\<union> vs'';\n         disjnt vs (vs' \\<union> vs''); dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast\n      \\<comment> \\<open>NOTE The proofs for the cases introduced here yield the goal's left and right side \n    respectively.\\<close>"], ["proof (state)\nthis:\n  v1 \\<in> vs\n  v2 \\<in> vs' \\<union> vs''\n  disjnt vs (vs' \\<union> vs'')\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "consider (i) \"v2 \\<in> vs'\" | (ii) \"v2 \\<in> vs''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<in> vs' \\<Longrightarrow> thesis;\n     v2 \\<in> vs'' \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using obtain_v1_v2(2)"], ["proof (prove)\nusing this:\n  v2 \\<in> vs' \\<union> vs''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>v2 \\<in> vs' \\<Longrightarrow> thesis;\n     v2 \\<in> vs'' \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>v2 \\<in> vs' \\<Longrightarrow> ?thesis;\n   v2 \\<in> vs'' \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>v2 \\<in> vs' \\<Longrightarrow> ?thesis;\n   v2 \\<in> vs'' \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>v2 \\<in> vs' \\<Longrightarrow> ?thesis;\n   v2 \\<in> vs'' \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "case i"], ["proof (state)\nthis:\n  v2 \\<in> vs'\n\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "have \"vs' \\<subseteq> vs' \\<union> vs''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vs' \\<subseteq> vs' \\<union> vs''", "by auto"], ["proof (state)\nthis:\n  vs' \\<subseteq> vs' \\<union> vs''\n\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "moreover"], ["proof (state)\nthis:\n  vs' \\<subseteq> vs' \\<union> vs''\n\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "have \"disjnt (vs' \\<union> vs'') vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjnt (vs' \\<union> vs'') vs", "using obtain_v1_v2(3) disjnt_sym"], ["proof (prove)\nusing this:\n  disjnt vs (vs' \\<union> vs'')\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. disjnt (vs' \\<union> vs'') vs", "by blast"], ["proof (state)\nthis:\n  disjnt (vs' \\<union> vs'') vs\n\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "ultimately"], ["proof (chain)\npicking this:\n  vs' \\<subseteq> vs' \\<union> vs''\n  disjnt (vs' \\<union> vs'') vs", "have \"disjnt vs vs'\""], ["proof (prove)\nusing this:\n  vs' \\<subseteq> vs' \\<union> vs''\n  disjnt (vs' \\<union> vs'') vs\n\ngoal (1 subgoal):\n 1. disjnt vs vs'", "using disjnt_subset1 disjnt_sym"], ["proof (prove)\nusing this:\n  vs' \\<subseteq> vs' \\<union> vs''\n  disjnt (vs' \\<union> vs'') vs\n  \\<lbrakk>disjnt ?X ?Y; ?Z \\<subseteq> ?X\\<rbrakk>\n  \\<Longrightarrow> disjnt ?Z ?Y\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. disjnt vs vs'", "by blast"], ["proof (state)\nthis:\n  disjnt vs vs'\n\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "then"], ["proof (chain)\npicking this:\n  disjnt vs vs'", "have \"dep_var_set PROB vs vs'\""], ["proof (prove)\nusing this:\n  disjnt vs vs'\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs'", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt vs vs'\n\ngoal (1 subgoal):\n 1. disjnt vs vs' \\<and>\n    (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs' \\<and> dep PROB v1 v2)", "using obtain_v1_v2(1, 4) i"], ["proof (prove)\nusing this:\n  disjnt vs vs'\n  v1 \\<in> vs\n  dep PROB v1 v2\n  v2 \\<in> vs'\n\ngoal (1 subgoal):\n 1. disjnt vs vs' \\<and>\n    (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs' \\<and> dep PROB v1 v2)", "by blast"], ["proof (state)\nthis:\n  dep_var_set PROB vs vs'\n\ngoal (2 subgoals):\n 1. v2 \\<in> vs' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n 2. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "then"], ["proof (chain)\npicking this:\n  dep_var_set PROB vs vs'", "show ?thesis"], ["proof (prove)\nusing this:\n  dep_var_set PROB vs vs'\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "by simp"], ["proof (state)\nthis:\n  dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "case ii"], ["proof (state)\nthis:\n  v2 \\<in> vs''\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "then"], ["proof (chain)\npicking this:\n  v2 \\<in> vs''", "have \"vs'' \\<subseteq> vs' \\<union> vs''\""], ["proof (prove)\nusing this:\n  v2 \\<in> vs''\n\ngoal (1 subgoal):\n 1. vs'' \\<subseteq> vs' \\<union> vs''", "by simp"], ["proof (state)\nthis:\n  vs'' \\<subseteq> vs' \\<union> vs''\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "moreover"], ["proof (state)\nthis:\n  vs'' \\<subseteq> vs' \\<union> vs''\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "have \"disjnt (vs' \\<union> vs'') vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjnt (vs' \\<union> vs'') vs", "using obtain_v1_v2(3) disjnt_sym"], ["proof (prove)\nusing this:\n  disjnt vs (vs' \\<union> vs'')\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. disjnt (vs' \\<union> vs'') vs", "by fast"], ["proof (state)\nthis:\n  disjnt (vs' \\<union> vs'') vs\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "ultimately"], ["proof (chain)\npicking this:\n  vs'' \\<subseteq> vs' \\<union> vs''\n  disjnt (vs' \\<union> vs'') vs", "have \"disjnt vs vs''\""], ["proof (prove)\nusing this:\n  vs'' \\<subseteq> vs' \\<union> vs''\n  disjnt (vs' \\<union> vs'') vs\n\ngoal (1 subgoal):\n 1. disjnt vs vs''", "using disjnt_subset1 disjnt_sym"], ["proof (prove)\nusing this:\n  vs'' \\<subseteq> vs' \\<union> vs''\n  disjnt (vs' \\<union> vs'') vs\n  \\<lbrakk>disjnt ?X ?Y; ?Z \\<subseteq> ?X\\<rbrakk>\n  \\<Longrightarrow> disjnt ?Z ?Y\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. disjnt vs vs''", "by metis"], ["proof (state)\nthis:\n  disjnt vs vs''\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "then"], ["proof (chain)\npicking this:\n  disjnt vs vs''", "have \"dep_var_set PROB vs vs''\""], ["proof (prove)\nusing this:\n  disjnt vs vs''\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs''", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt vs vs''\n\ngoal (1 subgoal):\n 1. disjnt vs vs'' \\<and>\n    (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs'' \\<and> dep PROB v1 v2)", "using obtain_v1_v2(1, 4) ii"], ["proof (prove)\nusing this:\n  disjnt vs vs''\n  v1 \\<in> vs\n  dep PROB v1 v2\n  v2 \\<in> vs''\n\ngoal (1 subgoal):\n 1. disjnt vs vs'' \\<and>\n    (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs'' \\<and> dep PROB v1 v2)", "by blast"], ["proof (state)\nthis:\n  dep_var_set PROB vs vs''\n\ngoal (1 subgoal):\n 1. v2 \\<in> vs'' \\<Longrightarrow>\n    dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "then"], ["proof (chain)\npicking this:\n  dep_var_set PROB vs vs''", "show ?thesis"], ["proof (prove)\nusing this:\n  dep_var_set PROB vs vs''\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''", "by simp"], ["proof (state)\nthis:\n  dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  dep_var_set PROB vs vs' \\<or> dep_var_set PROB vs vs''\n\ngoal:\nNo subgoals!", "qed\n\n\n\\<comment> \\<open>NOTE This is symmetrical to `dep\\_sos\\_imp\\_mem\\_dep` w.r.t to `vs` and @{term \"\\<Union> S\"}.\\<close>"], ["", "lemma dep_biunion_imp_or_dep: \n  fixes PROB vs S\n  assumes \"(dep_var_set PROB vs (\\<Union>S))\"\n  shows \"(\\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "obtain v1 v2 where obtain_v1_v2: \"v1 \\<in> vs\" \"v2 \\<in> (\\<Union>S)\" \"disjnt vs (\\<Union>S)\" \"dep PROB v1 v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> \\<Union> S; disjnt vs (\\<Union> S);\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms dep_var_set_def[of PROB vs \"\\<Union> S\"]"], ["proof (prove)\nusing this:\n  dep_var_set PROB vs (\\<Union> S)\n  dep_var_set PROB vs (\\<Union> S) \\<equiv>\n  disjnt vs (\\<Union> S) \\<and>\n  (\\<exists>v1 v2.\n      v1 \\<in> vs \\<and> v2 \\<in> \\<Union> S \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> vs; v2 \\<in> \\<Union> S; disjnt vs (\\<Union> S);\n         dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "moreover"], ["proof (state)\nthis:\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "{"], ["proof (state)\nthis:\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "fix vs'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "assume \"vs' \\<in> S\""], ["proof (state)\nthis:\n  vs' \\<in> S\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "then"], ["proof (chain)\npicking this:\n  vs' \\<in> S", "have \"vs' \\<subseteq> (\\<Union>S)\""], ["proof (prove)\nusing this:\n  vs' \\<in> S\n\ngoal (1 subgoal):\n 1. vs' \\<subseteq> \\<Union> S", "using calculation Union_upper"], ["proof (prove)\nusing this:\n  vs' \\<in> S\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n  ?B \\<in> ?A \\<Longrightarrow> ?B \\<subseteq> \\<Union> ?A\n\ngoal (1 subgoal):\n 1. vs' \\<subseteq> \\<Union> S", "by blast"], ["proof (state)\nthis:\n  vs' \\<subseteq> \\<Union> S\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "moreover"], ["proof (state)\nthis:\n  vs' \\<subseteq> \\<Union> S\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "have \"disjnt (\\<Union>S) vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjnt (\\<Union> S) vs", "using obtain_v1_v2(3) disjnt_sym"], ["proof (prove)\nusing this:\n  disjnt vs (\\<Union> S)\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. disjnt (\\<Union> S) vs", "by blast"], ["proof (state)\nthis:\n  disjnt (\\<Union> S) vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "ultimately"], ["proof (chain)\npicking this:\n  vs' \\<subseteq> \\<Union> S\n  disjnt (\\<Union> S) vs", "have \"disjnt vs vs'\""], ["proof (prove)\nusing this:\n  vs' \\<subseteq> \\<Union> S\n  disjnt (\\<Union> S) vs\n\ngoal (1 subgoal):\n 1. disjnt vs vs'", "using obtain_v1_v2(3) disjnt_subset1 disjnt_sym"], ["proof (prove)\nusing this:\n  vs' \\<subseteq> \\<Union> S\n  disjnt (\\<Union> S) vs\n  disjnt vs (\\<Union> S)\n  \\<lbrakk>disjnt ?X ?Y; ?Z \\<subseteq> ?X\\<rbrakk>\n  \\<Longrightarrow> disjnt ?Z ?Y\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. disjnt vs vs'", "by metis"], ["proof (state)\nthis:\n  disjnt vs vs'\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "}"], ["proof (state)\nthis:\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt vs ?vs'2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "ultimately"], ["proof (chain)\npicking this:\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt vs ?vs'2", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt vs ?vs'2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  v1 \\<in> vs\n  v2 \\<in> \\<Union> S\n  disjnt vs (\\<Union> S)\n  dep PROB v1 v2\n  ?vs'2 \\<in> S \\<Longrightarrow> disjnt vs ?vs'2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'.\n       vs' \\<in> S \\<and>\n       disjnt vs vs' \\<and>\n       (\\<exists>v1 v2.\n           v1 \\<in> vs \\<and> v2 \\<in> vs' \\<and> dep PROB v1 v2)", "by blast"], ["proof (state)\nthis:\n  \\<exists>vs'. vs' \\<in> S \\<and> dep_var_set PROB vs vs'\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \"Transitive Closure of Dependent Variables and Variable Sets\""], ["", "definition dep_tc where\n  \"dep_tc PROB = TC (\\<lambda>v1' v2'. dep PROB v1' v2')\"\n\n\n\\<comment> \\<open>NOTE type of `PROB` had to be fixed for MP on `NEQ\\_DEP\\_IMP\\_IN\\_DOM`.\\<close>"], ["", "lemma dep_tc_imp_in_dom: \n  fixes PROB :: \"(('a, 'b) fmap \\<times> ('a, 'b) fmap) set\" and v1 v2\n  assumes \"\\<not>(v1 = v2)\" \"(dep_tc PROB v1 v2)\"\n  shows \"(v1 \\<in> prob_dom PROB)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "have \"TC (dep PROB) v1 v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. TC (dep PROB) v1 v2", "using assms(2)"], ["proof (prove)\nusing this:\n  dep_tc PROB v1 v2\n\ngoal (1 subgoal):\n 1. TC (dep PROB) v1 v2", "unfolding dep_tc_def"], ["proof (prove)\nusing this:\n  TC (dep PROB) v1 v2\n\ngoal (1 subgoal):\n 1. TC (dep PROB) v1 v2", "by simp"], ["proof (state)\nthis:\n  TC (dep PROB) v1 v2\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  TC (dep PROB) v1 v2", "have \"dep PROB v1 v2 \\<or> (\\<exists>y. v1 \\<noteq> y \\<and> y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)\""], ["proof (prove)\nusing this:\n  TC (dep PROB) v1 v2\n\ngoal (1 subgoal):\n 1. dep PROB v1 v2 \\<or>\n    (\\<exists>y.\n        v1 \\<noteq> y \\<and>\n        y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)", "using TC_CASES1_NEQ[where R = \"(\\<lambda>v1' v2'. dep PROB v1' v2')\" and x = v1 and z = v2]"], ["proof (prove)\nusing this:\n  TC (dep PROB) v1 v2\n  (dep PROB)\\<^sup>+\\<^sup>+ v1 v2 \\<Longrightarrow>\n  dep PROB v1 v2 \\<or>\n  (\\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and>\n      dep PROB v1 y \\<and> (dep PROB)\\<^sup>+\\<^sup>+ y v2)\n\ngoal (1 subgoal):\n 1. dep PROB v1 v2 \\<or>\n    (\\<exists>y.\n        v1 \\<noteq> y \\<and>\n        y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)", "by (simp add: TC_equiv_tranclp)\n      \\<comment> \\<open>NOTE Split on the disjunction yielded by the previous step.\\<close>"], ["proof (state)\nthis:\n  dep PROB v1 v2 \\<or>\n  (\\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  dep PROB v1 v2 \\<or>\n  (\\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)", "consider \n    (i) \"dep PROB v1 v2\" \n    | (ii) \"(\\<exists>y. v1 \\<noteq> y \\<and> y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)\""], ["proof (prove)\nusing this:\n  dep PROB v1 v2 \\<or>\n  (\\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>dep PROB v1 v2 \\<Longrightarrow> thesis;\n     \\<exists>y.\n        v1 \\<noteq> y \\<and>\n        y \\<noteq> v2 \\<and>\n        dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n     thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by fast"], ["proof (state)\nthis:\n  \\<lbrakk>dep PROB v1 v2 \\<Longrightarrow> ?thesis;\n   \\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and>\n      dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n   ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>dep PROB v1 v2 \\<Longrightarrow> ?thesis;\n   \\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and>\n      dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n   ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>dep PROB v1 v2 \\<Longrightarrow> ?thesis;\n   \\<exists>y.\n      v1 \\<noteq> y \\<and>\n      y \\<noteq> v2 \\<and>\n      dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n   ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. dep PROB v1 v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB\n 2. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "case i"], ["proof (state)\nthis:\n  dep PROB v1 v2\n\ngoal (2 subgoals):\n 1. dep PROB v1 v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB\n 2. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "{"], ["proof (state)\nthis:\n  dep PROB v1 v2\n\ngoal (2 subgoals):\n 1. dep PROB v1 v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB\n 2. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "consider \n        (II) \"(\\<exists>a. \n            a \\<in> PROB \\<and>\n            (\n              v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \n              \\<or> v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a)))\"\n        | (III) \"v1 = v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>a.\n                a \\<in> PROB \\<and>\n                (v1 \\<in> fmdom' (fst a) \\<and>\n                 v2 \\<in> fmdom' (snd a) \\<or>\n                 v1 \\<in> fmdom' (snd a) \\<and>\n                 v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n             thesis;\n     v1 = v2 \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using i"], ["proof (prove)\nusing this:\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>a.\n                a \\<in> PROB \\<and>\n                (v1 \\<in> fmdom' (fst a) \\<and>\n                 v2 \\<in> fmdom' (snd a) \\<or>\n                 v1 \\<in> fmdom' (snd a) \\<and>\n                 v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n             thesis;\n     v1 = v2 \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "unfolding dep_def"], ["proof (prove)\nusing this:\n  (\\<exists>a.\n      a \\<in> PROB \\<and>\n      (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n       v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))) \\<or>\n  v1 = v2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>a.\n                a \\<in> PROB \\<and>\n                (v1 \\<in> fmdom' (fst a) \\<and>\n                 v2 \\<in> fmdom' (snd a) \\<or>\n                 v1 \\<in> fmdom' (snd a) \\<and>\n                 v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n             thesis;\n     v1 = v2 \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>\\<exists>a.\n              a \\<in> PROB \\<and>\n              (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n               v1 \\<in> fmdom' (snd a) \\<and>\n               v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n           ?thesis;\n   v1 = v2 \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (2 subgoals):\n 1. dep PROB v1 v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB\n 2. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<exists>a.\n              a \\<in> PROB \\<and>\n              (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n               v1 \\<in> fmdom' (snd a) \\<and>\n               v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n           ?thesis;\n   v1 = v2 \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "have ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<exists>a.\n              a \\<in> PROB \\<and>\n              (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n               v1 \\<in> fmdom' (snd a) \\<and>\n               v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n           ?thesis;\n   v1 = v2 \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "case II"], ["proof (state)\nthis:\n  \\<exists>a.\n     a \\<in> PROB \\<and>\n     (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n      v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))\n\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  \\<exists>a.\n     a \\<in> PROB \\<and>\n     (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n      v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))", "obtain a where 1:\n          \"a \\<in> PROB\" \"(v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \n              \\<or> v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))\""], ["proof (prove)\nusing this:\n  \\<exists>a.\n     a \\<in> PROB \\<and>\n     (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n      v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>a \\<in> PROB;\n         v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n         v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  a \\<in> PROB\n  v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n  v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a)\n\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  a \\<in> PROB\n  v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n  v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a)", "have \"v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)\""], ["proof (prove)\nusing this:\n  a \\<in> PROB\n  v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n  v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)\n\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)", "have 2: \"v1 \\<in> action_dom (fst a) (snd a)\""], ["proof (prove)\nusing this:\n  v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v1 \\<in> action_dom (fst a) (snd a)", "unfolding action_dom_def"], ["proof (prove)\nusing this:\n  v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. v1 \\<in> fmdom' (fst a) \\<union> fmdom' (snd a)", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> action_dom (fst a) (snd a)\n\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> action_dom (fst a) (snd a)", "have \"action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB\""], ["proof (prove)\nusing this:\n  v1 \\<in> action_dom (fst a) (snd a)\n\ngoal (1 subgoal):\n 1. action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB", "using 1(1) exec_as_proj_valid_2"], ["proof (prove)\nusing this:\n  v1 \\<in> action_dom (fst a) (snd a)\n  a \\<in> PROB\n  ?a \\<in> ?PROB \\<Longrightarrow>\n  action_dom (fst ?a) (snd ?a) \\<subseteq> prob_dom ?PROB\n\ngoal (1 subgoal):\n 1. action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB", "by fast"], ["proof (state)\nthis:\n  action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB\n\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB", "have \"v1 \\<in> prob_dom PROB\""], ["proof (prove)\nusing this:\n  action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "using 1 2"], ["proof (prove)\nusing this:\n  action_dom (fst a) (snd a) \\<subseteq> prob_dom PROB\n  a \\<in> PROB\n  v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n  v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a)\n  v1 \\<in> action_dom (fst a) (snd a)\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "by fast"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal (2 subgoals):\n 1. \\<exists>a.\n       a \\<in> PROB \\<and>\n       (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or>\n        v1 \\<in> fmdom' (snd a) \\<and>\n        v2 \\<in> fmdom' (snd a)) \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB\n 2. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> prob_dom PROB", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "by simp"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "case III"], ["proof (state)\nthis:\n  v1 = v2\n\ngoal (1 subgoal):\n 1. v1 = v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v1 = v2", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 = v2\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "using assms(1)"], ["proof (prove)\nusing this:\n  v1 = v2\n  v1 \\<noteq> v2\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "by simp"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal (2 subgoals):\n 1. dep PROB v1 v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB\n 2. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "}"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal (2 subgoals):\n 1. dep PROB v1 v2 \\<Longrightarrow> v1 \\<in> prob_dom PROB\n 2. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> prob_dom PROB", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "by simp"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "case ii"], ["proof (state)\nthis:\n  \\<exists>y.\n     v1 \\<noteq> y \\<and>\n     y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  \\<exists>y.\n     v1 \\<noteq> y \\<and>\n     y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2", "obtain y where \"v1 \\<noteq> y\" \"y \\<noteq> v2\" \"dep PROB v1 y\" \"TC (dep PROB) y v2\""], ["proof (prove)\nusing this:\n  \\<exists>y.\n     v1 \\<noteq> y \\<and>\n     y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>v1 \\<noteq> y; y \\<noteq> v2; dep PROB v1 y;\n         TC (dep PROB) y v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using ii"], ["proof (prove)\nusing this:\n  \\<exists>y.\n     v1 \\<noteq> y \\<and>\n     y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2\n  \\<exists>y.\n     v1 \\<noteq> y \\<and>\n     y \\<noteq> v2 \\<and> dep PROB v1 y \\<and> TC (dep PROB) y v2\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>v1 \\<noteq> y; y \\<noteq> v2; dep PROB v1 y;\n         TC (dep PROB) y v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<noteq> y\n  y \\<noteq> v2\n  dep PROB v1 y\n  TC (dep PROB) y v2\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       v1 \\<noteq> y \\<and>\n       y \\<noteq> v2 \\<and>\n       dep PROB v1 y \\<and> TC (dep PROB) y v2 \\<Longrightarrow>\n    v1 \\<in> prob_dom PROB", "then"], ["proof (chain)\npicking this:\n  v1 \\<noteq> y\n  y \\<noteq> v2\n  dep PROB v1 y\n  TC (dep PROB) y v2", "show ?thesis"], ["proof (prove)\nusing this:\n  v1 \\<noteq> y\n  y \\<noteq> v2\n  dep PROB v1 y\n  TC (dep PROB) y v2\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "using NEQ_DEP_IMP_IN_DOM"], ["proof (prove)\nusing this:\n  v1 \\<noteq> y\n  y \\<noteq> v2\n  dep PROB v1 y\n  TC (dep PROB) y v2\n  \\<lbrakk>?v \\<noteq> ?v'; dep ?PROB ?v ?v'\\<rbrakk>\n  \\<Longrightarrow> ?v \\<in> prob_dom ?PROB \\<and> ?v' \\<in> prob_dom ?PROB\n\ngoal (1 subgoal):\n 1. v1 \\<in> prob_dom PROB", "by metis"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v1 \\<in> prob_dom PROB\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma not_dep_disj_imp_not_dep: \n  fixes PROB vs_1 vs_2 vs_3\n  assumes \"((vs_1 \\<inter> vs_2) = {})\" \"(vs_3 \\<subseteq> vs_2)\" \"\\<not>(dep_var_set PROB vs_1 vs_2)\"\n  shows \"\\<not>(dep_var_set PROB vs_1 vs_3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB vs_1 vs_3", "using assms subset_eq"], ["proof (prove)\nusing this:\n  vs_1 \\<inter> vs_2 = {}\n  vs_3 \\<subseteq> vs_2\n  \\<not> dep_var_set PROB vs_1 vs_2\n  (?A \\<subseteq> ?B) = (\\<forall>x\\<in>?A. x \\<in> ?B)\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB vs_1 vs_3", "unfolding dep_var_set_def disjnt_def"], ["proof (prove)\nusing this:\n  vs_1 \\<inter> vs_2 = {}\n  vs_3 \\<subseteq> vs_2\n  \\<not> (vs_1 \\<inter> vs_2 = {} \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs_1 \\<and> v2 \\<in> vs_2 \\<and> dep PROB v1 v2))\n  (?A \\<subseteq> ?B) = (\\<forall>x\\<in>?A. x \\<in> ?B)\n\ngoal (1 subgoal):\n 1. \\<not> (vs_1 \\<inter> vs_3 = {} \\<and>\n            (\\<exists>v1 v2.\n                v1 \\<in> vs_1 \\<and> v2 \\<in> vs_3 \\<and> dep PROB v1 v2))", "by blast"], ["", "lemma dep_slist_imp_mem_dep: \n  fixes PROB vs lvs\n  assumes \"(dep_var_set PROB (\\<Union> (set lvs)) vs)\"\n  shows \"(\\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "obtain v1 v2 where \n    obtain_v1_v2: \"v1 \\<in> \\<Union>(set lvs)\" \"v2 \\<in> vs\" \"disjnt (\\<Union>(set lvs)) vs\" \"dep PROB v1 v2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> \\<Union> (set lvs); v2 \\<in> vs;\n         disjnt (\\<Union> (set lvs)) vs; dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms dep_var_set_def[of PROB \"\\<Union> (set lvs)\" vs]"], ["proof (prove)\nusing this:\n  dep_var_set PROB (\\<Union> (set lvs)) vs\n  dep_var_set PROB (\\<Union> (set lvs)) vs \\<equiv>\n  disjnt (\\<Union> (set lvs)) vs \\<and>\n  (\\<exists>v1 v2.\n      v1 \\<in> \\<Union> (set lvs) \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> \\<Union> (set lvs); v2 \\<in> vs;\n         disjnt (\\<Union> (set lvs)) vs; dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> \\<Union> (set lvs)\n  v2 \\<in> vs\n  disjnt (\\<Union> (set lvs)) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> \\<Union> (set lvs)\n  v2 \\<in> vs\n  disjnt (\\<Union> (set lvs)) vs\n  dep PROB v1 v2", "obtain vs' where obtain_vs': \"vs' \\<in> set lvs\" \"v1 \\<in> vs'\""], ["proof (prove)\nusing this:\n  v1 \\<in> \\<Union> (set lvs)\n  v2 \\<in> vs\n  disjnt (\\<Union> (set lvs)) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. (\\<And>vs'.\n        \\<lbrakk>vs' \\<in> set lvs; v1 \\<in> vs'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  vs' \\<in> set lvs\n  v1 \\<in> vs'\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "then"], ["proof (chain)\npicking this:\n  vs' \\<in> set lvs\n  v1 \\<in> vs'", "have \"ListMem vs' lvs\""], ["proof (prove)\nusing this:\n  vs' \\<in> set lvs\n  v1 \\<in> vs'\n\ngoal (1 subgoal):\n 1. ListMem vs' lvs", "using ListMem_iff"], ["proof (prove)\nusing this:\n  vs' \\<in> set lvs\n  v1 \\<in> vs'\n  ListMem ?x ?xs = (?x \\<in> set ?xs)\n\ngoal (1 subgoal):\n 1. ListMem vs' lvs", "by fast"], ["proof (state)\nthis:\n  ListMem vs' lvs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "moreover"], ["proof (state)\nthis:\n  ListMem vs' lvs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "{"], ["proof (state)\nthis:\n  ListMem vs' lvs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "have \"disjnt vs' vs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. disjnt vs' vs", "using obtain_v1_v2(3) obtain_vs'(1)"], ["proof (prove)\nusing this:\n  disjnt (\\<Union> (set lvs)) vs\n  vs' \\<in> set lvs\n\ngoal (1 subgoal):\n 1. disjnt vs' vs", "by auto"], ["proof (state)\nthis:\n  disjnt vs' vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "then"], ["proof (chain)\npicking this:\n  disjnt vs' vs", "have \"dep_var_set PROB vs' vs\""], ["proof (prove)\nusing this:\n  disjnt vs' vs\n\ngoal (1 subgoal):\n 1. dep_var_set PROB vs' vs", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt vs' vs\n\ngoal (1 subgoal):\n 1. disjnt vs' vs \\<and>\n    (\\<exists>v1 v2. v1 \\<in> vs' \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)", "using obtain_v1_v2(1, 2, 4) obtain_vs'(2)"], ["proof (prove)\nusing this:\n  disjnt vs' vs\n  v1 \\<in> \\<Union> (set lvs)\n  v2 \\<in> vs\n  dep PROB v1 v2\n  v1 \\<in> vs'\n\ngoal (1 subgoal):\n 1. disjnt vs' vs \\<and>\n    (\\<exists>v1 v2. v1 \\<in> vs' \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)", "by blast"], ["proof (state)\nthis:\n  dep_var_set PROB vs' vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "}"], ["proof (state)\nthis:\n  dep_var_set PROB vs' vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "ultimately"], ["proof (chain)\npicking this:\n  ListMem vs' lvs\n  dep_var_set PROB vs' vs", "show ?thesis"], ["proof (prove)\nusing this:\n  ListMem vs' lvs\n  dep_var_set PROB vs' vs\n\ngoal (1 subgoal):\n 1. \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs", "by blast"], ["proof (state)\nthis:\n  \\<exists>vs'. ListMem vs' lvs \\<and> dep_var_set PROB vs' vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma n_bigunion_le_sum_3: \n  fixes PROB vs svs\n  assumes \"(\\<forall> vs'. vs' \\<in> svs \\<longrightarrow> \\<not>(dep_var_set PROB vs' vs))\"\n  shows \"\\<not>(dep_var_set PROB (\\<Union>svs) vs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "assume \"(dep_var_set PROB (\\<Union>svs) vs)\""], ["proof (state)\nthis:\n  dep_var_set PROB (\\<Union> svs) vs\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "then"], ["proof (chain)\npicking this:\n  dep_var_set PROB (\\<Union> svs) vs", "obtain v1 v2 where obtain_vs: \"v1 \\<in> \\<Union>svs\" \"v2 \\<in> vs\" \"disjnt (\\<Union>svs) vs\" \"dep PROB v1 v2\""], ["proof (prove)\nusing this:\n  dep_var_set PROB (\\<Union> svs) vs\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> \\<Union> svs; v2 \\<in> vs;\n         disjnt (\\<Union> svs) vs; dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt (\\<Union> svs) vs \\<and>\n  (\\<exists>v1 v2.\n      v1 \\<in> \\<Union> svs \\<and> v2 \\<in> vs \\<and> dep PROB v1 v2)\n\ngoal (1 subgoal):\n 1. (\\<And>v1 v2.\n        \\<lbrakk>v1 \\<in> \\<Union> svs; v2 \\<in> vs;\n         disjnt (\\<Union> svs) vs; dep PROB v1 v2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> \\<Union> svs\n  v2 \\<in> vs\n  disjnt (\\<Union> svs) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> \\<Union> svs\n  v2 \\<in> vs\n  disjnt (\\<Union> svs) vs\n  dep PROB v1 v2", "obtain vs' where obtain_vs': \"v1 \\<in> vs'\" \"vs' \\<in> svs\""], ["proof (prove)\nusing this:\n  v1 \\<in> \\<Union> svs\n  v2 \\<in> vs\n  disjnt (\\<Union> svs) vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. (\\<And>vs'.\n        \\<lbrakk>v1 \\<in> vs'; vs' \\<in> svs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  v1 \\<in> vs'\n  vs' \\<in> svs\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "then"], ["proof (chain)\npicking this:\n  v1 \\<in> vs'\n  vs' \\<in> svs", "have a: \"disjnt vs' vs\""], ["proof (prove)\nusing this:\n  v1 \\<in> vs'\n  vs' \\<in> svs\n\ngoal (1 subgoal):\n 1. disjnt vs' vs", "using obtain_vs(3) obtain_vs'(2) disjnt_subset1"], ["proof (prove)\nusing this:\n  v1 \\<in> vs'\n  vs' \\<in> svs\n  disjnt (\\<Union> svs) vs\n  vs' \\<in> svs\n  \\<lbrakk>disjnt ?X ?Y; ?Z \\<subseteq> ?X\\<rbrakk>\n  \\<Longrightarrow> disjnt ?Z ?Y\n\ngoal (1 subgoal):\n 1. disjnt vs' vs", "by blast"], ["proof (state)\nthis:\n  disjnt vs' vs\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "then"], ["proof (chain)\npicking this:\n  disjnt vs' vs", "have \"\\<forall>v1 v2. \\<not>(v1 \\<in> vs') \\<or> \\<not>(v2 \\<in> vs) \\<or> \\<not>disjnt vs' vs \\<or> \\<not>dep PROB v1 v2\""], ["proof (prove)\nusing this:\n  disjnt vs' vs\n\ngoal (1 subgoal):\n 1. \\<forall>v1 v2.\n       v1 \\<notin> vs' \\<or>\n       v2 \\<notin> vs \\<or> \\<not> disjnt vs' vs \\<or> \\<not> dep PROB v1 v2", "using assms obtain_vs'(2) dep_var_set_def"], ["proof (prove)\nusing this:\n  disjnt vs' vs\n  \\<forall>vs'.\n     vs' \\<in> svs \\<longrightarrow> \\<not> dep_var_set PROB vs' vs\n  vs' \\<in> svs\n  dep_var_set ?PROB ?vs1.0 ?vs2.0 \\<equiv>\n  disjnt ?vs1.0 ?vs2.0 \\<and>\n  (\\<exists>v1 v2.\n      v1 \\<in> ?vs1.0 \\<and> v2 \\<in> ?vs2.0 \\<and> dep ?PROB v1 v2)\n\ngoal (1 subgoal):\n 1. \\<forall>v1 v2.\n       v1 \\<notin> vs' \\<or>\n       v2 \\<notin> vs \\<or> \\<not> disjnt vs' vs \\<or> \\<not> dep PROB v1 v2", "by fast"], ["proof (state)\nthis:\n  \\<forall>v1 v2.\n     v1 \\<notin> vs' \\<or>\n     v2 \\<notin> vs \\<or> \\<not> disjnt vs' vs \\<or> \\<not> dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "then"], ["proof (chain)\npicking this:\n  \\<forall>v1 v2.\n     v1 \\<notin> vs' \\<or>\n     v2 \\<notin> vs \\<or> \\<not> disjnt vs' vs \\<or> \\<not> dep PROB v1 v2", "have False"], ["proof (prove)\nusing this:\n  \\<forall>v1 v2.\n     v1 \\<notin> vs' \\<or>\n     v2 \\<notin> vs \\<or> \\<not> disjnt vs' vs \\<or> \\<not> dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. False", "using a obtain_vs'(1) obtain_vs(2, 4)"], ["proof (prove)\nusing this:\n  \\<forall>v1 v2.\n     v1 \\<notin> vs' \\<or>\n     v2 \\<notin> vs \\<or> \\<not> disjnt vs' vs \\<or> \\<not> dep PROB v1 v2\n  disjnt vs' vs\n  v1 \\<in> vs'\n  v2 \\<in> vs\n  dep PROB v1 v2\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "}"], ["proof (state)\nthis:\n  dep_var_set PROB (\\<Union> svs) vs \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "then"], ["proof (chain)\npicking this:\n  dep_var_set PROB (\\<Union> svs) vs \\<Longrightarrow> False", "show ?thesis"], ["proof (prove)\nusing this:\n  dep_var_set PROB (\\<Union> svs) vs \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> dep_var_set PROB (\\<Union> svs) vs", "by blast"], ["proof (state)\nthis:\n  \\<not> dep_var_set PROB (\\<Union> svs) vs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma disj_not_dep_vset_union_imp_or:\n  fixes PROB a vs vs' \n  assumes \"(a \\<in> PROB)\" \"(disjnt vs vs')\" \n    \"(\\<not>(dep_var_set PROB vs' vs) \\<or> \\<not>(dep_var_set PROB vs vs'))\"\n    \"(varset_action a (vs \\<union> vs'))\"\n  shows \"(varset_action a vs \\<or> varset_action a vs')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. varset_action a vs \\<or> varset_action a vs'", "using assms"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n  disjnt vs vs'\n  \\<not> dep_var_set PROB vs' vs \\<or> \\<not> dep_var_set PROB vs vs'\n  varset_action a (vs \\<union> vs')\n\ngoal (1 subgoal):\n 1. varset_action a vs \\<or> varset_action a vs'", "unfolding varset_action_def dep_var_set_def dep_def"], ["proof (prove)\nusing this:\n  a \\<in> PROB\n  disjnt vs vs'\n  \\<not> (disjnt vs' vs \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs' \\<and>\n              v2 \\<in> vs \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2))) \\<or>\n  \\<not> (disjnt vs vs' \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs \\<and>\n              v2 \\<in> vs' \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2)))\n  fmdom' (snd a) \\<subseteq> vs \\<union> vs'\n\ngoal (1 subgoal):\n 1. fmdom' (snd a) \\<subseteq> vs \\<or> fmdom' (snd a) \\<subseteq> vs'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "assume a1: \"fmdom' (snd a) \\<subseteq> vs \\<union> vs'\""], ["proof (state)\nthis:\n  fmdom' (snd a) \\<subseteq> vs \\<union> vs'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "assume \"disjnt vs vs'\""], ["proof (state)\nthis:\n  disjnt vs vs'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "assume \" \\<not> (disjnt vs' vs \\<and>\n        (\\<exists>v1 v2. v1 \\<in> vs' \\<and> v2 \\<in> vs \\<and> ((\\<exists>a. a \\<in> PROB \\<and> (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or> v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))) \\<or> v1 = v2))) \\<or>\n       \\<not> (disjnt vs vs' \\<and>\n        (\\<exists>v1 v2. v1 \\<in> vs \\<and> v2 \\<in> vs' \\<and> ((\\<exists>a. a \\<in> PROB \\<and> (v1 \\<in> fmdom' (fst a) \\<and> v2 \\<in> fmdom' (snd a) \\<or> v1 \\<in> fmdom' (snd a) \\<and> v2 \\<in> fmdom' (snd a))) \\<or> v1 = v2))) \""], ["proof (state)\nthis:\n  \\<not> (disjnt vs' vs \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs' \\<and>\n              v2 \\<in> vs \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2))) \\<or>\n  \\<not> (disjnt vs vs' \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs \\<and>\n              v2 \\<in> vs' \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "then"], ["proof (chain)\npicking this:\n  \\<not> (disjnt vs' vs \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs' \\<and>\n              v2 \\<in> vs \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2))) \\<or>\n  \\<not> (disjnt vs vs' \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs \\<and>\n              v2 \\<in> vs' \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2)))", "have f2: \"\\<And>aa ab. aa \\<notin> vs \\<or> ab \\<notin> vs' \\<or> aa \\<notin> fmdom' (snd a) \\<or> ab \\<notin> fmdom' (snd a)\""], ["proof (prove)\nusing this:\n  \\<not> (disjnt vs' vs \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs' \\<and>\n              v2 \\<in> vs \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2))) \\<or>\n  \\<not> (disjnt vs vs' \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs \\<and>\n              v2 \\<in> vs' \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2)))\n\ngoal (1 subgoal):\n 1. \\<And>aa ab.\n       aa \\<notin> vs \\<or>\n       ab \\<notin> vs' \\<or>\n       aa \\<notin> fmdom' (snd a) \\<or> ab \\<notin> fmdom' (snd a)", "using \\<open>a \\<in> PROB\\<close> \\<open>disjnt vs vs'\\<close> disjnt_sym"], ["proof (prove)\nusing this:\n  \\<not> (disjnt vs' vs \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs' \\<and>\n              v2 \\<in> vs \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2))) \\<or>\n  \\<not> (disjnt vs vs' \\<and>\n          (\\<exists>v1 v2.\n              v1 \\<in> vs \\<and>\n              v2 \\<in> vs' \\<and>\n              ((\\<exists>a.\n                   a \\<in> PROB \\<and>\n                   (v1 \\<in> fmdom' (fst a) \\<and>\n                    v2 \\<in> fmdom' (snd a) \\<or>\n                    v1 \\<in> fmdom' (snd a) \\<and>\n                    v2 \\<in> fmdom' (snd a))) \\<or>\n               v1 = v2)))\n  a \\<in> PROB\n  disjnt vs vs'\n  disjnt ?A ?B \\<Longrightarrow> disjnt ?B ?A\n\ngoal (1 subgoal):\n 1. \\<And>aa ab.\n       aa \\<notin> vs \\<or>\n       ab \\<notin> vs' \\<or>\n       aa \\<notin> fmdom' (snd a) \\<or> ab \\<notin> fmdom' (snd a)", "by blast"], ["proof (state)\nthis:\n  ?aa \\<notin> vs \\<or>\n  ?ab \\<notin> vs' \\<or>\n  ?aa \\<notin> fmdom' (snd a) \\<or> ?ab \\<notin> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "obtain aa :: \"'a set \\<Rightarrow> 'a set \\<Rightarrow> 'a\" where\n    f3: \"\\<And>A Aa a Ab Ac. (A \\<subseteq> Aa \\<or> aa A Aa \\<in> A) \\<and> (aa A Aa \\<notin> Aa \\<or> A \\<subseteq> Aa) \n      \\<and> ((a::'a) \\<notin> Ab \\<or> \\<not> Ab \\<subseteq> Ac \\<or> a \\<in> Ac)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>aa.\n        (\\<And>A Aa a Ab Ac.\n            (A \\<subseteq> Aa \\<or> aa A Aa \\<in> A) \\<and>\n            (aa A Aa \\<notin> Aa \\<or> A \\<subseteq> Aa) \\<and>\n            (a \\<notin> Ab \\<or>\n             \\<not> Ab \\<subseteq> Ac \\<or> a \\<in> Ac)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  (?A \\<subseteq> ?Aa \\<or> aa ?A ?Aa \\<in> ?A) \\<and>\n  (aa ?A ?Aa \\<notin> ?Aa \\<or> ?A \\<subseteq> ?Aa) \\<and>\n  (?a \\<notin> ?Ab \\<or> \\<not> ?Ab \\<subseteq> ?Ac \\<or> ?a \\<in> ?Ac)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "then"], ["proof (chain)\npicking this:\n  (?A \\<subseteq> ?Aa \\<or> aa ?A ?Aa \\<in> ?A) \\<and>\n  (aa ?A ?Aa \\<notin> ?Aa \\<or> ?A \\<subseteq> ?Aa) \\<and>\n  (?a \\<notin> ?Ab \\<or> \\<not> ?Ab \\<subseteq> ?Ac \\<or> ?a \\<in> ?Ac)", "have \"\\<And>A. fmdom' (snd a) \\<subseteq> A \\<or> aa (fmdom' (snd a)) A \\<in> vs \\<or> aa (fmdom' (snd a)) A \\<in> vs'\""], ["proof (prove)\nusing this:\n  (?A \\<subseteq> ?Aa \\<or> aa ?A ?Aa \\<in> ?A) \\<and>\n  (aa ?A ?Aa \\<notin> ?Aa \\<or> ?A \\<subseteq> ?Aa) \\<and>\n  (?a \\<notin> ?Ab \\<or> \\<not> ?Ab \\<subseteq> ?Ac \\<or> ?a \\<in> ?Ac)\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       fmdom' (snd a) \\<subseteq> A \\<or>\n       aa (fmdom' (snd a)) A \\<in> vs \\<or> aa (fmdom' (snd a)) A \\<in> vs'", "using a1"], ["proof (prove)\nusing this:\n  (?A \\<subseteq> ?Aa \\<or> aa ?A ?Aa \\<in> ?A) \\<and>\n  (aa ?A ?Aa \\<notin> ?Aa \\<or> ?A \\<subseteq> ?Aa) \\<and>\n  (?a \\<notin> ?Ab \\<or> \\<not> ?Ab \\<subseteq> ?Ac \\<or> ?a \\<in> ?Ac)\n  fmdom' (snd a) \\<subseteq> vs \\<union> vs'\n\ngoal (1 subgoal):\n 1. \\<And>A.\n       fmdom' (snd a) \\<subseteq> A \\<or>\n       aa (fmdom' (snd a)) A \\<in> vs \\<or> aa (fmdom' (snd a)) A \\<in> vs'", "by (meson Un_iff)"], ["proof (state)\nthis:\n  fmdom' (snd a) \\<subseteq> ?A \\<or>\n  aa (fmdom' (snd a)) ?A \\<in> vs \\<or> aa (fmdom' (snd a)) ?A \\<in> vs'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> PROB; disjnt vs vs';\n     \\<not> (disjnt vs' vs \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs' \\<and>\n                 v2 \\<in> vs \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2))) \\<or>\n     \\<not> (disjnt vs vs' \\<and>\n             (\\<exists>v1 v2.\n                 v1 \\<in> vs \\<and>\n                 v2 \\<in> vs' \\<and>\n                 ((\\<exists>a.\n                      a \\<in> PROB \\<and>\n                      (v1 \\<in> fmdom' (fst a) \\<and>\n                       v2 \\<in> fmdom' (snd a) \\<or>\n                       v1 \\<in> fmdom' (snd a) \\<and>\n                       v2 \\<in> fmdom' (snd a))) \\<or>\n                  v1 = v2)));\n     fmdom' (snd a) \\<subseteq> vs \\<union> vs'\\<rbrakk>\n    \\<Longrightarrow> fmdom' (snd a) \\<subseteq> vs \\<or>\n                      fmdom' (snd a) \\<subseteq> vs'", "then"], ["proof (chain)\npicking this:\n  fmdom' (snd a) \\<subseteq> ?A \\<or>\n  aa (fmdom' (snd a)) ?A \\<in> vs \\<or> aa (fmdom' (snd a)) ?A \\<in> vs'", "show \"fmdom' (snd a) \\<subseteq> vs \\<or> fmdom' (snd a) \\<subseteq> vs'\""], ["proof (prove)\nusing this:\n  fmdom' (snd a) \\<subseteq> ?A \\<or>\n  aa (fmdom' (snd a)) ?A \\<in> vs \\<or> aa (fmdom' (snd a)) ?A \\<in> vs'\n\ngoal (1 subgoal):\n 1. fmdom' (snd a) \\<subseteq> vs \\<or> fmdom' (snd a) \\<subseteq> vs'", "using f3 f2"], ["proof (prove)\nusing this:\n  fmdom' (snd a) \\<subseteq> ?A \\<or>\n  aa (fmdom' (snd a)) ?A \\<in> vs \\<or> aa (fmdom' (snd a)) ?A \\<in> vs'\n  (?A \\<subseteq> ?Aa \\<or> aa ?A ?Aa \\<in> ?A) \\<and>\n  (aa ?A ?Aa \\<notin> ?Aa \\<or> ?A \\<subseteq> ?Aa) \\<and>\n  (?a \\<notin> ?Ab \\<or> \\<not> ?Ab \\<subseteq> ?Ac \\<or> ?a \\<in> ?Ac)\n  ?aa \\<notin> vs \\<or>\n  ?ab \\<notin> vs' \\<or>\n  ?aa \\<notin> fmdom' (snd a) \\<or> ?ab \\<notin> fmdom' (snd a)\n\ngoal (1 subgoal):\n 1. fmdom' (snd a) \\<subseteq> vs \\<or> fmdom' (snd a) \\<subseteq> vs'", "by meson"], ["proof (state)\nthis:\n  fmdom' (snd a) \\<subseteq> vs \\<or> fmdom' (snd a) \\<subseteq> vs'\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}