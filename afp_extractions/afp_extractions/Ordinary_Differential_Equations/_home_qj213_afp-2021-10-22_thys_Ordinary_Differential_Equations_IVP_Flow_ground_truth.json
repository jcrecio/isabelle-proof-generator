{"file_name": "/home/qj213/afp-2021-10-22/thys/Ordinary_Differential_Equations/IVP/Flow.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Ordinary_Differential_Equations", "problem_names": ["lemma blinfun_ext: \"x = y \\<longleftrightarrow> (\\<forall>i. blinfun_apply x i = blinfun_apply y i)\"", "lemma blinfun_inverse_left:\n  fixes f::\"'a::euclidean_space \\<Rightarrow>\\<^sub>L 'a\" and f'\n  shows \"f o\\<^sub>L f' = 1\\<^sub>L \\<longleftrightarrow> f' o\\<^sub>L f = 1\\<^sub>L\"", "lemma onorm_zero_blinfun[simp]: \"onorm (blinfun_apply 0) = 0\"", "lemma blinfun_compose_1_left[simp]: \"x o\\<^sub>L 1\\<^sub>L = x\"\n  and blinfun_compose_1_right[simp]: \"1\\<^sub>L o\\<^sub>L y = y\"", "lemma integrable_on_refl_ivl[intro, simp]: \"g integrable_on {b .. (b::'b::ordered_euclidean_space)}\"\n  and integrable_on_refl_closed_segment[intro, simp]: \"h integrable_on closed_segment a a\"", "lemma integrable_const_ivl_closed_segment[intro, simp]: \"(\\<lambda>x. c) integrable_on closed_segment a (b::real)\"", "lemma integrable_ident_ivl[intro, simp]: \"(\\<lambda>x. x) integrable_on closed_segment a (b::real)\"\n  and integrable_ident_cbox[intro, simp]: \"(\\<lambda>x. x) integrable_on cbox a (b::real)\"", "lemma content_closed_segment_real:\n  fixes a b::real\n  shows \"content (closed_segment a b) = abs (b - a)\"", "lemma integral_const_closed_segment:\n  fixes a b::real\n  shows \"integral (closed_segment a b) (\\<lambda>x. c) = abs (b - a) *\\<^sub>R c\"", "lemmas [integrable_on_simps] =\n  integrable_on_empty \\<comment> \\<open>empty\\<close>\n  integrable_on_refl integrable_on_refl_ivl integrable_on_refl_closed_segment \\<comment> \\<open>singleton\\<close>\n  integrable_const integrable_const_ivl integrable_const_ivl_closed_segment \\<comment> \\<open>constant\\<close>\n  ident_integrable_on integrable_ident_ivl integrable_ident_cbox \\<comment> \\<open>identity\\<close>", "lemma integrable_cmul_real:\n  fixes K::real\n  shows \"f integrable_on X \\<Longrightarrow> (\\<lambda>x. K * f x) integrable_on X \"", "lemmas [integrable_on_simps] =\n  integrable_0\n  integrable_neg\n  integrable_cmul\n  integrable_cmul_real\n  integrable_on_cmult_iff\n  integrable_on_cmult_left\n  integrable_on_cmult_right\n  integrable_on_cdivide\n  integrable_on_cmult_iff\n  integrable_on_cmult_left_iff\n  integrable_on_cmult_right_iff\n  integrable_on_cdivide_iff\n  integrable_diff\n  integrable_add\n  integrable_sum", "lemma dist_cancel_add1: \"dist (t0 + et) t0 = norm et\"", "lemma double_nonneg_le:\n  fixes a::real\n  shows \"a * 2 \\<le> b \\<Longrightarrow> a \\<ge> 0 \\<Longrightarrow> a \\<le> b\"", "lemmas closed_segment_iv_subset_domain = closed_segment_subset_domainI[OF iv_defined(1)]", "lemma\n  local_unique_solutions:\n  obtains t u L\n  where\n    \"0 < t\" \"0 < u\"\n    \"cball t0 t \\<subseteq> existence_ivl t0 x0\"\n    \"cball x0 (2 * u) \\<subseteq> X\"\n    \"\\<And>t'. t' \\<in> cball t0 t \\<Longrightarrow> L-lipschitz_on (cball x0 (2 * u)) (f t')\"\n    \"\\<And>x. x \\<in> cball x0 u \\<Longrightarrow> (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u)\"\n    \"\\<And>x. x \\<in> cball x0 u \\<Longrightarrow> cball x u \\<subseteq> X\"", "lemma Picard_iterate_mem_existence_ivlI:\n  assumes \"t \\<in> T\"\n  assumes \"compact C\" \"x0 \\<in> C\" \"C \\<subseteq> X\"\n  assumes \"\\<And>y s. s \\<in> {t0 -- t} \\<Longrightarrow> y t0 = x0 \\<Longrightarrow> y \\<in> {t0--s} \\<rightarrow> C \\<Longrightarrow> continuous_on {t0--s} y \\<Longrightarrow>\n      x0 + ivl_integral t0 s (\\<lambda>t. f t (y t)) \\<in> C\"\n  shows \"t \\<in> existence_ivl t0 x0\" \"\\<And>s. s \\<in> {t0 -- t} \\<Longrightarrow> flow t0 x0 s \\<in> C\"", "lemma flow_has_vderiv_on: \"(flow t0 x0 has_vderiv_on (\\<lambda>t. f t (flow t0 x0 t))) (existence_ivl t0 x0)\"", "lemmas flow_has_vderiv_on_compose[derivative_intros] =\n  has_vderiv_on_compose2[OF flow_has_vderiv_on, THEN has_vderiv_on_eq_rhs]", "lemma unique_on_intersection:\n  assumes sols: \"(x solves_ode f) U X\" \"(y solves_ode f) V X\"\n  assumes iv_mem: \"t0 \\<in> U\" \"t0 \\<in> V\" and subs: \"U \\<subseteq> T\" \"V \\<subseteq> T\"\n  assumes ivls: \"is_interval U\" \"is_interval V\"\n  assumes iv: \"x t0 = y t0\"\n  assumes mem: \"t \\<in> U\" \"t \\<in> V\"\n  shows \"x t = y t\"", "lemma unique_solution:\n  assumes sols: \"(x solves_ode f) U X\" \"(y solves_ode f) U X\"\n  assumes iv_mem: \"t0 \\<in> U\" and subs: \"U \\<subseteq> T\"\n  assumes ivls: \"is_interval U\"\n  assumes iv: \"x t0 = y t0\"\n  assumes mem: \"t \\<in> U\"\n  shows \"x t = y t\"", "lemma\n  assumes s: \"s \\<in> existence_ivl t0 x0\"\n  assumes t: \"t + s \\<in> existence_ivl s (flow t0 x0 s)\"\n  shows flow_trans: \"flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\"\n    and existence_ivl_trans: \"s + t \\<in> existence_ivl t0 x0\"", "lemma\n  assumes t: \"t \\<in> existence_ivl t0 x0\"\n  shows flows_reverse: \"flow t (flow t0 x0 t) t0 = x0\"\n    and existence_ivl_reverse: \"t0 \\<in> existence_ivl t (flow t0 x0 t)\"", "lemma flow_has_derivative:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows \"(flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t))) (at t)\"", "lemma flow_has_vector_derivative:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows \"(flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at t)\"", "lemma flow_has_vector_derivative_at_0:\n  assumes\"t \\<in> existence_ivl t0 x0\"\n  shows \"((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative f t (flow t0 x0 t)) (at 0)\"", "lemma\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows closed_segment_subset_existence_ivl: \"closed_segment t0 t \\<subseteq> existence_ivl t0 x0\"\n    and ivl_subset_existence_ivl: \"{t0 .. t} \\<subseteq> existence_ivl t0 x0\"\n    and ivl_subset_existence_ivl': \"{t .. t0} \\<subseteq> existence_ivl t0 x0\"", "lemma flow_fixed_point:\n  assumes t: \"t \\<in> existence_ivl t0 x0\"\n  shows \"flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))\"", "lemma flow_continuous: \"t \\<in> existence_ivl t0 x0 \\<Longrightarrow> continuous (at t) (flow t0 x0)\"", "lemma flow_tendsto: \"t \\<in> existence_ivl t0 x0 \\<Longrightarrow> (ts \\<longlongrightarrow> t) F \\<Longrightarrow>\n    ((\\<lambda>s. flow t0 x0 (ts s)) \\<longlongrightarrow> flow t0 x0 t) F\"", "lemma flow_continuous_on: \"continuous_on (existence_ivl t0 x0) (flow t0 x0)\"", "lemma flow_continuous_on_intro:\n  \"continuous_on s g \\<Longrightarrow>\n  (\\<And>xa. xa \\<in> s \\<Longrightarrow> g xa \\<in> existence_ivl t0 x0) \\<Longrightarrow>\n  continuous_on s (\\<lambda>xa. flow t0 x0 (g xa))\"", "lemma f_flow_continuous:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows \"isCont (\\<lambda>t. f t (flow t0 x0 t)) t\"", "lemma exponential_initial_condition:\n  assumes y0: \"t \\<in> existence_ivl t0 y0\"\n  assumes z0: \"t \\<in> existence_ivl t0 z0\"\n  assumes \"Y \\<subseteq> X\"\n  assumes remain: \"\\<And>s. s \\<in> closed_segment t0 t \\<Longrightarrow> flow t0 y0 s \\<in> Y\"\n    \"\\<And>s. s \\<in> closed_segment t0 t \\<Longrightarrow> flow t0 z0 s \\<in> Y\"\n  assumes lipschitz: \"\\<And>s. s \\<in> closed_segment t0 t \\<Longrightarrow> K-lipschitz_on Y (f s)\"\n  shows \"norm (flow t0 y0 t - flow t0 z0 t) \\<le> norm (y0 - z0) * exp ((K + 1) * abs (t - t0))\"", "lemma\n  existence_ivl_cballs:\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  obtains t u L\n  where\n    \"\\<And>y. y \\<in> cball x0 u \\<Longrightarrow> cball t0 t \\<subseteq> existence_ivl t0 y\"\n    \"\\<And>s y. y \\<in> cball x0 u \\<Longrightarrow> s \\<in> cball t0 t \\<Longrightarrow> flow t0 y s \\<in> cball y u\"\n    \"L-lipschitz_on (cball t0 t\\<times>cball x0 u) (\\<lambda>(t, x). flow t0 x t)\"\n    \"\\<And>y. y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X\"\n    \"0 < t\" \"0 < u\"", "lemma existence_ivl_notempty: \"existence_ivl t0 x0 \\<noteq> {}\"", "lemma initial_time_bounds:\n  shows \"bdd_above (existence_ivl t0 x0) \\<Longrightarrow> t0 < Sup (existence_ivl t0 x0)\" (is \"?a \\<Longrightarrow> _\")\n    and \"bdd_below (existence_ivl t0 x0) \\<Longrightarrow> Inf (existence_ivl t0 x0) < t0\" (is \"?b \\<Longrightarrow> _\")", "lemma\n  flow_leaves_compact_ivl_right:\n  assumes bdd: \"bdd_above (existence_ivl t0 x0)\"\n  defines \"b \\<equiv> Sup (existence_ivl t0 x0)\"\n  assumes \"b \\<in> T\"\n  assumes \"compact K\"\n  assumes \"K \\<subseteq> X\"\n  obtains t where \"t \\<ge> t0\" \"t \\<in> existence_ivl t0 x0\" \"flow t0 x0 t \\<notin> K\"", "lemma\n  flow_leaves_compact_ivl_left:\n  assumes bdd: \"bdd_below (existence_ivl t0 x0)\"\n  defines \"b \\<equiv> Inf (existence_ivl t0 x0)\"\n  assumes \"b \\<in> T\"\n  assumes \"compact K\"\n  assumes \"K \\<subseteq> X\"\n  obtains t where \"t \\<le> t0\" \"t \\<in> existence_ivl t0 x0\" \"flow t0 x0 t \\<notin> K\"", "lemma\n  sup_existence_maximal:\n  assumes \"\\<And>t. t0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"bdd_above (existence_ivl t0 x0)\"\n  shows \"Sup (existence_ivl t0 x0) \\<notin> T\"", "lemma\n  inf_existence_minimal:\n  assumes \"\\<And>t. t \\<le> t0 \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"bdd_below (existence_ivl t0 x0)\"\n  shows \"Inf (existence_ivl t0 x0) \\<notin> T\"", "lemma\n  subset_mem_compact_implies_subset_existence_interval:\n  assumes ivl: \"t0 \\<in> T'\" \"is_interval T'\" \"T' \\<subseteq> T\"\n  assumes iv_defined: \"x0 \\<in> X\"\n  assumes mem_compact: \"\\<And>t. t \\<in> T' \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes K: \"compact K\" \"K \\<subseteq> X\"\n  shows \"T' \\<subseteq> existence_ivl t0 x0\"", "lemma\n  mem_compact_implies_subset_existence_interval:\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  assumes mem_compact: \"\\<And>t. t \\<in> T \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes K: \"compact K\" \"K \\<subseteq> X\"\n  shows \"T \\<subseteq> existence_ivl t0 x0\"", "lemma\n  global_right_existence_ivl_explicit:\n  assumes \"b \\<ge> t0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  obtains d K where \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {t0 .. b} \\<Longrightarrow>\n      dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\"", "lemma\n  global_left_existence_ivl_explicit:\n  assumes \"b \\<le> t0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  obtains d K where \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {b .. t0} \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\"", "lemma\n  global_existence_ivl_explicit:\n  assumes a: \"a \\<in> existence_ivl t0 x0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes le: \"a \\<le> b\"\n  obtains d K where \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {a .. b} \\<Longrightarrow>\n      dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\"", "lemma eventually_exponential_separation:\n  assumes a: \"a \\<in> existence_ivl t0 x0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes le: \"a \\<le> b\"\n  obtains K where \"K > 0\" \"\\<forall>\\<^sub>F y in at x0. \\<forall>t\\<in>{a..b}. dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\"", "lemma eventually_mem_existence_ivl:\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  shows \"\\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x\"", "lemma uniform_limit_flow:\n  assumes a: \"a \\<in> existence_ivl t0 x0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes le: \"a \\<le> b\"\n  shows \"uniform_limit {a .. b} (flow t0) (flow t0 x0) (at x0)\"", "lemma eventually_at_fst:\n  assumes \"eventually P (at (fst x))\"\n  assumes \"P (fst x)\"\n  shows \"eventually (\\<lambda>h. P (fst h)) (at x)\"", "lemma eventually_at_snd:\n  assumes \"eventually P (at (snd x))\"\n  assumes \"P (snd x)\"\n  shows \"eventually (\\<lambda>h. P (snd h)) (at x)\"", "lemma\n  shows open_state_space: \"open (Sigma X (existence_ivl t0))\"\n  and flow_continuous_on_state_space:\n    \"continuous_on (Sigma X (existence_ivl t0)) (\\<lambda>(x, t). flow t0 x t)\"", "lemmas flow_continuous_on_compose[continuous_intros] =\n  continuous_on_compose_Pair[OF flow_continuous_on_state_space]", "lemma flow_isCont_state_space: \"t \\<in> existence_ivl t0 x0 \\<Longrightarrow> isCont (\\<lambda>(x, t). flow t0 x t) (x0, t)\"", "lemma\n  flow_absolutely_integrable_on[integrable_on_simps]:\n  assumes \"s \\<in> existence_ivl t0 x0\"\n  shows \"(\\<lambda>x. norm (flow t0 x0 x)) integrable_on closed_segment t0 s\"", "lemma existence_ivl_eq_domain:\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  assumes bnd: \"\\<And>tm tM t x. tm \\<in> T \\<Longrightarrow> tM \\<in> T \\<Longrightarrow> \\<exists>M. \\<exists>L. \\<forall>t \\<in> {tm .. tM}. \\<forall>x \\<in> X. norm (f t x) \\<le> M + L * norm x\"\n  assumes \"is_interval T\" \"X = UNIV\"\n  shows \"existence_ivl t0 x0 = T\"", "lemma flow_unique:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  assumes \"phi t0 = x0\"\n  assumes \"\\<And>t. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> (phi has_vector_derivative f t (phi t)) (at t)\"\n  assumes \"\\<And>t. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> phi t \\<in> X\"\n  shows \"flow t0 x0 t = phi t\"", "lemma flow_unique_on:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  assumes \"phi t0 = x0\"\n  assumes \"(phi has_vderiv_on (\\<lambda>t. f t (phi t))) (existence_ivl t0 x0)\"\n  assumes \"\\<And>t. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> phi t \\<in> X\"\n  shows \"flow t0 x0 t = phi t\"", "lemma F_iv_defined: \"0 \\<in> T1\" \"x0 \\<in> X\"", "lemma e_pos: \"0 < e\"", "lemma norm_X_Y_bound:\nshows \"\\<forall>t \\<in> J \\<inter> G.existence_ivl 0 x0. norm (flow0 t - Y t) \\<le> e / K * (exp(K * \\<bar>t\\<bar>) - 1)\"", "lemma existence_ivl_zero: \"x0 \\<in> X \\<Longrightarrow> 0 \\<in> existence_ivl0 x0\"", "lemmas [continuous_intros del] = continuous_on_f", "lemmas continuous_on_f_comp[continuous_intros] = continuous_on_f[OF continuous_on_const _ subset_UNIV]", "lemma\n  flow_in_compact_right_existence:\n  assumes \"\\<And>t. 0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"t \\<ge> 0\"\n  shows \"t \\<in> existence_ivl0 x\"", "lemma\n  flow_in_compact_left_existence:\n  assumes \"\\<And>t. t \\<le> 0 \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"t \\<le> 0\"\n  shows \"t \\<in> existence_ivl0 x\"", "lemma ex_onorm_bound:\n  \"\\<exists>B. \\<forall>x \\<in> X. norm (f' x) \\<le> B\"", "lemma onorm_bound: assumes \"x \\<in> X\" shows \"norm (f' x) \\<le> onorm_bound\"", "lemmas continuous_derivative_comp[continuous_intros] =\n  continuous_on_compose2[OF continuous_derivative]", "lemma derivative_tendsto[tendsto_intros]:\n  assumes [tendsto_intros]: \"(g \\<longlongrightarrow> l) F\"\n    and \"l \\<in> X\"\n  shows \"((\\<lambda>x. f' (g x)) \\<longlongrightarrow> f' l) F\"", "lemma c1_on_open_rev[intro, simp]: \"c1_on_open (-f) (-f') X\"", "lemma derivative_rhs_compose[derivative_intros]:\n  \"((g has_derivative g') (at x within s)) \\<Longrightarrow> g x \\<in> X \\<Longrightarrow>\n    ((\\<lambda>x. f (g x)) has_derivative\n      (\\<lambda>xa. blinfun_apply (f' (g x)) (g' xa)))\n    (at x within s)\"", "lemma c1_on_open_euclidean_anchor: True", "lemma continuous_on_A[continuous_intros]:\n  assumes \"continuous_on S a\"\n  assumes \"continuous_on S b\"\n  assumes \"\\<And>s. s \\<in> S \\<Longrightarrow> a s \\<in> X\"\n  assumes \"\\<And>s. s \\<in> S \\<Longrightarrow> b s \\<in> existence_ivl0 (a s)\"\n  shows \"continuous_on S (\\<lambda>s. vareq (a s) (b s))\"", "lemmas [intro] = mem_existence_ivl_iv_defined", "lemma flow0_defined: \"xa \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xa \\<in> X\"", "lemma continuous_on_flow0: \"continuous_on (existence_ivl0 x0) (flow0 x0)\"", "lemmas continuous_on_flow0_comp[continuous_intros] = continuous_on_compose2[OF continuous_on_flow0]", "lemma varexivl_eq_exivl:\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"var.existence_ivl x0 t a = existence_ivl0 x0\"", "lemma vector_Dflow_linear:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t = \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t\"", "lemma linear_vector_Dflow:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"linear (\\<lambda>z. vector_Dflow z t)\"", "lemma bounded_linear_vector_Dflow:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"bounded_linear (\\<lambda>z. vector_Dflow z t)\"", "lemma vector_Dflow_continuous_on_time: \"x0 \\<in> X \\<Longrightarrow> continuous_on (existence_ivl0 x0) (\\<lambda>t. vector_Dflow z t)\"", "lemma local_lipschitz_A:\n  \"OT \\<subseteq> existence_ivl0 x0 \\<Longrightarrow> local_lipschitz OT (OS::('a \\<Rightarrow>\\<^sub>L 'a) set) (\\<lambda>t. (o\\<^sub>L) (vareq x0 t))\"", "lemma total_derivative_ll_on_open:\n  \"ll_on_open (existence_ivl0 x0) (\\<lambda>t. blinfun_compose (vareq x0 t)) (UNIV::('a \\<Rightarrow>\\<^sub>L 'a) set)\"", "lemma mvar_existence_ivl_eq_existence_ivl[simp]:\\<comment> \\<open>TODO: unify with @{thm varexivl_eq_exivl}\\<close>\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"mvar.existence_ivl x0 t = (\\<lambda>_. existence_ivl0 x0)\"", "lemma\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"continuous_on (UNIV \\<times> existence_ivl0 x0) (\\<lambda>(x, ta). mvar.flow x0 t x ta)\"", "lemma var_eq_mvar:\n  assumes \"t0 \\<in> existence_ivl0 x0\"\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"var.flow x0 t0 i t = mvar.flow x0 t0 id_blinfun t i\"", "lemma Dflow_zero[simp]: \"x \\<in> X \\<Longrightarrow> Dflow x 0 = 1\\<^sub>L\"", "lemma flow_dx_derivative:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"((\\<lambda>x0. flow0 x0 t) has_derivative (\\<lambda>z. vector_Dflow x0 z t)) (at x0)\"", "lemma flow_dx_derivative_blinfun:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"((\\<lambda>x. flow0 x t) has_derivative Blinfun (\\<lambda>z. vector_Dflow x0 z t)) (at x0)\"", "lemma flowderiv_eq: \"flowderiv x0 t (\\<xi>\\<^sub>1, \\<xi>\\<^sub>2) = (Dflow x0 t) \\<xi>\\<^sub>1 + \\<xi>\\<^sub>2 *\\<^sub>R f (flow0 x0 t)\"", "lemma W_continuous_on: \"continuous_on (Sigma X existence_ivl0) (\\<lambda>(x0, t). Dflow x0 t)\"\n  \\<comment> \\<open>TODO: somewhere here is hidden continuity wrt rhs of ODE, extract it!\\<close>", "lemma W_continuous_on_comp[continuous_intros]:\n  assumes h: \"continuous_on S h\" and g: \"continuous_on S g\"\n  shows \"(\\<And>s. s \\<in> S \\<Longrightarrow> h s \\<in> X) \\<Longrightarrow> (\\<And>s. s \\<in> S \\<Longrightarrow> g s \\<in> existence_ivl0 (h s)) \\<Longrightarrow>\n    continuous_on S (\\<lambda>s. Dflow (h s) (g s))\"", "lemma f_flow_continuous_on: \"continuous_on (Sigma X existence_ivl0) (\\<lambda>(x0, t). f (flow0 x0 t))\"", "lemma\n  flow_has_space_derivative:\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"((\\<lambda>x0. flow0 x0 t) has_derivative Dflow x0 t) (at x0)\"", "lemma\n  flow_has_flowderiv:\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"((\\<lambda>(x0, t). flow0 x0 t) has_derivative flowderiv x0 t) (at (x0, t) within S)\"", "lemma flow0_comp_has_derivative:\n  assumes h: \"h s \\<in> existence_ivl0 (g s)\"\n  assumes [derivative_intros]: \"(g has_derivative g') (at s within S)\"\n  assumes [derivative_intros]: \"(h has_derivative h') (at s within S)\"\n  shows \"((\\<lambda>x. flow0 (g x) (h x)) has_derivative (\\<lambda>x. blinfun_apply (flowderiv (g s) (h s)) (g' x, h' x)))\n     (at s within S)\"", "lemma flowderiv_continuous_on: \"continuous_on (Sigma X existence_ivl0) (\\<lambda>(x0, t). flowderiv x0 t)\"", "lemma flowderiv_continuous_on_comp[continuous_intros]:\n  assumes \"continuous_on S x\"\n  assumes \"continuous_on S t\"\n  assumes \"\\<And>s. s \\<in> S \\<Longrightarrow> x s \\<in> X\" \"\\<And>s. s \\<in> S \\<Longrightarrow> t s \\<in> existence_ivl0 (x s)\"\n  shows \"continuous_on S (\\<lambda>xa. flowderiv (x xa) (t xa))\"", "lemmas [intro] = flow_in_domain", "lemma vareq_trans: \"t0 \\<in> existence_ivl0 x0 \\<Longrightarrow> t \\<in> existence_ivl0 (flow0 x0 t0) \\<Longrightarrow>\n  vareq (flow0 x0 t0) t = vareq x0 (t0 + t)\"", "lemma diff_existence_ivl_trans:\n  \"t0 \\<in> existence_ivl0 x0 \\<Longrightarrow> t \\<in> existence_ivl0 x0 \\<Longrightarrow> t - t0 \\<in> existence_ivl0 (flow0 x0 t0)\" for t", "lemma has_vderiv_on_blinfun_compose_right[derivative_intros]:\n  assumes \"(g has_vderiv_on g') T\"\n  assumes \"\\<And>x. x \\<in> T \\<Longrightarrow> gd' x = g' x o\\<^sub>L d\"\n  shows \"((\\<lambda>x. g x o\\<^sub>L d) has_vderiv_on gd') T\"", "lemma has_vderiv_on_blinfun_compose_left[derivative_intros]:\n  assumes \"(g has_vderiv_on g') T\"\n  assumes \"\\<And>x. x \\<in> T \\<Longrightarrow> gd' x = d o\\<^sub>L g' x\"\n  shows \"((\\<lambda>x. d o\\<^sub>L g x) has_vderiv_on gd') T\"", "lemma mvar_flow_shift:\n  assumes \"t0 \\<in> existence_ivl0 x0\" \"t1 \\<in> existence_ivl0 x0\"\n  shows \"mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d\"", "lemma Dflow_trans:\n  assumes \"h \\<in> existence_ivl0 x0\"\n  assumes \"i \\<in> existence_ivl0 (flow0 x0 h)\"\n  shows \"Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L (Dflow x0 h)\"", "lemma Dflow_trans_apply:\n  assumes \"h \\<in> existence_ivl0 x0\"\n  assumes \"i \\<in> existence_ivl0 (flow0 x0 h)\"\n  shows \"Dflow x0 (h + i) d0 = Dflow (flow0 x0 h) i (Dflow x0 h d0)\""], "translations": [["", "lemma blinfun_ext: \"x = y \\<longleftrightarrow> (\\<forall>i. blinfun_apply x i = blinfun_apply y i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x = y) = (\\<forall>i. blinfun_apply x i = blinfun_apply y i)", "by transfer auto"], ["", "notation id_blinfun (\"1\\<^sub>L\")"], ["", "lemma blinfun_inverse_left:\n  fixes f::\"'a::euclidean_space \\<Rightarrow>\\<^sub>L 'a\" and f'\n  shows \"f o\\<^sub>L f' = 1\\<^sub>L \\<longleftrightarrow> f' o\\<^sub>L f = 1\\<^sub>L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f o\\<^sub>L f' = 1\\<^sub>L) = (f' o\\<^sub>L f = 1\\<^sub>L)", "by transfer\n    (auto dest!: bounded_linear.linear simp: id_def[symmetric]\n      linear_inverse_left)"], ["", "lemma onorm_zero_blinfun[simp]: \"onorm (blinfun_apply 0) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. onorm (blinfun_apply 0) = 0", "by transfer (simp add: onorm_zero)"], ["", "lemma blinfun_compose_1_left[simp]: \"x o\\<^sub>L 1\\<^sub>L = x\"\n  and blinfun_compose_1_right[simp]: \"1\\<^sub>L o\\<^sub>L y = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x o\\<^sub>L 1\\<^sub>L = x &&& 1\\<^sub>L o\\<^sub>L y = y", "by (auto intro!: blinfun_eqI)"], ["", "named_theorems integrable_on_simps"], ["", "lemma integrable_on_refl_ivl[intro, simp]: \"g integrable_on {b .. (b::'b::ordered_euclidean_space)}\"\n  and integrable_on_refl_closed_segment[intro, simp]: \"h integrable_on closed_segment a a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g integrable_on {b..b} &&& h integrable_on {a--a}", "using integrable_on_refl"], ["proof (prove)\nusing this:\n  ?f integrable_on cbox ?a ?a\n\ngoal (1 subgoal):\n 1. g integrable_on {b..b} &&& h integrable_on {a--a}", "by auto"], ["", "lemma integrable_const_ivl_closed_segment[intro, simp]: \"(\\<lambda>x. c) integrable_on closed_segment a (b::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. c) integrable_on {a--b}", "by (auto simp: closed_segment_eq_real_ivl)"], ["", "lemma integrable_ident_ivl[intro, simp]: \"(\\<lambda>x. x) integrable_on closed_segment a (b::real)\"\n  and integrable_ident_cbox[intro, simp]: \"(\\<lambda>x. x) integrable_on cbox a (b::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. x) integrable_on {a--b} &&&\n    (\\<lambda>x. x) integrable_on cbox a b", "by (auto simp: closed_segment_eq_real_ivl ident_integrable_on)"], ["", "lemma content_closed_segment_real:\n  fixes a b::real\n  shows \"content (closed_segment a b) = abs (b - a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. content {a--b} = \\<bar>b - a\\<bar>", "by (auto simp: closed_segment_eq_real_ivl)"], ["", "lemma integral_const_closed_segment:\n  fixes a b::real\n  shows \"integral (closed_segment a b) (\\<lambda>x. c) = abs (b - a) *\\<^sub>R c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a--b} (\\<lambda>x. c) = \\<bar>b - a\\<bar> *\\<^sub>R c", "by (auto simp: closed_segment_eq_real_ivl content_closed_segment_real)"], ["", "lemmas [integrable_on_simps] =\n  integrable_on_empty \\<comment> \\<open>empty\\<close>\n  integrable_on_refl integrable_on_refl_ivl integrable_on_refl_closed_segment \\<comment> \\<open>singleton\\<close>\n  integrable_const integrable_const_ivl integrable_const_ivl_closed_segment \\<comment> \\<open>constant\\<close>\n  ident_integrable_on integrable_ident_ivl integrable_ident_cbox \\<comment> \\<open>identity\\<close>"], ["", "lemma integrable_cmul_real:\n  fixes K::real\n  shows \"f integrable_on X \\<Longrightarrow> (\\<lambda>x. K * f x) integrable_on X \""], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on X \\<Longrightarrow>\n    (\\<lambda>x. K * f x) integrable_on X", "unfolding real_scaleR_def[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. f integrable_on X \\<Longrightarrow>\n    (\\<lambda>x. K *\\<^sub>R f x) integrable_on X", "by (rule integrable_cmul)"], ["", "lemmas [integrable_on_simps] =\n  integrable_0\n  integrable_neg\n  integrable_cmul\n  integrable_cmul_real\n  integrable_on_cmult_iff\n  integrable_on_cmult_left\n  integrable_on_cmult_right\n  integrable_on_cdivide\n  integrable_on_cmult_iff\n  integrable_on_cmult_left_iff\n  integrable_on_cmult_right_iff\n  integrable_on_cdivide_iff\n  integrable_diff\n  integrable_add\n  integrable_sum"], ["", "lemma dist_cancel_add1: \"dist (t0 + et) t0 = norm et\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (t0 + et) t0 = norm et", "by (simp add: dist_norm)"], ["", "lemma double_nonneg_le:\n  fixes a::real\n  shows \"a * 2 \\<le> b \\<Longrightarrow> a \\<ge> 0 \\<Longrightarrow> a \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a * 2 \\<le> b; 0 \\<le> a\\<rbrakk> \\<Longrightarrow> a \\<le> b", "by arith"], ["", "subsection \\<open>Nonautonomous IVP on maximal existence interval\\<close>"], ["", "context ll_on_open_it\nbegin"], ["", "context\nfixes x0\nassumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\nbegin"], ["", "lemmas closed_segment_iv_subset_domain = closed_segment_subset_domainI[OF iv_defined(1)]"], ["", "lemma\n  local_unique_solutions:\n  obtains t u L\n  where\n    \"0 < t\" \"0 < u\"\n    \"cball t0 t \\<subseteq> existence_ivl t0 x0\"\n    \"cball x0 (2 * u) \\<subseteq> X\"\n    \"\\<And>t'. t' \\<in> cball t0 t \\<Longrightarrow> L-lipschitz_on (cball x0 (2 * u)) (f t')\"\n    \"\\<And>x. x \\<in> cball x0 u \\<Longrightarrow> (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u)\"\n    \"\\<And>x. x \\<in> cball x0 u \\<Longrightarrow> cball x u \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from local_unique_solution[OF iv_defined]"], ["proof (chain)\npicking this:\n  (\\<And>et ex B L.\n      \\<lbrakk>0 < et; 0 < ex; cball t0 et \\<subseteq> T;\n       cball x0 ex \\<subseteq> X;\n       unique_on_cylinder t0 (cball t0 et) x0 ex f B L\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain et ex B L\n    where \"0 < et\" \"0 < ex\" \"cball t0 et \\<subseteq> T\" \"cball x0 ex \\<subseteq> X\"\n      \"unique_on_cylinder t0 (cball t0 et) x0 ex f B L\""], ["proof (prove)\nusing this:\n  (\\<And>et ex B L.\n      \\<lbrakk>0 < et; 0 < ex; cball t0 et \\<subseteq> T;\n       cball x0 ex \\<subseteq> X;\n       unique_on_cylinder t0 (cball t0 et) x0 ex f B L\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>et ex B L.\n        \\<lbrakk>0 < et; 0 < ex; cball t0 et \\<subseteq> T;\n         cball x0 ex \\<subseteq> X;\n         unique_on_cylinder t0 (cball t0 et) x0 ex f B L\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < et\n  0 < ex\n  cball t0 et \\<subseteq> T\n  cball x0 ex \\<subseteq> X\n  unique_on_cylinder t0 (cball t0 et) x0 ex f B L\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < et\n  0 < ex\n  cball t0 et \\<subseteq> T\n  cball x0 ex \\<subseteq> X\n  unique_on_cylinder t0 (cball t0 et) x0 ex f B L", "interpret cyl: unique_on_cylinder t0 \"cball t0 et\" x0 ex \"cball x0 ex\" f B L"], ["proof (prove)\nusing this:\n  0 < et\n  0 < ex\n  cball t0 et \\<subseteq> T\n  cball x0 ex \\<subseteq> X\n  unique_on_cylinder t0 (cball t0 et) x0 ex f B L\n\ngoal (1 subgoal):\n 1. unique_on_cylinder t0 (cball t0 et) x0 ex f B L &&&\n    cball x0 ex \\<equiv> cball x0 ex", "by auto"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from cyl.solution_solves_ode order_refl \\<open>cball x0 ex \\<subseteq> X\\<close>"], ["proof (chain)\npicking this:\n  (cyl.solution solves_ode f) (cball t0 et) (cball x0 ex)\n  ?x \\<le> ?x\n  cball x0 ex \\<subseteq> X", "have \"(cyl.solution solves_ode f) (cball t0 et) X\""], ["proof (prove)\nusing this:\n  (cyl.solution solves_ode f) (cball t0 et) (cball x0 ex)\n  ?x \\<le> ?x\n  cball x0 ex \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (cyl.solution solves_ode f) (cball t0 et) X", "by (rule solves_ode_on_subset)"], ["proof (state)\nthis:\n  (cyl.solution solves_ode f) (cball t0 et) X\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  (cyl.solution solves_ode f) (cball t0 et) X", "have \"cball t0 et \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  (cyl.solution solves_ode f) (cball t0 et) X\n\ngoal (1 subgoal):\n 1. cball t0 et \\<subseteq> existence_ivl t0 x0", "by (rule existence_ivl_maximal_interval) (insert \\<open>cball t0 et \\<subseteq> T\\<close> \\<open>0 < et\\<close>, auto)"], ["proof (state)\nthis:\n  cball t0 et \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"cball t0 et = {t0 - et .. t0 + et}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball t0 et = {t0 - et..t0 + et}", "using \\<open>et > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < et\n\ngoal (1 subgoal):\n 1. cball t0 et = {t0 - et..t0 + et}", "by (auto simp: dist_real_def)"], ["proof (state)\nthis:\n  cball t0 et = {t0 - et..t0 + et}\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  cball t0 et = {t0 - et..t0 + et}", "have cylbounds[simp]: \"cyl.tmin = t0 - et\" \"cyl.tmax = t0 + et\""], ["proof (prove)\nusing this:\n  cball t0 et = {t0 - et..t0 + et}\n\ngoal (1 subgoal):\n 1. cyl.tmin = t0 - et &&& cyl.tmax = t0 + et", "unfolding cyl.tmin_def cyl.tmax_def"], ["proof (prove)\nusing this:\n  cball t0 et = {t0 - et..t0 + et}\n\ngoal (1 subgoal):\n 1. Inf (cball t0 et) = t0 - et &&& Sup (cball t0 et) = t0 + et", "using \\<open>0 < et\\<close>"], ["proof (prove)\nusing this:\n  cball t0 et = {t0 - et..t0 + et}\n  0 < et\n\ngoal (1 subgoal):\n 1. Inf (cball t0 et) = t0 - et &&& Sup (cball t0 et) = t0 + et", "by auto"], ["proof (state)\nthis:\n  cyl.tmin = t0 - et\n  cyl.tmax = t0 + et\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define et' where \"et' \\<equiv> et / 2\""], ["proof (state)\nthis:\n  et' \\<equiv> et / 2\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define ex' where \"ex' \\<equiv> ex / 2\""], ["proof (state)\nthis:\n  ex' \\<equiv> ex / 2\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"et' > 0\" \"ex' > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < et' &&& 0 < ex'", "using \\<open>0 < et\\<close> \\<open>0 < ex\\<close>"], ["proof (prove)\nusing this:\n  0 < et\n  0 < ex\n\ngoal (1 subgoal):\n 1. 0 < et' &&& 0 < ex'", "by (auto simp: et'_def ex'_def)"], ["proof (state)\nthis:\n  0 < et'\n  0 < ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < et'\n  0 < ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>cball t0 et \\<subseteq> existence_ivl t0 x0\\<close>"], ["proof (chain)\npicking this:\n  cball t0 et \\<subseteq> existence_ivl t0 x0", "have \"cball t0 et' \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  cball t0 et \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> existence_ivl t0 x0", "by (force simp: et'_def dest!: double_nonneg_le)"], ["proof (state)\nthis:\n  cball t0 et' \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  cball t0 et' \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from this"], ["proof (chain)\npicking this:\n  cball t0 et' \\<subseteq> existence_ivl t0 x0", "have \"cball t0 et' \\<subseteq> T\""], ["proof (prove)\nusing this:\n  cball t0 et' \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> T", "using existence_ivl_subset[of x0]"], ["proof (prove)\nusing this:\n  cball t0 et' \\<subseteq> existence_ivl t0 x0\n  existence_ivl t0 x0 \\<subseteq> T\n\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> T", "by simp"], ["proof (state)\nthis:\n  cball t0 et' \\<subseteq> T\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have  \"cball x0 (2 * ex') \\<subseteq> X\" \"\\<And>t'. t' \\<in> cball t0 et' \\<Longrightarrow> L-lipschitz_on (cball x0 (2 * ex')) (f t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball x0 (2 * ex') \\<subseteq> X &&&\n    (\\<And>t'.\n        t' \\<in> cball t0 et' \\<Longrightarrow>\n        L-lipschitz_on (cball x0 (2 * ex')) (f t'))", "using cyl.lipschitz \\<open>0 < et\\<close> \\<open>cball x0 ex \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  ?t \\<in> cball t0 et \\<Longrightarrow> L-lipschitz_on (cball x0 ex) (f ?t)\n  0 < et\n  cball x0 ex \\<subseteq> X\n\ngoal (1 subgoal):\n 1. cball x0 (2 * ex') \\<subseteq> X &&&\n    (\\<And>t'.\n        t' \\<in> cball t0 et' \\<Longrightarrow>\n        L-lipschitz_on (cball x0 (2 * ex')) (f t'))", "by (auto simp: ex'_def et'_def intro!:)"], ["proof (state)\nthis:\n  cball x0 (2 * ex') \\<subseteq> X\n  ?t' \\<in> cball t0 et' \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * ex')) (f ?t')\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  cball x0 (2 * ex') \\<subseteq> X\n  ?t' \\<in> cball t0 et' \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * ex')) (f ?t')\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  cball x0 (2 * ex') \\<subseteq> X\n  ?t' \\<in> cball t0 et' \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * ex')) (f ?t')\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x0'::'a"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume x0': \"x0' \\<in> cball x0 ex'\""], ["proof (state)\nthis:\n  x0' \\<in> cball x0 ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  x0' \\<in> cball x0 ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix b"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume d: \"dist x0' b \\<le> ex'\""], ["proof (state)\nthis:\n  dist x0' b \\<le> ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"dist x0 b \\<le> dist x0 x0' + dist x0' b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x0 b \\<le> dist x0 x0' + dist x0' b", "by (rule dist_triangle)"], ["proof (state)\nthis:\n  dist x0 b \\<le> dist x0 x0' + dist x0' b\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  dist x0 b \\<le> dist x0 x0' + dist x0' b\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<dots> \\<le> ex' + ex'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x0 x0' + dist x0' b \\<le> ex' + ex'", "using x0' d"], ["proof (prove)\nusing this:\n  x0' \\<in> cball x0 ex'\n  dist x0' b \\<le> ex'\n\ngoal (1 subgoal):\n 1. dist x0 x0' + dist x0' b \\<le> ex' + ex'", "by simp"], ["proof (state)\nthis:\n  dist x0 x0' + dist x0' b \\<le> ex' + ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  dist x0 x0' + dist x0' b \\<le> ex' + ex'\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<dots> \\<le> ex\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ex' + ex' \\<le> ex", "by (simp add: ex'_def)"], ["proof (state)\nthis:\n  ex' + ex' \\<le> ex\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  dist x0 b \\<le> ex", "have \"dist x0 b \\<le> ex\""], ["proof (prove)\nusing this:\n  dist x0 b \\<le> ex\n\ngoal (1 subgoal):\n 1. dist x0 b \\<le> ex", "."], ["proof (state)\nthis:\n  dist x0 b \\<le> ex\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  dist x0' ?b2 \\<le> ex' \\<Longrightarrow> dist x0 ?b2 \\<le> ex\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note triangle = this"], ["proof (state)\nthis:\n  dist x0' ?b2 \\<le> ex' \\<Longrightarrow> dist x0 ?b2 \\<le> ex\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have subs1: \"cball t0 et' \\<subseteq> cball t0 et\"\n      and subs2: \"cball x0' ex' \\<subseteq> cball x0 ex\"\n      and subs: \"cball t0 et' \\<times> cball x0' ex' \\<subseteq> cball t0 et \\<times> cball x0 ex\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> cball t0 et &&&\n    cball x0' ex' \\<subseteq> cball x0 ex &&&\n    cball t0 et' \\<times> cball x0' ex'\n    \\<subseteq> cball t0 et \\<times> cball x0 ex", "using \\<open>0 < ex\\<close> \\<open>0 < et\\<close> x0'"], ["proof (prove)\nusing this:\n  0 < ex\n  0 < et\n  x0' \\<in> cball x0 ex'\n\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> cball t0 et &&&\n    cball x0' ex' \\<subseteq> cball x0 ex &&&\n    cball t0 et' \\<times> cball x0' ex'\n    \\<subseteq> cball t0 et \\<times> cball x0 ex", "by (auto simp: ex'_def et'_def triangle dest!: double_nonneg_le)"], ["proof (state)\nthis:\n  cball t0 et' \\<subseteq> cball t0 et\n  cball x0' ex' \\<subseteq> cball x0 ex\n  cball t0 et' \\<times> cball x0' ex'\n  \\<subseteq> cball t0 et \\<times> cball x0 ex\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have subset_X: \"cball x0' ex' \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball x0' ex' \\<subseteq> X", "using \\<open>cball x0 ex \\<subseteq> X\\<close> subs2 \\<open>0 < ex'\\<close>"], ["proof (prove)\nusing this:\n  cball x0 ex \\<subseteq> X\n  cball x0' ex' \\<subseteq> cball x0 ex\n  0 < ex'\n\ngoal (1 subgoal):\n 1. cball x0' ex' \\<subseteq> X", "by force"], ["proof (state)\nthis:\n  cball x0' ex' \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  cball x0' ex' \\<subseteq> X", "have \"x0' \\<in> X\""], ["proof (prove)\nusing this:\n  cball x0' ex' \\<subseteq> X\n\ngoal (1 subgoal):\n 1. x0' \\<in> X", "using \\<open>0 < ex'\\<close>"], ["proof (prove)\nusing this:\n  cball x0' ex' \\<subseteq> X\n  0 < ex'\n\ngoal (1 subgoal):\n 1. x0' \\<in> X", "by force"], ["proof (state)\nthis:\n  x0' \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have x0': \"t0 \\<in> T\" \"x0' \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x0' \\<in> X", "by fact+"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0' \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have half_intros: \"a \\<le> ex' \\<Longrightarrow> a \\<le> ex\" \"a \\<le> et' \\<Longrightarrow> a \\<le> et\"\n      and halfdiv_intro: \"a * 2 \\<le> ex / B \\<Longrightarrow> a \\<le> ex' / B\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((a \\<le> ex' \\<Longrightarrow> a \\<le> ex) &&&\n     (a \\<le> et' \\<Longrightarrow> a \\<le> et)) &&&\n    (a * 2 \\<le> ex / B \\<Longrightarrow> a \\<le> ex' / B)", "using \\<open>0 < ex\\<close> \\<open>0 < et\\<close>"], ["proof (prove)\nusing this:\n  0 < ex\n  0 < et\n\ngoal (1 subgoal):\n 1. ((a \\<le> ex' \\<Longrightarrow> a \\<le> ex) &&&\n     (a \\<le> et' \\<Longrightarrow> a \\<le> et)) &&&\n    (a * 2 \\<le> ex / B \\<Longrightarrow> a \\<le> ex' / B)", "by (auto simp: ex'_def et'_def)"], ["proof (state)\nthis:\n  ?a \\<le> ex' \\<Longrightarrow> ?a \\<le> ex\n  ?a \\<le> et' \\<Longrightarrow> ?a \\<le> et\n  ?a * 2 \\<le> ex / B \\<Longrightarrow> ?a \\<le> ex' / B\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "interpret cyl': solution_in_cylinder t0 \"cball t0 et'\" x0' ex' f \"cball x0' ex'\" B"], ["proof (prove)\ngoal (1 subgoal):\n 1. solution_in_cylinder t0 (cball t0 et') x0' ex' f B &&&\n    cball x0' ex' \\<equiv> cball x0' ex'", "using \\<open>0 < et'\\<close> \\<open>0 < ex'\\<close> \\<open>0 < et\\<close> cyl.norm_f cyl.continuous subs1 \\<open>cball t0 et \\<subseteq> T\\<close>"], ["proof (prove)\nusing this:\n  0 < et'\n  0 < ex'\n  0 < et\n  \\<lbrakk>?t \\<in> cball t0 et; ?x \\<in> cball x0 ex\\<rbrakk>\n  \\<Longrightarrow> norm (f ?t ?x) \\<le> B\n  continuous_on (cball t0 et \\<times> cball x0 ex) (\\<lambda>(t, x). f t x)\n  cball t0 et' \\<subseteq> cball t0 et\n  cball t0 et \\<subseteq> T\n\ngoal (1 subgoal):\n 1. solution_in_cylinder t0 (cball t0 et') x0' ex' f B &&&\n    cball x0' ex' \\<equiv> cball x0' ex'", "apply unfold_locales"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n     \\<And>t x.\n        \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n        \\<Longrightarrow> norm (f t x) \\<le> B;\n     continuous_on (cball t0 et \\<times> cball x0 ex)\n      (\\<lambda>(t, x). f t x);\n     cball t0 et' \\<subseteq> cball t0 et;\n     cball t0 et \\<subseteq> T\\<rbrakk>\n    \\<Longrightarrow> continuous_on (cball t0 et' \\<times> cball x0' ex')\n                       (\\<lambda>(t, x). f t x)\n 2. \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n     \\<And>t x.\n        \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n        \\<Longrightarrow> norm (f t x) \\<le> B;\n     continuous_on (cball t0 et \\<times> cball x0 ex)\n      (\\<lambda>(t, x). f t x);\n     cball t0 et' \\<subseteq> cball t0 et;\n     cball t0 et \\<subseteq> T\\<rbrakk>\n    \\<Longrightarrow> is_interval (cball t0 et')\n 3. \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n     \\<And>t x.\n        \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n        \\<Longrightarrow> norm (f t x) \\<le> B;\n     continuous_on (cball t0 et \\<times> cball x0 ex)\n      (\\<lambda>(t, x). f t x);\n     cball t0 et' \\<subseteq> cball t0 et;\n     cball t0 et \\<subseteq> T\\<rbrakk>\n    \\<Longrightarrow> cball t0 et' \\<noteq> {}\n 4. \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n     \\<And>t x.\n        \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n        \\<Longrightarrow> norm (f t x) \\<le> B;\n     continuous_on (cball t0 et \\<times> cball x0 ex)\n      (\\<lambda>(t, x). f t x);\n     cball t0 et' \\<subseteq> cball t0 et;\n     cball t0 et \\<subseteq> T\\<rbrakk>\n    \\<Longrightarrow> compact (cball t0 et')\n 5. \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n     \\<And>t x.\n        \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n        \\<Longrightarrow> norm (f t x) \\<le> B;\n     continuous_on (cball t0 et \\<times> cball x0 ex)\n      (\\<lambda>(t, x). f t x);\n     cball t0 et' \\<subseteq> cball t0 et;\n     cball t0 et \\<subseteq> T\\<rbrakk>\n    \\<Longrightarrow> t0 \\<in> cball t0 et'\n 6. \\<And>x t.\n       \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n        \\<And>t x.\n           \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n           \\<Longrightarrow> norm (f t x) \\<le> B;\n        continuous_on (cball t0 et \\<times> cball x0 ex)\n         (\\<lambda>(t, x). f t x);\n        cball t0 et' \\<subseteq> cball t0 et; cball t0 et \\<subseteq> T;\n        t \\<in> cball t0 et'; x \\<in> cball x0' ex'\\<rbrakk>\n       \\<Longrightarrow> norm (f t x) \\<le> B\n 7. \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n     \\<And>t x.\n        \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n        \\<Longrightarrow> norm (f t x) \\<le> B;\n     continuous_on (cball t0 et \\<times> cball x0 ex)\n      (\\<lambda>(t, x). f t x);\n     cball t0 et' \\<subseteq> cball t0 et;\n     cball t0 et \\<subseteq> T\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> ex'\n 8. \\<And>t.\n       \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n        \\<And>t x.\n           \\<lbrakk>t \\<in> cball t0 et; x \\<in> cball x0 ex\\<rbrakk>\n           \\<Longrightarrow> norm (f t x) \\<le> B;\n        continuous_on (cball t0 et \\<times> cball x0 ex)\n         (\\<lambda>(t, x). f t x);\n        cball t0 et' \\<subseteq> cball t0 et; cball t0 et \\<subseteq> T;\n        t \\<in> cball t0 et'\\<rbrakk>\n       \\<Longrightarrow> dist t t0 \\<le> ex' / B\n 9. cball x0' ex' \\<equiv> cball x0' ex'", "apply (auto simp: split_beta' dist_cancel_add1 intro!: triangle\n        continuous_intros cyl.norm_f order_trans[OF _ cyl.e_bounded] halfdiv_intro)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < et'; 0 < ex'; 0 < et;\n        \\<And>t x.\n           \\<lbrakk>dist t0 t \\<le> et; dist x0 x \\<le> ex\\<rbrakk>\n           \\<Longrightarrow> norm (f t x) \\<le> B;\n        continuous_on (cball t0 et \\<times> cball x0 ex)\n         (\\<lambda>x. f (fst x) (snd x));\n        cball t0 et' \\<subseteq> cball t0 et; cball t0 et \\<subseteq> T;\n        dist t0 t \\<le> et'\\<rbrakk>\n       \\<Longrightarrow> dist t t0 * 2 \\<le> et", "by (simp add: ex'_def et'_def dist_commute)"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "interpret cyl': unique_on_cylinder t0 \"cball t0 et'\" x0' ex' \"cball x0' ex'\" f B L"], ["proof (prove)\ngoal (1 subgoal):\n 1. unique_on_cylinder t0 (cball t0 et') x0' ex' f B L &&&\n    cball x0' ex' \\<equiv> cball x0' ex'", "using cyl.lipschitz[simplified] subs subs1"], ["proof (prove)\nusing this:\n  dist t0 ?t \\<le> et \\<Longrightarrow> L-lipschitz_on (cball x0 ex) (f ?t)\n  cball t0 et' \\<times> cball x0' ex'\n  \\<subseteq> cball t0 et \\<times> cball x0 ex\n  cball t0 et' \\<subseteq> cball t0 et\n\ngoal (1 subgoal):\n 1. unique_on_cylinder t0 (cball t0 et') x0' ex' f B L &&&\n    cball x0' ex' \\<equiv> cball x0' ex'", "by (unfold_locales)\n         (auto simp: triangle intro!: half_intros lipschitz_on_subset[OF _ subs2])"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from cyl'.solution_usolves_ode"], ["proof (chain)\npicking this:\n  (cyl'.solution usolves_ode f from t0) (cball t0 et') (cball x0' ex')", "have \"(flow t0 x0' usolves_ode f from t0) (cball t0 et') (cball x0' ex')\""], ["proof (prove)\nusing this:\n  (cyl'.solution usolves_ode f from t0) (cball t0 et') (cball x0' ex')\n\ngoal (1 subgoal):\n 1. (flow t0 x0' usolves_ode f from t0) (cball t0 et') (cball x0' ex')", "apply (rule usolves_ode_solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (flow t0 x0' solves_ode f) (cball t0 et') (cball x0' ex')\n 2. flow t0 x0' t0 = cyl'.solution t0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0' solves_ode f) (cball t0 et') (cball x0' ex')", "apply (rule cyl'.solves_ode_on_subset_domain[where Y=X])"], ["proof (prove)\ngoal (5 subgoals):\n 1. (flow t0 x0' solves_ode f) (cball t0 et') X\n 2. flow t0 x0' t0 = x0'\n 3. t0 \\<in> cball t0 et'\n 4. is_interval (cball t0 et')\n 5. cball t0 et' \\<subseteq> cball t0 et'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0' solves_ode f) (cball t0 et') X", "apply (rule solves_ode_on_subset[where S=\"existence_ivl t0 x0'\" and Y=X])"], ["proof (prove)\ngoal (3 subgoals):\n 1. (flow t0 x0' solves_ode f) (existence_ivl t0 x0') X\n 2. cball t0 et' \\<subseteq> existence_ivl t0 x0'\n 3. X \\<subseteq> X", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0' solves_ode f) (existence_ivl t0 x0') X", "by (rule flow_solves_ode[OF x0'])"], ["proof (prove)\ngoal (2 subgoals):\n 1. cball t0 et' \\<subseteq> existence_ivl t0 x0'\n 2. X \\<subseteq> X", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> existence_ivl t0 x0'", "using subs2 \\<open>cball x0 ex \\<subseteq> X\\<close> \\<open>0 < et'\\<close> \\<open>cball t0 et' \\<subseteq> T\\<close>"], ["proof (prove)\nusing this:\n  cball x0' ex' \\<subseteq> cball x0 ex\n  cball x0 ex \\<subseteq> X\n  0 < et'\n  cball t0 et' \\<subseteq> T\n\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> existence_ivl t0 x0'", "by (intro existence_ivl_maximal_interval[OF solves_ode_on_subset[OF cyl'.solution_solves_ode]])\n              auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<subseteq> X", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<subseteq> X", "by force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal (4 subgoals):\n 1. flow t0 x0' t0 = x0'\n 2. t0 \\<in> cball t0 et'\n 3. is_interval (cball t0 et')\n 4. cball t0 et' \\<subseteq> cball t0 et'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0' t0 = x0'", "by (force simp: \\<open>x0' \\<in> X\\<close> iv_defined)"], ["proof (prove)\ngoal (3 subgoals):\n 1. t0 \\<in> cball t0 et'\n 2. is_interval (cball t0 et')\n 3. cball t0 et' \\<subseteq> cball t0 et'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> cball t0 et'", "using \\<open>0 < et'\\<close>"], ["proof (prove)\nusing this:\n  0 < et'\n\ngoal (1 subgoal):\n 1. t0 \\<in> cball t0 et'", "by force"], ["proof (prove)\ngoal (2 subgoals):\n 1. is_interval (cball t0 et')\n 2. cball t0 et' \\<subseteq> cball t0 et'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval (cball t0 et')", "by force"], ["proof (prove)\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> cball t0 et'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. cball t0 et' \\<subseteq> cball t0 et'", "by force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0' t0 = cyl'.solution t0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0' t0 = cyl'.solution t0", "by (force simp: \\<open>x0' \\<in> X\\<close> iv_defined cyl'.solution_iv)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (flow t0 x0' usolves_ode f from t0) (cball t0 et') (cball x0' ex')\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note this subset_X"], ["proof (state)\nthis:\n  (flow t0 x0' usolves_ode f from t0) (cball t0 et') (cball x0' ex')\n  cball x0' ex' \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?x0'2 \\<in> cball x0 ex' \\<Longrightarrow>\n  (flow t0 ?x0'2 usolves_ode f from t0) (cball t0 et') (cball ?x0'2 ex')\n  ?x0'2 \\<in> cball x0 ex' \\<Longrightarrow> cball ?x0'2 ex' \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>t'.\n            t' \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f t');\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n         \\<And>x.\n            x \\<in> cball x0 u \\<Longrightarrow>\n            cball x u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  0 < et'\n  0 < ex'\n  cball t0 et' \\<subseteq> existence_ivl t0 x0\n  cball x0 (2 * ex') \\<subseteq> X\n  ?t' \\<in> cball t0 et' \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * ex')) (f ?t')\n  ?x0'2 \\<in> cball x0 ex' \\<Longrightarrow>\n  (flow t0 ?x0'2 usolves_ode f from t0) (cball t0 et') (cball ?x0'2 ex')\n  ?x0'2 \\<in> cball x0 ex' \\<Longrightarrow> cball ?x0'2 ex' \\<subseteq> X", "show thesis"], ["proof (prove)\nusing this:\n  0 < et'\n  0 < ex'\n  cball t0 et' \\<subseteq> existence_ivl t0 x0\n  cball x0 (2 * ex') \\<subseteq> X\n  ?t' \\<in> cball t0 et' \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * ex')) (f ?t')\n  ?x0'2 \\<in> cball x0 ex' \\<Longrightarrow>\n  (flow t0 ?x0'2 usolves_ode f from t0) (cball t0 et') (cball ?x0'2 ex')\n  ?x0'2 \\<in> cball x0 ex' \\<Longrightarrow> cball ?x0'2 ex' \\<subseteq> X\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Picard_iterate_mem_existence_ivlI:\n  assumes \"t \\<in> T\"\n  assumes \"compact C\" \"x0 \\<in> C\" \"C \\<subseteq> X\"\n  assumes \"\\<And>y s. s \\<in> {t0 -- t} \\<Longrightarrow> y t0 = x0 \\<Longrightarrow> y \\<in> {t0--s} \\<rightarrow> C \\<Longrightarrow> continuous_on {t0--s} y \\<Longrightarrow>\n      x0 + ivl_integral t0 s (\\<lambda>t. f t (y t)) \\<in> C\"\n  shows \"t \\<in> existence_ivl t0 x0\" \"\\<And>s. s \\<in> {t0 -- t} \\<Longrightarrow> flow t0 x0 s \\<in> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0 &&&\n    (\\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<in> existence_ivl t0 x0\n 2. \\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C", "have \"{t0 -- t} \\<subseteq> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> T", "by (intro closed_segment_subset_domain iv_defined assms)"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> T\n\ngoal (2 subgoals):\n 1. t \\<in> existence_ivl t0 x0\n 2. \\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C", "from lipschitz_on_compact[OF compact_segment \\<open>{t0 -- t} \\<subseteq> T\\<close> \\<open>compact C\\<close> \\<open>C \\<subseteq> X\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>L.\n      (\\<And>ta.\n          ta \\<in> {t0--t} \\<Longrightarrow>\n          L-lipschitz_on C (f ta)) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain L where L: \"\\<And>s. s \\<in> {t0 -- t} \\<Longrightarrow> L-lipschitz_on C (f s)\""], ["proof (prove)\nusing this:\n  (\\<And>L.\n      (\\<And>ta.\n          ta \\<in> {t0--t} \\<Longrightarrow>\n          L-lipschitz_on C (f ta)) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>L.\n        (\\<And>s.\n            s \\<in> {t0--t} \\<Longrightarrow>\n            L-lipschitz_on C (f s)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  ?s \\<in> {t0--t} \\<Longrightarrow> L-lipschitz_on C (f ?s)\n\ngoal (2 subgoals):\n 1. t \\<in> existence_ivl t0 x0\n 2. \\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C", "interpret uc: unique_on_closed t0 \"{t0 -- t}\" x0 f C L"], ["proof (prove)\ngoal (1 subgoal):\n 1. unique_on_closed t0 {t0--t} x0 f C L", "using assms closed_segment_iv_subset_domain"], ["proof (prove)\nusing this:\n  t \\<in> T\n  compact C\n  x0 \\<in> C\n  C \\<subseteq> X\n  \\<lbrakk>?s \\<in> {t0--t}; ?y t0 = x0; ?y \\<in> {t0--?s} \\<rightarrow> C;\n   continuous_on {t0--?s} ?y\\<rbrakk>\n  \\<Longrightarrow> x0 + ivl_integral t0 ?s (\\<lambda>t. f t (?y t)) \\<in> C\n  \\<lbrakk>?t \\<in> T; ?s \\<in> {t0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> T\n\ngoal (1 subgoal):\n 1. unique_on_closed t0 {t0--t} x0 f C L", "by unfold_locales\n      (auto intro!: L compact_imp_closed \\<open>compact C\\<close> continuous_on_f continuous_intros\n        simp: split_beta)"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<in> existence_ivl t0 x0\n 2. \\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C", "have \"{t0 -- t} \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> existence_ivl t0 x0", "using assms closed_segment_iv_subset_domain"], ["proof (prove)\nusing this:\n  t \\<in> T\n  compact C\n  x0 \\<in> C\n  C \\<subseteq> X\n  \\<lbrakk>?s \\<in> {t0--t}; ?y t0 = x0; ?y \\<in> {t0--?s} \\<rightarrow> C;\n   continuous_on {t0--?s} ?y\\<rbrakk>\n  \\<Longrightarrow> x0 + ivl_integral t0 ?s (\\<lambda>t. f t (?y t)) \\<in> C\n  \\<lbrakk>?t \\<in> T; ?s \\<in> {t0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> T\n\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> existence_ivl t0 x0", "by (intro maximal_existence_flow[OF solves_ode_on_subset[OF uc.solution_solves_ode]])\n      (auto simp: )"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> existence_ivl t0 x0\n\ngoal (2 subgoals):\n 1. t \\<in> existence_ivl t0 x0\n 2. \\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C", "thus \"t \\<in> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0", "using assms"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> existence_ivl t0 x0\n  t \\<in> T\n  compact C\n  x0 \\<in> C\n  C \\<subseteq> X\n  \\<lbrakk>?s \\<in> {t0--t}; ?y t0 = x0; ?y \\<in> {t0--?s} \\<rightarrow> C;\n   continuous_on {t0--?s} ?y\\<rbrakk>\n  \\<Longrightarrow> x0 + ivl_integral t0 ?s (\\<lambda>t. f t (?y t)) \\<in> C\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0", "by auto"], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 s \\<in> C", "show \"flow t0 x0 s \\<in> C\" if \"s \\<in> {t0 -- t}\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> C", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> C", "have \"flow t0 x0 s = uc.solution s\" \"uc.solution s \\<in> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 s = uc.solution s &&& uc.solution s \\<in> C", "using solves_odeD[OF uc.solution_solves_ode] that assms"], ["proof (prove)\nusing this:\n  (uc.solution has_vderiv_on (\\<lambda>t. f t (uc.solution t))) {t0--t}\n  ?t \\<in> {t0--t} \\<Longrightarrow> uc.solution ?t \\<in> C\n  s \\<in> {t0--t}\n  t \\<in> T\n  compact C\n  x0 \\<in> C\n  C \\<subseteq> X\n  \\<lbrakk>?s \\<in> {t0--t}; ?y t0 = x0; ?y \\<in> {t0--?s} \\<rightarrow> C;\n   continuous_on {t0--?s} ?y\\<rbrakk>\n  \\<Longrightarrow> x0 + ivl_integral t0 ?s (\\<lambda>t. f t (?y t)) \\<in> C\n\ngoal (1 subgoal):\n 1. flow t0 x0 s = uc.solution s &&& uc.solution s \\<in> C", "by (auto simp: closed_segment_iv_subset_domain\n        intro!:  maximal_existence_flowI(2)[where K=\"{t0 -- t}\"])"], ["proof (state)\nthis:\n  flow t0 x0 s = uc.solution s\n  uc.solution s \\<in> C\n\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> C", "thus ?thesis"], ["proof (prove)\nusing this:\n  flow t0 x0 s = uc.solution s\n  uc.solution s \\<in> C\n\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> C", "by simp"], ["proof (state)\nthis:\n  flow t0 x0 s \\<in> C\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?s \\<in> {t0--t} \\<Longrightarrow> flow t0 x0 ?s \\<in> C\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow_has_vderiv_on: \"(flow t0 x0 has_vderiv_on (\\<lambda>t. f t (flow t0 x0 t))) (existence_ivl t0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 has_vderiv_on (\\<lambda>t. f t (flow t0 x0 t)))\n     (existence_ivl t0 x0)", "by (rule solves_ode_vderivD[OF flow_solves_ode[OF iv_defined]])"], ["", "lemmas flow_has_vderiv_on_compose[derivative_intros] =\n  has_vderiv_on_compose2[OF flow_has_vderiv_on, THEN has_vderiv_on_eq_rhs]"], ["", "end"], ["", "lemma unique_on_intersection:\n  assumes sols: \"(x solves_ode f) U X\" \"(y solves_ode f) V X\"\n  assumes iv_mem: \"t0 \\<in> U\" \"t0 \\<in> V\" and subs: \"U \\<subseteq> T\" \"V \\<subseteq> T\"\n  assumes ivls: \"is_interval U\" \"is_interval V\"\n  assumes iv: \"x t0 = y t0\"\n  assumes mem: \"t \\<in> U\" \"t \\<in> V\"\n  shows \"x t = y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x t = y t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x t = y t", "from\n    maximal_existence_flow(2)[OF sols(1) refl          ivls(1) iv_mem(1) subs(1) mem(1)]\n    maximal_existence_flow(2)[OF sols(2) iv[symmetric] ivls(2) iv_mem(2) subs(2) mem(2)]"], ["proof (chain)\npicking this:\n  flow t0 (x t0) t = x t\n  flow t0 (x t0) t = y t", "show ?thesis"], ["proof (prove)\nusing this:\n  flow t0 (x t0) t = x t\n  flow t0 (x t0) t = y t\n\ngoal (1 subgoal):\n 1. x t = y t", "by simp"], ["proof (state)\nthis:\n  x t = y t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma unique_solution:\n  assumes sols: \"(x solves_ode f) U X\" \"(y solves_ode f) U X\"\n  assumes iv_mem: \"t0 \\<in> U\" and subs: \"U \\<subseteq> T\"\n  assumes ivls: \"is_interval U\"\n  assumes iv: \"x t0 = y t0\"\n  assumes mem: \"t \\<in> U\"\n  shows \"x t = y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x t = y t", "by (metis unique_on_intersection assms)"], ["", "lemma\n  assumes s: \"s \\<in> existence_ivl t0 x0\"\n  assumes t: \"t + s \\<in> existence_ivl s (flow t0 x0 s)\"\n  shows flow_trans: \"flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\"\n    and existence_ivl_trans: \"s + t \\<in> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t) &&&\n    s + t \\<in> existence_ivl t0 x0", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "note ll_on_open_it_axioms"], ["proof (state)\nthis:\n  ll_on_open_it T f X\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "moreover"], ["proof (state)\nthis:\n  ll_on_open_it T f X\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "from ll_on_open_it_axioms"], ["proof (chain)\npicking this:\n  ll_on_open_it T f X", "have iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n    and iv_defined': \"s \\<in> T\" \"flow t0 x0 s \\<in> X\""], ["proof (prove)\nusing this:\n  ll_on_open_it T f X\n\ngoal (1 subgoal):\n 1. (t0 \\<in> T &&& x0 \\<in> X) &&& s \\<in> T &&& flow t0 x0 s \\<in> X", "using ll_on_open_it.mem_existence_ivl_iv_defined s t"], ["proof (prove)\nusing this:\n  ll_on_open_it T f X\n  \\<lbrakk>ll_on_open_it ?T ?f ?X;\n   ?t \\<in> ll_on_open.existence_ivl ?T ?f ?X ?t0.0 ?x0.0\\<rbrakk>\n  \\<Longrightarrow> ?t0.0 \\<in> ?T\n  \\<lbrakk>ll_on_open_it ?T ?f ?X;\n   ?t \\<in> ll_on_open.existence_ivl ?T ?f ?X ?t0.0 ?x0.0\\<rbrakk>\n  \\<Longrightarrow> ?x0.0 \\<in> ?X\n  s \\<in> existence_ivl t0 x0\n  t + s \\<in> existence_ivl s (flow t0 x0 s)\n\ngoal (1 subgoal):\n 1. (t0 \\<in> T &&& x0 \\<in> X) &&& s \\<in> T &&& flow t0 x0 s \\<in> X", "by blast+"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n  s \\<in> T\n  flow t0 x0 s \\<in> X\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "have \"{t0--s} \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--s} \\<subseteq> existence_ivl t0 x0", "by (simp add: s segment_subset_existence_ivl iv_defined)"], ["proof (state)\nthis:\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "have \"s \\<in> existence_ivl s (flow t0 x0 s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl s (flow t0 x0 s)", "by (rule ll_on_open_it.existence_ivl_initial_time; fact)"], ["proof (state)\nthis:\n  s \\<in> existence_ivl s (flow t0 x0 s)\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "have \"{s--t + s} \\<subseteq> existence_ivl s (flow t0 x0 s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {s--t + s} \\<subseteq> existence_ivl s (flow t0 x0 s)", "by (rule ll_on_open_it.segment_subset_existence_ivl; fact)"], ["proof (state)\nthis:\n  {s--t + s} \\<subseteq> existence_ivl s (flow t0 x0 s)\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "have unique: \"flow t0 x0 u = flow s (flow t0 x0 s) u\"\n    if \"u \\<in> {s--t + s}\" \"u \\<in> {t0--s}\" for u"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 u = flow s (flow t0 x0 s) u", "using\n      ll_on_open_it_axioms\n      ll_on_open_it.flow_solves_ode[OF ll_on_open_it_axioms iv_defined]\n      ll_on_open_it.flow_solves_ode[OF ll_on_open_it_axioms iv_defined']\n      s"], ["proof (prove)\nusing this:\n  ll_on_open_it T f X\n  (flow t0 x0 solves_ode f) (existence_ivl t0 x0) X\n  (flow s (flow t0 x0 s) solves_ode f) (existence_ivl s (flow t0 x0 s)) X\n  s \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. flow t0 x0 u = flow s (flow t0 x0 s) u", "apply (rule ll_on_open_it.unique_on_intersection)"], ["proof (prove)\ngoal (8 subgoals):\n 1. s \\<in> existence_ivl s (flow t0 x0 s)\n 2. existence_ivl t0 x0 \\<subseteq> T\n 3. existence_ivl s (flow t0 x0 s) \\<subseteq> T\n 4. is_interval (existence_ivl t0 x0)\n 5. is_interval (existence_ivl s (flow t0 x0 s))\n 6. flow t0 x0 s = flow s (flow t0 x0 s) s\n 7. u \\<in> existence_ivl t0 x0\n 8. u \\<in> existence_ivl s (flow t0 x0 s)", "using \\<open>s \\<in> existence_ivl s (flow t0 x0 s)\\<close> existence_ivl_subset\n      \\<open>flow t0 x0 s \\<in> X\\<close> \\<open>s \\<in> T\\<close> iv_defined s t ll_on_open_it.in_existence_between_zeroI\n      that ll_on_open_it_axioms ll_on_open_it.mem_existence_ivl_subset"], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl s (flow t0 x0 s)\n  existence_ivl t0 ?x0.0 \\<subseteq> T\n  flow t0 x0 s \\<in> X\n  s \\<in> T\n  t0 \\<in> T\n  x0 \\<in> X\n  s \\<in> existence_ivl t0 x0\n  t + s \\<in> existence_ivl s (flow t0 x0 s)\n  \\<lbrakk>ll_on_open_it ?T ?f ?X;\n   ?t \\<in> ll_on_open.existence_ivl ?T ?f ?X ?t0.0 ?x0.0;\n   ?s \\<in> {?t0.0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> ll_on_open.existence_ivl ?T ?f ?X ?t0.0 ?x0.0\n  u \\<in> {s--t + s}\n  u \\<in> {t0--s}\n  ll_on_open_it T f X\n  \\<lbrakk>ll_on_open_it ?T ?f ?X;\n   ?t \\<in> ll_on_open.existence_ivl ?T ?f ?X ?t0.0 ?x0.0\\<rbrakk>\n  \\<Longrightarrow> ?t \\<in> ?T\n\ngoal (8 subgoals):\n 1. s \\<in> existence_ivl s (flow t0 x0 s)\n 2. existence_ivl t0 x0 \\<subseteq> T\n 3. existence_ivl s (flow t0 x0 s) \\<subseteq> T\n 4. is_interval (existence_ivl t0 x0)\n 5. is_interval (existence_ivl s (flow t0 x0 s))\n 6. flow t0 x0 s = flow s (flow t0 x0 s) s\n 7. u \\<in> existence_ivl t0 x0\n 8. u \\<in> existence_ivl s (flow t0 x0 s)", "by (auto simp: is_interval_existence_ivl)"], ["proof (state)\nthis:\n  \\<lbrakk>?u \\<in> {s--t + s}; ?u \\<in> {t0--s}\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?u = flow s (flow t0 x0 s) ?u\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "let ?un = \"{t0 -- s} \\<union> {s -- t + s}\""], ["proof (state)\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "let ?if = \"\\<lambda>t. if t \\<in> {t0 -- s} then flow t0 x0 t else flow s (flow t0 x0 s) t\""], ["proof (state)\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "have \"(?if solves_ode (\\<lambda>t. if t \\<in> {t0 -- s} then f t else f t)) ?un (X \\<union> X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t.\n         if t \\<in> {t0--s} then flow t0 x0 t\n         else flow s (flow t0 x0 s) t) solves_ode\n     (\\<lambda>t. if t \\<in> {t0--s} then f t else f t))\n     ({t0--s} \\<union> {s--t + s}) (X \\<union> X)", "apply (rule connection_solves_ode)"], ["proof (prove)\ngoal (6 subgoals):\n 1. (flow t0 x0 solves_ode f) {t0--s} X\n 2. (flow s (flow t0 x0 s) solves_ode f) {s--t + s} X\n 3. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {t0--s}\n 4. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {s--t + s}\n 5. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> flow t0 x0 ta = flow s (flow t0 x0 s) ta\n 6. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> f ta (flow s (flow t0 x0 s) ta) =\n                         f ta (flow s (flow t0 x0 s) ta)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 solves_ode f) {t0--s} X", "by (rule solves_ode_on_subset[OF flow_solves_ode[OF iv_defined] \\<open>{t0--s} \\<subseteq> _\\<close> order_refl])"], ["proof (prove)\ngoal (5 subgoals):\n 1. (flow s (flow t0 x0 s) solves_ode f) {s--t + s} X\n 2. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {t0--s}\n 3. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {s--t + s}\n 4. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> flow t0 x0 ta = flow s (flow t0 x0 s) ta\n 5. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> f ta (flow s (flow t0 x0 s) ta) =\n                         f ta (flow s (flow t0 x0 s) ta)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow s (flow t0 x0 s) solves_ode f) {s--t + s} X", "by (rule solves_ode_on_subset[OF ll_on_open_it.flow_solves_ode[OF ll_on_open_it_axioms iv_defined']\n          \\<open>{s--t + s} \\<subseteq> _\\<close> order_refl])"], ["proof (prove)\ngoal (4 subgoals):\n 1. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {t0--s}\n 2. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {s--t + s}\n 3. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> flow t0 x0 ta = flow s (flow t0 x0 s) ta\n 4. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> f ta (flow s (flow t0 x0 s) ta) =\n                         f ta (flow s (flow t0 x0 s) ta)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {t0--s}", "by simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {s--t + s}\n 2. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> flow t0 x0 ta = flow s (flow t0 x0 s) ta\n 3. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> f ta (flow s (flow t0 x0 s) ta) =\n                         f ta (flow s (flow t0 x0 s) ta)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. closure {s--t + s} \\<inter> closure {t0--s} \\<subseteq> {s--t + s}", "by simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> flow t0 x0 ta = flow s (flow t0 x0 s) ta\n 2. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> f ta (flow s (flow t0 x0 s) ta) =\n                         f ta (flow s (flow t0 x0 s) ta)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ta_ \\<in> closure {s--t + s};\n     ta_ \\<in> closure {t0--s}\\<rbrakk>\n    \\<Longrightarrow> flow t0 x0 ta_ = flow s (flow t0 x0 s) ta_", "by (rule unique) auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       \\<lbrakk>ta \\<in> closure {s--t + s};\n        ta \\<in> closure {t0--s}\\<rbrakk>\n       \\<Longrightarrow> f ta (flow s (flow t0 x0 s) ta) =\n                         f ta (flow s (flow t0 x0 s) ta)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ta_ \\<in> closure {s--t + s};\n     ta_ \\<in> closure {t0--s}\\<rbrakk>\n    \\<Longrightarrow> f ta_ (flow s (flow t0 x0 s) ta_) =\n                      f ta_ (flow s (flow t0 x0 s) ta_)", "by simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   (\\<lambda>t. if t \\<in> {t0--s} then f t else f t))\n   ({t0--s} \\<union> {s--t + s}) (X \\<union> X)\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   (\\<lambda>t. if t \\<in> {t0--s} then f t else f t))\n   ({t0--s} \\<union> {s--t + s}) (X \\<union> X)", "have ifsol: \"(?if solves_ode f) ?un X\""], ["proof (prove)\nusing this:\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   (\\<lambda>t. if t \\<in> {t0--s} then f t else f t))\n   ({t0--s} \\<union> {s--t + s}) (X \\<union> X)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t.\n         if t \\<in> {t0--s} then flow t0 x0 t\n         else flow s (flow t0 x0 s) t) solves_ode\n     f)\n     ({t0--s} \\<union> {s--t + s}) X", "by simp"], ["proof (state)\nthis:\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   f)\n   ({t0--s} \\<union> {s--t + s}) X\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "moreover"], ["proof (state)\nthis:\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   f)\n   ({t0--s} \\<union> {s--t + s}) X\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "have \"?un \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--s} \\<union> {s--t + s} \\<subseteq> existence_ivl t0 x0", "using existence_ivl_subset[of x0]\n      ll_on_open_it.existence_ivl_subset[OF ll_on_open_it_axioms, of s \"flow t0 x0 s\"]\n      \\<open>{t0 -- s} \\<subseteq> _\\<close> \\<open>{s--t + s} \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  existence_ivl t0 x0 \\<subseteq> T\n  existence_ivl s (flow t0 x0 s) \\<subseteq> T\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  {s--t + s} \\<subseteq> existence_ivl s (flow t0 x0 s)\n\ngoal (1 subgoal):\n 1. {t0--s} \\<union> {s--t + s} \\<subseteq> existence_ivl t0 x0", "by (intro existence_ivl_maximal_interval[OF ifsol]) (auto intro!: is_real_interval_union)"], ["proof (state)\nthis:\n  {t0--s} \\<union> {s--t + s} \\<subseteq> existence_ivl t0 x0\n\ngoal (2 subgoals):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n 2. s + t \\<in> existence_ivl t0 x0", "then"], ["proof (chain)\npicking this:\n  {t0--s} \\<union> {s--t + s} \\<subseteq> existence_ivl t0 x0", "show \"s + t \\<in> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  {t0--s} \\<union> {s--t + s} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. s + t \\<in> existence_ivl t0 x0", "by (auto simp: ac_simps)"], ["proof (state)\nthis:\n  s + t \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)", "have \"(flow t0 x0 solves_ode f) ?un X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 solves_ode f) ({t0--s} \\<union> {s--t + s}) X", "using \\<open>{t0--s} \\<subseteq> _\\<close> \\<open>{s -- t + s} \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  {s--t + s} \\<subseteq> existence_ivl s (flow t0 x0 s)\n\ngoal (1 subgoal):\n 1. (flow t0 x0 solves_ode f) ({t0--s} \\<union> {s--t + s}) X", "by (intro solves_ode_on_subset[OF flow_solves_ode \\<open>?un \\<subseteq> _\\<close> order_refl] iv_defined)"], ["proof (state)\nthis:\n  (flow t0 x0 solves_ode f) ({t0--s} \\<union> {s--t + s}) X\n\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)", "moreover"], ["proof (state)\nthis:\n  (flow t0 x0 solves_ode f) ({t0--s} \\<union> {s--t + s}) X\n\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)", "have \"s \\<in> ?un\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t0--s} \\<union> {s--t + s}", "by simp"], ["proof (state)\nthis:\n  s \\<in> {t0--s} \\<union> {s--t + s}\n\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)", "ultimately"], ["proof (chain)\npicking this:\n  ll_on_open_it T f X\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   f)\n   ({t0--s} \\<union> {s--t + s}) X\n  (flow t0 x0 solves_ode f) ({t0--s} \\<union> {s--t + s}) X\n  s \\<in> {t0--s} \\<union> {s--t + s}", "have \"?if (s + t) = flow t0 x0 (s + t)\""], ["proof (prove)\nusing this:\n  ll_on_open_it T f X\n  ((\\<lambda>t.\n       if t \\<in> {t0--s} then flow t0 x0 t\n       else flow s (flow t0 x0 s) t) solves_ode\n   f)\n   ({t0--s} \\<union> {s--t + s}) X\n  (flow t0 x0 solves_ode f) ({t0--s} \\<union> {s--t + s}) X\n  s \\<in> {t0--s} \\<union> {s--t + s}\n\ngoal (1 subgoal):\n 1. (if s + t \\<in> {t0--s} then flow t0 x0 (s + t)\n     else flow s (flow t0 x0 s) (s + t)) =\n    flow t0 x0 (s + t)", "apply (rule ll_on_open_it.unique_solution)"], ["proof (prove)\ngoal (4 subgoals):\n 1. {t0--s} \\<union> {s--t + s} \\<subseteq> T\n 2. is_interval ({t0--s} \\<union> {s--t + s})\n 3. (if s \\<in> {t0--s} then flow t0 x0 s else flow s (flow t0 x0 s) s) =\n    flow t0 x0 s\n 4. s + t \\<in> {t0--s} \\<union> {s--t + s}", "using existence_ivl_subset[of x0]\n      ll_on_open_it.existence_ivl_subset[OF ll_on_open_it_axioms, of s \"flow t0 x0 s\"]\n      \\<open>{t0 -- s} \\<subseteq> _\\<close> \\<open>{s--t + s} \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  existence_ivl t0 x0 \\<subseteq> T\n  existence_ivl s (flow t0 x0 s) \\<subseteq> T\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  {s--t + s} \\<subseteq> existence_ivl s (flow t0 x0 s)\n\ngoal (4 subgoals):\n 1. {t0--s} \\<union> {s--t + s} \\<subseteq> T\n 2. is_interval ({t0--s} \\<union> {s--t + s})\n 3. (if s \\<in> {t0--s} then flow t0 x0 s else flow s (flow t0 x0 s) s) =\n    flow t0 x0 s\n 4. s + t \\<in> {t0--s} \\<union> {s--t + s}", "by (auto intro!: is_real_interval_union simp: ac_simps)"], ["proof (state)\nthis:\n  (if s + t \\<in> {t0--s} then flow t0 x0 (s + t)\n   else flow s (flow t0 x0 s) (s + t)) =\n  flow t0 x0 (s + t)\n\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)", "with unique[of \"s + t\"]"], ["proof (chain)\npicking this:\n  \\<lbrakk>s + t \\<in> {s--t + s}; s + t \\<in> {t0--s}\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n  (if s + t \\<in> {t0--s} then flow t0 x0 (s + t)\n   else flow s (flow t0 x0 s) (s + t)) =\n  flow t0 x0 (s + t)", "show \"flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>s + t \\<in> {s--t + s}; s + t \\<in> {t0--s}\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n  (if s + t \\<in> {t0--s} then flow t0 x0 (s + t)\n   else flow s (flow t0 x0 s) (s + t)) =\n  flow t0 x0 (s + t)\n\ngoal (1 subgoal):\n 1. flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)", "by (auto split: if_splits simp: ac_simps)"], ["proof (state)\nthis:\n  flow t0 x0 (s + t) = flow s (flow t0 x0 s) (s + t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  assumes t: \"t \\<in> existence_ivl t0 x0\"\n  shows flows_reverse: \"flow t (flow t0 x0 t) t0 = x0\"\n    and existence_ivl_reverse: \"t0 \\<in> existence_ivl t (flow t0 x0 t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t (flow t0 x0 t) t0 = x0 &&&\n    t0 \\<in> existence_ivl t (flow t0 x0 t)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. flow t (flow t0 x0 t) t0 = x0\n 2. t0 \\<in> existence_ivl t (flow t0 x0 t)", "have iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x0 \\<in> X", "using mem_existence_ivl_iv_defined t"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl t0 ?x0.0 \\<Longrightarrow> t0 \\<in> T\n  ?t \\<in> existence_ivl t0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n  t \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x0 \\<in> X", "by blast+"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (2 subgoals):\n 1. flow t (flow t0 x0 t) t0 = x0\n 2. t0 \\<in> existence_ivl t (flow t0 x0 t)", "show \"t0 \\<in> existence_ivl t (flow t0 x0 t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t (flow t0 x0 t)", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t (flow t0 x0 t)", "by (metis (no_types, hide_lams) closed_segment_commute closed_segment_subset_interval\n        ends_in_segment(2) general.csol(2-4)\n        general.existence_ivl_maximal_segment general.is_interval_existence_ivl\n        is_interval_closed_segment_1 iv_defined ll_on_open_it.equals_flowI\n        local.existence_ivl_initial_time local.flow_initial_time local.ll_on_open_it_axioms)"], ["proof (state)\nthis:\n  t0 \\<in> existence_ivl t (flow t0 x0 t)\n\ngoal (1 subgoal):\n 1. flow t (flow t0 x0 t) t0 = x0", "then"], ["proof (chain)\npicking this:\n  t0 \\<in> existence_ivl t (flow t0 x0 t)", "have \"flow t (flow t0 x0 t) (t + (t0 - t)) = flow t0 x0 (t + (t0 - t))\""], ["proof (prove)\nusing this:\n  t0 \\<in> existence_ivl t (flow t0 x0 t)\n\ngoal (1 subgoal):\n 1. flow t (flow t0 x0 t) (t + (t0 - t)) = flow t0 x0 (t + (t0 - t))", "by (intro flow_trans[symmetric]) (auto simp: t iv_defined)"], ["proof (state)\nthis:\n  flow t (flow t0 x0 t) (t + (t0 - t)) = flow t0 x0 (t + (t0 - t))\n\ngoal (1 subgoal):\n 1. flow t (flow t0 x0 t) t0 = x0", "then"], ["proof (chain)\npicking this:\n  flow t (flow t0 x0 t) (t + (t0 - t)) = flow t0 x0 (t + (t0 - t))", "show \"flow t (flow t0 x0 t) t0 = x0\""], ["proof (prove)\nusing this:\n  flow t (flow t0 x0 t) (t + (t0 - t)) = flow t0 x0 (t + (t0 - t))\n\ngoal (1 subgoal):\n 1. flow t (flow t0 x0 t) t0 = x0", "by (simp add: iv_defined)"], ["proof (state)\nthis:\n  flow t (flow t0 x0 t) t0 = x0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow_has_derivative:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows \"(flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t))) (at t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n     (at t)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n     (at t)", "have \"(flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t))) (at t within existence_ivl t0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n     (at t within existence_ivl t0 x0)", "using flow_has_vderiv_on"], ["proof (prove)\nusing this:\n  \\<lbrakk>t0 \\<in> T; ?x0.0 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (flow t0 ?x0.0 has_vderiv_on\n                     (\\<lambda>t. f t (flow t0 ?x0.0 t)))\n                     (existence_ivl t0 ?x0.0)\n\ngoal (1 subgoal):\n 1. (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n     (at t within existence_ivl t0 x0)", "by (auto simp: has_vderiv_on_def has_vector_derivative_def assms mem_existence_ivl_iv_defined[OF assms])"], ["proof (state)\nthis:\n  (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n   (at t within existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n     (at t)", "then"], ["proof (chain)\npicking this:\n  (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n   (at t within existence_ivl t0 x0)", "show ?thesis"], ["proof (prove)\nusing this:\n  (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n   (at t within existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n     (at t)", "by (simp add: at_within_open[OF assms open_existence_ivl])"], ["proof (state)\nthis:\n  (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n   (at t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow_has_vector_derivative:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows \"(flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at t)", "using flow_has_derivative[OF assms]"], ["proof (prove)\nusing this:\n  (flow t0 x0 has_derivative (\\<lambda>i. i *\\<^sub>R f t (flow t0 x0 t)))\n   (at t)\n\ngoal (1 subgoal):\n 1. (flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at t)", "by (simp add: has_vector_derivative_def)"], ["", "lemma flow_has_vector_derivative_at_0:\n  assumes\"t \\<in> existence_ivl t0 x0\"\n  shows \"((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative f t (flow t0 x0 t)) (at 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative\n     f t (flow t0 x0 t))\n     (at 0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative\n     f t (flow t0 x0 t))\n     (at 0)", "from flow_has_vector_derivative[OF assms]"], ["proof (chain)\npicking this:\n  (flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at t)", "have\n    \"((+) t has_vector_derivative 1) (at 0)\"\n    \"(flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at (t + 0))\""], ["proof (prove)\nusing this:\n  (flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at t)\n\ngoal (1 subgoal):\n 1. ((+) t has_vector_derivative 1) (at 0) &&&\n    (flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at (t + 0))", "by (auto intro!: derivative_eq_intros)"], ["proof (state)\nthis:\n  ((+) t has_vector_derivative 1) (at 0)\n  (flow t0 x0 has_vector_derivative f t (flow t0 x0 t)) (at (t + 0))\n\ngoal (1 subgoal):\n 1. ((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative\n     f t (flow t0 x0 t))\n     (at 0)", "from vector_diff_chain_at[OF this]"], ["proof (chain)\npicking this:\n  (flow t0 x0 \\<circ> (+) t has_vector_derivative\n   1 *\\<^sub>R f t (flow t0 x0 t))\n   (at 0)", "show ?thesis"], ["proof (prove)\nusing this:\n  (flow t0 x0 \\<circ> (+) t has_vector_derivative\n   1 *\\<^sub>R f t (flow t0 x0 t))\n   (at 0)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative\n     f t (flow t0 x0 t))\n     (at 0)", "by (simp add: o_def)"], ["proof (state)\nthis:\n  ((\\<lambda>h. flow t0 x0 (t + h)) has_vector_derivative\n   f t (flow t0 x0 t))\n   (at 0)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows closed_segment_subset_existence_ivl: \"closed_segment t0 t \\<subseteq> existence_ivl t0 x0\"\n    and ivl_subset_existence_ivl: \"{t0 .. t} \\<subseteq> existence_ivl t0 x0\"\n    and ivl_subset_existence_ivl': \"{t .. t0} \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> existence_ivl t0 x0 &&&\n    {t0..t} \\<subseteq> existence_ivl t0 x0 &&&\n    {t..t0} \\<subseteq> existence_ivl t0 x0", "using assms in_existence_between_zeroI"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl t0 x0\n  \\<lbrakk>?t \\<in> existence_ivl t0 ?x0.0; ?s \\<in> {t0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> existence_ivl t0 ?x0.0\n\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> existence_ivl t0 x0 &&&\n    {t0..t} \\<subseteq> existence_ivl t0 x0 &&&\n    {t..t0} \\<subseteq> existence_ivl t0 x0", "by (auto simp: closed_segment_eq_real_ivl)"], ["", "lemma flow_fixed_point:\n  assumes t: \"t \\<in> existence_ivl t0 x0\"\n  shows \"flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))", "have \"(flow t0 x0 has_vderiv_on (\\<lambda>s. f s (flow t0 x0 s))) {t0 -- t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 has_vderiv_on (\\<lambda>s. f s (flow t0 x0 s))) {t0--t}", "using closed_segment_subset_existence_ivl[OF t]"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (flow t0 x0 has_vderiv_on (\\<lambda>s. f s (flow t0 x0 s))) {t0--t}", "by (auto intro!: has_vector_derivative_at_within flow_has_vector_derivative\n      simp: has_vderiv_on_def)"], ["proof (state)\nthis:\n  (flow t0 x0 has_vderiv_on (\\<lambda>s. f s (flow t0 x0 s))) {t0--t}\n\ngoal (1 subgoal):\n 1. flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))", "from fundamental_theorem_of_calculus_ivl_integral[OF this]"], ["proof (chain)\npicking this:\n  ((\\<lambda>s. f s (flow t0 x0 s)) has_ivl_integral\n   flow t0 x0 t - flow t0 x0 t0)\n   t0 t", "have \"((\\<lambda>t. f t (flow t0 x0 t)) has_ivl_integral flow t0 x0 t - x0) t0 t\""], ["proof (prove)\nusing this:\n  ((\\<lambda>s. f s (flow t0 x0 s)) has_ivl_integral\n   flow t0 x0 t - flow t0 x0 t0)\n   t0 t\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. f t (flow t0 x0 t)) has_ivl_integral flow t0 x0 t - x0) t0\n     t", "by (simp add: mem_existence_ivl_iv_defined[OF assms])"], ["proof (state)\nthis:\n  ((\\<lambda>t. f t (flow t0 x0 t)) has_ivl_integral flow t0 x0 t - x0) t0 t\n\ngoal (1 subgoal):\n 1. flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))", "from this[THEN ivl_integral_unique]"], ["proof (chain)\npicking this:\n  ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t)) = flow t0 x0 t - x0", "show ?thesis"], ["proof (prove)\nusing this:\n  ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t)) = flow t0 x0 t - x0\n\ngoal (1 subgoal):\n 1. flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))", "by (simp add: )"], ["proof (state)\nthis:\n  flow t0 x0 t = x0 + ivl_integral t0 t (\\<lambda>t. f t (flow t0 x0 t))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow_continuous: \"t \\<in> existence_ivl t0 x0 \\<Longrightarrow> continuous (at t) (flow t0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> isCont (flow t0 x0) t", "by (metis has_derivative_continuous flow_has_derivative)"], ["", "lemma flow_tendsto: \"t \\<in> existence_ivl t0 x0 \\<Longrightarrow> (ts \\<longlongrightarrow> t) F \\<Longrightarrow>\n    ((\\<lambda>s. flow t0 x0 (ts s)) \\<longlongrightarrow> flow t0 x0 t) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> existence_ivl t0 x0;\n     (ts \\<longlongrightarrow> t) F\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>s. flow t0 x0 (ts s)) \\<longlongrightarrow>\n                       flow t0 x0 t)\n                       F", "by (rule isCont_tendsto_compose[OF flow_continuous])"], ["", "lemma flow_continuous_on: \"continuous_on (existence_ivl t0 x0) (flow t0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (existence_ivl t0 x0) (flow t0 x0)", "by (auto intro!: flow_continuous continuous_at_imp_continuous_on)"], ["", "lemma flow_continuous_on_intro:\n  \"continuous_on s g \\<Longrightarrow>\n  (\\<And>xa. xa \\<in> s \\<Longrightarrow> g xa \\<in> existence_ivl t0 x0) \\<Longrightarrow>\n  continuous_on s (\\<lambda>xa. flow t0 x0 (g xa))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>continuous_on s g;\n     \\<And>xa.\n        xa \\<in> s \\<Longrightarrow> g xa \\<in> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> continuous_on s (\\<lambda>xa. flow t0 x0 (g xa))", "by (auto intro!: continuous_on_compose2[OF flow_continuous_on])"], ["", "lemma f_flow_continuous:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  shows \"isCont (\\<lambda>t. f t (flow t0 x0 t)) t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (\\<lambda>t. f t (flow t0 x0 t)) t", "by (rule continuous_on_interior)\n    (insert existence_ivl_subset assms,\n      auto intro!: flow_in_domain flow_continuous_on continuous_intros\n        simp: interior_open open_existence_ivl)"], ["", "lemma exponential_initial_condition:\n  assumes y0: \"t \\<in> existence_ivl t0 y0\"\n  assumes z0: \"t \\<in> existence_ivl t0 z0\"\n  assumes \"Y \\<subseteq> X\"\n  assumes remain: \"\\<And>s. s \\<in> closed_segment t0 t \\<Longrightarrow> flow t0 y0 s \\<in> Y\"\n    \"\\<And>s. s \\<in> closed_segment t0 t \\<Longrightarrow> flow t0 z0 s \\<in> Y\"\n  assumes lipschitz: \"\\<And>s. s \\<in> closed_segment t0 t \\<Longrightarrow> K-lipschitz_on Y (f s)\"\n  shows \"norm (flow t0 y0 t - flow t0 z0 t) \\<le> norm (y0 - z0) * exp ((K + 1) * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "assume \"y0 = z0\""], ["proof (state)\nthis:\n  y0 = z0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  y0 = z0\n\ngoal (1 subgoal):\n 1. norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "by simp"], ["proof (state)\nthis:\n  norm (flow t0 y0 t - flow t0 z0 t)\n  \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "assume ne: \"y0 \\<noteq> z0\""], ["proof (state)\nthis:\n  y0 \\<noteq> z0\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "define K' where \"K' \\<equiv> K + 1\""], ["proof (state)\nthis:\n  K' \\<equiv> K + 1\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "from lipschitz"], ["proof (chain)\npicking this:\n  ?s \\<in> {t0--t} \\<Longrightarrow> K-lipschitz_on Y (f ?s)", "have \"K'-lipschitz_on Y (f s)\" if \"s \\<in> {t0 -- t}\" for s"], ["proof (prove)\nusing this:\n  ?s \\<in> {t0--t} \\<Longrightarrow> K-lipschitz_on Y (f ?s)\n\ngoal (1 subgoal):\n 1. K'-lipschitz_on Y (f s)", "using that"], ["proof (prove)\nusing this:\n  ?s \\<in> {t0--t} \\<Longrightarrow> K-lipschitz_on Y (f ?s)\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. K'-lipschitz_on Y (f s)", "by (auto simp: lipschitz_on_def K'_def\n      intro!: order_trans[OF _ mult_right_mono[of K \"K + 1\"]])"], ["proof (state)\nthis:\n  ?s \\<in> {t0--t} \\<Longrightarrow> K'-lipschitz_on Y (f ?s)\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "from mem_existence_ivl_iv_defined[OF y0] mem_existence_ivl_iv_defined[OF z0]"], ["proof (chain)\npicking this:\n  t0 \\<in> T\n  y0 \\<in> X\n  t0 \\<in> T\n  z0 \\<in> X", "have \"t0 \\<in> T\" and inX: \"y0 \\<in> X\" \"z0 \\<in> X\""], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  y0 \\<in> X\n  t0 \\<in> T\n  z0 \\<in> X\n\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& y0 \\<in> X &&& z0 \\<in> X", "by auto"], ["proof (state)\nthis:\n  t0 \\<in> T\n  y0 \\<in> X\n  z0 \\<in> X\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "from remain[of t0] inX \\<open>t0 \\<in> T \\<close>"], ["proof (chain)\npicking this:\n  t0 \\<in> {t0--t} \\<Longrightarrow> flow t0 y0 t0 \\<in> Y\n  t0 \\<in> {t0--t} \\<Longrightarrow> flow t0 z0 t0 \\<in> Y\n  y0 \\<in> X\n  z0 \\<in> X\n  t0 \\<in> T", "have \"y0 \\<in> Y\" \"z0 \\<in> Y\""], ["proof (prove)\nusing this:\n  t0 \\<in> {t0--t} \\<Longrightarrow> flow t0 y0 t0 \\<in> Y\n  t0 \\<in> {t0--t} \\<Longrightarrow> flow t0 z0 t0 \\<in> Y\n  y0 \\<in> X\n  z0 \\<in> X\n  t0 \\<in> T\n\ngoal (1 subgoal):\n 1. y0 \\<in> Y &&& z0 \\<in> Y", "by auto"], ["proof (state)\nthis:\n  y0 \\<in> Y\n  z0 \\<in> Y\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "define v where \"v \\<equiv> \\<lambda>t. norm (flow t0 y0 t - flow t0 z0 t)\""], ["proof (state)\nthis:\n  v \\<equiv> \\<lambda>t. norm (flow t0 y0 t - flow t0 z0 t)\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "{"], ["proof (state)\nthis:\n  v \\<equiv> \\<lambda>t. norm (flow t0 y0 t - flow t0 z0 t)\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "assume s: \"s \\<in> {t0 -- t}\""], ["proof (state)\nthis:\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "with s\n      closed_segment_subset_existence_ivl[OF y0]\n      closed_segment_subset_existence_ivl[OF z0]"], ["proof (chain)\npicking this:\n  s \\<in> {t0--t}\n  {t0--t} \\<subseteq> existence_ivl t0 y0\n  {t0--t} \\<subseteq> existence_ivl t0 z0\n  s \\<in> {t0--t}", "have\n      y0': \"s \\<in> existence_ivl t0 y0\" and\n      z0': \"s \\<in> existence_ivl t0 z0\""], ["proof (prove)\nusing this:\n  s \\<in> {t0--t}\n  {t0--t} \\<subseteq> existence_ivl t0 y0\n  {t0--t} \\<subseteq> existence_ivl t0 z0\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 y0 &&& s \\<in> existence_ivl t0 z0", "by (auto simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  s \\<in> existence_ivl t0 y0\n  s \\<in> existence_ivl t0 z0\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "have integrable:\n      \"(\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s}\"\n      \"(\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s} &&&\n    (\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}", "using closed_segment_subset_existence_ivl[OF y0']\n        closed_segment_subset_existence_ivl[OF z0']\n        \\<open>y0 \\<in> X\\<close> \\<open>z0 \\<in> X\\<close> \\<open>t0 \\<in> T\\<close>"], ["proof (prove)\nusing this:\n  {t0--s} \\<subseteq> existence_ivl t0 y0\n  {t0--s} \\<subseteq> existence_ivl t0 z0\n  y0 \\<in> X\n  z0 \\<in> X\n  t0 \\<in> T\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s} &&&\n    (\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}", "by (auto intro!: continuous_at_imp_continuous_on f_flow_continuous\n        integrable_continuous_closed_segment)"], ["proof (state)\nthis:\n  (\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s}\n  (\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "hence int: \"flow t0 y0 s - flow t0 z0 s =\n        y0 - z0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 y0 t) - f t (flow t0 z0 t))\""], ["proof (prove)\nusing this:\n  (\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s}\n  (\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}\n\ngoal (1 subgoal):\n 1. flow t0 y0 s - flow t0 z0 s =\n    y0 - z0 +\n    ivl_integral t0 s (\\<lambda>t. f t (flow t0 y0 t) - f t (flow t0 z0 t))", "unfolding v_def"], ["proof (prove)\nusing this:\n  (\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s}\n  (\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}\n\ngoal (1 subgoal):\n 1. flow t0 y0 s - flow t0 z0 s =\n    y0 - z0 +\n    ivl_integral t0 s (\\<lambda>t. f t (flow t0 y0 t) - f t (flow t0 z0 t))", "using flow_fixed_point[OF y0'] flow_fixed_point[OF z0']\n        s"], ["proof (prove)\nusing this:\n  (\\<lambda>t. f t (flow t0 y0 t)) integrable_on {t0--s}\n  (\\<lambda>t. f t (flow t0 z0 t)) integrable_on {t0--s}\n  flow t0 y0 s = y0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 y0 t))\n  flow t0 z0 s = z0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 z0 t))\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. flow t0 y0 s - flow t0 z0 s =\n    y0 - z0 +\n    ivl_integral t0 s (\\<lambda>t. f t (flow t0 y0 t) - f t (flow t0 z0 t))", "by (auto simp: algebra_simps ivl_integral_diff)"], ["proof (state)\nthis:\n  flow t0 y0 s - flow t0 z0 s =\n  y0 - z0 +\n  ivl_integral t0 s (\\<lambda>t. f t (flow t0 y0 t) - f t (flow t0 z0 t))\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "have \"v s \\<le> v t0 + K' *  integral {t0 -- s} (\\<lambda>t. v t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v s \\<le> v t0 + K' * integral {t0--s} v", "using closed_segment_subset_existence_ivl[OF y0'] closed_segment_subset_existence_ivl[OF z0'] s"], ["proof (prove)\nusing this:\n  {t0--s} \\<subseteq> existence_ivl t0 y0\n  {t0--s} \\<subseteq> existence_ivl t0 z0\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. v s \\<le> v t0 + K' * integral {t0--s} v", "using closed_segment_closed_segment_subset[OF _ _ s, of _ t0, simplified]"], ["proof (prove)\nusing this:\n  {t0--s} \\<subseteq> existence_ivl t0 y0\n  {t0--s} \\<subseteq> existence_ivl t0 z0\n  s \\<in> {t0--t}\n  ?s \\<in> {t0--s} \\<Longrightarrow> ?s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. v s \\<le> v t0 + K' * integral {t0--s} v", "by (subst integral_mult)\n        (auto simp: integral_mult v_def int inX \\<open>t0 \\<in> T\\<close>\n          simp del: Henstock_Kurzweil_Integration.integral_mult_right\n          intro!: norm_triangle_le ivl_integral_norm_bound_integral\n            integrable_continuous_closed_segment continuous_intros\n            continuous_at_imp_continuous_on flow_continuous f_flow_continuous\n            lipschitz_on_normD[OF \\<open>_ \\<Longrightarrow> K'-lipschitz_on _ _\\<close>] remain)"], ["proof (state)\nthis:\n  v s \\<le> v t0 + K' * integral {t0--s} v\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "}"], ["proof (state)\nthis:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  v ?s2 \\<le> v t0 + K' * integral {t0--?s2} v\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "note le = this"], ["proof (state)\nthis:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  v ?s2 \\<le> v t0 + K' * integral {t0--?s2} v\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "have cont: \"continuous_on {t0 -- t} v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {t0--t} v", "using closed_segment_subset_existence_ivl[OF y0] closed_segment_subset_existence_ivl[OF z0] inX"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> existence_ivl t0 y0\n  {t0--t} \\<subseteq> existence_ivl t0 z0\n  y0 \\<in> X\n  z0 \\<in> X\n\ngoal (1 subgoal):\n 1. continuous_on {t0--t} v", "by (auto simp: v_def \\<open>t0 \\<in> T\\<close>\n      intro!: continuous_at_imp_continuous_on continuous_intros flow_continuous)"], ["proof (state)\nthis:\n  continuous_on {t0--t} v\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "have nonneg: \"\\<And>t. v t \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. 0 \\<le> v t", "by (auto simp: v_def)"], ["proof (state)\nthis:\n  0 \\<le> v ?t\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "from ne"], ["proof (chain)\npicking this:\n  y0 \\<noteq> z0", "have pos: \"v t0 > 0\""], ["proof (prove)\nusing this:\n  y0 \\<noteq> z0\n\ngoal (1 subgoal):\n 1. 0 < v t0", "by (auto simp: v_def \\<open>t0 \\<in> T\\<close> inX)"], ["proof (state)\nthis:\n  0 < v t0\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "have lippos: \"K' > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < K'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < K'", "have \"0 \\<le> dist (f t0 y0) (f t0 z0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> dist (f t0 y0) (f t0 z0)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> dist (f t0 y0) (f t0 z0)\n\ngoal (1 subgoal):\n 1. 0 < K'", "also"], ["proof (state)\nthis:\n  0 \\<le> dist (f t0 y0) (f t0 z0)\n\ngoal (1 subgoal):\n 1. 0 < K'", "from lipschitz_onD[OF lipschitz \\<open>y0 \\<in> Y\\<close> \\<open>z0 \\<in> Y\\<close>, of t0]ne"], ["proof (chain)\npicking this:\n  t0 \\<in> {t0--t} \\<Longrightarrow>\n  dist (f t0 y0) (f t0 z0) \\<le> K * dist y0 z0\n  y0 \\<noteq> z0", "have \"\\<dots> \\<le> K * dist y0 z0\""], ["proof (prove)\nusing this:\n  t0 \\<in> {t0--t} \\<Longrightarrow>\n  dist (f t0 y0) (f t0 z0) \\<le> K * dist y0 z0\n  y0 \\<noteq> z0\n\ngoal (1 subgoal):\n 1. dist (f t0 y0) (f t0 z0) \\<le> K * dist y0 z0", "by simp"], ["proof (state)\nthis:\n  dist (f t0 y0) (f t0 z0) \\<le> K * dist y0 z0\n\ngoal (1 subgoal):\n 1. 0 < K'", "finally"], ["proof (chain)\npicking this:\n  0 \\<le> K * dist y0 z0", "have \"0 \\<le> K\""], ["proof (prove)\nusing this:\n  0 \\<le> K * dist y0 z0\n\ngoal (1 subgoal):\n 1. 0 \\<le> K", "by (metis dist_le_zero_iff ne zero_le_mult_iff)"], ["proof (state)\nthis:\n  0 \\<le> K\n\ngoal (1 subgoal):\n 1. 0 < K'", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> K\n\ngoal (1 subgoal):\n 1. 0 < K'", "by (simp add: K'_def)"], ["proof (state)\nthis:\n  0 < K'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < K'\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "from le cont nonneg pos \\<open>0 < K'\\<close>"], ["proof (chain)\npicking this:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  v ?s2 \\<le> v t0 + K' * integral {t0--?s2} v\n  continuous_on {t0--t} v\n  0 \\<le> v ?t\n  0 < v t0\n  0 < K'", "have \"v t \\<le> v t0 * exp (K' * abs (t - t0))\""], ["proof (prove)\nusing this:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  v ?s2 \\<le> v t0 + K' * integral {t0--?s2} v\n  continuous_on {t0--t} v\n  0 \\<le> v ?t\n  0 < v t0\n  0 < K'\n\ngoal (1 subgoal):\n 1. v t \\<le> v t0 * exp (K' * \\<bar>t - t0\\<bar>)", "by (rule gronwall_general_segment) simp_all"], ["proof (state)\nthis:\n  v t \\<le> v t0 * exp (K' * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. y0 \\<noteq> z0 \\<Longrightarrow>\n    norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  v t \\<le> v t0 * exp (K' * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. norm (flow t0 y0 t - flow t0 z0 t)\n    \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)", "by (simp add: v_def K'_def \\<open>t0 \\<in> T\\<close> inX)"], ["proof (state)\nthis:\n  norm (flow t0 y0 t - flow t0 z0 t)\n  \\<le> norm (y0 - z0) * exp ((K + 1) * \\<bar>t - t0\\<bar>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  existence_ivl_cballs:\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  obtains t u L\n  where\n    \"\\<And>y. y \\<in> cball x0 u \\<Longrightarrow> cball t0 t \\<subseteq> existence_ivl t0 y\"\n    \"\\<And>s y. y \\<in> cball x0 u \\<Longrightarrow> s \\<in> cball t0 t \\<Longrightarrow> flow t0 y s \\<in> cball y u\"\n    \"L-lipschitz_on (cball t0 t\\<times>cball x0 u) (\\<lambda>(t, x). flow t0 x t)\"\n    \"\\<And>y. y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X\"\n    \"0 < t\" \"0 < u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note iv_defined"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from local_unique_solutions[OF this]"], ["proof (chain)\npicking this:\n  (\\<And>t u L.\n      \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n       cball x0 (2 * u) \\<subseteq> X;\n       \\<And>t'.\n          t' \\<in> cball t0 t \\<Longrightarrow>\n          L-lipschitz_on (cball x0 (2 * u)) (f t');\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          cball x u \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain t u L where tu: \"0 < t\" \"0 < u\"\n    and subsT: \"cball t0 t \\<subseteq> existence_ivl t0 x0\"\n    and subs': \"cball x0 (2 * u) \\<subseteq> X\"\n    and lipschitz: \"\\<And>s. s \\<in> cball t0 t \\<Longrightarrow> L-lipschitz_on (cball x0 (2*u)) (f s)\"\n    and usol: \"\\<And>y. y \\<in> cball x0 u \\<Longrightarrow> (flow t0 y usolves_ode f from t0) (cball t0 t) (cball y u)\"\n    and subs: \"\\<And>y. y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X\""], ["proof (prove)\nusing this:\n  (\\<And>t u L.\n      \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n       cball x0 (2 * u) \\<subseteq> X;\n       \\<And>t'.\n          t' \\<in> cball t0 t \\<Longrightarrow>\n          L-lipschitz_on (cball x0 (2 * u)) (f t');\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          cball x u \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>t u L.\n        \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n         cball x0 (2 * u) \\<subseteq> X;\n         \\<And>s.\n            s \\<in> cball t0 t \\<Longrightarrow>\n            L-lipschitz_on (cball x0 (2 * u)) (f s);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow>\n            (flow t0 y usolves_ode f from t0) (cball t0 t) (cball y u);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow>\n            cball y u \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < t\n  0 < u\n  cball t0 t \\<subseteq> existence_ivl t0 x0\n  cball x0 (2 * u) \\<subseteq> X\n  ?s \\<in> cball t0 t \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * u)) (f ?s)\n  ?y \\<in> cball x0 u \\<Longrightarrow>\n  (flow t0 ?y usolves_ode f from t0) (cball t0 t) (cball ?y u)\n  ?y \\<in> cball x0 u \\<Longrightarrow> cball ?y u \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  0 < t\n  0 < u\n  cball t0 t \\<subseteq> existence_ivl t0 x0\n  cball x0 (2 * u) \\<subseteq> X\n  ?s \\<in> cball t0 t \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * u)) (f ?s)\n  ?y \\<in> cball x0 u \\<Longrightarrow>\n  (flow t0 ?y usolves_ode f from t0) (cball t0 t) (cball ?y u)\n  ?y \\<in> cball x0 u \\<Longrightarrow> cball ?y u \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume y: \"y \\<in> cball x0 u\""], ["proof (state)\nthis:\n  y \\<in> cball x0 u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from subs[OF y] \\<open>0 < u\\<close>"], ["proof (chain)\npicking this:\n  cball y u \\<subseteq> X\n  0 < u", "have \"y \\<in> X\""], ["proof (prove)\nusing this:\n  cball y u \\<subseteq> X\n  0 < u\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note iv' = \\<open>t0 \\<in> T\\<close> \\<open>y \\<in> X\\<close>"], ["proof (state)\nthis:\n  t0 \\<in> T\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from usol[OF y, THEN usolves_odeD(1)]"], ["proof (chain)\npicking this:\n  (flow t0 y solves_ode f) (cball t0 t) (cball y u)", "have sol1: \"(flow t0 y solves_ode f) (cball t0 t) (cball y u)\""], ["proof (prove)\nusing this:\n  (flow t0 y solves_ode f) (cball t0 t) (cball y u)\n\ngoal (1 subgoal):\n 1. (flow t0 y solves_ode f) (cball t0 t) (cball y u)", "."], ["proof (state)\nthis:\n  (flow t0 y solves_ode f) (cball t0 t) (cball y u)\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from sol1 order_refl subs[OF y]"], ["proof (chain)\npicking this:\n  (flow t0 y solves_ode f) (cball t0 t) (cball y u)\n  ?x \\<le> ?x\n  cball y u \\<subseteq> X", "have sol: \"(flow t0 y solves_ode f) (cball t0 t) X\""], ["proof (prove)\nusing this:\n  (flow t0 y solves_ode f) (cball t0 t) (cball y u)\n  ?x \\<le> ?x\n  cball y u \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (flow t0 y solves_ode f) (cball t0 t) X", "by (rule solves_ode_on_subset)"], ["proof (state)\nthis:\n  (flow t0 y solves_ode f) (cball t0 t) X\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note * = maximal_existence_flow[OF sol flow_initial_time\n        is_interval_cball_1 _ order_trans[OF subsT existence_ivl_subset],\n        unfolded centre_in_cball, OF iv' less_imp_le[OF \\<open>0 < t\\<close>]]"], ["proof (state)\nthis:\n  cball t0 t \\<subseteq> existence_ivl t0 y\n  ?t \\<in> cball t0 t \\<Longrightarrow> flow t0 y ?t = flow t0 y ?t\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have eivl: \"cball t0 t \\<subseteq> existence_ivl t0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball t0 t \\<subseteq> existence_ivl t0 y", "by (rule *)"], ["proof (state)\nthis:\n  cball t0 t \\<subseteq> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"flow t0 y s \\<in> cball y u\" if \"s \\<in> cball t0 t\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> cball y u", "by (rule solves_odeD(2)[OF sol1 that])"], ["proof (state)\nthis:\n  ?s \\<in> cball t0 t \\<Longrightarrow> flow t0 y ?s \\<in> cball y u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note eivl this"], ["proof (state)\nthis:\n  cball t0 t \\<subseteq> existence_ivl t0 y\n  ?s \\<in> cball t0 t \\<Longrightarrow> flow t0 y ?s \\<in> cball y u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note * = this"], ["proof (state)\nthis:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note *"], ["proof (state)\nthis:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have cont_on_f_flow:\n    \"\\<And>x1 S. S \\<subseteq> cball t0 t \\<Longrightarrow> x1 \\<in> cball x0 u \\<Longrightarrow> continuous_on S (\\<lambda>t. f t (flow t0 x1 t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x1 S.\n       \\<lbrakk>S \\<subseteq> cball t0 t; x1 \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> continuous_on S (\\<lambda>t. f t (flow t0 x1 t))", "using subs[of x0] \\<open>u > 0\\<close> *(1) iv_defined"], ["proof (prove)\nusing this:\n  x0 \\<in> cball x0 u \\<Longrightarrow> cball x0 u \\<subseteq> X\n  0 < u\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x1 S.\n       \\<lbrakk>S \\<subseteq> cball t0 t; x1 \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> continuous_on S (\\<lambda>t. f t (flow t0 x1 t))", "by (auto intro!: continuous_at_imp_continuous_on f_flow_continuous)"], ["proof (state)\nthis:\n  \\<lbrakk>?S \\<subseteq> cball t0 t; ?x1.0 \\<in> cball x0 u\\<rbrakk>\n  \\<Longrightarrow> continuous_on ?S (\\<lambda>t. f t (flow t0 ?x1.0 t))\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"bounded ((\\<lambda>(t, x). f t x) ` (cball t0 t \\<times> cball x0 (2 * u)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded\n     ((\\<lambda>(t, x). f t x) ` (cball t0 t \\<times> cball x0 (2 * u)))", "using subs' subsT existence_ivl_subset[of x0]"], ["proof (prove)\nusing this:\n  cball x0 (2 * u) \\<subseteq> X\n  cball t0 t \\<subseteq> existence_ivl t0 x0\n  existence_ivl t0 x0 \\<subseteq> T\n\ngoal (1 subgoal):\n 1. bounded\n     ((\\<lambda>(t, x). f t x) ` (cball t0 t \\<times> cball x0 (2 * u)))", "by (auto intro!: compact_imp_bounded compact_continuous_image compact_Times\n      continuous_intros simp: split_beta')"], ["proof (state)\nthis:\n  bounded\n   ((\\<lambda>(t, x). f t x) ` (cball t0 t \\<times> cball x0 (2 * u)))\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  bounded\n   ((\\<lambda>(t, x). f t x) ` (cball t0 t \\<times> cball x0 (2 * u)))", "obtain B where B: \"\\<And>s y. s \\<in> cball t0 t \\<Longrightarrow> y \\<in> cball x0 (2 * u) \\<Longrightarrow> norm (f s y) \\<le> B\" \"B > 0\""], ["proof (prove)\nusing this:\n  bounded\n   ((\\<lambda>(t, x). f t x) ` (cball t0 t \\<times> cball x0 (2 * u)))\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        \\<lbrakk>\\<And>s y.\n                    \\<lbrakk>s \\<in> cball t0 t;\n                     y \\<in> cball x0 (2 * u)\\<rbrakk>\n                    \\<Longrightarrow> norm (f s y) \\<le> B;\n         0 < B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: bounded_pos cball_def)"], ["proof (state)\nthis:\n  \\<lbrakk>?s \\<in> cball t0 t; ?y \\<in> cball x0 (2 * u)\\<rbrakk>\n  \\<Longrightarrow> norm (f ?s ?y) \\<le> B\n  0 < B\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have flow_in_cball: \"flow t0 x1 s \\<in> cball x0 (2 * u)\"\n    if s: \"s \\<in> cball t0 t\" and x1: \"x1 \\<in> cball x0 u\"\n    for s::real and x1"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "from *(2)[OF x1 s]"], ["proof (chain)\npicking this:\n  flow t0 x1 s \\<in> cball x1 u", "have \"flow t0 x1 s \\<in> cball x1 u\""], ["proof (prove)\nusing this:\n  flow t0 x1 s \\<in> cball x1 u\n\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x1 u", "."], ["proof (state)\nthis:\n  flow t0 x1 s \\<in> cball x1 u\n\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "also"], ["proof (state)\nthis:\n  flow t0 x1 s \\<in> cball x1 u\n\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "have \"\\<dots> \\<subseteq> cball x0 (2 * u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cball x1 u \\<subseteq> cball x0 (2 * u)", "using x1"], ["proof (prove)\nusing this:\n  x1 \\<in> cball x0 u\n\ngoal (1 subgoal):\n 1. cball x1 u \\<subseteq> cball x0 (2 * u)", "by (auto intro!: dist_triangle_le[OF add_mono, of _ x1 u _ u, simplified]\n        simp: dist_commute)"], ["proof (state)\nthis:\n  cball x1 u \\<subseteq> cball x0 (2 * u)\n\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "finally"], ["proof (chain)\npicking this:\n  flow t0 x1 s \\<in> cball x0 (2 * u)", "show ?thesis"], ["proof (prove)\nusing this:\n  flow t0 x1 s \\<in> cball x0 (2 * u)\n\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "."], ["proof (state)\nthis:\n  flow t0 x1 s \\<in> cball x0 (2 * u)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?s \\<in> cball t0 t; ?x1.0 \\<in> cball x0 u\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?x1.0 ?s \\<in> cball x0 (2 * u)\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(B + exp ((L + 1) * \\<bar>t\\<bar>))-lipschitz_on (cball t0 t\\<times>cball x0 u) (\\<lambda>(t, x). flow t0 x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (B + exp ((L + 1) * \\<bar>t\\<bar>))-lipschitz_on\n     (cball t0 t \\<times> cball x0 u) (\\<lambda>(t, x). flow t0 x t)", "proof (rule lipschitz_onI, safe)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "fix t1 t2 :: real and x1 x2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "assume t1: \"t1 \\<in> cball t0 t\" and t2: \"t2 \\<in> cball t0 t\"\n      and x1: \"x1 \\<in> cball x0 u\" and x2: \"x2 \\<in> cball x0 u\""], ["proof (state)\nthis:\n  t1 \\<in> cball t0 t\n  t2 \\<in> cball t0 t\n  x1 \\<in> cball x0 u\n  x2 \\<in> cball x0 u\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have t1_ex: \"t1 \\<in> existence_ivl t0 x1\"\n      and t2_ex: \"t2 \\<in> existence_ivl t0 x1\" \"t2 \\<in> existence_ivl t0 x2\"\n      and \"x1 \\<in> cball x0 (2*u)\" \"x2 \\<in> cball x0 (2*u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 \\<in> existence_ivl t0 x1 &&&\n    (t2 \\<in> existence_ivl t0 x1 &&& t2 \\<in> existence_ivl t0 x2) &&&\n    x1 \\<in> cball x0 (2 * u) &&& x2 \\<in> cball x0 (2 * u)", "using *(1)[OF x1] *(1)[OF x2] t1 t2 x1 x2 tu"], ["proof (prove)\nusing this:\n  cball t0 t \\<subseteq> existence_ivl t0 x1\n  cball t0 t \\<subseteq> existence_ivl t0 x2\n  t1 \\<in> cball t0 t\n  t2 \\<in> cball t0 t\n  x1 \\<in> cball x0 u\n  x2 \\<in> cball x0 u\n  0 < t\n  0 < u\n\ngoal (1 subgoal):\n 1. t1 \\<in> existence_ivl t0 x1 &&&\n    (t2 \\<in> existence_ivl t0 x1 &&& t2 \\<in> existence_ivl t0 x2) &&&\n    x1 \\<in> cball x0 (2 * u) &&& x2 \\<in> cball x0 (2 * u)", "by auto"], ["proof (state)\nthis:\n  t1 \\<in> existence_ivl t0 x1\n  t2 \\<in> existence_ivl t0 x1\n  t2 \\<in> existence_ivl t0 x2\n  x1 \\<in> cball x0 (2 * u)\n  x2 \\<in> cball x0 (2 * u)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have \"dist (flow t0 x1 t1) (flow t0 x2 t2) \\<le>\n      dist (flow t0 x1 t1) (flow t0 x1 t2) + dist (flow t0 x1 t2) (flow t0 x2 t2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow t0 x1 t1) (flow t0 x2 t2)\n    \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) +\n          dist (flow t0 x1 t2) (flow t0 x2 t2)", "by (rule dist_triangle)"], ["proof (state)\nthis:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) +\n        dist (flow t0 x1 t2) (flow t0 x2 t2)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "also"], ["proof (state)\nthis:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) +\n        dist (flow t0 x1 t2) (flow t0 x2 t2)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have \"dist (flow t0 x1 t2) (flow t0 x2 t2) \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow t0 x1 t2) (flow t0 x2 t2)\n    \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)", "unfolding dist_norm"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 x1 t2 - flow t0 x2 t2)\n    \\<le> norm (x1 - x2) * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)", "proof (rule exponential_initial_condition[where Y = \"cball x0 (2 * u)\"])"], ["proof (state)\ngoal (6 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X\n 4. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x1 s \\<in> cball x0 (2 * u)\n 5. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x2 s \\<in> cball x0 (2 * u)\n 6. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       L-lipschitz_on (cball x0 (2 * u)) (f s)", "fix s"], ["proof (state)\ngoal (6 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X\n 4. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x1 s \\<in> cball x0 (2 * u)\n 5. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x2 s \\<in> cball x0 (2 * u)\n 6. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       L-lipschitz_on (cball x0 (2 * u)) (f s)", "assume \"s \\<in> closed_segment t0 t2\""], ["proof (state)\nthis:\n  s \\<in> {t0--t2}\n\ngoal (6 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X\n 4. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x1 s \\<in> cball x0 (2 * u)\n 5. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x2 s \\<in> cball x0 (2 * u)\n 6. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       L-lipschitz_on (cball x0 (2 * u)) (f s)", "hence s: \"s \\<in> cball t0 t\""], ["proof (prove)\nusing this:\n  s \\<in> {t0--t2}\n\ngoal (1 subgoal):\n 1. s \\<in> cball t0 t", "using t2"], ["proof (prove)\nusing this:\n  s \\<in> {t0--t2}\n  t2 \\<in> cball t0 t\n\ngoal (1 subgoal):\n 1. s \\<in> cball t0 t", "by (auto simp: dist_real_def closed_segment_eq_real_ivl split: if_split_asm)"], ["proof (state)\nthis:\n  s \\<in> cball t0 t\n\ngoal (6 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X\n 4. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x1 s \\<in> cball x0 (2 * u)\n 5. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x2 s \\<in> cball x0 (2 * u)\n 6. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       L-lipschitz_on (cball x0 (2 * u)) (f s)", "show \"flow t0 x1 s \\<in> cball x0 (2 * u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x1 s \\<in> cball x0 (2 * u)", "by (rule flow_in_cball[OF s x1])"], ["proof (state)\nthis:\n  flow t0 x1 s \\<in> cball x0 (2 * u)\n\ngoal (5 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X\n 4. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       flow t0 x2 s \\<in> cball x0 (2 * u)\n 5. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       L-lipschitz_on (cball x0 (2 * u)) (f s)", "show \"flow t0 x2 s \\<in> cball x0 (2 * u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x2 s \\<in> cball x0 (2 * u)", "by (rule flow_in_cball[OF s x2])"], ["proof (state)\nthis:\n  flow t0 x2 s \\<in> cball x0 (2 * u)\n\ngoal (4 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X\n 4. \\<And>s.\n       s \\<in> {t0--t2} \\<Longrightarrow>\n       L-lipschitz_on (cball x0 (2 * u)) (f s)", "show \"L-lipschitz_on (cball x0 (2 * u)) (f s)\" if \"s \\<in> closed_segment t0 t2\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. L-lipschitz_on (cball x0 (2 * u)) (f s)", "using that centre_in_cball convex_contains_segment less_imp_le t2 tu(1)"], ["proof (prove)\nusing this:\n  s \\<in> {t0--t2}\n  (?x \\<in> cball ?x ?e) = (0 \\<le> ?e)\n  convex ?S = (\\<forall>a\\<in>?S. \\<forall>b\\<in>?S. {a--b} \\<subseteq> ?S)\n  ?x < ?y \\<Longrightarrow> ?x \\<le> ?y\n  t2 \\<in> cball t0 t\n  0 < t\n\ngoal (1 subgoal):\n 1. L-lipschitz_on (cball x0 (2 * u)) (f s)", "by (blast intro!: lipschitz)"], ["proof (state)\nthis:\n  ?s \\<in> {t0--t2} \\<Longrightarrow>\n  L-lipschitz_on (cball x0 (2 * u)) (f ?s)\n\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl t0 x1\n 2. t2 \\<in> existence_ivl t0 x2\n 3. cball x0 (2 * u) \\<subseteq> X", "qed (fact)+"], ["proof (state)\nthis:\n  dist (flow t0 x1 t2) (flow t0 x2 t2)\n  \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "also"], ["proof (state)\nthis:\n  dist (flow t0 x1 t2) (flow t0 x2 t2)\n  \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have \"\\<dots> \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\n    \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)", "using \\<open>u > 0\\<close> t2"], ["proof (prove)\nusing this:\n  0 < u\n  t2 \\<in> cball t0 t\n\ngoal (1 subgoal):\n 1. dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\n    \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)", "by (auto\n        intro!: mult_left_mono add_nonneg_nonneg lipschitz[THEN lipschitz_on_nonneg]\n        simp: cball_eq_empty cball_eq_sing' dist_real_def)"], ["proof (state)\nthis:\n  dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\n  \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "also"], ["proof (state)\nthis:\n  dist x1 x2 * exp ((L + 1) * \\<bar>t2 - t0\\<bar>)\n  \\<le> dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have \"x1 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x1 \\<in> X", "using x1 subs[of x0] \\<open>u > 0\\<close>"], ["proof (prove)\nusing this:\n  x1 \\<in> cball x0 u\n  x0 \\<in> cball x0 u \\<Longrightarrow> cball x0 u \\<subseteq> X\n  0 < u\n\ngoal (1 subgoal):\n 1. x1 \\<in> X", "by auto"], ["proof (state)\nthis:\n  x1 \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have *: \"\\<bar>t0 - t1\\<bar> \\<le> t \\<Longrightarrow> x \\<in> {t0--t1} \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t\"\n      \"\\<bar>t0 - t2\\<bar> \\<le> t \\<Longrightarrow> x \\<in> {t0--t2} \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t\"\n      \"\\<bar>t0 - t1\\<bar> \\<le> t \\<Longrightarrow> \\<bar>t0 - t2\\<bar> \\<le> t \\<Longrightarrow> x \\<in> {t1--t2} \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t\"\n      for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; x \\<in> {t0--t1}\\<rbrakk>\n     \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t) &&&\n    (\\<lbrakk>\\<bar>t0 - t2\\<bar> \\<le> t; x \\<in> {t0--t2}\\<rbrakk>\n     \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t) &&&\n    (\\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; \\<bar>t0 - t2\\<bar> \\<le> t;\n      x \\<in> {t1--t2}\\<rbrakk>\n     \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t)", "using t1 t2 t1_ex x1 flow_in_cball[OF _ x1]"], ["proof (prove)\nusing this:\n  t1 \\<in> cball t0 t\n  t2 \\<in> cball t0 t\n  t1 \\<in> existence_ivl t0 x1\n  x1 \\<in> cball x0 u\n  ?s \\<in> cball t0 t \\<Longrightarrow> flow t0 x1 ?s \\<in> cball x0 (2 * u)\n\ngoal (1 subgoal):\n 1. (\\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; x \\<in> {t0--t1}\\<rbrakk>\n     \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t) &&&\n    (\\<lbrakk>\\<bar>t0 - t2\\<bar> \\<le> t; x \\<in> {t0--t2}\\<rbrakk>\n     \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t) &&&\n    (\\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; \\<bar>t0 - t2\\<bar> \\<le> t;\n      x \\<in> {t1--t2}\\<rbrakk>\n     \\<Longrightarrow> \\<bar>t0 - x\\<bar> \\<le> t)", "by (auto simp: closed_segment_eq_real_ivl split: if_splits)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; ?x \\<in> {t0--t1}\\<rbrakk>\n  \\<Longrightarrow> \\<bar>t0 - ?x\\<bar> \\<le> t\n  \\<lbrakk>\\<bar>t0 - t2\\<bar> \\<le> t; ?x \\<in> {t0--t2}\\<rbrakk>\n  \\<Longrightarrow> \\<bar>t0 - ?x\\<bar> \\<le> t\n  \\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; \\<bar>t0 - t2\\<bar> \\<le> t;\n   ?x \\<in> {t1--t2}\\<rbrakk>\n  \\<Longrightarrow> \\<bar>t0 - ?x\\<bar> \\<le> t\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have integrable:\n      \"(\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t1}\"\n      \"(\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t2}\"\n      \"(\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t1} &&&\n    (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t2} &&&\n    (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t2}", "using t1 t2 t1_ex x1 flow_in_cball[OF _ x1]"], ["proof (prove)\nusing this:\n  t1 \\<in> cball t0 t\n  t2 \\<in> cball t0 t\n  t1 \\<in> existence_ivl t0 x1\n  x1 \\<in> cball x0 u\n  ?s \\<in> cball t0 t \\<Longrightarrow> flow t0 x1 ?s \\<in> cball x0 (2 * u)\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t1} &&&\n    (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t2} &&&\n    (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t2}", "by (auto intro!: order_trans[OF integral_bound[where B=B]] cont_on_f_flow B\n        integrable_continuous_closed_segment\n        intro: *\n        simp: dist_real_def integral_minus_sets')"], ["proof (state)\nthis:\n  (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t1}\n  (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t2}\n  (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t2}\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have *: \"\\<bar>t0 - t1\\<bar> \\<le> t \\<Longrightarrow> \\<bar>t0 - t2\\<bar> \\<le> t \\<Longrightarrow> s \\<in> {t1--t2} \\<Longrightarrow> \\<bar>t0 - s\\<bar> \\<le> t\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; \\<bar>t0 - t2\\<bar> \\<le> t;\n     s \\<in> {t1--t2}\\<rbrakk>\n    \\<Longrightarrow> \\<bar>t0 - s\\<bar> \\<le> t", "by (auto simp: closed_segment_eq_real_ivl split: if_splits)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<bar>t0 - t1\\<bar> \\<le> t; \\<bar>t0 - t2\\<bar> \\<le> t;\n   ?s \\<in> {t1--t2}\\<rbrakk>\n  \\<Longrightarrow> \\<bar>t0 - ?s\\<bar> \\<le> t\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "note [simp] = t1_ex t2_ex \\<open>x1 \\<in> X\\<close> integrable"], ["proof (state)\nthis:\n  t1 \\<in> existence_ivl t0 x1\n  t2 \\<in> existence_ivl t0 x1\n  t2 \\<in> existence_ivl t0 x2\n  x1 \\<in> X\n  (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t1}\n  (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t2}\n  (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t2}\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have \"dist (flow t0 x1 t1) (flow t0 x1 t2) \\<le> dist t1 t2 * B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow t0 x1 t1) (flow t0 x1 t2) \\<le> dist t1 t2 * B", "using t1 t2 x1 flow_in_cball[OF _ x1] \\<open>t0 \\<in> T\\<close>\n        ivl_integral_combine[of \"\\<lambda>t. f t (flow t0 x1 t)\" t2 t0 t1]\n        ivl_integral_combine[of \"\\<lambda>t. f t (flow t0 x1 t)\" t1 t0 t2]"], ["proof (prove)\nusing this:\n  t1 \\<in> cball t0 t\n  t2 \\<in> cball t0 t\n  x1 \\<in> cball x0 u\n  ?s \\<in> cball t0 t \\<Longrightarrow> flow t0 x1 ?s \\<in> cball x0 (2 * u)\n  t0 \\<in> T\n  \\<lbrakk>(\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t2--t0};\n   (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t1};\n   (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t2--t1}\\<rbrakk>\n  \\<Longrightarrow> ivl_integral t2 t0 (\\<lambda>t. f t (flow t0 x1 t)) +\n                    ivl_integral t0 t1 (\\<lambda>t. f t (flow t0 x1 t)) =\n                    ivl_integral t2 t1 (\\<lambda>t. f t (flow t0 x1 t))\n  \\<lbrakk>(\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t0};\n   (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t0--t2};\n   (\\<lambda>t. f t (flow t0 x1 t)) integrable_on {t1--t2}\\<rbrakk>\n  \\<Longrightarrow> ivl_integral t1 t0 (\\<lambda>t. f t (flow t0 x1 t)) +\n                    ivl_integral t0 t2 (\\<lambda>t. f t (flow t0 x1 t)) =\n                    ivl_integral t1 t2 (\\<lambda>t. f t (flow t0 x1 t))\n\ngoal (1 subgoal):\n 1. dist (flow t0 x1 t1) (flow t0 x1 t2) \\<le> dist t1 t2 * B", "by (auto simp: flow_fixed_point dist_norm add.commute closed_segment_commute\n          norm_minus_commute ivl_integral_minus_sets' ivl_integral_minus_sets\n        intro!: order_trans[OF ivl_integral_bound[where B=B]] cont_on_f_flow B dest: *)"], ["proof (state)\nthis:\n  dist (flow t0 x1 t1) (flow t0 x1 t2) \\<le> dist t1 t2 * B\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              dist (flow t0 x1 t1) (flow t0 x1 t2) + x\n              \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) + y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      dist (flow t0 x1 t1) (flow t0 x1 t2) + x\n      \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) + y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      x + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n      \\<le> y + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x1 t1) (flow t0 x2 t2)\n                    \\<le> dist t1 t2 * B +\n                          dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)", "have \"dist (flow t0 x1 t1) (flow t0 x2 t2) \\<le>\n        dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              dist (flow t0 x1 t1) (flow t0 x1 t2) + x\n              \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) + y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      dist (flow t0 x1 t1) (flow t0 x1 t2) + x\n      \\<le> dist (flow t0 x1 t1) (flow t0 x1 t2) + y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      x + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n      \\<le> y + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x1 t1) (flow t0 x2 t2)\n                    \\<le> dist t1 t2 * B +\n                          dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (1 subgoal):\n 1. dist (flow t0 x1 t1) (flow t0 x2 t2)\n    \\<le> dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)", "by arith"], ["proof (state)\nthis:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "also"], ["proof (state)\nthis:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "have \"\\<dots> \\<le> dist (t1, x1) (t2, x2) * B + dist (t1, x1) (t2, x2) * exp ((L + 1) * \\<bar>t\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n    \\<le> dist (t1, x1) (t2, x2) * B +\n          dist (t1, x1) (t2, x2) * exp ((L + 1) * \\<bar>t\\<bar>)", "using \\<open>B > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n    \\<le> dist (t1, x1) (t2, x2) * B +\n          dist (t1, x1) (t2, x2) * exp ((L + 1) * \\<bar>t\\<bar>)", "by (auto intro!: add_mono mult_right_mono simp: dist_prod_def)"], ["proof (state)\nthis:\n  dist t1 t2 * B + dist x1 x2 * exp ((L + 1) * \\<bar>t\\<bar>)\n  \\<le> dist (t1, x1) (t2, x2) * B +\n        dist (t1, x1) (t2, x2) * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b aa ba.\n       \\<lbrakk>a \\<in> cball t0 t; b \\<in> cball x0 u; aa \\<in> cball t0 t;\n        ba \\<in> cball x0 u\\<rbrakk>\n       \\<Longrightarrow> dist (flow t0 b a) (flow t0 ba aa)\n                         \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) *\n                               dist (a, b) (aa, ba)\n 2. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> dist (t1, x1) (t2, x2) * B +\n        dist (t1, x1) (t2, x2) * exp ((L + 1) * \\<bar>t\\<bar>)", "show \"dist (flow t0 x1 t1) (flow t0 x2 t2)\n       \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) * dist (t1, x1) (t2, x2)\""], ["proof (prove)\nusing this:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> dist (t1, x1) (t2, x2) * B +\n        dist (t1, x1) (t2, x2) * exp ((L + 1) * \\<bar>t\\<bar>)\n\ngoal (1 subgoal):\n 1. dist (flow t0 x1 t1) (flow t0 x2 t2)\n    \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) * dist (t1, x1) (t2, x2)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  dist (flow t0 x1 t1) (flow t0 x2 t2)\n  \\<le> (B + exp ((L + 1) * \\<bar>t\\<bar>)) * dist (t1, x1) (t2, x2)\n\ngoal (1 subgoal):\n 1. 0 \\<le> B + exp ((L + 1) * \\<bar>t\\<bar>)", "qed (simp add: \\<open>0 < B\\<close> less_imp_le)"], ["proof (state)\nthis:\n  (B + exp ((L + 1) * \\<bar>t\\<bar>))-lipschitz_on\n   (cball t0 t \\<times> cball x0 u) (\\<lambda>(t, x). flow t0 x t)\n\ngoal (1 subgoal):\n 1. (\\<And>u t L.\n        \\<lbrakk>\\<And>y.\n                    y \\<in> cball x0 u \\<Longrightarrow>\n                    cball t0 t \\<subseteq> existence_ivl t0 y;\n         \\<And>s y.\n            \\<lbrakk>y \\<in> cball x0 u; s \\<in> cball t0 t\\<rbrakk>\n            \\<Longrightarrow> flow t0 y s \\<in> cball y u;\n         L-lipschitz_on (cball t0 t \\<times> cball x0 u)\n          (\\<lambda>(t, x). flow t0 x t);\n         \\<And>y.\n            y \\<in> cball x0 u \\<Longrightarrow> cball y u \\<subseteq> X;\n         0 < t; 0 < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n  (B + exp ((L + 1) * \\<bar>t\\<bar>))-lipschitz_on\n   (cball t0 t \\<times> cball x0 u) (\\<lambda>(t, x). flow t0 x t)", "show thesis"], ["proof (prove)\nusing this:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n  (B + exp ((L + 1) * \\<bar>t\\<bar>))-lipschitz_on\n   (cball t0 t \\<times> cball x0 u) (\\<lambda>(t, x). flow t0 x t)\n\ngoal (1 subgoal):\n 1. thesis", "using subs tu"], ["proof (prove)\nusing this:\n  ?y3 \\<in> cball x0 u \\<Longrightarrow>\n  cball t0 t \\<subseteq> existence_ivl t0 ?y3\n  \\<lbrakk>?y3 \\<in> cball x0 u; ?s \\<in> cball t0 t\\<rbrakk>\n  \\<Longrightarrow> flow t0 ?y3 ?s \\<in> cball ?y3 u\n  (B + exp ((L + 1) * \\<bar>t\\<bar>))-lipschitz_on\n   (cball t0 t \\<times> cball x0 u) (\\<lambda>(t, x). flow t0 x t)\n  ?y \\<in> cball x0 u \\<Longrightarrow> cball ?y u \\<subseteq> X\n  0 < t\n  0 < u\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "context\nfixes x0\nassumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\nbegin"], ["", "lemma existence_ivl_notempty: \"existence_ivl t0 x0 \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 \\<noteq> {}", "using existence_ivl_initial_time iv_defined"], ["proof (prove)\nusing this:\n  \\<lbrakk>t0 \\<in> T; ?x0.0 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> t0 \\<in> existence_ivl t0 ?x0.0\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 \\<noteq> {}", "by auto"], ["", "lemma initial_time_bounds:\n  shows \"bdd_above (existence_ivl t0 x0) \\<Longrightarrow> t0 < Sup (existence_ivl t0 x0)\" (is \"?a \\<Longrightarrow> _\")\n    and \"bdd_below (existence_ivl t0 x0) \\<Longrightarrow> Inf (existence_ivl t0 x0) < t0\" (is \"?b \\<Longrightarrow> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n     t0 < Sup (existence_ivl t0 x0)) &&&\n    (bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n     Inf (existence_ivl t0 x0) < t0)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n    t0 < Sup (existence_ivl t0 x0)\n 2. bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n    Inf (existence_ivl t0 x0) < t0", "from local_unique_solutions[OF iv_defined]"], ["proof (chain)\npicking this:\n  (\\<And>t u L.\n      \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n       cball x0 (2 * u) \\<subseteq> X;\n       \\<And>t'.\n          t' \\<in> cball t0 t \\<Longrightarrow>\n          L-lipschitz_on (cball x0 (2 * u)) (f t');\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          cball x u \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain te where te: \"te > 0\" \"cball t0 te \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  (\\<And>t u L.\n      \\<lbrakk>0 < t; 0 < u; cball t0 t \\<subseteq> existence_ivl t0 x0;\n       cball x0 (2 * u) \\<subseteq> X;\n       \\<And>t'.\n          t' \\<in> cball t0 t \\<Longrightarrow>\n          L-lipschitz_on (cball x0 (2 * u)) (f t');\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          (flow t0 x usolves_ode f from t0) (cball t0 t) (cball x u);\n       \\<And>x.\n          x \\<in> cball x0 u \\<Longrightarrow>\n          cball x u \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>te.\n        \\<lbrakk>0 < te;\n         cball t0 te \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0\n\ngoal (2 subgoals):\n 1. bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n    t0 < Sup (existence_ivl t0 x0)\n 2. bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n    Inf (existence_ivl t0 x0) < t0", "then"], ["proof (chain)\npicking this:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0", "show \"t0 < Sup (existence_ivl t0 x0)\" if bdd: \"bdd_above (existence_ivl t0 x0)\""], ["proof (prove)\nusing this:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. t0 < Sup (existence_ivl t0 x0)", "using less_cSup_iff[OF existence_ivl_notempty bdd, of t0] iv_defined"], ["proof (prove)\nusing this:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0\n  (t0 < Sup (existence_ivl t0 x0)) =\n  (\\<exists>x\\<in>existence_ivl t0 x0. t0 < x)\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. t0 < Sup (existence_ivl t0 x0)", "by (auto simp: dist_real_def intro!: bexI[where x=\"t0 + te\"])"], ["proof (state)\nthis:\n  bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n  t0 < Sup (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n    Inf (existence_ivl t0 x0) < t0", "from te"], ["proof (chain)\npicking this:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0", "show \"Inf (existence_ivl t0 x0) < t0\" if bdd: \"bdd_below (existence_ivl t0 x0)\""], ["proof (prove)\nusing this:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. Inf (existence_ivl t0 x0) < t0", "unfolding cInf_less_iff[OF existence_ivl_notempty bdd, of t0]"], ["proof (prove)\nusing this:\n  0 < te\n  cball t0 te \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>existence_ivl t0 x0. x < t0", "by (auto simp: dist_real_def iv_defined intro!: bexI[where x=\"t0 - te\"])"], ["proof (state)\nthis:\n  bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n  Inf (existence_ivl t0 x0) < t0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  flow_leaves_compact_ivl_right:\n  assumes bdd: \"bdd_above (existence_ivl t0 x0)\"\n  defines \"b \\<equiv> Sup (existence_ivl t0 x0)\"\n  assumes \"b \\<in> T\"\n  assumes \"compact K\"\n  assumes \"K \\<subseteq> X\"\n  obtains t where \"t \\<ge> t0\" \"t \\<in> existence_ivl t0 x0\" \"flow t0 x0 t \\<notin> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof (atomize_elim, rule ccontr, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "note iv_defined"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "note ne = existence_ivl_notempty"], ["proof (state)\nthis:\n  existence_ivl t0 x0 \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "assume K[rule_format]: \"\\<forall>t. t \\<in> existence_ivl t0 x0 \\<longrightarrow> t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K\""], ["proof (state)\nthis:\n  \\<lbrakk>?t \\<in> existence_ivl t0 x0; t0 \\<le> ?t\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t \\<in> K\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have b_upper: \"t \\<le> b\" if \"t \\<in> existence_ivl t0 x0\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<le> b", "unfolding b_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<le> Sup (existence_ivl t0 x0)", "by (rule cSup_upper[OF that bdd])"], ["proof (state)\nthis:\n  ?t \\<in> existence_ivl t0 x0 \\<Longrightarrow> ?t \\<le> b\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have less_b_iff: \"y < b \\<longleftrightarrow> (\\<exists>x\\<in>existence_ivl t0 x0. y < x)\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. (y < b) = (\\<exists>x\\<in>existence_ivl t0 x0. y < x)", "unfolding b_def less_cSup_iff[OF ne bdd]"], ["proof (prove)\ngoal (1 subgoal):\n 1. Bex (existence_ivl t0 x0) ((<) y) =\n    (\\<exists>x\\<in>existence_ivl t0 x0. y < x)", ".."], ["proof (state)\nthis:\n  (?y < b) = (\\<exists>x\\<in>existence_ivl t0 x0. ?y < x)\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have \"t0 \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<le> b", "by (simp add: iv_defined b_upper)"], ["proof (state)\nthis:\n  t0 \\<le> b\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  t0 \\<le> b", "have geI: \"t \\<in> {t0--<b} \\<Longrightarrow> t0 \\<le> t\" for t"], ["proof (prove)\nusing this:\n  t0 \\<le> b\n\ngoal (1 subgoal):\n 1. t \\<in> {t0--<b} \\<Longrightarrow> t0 \\<le> t", "by (auto simp: half_open_segment_real)"], ["proof (state)\nthis:\n  ?t \\<in> {t0--<b} \\<Longrightarrow> t0 \\<le> ?t\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have subset: \"{t0 --< b} \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--<b} \\<subseteq> existence_ivl t0 x0", "using \\<open>t0 \\<le> b\\<close> in_existence_between_zeroI"], ["proof (prove)\nusing this:\n  t0 \\<le> b\n  \\<lbrakk>?t \\<in> existence_ivl t0 ?x0.0; ?s \\<in> {t0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> existence_ivl t0 ?x0.0\n\ngoal (1 subgoal):\n 1. {t0--<b} \\<subseteq> existence_ivl t0 x0", "by (auto simp: half_open_segment_real iv_defined less_b_iff)"], ["proof (state)\nthis:\n  {t0--<b} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have sol: \"(flow t0 x0 solves_ode f) {t0 --< b} K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 x0 solves_ode f) {t0--<b} K", "apply (rule solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (flow t0 x0 has_vderiv_on (\\<lambda>t. f t (flow t0 x0 t))) {t0--<b}\n 2. \\<And>t. t \\<in> {t0--<b} \\<Longrightarrow> flow t0 x0 t \\<in> K", "apply (rule has_vderiv_on_subset[OF solves_odeD(1)[OF flow_solves_ode] subset])"], ["proof (prove)\ngoal (3 subgoals):\n 1. t0 \\<in> T\n 2. x0 \\<in> X\n 3. \\<And>t. t \\<in> {t0--<b} \\<Longrightarrow> flow t0 x0 t \\<in> K", "using subset iv_defined"], ["proof (prove)\nusing this:\n  {t0--<b} \\<subseteq> existence_ivl t0 x0\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (3 subgoals):\n 1. t0 \\<in> T\n 2. x0 \\<in> X\n 3. \\<And>t. t \\<in> {t0--<b} \\<Longrightarrow> flow t0 x0 t \\<in> K", "by (auto intro!: K geI)"], ["proof (state)\nthis:\n  (flow t0 x0 solves_ode f) {t0--<b} K\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have cont: \"continuous_on ({t0--b} \\<times> K) (\\<lambda>(t, x). f t x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on ({t0--b} \\<times> K) (\\<lambda>(t, x). f t x)", "using \\<open>K \\<subseteq> X\\<close> closed_segment_subset_domainI[OF iv_defined(1) \\<open>b \\<in> T\\<close>]"], ["proof (prove)\nusing this:\n  K \\<subseteq> X\n  ?s \\<in> {t0--b} \\<Longrightarrow> ?s \\<in> T\n\ngoal (1 subgoal):\n 1. continuous_on ({t0--b} \\<times> K) (\\<lambda>(t, x). f t x)", "by (auto simp: split_beta intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on ({t0--b} \\<times> K) (\\<lambda>(t, x). f t x)\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "from initial_time_bounds(1)[OF bdd]"], ["proof (chain)\npicking this:\n  t0 < Sup (existence_ivl t0 x0)", "have \"t0 \\<noteq> b\""], ["proof (prove)\nusing this:\n  t0 < Sup (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. t0 \\<noteq> b", "by (simp add: b_def)"], ["proof (state)\nthis:\n  t0 \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "from solves_ode_half_open_segment_continuation[OF sol cont \\<open>compact K\\<close> \\<open>t0 \\<noteq> b\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>l.\n      \\<lbrakk>(flow t0 x0 \\<longlongrightarrow> l) (at b within {t0--<b});\n       ((\\<lambda>t. if t = b then l else flow t0 x0 t) solves_ode f)\n        {t0--b} K\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain l where lim: \"(flow t0 x0 \\<longlongrightarrow> l) (at b within {t0--<b})\"\n    and limsol: \"((\\<lambda>t. if t = b then l else flow t0 x0 t) solves_ode f) {t0--b} K\""], ["proof (prove)\nusing this:\n  (\\<And>l.\n      \\<lbrakk>(flow t0 x0 \\<longlongrightarrow> l) (at b within {t0--<b});\n       ((\\<lambda>t. if t = b then l else flow t0 x0 t) solves_ode f)\n        {t0--b} K\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>(flow t0 x0 \\<longlongrightarrow> l)\n                  (at b within {t0--<b});\n         ((\\<lambda>t. if t = b then l else flow t0 x0 t) solves_ode f)\n          {t0--b} K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "."], ["proof (state)\nthis:\n  (flow t0 x0 \\<longlongrightarrow> l) (at b within {t0--<b})\n  ((\\<lambda>t. if t = b then l else flow t0 x0 t) solves_ode f) {t0--b} K\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have \"b \\<in> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> existence_ivl t0 x0", "using \\<open>t0 \\<noteq> b\\<close> closed_segment_subset_domainI[OF \\<open>t0 \\<in> T\\<close> \\<open>b \\<in> T\\<close>]"], ["proof (prove)\nusing this:\n  t0 \\<noteq> b\n  ?s \\<in> {t0--b} \\<Longrightarrow> ?s \\<in> T\n\ngoal (1 subgoal):\n 1. b \\<in> existence_ivl t0 x0", "by (intro existence_ivl_maximal_segment[OF solves_ode_on_subset[OF limsol order_refl \\<open>K \\<subseteq> X\\<close>]])\n      (auto simp: iv_defined)"], ["proof (state)\nthis:\n  b \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "have \"flow t0 x0 b \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 b \\<in> X", "by (simp add: \\<open>b \\<in> existence_ivl t0 x0\\<close> flow_in_domain iv_defined)"], ["proof (state)\nthis:\n  flow t0 x0 b \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "from ll_on_open_it.local_unique_solutions[OF ll_on_open_it_axioms \\<open>b \\<in> T\\<close> \\<open>flow t0 x0 b \\<in> X\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>t u L.\n      \\<lbrakk>0 < t; 0 < u;\n       cball b t \\<subseteq> existence_ivl b (flow t0 x0 b);\n       cball (flow t0 x0 b) (2 * u) \\<subseteq> X;\n       \\<And>t'.\n          t' \\<in> cball b t \\<Longrightarrow>\n          L-lipschitz_on (cball (flow t0 x0 b) (2 * u)) (f t');\n       \\<And>x.\n          x \\<in> cball (flow t0 x0 b) u \\<Longrightarrow>\n          (flow b x usolves_ode f from b) (cball b t) (cball x u);\n       \\<And>x.\n          x \\<in> cball (flow t0 x0 b) u \\<Longrightarrow>\n          cball x u \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain e where \"e > 0\" \"cball b e \\<subseteq> existence_ivl b (flow t0 x0 b)\""], ["proof (prove)\nusing this:\n  (\\<And>t u L.\n      \\<lbrakk>0 < t; 0 < u;\n       cball b t \\<subseteq> existence_ivl b (flow t0 x0 b);\n       cball (flow t0 x0 b) (2 * u) \\<subseteq> X;\n       \\<And>t'.\n          t' \\<in> cball b t \\<Longrightarrow>\n          L-lipschitz_on (cball (flow t0 x0 b) (2 * u)) (f t');\n       \\<And>x.\n          x \\<in> cball (flow t0 x0 b) u \\<Longrightarrow>\n          (flow b x usolves_ode f from b) (cball b t) (cball x u);\n       \\<And>x.\n          x \\<in> cball (flow t0 x0 b) u \\<Longrightarrow>\n          cball x u \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e;\n         cball b e \\<subseteq> existence_ivl b (flow t0 x0 b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < e\n  cball b e \\<subseteq> existence_ivl b (flow t0 x0 b)\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  0 < e\n  cball b e \\<subseteq> existence_ivl b (flow t0 x0 b)", "have \"e + b \\<in> existence_ivl b (flow t0 x0 b)\""], ["proof (prove)\nusing this:\n  0 < e\n  cball b e \\<subseteq> existence_ivl b (flow t0 x0 b)\n\ngoal (1 subgoal):\n 1. e + b \\<in> existence_ivl b (flow t0 x0 b)", "by (auto simp: dist_real_def)"], ["proof (state)\nthis:\n  e + b \\<in> existence_ivl b (flow t0 x0 b)\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "from existence_ivl_trans[OF \\<open>b \\<in> existence_ivl t0 x0\\<close> \\<open>e + b \\<in> existence_ivl _ _\\<close>]"], ["proof (chain)\npicking this:\n  b + e \\<in> existence_ivl t0 x0", "have \"b + e \\<in> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  b + e \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. b + e \\<in> existence_ivl t0 x0", "."], ["proof (state)\nthis:\n  b + e \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<forall>t.\n       t \\<in> existence_ivl t0 x0 \\<longrightarrow>\n       t0 \\<le> t \\<longrightarrow> flow t0 x0 t \\<in> K \\<Longrightarrow>\n    False", "from b_upper[OF this] \\<open>e > 0\\<close>"], ["proof (chain)\npicking this:\n  b + e \\<le> b\n  0 < e", "show False"], ["proof (prove)\nusing this:\n  b + e \\<le> b\n  0 < e\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  flow_leaves_compact_ivl_left:\n  assumes bdd: \"bdd_below (existence_ivl t0 x0)\"\n  defines \"b \\<equiv> Inf (existence_ivl t0 x0)\"\n  assumes \"b \\<in> T\"\n  assumes \"compact K\"\n  assumes \"K \\<subseteq> X\"\n  obtains t where \"t \\<le> t0\" \"t \\<in> existence_ivl t0 x0\" \"flow t0 x0 t \\<notin> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "interpret rev: ll_on_open \"(preflect t0 ` T)\" \"(\\<lambda>t. - f (preflect t0 t))\" X"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (preflect t0 ` T) (\\<lambda>t. - f (preflect t0 t)) X", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from antimono_preflect bdd"], ["proof (chain)\npicking this:\n  antimono (preflect ?t0.0)\n  bdd_below (existence_ivl t0 x0)", "have bdd_rev: \"bdd_above (rev.existence_ivl t0 x0)\""], ["proof (prove)\nusing this:\n  antimono (preflect ?t0.0)\n  bdd_below (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. bdd_above (rev.existence_ivl t0 x0)", "unfolding rev_existence_ivl_eq"], ["proof (prove)\nusing this:\n  antimono (preflect ?t0.0)\n  bdd_below (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. bdd_above (preflect t0 ` existence_ivl t0 x0)", "by (rule bdd_above_image_antimono)"], ["proof (state)\nthis:\n  bdd_above (rev.existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note ne = existence_ivl_notempty"], ["proof (state)\nthis:\n  existence_ivl t0 x0 \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"Sup (rev.existence_ivl t0 x0) = preflect t0 b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sup (rev.existence_ivl t0 x0) = preflect t0 b", "using continuous_at_Inf_antimono[OF antimono_preflect _ ne bdd]"], ["proof (prove)\nusing this:\n  continuous (at_right (Inf (existence_ivl t0 x0)))\n   (preflect ?t0.2) \\<Longrightarrow>\n  preflect ?t0.2 (Inf (existence_ivl t0 x0)) =\n  Sup (preflect ?t0.2 ` existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. Sup (rev.existence_ivl t0 x0) = preflect t0 b", "by (simp add: continuous_preflect b_def rev_existence_ivl_eq)"], ["proof (state)\nthis:\n  Sup (rev.existence_ivl t0 x0) = preflect t0 b\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  Sup (rev.existence_ivl t0 x0) = preflect t0 b", "have Sup_mem: \"Sup (rev.existence_ivl t0 x0) \\<in> preflect t0 ` T\""], ["proof (prove)\nusing this:\n  Sup (rev.existence_ivl t0 x0) = preflect t0 b\n\ngoal (1 subgoal):\n 1. Sup (rev.existence_ivl t0 x0) \\<in> preflect t0 ` T", "using \\<open>b \\<in> T\\<close>"], ["proof (prove)\nusing this:\n  Sup (rev.existence_ivl t0 x0) = preflect t0 b\n  b \\<in> T\n\ngoal (1 subgoal):\n 1. Sup (rev.existence_ivl t0 x0) \\<in> preflect t0 ` T", "by auto"], ["proof (state)\nthis:\n  Sup (rev.existence_ivl t0 x0) \\<in> preflect t0 ` T\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have rev_iv: \"t0 \\<in> preflect t0 ` T\" \"x0 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> preflect t0 ` T &&& x0 \\<in> X", "using iv_defined"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. t0 \\<in> preflect t0 ` T &&& x0 \\<in> X", "by auto"], ["proof (state)\nthis:\n  t0 \\<in> preflect t0 ` T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from rev.flow_leaves_compact_ivl_right[OF rev_iv bdd_rev Sup_mem \\<open>compact K\\<close> \\<open>K \\<subseteq> X\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> rev.existence_ivl t0 x0;\n       rev.flow t0 x0 t \\<notin> K\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain t where \"t0 \\<le> t\" \"t \\<in> rev.existence_ivl t0 x0\" \"rev.flow t0 x0 t \\<notin> K\""], ["proof (prove)\nusing this:\n  (\\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> rev.existence_ivl t0 x0;\n       rev.flow t0 x0 t \\<notin> K\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t0 \\<le> t; t \\<in> rev.existence_ivl t0 x0;\n         rev.flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "."], ["proof (state)\nthis:\n  t0 \\<le> t\n  t \\<in> rev.existence_ivl t0 x0\n  rev.flow t0 x0 t \\<notin> K\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  t0 \\<le> t\n  t \\<in> rev.existence_ivl t0 x0\n  rev.flow t0 x0 t \\<notin> K", "have \"preflect t0 t \\<le> t0\" \"preflect t0 t \\<in> existence_ivl t0 x0\" \"flow t0 x0 (preflect t0 t) \\<notin> K\""], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  t \\<in> rev.existence_ivl t0 x0\n  rev.flow t0 x0 t \\<notin> K\n\ngoal (1 subgoal):\n 1. preflect t0 t \\<le> t0 &&&\n    preflect t0 t \\<in> existence_ivl t0 x0 &&&\n    flow t0 x0 (preflect t0 t) \\<notin> K", "by (auto simp: rev_existence_ivl_eq rev_flow_eq)"], ["proof (state)\nthis:\n  preflect t0 t \\<le> t0\n  preflect t0 t \\<in> existence_ivl t0 x0\n  flow t0 x0 (preflect t0 t) \\<notin> K\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n         flow t0 x0 t \\<notin> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  preflect t0 t \\<le> t0\n  preflect t0 t \\<in> existence_ivl t0 x0\n  flow t0 x0 (preflect t0 t) \\<notin> K\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  sup_existence_maximal:\n  assumes \"\\<And>t. t0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"bdd_above (existence_ivl t0 x0)\"\n  shows \"Sup (existence_ivl t0 x0) \\<notin> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sup (existence_ivl t0 x0) \\<notin> T", "using flow_leaves_compact_ivl_right[of K] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>bdd_above (existence_ivl t0 x0);\n   Sup (existence_ivl t0 x0) \\<in> T; compact K; K \\<subseteq> X;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0;\n       flow t0 x0 t \\<notin> K\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  \\<lbrakk>t0 \\<le> ?t; ?t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t \\<in> K\n  compact K\n  K \\<subseteq> X\n  bdd_above (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. Sup (existence_ivl t0 x0) \\<notin> T", "by force"], ["", "lemma\n  inf_existence_minimal:\n  assumes \"\\<And>t. t \\<le> t0 \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"bdd_below (existence_ivl t0 x0)\"\n  shows \"Inf (existence_ivl t0 x0) \\<notin> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Inf (existence_ivl t0 x0) \\<notin> T", "using flow_leaves_compact_ivl_left[of K] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>bdd_below (existence_ivl t0 x0);\n   Inf (existence_ivl t0 x0) \\<in> T; compact K; K \\<subseteq> X;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0;\n       flow t0 x0 t \\<notin> K\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  \\<lbrakk>?t \\<le> t0; ?t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t \\<in> K\n  compact K\n  K \\<subseteq> X\n  bdd_below (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. Inf (existence_ivl t0 x0) \\<notin> T", "by force"], ["", "end"], ["", "lemma\n  subset_mem_compact_implies_subset_existence_interval:\n  assumes ivl: \"t0 \\<in> T'\" \"is_interval T'\" \"T' \\<subseteq> T\"\n  assumes iv_defined: \"x0 \\<in> X\"\n  assumes mem_compact: \"\\<And>t. t \\<in> T' \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes K: \"compact K\" \"K \\<subseteq> X\"\n  shows \"T' \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T' \\<subseteq> existence_ivl t0 x0", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> T' \\<subseteq> existence_ivl t0 x0 \\<Longrightarrow> False", "assume \"\\<not> T' \\<subseteq> existence_ivl t0 x0\""], ["proof (state)\nthis:\n  \\<not> T' \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<not> T' \\<subseteq> existence_ivl t0 x0 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> T' \\<subseteq> existence_ivl t0 x0", "obtain t' where t': \"t' \\<notin> existence_ivl t0 x0\" \"t' \\<in> T'\""], ["proof (prove)\nusing this:\n  \\<not> T' \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t' \\<notin> existence_ivl t0 x0; t' \\<in> T'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t' \\<notin> existence_ivl t0 x0\n  t' \\<in> T'\n\ngoal (1 subgoal):\n 1. \\<not> T' \\<subseteq> existence_ivl t0 x0 \\<Longrightarrow> False", "from assms"], ["proof (chain)\npicking this:\n  t0 \\<in> T'\n  is_interval T'\n  T' \\<subseteq> T\n  x0 \\<in> X\n  \\<lbrakk>?t \\<in> T'; ?t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t \\<in> K\n  compact K\n  K \\<subseteq> X", "have iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\""], ["proof (prove)\nusing this:\n  t0 \\<in> T'\n  is_interval T'\n  T' \\<subseteq> T\n  x0 \\<in> X\n  \\<lbrakk>?t \\<in> T'; ?t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t \\<in> K\n  compact K\n  K \\<subseteq> X\n\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x0 \\<in> X", "by auto"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. \\<not> T' \\<subseteq> existence_ivl t0 x0 \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof (cases rule: not_in_connected_cases[OF connected_existence_ivl t'(1) existence_ivl_notempty[OF iv_defined]])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>bdd_below (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> t' \\<le> y\\<rbrakk>\n    \\<Longrightarrow> False", "assume bdd: \"bdd_below (existence_ivl t0 x0)\""], ["proof (state)\nthis:\n  bdd_below (existence_ivl t0 x0)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>bdd_below (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> t' \\<le> y\\<rbrakk>\n    \\<Longrightarrow> False", "assume t'_lower: \"t' \\<le> y\" if \"y \\<in> existence_ivl t0 x0\" for y"], ["proof (state)\nthis:\n  ?y \\<in> existence_ivl t0 x0 \\<Longrightarrow> t' \\<le> ?y\n\ngoal (2 subgoals):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>bdd_below (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> t' \\<le> y\\<rbrakk>\n    \\<Longrightarrow> False", "have i: \"Inf (existence_ivl t0 x0) \\<in> T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Inf (existence_ivl t0 x0) \\<in> T'", "using initial_time_bounds[OF iv_defined] iv_defined"], ["proof (prove)\nusing this:\n  bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n  t0 < Sup (existence_ivl t0 x0)\n  bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n  Inf (existence_ivl t0 x0) < t0\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. Inf (existence_ivl t0 x0) \\<in> T'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n             t0 < Sup (existence_ivl t0 x0);\n     bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n     Inf (existence_ivl t0 x0) < t0;\n     t0 \\<in> T; x0 \\<in> X\\<rbrakk>\n    \\<Longrightarrow> Inf (existence_ivl t0 x0) \\<in> T'", "by (rule mem_is_intervalI[of _ t' t0])\n        (auto simp: ivl t' bdd intro!: t'_lower cInf_greatest[OF existence_ivl_notempty[OF iv_defined]])"], ["proof (state)\nthis:\n  Inf (existence_ivl t0 x0) \\<in> T'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>bdd_below (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> t' \\<le> y\\<rbrakk>\n    \\<Longrightarrow> False", "have *: \"t \\<in> T'\" if \"t \\<le> t0\" \"t \\<in> existence_ivl t0 x0\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> T'", "by (rule mem_is_intervalI[OF \\<open>is_interval T'\\<close> i \\<open>t0 \\<in> T'\\<close>]) (auto intro!: cInf_lower that bdd)"], ["proof (state)\nthis:\n  \\<lbrakk>?t \\<le> t0; ?t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> ?t \\<in> T'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>bdd_below (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> t' \\<le> y\\<rbrakk>\n    \\<Longrightarrow> False", "from inf_existence_minimal[OF iv_defined mem_compact K bdd, OF *]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n              \\<Longrightarrow> t \\<le> t0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> Inf (existence_ivl t0 x0) \\<notin> T", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n              \\<Longrightarrow> t \\<le> t0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> Inf (existence_ivl t0 x0) \\<notin> T\n\ngoal (1 subgoal):\n 1. False", "using i ivl"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n              \\<Longrightarrow> t \\<le> t0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> t0; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> Inf (existence_ivl t0 x0) \\<notin> T\n  Inf (existence_ivl t0 x0) \\<in> T'\n  t0 \\<in> T'\n  is_interval T'\n  T' \\<subseteq> T\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False", "assume bdd: \"bdd_above (existence_ivl t0 x0)\""], ["proof (state)\nthis:\n  bdd_above (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False", "assume t'_upper: \"y \\<le> t'\" if \"y \\<in> existence_ivl t0 x0\" for y"], ["proof (state)\nthis:\n  ?y \\<in> existence_ivl t0 x0 \\<Longrightarrow> ?y \\<le> t'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False", "have s: \"Sup (existence_ivl t0 x0) \\<in> T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Sup (existence_ivl t0 x0) \\<in> T'", "using initial_time_bounds[OF iv_defined]"], ["proof (prove)\nusing this:\n  bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n  t0 < Sup (existence_ivl t0 x0)\n  bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n  Inf (existence_ivl t0 x0) < t0\n\ngoal (1 subgoal):\n 1. Sup (existence_ivl t0 x0) \\<in> T'", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n             t0 < Sup (existence_ivl t0 x0);\n     bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n     Inf (existence_ivl t0 x0) < t0\\<rbrakk>\n    \\<Longrightarrow> Sup (existence_ivl t0 x0) \\<in> T'", "apply (rule mem_is_intervalI[of _ t0 t'])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n             t0 < Sup (existence_ivl t0 x0);\n     bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n     Inf (existence_ivl t0 x0) < t0\\<rbrakk>\n    \\<Longrightarrow> is_interval T'\n 2. \\<lbrakk>bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n             t0 < Sup (existence_ivl t0 x0);\n     bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n     Inf (existence_ivl t0 x0) < t0\\<rbrakk>\n    \\<Longrightarrow> t0 \\<in> T'\n 3. \\<lbrakk>bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n             t0 < Sup (existence_ivl t0 x0);\n     bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n     Inf (existence_ivl t0 x0) < t0\\<rbrakk>\n    \\<Longrightarrow> t' \\<in> T'\n 4. \\<And>i.\n       \\<lbrakk>bdd_above (existence_ivl t0 x0) \\<Longrightarrow>\n                t0 < Sup (existence_ivl t0 x0);\n        bdd_below (existence_ivl t0 x0) \\<Longrightarrow>\n        Inf (existence_ivl t0 x0) < t0;\n        i \\<in> Basis\\<rbrakk>\n       \\<Longrightarrow> t0 \\<bullet> i\n                         \\<le> Sup (existence_ivl t0 x0) \\<bullet> i \\<and>\n                         Sup (existence_ivl t0 x0) \\<bullet> i\n                         \\<le> t' \\<bullet> i \\<or>\n                         t' \\<bullet> i\n                         \\<le> Sup (existence_ivl t0 x0) \\<bullet> i \\<and>\n                         Sup (existence_ivl t0 x0) \\<bullet> i\n                         \\<le> t0 \\<bullet> i", "by (auto simp: ivl t' bdd intro!: t'_upper cSup_least[OF existence_ivl_notempty[OF iv_defined]])"], ["proof (state)\nthis:\n  Sup (existence_ivl t0 x0) \\<in> T'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False", "have *: \"t \\<in> T'\" if \"t0 \\<le> t\" \"t \\<in> existence_ivl t0 x0\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> T'", "by (rule mem_is_intervalI[OF \\<open>is_interval T'\\<close> \\<open>t0 \\<in> T'\\<close> s]) (auto intro!: cSup_upper that bdd)"], ["proof (state)\nthis:\n  \\<lbrakk>t0 \\<le> ?t; ?t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> ?t \\<in> T'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above (existence_ivl t0 x0);\n     \\<And>y.\n        y \\<in> existence_ivl t0 x0 \\<Longrightarrow> y \\<le> t'\\<rbrakk>\n    \\<Longrightarrow> False", "from sup_existence_maximal[OF iv_defined mem_compact K bdd, OF *]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n              \\<Longrightarrow> t0 \\<le> t;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> Sup (existence_ivl t0 x0) \\<notin> T", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n              \\<Longrightarrow> t0 \\<le> t;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> Sup (existence_ivl t0 x0) \\<notin> T\n\ngoal (1 subgoal):\n 1. False", "using s ivl"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n              \\<Longrightarrow> t0 \\<le> t;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0;\n   \\<And>t.\n      \\<lbrakk>t0 \\<le> t; t \\<in> existence_ivl t0 x0\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> Sup (existence_ivl t0 x0) \\<notin> T\n  Sup (existence_ivl t0 x0) \\<in> T'\n  t0 \\<in> T'\n  is_interval T'\n  T' \\<subseteq> T\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  mem_compact_implies_subset_existence_interval:\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  assumes mem_compact: \"\\<And>t. t \\<in> T \\<Longrightarrow> t \\<in> existence_ivl t0 x0 \\<Longrightarrow> flow t0 x0 t \\<in> K\"\n  assumes K: \"compact K\" \"K \\<subseteq> X\"\n  shows \"T \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<subseteq> existence_ivl t0 x0", "by (rule subset_mem_compact_implies_subset_existence_interval; (fact | rule order_refl interval iv_defined))"], ["", "lemma\n  global_right_existence_ivl_explicit:\n  assumes \"b \\<ge> t0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  obtains d K where \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {t0 .. b} \\<Longrightarrow>\n      dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note iv_defined = mem_existence_ivl_iv_defined[OF b]"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define seg where \"seg \\<equiv> (\\<lambda>t. flow t0 x0 t) ` (closed_segment t0 b)\""], ["proof (state)\nthis:\n  seg \\<equiv> flow t0 x0 ` {t0--b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have [simp]: \"x0 \\<in> seg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> seg", "by (auto simp: seg_def intro!: image_eqI[where x=t0] simp: closed_segment_eq_real_ivl iv_defined)"], ["proof (state)\nthis:\n  x0 \\<in> seg\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"seg \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. seg \\<noteq> {}", "by (auto simp: seg_def closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  seg \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  seg \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"compact seg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact seg", "using iv_defined b"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n  b \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. compact seg", "by (auto simp: seg_def closed_segment_eq_real_ivl\n        intro!: compact_continuous_image continuous_at_imp_continuous_on flow_continuous;\n      metis (erased, hide_lams) atLeastAtMost_iff closed_segment_eq_real_ivl\n        closed_segment_subset_existence_ivl contra_subsetD order.trans)"], ["proof (state)\nthis:\n  compact seg\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  compact seg\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note open_domain(2)"], ["proof (state)\nthis:\n  open X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  open X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"seg \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. seg \\<subseteq> X", "using closed_segment_subset_existence_ivl b"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl t0 ?x0.0 \\<Longrightarrow>\n  {t0--?t} \\<subseteq> existence_ivl t0 ?x0.0\n  b \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. seg \\<subseteq> X", "by (auto simp: seg_def intro!: flow_in_domain iv_defined)"], ["proof (state)\nthis:\n  seg \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  seg \\<noteq> {}\n  compact seg\n  open X\n  seg \\<subseteq> X", "obtain e where e: \"0 < e\" \"{x. infdist x seg \\<le> e} \\<subseteq> X\""], ["proof (prove)\nusing this:\n  seg \\<noteq> {}\n  compact seg\n  open X\n  seg \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; {x. infdist x seg \\<le> e} \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thm compact_in_open_separated"], ["proof (prove)\nusing this:\n  seg \\<noteq> {}\n  compact seg\n  open X\n  seg \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; {x. infdist x seg \\<le> e} \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule compact_in_open_separated)"], ["proof (state)\nthis:\n  0 < e\n  {x. infdist x seg \\<le> e} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define A where \"A \\<equiv> {x. infdist x seg \\<le> e}\""], ["proof (state)\nthis:\n  A \\<equiv> {x. infdist x seg \\<le> e}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"A \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> X", "using e"], ["proof (prove)\nusing this:\n  0 < e\n  {x. infdist x seg \\<le> e} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. A \\<subseteq> X", "by (simp add: A_def)"], ["proof (state)\nthis:\n  A \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have mem_existence_ivlI: \"\\<And>s. t0 \\<le> s \\<Longrightarrow> s \\<le> b \\<Longrightarrow> s \\<in> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>t0 \\<le> s; s \\<le> b\\<rbrakk>\n       \\<Longrightarrow> s \\<in> existence_ivl t0 x0", "by (rule in_existence_between_zeroI[OF b]) (auto simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  \\<lbrakk>t0 \\<le> ?s; ?s \\<le> b\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"compact A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact A", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. compact {x. infdist x seg \\<le> e}", "by (rule compact_infdist_le) fact+"], ["proof (state)\nthis:\n  compact A\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"compact {t0 .. b}\" \"{t0 .. b} \\<subseteq> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact {t0..b} &&& {t0..b} \\<subseteq> T", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. compact {t0..b}", "by simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..b} \\<subseteq> T", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..b} \\<subseteq> T", "using mem_existence_ivlI mem_existence_ivl_subset[of _ x0] iv_defined b ivl_subset_existence_ivl"], ["proof (prove)\nusing this:\n  \\<lbrakk>t0 \\<le> ?s; ?s \\<le> b\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> existence_ivl t0 x0\n  ?t \\<in> existence_ivl t0 x0 \\<Longrightarrow> ?t \\<in> T\n  t0 \\<in> T\n  x0 \\<in> X\n  b \\<in> existence_ivl t0 x0\n  ?t \\<in> existence_ivl t0 ?x0.0 \\<Longrightarrow>\n  {t0..?t} \\<subseteq> existence_ivl t0 ?x0.0\n\ngoal (1 subgoal):\n 1. {t0..b} \\<subseteq> T", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  compact {t0..b}\n  {t0..b} \\<subseteq> T\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from lipschitz_on_compact[OF this \\<open>compact A\\<close> \\<open>A \\<subseteq> X\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>L.\n      (\\<And>t.\n          t \\<in> {t0..b} \\<Longrightarrow>\n          L-lipschitz_on A (f t)) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain K' where K': \"\\<And>t. t \\<in> {t0 .. b} \\<Longrightarrow> K'-lipschitz_on A (f t)\""], ["proof (prove)\nusing this:\n  (\\<And>L.\n      (\\<And>t.\n          t \\<in> {t0..b} \\<Longrightarrow>\n          L-lipschitz_on A (f t)) \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>K'.\n        (\\<And>t.\n            t \\<in> {t0..b} \\<Longrightarrow>\n            K'-lipschitz_on A (f t)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  ?t \\<in> {t0..b} \\<Longrightarrow> K'-lipschitz_on A (f ?t)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define K where \"K \\<equiv> K' + 1\""], ["proof (state)\nthis:\n  K \\<equiv> K' + 1\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"0 < K\" \"0 \\<le> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < K &&& 0 \\<le> K", "using assms lipschitz_on_nonneg[OF K', of t0]"], ["proof (prove)\nusing this:\n  t0 \\<le> b\n  b \\<in> existence_ivl t0 x0\n  t0 \\<in> {t0..b} \\<Longrightarrow> 0 \\<le> K'\n\ngoal (1 subgoal):\n 1. 0 < K &&& 0 \\<le> K", "by (auto simp: K_def)"], ["proof (state)\nthis:\n  0 < K\n  0 \\<le> K\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have K: \"\\<And>t. t \\<in> {t0 .. b} \\<Longrightarrow> K-lipschitz_on A (f t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> {t0..b} \\<Longrightarrow> K-lipschitz_on A (f t)", "unfolding K_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> {t0..b} \\<Longrightarrow> (K' + 1)-lipschitz_on A (f t)", "using \\<open>_ \\<Longrightarrow> lipschitz_on K' A _\\<close>"], ["proof (prove)\nusing this:\n  ?t \\<in> {t0..b} \\<Longrightarrow> K'-lipschitz_on A (f ?t)\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> {t0..b} \\<Longrightarrow> (K' + 1)-lipschitz_on A (f t)", "by (rule lipschitz_on_mono) auto"], ["proof (state)\nthis:\n  ?t \\<in> {t0..b} \\<Longrightarrow> K-lipschitz_on A (f ?t)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have [simp]: \"x0 \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> A", "using \\<open>0 < e\\<close>"], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. x0 \\<in> A", "by (auto simp: A_def)"], ["proof (state)\nthis:\n  x0 \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define d where \"d \\<equiv> min e (e * exp (-K * (b - t0)))\""], ["proof (state)\nthis:\n  d \\<equiv> min e (e * exp (- K * (b - t0)))\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence d: \"0 < d\" \"d \\<le> e\" \"d \\<le> e * exp (-K * (b - t0))\""], ["proof (prove)\nusing this:\n  d \\<equiv> min e (e * exp (- K * (b - t0)))\n\ngoal (1 subgoal):\n 1. 0 < d &&& d \\<le> e &&& d \\<le> e * exp (- K * (b - t0))", "using e"], ["proof (prove)\nusing this:\n  d \\<equiv> min e (e * exp (- K * (b - t0)))\n  0 < e\n  {x. infdist x seg \\<le> e} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. 0 < d &&& d \\<le> e &&& d \\<le> e * exp (- K * (b - t0))", "by auto"], ["proof (state)\nthis:\n  0 < d\n  d \\<le> e\n  d \\<le> e * exp (- K * (b - t0))\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have d_times_exp_le: \"d * exp (K * (t - t0)) \\<le> e\" if \"t0 \\<le> t\" \"t \\<le> b\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "from that"], ["proof (chain)\npicking this:\n  t0 \\<le> t\n  t \\<le> b", "have \"d * exp (K * (t - t0)) \\<le> d * exp (K * (b - t0))\""], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  t \\<le> b\n\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> d * exp (K * (b - t0))", "using \\<open>0 \\<le> K\\<close> \\<open>0 < d\\<close>"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  t \\<le> b\n  0 \\<le> K\n  0 < d\n\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> d * exp (K * (b - t0))", "by (auto intro!: mult_left_mono)"], ["proof (state)\nthis:\n  d * exp (K * (t - t0)) \\<le> d * exp (K * (b - t0))\n\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "also"], ["proof (state)\nthis:\n  d * exp (K * (t - t0)) \\<le> d * exp (K * (b - t0))\n\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "have \"d * exp (K * (b - t0)) \\<le> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * exp (K * (b - t0)) \\<le> e", "using d"], ["proof (prove)\nusing this:\n  0 < d\n  d \\<le> e\n  d \\<le> e * exp (- K * (b - t0))\n\ngoal (1 subgoal):\n 1. d * exp (K * (b - t0)) \\<le> e", "by (auto simp: exp_minus divide_simps)"], ["proof (state)\nthis:\n  d * exp (K * (b - t0)) \\<le> e\n\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "finally"], ["proof (chain)\npicking this:\n  d * exp (K * (t - t0)) \\<le> e", "show ?thesis"], ["proof (prove)\nusing this:\n  d * exp (K * (t - t0)) \\<le> e\n\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "."], ["proof (state)\nthis:\n  d * exp (K * (t - t0)) \\<le> e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>t0 \\<le> ?t; ?t \\<le> b\\<rbrakk>\n  \\<Longrightarrow> d * exp (K * (?t - t0)) \\<le> e\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"ball x0 d \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x0 d \\<subseteq> X", "using d \\<open>A \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n  d \\<le> e\n  d \\<le> e * exp (- K * (b - t0))\n  A \\<subseteq> X\n\ngoal (1 subgoal):\n 1. ball x0 d \\<subseteq> X", "by (auto simp: A_def dist_commute intro!: infdist_le2[where a=x0])"], ["proof (state)\nthis:\n  ball x0 d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note iv_defined"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume y: \"y \\<in> ball x0 d\""], ["proof (state)\nthis:\n  y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"y \\<in> A\""], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. y \\<in> A", "using d"], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n  0 < d\n  d \\<le> e\n  d \\<le> e * exp (- K * (b - t0))\n\ngoal (1 subgoal):\n 1. y \\<in> A", "by (auto simp: A_def dist_commute intro!: infdist_le2[where a=x0])"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"y \\<in> X\""], ["proof (prove)\nusing this:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. y \\<in> X", "using \\<open>A \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> A\n  A \\<subseteq> X\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note y_iv = \\<open>t0 \\<in> T\\<close> \\<open>y \\<in> X\\<close>"], ["proof (state)\nthis:\n  t0 \\<in> T\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have in_A: \"flow t0 y t \\<in> A\" if t: \"t0 \\<le> t\" \"t \\<in> existence_ivl t0 y\" \"t \\<le> b\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 y t \\<in> A", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "assume flow_out: \"flow t0 y t \\<notin> A\""], ["proof (state)\nthis:\n  flow t0 y t \\<notin> A\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "obtain t' where t':\n        \"t0 \\<le> t'\"\n        \"t' \\<le> t\"\n        \"\\<And>t. t \\<in> {t0 .. t'} \\<Longrightarrow> flow t0 x0 t \\<in> A\"\n        \"infdist (flow t0 y t') seg \\<ge> e\"\n        \"\\<And>t. t \\<in> {t0 .. t'} \\<Longrightarrow> flow t0 y t \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?out = \"((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..}) \\<inter> {t0..t}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"compact ?out\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "unfolding compact_eq_bounded_closed"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n      {t0..t}) \\<and>\n    closed\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. bounded\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n 2. closed\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "show \"bounded ?out\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "by (auto intro!: bounded_closed_interval)"], ["proof (state)\nthis:\n  bounded\n   ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n\ngoal (1 subgoal):\n 1. closed\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "have \"continuous_on {t0 .. t} ((\\<lambda>t. infdist (flow t0 y t) seg))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {t0..t} (\\<lambda>t. infdist (flow t0 y t) seg)", "using closed_segment_subset_existence_ivl t iv_defined"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl t0 ?x0.0 \\<Longrightarrow>\n  {t0--?t} \\<subseteq> existence_ivl t0 ?x0.0\n  t0 \\<le> t\n  t \\<in> existence_ivl t0 y\n  t \\<le> b\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. continuous_on {t0..t} (\\<lambda>t. infdist (flow t0 y t) seg)", "by (force intro!: continuous_at_imp_continuous_on\n              continuous_intros flow_continuous\n              simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  continuous_on {t0..t} (\\<lambda>t. infdist (flow t0 y t) seg)\n\ngoal (1 subgoal):\n 1. closed\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "thus \"closed ?out\""], ["proof (prove)\nusing this:\n  continuous_on {t0..t} (\\<lambda>t. infdist (flow t0 y t) seg)\n\ngoal (1 subgoal):\n 1. closed\n     ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})", "by (simp add: continuous_on_closed_vimage)"], ["proof (state)\nthis:\n  closed ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  compact\n   ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  compact\n   ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"t \\<in> (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n            {t0..t}", "using flow_out \\<open>t0 \\<le> t\\<close>"], ["proof (prove)\nusing this:\n  flow t0 y t \\<notin> A\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. t \\<in> (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n            {t0..t}", "by (auto simp: A_def)"], ["proof (state)\nthis:\n  t \\<in> (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t}\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"?out \\<noteq> {}\""], ["proof (prove)\nusing this:\n  t \\<in> (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t}\n\ngoal (1 subgoal):\n 1. (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n    {t0..t} \\<noteq>\n    {}", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t} \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  compact\n   ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n  (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t} \\<noteq>\n  {}", "have \"\\<exists>s\\<in>?out. \\<forall>t\\<in>?out. s \\<le> t\""], ["proof (prove)\nusing this:\n  compact\n   ((\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t})\n  (\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter> {t0..t} \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n                   {t0..t}.\n       \\<forall>t\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -`\n                      {e..} \\<inter>\n                      {t0..t}.\n          s \\<le> t", "by (rule compact_attains_inf)"], ["proof (state)\nthis:\n  \\<exists>s\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n                 {t0..t}.\n     \\<forall>t\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -`\n                    {e..} \\<inter>\n                    {t0..t}.\n        s \\<le> t\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<exists>s\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n                 {t0..t}.\n     \\<forall>t\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -`\n                    {e..} \\<inter>\n                    {t0..t}.\n        s \\<le> t", "obtain t' where t':\n          \"\\<And>s. e \\<le> infdist (flow t0 y s) seg \\<Longrightarrow> t0 \\<le> s \\<Longrightarrow> s \\<le> t \\<Longrightarrow> t' \\<le> s\"\n          \"e \\<le> infdist (flow t0 y t') seg\"\n          \"t0 \\<le> t'\" \"t' \\<le> t\""], ["proof (prove)\nusing this:\n  \\<exists>s\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -` {e..} \\<inter>\n                 {t0..t}.\n     \\<forall>t\\<in>(\\<lambda>t. infdist (flow t0 y t) seg) -`\n                    {e..} \\<inter>\n                    {t0..t}.\n        s \\<le> t\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>\\<And>s.\n                    \\<lbrakk>e \\<le> infdist (flow t0 y s) seg; t0 \\<le> s;\n                     s \\<le> t\\<rbrakk>\n                    \\<Longrightarrow> t' \\<le> s;\n         e \\<le> infdist (flow t0 y t') seg; t0 \\<le> t';\n         t' \\<le> t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: vimage_def Ball_def) metis"], ["proof (state)\nthis:\n  \\<lbrakk>e \\<le> infdist (flow t0 y ?s) seg; t0 \\<le> ?s;\n   ?s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> ?s\n  e \\<le> infdist (flow t0 y t') seg\n  t0 \\<le> t'\n  t' \\<le> t\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have flow_in: \"flow t0 x0 s \\<in> A\" if s: \"s \\<in> {t0 .. t'}\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> A", "from s"], ["proof (chain)\npicking this:\n  s \\<in> {t0..t'}", "have \"s \\<in> closed_segment t0 b\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..t'}\n\ngoal (1 subgoal):\n 1. s \\<in> {t0--b}", "using \\<open>t \\<le> b\\<close> t'"], ["proof (prove)\nusing this:\n  s \\<in> {t0..t'}\n  t \\<le> b\n  \\<lbrakk>e \\<le> infdist (flow t0 y ?s) seg; t0 \\<le> ?s;\n   ?s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> ?s\n  e \\<le> infdist (flow t0 y t') seg\n  t0 \\<le> t'\n  t' \\<le> t\n\ngoal (1 subgoal):\n 1. s \\<in> {t0--b}", "by (auto simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  s \\<in> {t0--b}\n\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> A", "then"], ["proof (chain)\npicking this:\n  s \\<in> {t0--b}", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<in> {t0--b}\n\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> A", "using s \\<open>e > 0\\<close>"], ["proof (prove)\nusing this:\n  s \\<in> {t0--b}\n  s \\<in> {t0..t'}\n  0 < e\n\ngoal (1 subgoal):\n 1. flow t0 x0 s \\<in> A", "by (auto simp: seg_def A_def)"], ["proof (state)\nthis:\n  flow t0 x0 s \\<in> A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?s \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?s \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"flow t0 y t' \\<in> A\" if \"t' = t0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 y t' \\<in> A", "using y d iv_defined that"], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n  0 < d\n  d \\<le> e\n  d \\<le> e * exp (- K * (b - t0))\n  t0 \\<in> T\n  x0 \\<in> X\n  t' = t0\n\ngoal (1 subgoal):\n 1. flow t0 y t' \\<in> A", "by (auto simp:  A_def \\<open>y \\<in> X\\<close> infdist_le2[where a=x0] dist_commute)"], ["proof (state)\nthis:\n  t' = t0 \\<Longrightarrow> flow t0 y t' \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  t' = t0 \\<Longrightarrow> flow t0 y t' \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"flow t0 y s \\<in> A\" if s: \"s \\<in> {t0 ..< t'}\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> A", "from s"], ["proof (chain)\npicking this:\n  s \\<in> {t0..<t'}", "have \"s \\<in> closed_segment t0 b\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..<t'}\n\ngoal (1 subgoal):\n 1. s \\<in> {t0--b}", "using \\<open>t \\<le> b\\<close> t'"], ["proof (prove)\nusing this:\n  s \\<in> {t0..<t'}\n  t \\<le> b\n  \\<lbrakk>e \\<le> infdist (flow t0 y ?s) seg; t0 \\<le> ?s;\n   ?s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> ?s\n  e \\<le> infdist (flow t0 y t') seg\n  t0 \\<le> t'\n  t' \\<le> t\n\ngoal (1 subgoal):\n 1. s \\<in> {t0--b}", "by (auto simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  s \\<in> {t0--b}\n\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> A", "from t'(1)[of s]"], ["proof (chain)\npicking this:\n  \\<lbrakk>e \\<le> infdist (flow t0 y s) seg; t0 \\<le> s; s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> s", "have \"t' > s \\<Longrightarrow> t0 \\<le> s \\<Longrightarrow> s \\<le> t \\<Longrightarrow> e > infdist (flow t0 y s) seg\""], ["proof (prove)\nusing this:\n  \\<lbrakk>e \\<le> infdist (flow t0 y s) seg; t0 \\<le> s; s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>s < t'; t0 \\<le> s; s \\<le> t\\<rbrakk>\n    \\<Longrightarrow> infdist (flow t0 y s) seg < e", "by force"], ["proof (state)\nthis:\n  \\<lbrakk>s < t'; t0 \\<le> s; s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> infdist (flow t0 y s) seg < e\n\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> A", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>s < t'; t0 \\<le> s; s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> infdist (flow t0 y s) seg < e", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>s < t'; t0 \\<le> s; s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> infdist (flow t0 y s) seg < e\n\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> A", "using s t' \\<open>e > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>s < t'; t0 \\<le> s; s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> infdist (flow t0 y s) seg < e\n  s \\<in> {t0..<t'}\n  \\<lbrakk>e \\<le> infdist (flow t0 y ?s) seg; t0 \\<le> ?s;\n   ?s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> ?s\n  e \\<le> infdist (flow t0 y t') seg\n  t0 \\<le> t'\n  t' \\<le> t\n  0 < e\n\ngoal (1 subgoal):\n 1. flow t0 y s \\<in> A", "by (auto simp: seg_def A_def)"], ["proof (state)\nthis:\n  flow t0 y s \\<in> A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?s \\<in> {t0..<t'} \\<Longrightarrow> flow t0 y ?s \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ?s \\<in> {t0..<t'} \\<Longrightarrow> flow t0 y ?s \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note left_of_in = this"], ["proof (state)\nthis:\n  ?s \\<in> {t0..<t'} \\<Longrightarrow> flow t0 y ?s \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"closed A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed A", "using \\<open>compact A\\<close>"], ["proof (prove)\nusing this:\n  compact A\n\ngoal (1 subgoal):\n 1. closed A", "by (auto simp: compact_eq_bounded_closed)"], ["proof (state)\nthis:\n  closed A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"((\\<lambda>s. flow t0 y s) \\<longlongrightarrow> flow t0 y t') (at_left t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow t0 y \\<longlongrightarrow> flow t0 y t') (at_left t')", "using closed_segment_subset_existence_ivl[OF t(2)] t' \\<open>y \\<in> X\\<close> iv_defined"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> existence_ivl t0 y\n  \\<lbrakk>e \\<le> infdist (flow t0 y ?s) seg; t0 \\<le> ?s;\n   ?s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> ?s\n  e \\<le> infdist (flow t0 y t') seg\n  t0 \\<le> t'\n  t' \\<le> t\n  y \\<in> X\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (flow t0 y \\<longlongrightarrow> flow t0 y t') (at_left t')", "by (intro flow_tendsto) (auto intro!: tendsto_intros simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  (flow t0 y \\<longlongrightarrow> flow t0 y t') (at_left t')\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with \\<open>closed A\\<close> _ _"], ["proof (chain)\npicking this:\n  closed A\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  (flow t0 y \\<longlongrightarrow> flow t0 y t') (at_left t')", "have \"t' \\<noteq> t0 \\<Longrightarrow> flow t0 y t' \\<in> A\""], ["proof (prove)\nusing this:\n  closed A\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  (flow t0 y \\<longlongrightarrow> flow t0 y t') (at_left t')\n\ngoal (1 subgoal):\n 1. t' \\<noteq> t0 \\<Longrightarrow> flow t0 y t' \\<in> A", "proof (rule Lim_in_closed_set)"], ["proof (state)\ngoal (2 subgoals):\n 1. t' \\<noteq> t0 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in at_left t'. flow t0 y x \\<in> A\n 2. t' \\<noteq> t0 \\<Longrightarrow> at_left t' \\<noteq> bot", "assume \"t' \\<noteq> t0\""], ["proof (state)\nthis:\n  t' \\<noteq> t0\n\ngoal (2 subgoals):\n 1. t' \\<noteq> t0 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in at_left t'. flow t0 y x \\<in> A\n 2. t' \\<noteq> t0 \\<Longrightarrow> at_left t' \\<noteq> bot", "hence \"t' > t0\""], ["proof (prove)\nusing this:\n  t' \\<noteq> t0\n\ngoal (1 subgoal):\n 1. t0 < t'", "using t'"], ["proof (prove)\nusing this:\n  t' \\<noteq> t0\n  \\<lbrakk>e \\<le> infdist (flow t0 y ?s) seg; t0 \\<le> ?s;\n   ?s \\<le> t\\<rbrakk>\n  \\<Longrightarrow> t' \\<le> ?s\n  e \\<le> infdist (flow t0 y t') seg\n  t0 \\<le> t'\n  t' \\<le> t\n\ngoal (1 subgoal):\n 1. t0 < t'", "by auto"], ["proof (state)\nthis:\n  t0 < t'\n\ngoal (2 subgoals):\n 1. t' \\<noteq> t0 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in at_left t'. flow t0 y x \\<in> A\n 2. t' \\<noteq> t0 \\<Longrightarrow> at_left t' \\<noteq> bot", "hence \"eventually (\\<lambda>x. x \\<ge> t0) (at_left t')\""], ["proof (prove)\nusing this:\n  t0 < t'\n\ngoal (1 subgoal):\n 1. eventually ((\\<le>) t0) (at_left t')", "by (metis eventually_at_left less_imp_le)"], ["proof (state)\nthis:\n  eventually ((\\<le>) t0) (at_left t')\n\ngoal (2 subgoals):\n 1. t' \\<noteq> t0 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in at_left t'. flow t0 y x \\<in> A\n 2. t' \\<noteq> t0 \\<Longrightarrow> at_left t' \\<noteq> bot", "thus \"eventually (\\<lambda>x. flow t0 y x \\<in> A) (at_left t')\""], ["proof (prove)\nusing this:\n  eventually ((\\<le>) t0) (at_left t')\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at_left t'. flow t0 y x \\<in> A", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds t'.\n     x \\<noteq> t' \\<longrightarrow>\n     x \\<in> {..<t'} \\<longrightarrow> t0 \\<le> x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds t'.\n       x \\<noteq> t' \\<longrightarrow>\n       x \\<in> {..<t'} \\<longrightarrow> flow t0 y x \\<in> A", "by eventually_elim (auto intro!: left_of_in)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at_left t'. flow t0 y x \\<in> A\n\ngoal (1 subgoal):\n 1. t' \\<noteq> t0 \\<Longrightarrow> at_left t' \\<noteq> bot", "qed simp"], ["proof (state)\nthis:\n  t' \\<noteq> t0 \\<Longrightarrow> flow t0 y t' \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  t' = t0 \\<Longrightarrow> flow t0 y t' \\<in> A\n  ?s \\<in> {t0..<t'} \\<Longrightarrow> flow t0 y ?s \\<in> A\n  t' \\<noteq> t0 \\<Longrightarrow> flow t0 y t' \\<in> A", "have flow_y_in: \"s \\<in> {t0 .. t'} \\<Longrightarrow> flow t0 y s \\<in> A\" for s"], ["proof (prove)\nusing this:\n  t' = t0 \\<Longrightarrow> flow t0 y t' \\<in> A\n  ?s \\<in> {t0..<t'} \\<Longrightarrow> flow t0 y ?s \\<in> A\n  t' \\<noteq> t0 \\<Longrightarrow> flow t0 y t' \\<in> A\n\ngoal (1 subgoal):\n 1. s \\<in> {t0..t'} \\<Longrightarrow> flow t0 y s \\<in> A", "by (cases \"s = t'\"; fastforce)"], ["proof (state)\nthis:\n  ?s \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?s \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have\n          \"t0 \\<le> t'\"\n          \"t' \\<le> t\"\n          \"\\<And>t. t \\<in> {t0 .. t'} \\<Longrightarrow> flow t0 x0 t \\<in> A\"\n          \"infdist (flow t0 y t') seg \\<ge> e\"\n          \"\\<And>t. t \\<in> {t0 .. t'} \\<Longrightarrow> flow t0 y t \\<in> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t0 \\<le> t' &&& t' \\<le> t) &&&\n    (\\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A) &&&\n    e \\<le> infdist (flow t0 y t') seg &&&\n    (\\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A)", "by (auto intro!: flow_in flow_y_in) fact+"], ["proof (state)\nthis:\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>t'.\n        \\<lbrakk>t0 \\<le> t'; t' \\<le> t;\n         \\<And>t. t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 t \\<in> A;\n         e \\<le> infdist (flow t0 y t') seg;\n         \\<And>t.\n            t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y t \\<in> A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "assume s: \"s \\<in> {t0 .. t'}\""], ["proof (state)\nthis:\n  s \\<in> {t0..t'}\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "hence \"t0 \\<le> s\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..t'}\n\ngoal (1 subgoal):\n 1. t0 \\<le> s", "by simp"], ["proof (state)\nthis:\n  t0 \\<le> s\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"s \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<le> b", "using t t' s b"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  t \\<in> existence_ivl t0 y\n  t \\<le> b\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n  s \\<in> {t0..t'}\n  b \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. s \\<le> b", "by auto"], ["proof (state)\nthis:\n  s \\<le> b\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "hence sx0: \"s \\<in> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  s \\<le> b\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 x0", "by (simp add: \\<open>t0 \\<le> s\\<close> mem_existence_ivlI)"], ["proof (state)\nthis:\n  s \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have sy: \"s \\<in> existence_ivl t0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 y", "by (meson atLeastAtMost_iff contra_subsetD s t'(1) t'(2) that(2) ivl_subset_existence_ivl)"], ["proof (state)\nthis:\n  s \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have int: \"flow t0 y s - flow t0 x0 s =\n            y - x0 + (integral {t0 .. s} (\\<lambda>t. f t (flow t0 y t)) -\n              integral {t0 .. s} (\\<lambda>t. f t (flow t0 x0 t)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 y s - flow t0 x0 s =\n    y - x0 +\n    (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n     integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))", "using iv_defined s"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n  s \\<in> {t0..t'}\n\ngoal (1 subgoal):\n 1. flow t0 y s - flow t0 x0 s =\n    y - x0 +\n    (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n     integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))", "unfolding flow_fixed_point[OF sx0] flow_fixed_point[OF sy]"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n  s \\<in> {t0..t'}\n\ngoal (1 subgoal):\n 1. y + ivl_integral t0 s (\\<lambda>t. f t (flow t0 y t)) -\n    (x0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 x0 t))) =\n    y - x0 +\n    (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n     integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))", "by (simp add: algebra_simps ivl_integral_def)"], ["proof (state)\nthis:\n  flow t0 y s - flow t0 x0 s =\n  y - x0 +\n  (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n   integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"norm (flow t0 y s - flow t0 x0 s) \\<le> norm (y - x0) +\n          norm (integral {t0 .. s} (\\<lambda>t. f t (flow t0 y t)) -\n            integral {t0 .. s} (\\<lambda>t. f t (flow t0 x0 t)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 y s - flow t0 x0 s)\n    \\<le> norm (y - x0) +\n          norm\n           (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n            integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))", "unfolding int"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (y - x0 +\n      (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n       integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t))))\n    \\<le> norm (y - x0) +\n          norm\n           (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n            integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))", "by (rule norm_triangle_ineq)"], ["proof (state)\nthis:\n  norm (flow t0 y s - flow t0 x0 s)\n  \\<le> norm (y - x0) +\n        norm\n         (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n          integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  norm (flow t0 y s - flow t0 x0 s)\n  \\<le> norm (y - x0) +\n        norm\n         (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n          integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"norm (integral {t0 .. s} (\\<lambda>t. f t (flow t0 y t)) -\n            integral {t0 .. s} (\\<lambda>t. f t (flow t0 x0 t))) =\n          norm (integral {t0 .. s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n      integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t))) =\n    norm\n     (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))", "using closed_segment_subset_existence_ivl[of s x0] sx0 closed_segment_subset_existence_ivl[of s y] sy"], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 y \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 y\n  s \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. norm\n     (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n      integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t))) =\n    norm\n     (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))", "by (subst Henstock_Kurzweil_Integration.integral_diff)\n            (auto intro!: integrable_continuous_real continuous_at_imp_continuous_on\n              f_flow_continuous\n              simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  norm\n   (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n    integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t))) =\n  norm\n   (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  norm\n   (integral {t0..s} (\\<lambda>t. f t (flow t0 y t)) -\n    integral {t0..s} (\\<lambda>t. f t (flow t0 x0 t))) =\n  norm\n   (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> \\<le> (integral {t0 .. s} (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\n    \\<le> integral {t0..s}\n           (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))", "using closed_segment_subset_existence_ivl[of s x0] sx0 closed_segment_subset_existence_ivl[of s y] sy"], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 y \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 y\n  s \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. norm\n     (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\n    \\<le> integral {t0..s}\n           (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))", "by (intro integral_norm_bound_integral)\n            (auto intro!: integrable_continuous_real continuous_at_imp_continuous_on\n            f_flow_continuous continuous_intros\n              simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  norm\n   (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\n  \\<le> integral {t0..s}\n         (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  norm\n   (integral {t0..s} (\\<lambda>t. f t (flow t0 y t) - f t (flow t0 x0 t)))\n  \\<le> integral {t0..s}\n         (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> \\<le> (integral {t0 .. s} (\\<lambda>t. K * norm ((flow t0 y t) - (flow t0 x0 t))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {t0..s}\n     (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))\n    \\<le> integral {t0..s}\n           (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t))", "using closed_segment_subset_existence_ivl[of s x0] sx0 closed_segment_subset_existence_ivl[of s y] sy\n            iv_defined s t'(3,5) \\<open>s \\<le> b\\<close>"], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 y \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 y\n  s \\<in> existence_ivl t0 y\n  t0 \\<in> T\n  x0 \\<in> X\n  s \\<in> {t0..t'}\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n  s \\<le> b\n\ngoal (1 subgoal):\n 1. integral {t0..s}\n     (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))\n    \\<le> integral {t0..s}\n           (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t))", "by (auto simp del: Henstock_Kurzweil_Integration.integral_mult_right intro!: integral_le integrable_continuous_real\n            continuous_at_imp_continuous_on lipschitz_on_normD[OF K]\n            flow_continuous f_flow_continuous continuous_intros\n            simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  integral {t0..s}\n   (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))\n  \\<le> integral {t0..s} (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  integral {t0..s}\n   (\\<lambda>t. norm (f t (flow t0 y t) - f t (flow t0 x0 t)))\n  \\<le> integral {t0..s} (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> = K * integral {t0 .. s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {t0..s} (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t)) =\n    K * integral {t0..s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))", "using closed_segment_subset_existence_ivl[of s x0] sx0 closed_segment_subset_existence_ivl[of s y] sy"], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 y \\<Longrightarrow>\n  {t0--s} \\<subseteq> existence_ivl t0 y\n  s \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. integral {t0..s} (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t)) =\n    K * integral {t0..s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))", "by (subst integral_mult)\n             (auto intro!: integrable_continuous_real continuous_at_imp_continuous_on\n               lipschitz_on_normD[OF K] flow_continuous f_flow_continuous continuous_intros\n               simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  integral {t0..s} (\\<lambda>t. K * norm (flow t0 y t - flow t0 x0 t)) =\n  K * integral {t0..s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x ya.\n              x \\<le> ya \\<Longrightarrow>\n              norm (y - x0) + x \\<le> norm (y - x0) + ya;\n   \\<And>x ya.\n      x \\<le> ya \\<Longrightarrow>\n      norm (y - x0) + x \\<le> norm (y - x0) + ya\\<rbrakk>\n  \\<Longrightarrow> norm (flow t0 y s - flow t0 x0 s)\n                    \\<le> norm (y - x0) +\n                          K *\n                          integral {t0..s}\n                           (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))", "have norm: \"norm (flow t0 y s - flow t0 x0 s) \\<le>\n          norm (y - x0) + K * integral {t0 .. s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x ya.\n              x \\<le> ya \\<Longrightarrow>\n              norm (y - x0) + x \\<le> norm (y - x0) + ya;\n   \\<And>x ya.\n      x \\<le> ya \\<Longrightarrow>\n      norm (y - x0) + x \\<le> norm (y - x0) + ya\\<rbrakk>\n  \\<Longrightarrow> norm (flow t0 y s - flow t0 x0 s)\n                    \\<le> norm (y - x0) +\n                          K *\n                          integral {t0..s}\n                           (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. norm (flow t0 y s - flow t0 x0 s)\n    \\<le> norm (y - x0) +\n          K *\n          integral {t0..s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))", "by arith"], ["proof (state)\nthis:\n  norm (flow t0 y s - flow t0 x0 s)\n  \\<le> norm (y - x0) +\n        K * integral {t0..s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "note norm \\<open>s \\<le> b\\<close> sx0 sy"], ["proof (state)\nthis:\n  norm (flow t0 y s - flow t0 x0 s)\n  \\<le> norm (y - x0) +\n        K * integral {t0..s} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\n  s \\<le> b\n  s \\<in> existence_ivl t0 x0\n  s \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow>\n  norm (flow t0 y ?s2 - flow t0 x0 ?s2)\n  \\<le> norm (y - x0) +\n        K *\n        integral {t0..?s2} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<le> b\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<in> existence_ivl t0 x0\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "note norm_le = this"], ["proof (state)\nthis:\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow>\n  norm (flow t0 y ?s2 - flow t0 x0 ?s2)\n  \\<le> norm (y - x0) +\n        K *\n        integral {t0..?s2} (\\<lambda>t. norm (flow t0 y t - flow t0 x0 t))\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<le> b\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<in> existence_ivl t0 x0\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "from norm_le(2) t'"], ["proof (chain)\npicking this:\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<le> b\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A", "have \"t' \\<in> closed_segment t0 b\""], ["proof (prove)\nusing this:\n  ?s2 \\<in> {t0..t'} \\<Longrightarrow> ?s2 \\<le> b\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n\ngoal (1 subgoal):\n 1. t' \\<in> {t0--b}", "by (auto simp: closed_segment_eq_real_ivl)"], ["proof (state)\nthis:\n  t' \\<in> {t0--b}\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "hence \"infdist (flow t0 y t') seg \\<le> dist (flow t0 y t') (flow t0 x0 t')\""], ["proof (prove)\nusing this:\n  t' \\<in> {t0--b}\n\ngoal (1 subgoal):\n 1. infdist (flow t0 y t') seg \\<le> dist (flow t0 y t') (flow t0 x0 t')", "by (auto simp: seg_def infdist_le)"], ["proof (state)\nthis:\n  infdist (flow t0 y t') seg \\<le> dist (flow t0 y t') (flow t0 x0 t')\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  infdist (flow t0 y t') seg \\<le> dist (flow t0 y t') (flow t0 x0 t')\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> \\<le> norm (flow t0 y t' - flow t0 x0 t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow t0 y t') (flow t0 x0 t')\n    \\<le> norm (flow t0 y t' - flow t0 x0 t')", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  dist (flow t0 y t') (flow t0 x0 t')\n  \\<le> norm (flow t0 y t' - flow t0 x0 t')\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  dist (flow t0 y t') (flow t0 x0 t')\n  \\<le> norm (flow t0 y t' - flow t0 x0 t')\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> \\<le> norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 y t' - flow t0 x0 t')\n    \\<le> norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>)", "unfolding K_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 y t' - flow t0 x0 t')\n    \\<le> norm (y - x0) * exp ((K' + 1) * \\<bar>t' - t0\\<bar>)", "apply (rule exponential_initial_condition[OF _ _ _ _ _ K'])"], ["proof (prove)\ngoal (6 subgoals):\n 1. t' \\<in> existence_ivl t0 y\n 2. t' \\<in> existence_ivl t0 x0\n 3. A \\<subseteq> X\n 4. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 y s \\<in> A\n 5. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 x0 s \\<in> A\n 6. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> s \\<in> {t0..b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t' \\<in> existence_ivl t0 y", "by (metis atLeastAtMost_iff local.norm_le(4) order_refl t'(1))"], ["proof (prove)\ngoal (5 subgoals):\n 1. t' \\<in> existence_ivl t0 x0\n 2. A \\<subseteq> X\n 3. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 y s \\<in> A\n 4. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 x0 s \\<in> A\n 5. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> s \\<in> {t0..b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t' \\<in> existence_ivl t0 x0", "by (metis atLeastAtMost_iff local.norm_le(3) order_refl t'(1))"], ["proof (prove)\ngoal (4 subgoals):\n 1. A \\<subseteq> X\n 2. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 y s \\<in> A\n 3. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 x0 s \\<in> A\n 4. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> s \\<in> {t0..b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<subseteq> X", "using e"], ["proof (prove)\nusing this:\n  0 < e\n  {x. infdist x seg \\<le> e} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. A \\<subseteq> X", "by (simp add: A_def)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 y s \\<in> A\n 2. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 x0 s \\<in> A\n 3. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> s \\<in> {t0..b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. s_ \\<in> {t0--t'} \\<Longrightarrow> flow t0 y s_ \\<in> A", "by (metis closed_segment_eq_real_ivl t'(1,5))"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> flow t0 x0 s \\<in> A\n 2. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> s \\<in> {t0..b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. s_ \\<in> {t0--t'} \\<Longrightarrow> flow t0 x0 s_ \\<in> A", "by (metis closed_segment_eq_real_ivl t'(1,3))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> {t0--t'} \\<Longrightarrow> s \\<in> {t0..b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. s_ \\<in> {t0--t'} \\<Longrightarrow> s_ \\<in> {t0..b}", "by (simp add: closed_segment_eq_real_ivl local.norm_le(2) t'(1))"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  norm (flow t0 y t' - flow t0 x0 t')\n  \\<le> norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  norm (flow t0 y t' - flow t0 x0 t')\n  \\<le> norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> < d * exp (K * (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>) < d * exp (K * (t - t0))", "using y d t' t"], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n  0 < d\n  d \\<le> e\n  d \\<le> e * exp (- K * (b - t0))\n  t0 \\<le> t'\n  t' \\<le> t\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 x0 ?t \\<in> A\n  e \\<le> infdist (flow t0 y t') seg\n  ?t \\<in> {t0..t'} \\<Longrightarrow> flow t0 y ?t \\<in> A\n  t0 \\<le> t\n  t \\<in> existence_ivl t0 y\n  t \\<le> b\n\ngoal (1 subgoal):\n 1. norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>) < d * exp (K * (t - t0))", "by (intro mult_less_le_imp_less)\n           (auto simp: dist_norm[symmetric] dist_commute intro!: mult_mono \\<open>0 \\<le> K\\<close>)"], ["proof (state)\nthis:\n  norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>) < d * exp (K * (t - t0))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  norm (y - x0) * exp (K * \\<bar>t' - t0\\<bar>) < d * exp (K * (t - t0))\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "have \"\\<dots> \\<le> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d * exp (K * (t - t0)) \\<le> e", "by (rule d_times_exp_le; fact)"], ["proof (state)\nthis:\n  d * exp (K * (t - t0)) \\<le> e\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  infdist (flow t0 y t') seg < e", "have \"infdist (flow t0 y t') seg < e\""], ["proof (prove)\nusing this:\n  infdist (flow t0 y t') seg < e\n\ngoal (1 subgoal):\n 1. infdist (flow t0 y t') seg < e", "."], ["proof (state)\nthis:\n  infdist (flow t0 y t') seg < e\n\ngoal (1 subgoal):\n 1. flow t0 y t \\<notin> A \\<Longrightarrow> False", "with \\<open>infdist (flow t0 y t') seg \\<ge> e\\<close>"], ["proof (chain)\npicking this:\n  e \\<le> infdist (flow t0 y t') seg\n  infdist (flow t0 y t') seg < e", "show False"], ["proof (prove)\nusing this:\n  e \\<le> infdist (flow t0 y t') seg\n  infdist (flow t0 y t') seg < e\n\ngoal (1 subgoal):\n 1. False", "by (auto simp: frontier_def)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>t0 \\<le> ?t; ?t \\<in> existence_ivl t0 y; ?t \\<le> b\\<rbrakk>\n  \\<Longrightarrow> flow t0 y ?t \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"{t0..b} \\<subseteq> existence_ivl t0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..b} \\<subseteq> existence_ivl t0 y", "by (rule subset_mem_compact_implies_subset_existence_interval[OF\n      _ is_interval_cc \\<open>{t0..b} \\<subseteq> T\\<close> \\<open>y \\<in> X\\<close> in_A \\<open>compact A\\<close> \\<open>A \\<subseteq> X\\<close>])\n      (auto simp: \\<open>t0 \\<le> b\\<close>)"], ["proof (state)\nthis:\n  {t0..b} \\<subseteq> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with \\<open>t0 \\<le> b\\<close>"], ["proof (chain)\npicking this:\n  t0 \\<le> b\n  {t0..b} \\<subseteq> existence_ivl t0 y", "have b_in: \"b \\<in> existence_ivl t0 y\""], ["proof (prove)\nusing this:\n  t0 \\<le> b\n  {t0..b} \\<subseteq> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. b \\<in> existence_ivl t0 y", "by force"], ["proof (state)\nthis:\n  b \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  b \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume t: \"t \\<in> {t0 .. b}\""], ["proof (state)\nthis:\n  t \\<in> {t0..b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  t \\<in> {t0..b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"{t0 .. b} = {t0 -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..b} = {t0--b}", "by (auto simp: closed_segment_eq_real_ivl assms)"], ["proof (state)\nthis:\n  {t0..b} = {t0--b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  {t0..b} = {t0--b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note closed_segment_subset_existence_ivl[OF b_in]"], ["proof (state)\nthis:\n  {t0--b} \\<subseteq> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  t \\<in> existence_ivl t0 y", "have t_in: \"t \\<in> existence_ivl t0 y\""], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 y", "."], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note t"], ["proof (state)\nthis:\n  t \\<in> {t0..b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  t \\<in> {t0..b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note \\<open>{t0 .. b} = {t0 -- b}\\<close>"], ["proof (state)\nthis:\n  {t0..b} = {t0--b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "also"], ["proof (state)\nthis:\n  {t0..b} = {t0--b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note closed_segment_subset_existence_ivl[OF assms(2)]"], ["proof (state)\nthis:\n  {t0--b} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "finally"], ["proof (chain)\npicking this:\n  t \\<in> existence_ivl t0 x0", "have t_in': \"t \\<in> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0", "."], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"norm (flow t0 y t - flow t0 x0 t) \\<le> norm (y - x0) * exp (K * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 y t - flow t0 x0 t)\n    \\<le> norm (y - x0) * exp (K * \\<bar>t - t0\\<bar>)", "unfolding K_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow t0 y t - flow t0 x0 t)\n    \\<le> norm (y - x0) * exp ((K' + 1) * \\<bar>t - t0\\<bar>)", "using t closed_segment_subset_existence_ivl[OF b_in] \\<open>0 < e\\<close>"], ["proof (prove)\nusing this:\n  t \\<in> {t0..b}\n  {t0--b} \\<subseteq> existence_ivl t0 y\n  0 < e\n\ngoal (1 subgoal):\n 1. norm (flow t0 y t - flow t0 x0 t)\n    \\<le> norm (y - x0) * exp ((K' + 1) * \\<bar>t - t0\\<bar>)", "by (intro in_A exponential_initial_condition[OF t_in t_in' \\<open>A \\<subseteq> X\\<close> _ _ K'])\n          (auto simp: closed_segment_eq_real_ivl A_def seg_def)"], ["proof (state)\nthis:\n  norm (flow t0 y t - flow t0 x0 t)\n  \\<le> norm (y - x0) * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\nusing this:\n  norm (flow t0 y t - flow t0 x0 t)\n  \\<le> norm (y - x0) * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "by (auto simp: dist_norm[symmetric] dist_commute)"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?t2 \\<in> {t0..b} \\<Longrightarrow>\n  dist (flow t0 x0 ?t2) (flow t0 y ?t2)\n  \\<le> dist x0 y * exp (K * \\<bar>?t2 - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note b_in this"], ["proof (state)\nthis:\n  b \\<in> existence_ivl t0 y\n  ?t2 \\<in> {t0..b} \\<Longrightarrow>\n  dist (flow t0 x0 ?t2) (flow t0 y ?t2)\n  \\<le> dist x0 y * exp (K * \\<bar>?t2 - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?y5 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y5\n  \\<lbrakk>?y5 \\<in> ball x0 d; ?t2 \\<in> {t0..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t2) (flow t0 ?y5 ?t2)\n                    \\<le> dist x0 ?y5 * exp (K * \\<bar>?t2 - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>d > 0\\<close> \\<open>K > 0\\<close> \\<open>ball x0 d \\<subseteq> X\\<close> this"], ["proof (chain)\npicking this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y5 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y5\n  \\<lbrakk>?y5 \\<in> ball x0 d; ?t2 \\<in> {t0..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t2) (flow t0 ?y5 ?t2)\n                    \\<le> dist x0 ?y5 * exp (K * \\<bar>?t2 - t0\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y5 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y5\n  \\<lbrakk>?y5 \\<in> ball x0 d; ?t2 \\<in> {t0..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t2) (flow t0 ?y5 ?t2)\n                    \\<le> dist x0 ?y5 * exp (K * \\<bar>?t2 - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  global_left_existence_ivl_explicit:\n  assumes \"b \\<le> t0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  obtains d K where \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {b .. t0} \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "interpret rev: ll_on_open \"(preflect t0 ` T)\" \"(\\<lambda>t. - f (preflect t0 t))\" X"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (preflect t0 ` T) (\\<lambda>t. - f (preflect t0 t)) X", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have t0': \"t0 \\<in> preflect t0 ` T\" \"x0 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> preflect t0 ` T &&& x0 \\<in> X", "by (auto intro!: iv_defined)"], ["proof (state)\nthis:\n  t0 \\<in> preflect t0 ` T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms"], ["proof (chain)\npicking this:\n  b \\<le> t0\n  b \\<in> existence_ivl t0 x0\n  t0 \\<in> T\n  x0 \\<in> X", "have \"preflect t0 b \\<ge> t0\" \"preflect t0 b \\<in> rev.existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  b \\<le> t0\n  b \\<in> existence_ivl t0 x0\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. t0 \\<le> preflect t0 b &&& preflect t0 b \\<in> rev.existence_ivl t0 x0", "by (auto simp: rev_existence_ivl_eq)"], ["proof (state)\nthis:\n  t0 \\<le> preflect t0 b\n  preflect t0 b \\<in> rev.existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from rev.global_right_existence_ivl_explicit[OF this]"], ["proof (chain)\npicking this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow>\n          preflect t0 b \\<in> rev.existence_ivl t0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..preflect t0 b}\\<rbrakk>\n          \\<Longrightarrow> dist (rev.flow t0 x0 t) (rev.flow t0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain d K where dK: \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> preflect t0 b \\<in> rev.existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {t0 .. preflect t0 b} \\<Longrightarrow> dist (rev.flow t0 x0 t) (rev.flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\nusing this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow>\n          preflect t0 b \\<in> rev.existence_ivl t0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..preflect t0 b}\\<rbrakk>\n          \\<Longrightarrow> dist (rev.flow t0 x0 t) (rev.flow t0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow>\n            preflect t0 b \\<in> rev.existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..preflect t0 b}\\<rbrakk>\n            \\<Longrightarrow> dist (rev.flow t0 x0 t) (rev.flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: rev_flow_eq \\<open>x0 \\<in> X\\<close>)"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow>\n  preflect t0 b \\<in> rev.existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {t0..preflect t0 b}\\<rbrakk>\n  \\<Longrightarrow> dist (rev.flow t0 x0 ?t) (rev.flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have ex_ivlI: \"dist x0 y < d \\<Longrightarrow> t \\<in> existence_ivl t0 y\" if \"b \\<le> t\" \"t \\<le> t0\" for t y"], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x0 y < d \\<Longrightarrow> t \\<in> existence_ivl t0 y", "using that dK(4)[of y] dK(3) iv_defined"], ["proof (prove)\nusing this:\n  b \\<le> t\n  t \\<le> t0\n  y \\<in> ball x0 d \\<Longrightarrow>\n  preflect t0 b \\<in> rev.existence_ivl t0 y\n  ball x0 d \\<subseteq> X\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. dist x0 y < d \\<Longrightarrow> t \\<in> existence_ivl t0 y", "by (auto simp: subset_iff rev_existence_ivl_eq[of ]\n      closed_segment_eq_real_ivl iv_defined in_existence_between_zeroI)"], ["proof (state)\nthis:\n  \\<lbrakk>b \\<le> ?t; ?t \\<le> t0; dist x0 ?y < d\\<rbrakk>\n  \\<Longrightarrow> ?t \\<in> existence_ivl t0 ?y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"b \\<in> existence_ivl t0 y\" if \"dist x0 y < d\" for y"], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<in> existence_ivl t0 y", "using that dK"], ["proof (prove)\nusing this:\n  dist x0 y < d\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow>\n  preflect t0 b \\<in> rev.existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {t0..preflect t0 b}\\<rbrakk>\n  \\<Longrightarrow> dist (rev.flow t0 x0 ?t) (rev.flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. b \\<in> existence_ivl t0 y", "by (subst existence_ivl_eq_rev) (auto simp: iv_defined intro!: image_eqI[where x=\"preflect t0 b\"])"], ["proof (state)\nthis:\n  dist x0 ?y < d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with dK"], ["proof (chain)\npicking this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow>\n  preflect t0 b \\<in> rev.existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {t0..preflect t0 b}\\<rbrakk>\n  \\<Longrightarrow> dist (rev.flow t0 x0 ?t) (rev.flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n  dist x0 ?y < d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y", "have \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {b .. t0} \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\nusing this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow>\n  preflect t0 b \\<in> rev.existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {t0..preflect t0 b}\\<rbrakk>\n  \\<Longrightarrow> dist (rev.flow t0 x0 ?t) (rev.flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n  dist x0 ?y < d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n\ngoal (1 subgoal):\n 1. (0 < d &&& 0 < K) &&&\n    ball x0 d \\<subseteq> X &&&\n    (\\<And>y.\n        y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y) &&&\n    (\\<And>t y.\n        \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n        \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                          \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>))", "by (auto simp: flow_eq_rev iv_defined ex_ivlI \\<open>x0 \\<in> X\\<close> subset_iff\n      intro!: order_trans[OF dK(5)] image_eqI[where x=\"preflect t0 b\"])"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {b..t0}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {b..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {b..t0}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {b..t0}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  global_existence_ivl_explicit:\n  assumes a: \"a \\<in> existence_ivl t0 x0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes le: \"a \\<le> b\"\n  obtains d K where \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {a .. b} \\<Longrightarrow>\n      dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note iv_defined = mem_existence_ivl_iv_defined[OF a]"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define r where \"r \\<equiv> Max {t0, a, b}\""], ["proof (state)\nthis:\n  r \\<equiv> Max {t0, a, b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define l where \"l \\<equiv> Min {t0, a, b}\""], ["proof (state)\nthis:\n  l \\<equiv> Min {t0, a, b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have r: \"r \\<ge> t0\" \"r \\<in> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<le> r &&& r \\<in> existence_ivl t0 x0", "using a b"], ["proof (prove)\nusing this:\n  a \\<in> existence_ivl t0 x0\n  b \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. t0 \\<le> r &&& r \\<in> existence_ivl t0 x0", "by (auto simp: max_def r_def iv_defined)"], ["proof (state)\nthis:\n  t0 \\<le> r\n  r \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain dr Kr where right:\n    \"0 < dr\" \"0 < Kr\" \"ball x0 dr \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 dr \\<Longrightarrow> r \\<in> existence_ivl t0 y\"\n    \"\\<And>y t. y \\<in> ball x0 dr \\<Longrightarrow> t \\<in> {t0..r} \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (Kr * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>dr Kr.\n        \\<lbrakk>0 < dr; 0 < Kr; ball x0 dr \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 dr \\<Longrightarrow> r \\<in> existence_ivl t0 y;\n         \\<And>y t.\n            \\<lbrakk>y \\<in> ball x0 dr; t \\<in> {t0..r}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (Kr * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule global_right_existence_ivl_explicit[OF r]) blast"], ["proof (state)\nthis:\n  0 < dr\n  0 < Kr\n  ball x0 dr \\<subseteq> X\n  ?y \\<in> ball x0 dr \\<Longrightarrow> r \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 dr; ?t \\<in> {t0..r}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (Kr * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have l: \"l \\<le> t0\" \"l \\<in> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l \\<le> t0 &&& l \\<in> existence_ivl t0 x0", "using a b"], ["proof (prove)\nusing this:\n  a \\<in> existence_ivl t0 x0\n  b \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. l \\<le> t0 &&& l \\<in> existence_ivl t0 x0", "by (auto simp: min_def l_def iv_defined)"], ["proof (state)\nthis:\n  l \\<le> t0\n  l \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain dl Kl where left:\n    \"0 < dl\" \"0 < Kl\" \"ball x0 dl \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 dl \\<Longrightarrow> l \\<in> existence_ivl t0 y\"\n    \"\\<And>y t. y \\<in> ball x0 dl \\<Longrightarrow> t \\<in> {l .. t0} \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (Kl * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>dl Kl.\n        \\<lbrakk>0 < dl; 0 < Kl; ball x0 dl \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 dl \\<Longrightarrow> l \\<in> existence_ivl t0 y;\n         \\<And>y t.\n            \\<lbrakk>y \\<in> ball x0 dl; t \\<in> {l..t0}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (Kl * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule global_left_existence_ivl_explicit[OF l iv_defined]) blast"], ["proof (state)\nthis:\n  0 < dl\n  0 < Kl\n  ball x0 dl \\<subseteq> X\n  ?y \\<in> ball x0 dl \\<Longrightarrow> l \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 dl; ?t \\<in> {l..t0}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (Kl * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define d where \"d \\<equiv> min dr dl\""], ["proof (state)\nthis:\n  d \\<equiv> min dr dl\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define K where \"K \\<equiv> max Kr Kl\""], ["proof (state)\nthis:\n  K \\<equiv> max Kr Kl\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note iv_defined"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"0 < d\" \"0 < K\" \"ball x0 d \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < d &&& 0 < K &&& ball x0 d \\<subseteq> X", "using left right"], ["proof (prove)\nusing this:\n  0 < dl\n  0 < Kl\n  ball x0 dl \\<subseteq> X\n  ?y \\<in> ball x0 dl \\<Longrightarrow> l \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 dl; ?t \\<in> {l..t0}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (Kl * \\<bar>?t - t0\\<bar>)\n  0 < dr\n  0 < Kr\n  ball x0 dr \\<subseteq> X\n  ?y \\<in> ball x0 dr \\<Longrightarrow> r \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 dr; ?t \\<in> {t0..r}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (Kr * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. 0 < d &&& 0 < K &&& ball x0 d \\<subseteq> X", "by (auto simp: d_def K_def)"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume y: \"y \\<in> ball x0 d\""], ["proof (state)\nthis:\n  y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"y \\<in> X\""], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. y \\<in> X", "using \\<open>ball x0 d \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n  ball x0 d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from y\n      closed_segment_subset_existence_ivl[OF left(4), of y]\n      closed_segment_subset_existence_ivl[OF right(4), of y]"], ["proof (chain)\npicking this:\n  y \\<in> ball x0 d\n  y \\<in> ball x0 dl \\<Longrightarrow>\n  {t0--l} \\<subseteq> existence_ivl t0 y\n  y \\<in> ball x0 dr \\<Longrightarrow>\n  {t0--r} \\<subseteq> existence_ivl t0 y", "have \"a \\<in> existence_ivl t0 y\" \"b \\<in> existence_ivl t0 y\""], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n  y \\<in> ball x0 dl \\<Longrightarrow>\n  {t0--l} \\<subseteq> existence_ivl t0 y\n  y \\<in> ball x0 dr \\<Longrightarrow>\n  {t0--r} \\<subseteq> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. a \\<in> existence_ivl t0 y &&& b \\<in> existence_ivl t0 y", "by (auto simp: d_def l_def r_def min_def max_def closed_segment_eq_real_ivl split: if_split_asm)"], ["proof (state)\nthis:\n  a \\<in> existence_ivl t0 y\n  b \\<in> existence_ivl t0 y\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y2\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y2\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y2\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y2\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y2\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y2\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix t y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume y: \"y \\<in> ball x0 d\"\n      and t: \"t \\<in> {a .. b}\""], ["proof (state)\nthis:\n  y \\<in> ball x0 d\n  t \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from y"], ["proof (chain)\npicking this:\n  y \\<in> ball x0 d", "have \"y \\<in> X\""], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. y \\<in> X", "using \\<open>ball x0 d \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> ball x0 d\n  ball x0 d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "assume \"t \\<ge> t0\""], ["proof (state)\nthis:\n  t0 \\<le> t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "hence \"dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (Kr * abs (t - t0))\""], ["proof (prove)\nusing this:\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (Kr * \\<bar>t - t0\\<bar>)", "using y t"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  y \\<in> ball x0 d\n  t \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (Kr * \\<bar>t - t0\\<bar>)", "by (intro right) (auto simp: d_def r_def)"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (Kr * \\<bar>t - t0\\<bar>)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "also"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (Kr * \\<bar>t - t0\\<bar>)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "have \"exp (Kr * abs (t - t0)) \\<le> exp (K * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (Kr * \\<bar>t - t0\\<bar>) \\<le> exp (K * \\<bar>t - t0\\<bar>)", "by (auto simp: mult_left_mono K_def max_def mult_right_mono)"], ["proof (state)\nthis:\n  exp (Kr * \\<bar>t - t0\\<bar>) \\<le> exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n 2. \\<not> ?P \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x ya.\n      x \\<le> ya \\<Longrightarrow>\n      dist x0 y * x \\<le> dist x0 y * ya) \\<Longrightarrow>\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x ya.\n      x \\<le> ya \\<Longrightarrow>\n      dist x0 y * x \\<le> dist x0 y * ya) \\<Longrightarrow>\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "by (simp add: mult_left_mono)"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<not> t0 \\<le> t \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> t0 \\<le> t \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "assume \"\\<not>t \\<ge> t0\""], ["proof (state)\nthis:\n  \\<not> t0 \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> t0 \\<le> t \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "hence \"dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (Kl * abs (t - t0))\""], ["proof (prove)\nusing this:\n  \\<not> t0 \\<le> t\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (Kl * \\<bar>t - t0\\<bar>)", "using y t"], ["proof (prove)\nusing this:\n  \\<not> t0 \\<le> t\n  y \\<in> ball x0 d\n  t \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (Kl * \\<bar>t - t0\\<bar>)", "by (intro left) (auto simp: d_def l_def)"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (Kl * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<not> t0 \\<le> t \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "also"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (Kl * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<not> t0 \\<le> t \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "have \"exp (Kl * abs (t - t0)) \\<le> exp (K * abs (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. exp (Kl * \\<bar>t - t0\\<bar>) \\<le> exp (K * \\<bar>t - t0\\<bar>)", "by (auto simp: mult_left_mono K_def max_def mult_right_mono)"], ["proof (state)\nthis:\n  exp (Kl * \\<bar>t - t0\\<bar>) \\<le> exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<not> t0 \\<le> t \\<Longrightarrow>\n    dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x ya.\n      x \\<le> ya \\<Longrightarrow>\n      dist x0 y * x \\<le> dist x0 y * ya) \\<Longrightarrow>\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x ya.\n      x \\<le> ya \\<Longrightarrow>\n      dist x0 y * x \\<le> dist x0 y * ya) \\<Longrightarrow>\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. dist (flow t0 x0 t) (flow t0 y t)\n    \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "by (simp add: mult_left_mono)"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  dist (flow t0 x0 t) (flow t0 y t)\n  \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?y2 \\<in> ball x0 d; ?t2 \\<in> {a..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t2) (flow t0 ?y2 ?t2)\n                    \\<le> dist x0 ?y2 * exp (K * \\<bar>?t2 - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y2\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y2\n  \\<lbrakk>?y2 \\<in> ball x0 d; ?t2 \\<in> {a..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t2) (flow t0 ?y2 ?t2)\n                    \\<le> dist x0 ?y2 * exp (K * \\<bar>?t2 - t0\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y2\n  ?y2 \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y2\n  \\<lbrakk>?y2 \\<in> ball x0 d; ?t2 \\<in> {a..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t2) (flow t0 ?y2 ?t2)\n                    \\<le> dist x0 ?y2 * exp (K * \\<bar>?t2 - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_exponential_separation:\n  assumes a: \"a \\<in> existence_ivl t0 x0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes le: \"a \\<le> b\"\n  obtains K where \"K > 0\" \"\\<forall>\\<^sub>F y in at x0. \\<forall>t\\<in>{a..b}. dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from global_existence_ivl_explicit[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n          \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain d K where *: \"d > 0\" \"K > 0\"\n    \"ball x0 d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y\"\n    \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n    \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {a .. b} \\<Longrightarrow>\n      dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\nusing this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n          \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y\n  ?y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {a..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note \\<open>K > 0\\<close>"], ["proof (state)\nthis:\n  0 < K\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < K\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"eventually (\\<lambda>y. y \\<in> ball x0 d) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d", "using \\<open>d > 0\\<close>[THEN eventually_at_ball]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at ?z within ?A.\n     t \\<in> ball ?z d \\<and> t \\<in> ?A\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d", "by eventually_elim simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "hence \"eventually (\\<lambda>y. \\<forall>t\\<in>{a..b}. dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)) (at x0)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0.\n       \\<forall>t\\<in>{a..b}.\n          dist (flow t0 x0 t) (flow t0 y t)\n          \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "by eventually_elim (safe intro!: *)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  0 < K\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < K\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_mem_existence_ivl:\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  shows \"\\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "from mem_existence_ivl_iv_defined[OF b]"], ["proof (chain)\npicking this:\n  t0 \\<in> T\n  x0 \\<in> X", "have iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\""], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x0 \\<in> X", "by simp_all"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "note eiit = existence_ivl_initial_time[OF iv_defined]"], ["proof (state)\nthis:\n  t0 \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "{"], ["proof (state)\nthis:\n  t0 \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "fix a b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "assume assms: \"a \\<in> existence_ivl t0 x0\" \"b \\<in> existence_ivl t0 x0\" \"a \\<le> b\""], ["proof (state)\nthis:\n  a \\<in> existence_ivl t0 x0\n  b \\<in> existence_ivl t0 x0\n  a \\<le> b\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "from global_existence_ivl_explicit[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n          \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain d K where *: \"d > 0\" \"K > 0\"\n      \"ball x0 d \\<subseteq> X\"\n      \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y\"\n      \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y\"\n      \"\\<And>t y. y \\<in> ball x0 d \\<Longrightarrow> t \\<in> {a .. b} \\<Longrightarrow>\n        dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * abs (t - t0))\""], ["proof (prove)\nusing this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n          \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 d; t \\<in> {a..b}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x0 t) (flow t0 y t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x0 d \\<subseteq> X\n  ?y \\<in> ball x0 d \\<Longrightarrow> a \\<in> existence_ivl t0 ?y\n  ?y \\<in> ball x0 d \\<Longrightarrow> b \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x0 d; ?t \\<in> {a..b}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x0 ?t) (flow t0 ?y ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "have \"eventually (\\<lambda>y. y \\<in> ball x0 d) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d", "using \\<open>d > 0\\<close>[THEN eventually_at_ball]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at ?z within ?A.\n     t \\<in> ball ?z d \\<and> t \\<in> ?A\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d", "by eventually_elim simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d", "have \"\\<forall>\\<^sub>F x in at x0. a \\<in> existence_ivl t0 x \\<and> b \\<in> existence_ivl t0 x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x0. y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0.\n       a \\<in> existence_ivl t0 x \\<and> b \\<in> existence_ivl t0 x", "by (eventually_elim) (auto intro!: *)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x0.\n     a \\<in> existence_ivl t0 x \\<and> b \\<in> existence_ivl t0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?a2 \\<in> existence_ivl t0 x0; ?ba2 \\<in> existence_ivl t0 x0;\n   ?a2 \\<le> ?ba2\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in at x0.\n                       ?a2 \\<in> existence_ivl t0 x \\<and>\n                       ?ba2 \\<in> existence_ivl t0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "from this[OF b eiit] this[OF eiit b]"], ["proof (chain)\npicking this:\n  b \\<le> t0 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in at x0.\n     b \\<in> existence_ivl t0 x \\<and> t0 \\<in> existence_ivl t0 x\n  t0 \\<le> b \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in at x0.\n     t0 \\<in> existence_ivl t0 x \\<and> b \\<in> existence_ivl t0 x", "show ?thesis"], ["proof (prove)\nusing this:\n  b \\<le> t0 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in at x0.\n     b \\<in> existence_ivl t0 x \\<and> t0 \\<in> existence_ivl t0 x\n  t0 \\<le> b \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in at x0.\n     t0 \\<in> existence_ivl t0 x \\<and> b \\<in> existence_ivl t0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x", "by (cases \"t0 \\<le> b\") (auto simp: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x0. b \\<in> existence_ivl t0 x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma uniform_limit_flow:\n  assumes a: \"a \\<in> existence_ivl t0 x0\"\n  assumes b: \"b \\<in> existence_ivl t0 x0\"\n  assumes le: \"a \\<le> b\"\n  shows \"uniform_limit {a .. b} (flow t0) (flow t0 x0) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. uniform_limit {a..b} (flow t0) (flow t0 x0) (at x0)", "proof (rule uniform_limitI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "fix e::real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "assume \"0 < e\""], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "from eventually_exponential_separation[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>K.\n      \\<lbrakk>0 < K;\n       \\<forall>\\<^sub>F y in at x0.\n          \\<forall>t\\<in>{a..b}.\n             dist (flow t0 x0 t) (flow t0 y t)\n             \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain K where \"0 < K\"\n    \"\\<forall>\\<^sub>F y in at x0. \\<forall>t\\<in>{a..b}. dist (flow t0 x0 t) (flow t0 y t) \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\nusing this:\n  (\\<And>K.\n      \\<lbrakk>0 < K;\n       \\<forall>\\<^sub>F y in at x0.\n          \\<forall>t\\<in>{a..b}.\n             dist (flow t0 x0 t) (flow t0 y t)\n             \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>0 < K;\n         \\<forall>\\<^sub>F y in at x0.\n            \\<forall>t\\<in>{a..b}.\n               dist (flow t0 x0 t) (flow t0 y t)\n               \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < K\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "note this(2)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "let ?m = \"max (abs (b - t0)) (abs (a - t0))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "have \"eventually (\\<lambda>y. \\<forall>t\\<in>{a..b}. dist x0 y * exp (K * \\<bar>t - t0\\<bar>) \\<le> dist x0 y * exp (K * ?m)) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0.\n       \\<forall>t\\<in>{a..b}.\n          dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n          \\<le> dist x0 y *\n                exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>)", "using \\<open>a \\<le> b\\<close> \\<open>0 < K\\<close>"], ["proof (prove)\nusing this:\n  a \\<le> b\n  0 < K\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0.\n       \\<forall>t\\<in>{a..b}.\n          dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n          \\<le> dist x0 y *\n                exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>)", "by (auto intro!: mult_left_mono always_eventually)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n        \\<le> dist x0 y *\n              exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n        \\<le> dist x0 y *\n              exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "have \"eventually (\\<lambda>y. dist x0 y * exp (K * ?m) < e) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0.\n       dist x0 y * exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>) < e", "using \\<open>0 < e\\<close>"], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0.\n       dist x0 y * exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>) < e", "by (auto intro!: order_tendstoD tendsto_eq_intros)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     dist x0 y * exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>) < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F n in at x0.\n          \\<forall>x\\<in>{a..b}. dist (flow t0 n x) (flow t0 x0 x) < e", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n        \\<le> dist x0 y *\n              exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>)\n  \\<forall>\\<^sub>F y in at x0.\n     dist x0 y * exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>) < e", "show \"eventually (\\<lambda>y. \\<forall>t\\<in>{a..b}. dist (flow t0 y t) (flow t0 x0 t) < e) (at x0)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist (flow t0 x0 t) (flow t0 y t)\n        \\<le> dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}.\n        dist x0 y * exp (K * \\<bar>t - t0\\<bar>)\n        \\<le> dist x0 y *\n              exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>)\n  \\<forall>\\<^sub>F y in at x0.\n     dist x0 y * exp (K * max \\<bar>b - t0\\<bar> \\<bar>a - t0\\<bar>) < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x0.\n       \\<forall>t\\<in>{a..b}. dist (flow t0 y t) (flow t0 x0 t) < e", "by eventually_elim (force simp: dist_commute)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x0.\n     \\<forall>t\\<in>{a..b}. dist (flow t0 y t) (flow t0 x0 t) < e\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_at_fst:\n  assumes \"eventually P (at (fst x))\"\n  assumes \"P (fst x)\"\n  shows \"eventually (\\<lambda>h. P (fst h)) (at x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at x. P (fst h)", "using assms"], ["proof (prove)\nusing this:\n  eventually P (at (fst x))\n  P (fst x)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at x. P (fst h)", "unfolding eventually_at_topological"], ["proof (prove)\nusing this:\n  \\<exists>S.\n     open S \\<and>\n     fst x \\<in> S \\<and>\n     (\\<forall>xa\\<in>S.\n         xa \\<noteq> fst x \\<longrightarrow>\n         xa \\<in> UNIV \\<longrightarrow> P xa)\n  P (fst x)\n\ngoal (1 subgoal):\n 1. \\<exists>S.\n       open S \\<and>\n       x \\<in> S \\<and>\n       (\\<forall>xa\\<in>S.\n           xa \\<noteq> x \\<longrightarrow>\n           xa \\<in> UNIV \\<longrightarrow> P (fst xa))", "by (metis open_vimage_fst rangeI range_fst vimageE vimageI)"], ["", "lemma eventually_at_snd:\n  assumes \"eventually P (at (snd x))\"\n  assumes \"P (snd x)\"\n  shows \"eventually (\\<lambda>h. P (snd h)) (at x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at x. P (snd h)", "using assms"], ["proof (prove)\nusing this:\n  eventually P (at (snd x))\n  P (snd x)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at x. P (snd h)", "unfolding eventually_at_topological"], ["proof (prove)\nusing this:\n  \\<exists>S.\n     open S \\<and>\n     snd x \\<in> S \\<and>\n     (\\<forall>xa\\<in>S.\n         xa \\<noteq> snd x \\<longrightarrow>\n         xa \\<in> UNIV \\<longrightarrow> P xa)\n  P (snd x)\n\ngoal (1 subgoal):\n 1. \\<exists>S.\n       open S \\<and>\n       x \\<in> S \\<and>\n       (\\<forall>xa\\<in>S.\n           xa \\<noteq> x \\<longrightarrow>\n           xa \\<in> UNIV \\<longrightarrow> P (snd xa))", "by (metis open_vimage_snd rangeI range_snd vimageE vimageI)"], ["", "lemma\n  shows open_state_space: \"open (Sigma X (existence_ivl t0))\"\n  and flow_continuous_on_state_space:\n    \"continuous_on (Sigma X (existence_ivl t0)) (\\<lambda>(x, t). flow t0 x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (Sigma X (existence_ivl t0)) &&&\n    continuous_on (Sigma X (existence_ivl t0))\n     (\\<lambda>(x, t). flow t0 x t)", "proof (safe intro!: topological_space_class.openI continuous_at_imp_continuous_on)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "fix t x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "assume \"x \\<in> X\" and t: \"t \\<in> existence_ivl t0 x\""], ["proof (state)\nthis:\n  x \\<in> X\n  t \\<in> existence_ivl t0 x\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "have iv_defined: \"t0 \\<in> T\" \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x \\<in> X", "using mem_existence_ivl_iv_defined[OF t]"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. t0 \\<in> T &&& x \\<in> X", "by auto"], ["proof (state)\nthis:\n  t0 \\<in> T\n  x \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "from \\<open>x \\<in> X\\<close> t open_existence_ivl"], ["proof (chain)\npicking this:\n  x \\<in> X\n  t \\<in> existence_ivl t0 x\n  open (existence_ivl t0 ?x0.0)", "obtain e where e: \"e > 0\" \"cball t e \\<subseteq> existence_ivl t0 x\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  t \\<in> existence_ivl t0 x\n  open (existence_ivl t0 ?x0.0)\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; cball t e \\<subseteq> existence_ivl t0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis open_contains_cball)"], ["proof (state)\nthis:\n  0 < e\n  cball t e \\<subseteq> existence_ivl t0 x\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "hence ivl: \"t - e \\<in> existence_ivl t0 x\" \"t + e \\<in> existence_ivl t0 x\" \"t - e \\<le> t + e\""], ["proof (prove)\nusing this:\n  0 < e\n  cball t e \\<subseteq> existence_ivl t0 x\n\ngoal (1 subgoal):\n 1. t - e \\<in> existence_ivl t0 x &&&\n    t + e \\<in> existence_ivl t0 x &&& t - e \\<le> t + e", "by (auto simp: cball_def dist_real_def)"], ["proof (state)\nthis:\n  t - e \\<in> existence_ivl t0 x\n  t + e \\<in> existence_ivl t0 x\n  t - e \\<le> t + e\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "obtain d K where dK:\n    \"0 < d\" \"0 < K\" \"ball x d \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> t - e \\<in> existence_ivl t0 y\"\n    \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> t + e \\<in> existence_ivl t0 y\"\n    \"\\<And>y s. y \\<in> ball x d \\<Longrightarrow> s \\<in> {t - e..t + e} \\<Longrightarrow>\n      dist (flow t0 x s) (flow t0 y s) \\<le> dist x y * exp (K * \\<bar>s - t0\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d K.\n        \\<lbrakk>0 < d; 0 < K; ball x d \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow>\n            t - e \\<in> existence_ivl t0 y;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow>\n            t + e \\<in> existence_ivl t0 y;\n         \\<And>y s.\n            \\<lbrakk>y \\<in> ball x d; s \\<in> {t - e..t + e}\\<rbrakk>\n            \\<Longrightarrow> dist (flow t0 x s) (flow t0 y s)\n                              \\<le> dist x y *\n                                    exp (K * \\<bar>s - t0\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule global_existence_ivl_explicit[OF ivl]) blast"], ["proof (state)\nthis:\n  0 < d\n  0 < K\n  ball x d \\<subseteq> X\n  ?y \\<in> ball x d \\<Longrightarrow> t - e \\<in> existence_ivl t0 ?y\n  ?y \\<in> ball x d \\<Longrightarrow> t + e \\<in> existence_ivl t0 ?y\n  \\<lbrakk>?y \\<in> ball x d; ?s \\<in> {t - e..t + e}\\<rbrakk>\n  \\<Longrightarrow> dist (flow t0 x ?s) (flow t0 ?y ?s)\n                    \\<le> dist x ?y * exp (K * \\<bar>?s - t0\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "let ?T = \"ball x d \\<times> ball t e\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "have \"open ?T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open (ball x d \\<times> ball t e)", "by (auto intro!: open_Times)"], ["proof (state)\nthis:\n  open (ball x d \\<times> ball t e)\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "moreover"], ["proof (state)\nthis:\n  open (ball x d \\<times> ball t e)\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "have \"(x, t) \\<in> ?T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x, t) \\<in> ball x d \\<times> ball t e", "by (auto simp: dK \\<open>0 < e\\<close>)"], ["proof (state)\nthis:\n  (x, t) \\<in> ball x d \\<times> ball t e\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "moreover"], ["proof (state)\nthis:\n  (x, t) \\<in> ball x d \\<times> ball t e\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "have \"?T \\<subseteq> Sigma X (existence_ivl t0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x d \\<times> ball t e \\<subseteq> Sigma X (existence_ivl t0)", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> a \\<in> X\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> b \\<in> existence_ivl t0 a", "fix s y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> a \\<in> X\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> b \\<in> existence_ivl t0 a", "assume y: \"y \\<in> ball x d\" and s: \"s \\<in> ball t e\""], ["proof (state)\nthis:\n  y \\<in> ball x d\n  s \\<in> ball t e\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> a \\<in> X\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> b \\<in> existence_ivl t0 a", "with \\<open>ball x d \\<subseteq> X\\<close>"], ["proof (chain)\npicking this:\n  ball x d \\<subseteq> X\n  y \\<in> ball x d\n  s \\<in> ball t e", "show \"y \\<in> X\""], ["proof (prove)\nusing this:\n  ball x d \\<subseteq> X\n  y \\<in> ball x d\n  s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> b \\<in> existence_ivl t0 a", "have \"ball t e \\<subseteq> closed_segment t0 (t - e) \\<union> closed_segment t0 (t + e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball t e \\<subseteq> {t0--t - e} \\<union> {t0--t + e}", "by (auto simp: closed_segment_eq_real_ivl dist_real_def)"], ["proof (state)\nthis:\n  ball t e \\<subseteq> {t0--t - e} \\<union> {t0--t + e}\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> ball x d; b \\<in> ball t e\\<rbrakk>\n       \\<Longrightarrow> b \\<in> existence_ivl t0 a", "with \\<open>y \\<in> X\\<close> s closed_segment_subset_existence_ivl[OF dK(4)[OF y]]\n      closed_segment_subset_existence_ivl[OF dK(5)[OF y]]"], ["proof (chain)\npicking this:\n  y \\<in> X\n  s \\<in> ball t e\n  {t0--t - e} \\<subseteq> existence_ivl t0 y\n  {t0--t + e} \\<subseteq> existence_ivl t0 y\n  ball t e \\<subseteq> {t0--t - e} \\<union> {t0--t + e}", "show \"s \\<in> existence_ivl t0 y\""], ["proof (prove)\nusing this:\n  y \\<in> X\n  s \\<in> ball t e\n  {t0--t - e} \\<subseteq> existence_ivl t0 y\n  {t0--t + e} \\<subseteq> existence_ivl t0 y\n  ball t e \\<subseteq> {t0--t - e} \\<union> {t0--t + e}\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 y", "by auto"], ["proof (state)\nthis:\n  s \\<in> existence_ivl t0 y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ball x d \\<times> ball t e \\<subseteq> Sigma X (existence_ivl t0)\n\ngoal (2 subgoals):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T.\n                            open T \\<and>\n                            (a, b) \\<in> T \\<and>\n                            T \\<subseteq> Sigma X (existence_ivl t0)\n 2. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "ultimately"], ["proof (chain)\npicking this:\n  open (ball x d \\<times> ball t e)\n  (x, t) \\<in> ball x d \\<times> ball t e\n  ball x d \\<times> ball t e \\<subseteq> Sigma X (existence_ivl t0)", "show \"\\<exists>T. open T \\<and> (x, t) \\<in> T \\<and> T \\<subseteq> Sigma X (existence_ivl t0)\""], ["proof (prove)\nusing this:\n  open (ball x d \\<times> ball t e)\n  (x, t) \\<in> ball x d \\<times> ball t e\n  ball x d \\<times> ball t e \\<subseteq> Sigma X (existence_ivl t0)\n\ngoal (1 subgoal):\n 1. \\<exists>T.\n       open T \\<and>\n       (x, t) \\<in> T \\<and> T \\<subseteq> Sigma X (existence_ivl t0)", "by blast"], ["proof (state)\nthis:\n  \\<exists>T.\n     open T \\<and>\n     (x, t) \\<in> T \\<and> T \\<subseteq> Sigma X (existence_ivl t0)\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "have **: \"\\<forall>\\<^sub>F s in at 0. norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps\"\n    if \"eps > 0\" for eps :: real"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "have \"\\<forall>\\<^sub>F s in at 0. norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n      norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n        (flow t0 x (t + snd s) - flow t0 x t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n       norm\n        (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n         (flow t0 x (t + snd s) - flow t0 x t))", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "have \"\\<forall>\\<^sub>F s in at 0.\n        norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t)) \\<le>\n        norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n          norm (flow t0 x (t + snd s) - flow t0 x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm\n        (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n         (flow t0 x (t + snd s) - flow t0 x t))\n       \\<le> norm\n              (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n             norm (flow t0 x (t + snd s) - flow t0 x t)", "by eventually_elim (rule norm_triangle_ineq)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0.\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n     \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n           norm (flow t0 x (t + snd s) - flow t0 x t)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0.\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n     \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n           norm (flow t0 x (t + snd s) - flow t0 x t)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "have \"\\<forall>\\<^sub>F s in at 0. t + snd s \\<in> ball t e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0. t + snd s \\<in> ball t e", "by (auto simp: dist_real_def intro!: order_tendstoD[OF _ \\<open>0 < e\\<close>]\n        intro!: tendsto_eq_intros)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0. t + snd s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0. t + snd s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "from uniform_limit_flow[OF ivl, THEN uniform_limitD, OF \\<open>eps > 0\\<close>]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in at x.\n     \\<forall>xa\\<in>{t - e..t + e}.\n        dist (flow t0 n xa) (flow t0 x xa) < eps", "have \"\\<forall>\\<^sub>F (h::(_ )) in at (fst (0::'a*real)).\n      \\<forall>t\\<in>{t - e..t + e}. dist (flow t0 x t) (flow t0 (x + h) t) < eps\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in at x.\n     \\<forall>xa\\<in>{t - e..t + e}.\n        dist (flow t0 n xa) (flow t0 x xa) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at (fst 0).\n       \\<forall>t\\<in>{t - e..t + e}.\n          dist (flow t0 x t) (flow t0 (x + h) t) < eps", "by (subst (asm) at_to_0)\n        (auto simp: eventually_filtermap dist_commute ac_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F h in at (fst 0).\n     \\<forall>t\\<in>{t - e..t + e}.\n        dist (flow t0 x t) (flow t0 (x + h) t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "hence \"\\<forall>\\<^sub>F (h::(_ * real)) in at 0.\n      \\<forall>t\\<in>{t - e..t + e}. dist (flow t0 x t) (flow t0 (x + fst h) t) < eps\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F h in at (fst 0).\n     \\<forall>t\\<in>{t - e..t + e}.\n        dist (flow t0 x t) (flow t0 (x + h) t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at 0.\n       \\<forall>t\\<in>{t - e..t + e}.\n          dist (flow t0 x t) (flow t0 (x + fst h) t) < eps", "by (rule eventually_at_fst) (simp add: \\<open>eps > 0\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F h in at 0.\n     \\<forall>t\\<in>{t - e..t + e}.\n        dist (flow t0 x t) (flow t0 (x + fst h) t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F h in at 0.\n     \\<forall>t\\<in>{t - e..t + e}.\n        dist (flow t0 x t) (flow t0 (x + fst h) t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "have \"\\<forall>\\<^sub>F h in at (snd (0::'a * _)). norm (flow t0 x (t + h) - flow t0 x t) < eps\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at (snd 0).\n       norm (flow t0 x (t + h) - flow t0 x t) < eps", "using flow_continuous[OF t, unfolded isCont_def, THEN tendstoD, OF \\<open>eps > 0\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in at t. dist (flow t0 x xa) (flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at (snd 0).\n       norm (flow t0 x (t + h) - flow t0 x t) < eps", "by (subst (asm) at_to_0)\n        (auto simp: eventually_filtermap dist_norm ac_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F h in at (snd 0).\n     norm (flow t0 x (t + h) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "hence \"\\<forall>\\<^sub>F h::('a * _) in at 0. norm (flow t0 x (t + snd h) - flow t0 x t) < eps\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F h in at (snd 0).\n     norm (flow t0 x (t + h) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F h in at 0.\n       norm (flow t0 x (t + snd h) - flow t0 x t) < eps", "by (rule eventually_at_snd) (simp add: \\<open>eps > 0\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F h in at 0.\n     norm (flow t0 x (t + snd h) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n  \\<forall>\\<^sub>F s in at 0.\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n     \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n           norm (flow t0 x (t + snd s) - flow t0 x t)\n  \\<forall>\\<^sub>F s in at 0. t + snd s \\<in> ball t e\n  \\<forall>\\<^sub>F h in at 0.\n     \\<forall>t\\<in>{t - e..t + e}.\n        dist (flow t0 x t) (flow t0 (x + fst h) t) < eps\n  \\<forall>\\<^sub>F h in at 0.\n     norm (flow t0 x (t + snd h) - flow t0 x t) < eps", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n  \\<forall>\\<^sub>F s in at 0.\n     norm\n      (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n       (flow t0 x (t + snd s) - flow t0 x t))\n     \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n           norm (flow t0 x (t + snd s) - flow t0 x t)\n  \\<forall>\\<^sub>F s in at 0. t + snd s \\<in> ball t e\n  \\<forall>\\<^sub>F h in at 0.\n     \\<forall>t\\<in>{t - e..t + e}.\n        dist (flow t0 x t) (flow t0 (x + fst h) t) < eps\n  \\<forall>\\<^sub>F h in at 0.\n     norm (flow t0 x (t + snd h) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "case (elim s)"], ["proof (state)\nthis:\n  norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n  norm\n   (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n    (flow t0 x (t + snd s) - flow t0 x t))\n  norm\n   (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n    (flow t0 x (t + snd s) - flow t0 x t))\n  \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n        norm (flow t0 x (t + snd s) - flow t0 x t)\n  t + snd s \\<in> ball t e\n  \\<forall>t\\<in>{t - e..t + e}.\n     dist (flow t0 x t) (flow t0 (x + fst s) t) < eps\n  norm (flow t0 x (t + snd s) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "note elim(1)"], ["proof (state)\nthis:\n  norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n  norm\n   (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n    (flow t0 x (t + snd s) - flow t0 x t))\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "also"], ["proof (state)\nthis:\n  norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n  norm\n   (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n    (flow t0 x (t + snd s) - flow t0 x t))\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "note elim(2)"], ["proof (state)\nthis:\n  norm\n   (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n    (flow t0 x (t + snd s) - flow t0 x t))\n  \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n        norm (flow t0 x (t + snd s) - flow t0 x t)\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "also"], ["proof (state)\nthis:\n  norm\n   (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n    (flow t0 x (t + snd s) - flow t0 x t))\n  \\<le> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n        norm (flow t0 x (t + snd s) - flow t0 x t)\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "note elim(5)"], ["proof (state)\nthis:\n  norm (flow t0 x (t + snd s) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "also"], ["proof (state)\nthis:\n  norm (flow t0 x (t + snd s) - flow t0 x t) < eps\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "from elim(3)"], ["proof (chain)\npicking this:\n  t + snd s \\<in> ball t e", "have \"t + snd s \\<in> {t - e..t + e}\""], ["proof (prove)\nusing this:\n  t + snd s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. t + snd s \\<in> {t - e..t + e}", "by (auto simp: dist_real_def algebra_simps)"], ["proof (state)\nthis:\n  t + snd s \\<in> {t - e..t + e}\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "from elim(4)[rule_format, OF this]"], ["proof (chain)\npicking this:\n  dist (flow t0 x (t + snd s)) (flow t0 (x + fst s) (t + snd s)) < eps", "have \"norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) < eps\""], ["proof (prove)\nusing this:\n  dist (flow t0 x (t + snd s)) (flow t0 (x + fst s) (t + snd s)) < eps\n\ngoal (1 subgoal):\n 1. norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) < eps", "by (auto simp: dist_commute dist_norm[symmetric])"], ["proof (state)\nthis:\n  norm (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) < eps\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) =\n                norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n                  (flow t0 x (t + snd s) - flow t0 x t));\n        norm\n         (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s) +\n          (flow t0 x (t + snd s) - flow t0 x t))\n        \\<le> norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              norm (flow t0 x (t + snd s) - flow t0 x t);\n        t + snd s \\<in> ball t e;\n        \\<forall>t\\<in>{t - e..t + e}.\n           dist (flow t0 x t) (flow t0 (x + fst s) t) < eps;\n        norm (flow t0 x (t + snd s) - flow t0 x t) < eps\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                         < 2 * eps", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa y.\n              xa < y \\<Longrightarrow>\n              norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              xa\n              < norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n                y;\n   \\<And>x y. x < y \\<Longrightarrow> x + eps < y + eps\\<rbrakk>\n  \\<Longrightarrow> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                    < eps + eps", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa y.\n              xa < y \\<Longrightarrow>\n              norm\n               (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n              xa\n              < norm\n                 (flow t0 (x + fst s) (t + snd s) - flow t0 x (t + snd s)) +\n                y;\n   \\<And>x y. x < y \\<Longrightarrow> x + eps < y + eps\\<rbrakk>\n  \\<Longrightarrow> norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t)\n                    < eps + eps\n\ngoal (1 subgoal):\n 1. norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps", "by simp"], ["proof (state)\nthis:\n  norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * eps\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?eps \\<Longrightarrow>\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * ?eps\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "have *: \"\\<forall>\\<^sub>F s in at 0. norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < eps\"\n    if \"eps > 0\" for eps::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < eps", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < eps", "from that"], ["proof (chain)\npicking this:\n  0 < eps", "have \"eps / 2 > 0\""], ["proof (prove)\nusing this:\n  0 < eps\n\ngoal (1 subgoal):\n 1. 0 < eps / 2", "by simp"], ["proof (state)\nthis:\n  0 < eps / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < eps", "from **[OF this]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * (eps / 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < 2 * (eps / 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F s in at 0.\n       norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < eps", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < eps\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?eps \\<Longrightarrow>\n  \\<forall>\\<^sub>F s in at 0.\n     norm (flow t0 (x + fst s) (t + snd s) - flow t0 x t) < ?eps\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>a \\<in> X; b \\<in> existence_ivl t0 a\\<rbrakk>\n       \\<Longrightarrow> isCont (\\<lambda>(x, y). flow t0 x y) (a, b)", "show \"isCont (\\<lambda>(x, y). flow t0 x y) (x, t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (\\<lambda>(x, y). flow t0 x y) (x, t)", "unfolding isCont_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>h. case (x, t) + h of (x, xa) \\<Rightarrow> flow t0 x xa)\n    \\<midarrow>0\n    \\<rightarrow> (case (x, t) of (x, xa) \\<Rightarrow> flow t0 x xa)", "by (rule LIM_zero_cancel)\n      (auto simp: split_beta' norm_conv_dist[symmetric] intro!: tendstoI *)"], ["proof (state)\nthis:\n  isCont (\\<lambda>(x, y). flow t0 x y) (x, t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas flow_continuous_on_compose[continuous_intros] =\n  continuous_on_compose_Pair[OF flow_continuous_on_state_space]"], ["", "lemma flow_isCont_state_space: \"t \\<in> existence_ivl t0 x0 \\<Longrightarrow> isCont (\\<lambda>(x, t). flow t0 x t) (x0, t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n    isCont (\\<lambda>(x, t). flow t0 x t) (x0, t)", "using flow_continuous_on_state_space[of] mem_existence_ivl_iv_defined[of t x0]"], ["proof (prove)\nusing this:\n  continuous_on (Sigma X (existence_ivl t0)) (\\<lambda>(x, t). flow t0 x t)\n  t \\<in> existence_ivl t0 x0 \\<Longrightarrow> t0 \\<in> T\n  t \\<in> existence_ivl t0 x0 \\<Longrightarrow> x0 \\<in> X\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n    isCont (\\<lambda>(x, t). flow t0 x t) (x0, t)", "using continuous_on_eq_continuous_at open_state_space"], ["proof (prove)\nusing this:\n  continuous_on (Sigma X (existence_ivl t0)) (\\<lambda>(x, t). flow t0 x t)\n  t \\<in> existence_ivl t0 x0 \\<Longrightarrow> t0 \\<in> T\n  t \\<in> existence_ivl t0 x0 \\<Longrightarrow> x0 \\<in> X\n  open ?s \\<Longrightarrow>\n  continuous_on ?s ?f = (\\<forall>x\\<in>?s. isCont ?f x)\n  open (Sigma X (existence_ivl t0))\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n    isCont (\\<lambda>(x, t). flow t0 x t) (x0, t)", "by fastforce"], ["", "lemma\n  flow_absolutely_integrable_on[integrable_on_simps]:\n  assumes \"s \\<in> existence_ivl t0 x0\"\n  shows \"(\\<lambda>x. norm (flow t0 x0 x)) integrable_on closed_segment t0 s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (flow t0 x0 x)) integrable_on {t0--s}", "using assms"], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. norm (flow t0 x0 x)) integrable_on {t0--s}", "by (auto simp: closed_segment_eq_real_ivl intro!: integrable_continuous_real continuous_intros\n    flow_continuous_on_intro\n    intro: in_existence_between_zeroI)"], ["", "lemma existence_ivl_eq_domain:\n  assumes iv_defined: \"t0 \\<in> T\" \"x0 \\<in> X\"\n  assumes bnd: \"\\<And>tm tM t x. tm \\<in> T \\<Longrightarrow> tM \\<in> T \\<Longrightarrow> \\<exists>M. \\<exists>L. \\<forall>t \\<in> {tm .. tM}. \\<forall>x \\<in> X. norm (f t x) \\<le> M + L * norm x\"\n  assumes \"is_interval T\" \"X = UNIV\"\n  shows \"existence_ivl t0 x0 = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "from assms"], ["proof (chain)\npicking this:\n  t0 \\<in> T\n  x0 \\<in> X\n  \\<lbrakk>?tm \\<in> T; ?tM \\<in> T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>M L.\n                       \\<forall>t\\<in>{?tm..?tM}.\n                          \\<forall>x\\<in>X.\n                             norm (f t x) \\<le> M + L * norm x\n  is_interval T\n  X = UNIV", "have XI: \"x \\<in> X\" for x"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n  \\<lbrakk>?tm \\<in> T; ?tM \\<in> T\\<rbrakk>\n  \\<Longrightarrow> \\<exists>M L.\n                       \\<forall>t\\<in>{?tm..?tM}.\n                          \\<forall>x\\<in>X.\n                             norm (f t x) \\<le> M + L * norm x\n  is_interval T\n  X = UNIV\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  ?x \\<in> X\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "{"], ["proof (state)\nthis:\n  ?x \\<in> X\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "fix tm tM"], ["proof (state)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "assume tm: \"tm \\<in> T\" and tM: \"tM \\<in> T\" and tmtM: \"tm \\<le> t0\" \"t0 \\<le> tM\""], ["proof (state)\nthis:\n  tm \\<in> T\n  tM \\<in> T\n  tm \\<le> t0\n  t0 \\<le> tM\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "from bnd[OF tm tM]"], ["proof (chain)\npicking this:\n  \\<exists>M L.\n     \\<forall>t\\<in>{tm..tM}.\n        \\<forall>x\\<in>X. norm (f t x) \\<le> M + L * norm x", "obtain M' L'\n    where bnd': \"\\<And>x t. x \\<in> X \\<Longrightarrow> tm \\<le> t \\<Longrightarrow> t \\<le> tM \\<Longrightarrow> norm (f t x) \\<le> M' + L' * norm x\""], ["proof (prove)\nusing this:\n  \\<exists>M L.\n     \\<forall>t\\<in>{tm..tM}.\n        \\<forall>x\\<in>X. norm (f t x) \\<le> M + L * norm x\n\ngoal (1 subgoal):\n 1. (\\<And>M' L'.\n        (\\<And>x t.\n            \\<lbrakk>x \\<in> X; tm \\<le> t; t \\<le> tM\\<rbrakk>\n            \\<Longrightarrow> norm (f t x)\n                              \\<le> M' + L' * norm x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> X; tm \\<le> ?t; ?t \\<le> tM\\<rbrakk>\n  \\<Longrightarrow> norm (f ?t ?x) \\<le> M' + L' * norm ?x\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "define M where \"M \\<equiv> norm M' + 1\""], ["proof (state)\nthis:\n  M \\<equiv> norm M' + 1\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "define L where \"L \\<equiv> norm L' + 1\""], ["proof (state)\nthis:\n  L \\<equiv> norm L' + 1\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have bnd: \"\\<And>x t. x \\<in> X \\<Longrightarrow> tm \\<le> t \\<Longrightarrow> t \\<le> tM \\<Longrightarrow> norm (f t x) \\<le> M + L * norm x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x t.\n       \\<lbrakk>x \\<in> X; tm \\<le> t; t \\<le> tM\\<rbrakk>\n       \\<Longrightarrow> norm (f t x) \\<le> M + L * norm x", "by (auto simp: M_def L_def intro!: bnd'[THEN order_trans] add_mono mult_mono)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> X; tm \\<le> ?t; ?t \\<le> tM\\<rbrakk>\n  \\<Longrightarrow> norm (f ?t ?x) \\<le> M + L * norm ?x\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have \"M > 0\" \"L > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < M &&& 0 < L", "by (auto simp: L_def M_def)"], ["proof (state)\nthis:\n  0 < M\n  0 < L\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "let ?r = \"(norm x0 + \\<bar>tm - tM\\<bar> * M + 1) * exp (L * \\<bar>tm - tM\\<bar>)\""], ["proof (state)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "define K where \"K \\<equiv> cball (0::'a) ?r\""], ["proof (state)\nthis:\n  K \\<equiv>\n  cball (0::'a)\n   ((norm x0 + \\<bar>tm - tM\\<bar> * M + 1) * exp (L * \\<bar>tm - tM\\<bar>))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have K: \"compact K\" \"K \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact K &&& K \\<subseteq> X", "by (auto simp: K_def \\<open>X = UNIV\\<close>)"], ["proof (state)\nthis:\n  compact K\n  K \\<subseteq> X\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "{"], ["proof (state)\nthis:\n  compact K\n  K \\<subseteq> X\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "assume t: \"t \\<in> existence_ivl t0 x0\"  and le: \"tm \\<le> t\" \"t \\<le> tM\""], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 x0\n  tm \\<le> t\n  t \\<le> tM\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "{"], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 x0\n  tm \\<le> t\n  t \\<le> tM\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "assume sc: \"s \\<in> closed_segment t0 t\""], ["proof (state)\nthis:\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "then"], ["proof (chain)\npicking this:\n  s \\<in> {t0--t}", "have s: \"s \\<in> existence_ivl t0 x0\" and le: \"tm \\<le> s\" \"s \\<le> tM\""], ["proof (prove)\nusing this:\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 x0 &&& tm \\<le> s &&& s \\<le> tM", "using t le sc"], ["proof (prove)\nusing this:\n  s \\<in> {t0--t}\n  t \\<in> existence_ivl t0 x0\n  tm \\<le> t\n  t \\<le> tM\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 x0 &&& tm \\<le> s &&& s \\<le> tM", "using closed_segment_subset_existence_ivl"], ["proof (prove)\nusing this:\n  s \\<in> {t0--t}\n  t \\<in> existence_ivl t0 x0\n  tm \\<le> t\n  t \\<le> tM\n  s \\<in> {t0--t}\n  ?t \\<in> existence_ivl t0 ?x0.0 \\<Longrightarrow>\n  {t0--?t} \\<subseteq> existence_ivl t0 ?x0.0\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl t0 x0 &&& tm \\<le> s &&& s \\<le> tM", "apply -"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> s \\<in> existence_ivl t0 x0\n 2. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> tm \\<le> s\n 3. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> s \\<le> tM", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> s \\<in> existence_ivl t0 x0", "by force"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> tm \\<le> s\n 2. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> s \\<le> tM", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> tm \\<le> s", "by (metis (full_types) atLeastAtMost_iff closed_segment_eq_real_ivl order_trans tmtM(1))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> s \\<le> tM", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>s \\<in> {t0--t}; t \\<in> existence_ivl t0 x0; tm \\<le> t;\n     t \\<le> tM; s \\<in> {t0--t};\n     \\<And>t x0.\n        t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n        {t0--t} \\<subseteq> existence_ivl t0 x0\\<rbrakk>\n    \\<Longrightarrow> s \\<le> tM", "by (metis (full_types) atLeastAtMost_iff closed_segment_eq_real_ivl order_trans tmtM(2))"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  s \\<in> existence_ivl t0 x0\n  tm \\<le> s\n  s \\<le> tM\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "from sc"], ["proof (chain)\npicking this:\n  s \\<in> {t0--t}", "have nle: \"norm (t0 - s) \\<le> norm (t0 - t)\""], ["proof (prove)\nusing this:\n  s \\<in> {t0--t}\n\ngoal (1 subgoal):\n 1. norm (t0 - s) \\<le> norm (t0 - t)", "by (auto simp: closed_segment_eq_real_ivl split: if_split_asm)"], ["proof (state)\nthis:\n  norm (t0 - s) \\<le> norm (t0 - t)\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "from flow_fixed_point[OF s]"], ["proof (chain)\npicking this:\n  flow t0 x0 s = x0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 x0 t))", "have \"norm (flow t0 x0 s) \\<le> norm x0 + integral (closed_segment t0 s) (\\<lambda>t. M + L * norm (flow t0 x0 t))\""], ["proof (prove)\nusing this:\n  flow t0 x0 s = x0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. norm (flow t0 x0 s)\n    \\<le> norm x0 +\n          integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t))", "using tmtM"], ["proof (prove)\nusing this:\n  flow t0 x0 s = x0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 x0 t))\n  tm \\<le> t0\n  t0 \\<le> tM\n\ngoal (1 subgoal):\n 1. norm (flow t0 x0 s)\n    \\<le> norm x0 +\n          integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t))", "using closed_segment_subset_existence_ivl[OF s] le"], ["proof (prove)\nusing this:\n  flow t0 x0 s = x0 + ivl_integral t0 s (\\<lambda>t. f t (flow t0 x0 t))\n  tm \\<le> t0\n  t0 \\<le> tM\n  {t0--s} \\<subseteq> existence_ivl t0 x0\n  tm \\<le> s\n  s \\<le> tM\n\ngoal (1 subgoal):\n 1. norm (flow t0 x0 s)\n    \\<le> norm x0 +\n          integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t))", "by (auto simp:\n            intro!: norm_triangle_le norm_triangle_ineq4[THEN order.trans]\n              ivl_integral_norm_bound_integral bnd\n              integrable_continuous_closed_segment\n              integrable_continuous_real\n              continuous_intros\n              continuous_on_subset[OF flow_continuous_on]\n              flow_in_domain\n              mem_existence_ivl_subset)\n          (auto simp: closed_segment_eq_real_ivl split: if_splits)"], ["proof (state)\nthis:\n  norm (flow t0 x0 s)\n  \\<le> norm x0 + integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "also"], ["proof (state)\nthis:\n  norm (flow t0 x0 s)\n  \\<le> norm x0 + integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have \"\\<dots> = norm x0 + norm (t0 - s) * M + L * integral (closed_segment t0 s) (\\<lambda>t. norm (flow t0 x0 t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm x0 + integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t)) =\n    norm x0 + norm (t0 - s) * M +\n    L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))", "by (simp add: integral_add integrable_on_simps \\<open>s \\<in> existence_ivl _ _\\<close>\n            integral_const_closed_segment abs_minus_commute)"], ["proof (state)\nthis:\n  norm x0 + integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t)) =\n  norm x0 + norm (t0 - s) * M +\n  L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "also"], ["proof (state)\nthis:\n  norm x0 + integral {t0--s} (\\<lambda>t. M + L * norm (flow t0 x0 t)) =\n  norm x0 + norm (t0 - s) * M +\n  L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have \"norm (t0 - s) * M \\<le> norm (t0 - t) * M \""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (t0 - s) * M \\<le> norm (t0 - t) * M", "using nle \\<open>M > 0\\<close>"], ["proof (prove)\nusing this:\n  norm (t0 - s) \\<le> norm (t0 - t)\n  0 < M\n\ngoal (1 subgoal):\n 1. norm (t0 - s) * M \\<le> norm (t0 - t) * M", "by auto"], ["proof (state)\nthis:\n  norm (t0 - s) * M \\<le> norm (t0 - t) * M\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "also"], ["proof (state)\nthis:\n  norm (t0 - s) * M \\<le> norm (t0 - t) * M\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have \"\\<dots> \\<le> \\<dots> + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (t0 - t) * M \\<le> norm (t0 - t) * M + 1", "by simp"], ["proof (state)\nthis:\n  norm (t0 - t) * M \\<le> norm (t0 - t) * M + 1\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              norm x0 + x +\n              L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n              \\<le> norm x0 + y +\n                    L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t));\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      norm x0 + x + L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n      \\<le> norm x0 + y +\n            L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\\<rbrakk>\n  \\<Longrightarrow> norm (flow t0 x0 s)\n                    \\<le> norm x0 + (norm (t0 - t) * M + 1) +\n                          L *\n                          integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))", "have \"norm (flow t0 x0 s) \\<le> norm x0 + norm (t0 - t) * M + 1 +\n            L * integral (closed_segment t0 s) (\\<lambda>t. norm (flow t0 x0 t))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              norm x0 + x +\n              L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n              \\<le> norm x0 + y +\n                    L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t));\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      norm x0 + x + L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n      \\<le> norm x0 + y +\n            L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\\<rbrakk>\n  \\<Longrightarrow> norm (flow t0 x0 s)\n                    \\<le> norm x0 + (norm (t0 - t) * M + 1) +\n                          L *\n                          integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. norm (flow t0 x0 s)\n    \\<le> norm x0 + norm (t0 - t) * M + 1 +\n          L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))", "by simp"], ["proof (state)\nthis:\n  norm (flow t0 x0 s)\n  \\<le> norm x0 + norm (t0 - t) * M + 1 +\n        L * integral {t0--s} (\\<lambda>t. norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "}"], ["proof (state)\nthis:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  norm (flow t0 x0 ?s2)\n  \\<le> norm x0 + norm (t0 - t) * M + 1 +\n        L * integral {t0--?s2} (\\<lambda>t. norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "then"], ["proof (chain)\npicking this:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  norm (flow t0 x0 ?s2)\n  \\<le> norm x0 + norm (t0 - t) * M + 1 +\n        L * integral {t0--?s2} (\\<lambda>t. norm (flow t0 x0 t))", "have \"norm (flow t0 x0 t) \\<le> (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)\""], ["proof (prove)\nusing this:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  norm (flow t0 x0 ?s2)\n  \\<le> norm x0 + norm (t0 - t) * M + 1 +\n        L * integral {t0--?s2} (\\<lambda>t. norm (flow t0 x0 t))\n\ngoal (1 subgoal):\n 1. norm (flow t0 x0 t)\n    \\<le> (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)", "using closed_segment_subset_existence_ivl[OF t]"], ["proof (prove)\nusing this:\n  ?s2 \\<in> {t0--t} \\<Longrightarrow>\n  norm (flow t0 x0 ?s2)\n  \\<le> norm x0 + norm (t0 - t) * M + 1 +\n        L * integral {t0--?s2} (\\<lambda>t. norm (flow t0 x0 t))\n  {t0--t} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. norm (flow t0 x0 t)\n    \\<le> (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)", "by (intro gronwall_more_general_segment[where a=t0 and b = t and t = t])\n          (auto simp: \\<open>0 < L\\<close> \\<open>0 < M\\<close> less_imp_le\n            intro!: add_nonneg_pos mult_nonneg_nonneg add_nonneg_nonneg continuous_intros\n              flow_continuous_on_intro)"], ["proof (state)\nthis:\n  norm (flow t0 x0 t)\n  \\<le> (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "also"], ["proof (state)\nthis:\n  norm (flow t0 x0 t)\n  \\<le> (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have \"\\<dots> \\<le> ?r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)\n    \\<le> (norm x0 + \\<bar>tm - tM\\<bar> * M + 1) *\n          exp (L * \\<bar>tm - tM\\<bar>)", "using le tmtM"], ["proof (prove)\nusing this:\n  tm \\<le> t\n  t \\<le> tM\n  tm \\<le> t0\n  t0 \\<le> tM\n\ngoal (1 subgoal):\n 1. (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)\n    \\<le> (norm x0 + \\<bar>tm - tM\\<bar> * M + 1) *\n          exp (L * \\<bar>tm - tM\\<bar>)", "by (auto simp: less_imp_le \\<open>0 < M\\<close> \\<open>0 < L\\<close> abs_minus_commute intro!: mult_mono)"], ["proof (state)\nthis:\n  (norm x0 + norm (t0 - t) * M + 1) * exp (L * \\<bar>t - t0\\<bar>)\n  \\<le> (norm x0 + \\<bar>tm - tM\\<bar> * M + 1) *\n        exp (L * \\<bar>tm - tM\\<bar>)\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "finally"], ["proof (chain)\npicking this:\n  norm (flow t0 x0 t)\n  \\<le> (norm x0 + \\<bar>tm - tM\\<bar> * M + 1) *\n        exp (L * \\<bar>tm - tM\\<bar>)", "have \"flow t0 x0 t \\<in> K\""], ["proof (prove)\nusing this:\n  norm (flow t0 x0 t)\n  \\<le> (norm x0 + \\<bar>tm - tM\\<bar> * M + 1) *\n        exp (L * \\<bar>tm - tM\\<bar>)\n\ngoal (1 subgoal):\n 1. flow t0 x0 t \\<in> K", "by (simp add: dist_norm K_def)"], ["proof (state)\nthis:\n  flow t0 x0 t \\<in> K\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?t2 \\<in> existence_ivl t0 x0; tm \\<le> ?t2;\n   ?t2 \\<le> tM\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t2 \\<in> K\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "note flow_compact = this"], ["proof (state)\nthis:\n  \\<lbrakk>?t2 \\<in> existence_ivl t0 x0; tm \\<le> ?t2;\n   ?t2 \\<le> tM\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 ?t2 \\<in> K\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "have \"{tm..tM} \\<subseteq> existence_ivl t0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {tm..tM} \\<subseteq> existence_ivl t0 x0", "using tmtM tm \\<open>x0 \\<in> X\\<close> \\<open>compact K\\<close> \\<open>K \\<subseteq> X\\<close> mem_is_intervalI[OF \\<open>is_interval T\\<close> \\<open>tm \\<in> T\\<close> \\<open>tM \\<in> T\\<close>]"], ["proof (prove)\nusing this:\n  tm \\<le> t0\n  t0 \\<le> tM\n  tm \\<in> T\n  x0 \\<in> X\n  compact K\n  K \\<subseteq> X\n  (\\<And>i.\n      i \\<in> Basis \\<Longrightarrow>\n      tm \\<bullet> i \\<le> ?x \\<bullet> i \\<and>\n      ?x \\<bullet> i \\<le> tM \\<bullet> i \\<or>\n      tM \\<bullet> i \\<le> ?x \\<bullet> i \\<and>\n      ?x \\<bullet> i \\<le> tm \\<bullet> i) \\<Longrightarrow>\n  ?x \\<in> T\n\ngoal (1 subgoal):\n 1. {tm..tM} \\<subseteq> existence_ivl t0 x0", "by (intro subset_mem_compact_implies_subset_existence_interval[OF _ _ _ _flow_compact])\n         (auto simp: tmtM is_interval_cc)"], ["proof (state)\nthis:\n  {tm..tM} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?tm2 \\<in> T; ?tM2 \\<in> T; ?tm2 \\<le> t0; t0 \\<le> ?tM2\\<rbrakk>\n  \\<Longrightarrow> {?tm2..?tM2} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "note bnds = this"], ["proof (state)\nthis:\n  \\<lbrakk>?tm2 \\<in> T; ?tM2 \\<in> T; ?tm2 \\<le> t0; t0 \\<le> ?tM2\\<rbrakk>\n  \\<Longrightarrow> {?tm2..?tM2} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "show \"existence_ivl t0 x0 = T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 = T", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> existence_ivl t0 x0 \\<Longrightarrow> x \\<in> T\n 2. \\<And>x. x \\<in> T \\<Longrightarrow> x \\<in> existence_ivl t0 x0", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> existence_ivl t0 x0 \\<Longrightarrow> x \\<in> T\n 2. \\<And>x. x \\<in> T \\<Longrightarrow> x \\<in> existence_ivl t0 x0", "assume x: \"x \\<in> T\""], ["proof (state)\nthis:\n  x \\<in> T\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> existence_ivl t0 x0 \\<Longrightarrow> x \\<in> T\n 2. \\<And>x. x \\<in> T \\<Longrightarrow> x \\<in> existence_ivl t0 x0", "from bnds[OF x iv_defined(1)] bnds[OF iv_defined(1) x]"], ["proof (chain)\npicking this:\n  \\<lbrakk>x \\<le> t0; t0 \\<le> t0\\<rbrakk>\n  \\<Longrightarrow> {x..t0} \\<subseteq> existence_ivl t0 x0\n  \\<lbrakk>t0 \\<le> t0; t0 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> {t0..x} \\<subseteq> existence_ivl t0 x0", "show \"x \\<in> existence_ivl t0 x0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>x \\<le> t0; t0 \\<le> t0\\<rbrakk>\n  \\<Longrightarrow> {x..t0} \\<subseteq> existence_ivl t0 x0\n  \\<lbrakk>t0 \\<le> t0; t0 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> {t0..x} \\<subseteq> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. x \\<in> existence_ivl t0 x0", "by (cases \"x \\<le> t0\") auto"], ["proof (state)\nthis:\n  x \\<in> existence_ivl t0 x0\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> existence_ivl t0 x0 \\<Longrightarrow> x \\<in> T", "qed (insert existence_ivl_subset, fastforce)"], ["proof (state)\nthis:\n  existence_ivl t0 x0 = T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow_unique:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  assumes \"phi t0 = x0\"\n  assumes \"\\<And>t. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> (phi has_vector_derivative f t (phi t)) (at t)\"\n  assumes \"\\<And>t. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> phi t \\<in> X\"\n  shows \"flow t0 x0 t = phi t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 t = phi t", "apply (rule maximal_existence_flow[where K=\"existence_ivl t0 x0\"])"], ["proof (prove)\ngoal (6 subgoals):\n 1. (phi solves_ode f) (existence_ivl t0 x0) X\n 2. phi t0 = x0\n 3. is_interval (existence_ivl t0 x0)\n 4. t0 \\<in> existence_ivl t0 x0\n 5. existence_ivl t0 x0 \\<subseteq> T\n 6. t \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (phi solves_ode f) (existence_ivl t0 x0) X", "by (auto intro!: solves_odeI simp: has_vderiv_on_def assms at_within_open[OF _ open_existence_ivl])"], ["proof (prove)\ngoal (5 subgoals):\n 1. phi t0 = x0\n 2. is_interval (existence_ivl t0 x0)\n 3. t0 \\<in> existence_ivl t0 x0\n 4. existence_ivl t0 x0 \\<subseteq> T\n 5. t \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. phi t0 = x0", "by fact"], ["proof (prove)\ngoal (4 subgoals):\n 1. is_interval (existence_ivl t0 x0)\n 2. t0 \\<in> existence_ivl t0 x0\n 3. existence_ivl t0 x0 \\<subseteq> T\n 4. t \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval (existence_ivl t0 x0)", "by (simp add: )"], ["proof (prove)\ngoal (3 subgoals):\n 1. t0 \\<in> existence_ivl t0 x0\n 2. existence_ivl t0 x0 \\<subseteq> T\n 3. t \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t0 x0", "using mem_existence_ivl_iv_defined[OF \\<open>t \\<in> existence_ivl t0 x0\\<close>]"], ["proof (prove)\nusing this:\n  t0 \\<in> T\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t0 x0", "by simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. existence_ivl t0 x0 \\<subseteq> T\n 2. t \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl t0 x0 \\<subseteq> T", "by (simp add: existence_ivl_subset)"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 x0", "by fact"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma flow_unique_on:\n  assumes \"t \\<in> existence_ivl t0 x0\"\n  assumes \"phi t0 = x0\"\n  assumes \"(phi has_vderiv_on (\\<lambda>t. f t (phi t))) (existence_ivl t0 x0)\"\n  assumes \"\\<And>t. t \\<in> existence_ivl t0 x0 \\<Longrightarrow> phi t \\<in> X\"\n  shows \"flow t0 x0 t = phi t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 x0 t = phi t", "using flow_unique[where phi=phi, OF assms(1,2) _ assms(4)] assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n              (phi has_vector_derivative f t (phi t)) (at t);\n   \\<And>t.\n      t \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n      t \\<in> existence_ivl t0 x0\\<rbrakk>\n  \\<Longrightarrow> flow t0 x0 t = phi t\n  (phi has_vderiv_on (\\<lambda>t. f t (phi t))) (existence_ivl t0 x0)\n\ngoal (1 subgoal):\n 1. flow t0 x0 t = phi t", "by (auto simp: has_vderiv_on_open)"], ["", "end \\<comment> \\<open>@{thm local_lipschitz}\\<close>"], ["", "locale two_ll_on_open =\n  F: ll_on_open T1 F X + G: ll_on_open T2 G X\n  for F T1 G T2 X J x0 +\n  fixes e::real and K\n  assumes t0_in_J: \"0 \\<in> J\"\n  assumes J_subset: \"J \\<subseteq> F.existence_ivl 0 x0\"\n  assumes J_ivl: \"is_interval J\"\n  assumes F_lipschitz: \"\\<And>t. t \\<in> J \\<Longrightarrow> K-lipschitz_on X (F t)\"\n  assumes K_pos: \"0 < K\"\n  assumes F_G_norm_ineq: \"\\<And>t x. t \\<in> J \\<Longrightarrow> x \\<in> X \\<Longrightarrow> norm (F t x - G t x) < e\"\nbegin"], ["", "context begin"], ["", "lemma F_iv_defined: \"0 \\<in> T1\" \"x0 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> T1 &&& x0 \\<in> X", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> T1", "using F.existence_ivl_initial_time_iff J_subset t0_in_J"], ["proof (prove)\nusing this:\n  (?t0.0 \\<in> F.existence_ivl ?t0.0 ?x0.0) =\n  (?t0.0 \\<in> T1 \\<and> ?x0.0 \\<in> X)\n  J \\<subseteq> F.existence_ivl 0 x0\n  0 \\<in> J\n\ngoal (1 subgoal):\n 1. 0 \\<in> T1", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> X", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> X", "using F.mem_existence_ivl_iv_defined(2) J_subset t0_in_J"], ["proof (prove)\nusing this:\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n  J \\<subseteq> F.existence_ivl 0 x0\n  0 \\<in> J\n\ngoal (1 subgoal):\n 1. x0 \\<in> X", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma e_pos: \"0 < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e", "using le_less_trans[OF norm_ge_zero F_G_norm_ineq[OF t0_in_J F_iv_defined(2)]]"], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. 0 < e", "by assumption"], ["", "qualified"], ["", "definition \"flow0 t = F.flow 0 x0 t\""], ["", "qualified"], ["", "definition \"Y t = G.flow 0 x0 t\""], ["", "lemma norm_X_Y_bound:\nshows \"\\<forall>t \\<in> J \\<inter> G.existence_ivl 0 x0. norm (flow0 t - Y t) \\<le> e / K * (exp(K * \\<bar>t\\<bar>) - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t\\<in>J \\<inter> G.existence_ivl 0 x0.\n       norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "proof(safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> J; t \\<in> G.existence_ivl 0 x0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 t - Y t)\n                         \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> J; t \\<in> G.existence_ivl 0 x0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 t - Y t)\n                         \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "assume \"t \\<in> J\""], ["proof (state)\nthis:\n  t \\<in> J\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> J; t \\<in> G.existence_ivl 0 x0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 t - Y t)\n                         \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "assume tG: \"t \\<in> G.existence_ivl 0 x0\""], ["proof (state)\nthis:\n  t \\<in> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> J; t \\<in> G.existence_ivl 0 x0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 t - Y t)\n                         \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "have \"0 \\<in> J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> J", "by (simp add: t0_in_J)"], ["proof (state)\nthis:\n  0 \\<in> J\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> J; t \\<in> G.existence_ivl 0 x0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 t - Y t)\n                         \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "let ?u=\"\\<lambda>t. norm (flow0 t - Y t)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t \\<in> J; t \\<in> G.existence_ivl 0 x0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 t - Y t)\n                         \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "show \"norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "proof(cases \"0 \\<le> t\")"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n 2. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "assume \"0 \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n 2. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "hence [simp]: \"\\<bar>t\\<bar> = t\""], ["proof (prove)\nusing this:\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. \\<bar>t\\<bar> = t", "by simp"], ["proof (state)\nthis:\n  \\<bar>t\\<bar> = t\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n 2. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "have t0_t_in_J: \"{0..t} \\<subseteq> J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..t} \\<subseteq> J", "using \\<open>t \\<in> J\\<close> \\<open>0 \\<in> J\\<close> J_ivl"], ["proof (prove)\nusing this:\n  t \\<in> J\n  0 \\<in> J\n  is_interval J\n\ngoal (1 subgoal):\n 1. {0..t} \\<subseteq> J", "using mem_is_interval_1_I atLeastAtMost_iff subsetI"], ["proof (prove)\nusing this:\n  t \\<in> J\n  0 \\<in> J\n  is_interval J\n  \\<lbrakk>is_interval ?S; ?a \\<in> ?S; ?c \\<in> ?S; ?a \\<le> ?b;\n   ?b \\<le> ?c\\<rbrakk>\n  \\<Longrightarrow> ?b \\<in> ?S\n  (?i \\<in> {?l..?u}) = (?l \\<le> ?i \\<and> ?i \\<le> ?u)\n  (\\<And>x. x \\<in> ?A \\<Longrightarrow> x \\<in> ?B) \\<Longrightarrow>\n  ?A \\<subseteq> ?B\n\ngoal (1 subgoal):\n 1. {0..t} \\<subseteq> J", "by blast"], ["proof (state)\nthis:\n  {0..t} \\<subseteq> J\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n 2. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "note F_G_flow_cont[continuous_intros] =\n      continuous_on_subset[OF F.flow_continuous_on]\n      continuous_on_subset[OF G.flow_continuous_on]"], ["proof (state)\nthis:\n  ?t \\<subseteq> F.existence_ivl ?t0.1 ?x0.1 \\<Longrightarrow>\n  continuous_on ?t (F.flow ?t0.1 ?x0.1)\n  ?t \\<subseteq> G.existence_ivl ?t0.1 ?x0.1 \\<Longrightarrow>\n  continuous_on ?t (G.flow ?t0.1 ?x0.1)\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n 2. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "have \"?u t + e/K \\<le> e/K * exp(K * t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow0 t - Y t) + e / K \\<le> e / K * exp (K * t)", "proof(rule gronwall[where g=\"\\<lambda>t. ?u t + e/K\", OF _ _ _ _ K_pos \\<open>0 \\<le> t\\<close> order.refl])"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "fix s"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "assume \"0 \\<le> s\" \"s \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> s\n  s \\<le> t\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "hence \"{0..s} \\<subseteq> J\""], ["proof (prove)\nusing this:\n  0 \\<le> s\n  s \\<le> t\n\ngoal (1 subgoal):\n 1. {0..s} \\<subseteq> J", "using t0_t_in_J"], ["proof (prove)\nusing this:\n  0 \\<le> s\n  s \\<le> t\n  {0..t} \\<subseteq> J\n\ngoal (1 subgoal):\n 1. {0..s} \\<subseteq> J", "by auto"], ["proof (state)\nthis:\n  {0..s} \\<subseteq> J\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "hence t0_s_in_existence:\n        \"{0..s} \\<subseteq> F.existence_ivl 0 x0\"\n        \"{0..s} \\<subseteq> G.existence_ivl 0 x0\""], ["proof (prove)\nusing this:\n  {0..s} \\<subseteq> J\n\ngoal (1 subgoal):\n 1. {0..s} \\<subseteq> F.existence_ivl 0 x0 &&&\n    {0..s} \\<subseteq> G.existence_ivl 0 x0", "using J_subset tG \\<open>0 \\<le> s\\<close> \\<open>s \\<le> t\\<close> G.ivl_subset_existence_ivl[OF tG]"], ["proof (prove)\nusing this:\n  {0..s} \\<subseteq> J\n  J \\<subseteq> F.existence_ivl 0 x0\n  t \\<in> G.existence_ivl 0 x0\n  0 \\<le> s\n  s \\<le> t\n  {0..t} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. {0..s} \\<subseteq> F.existence_ivl 0 x0 &&&\n    {0..s} \\<subseteq> G.existence_ivl 0 x0", "by auto"], ["proof (state)\nthis:\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "hence s_in_existence:\n        \"s \\<in> F.existence_ivl 0 x0\"\n        \"s \\<in> G.existence_ivl 0 x0\""], ["proof (prove)\nusing this:\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. s \\<in> F.existence_ivl 0 x0 &&& s \\<in> G.existence_ivl 0 x0", "using \\<open>0 \\<le> s\\<close>"], ["proof (prove)\nusing this:\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n  0 \\<le> s\n\ngoal (1 subgoal):\n 1. s \\<in> F.existence_ivl 0 x0 &&& s \\<in> G.existence_ivl 0 x0", "by auto"], ["proof (state)\nthis:\n  s \\<in> F.existence_ivl 0 x0\n  s \\<in> G.existence_ivl 0 x0\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "note cont_statements[continuous_intros] =\n        F_iv_defined (*  G.iv_defined *)\n        F.flow_in_domain\n        G.flow_in_domain\n        F.mem_existence_ivl_subset\n        G.mem_existence_ivl_subset"], ["proof (state)\nthis:\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T2\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have [integrable_on_simps]:\n        \"continuous_on {0..s} (\\<lambda>s. F s (F.flow 0 x0 s))\"\n        \"continuous_on {0..s} (\\<lambda>s. G s (G.flow 0 x0 s))\"\n        \"continuous_on {0..s} (\\<lambda>s. F s (G.flow 0 x0 s))\"\n        \"continuous_on {0..s} (\\<lambda>s. G s (F.flow 0 x0 s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (continuous_on {0..s} (\\<lambda>s. F s (F.flow 0 x0 s)) &&&\n     continuous_on {0..s} (\\<lambda>s. G s (G.flow 0 x0 s))) &&&\n    continuous_on {0..s} (\\<lambda>s. F s (G.flow 0 x0 s)) &&&\n    continuous_on {0..s} (\\<lambda>s. G s (F.flow 0 x0 s))", "using t0_s_in_existence"], ["proof (prove)\nusing this:\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. (continuous_on {0..s} (\\<lambda>s. F s (F.flow 0 x0 s)) &&&\n     continuous_on {0..s} (\\<lambda>s. G s (G.flow 0 x0 s))) &&&\n    continuous_on {0..s} (\\<lambda>s. F s (G.flow 0 x0 s)) &&&\n    continuous_on {0..s} (\\<lambda>s. G s (F.flow 0 x0 s))", "by (auto intro!: continuous_intros integrable_continuous_real)"], ["proof (state)\nthis:\n  continuous_on {0..s} (\\<lambda>s. F s (F.flow 0 x0 s))\n  continuous_on {0..s} (\\<lambda>s. G s (G.flow 0 x0 s))\n  continuous_on {0..s} (\\<lambda>s. F s (G.flow 0 x0 s))\n  continuous_on {0..s} (\\<lambda>s. G s (F.flow 0 x0 s))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"flow0 s - Y s = integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 s - Y s = integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s))", "using \\<open>0 \\<le> s\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> s\n\ngoal (1 subgoal):\n 1. flow0 s - Y s = integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s))", "by (simp add: flow0_def Y_def Henstock_Kurzweil_Integration.integral_diff integrable_on_simps ivl_integral_def\n               F.flow_fixed_point[OF s_in_existence(1)]\n               G.flow_fixed_point[OF s_in_existence(2)])"], ["proof (state)\nthis:\n  flow0 s - Y s = integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  flow0 s - Y s = integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... = integral {0..s} (\\<lambda>s. (F s (flow0 s) - F s (Y s)) + (F s (Y s) - G s (Y s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s)) =\n    integral {0..s}\n     (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s)))", "by simp"], ["proof (state)\nthis:\n  integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s)) =\n  integral {0..s}\n   (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  integral {0..s} (\\<lambda>s. F s (flow0 s) - G s (Y s)) =\n  integral {0..s}\n   (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... = integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s)) + integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {0..s}\n     (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s))) =\n    integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n    integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s))", "by (simp add: Henstock_Kurzweil_Integration.integral_diff Henstock_Kurzweil_Integration.integral_add flow0_def Y_def integrable_on_simps)"], ["proof (state)\nthis:\n  integral {0..s}\n   (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s))) =\n  integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n  integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "finally"], ["proof (chain)\npicking this:\n  flow0 s - Y s =\n  integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n  integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s))", "have \"?u s \\<le> norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) + norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\""], ["proof (prove)\nusing this:\n  flow0 s - Y s =\n  integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n  integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s))\n\ngoal (1 subgoal):\n 1. norm (flow0 s - Y s)\n    \\<le> norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n          norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))", "by (simp add: norm_triangle_ineq)"], ["proof (state)\nthis:\n  norm (flow0 s - Y s)\n  \\<le> norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n        norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  norm (flow0 s - Y s)\n  \\<le> norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n        norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... \\<le> integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) + integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n    norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\n    \\<le> integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n          integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))", "using t0_s_in_existence"], ["proof (prove)\nusing this:\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n    norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\n    \\<le> integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n          integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))", "by (auto simp add: flow0_def Y_def\n          intro!: add_mono continuous_intros continuous_on_imp_absolutely_integrable_on)"], ["proof (state)\nthis:\n  norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n  norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\n  \\<le> integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n        integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  norm (integral {0..s} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n  norm (integral {0..s} (\\<lambda>s. F s (Y s) - G s (Y s)))\n  \\<le> integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n        integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... \\<le> integral {0..s} (\\<lambda>s. K * ?u s) + integral {0..s} (\\<lambda>s. e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n    integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n    \\<le> integral {0..s} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n          integral {0..s} (\\<lambda>s. e)", "proof (rule add_mono[OF integral_le integral_le])"], ["proof (state)\ngoal (6 subgoals):\n 1. (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) integrable_on {0..s}\n 2. (\\<lambda>s. K * norm (flow0 s - Y s)) integrable_on {0..s}\n 3. \\<And>x.\n       x \\<in> {0..s} \\<Longrightarrow>\n       norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)\n 4. (\\<lambda>s. norm (F s (Y s) - G s (Y s))) integrable_on {0..s}\n 5. (\\<lambda>s. e) integrable_on {0..s}\n 6. \\<And>x.\n       x \\<in> {0..s} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "show \"norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)\" if \"x \\<in> {0..s}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)", "using F_lipschitz[unfolded lipschitz_on_def, THEN conjunct2] that\n            cont_statements(1,2,4)\n            t0_s_in_existence F_iv_defined"], ["proof (prove)\nusing this:\n  ?t1 \\<in> J \\<Longrightarrow>\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X. dist (F ?t1 x) (F ?t1 y) \\<le> K * dist x y\n  x \\<in> {0..s}\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n  0 \\<in> T1\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)", "(* G.iv_defined *)"], ["proof (prove)\nusing this:\n  ?t1 \\<in> J \\<Longrightarrow>\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X. dist (F ?t1 x) (F ?t1 y) \\<le> K * dist x y\n  x \\<in> {0..s}\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n  0 \\<in> T1\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)", "by (metis F_lipschitz flow0_def Y_def \\<open>{0..s} \\<subseteq> J\\<close> lipschitz_on_normD F.flow_in_domain\n            G.flow_in_domain subsetCE)"], ["proof (state)\nthis:\n  ?x \\<in> {0..s} \\<Longrightarrow>\n  norm (F ?x (flow0 ?x) - F ?x (Y ?x)) \\<le> K * norm (flow0 ?x - Y ?x)\n\ngoal (5 subgoals):\n 1. (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) integrable_on {0..s}\n 2. (\\<lambda>s. K * norm (flow0 s - Y s)) integrable_on {0..s}\n 3. (\\<lambda>s. norm (F s (Y s) - G s (Y s))) integrable_on {0..s}\n 4. (\\<lambda>s. e) integrable_on {0..s}\n 5. \\<And>x.\n       x \\<in> {0..s} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "show \"\\<And>x. x \\<in> {0..s} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..s} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "using F_G_norm_ineq cont_statements(2,3) t0_s_in_existence"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<in> J; ?x \\<in> X\\<rbrakk>\n  \\<Longrightarrow> norm (F ?t ?x - G ?t ?x) < e\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..s} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "using Y_def \\<open>{0..s} \\<subseteq> J\\<close> cont_statements(5) subset_iff G.flow_in_domain"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<in> J; ?x \\<in> X\\<rbrakk>\n  \\<Longrightarrow> norm (F ?t ?x - G ?t ?x) < e\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n  Y ?t = G.flow 0 x0 ?t\n  {0..s} \\<subseteq> J\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  (?A \\<subseteq> ?B) =\n  (\\<forall>t. t \\<in> ?A \\<longrightarrow> t \\<in> ?B)\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..s} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "by (metis eucl_less_le_not_le)"], ["proof (state)\nthis:\n  ?x \\<in> {0..s} \\<Longrightarrow> norm (F ?x (Y ?x) - G ?x (Y ?x)) \\<le> e\n\ngoal (4 subgoals):\n 1. (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) integrable_on {0..s}\n 2. (\\<lambda>s. K * norm (flow0 s - Y s)) integrable_on {0..s}\n 3. (\\<lambda>s. norm (F s (Y s) - G s (Y s))) integrable_on {0..s}\n 4. (\\<lambda>s. e) integrable_on {0..s}", "qed (simp_all add: t0_s_in_existence continuous_intros integrable_on_simps flow0_def Y_def)"], ["proof (state)\nthis:\n  integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n  integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n  \\<le> integral {0..s} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n        integral {0..s} (\\<lambda>s. e)\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  integral {0..s} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n  integral {0..s} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n  \\<le> integral {0..s} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n        integral {0..s} (\\<lambda>s. e)\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... = K * integral {0..s} (\\<lambda>s. ?u s + e / K)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {0..s} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n    integral {0..s} (\\<lambda>s. e) =\n    K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "using K_pos t0_s_in_existence"], ["proof (prove)\nusing this:\n  0 < K\n  {0..s} \\<subseteq> F.existence_ivl 0 x0\n  {0..s} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. integral {0..s} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n    integral {0..s} (\\<lambda>s. e) =\n    K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "by (simp_all add: algebra_simps Henstock_Kurzweil_Integration.integral_add flow0_def Y_def continuous_intros\n          continuous_on_imp_absolutely_integrable_on)"], ["proof (state)\nthis:\n  integral {0..s} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n  integral {0..s} (\\<lambda>s. e) =\n  K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {0..ta}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "finally"], ["proof (chain)\npicking this:\n  norm (flow0 s - Y s)\n  \\<le> K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "show \"?u s + e / K \\<le> e / K + K * integral {0..s} (\\<lambda>s. ?u s + e / K)\""], ["proof (prove)\nusing this:\n  norm (flow0 s - Y s)\n  \\<le> K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n\ngoal (1 subgoal):\n 1. norm (flow0 s - Y s) + e / K\n    \\<le> e / K +\n          K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "by simp"], ["proof (state)\nthis:\n  norm (flow0 s - Y s) + e / K\n  \\<le> e / K +\n        K * integral {0..s} (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n\ngoal (3 subgoals):\n 1. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 2. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 3. 0 < e / K", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 2. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 3. 0 < e / K", "show \"continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)", "using t0_t_in_J J_subset G.ivl_subset_existence_ivl[OF tG]"], ["proof (prove)\nusing this:\n  {0..t} \\<subseteq> J\n  J \\<subseteq> F.existence_ivl 0 x0\n  {0..t} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)", "by (auto simp add: flow0_def Y_def intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on {0..t} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "assume \"0 \\<le> s\" \"s \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> s\n  s \\<le> t\n\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>0 \\<le> ta; ta \\<le> t\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "show \"0 \\<le> norm (flow0 s - Y s) + e / K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> norm (flow0 s - Y s) + e / K", "using e_pos K_pos"], ["proof (prove)\nusing this:\n  0 < e\n  0 < K\n\ngoal (1 subgoal):\n 1. 0 \\<le> norm (flow0 s - Y s) + e / K", "by simp"], ["proof (state)\nthis:\n  0 \\<le> norm (flow0 s - Y s) + e / K\n\ngoal (1 subgoal):\n 1. 0 < e / K", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < e / K", "show \"0 < e / K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e / K", "using e_pos K_pos"], ["proof (prove)\nusing this:\n  0 < e\n  0 < K\n\ngoal (1 subgoal):\n 1. 0 < e / K", "by simp"], ["proof (state)\nthis:\n  0 < e / K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (flow0 t - Y t) + e / K \\<le> e / K * exp (K * t)\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n 2. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  norm (flow0 t - Y t) + e / K \\<le> e / K * exp (K * t)\n\ngoal (1 subgoal):\n 1. norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "assume \"\\<not>0 \\<le> t\""], ["proof (state)\nthis:\n  \\<not> 0 \\<le> t\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "hence \"t \\<le> 0\""], ["proof (prove)\nusing this:\n  \\<not> 0 \\<le> t\n\ngoal (1 subgoal):\n 1. t \\<le> 0", "by simp"], ["proof (state)\nthis:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "hence [simp]: \"\\<bar>t\\<bar> = -t\""], ["proof (prove)\nusing this:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<bar>t\\<bar> = - t", "by simp"], ["proof (state)\nthis:\n  \\<bar>t\\<bar> = - t\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "have t0_t_in_J: \"{t..0} \\<subseteq> J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<subseteq> J", "using \\<open>t \\<in> J\\<close> \\<open>0 \\<in> J\\<close> J_ivl \\<open>\\<not> 0 \\<le> t\\<close> atMostAtLeast_subset_convex is_interval_convex_1"], ["proof (prove)\nusing this:\n  t \\<in> J\n  0 \\<in> J\n  is_interval J\n  \\<not> 0 \\<le> t\n  \\<lbrakk>convex ?C; ?x \\<in> ?C; ?y \\<in> ?C; ?x < ?y\\<rbrakk>\n  \\<Longrightarrow> {?x..?y} \\<subseteq> ?C\n  is_interval ?S = convex ?S\n\ngoal (1 subgoal):\n 1. {t..0} \\<subseteq> J", "by auto"], ["proof (state)\nthis:\n  {t..0} \\<subseteq> J\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "note F_G_flow_cont[continuous_intros] =\n      continuous_on_subset[OF F.flow_continuous_on]\n      continuous_on_subset[OF G.flow_continuous_on]"], ["proof (state)\nthis:\n  ?t \\<subseteq> F.existence_ivl ?t0.1 ?x0.1 \\<Longrightarrow>\n  continuous_on ?t (F.flow ?t0.1 ?x0.1)\n  ?t \\<subseteq> G.existence_ivl ?t0.1 ?x0.1 \\<Longrightarrow>\n  continuous_on ?t (G.flow ?t0.1 ?x0.1)\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "have \"?u t + e/K \\<le> e/K * exp(- K * t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (flow0 t - Y t) + e / K \\<le> e / K * exp (- K * t)", "proof(rule gronwall_left[where g=\"\\<lambda>t. ?u t + e/K\", OF _ _ _ _ K_pos order.refl \\<open>t \\<le> 0\\<close>])"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "fix s"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "assume \"t \\<le> s\" \"s \\<le> 0\""], ["proof (state)\nthis:\n  t \\<le> s\n  s \\<le> 0\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "hence \"{s..0} \\<subseteq> J\""], ["proof (prove)\nusing this:\n  t \\<le> s\n  s \\<le> 0\n\ngoal (1 subgoal):\n 1. {s..0} \\<subseteq> J", "using t0_t_in_J"], ["proof (prove)\nusing this:\n  t \\<le> s\n  s \\<le> 0\n  {t..0} \\<subseteq> J\n\ngoal (1 subgoal):\n 1. {s..0} \\<subseteq> J", "by auto"], ["proof (state)\nthis:\n  {s..0} \\<subseteq> J\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "hence t0_s_in_existence:\n        \"{s..0} \\<subseteq> F.existence_ivl 0 x0\"\n        \"{s..0} \\<subseteq> G.existence_ivl 0 x0\""], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> J\n\ngoal (1 subgoal):\n 1. {s..0} \\<subseteq> F.existence_ivl 0 x0 &&&\n    {s..0} \\<subseteq> G.existence_ivl 0 x0", "using J_subset G.ivl_subset_existence_ivl'[OF tG] \\<open>s \\<le> 0\\<close> \\<open>t \\<le> s\\<close>"], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> J\n  J \\<subseteq> F.existence_ivl 0 x0\n  {t..0} \\<subseteq> G.existence_ivl 0 x0\n  s \\<le> 0\n  t \\<le> s\n\ngoal (1 subgoal):\n 1. {s..0} \\<subseteq> F.existence_ivl 0 x0 &&&\n    {s..0} \\<subseteq> G.existence_ivl 0 x0", "by auto"], ["proof (state)\nthis:\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "hence s_in_existence:\n        \"s \\<in> F.existence_ivl 0 x0\"\n        \"s \\<in> G.existence_ivl 0 x0\""], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. s \\<in> F.existence_ivl 0 x0 &&& s \\<in> G.existence_ivl 0 x0", "using \\<open>s \\<le> 0\\<close>"], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n  s \\<le> 0\n\ngoal (1 subgoal):\n 1. s \\<in> F.existence_ivl 0 x0 &&& s \\<in> G.existence_ivl 0 x0", "by auto"], ["proof (state)\nthis:\n  s \\<in> F.existence_ivl 0 x0\n  s \\<in> G.existence_ivl 0 x0\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "note cont_statements[continuous_intros] =\n        F_iv_defined\n        F.flow_in_domain\n        G.flow_in_domain\n        F.mem_existence_ivl_subset\n        G.mem_existence_ivl_subset"], ["proof (state)\nthis:\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T2\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "then"], ["proof (chain)\npicking this:\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T2", "have [continuous_intros]:\n        \"{s..0} \\<subseteq> T1\"\n        \"{s..0} \\<subseteq> T2\"\n        \"F.flow 0 x0 ` {s..0} \\<subseteq> X\"\n        \"G.flow 0 x0 ` {s..0} \\<subseteq> X\"\n        \"s \\<le> x \\<Longrightarrow> x \\<le> 0 \\<Longrightarrow> x \\<in> F.existence_ivl 0 x0\"\n        \"s \\<le> x \\<Longrightarrow> x \\<le> 0 \\<Longrightarrow> x \\<in> G.existence_ivl 0 x0\" for x"], ["proof (prove)\nusing this:\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T2\n\ngoal (1 subgoal):\n 1. ({s..0} \\<subseteq> T1 &&&\n     {s..0} \\<subseteq> T2 &&& F.flow 0 x0 ` {s..0} \\<subseteq> X) &&&\n    G.flow 0 x0 ` {s..0} \\<subseteq> X &&&\n    (\\<lbrakk>s \\<le> x; x \\<le> 0\\<rbrakk>\n     \\<Longrightarrow> x \\<in> F.existence_ivl 0 x0) &&&\n    (\\<lbrakk>s \\<le> x; x \\<le> 0\\<rbrakk>\n     \\<Longrightarrow> x \\<in> G.existence_ivl 0 x0)", "using t0_s_in_existence"], ["proof (prove)\nusing this:\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  F.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T2\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. ({s..0} \\<subseteq> T1 &&&\n     {s..0} \\<subseteq> T2 &&& F.flow 0 x0 ` {s..0} \\<subseteq> X) &&&\n    G.flow 0 x0 ` {s..0} \\<subseteq> X &&&\n    (\\<lbrakk>s \\<le> x; x \\<le> 0\\<rbrakk>\n     \\<Longrightarrow> x \\<in> F.existence_ivl 0 x0) &&&\n    (\\<lbrakk>s \\<le> x; x \\<le> 0\\<rbrakk>\n     \\<Longrightarrow> x \\<in> G.existence_ivl 0 x0)", "by (auto simp: )"], ["proof (state)\nthis:\n  {s..0} \\<subseteq> T1\n  {s..0} \\<subseteq> T2\n  F.flow 0 x0 ` {s..0} \\<subseteq> X\n  G.flow 0 x0 ` {s..0} \\<subseteq> X\n  \\<lbrakk>s \\<le> ?x; ?x \\<le> 0\\<rbrakk>\n  \\<Longrightarrow> ?x \\<in> F.existence_ivl 0 x0\n  \\<lbrakk>s \\<le> ?x; ?x \\<le> 0\\<rbrakk>\n  \\<Longrightarrow> ?x \\<in> G.existence_ivl 0 x0\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"flow0 s - Y s = - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 s - Y s =\n    - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s))", "using t0_s_in_existence \\<open>s \\<le> 0\\<close>"], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n  s \\<le> 0\n\ngoal (1 subgoal):\n 1. flow0 s - Y s =\n    - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s))", "by (simp add: flow0_def Y_def ivl_integral_def\n               F.flow_fixed_point[OF s_in_existence(1)]\n               G.flow_fixed_point[OF s_in_existence(2)]\n               continuous_intros integrable_on_simps Henstock_Kurzweil_Integration.integral_diff)"], ["proof (state)\nthis:\n  flow0 s - Y s = - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  flow0 s - Y s = - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... = - integral {s..0} (\\<lambda>s. (F s (flow0 s) - F s (Y s)) + (F s (Y s) - G s (Y s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s)) =\n    - integral {s..0}\n       (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s)))", "by simp"], ["proof (state)\nthis:\n  - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s)) =\n  - integral {s..0}\n     (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  - integral {s..0} (\\<lambda>s. F s (flow0 s) - G s (Y s)) =\n  - integral {s..0}\n     (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... = - (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s)) + integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - integral {s..0}\n       (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s))) =\n    - (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n       integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))", "using t0_s_in_existence"], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. - integral {s..0}\n       (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s))) =\n    - (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n       integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))", "by (subst Henstock_Kurzweil_Integration.integral_add) (simp_all add: integral_add flow0_def Y_def continuous_intros integrable_on_simps)"], ["proof (state)\nthis:\n  - integral {s..0}\n     (\\<lambda>s. F s (flow0 s) - F s (Y s) + (F s (Y s) - G s (Y s))) =\n  - (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n     integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "finally"], ["proof (chain)\npicking this:\n  flow0 s - Y s =\n  - (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n     integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))", "have \"?u s \\<le> norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) + norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\""], ["proof (prove)\nusing this:\n  flow0 s - Y s =\n  - (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s)) +\n     integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n\ngoal (1 subgoal):\n 1. norm (flow0 s - Y s)\n    \\<le> norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n          norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))", "by (metis (no_types, lifting) norm_minus_cancel norm_triangle_ineq)"], ["proof (state)\nthis:\n  norm (flow0 s - Y s)\n  \\<le> norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n        norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  norm (flow0 s - Y s)\n  \\<le> norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n        norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... \\<le> integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) + integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n    norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n    \\<le> integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n          integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))", "using t0_s_in_existence"], ["proof (prove)\nusing this:\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n    norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n    \\<le> integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n          integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))", "by (auto simp add: flow0_def Y_def intro!: continuous_intros continuous_on_imp_absolutely_integrable_on add_mono)"], ["proof (state)\nthis:\n  norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n  norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n  \\<le> integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n        integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  norm (integral {s..0} (\\<lambda>s. F s (flow0 s) - F s (Y s))) +\n  norm (integral {s..0} (\\<lambda>s. F s (Y s) - G s (Y s)))\n  \\<le> integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n        integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... \\<le> integral {s..0} (\\<lambda>s. K * ?u s) + integral {s..0} (\\<lambda>s. e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n    integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n    \\<le> integral {s..0} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n          integral {s..0} (\\<lambda>s. e)", "proof (rule add_mono[OF integral_le integral_le])"], ["proof (state)\ngoal (6 subgoals):\n 1. (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) integrable_on {s..0}\n 2. (\\<lambda>s. K * norm (flow0 s - Y s)) integrable_on {s..0}\n 3. \\<And>x.\n       x \\<in> {s..0} \\<Longrightarrow>\n       norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)\n 4. (\\<lambda>s. norm (F s (Y s) - G s (Y s))) integrable_on {s..0}\n 5. (\\<lambda>s. e) integrable_on {s..0}\n 6. \\<And>x.\n       x \\<in> {s..0} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "show \"norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)\" if \"x\\<in>{s..0}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)", "using F_lipschitz[unfolded lipschitz_on_def, THEN conjunct2]\n            cont_statements(1,2,4) that\n            t0_s_in_existence F_iv_defined"], ["proof (prove)\nusing this:\n  ?t1 \\<in> J \\<Longrightarrow>\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X. dist (F ?t1 x) (F ?t1 y) \\<le> K * dist x y\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  x \\<in> {s..0}\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n  0 \\<in> T1\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)", "(* G.iv_defined *)"], ["proof (prove)\nusing this:\n  ?t1 \\<in> J \\<Longrightarrow>\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X. dist (F ?t1 x) (F ?t1 y) \\<le> K * dist x y\n  0 \\<in> T1\n  x0 \\<in> X\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n  x \\<in> {s..0}\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n  0 \\<in> T1\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. norm (F x (flow0 x) - F x (Y x)) \\<le> K * norm (flow0 x - Y x)", "by (metis F_lipschitz flow0_def Y_def \\<open>{s..0} \\<subseteq> J\\<close> lipschitz_on_normD F.flow_in_domain\n            G.flow_in_domain subsetCE)"], ["proof (state)\nthis:\n  ?x \\<in> {s..0} \\<Longrightarrow>\n  norm (F ?x (flow0 ?x) - F ?x (Y ?x)) \\<le> K * norm (flow0 ?x - Y ?x)\n\ngoal (5 subgoals):\n 1. (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) integrable_on {s..0}\n 2. (\\<lambda>s. K * norm (flow0 s - Y s)) integrable_on {s..0}\n 3. (\\<lambda>s. norm (F s (Y s) - G s (Y s))) integrable_on {s..0}\n 4. (\\<lambda>s. e) integrable_on {s..0}\n 5. \\<And>x.\n       x \\<in> {s..0} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "show \"\\<And>x. x \\<in> {s..0} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {s..0} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "using F_G_norm_ineq Y_def \\<open>{s..0} \\<subseteq> J\\<close> cont_statements(5) subset_iff t0_s_in_existence(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<in> J; ?x \\<in> X\\<rbrakk>\n  \\<Longrightarrow> norm (F ?t ?x - G ?t ?x) < e\n  Y ?t = G.flow 0 x0 ?t\n  {s..0} \\<subseteq> J\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  (?A \\<subseteq> ?B) =\n  (\\<forall>t. t \\<in> ?A \\<longrightarrow> t \\<in> ?B)\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {s..0} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "using Y_def \\<open>{s..0} \\<subseteq> J\\<close> cont_statements(5) subset_iff G.flow_in_domain"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<in> J; ?x \\<in> X\\<rbrakk>\n  \\<Longrightarrow> norm (F ?t ?x - G ?t ?x) < e\n  Y ?t = G.flow 0 x0 ?t\n  {s..0} \\<subseteq> J\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  (?A \\<subseteq> ?B) =\n  (\\<forall>t. t \\<in> ?A \\<longrightarrow> t \\<in> ?B)\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n  Y ?t = G.flow 0 x0 ?t\n  {s..0} \\<subseteq> J\n  ?t \\<in> F.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?t \\<in> T1\n  (?A \\<subseteq> ?B) =\n  (\\<forall>t. t \\<in> ?A \\<longrightarrow> t \\<in> ?B)\n  ?t \\<in> G.existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  G.flow ?t0.0 ?x0.0 ?t \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {s..0} \\<Longrightarrow> norm (F x (Y x) - G x (Y x)) \\<le> e", "by (metis eucl_less_le_not_le)"], ["proof (state)\nthis:\n  ?x \\<in> {s..0} \\<Longrightarrow> norm (F ?x (Y ?x) - G ?x (Y ?x)) \\<le> e\n\ngoal (4 subgoals):\n 1. (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) integrable_on {s..0}\n 2. (\\<lambda>s. K * norm (flow0 s - Y s)) integrable_on {s..0}\n 3. (\\<lambda>s. norm (F s (Y s) - G s (Y s))) integrable_on {s..0}\n 4. (\\<lambda>s. e) integrable_on {s..0}", "qed (simp_all add: t0_s_in_existence continuous_intros integrable_on_simps flow0_def Y_def)"], ["proof (state)\nthis:\n  integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n  integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n  \\<le> integral {s..0} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n        integral {s..0} (\\<lambda>s. e)\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "also"], ["proof (state)\nthis:\n  integral {s..0} (\\<lambda>s. norm (F s (flow0 s) - F s (Y s))) +\n  integral {s..0} (\\<lambda>s. norm (F s (Y s) - G s (Y s)))\n  \\<le> integral {s..0} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n        integral {s..0} (\\<lambda>s. e)\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "have \"... = K * integral {s..0} (\\<lambda>s. ?u s + e / K)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {s..0} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n    integral {s..0} (\\<lambda>s. e) =\n    K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "using K_pos t0_s_in_existence"], ["proof (prove)\nusing this:\n  0 < K\n  {s..0} \\<subseteq> F.existence_ivl 0 x0\n  {s..0} \\<subseteq> G.existence_ivl 0 x0\n\ngoal (1 subgoal):\n 1. integral {s..0} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n    integral {s..0} (\\<lambda>s. e) =\n    K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "by (simp_all add: algebra_simps Henstock_Kurzweil_Integration.integral_add t0_s_in_existence continuous_intros integrable_on_simps flow0_def Y_def)"], ["proof (state)\nthis:\n  integral {s..0} (\\<lambda>s. K * norm (flow0 s - Y s)) +\n  integral {s..0} (\\<lambda>s. e) =\n  K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n\ngoal (4 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> norm (flow0 ta - Y ta) + e / K\n                         \\<le> e / K +\n                               K *\n                               integral {ta..0}\n                                (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n 2. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 3. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 4. 0 < e / K", "finally"], ["proof (chain)\npicking this:\n  norm (flow0 s - Y s)\n  \\<le> K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "show \"?u s + e / K \\<le> e / K + K * integral {s..0} (\\<lambda>s. ?u s + e / K)\""], ["proof (prove)\nusing this:\n  norm (flow0 s - Y s)\n  \\<le> K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n\ngoal (1 subgoal):\n 1. norm (flow0 s - Y s) + e / K\n    \\<le> e / K +\n          K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)", "by simp"], ["proof (state)\nthis:\n  norm (flow0 s - Y s) + e / K\n  \\<le> e / K +\n        K * integral {s..0} (\\<lambda>s. norm (flow0 s - Y s) + e / K)\n\ngoal (3 subgoals):\n 1. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 2. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 3. 0 < e / K", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n 2. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 3. 0 < e / K", "show \"continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)", "using t0_t_in_J J_subset G.ivl_subset_existence_ivl'[OF tG] F_iv_defined"], ["proof (prove)\nusing this:\n  {t..0} \\<subseteq> J\n  J \\<subseteq> F.existence_ivl 0 x0\n  {t..0} \\<subseteq> G.existence_ivl 0 x0\n  0 \\<in> T1\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)", "by (auto simp add: flow0_def Y_def intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on {t..0} (\\<lambda>t. norm (flow0 t - Y t) + e / K)\n\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "assume \"t \\<le> s\" \"s \\<le> 0\""], ["proof (state)\nthis:\n  t \\<le> s\n  s \\<le> 0\n\ngoal (2 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>t \\<le> ta; ta \\<le> 0\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> norm (flow0 ta - Y ta) + e / K\n 2. 0 < e / K", "show \"0 \\<le> norm (flow0 s - Y s) + e / K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> norm (flow0 s - Y s) + e / K", "using e_pos K_pos"], ["proof (prove)\nusing this:\n  0 < e\n  0 < K\n\ngoal (1 subgoal):\n 1. 0 \\<le> norm (flow0 s - Y s) + e / K", "by simp"], ["proof (state)\nthis:\n  0 \\<le> norm (flow0 s - Y s) + e / K\n\ngoal (1 subgoal):\n 1. 0 < e / K", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < e / K", "show \"0 < e / K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e / K", "using e_pos K_pos"], ["proof (prove)\nusing this:\n  0 < e\n  0 < K\n\ngoal (1 subgoal):\n 1. 0 < e / K", "by simp"], ["proof (state)\nthis:\n  0 < e / K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (flow0 t - Y t) + e / K \\<le> e / K * exp (- K * t)\n\ngoal (1 subgoal):\n 1. \\<not> 0 \\<le> t \\<Longrightarrow>\n    norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "thus ?thesis"], ["proof (prove)\nusing this:\n  norm (flow0 t - Y t) + e / K \\<le> e / K * exp (- K * t)\n\ngoal (1 subgoal):\n 1. norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (flow0 t - Y t) \\<le> e / K * (exp (K * \\<bar>t\\<bar>) - 1)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"], ["", "locale auto_ll_on_open =\n  fixes f::\"'a::{banach, heine_borel} \\<Rightarrow> 'a\" and X\n  assumes auto_local_lipschitz: \"local_lipschitz UNIV X (\\<lambda>_::real. f)\"\n  assumes auto_open_domain[intro!, simp]: \"open X\"\nbegin"], ["", "text \\<open>autonomous flow and existence interval \\<close>"], ["", "definition \"flow0 x0 t = ll_on_open.flow UNIV (\\<lambda>_. f) X 0 x0 t\""], ["", "definition \"existence_ivl0 x0 = ll_on_open.existence_ivl UNIV (\\<lambda>_. f) X 0 x0\""], ["", "sublocale ll_on_open_it UNIV \"\\<lambda>_. f\" X 0\n  rewrites \"flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\"\n       and \"existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\"\n       and \"(+) 0 = (\\<lambda>x::real. x)\"\n       and \"s - 0 = s\"\n       and \"(\\<lambda>x. x) ` S = S\"\n       and \"s \\<in> (+) t ` S \\<longleftrightarrow> s - t \\<in> (S::real set)\"\n       and \"P (s + t - s) = P (t::real)\"\\<comment> \\<open>TODO: why does just the equation not work?\\<close>\n       and \"P (t + s - s) = P t\"\\<comment> \\<open>TODO: why does just the equation not work?\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((ll_on_open_it UNIV (\\<lambda>_. f) X &&&\n      ll_on_open.flow UNIV (\\<lambda>_. f) X =\n      (\\<lambda>t0 x0 t. flow0 x0 (t - t0))) &&&\n     ll_on_open.existence_ivl UNIV (\\<lambda>_. f) X =\n     (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0) &&&\n     (+) 0 = (\\<lambda>x. x)) &&&\n    (s - 0 = s &&& (\\<lambda>x. x) ` S = S) &&&\n    (s \\<in> (+) t ` S) = (s - t \\<in> S) &&&\n    P (s + t - s) = P t &&& P (t + s - s) = P t", "proof -"], ["proof (state)\ngoal (9 subgoals):\n 1. ll_on_open_it UNIV (\\<lambda>_. f) X\n 2. ll_on_open.flow UNIV (\\<lambda>_. f) X =\n    (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\n 3. ll_on_open.existence_ivl UNIV (\\<lambda>_. f) X =\n    (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\n 4. (+) 0 = (\\<lambda>x. x)\n 5. s - 0 = s\n 6. (\\<lambda>x. x) ` S = S\n 7. (s \\<in> (+) t ` S) = (s - t \\<in> S)\n 8. P (s + t - s) = P t\n 9. P (t + s - s) = P t", "interpret ll_on_open UNIV \"\\<lambda>_. f\" X"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open UNIV (\\<lambda>_. f) X", "by unfold_locales (auto intro!: continuous_on_const auto_local_lipschitz)"], ["proof (state)\ngoal (9 subgoals):\n 1. ll_on_open_it UNIV (\\<lambda>_. f) X\n 2. flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\n 3. existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\n 4. (+) 0 = (\\<lambda>x. x)\n 5. s - 0 = s\n 6. (\\<lambda>x. x) ` S = S\n 7. (s \\<in> (+) t ` S) = (s - t \\<in> S)\n 8. P (s + t - s) = P t\n 9. P (t + s - s) = P t", "show \"ll_on_open_it UNIV (\\<lambda>_. f) X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open_it UNIV (\\<lambda>_. f) X", ".."], ["proof (state)\nthis:\n  ll_on_open_it UNIV (\\<lambda>_. f) X\n\ngoal (8 subgoals):\n 1. flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\n 2. existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\n 3. (+) 0 = (\\<lambda>x. x)\n 4. s - 0 = s\n 5. (\\<lambda>x. x) ` S = S\n 6. (s \\<in> (+) t ` S) = (s - t \\<in> S)\n 7. P (s + t - s) = P t\n 8. P (t + s - s) = P t", "show \"(+) 0 = (\\<lambda>x::real. x)\" \"(\\<lambda>x. x) ` S = S\" \"s - 0 = s\" \"P (t + s - s) = P t\" \"P (s + t - s) = P (t::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((+) 0 = (\\<lambda>x. x) &&& (\\<lambda>x. x) ` S = S) &&&\n    s - 0 = s &&& P (t + s - s) = P t &&& P (s + t - s) = P t", "by auto"], ["proof (state)\nthis:\n  (+) 0 = (\\<lambda>x. x)\n  (\\<lambda>x. x) ` S = S\n  s - 0 = s\n  P (t + s - s) = P t\n  P (s + t - s) = P t\n\ngoal (3 subgoals):\n 1. flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\n 2. existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\n 3. (s \\<in> (+) t ` S) = (s - t \\<in> S)", "show \"flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))", "unfolding flow0_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow = (\\<lambda>t0 x0 t. flow 0 x0 (t - t0))", "apply (rule ext)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t0. flow t0 = (\\<lambda>x0 t. flow 0 x0 (t - t0))", "apply (rule ext)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t0 x0. flow t0 x0 = (\\<lambda>t. flow 0 x0 (t - t0))", "apply (rule flow_eq_in_existence_ivlI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t0 x0 u.\n       x0 \\<in> X \\<Longrightarrow>\n       (u \\<in> existence_ivl t0 x0) = (u - t0 \\<in> existence_ivl 0 x0)\n 2. \\<And>t0 x0 u.\n       \\<lbrakk>x0 \\<in> X; u \\<in> existence_ivl t0 x0\\<rbrakk>\n       \\<Longrightarrow> flow t0 x0 u = flow 0 x0 (u - t0)", "apply (auto intro: flow_shift_autonomous1\n       mem_existence_ivl_shift_autonomous1 mem_existence_ivl_shift_autonomous2)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  flow = (\\<lambda>t0 x0 t. flow0 x0 (t - t0))\n\ngoal (2 subgoals):\n 1. existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\n 2. (s \\<in> (+) t ` S) = (s - t \\<in> S)", "show \"existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)", "unfolding existence_ivl0_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl 0 x0)", "apply (safe intro!: ext)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t0 x0 x.\n       x \\<in> existence_ivl t0 x0 \\<Longrightarrow>\n       x \\<in> (+) t0 ` existence_ivl 0 x0\n 2. \\<And>t0 x0 x xa.\n       xa \\<in> existence_ivl 0 x0 \\<Longrightarrow>\n       t0 + xa \\<in> existence_ivl t0 x0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. x_ \\<in> existence_ivl t0_ x0_ \\<Longrightarrow>\n    x_ \\<in> (+) t0_ ` existence_ivl 0 x0_", "using image_iff mem_existence_ivl_shift_autonomous1"], ["proof (prove)\nusing this:\n  (?z \\<in> ?f ` ?A) = (\\<exists>x\\<in>?A. ?z = ?f x)\n  \\<lbrakk>?t \\<in> existence_ivl ?s ?x; ?x \\<in> X;\n   \\<And>s t x. x \\<in> X \\<Longrightarrow> f x = f x; UNIV = UNIV\\<rbrakk>\n  \\<Longrightarrow> ?t - ?s \\<in> existence_ivl 0 ?x\n\ngoal (1 subgoal):\n 1. x_ \\<in> existence_ivl t0_ x0_ \\<Longrightarrow>\n    x_ \\<in> (+) t0_ ` existence_ivl 0 x0_", "by fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t0 x0 x xa.\n       xa \\<in> existence_ivl 0 x0 \\<Longrightarrow>\n       t0 + xa \\<in> existence_ivl t0 x0", "subgoal premises prems for t0 x0 x s"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 + s \\<in> existence_ivl t0 x0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t0 + s \\<in> existence_ivl t0 x0", "have f2: \"\\<forall>x1 x2. (x2::real) - x1 = - 1 * x1 + x2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x1 x2. x2 - x1 = - 1 * x1 + x2", "by auto"], ["proof (state)\nthis:\n  \\<forall>x1 x2. x2 - x1 = - 1 * x1 + x2\n\ngoal (1 subgoal):\n 1. t0 + s \\<in> existence_ivl t0 x0", "have \"- 1 * t0 + (t0 + s) = s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 * t0 + (t0 + s) = s", "by auto"], ["proof (state)\nthis:\n  - 1 * t0 + (t0 + s) = s\n\ngoal (1 subgoal):\n 1. t0 + s \\<in> existence_ivl t0 x0", "then"], ["proof (chain)\npicking this:\n  - 1 * t0 + (t0 + s) = s", "show ?thesis"], ["proof (prove)\nusing this:\n  - 1 * t0 + (t0 + s) = s\n\ngoal (1 subgoal):\n 1. t0 + s \\<in> existence_ivl t0 x0", "using f2 prems mem_existence_ivl_iv_defined(2) mem_existence_ivl_shift_autonomous2"], ["proof (prove)\nusing this:\n  - 1 * t0 + (t0 + s) = s\n  \\<forall>x1 x2. x2 - x1 = - 1 * x1 + x2\n  s \\<in> existence_ivl 0 x0\n  ?t \\<in> existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n  \\<lbrakk>?t - ?s \\<in> existence_ivl 0 ?x; ?x \\<in> X;\n   \\<And>s t x. x \\<in> X \\<Longrightarrow> f x = f x; UNIV = UNIV\\<rbrakk>\n  \\<Longrightarrow> ?t \\<in> existence_ivl ?s ?x\n\ngoal (1 subgoal):\n 1. t0 + s \\<in> existence_ivl t0 x0", "by presburger"], ["proof (state)\nthis:\n  t0 + s \\<in> existence_ivl t0 x0\n\ngoal:\nNo subgoals!", "qed"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  existence_ivl = (\\<lambda>t0 x0. (+) t0 ` existence_ivl0 x0)\n\ngoal (1 subgoal):\n 1. (s \\<in> (+) t ` S) = (s - t \\<in> S)", "show \"(s \\<in> (+) t ` S) = (s - t \\<in> S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (s \\<in> (+) t ` S) = (s - t \\<in> S)", "by force"], ["proof (state)\nthis:\n  (s \\<in> (+) t ` S) = (s - t \\<in> S)\n\ngoal:\nNo subgoals!", "qed\n\\<comment> \\<open>at this point, there should be no theorems about \\<open>existence_ivl\\<close>, only \\<open>existence_ivl0\\<close>.\nMoreover, \\<open>(+) _ ` _\\<close> and \\<open>_ + _ - _\\<close> etc should have been removed\\<close>"], ["", "lemma existence_ivl_zero: \"x0 \\<in> X \\<Longrightarrow> 0 \\<in> existence_ivl0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> X \\<Longrightarrow> 0 \\<in> existence_ivl0 x0", "by simp"], ["", "lemmas [continuous_intros del] = continuous_on_f"], ["", "lemmas continuous_on_f_comp[continuous_intros] = continuous_on_f[OF continuous_on_const _ subset_UNIV]"], ["", "lemma\n  flow_in_compact_right_existence:\n  assumes \"\\<And>t. 0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"t \\<ge> 0\"\n  shows \"t \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<notin> existence_ivl0 x \\<Longrightarrow> False", "assume \"t \\<notin> existence_ivl0 x\""], ["proof (state)\nthis:\n  t \\<notin> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t \\<notin> existence_ivl0 x \\<Longrightarrow> False", "have \"bdd_above (existence_ivl0 x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above (existence_ivl0 x)", "by (rule bdd_above_is_intervalI[OF is_interval_existence_ivl \\<open>0 \\<le> t\\<close> existence_ivl_zero]) fact+"], ["proof (state)\nthis:\n  bdd_above (existence_ivl0 x)\n\ngoal (1 subgoal):\n 1. t \\<notin> existence_ivl0 x \\<Longrightarrow> False", "from sup_existence_maximal[OF UNIV_I \\<open>x \\<in> X\\<close> assms(1-3) this]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>0 \\<le> t; t \\<in> existence_ivl0 x\\<rbrakk>\n              \\<Longrightarrow> 0 \\<le> t;\n   \\<And>t.\n      \\<lbrakk>0 \\<le> t; t \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> Sup (existence_ivl0 x) \\<notin> UNIV", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>0 \\<le> t; t \\<in> existence_ivl0 x\\<rbrakk>\n              \\<Longrightarrow> 0 \\<le> t;\n   \\<And>t.\n      \\<lbrakk>0 \\<le> t; t \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> Sup (existence_ivl0 x) \\<notin> UNIV\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma\n  flow_in_compact_left_existence:\n  assumes \"\\<And>t. t \\<le> 0 \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<in> K\"\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"t \\<le> 0\"\n  shows \"t \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<notin> existence_ivl0 x \\<Longrightarrow> False", "assume \"t \\<notin> existence_ivl0 x\""], ["proof (state)\nthis:\n  t \\<notin> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t \\<notin> existence_ivl0 x \\<Longrightarrow> False", "have \"bdd_below (existence_ivl0 x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_below (existence_ivl0 x)", "by (rule bdd_below_is_intervalI[OF is_interval_existence_ivl \\<open>t \\<le> 0\\<close> _ existence_ivl_zero]) fact+"], ["proof (state)\nthis:\n  bdd_below (existence_ivl0 x)\n\ngoal (1 subgoal):\n 1. t \\<notin> existence_ivl0 x \\<Longrightarrow> False", "from inf_existence_minimal[OF UNIV_I \\<open>x \\<in> X\\<close> assms(1-3) this]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<le> 0; t \\<in> existence_ivl0 x\\<rbrakk>\n              \\<Longrightarrow> t \\<le> 0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> 0; t \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> Inf (existence_ivl0 x) \\<notin> UNIV", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<le> 0; t \\<in> existence_ivl0 x\\<rbrakk>\n              \\<Longrightarrow> t \\<le> 0;\n   \\<And>t.\n      \\<lbrakk>t \\<le> 0; t \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> t \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> Inf (existence_ivl0 x) \\<notin> UNIV\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale compact_continuously_diff =\n  derivative_on_prod T X f \"\\<lambda>(t, x). f' x o\\<^sub>L snd_blinfun\"\n    for T X and f::\"real \\<Rightarrow> 'a::{banach,perfect_space,heine_borel} \\<Rightarrow> 'a\"\n    and f'::\"'a \\<Rightarrow> ('a, 'a) blinfun\" +\n  assumes compact_domain: \"compact X\"\n  assumes convex: \"convex X\"\n  assumes nonempty_domains: \"T \\<noteq> {}\" \"X \\<noteq> {}\"\n  assumes continuous_derivative: \"continuous_on X f'\"\nbegin"], ["", "lemma ex_onorm_bound:\n  \"\\<exists>B. \\<forall>x \\<in> X. norm (f' x) \\<le> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B. \\<forall>x\\<in>X. norm (f' x) \\<le> B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>B. \\<forall>x\\<in>X. norm (f' x) \\<le> B", "from _ compact_domain"], ["proof (chain)\npicking this:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  compact X", "have \"compact (f' ` X)\""], ["proof (prove)\nusing this:\n  PROP ?psi \\<Longrightarrow> PROP ?psi\n  compact X\n\ngoal (1 subgoal):\n 1. compact (f' ` X)", "by (intro compact_continuous_image continuous_derivative)"], ["proof (state)\nthis:\n  compact (f' ` X)\n\ngoal (1 subgoal):\n 1. \\<exists>B. \\<forall>x\\<in>X. norm (f' x) \\<le> B", "hence \"bounded (f' ` X)\""], ["proof (prove)\nusing this:\n  compact (f' ` X)\n\ngoal (1 subgoal):\n 1. bounded (f' ` X)", "by (rule compact_imp_bounded)"], ["proof (state)\nthis:\n  bounded (f' ` X)\n\ngoal (1 subgoal):\n 1. \\<exists>B. \\<forall>x\\<in>X. norm (f' x) \\<le> B", "thus ?thesis"], ["proof (prove)\nusing this:\n  bounded (f' ` X)\n\ngoal (1 subgoal):\n 1. \\<exists>B. \\<forall>x\\<in>X. norm (f' x) \\<le> B", "by (auto simp add: bounded_iff cball_def norm_blinfun.rep_eq)"], ["proof (state)\nthis:\n  \\<exists>B. \\<forall>x\\<in>X. norm (f' x) \\<le> B\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"onorm_bound = (SOME B. \\<forall>x \\<in> X. norm (f' x) \\<le> B)\""], ["", "lemma onorm_bound: assumes \"x \\<in> X\" shows \"norm (f' x) \\<le> onorm_bound\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (f' x) \\<le> onorm_bound", "unfolding onorm_bound_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (f' x) \\<le> (SOME B. \\<forall>x\\<in>X. norm (f' x) \\<le> B)", "using someI_ex[OF ex_onorm_bound] assms"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X.\n     norm (f' x) \\<le> (SOME x. \\<forall>xa\\<in>X. norm (f' xa) \\<le> x)\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. norm (f' x) \\<le> (SOME B. \\<forall>x\\<in>X. norm (f' x) \\<le> B)", "by blast"], ["", "sublocale closed_domain X"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_domain X", "using compact_domain"], ["proof (prove)\nusing this:\n  compact X\n\ngoal (1 subgoal):\n 1. closed_domain X", "by unfold_locales (rule compact_imp_closed)"], ["", "sublocale global_lipschitz T X f onorm_bound"], ["proof (prove)\ngoal (1 subgoal):\n 1. global_lipschitz T X f onorm_bound", "proof (unfold_locales, rule lipschitz_onI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t x y.\n       \\<lbrakk>t \\<in> T; x \\<in> X; y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> dist (f t x) (f t y) \\<le> onorm_bound * dist x y\n 2. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "fix t z y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t x y.\n       \\<lbrakk>t \\<in> T; x \\<in> X; y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> dist (f t x) (f t y) \\<le> onorm_bound * dist x y\n 2. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "assume \"t \\<in> T\" \"y \\<in> X\" \"z \\<in> X\""], ["proof (state)\nthis:\n  t \\<in> T\n  y \\<in> X\n  z \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>t x y.\n       \\<lbrakk>t \\<in> T; x \\<in> X; y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> dist (f t x) (f t y) \\<le> onorm_bound * dist x y\n 2. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "then"], ["proof (chain)\npicking this:\n  t \\<in> T\n  y \\<in> X\n  z \\<in> X", "have \"norm (f t y - f t z) \\<le> onorm_bound * norm (y - z)\""], ["proof (prove)\nusing this:\n  t \\<in> T\n  y \\<in> X\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. norm (f t y - f t z) \\<le> onorm_bound * norm (y - z)", "using onorm_bound"], ["proof (prove)\nusing this:\n  t \\<in> T\n  y \\<in> X\n  z \\<in> X\n  ?x \\<in> X \\<Longrightarrow> norm (f' ?x) \\<le> onorm_bound\n\ngoal (1 subgoal):\n 1. norm (f t y - f t z) \\<le> onorm_bound * norm (y - z)", "by (intro differentiable_bound[where f'=f', OF convex])\n       (auto intro!: derivative_eq_intros simp: norm_blinfun.rep_eq)"], ["proof (state)\nthis:\n  norm (f t y - f t z) \\<le> onorm_bound * norm (y - z)\n\ngoal (2 subgoals):\n 1. \\<And>t x y.\n       \\<lbrakk>t \\<in> T; x \\<in> X; y \\<in> X\\<rbrakk>\n       \\<Longrightarrow> dist (f t x) (f t y) \\<le> onorm_bound * dist x y\n 2. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "thus \"dist (f t y) (f t z) \\<le> onorm_bound * dist y z\""], ["proof (prove)\nusing this:\n  norm (f t y - f t z) \\<le> onorm_bound * norm (y - z)\n\ngoal (1 subgoal):\n 1. dist (f t y) (f t z) \\<le> onorm_bound * dist y z", "by (auto simp: dist_norm norm_Pair)"], ["proof (state)\nthis:\n  dist (f t y) (f t z) \\<le> onorm_bound * dist y z\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "from nonempty_domains"], ["proof (chain)\npicking this:\n  T \\<noteq> {}\n  X \\<noteq> {}", "obtain x where x: \"x \\<in> X\""], ["proof (prove)\nusing this:\n  T \\<noteq> {}\n  X \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> X \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> T \\<Longrightarrow> 0 \\<le> onorm_bound", "show \"0 \\<le> onorm_bound\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> onorm_bound", "using dual_order.trans local.onorm_bound norm_ge_zero x"], ["proof (prove)\nusing this:\n  \\<lbrakk>?b \\<le> ?a; ?c \\<le> ?b\\<rbrakk> \\<Longrightarrow> ?c \\<le> ?a\n  ?x \\<in> X \\<Longrightarrow> norm (f' ?x) \\<le> onorm_bound\n  0 \\<le> norm ?x\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. 0 \\<le> onorm_bound", "by blast"], ["proof (state)\nthis:\n  0 \\<le> onorm_bound\n\ngoal:\nNo subgoals!", "qed"], ["", "end \\<comment> \\<open>@{thm compact_domain}\\<close>"], ["", "locale unique_on_compact_continuously_diff = self_mapping +\n  compact_interval T +\n  compact_continuously_diff T X f\nbegin"], ["", "sublocale unique_on_closed t0 T x0 f X onorm_bound"], ["proof (prove)\ngoal (1 subgoal):\n 1. unique_on_closed t0 T x0 f X onorm_bound", "by unfold_locales (auto intro!: f' has_derivative_continuous_on)"], ["", "end"], ["", "locale c1_on_open =\n  fixes f::\"'a::{banach, perfect_space, heine_borel} \\<Rightarrow> 'a\" and f' X\n  assumes open_dom[simp]: \"open X\"\n  assumes derivative_rhs:\n    \"\\<And>x. x \\<in> X \\<Longrightarrow> (f has_derivative blinfun_apply (f' x)) (at x)\"\n  assumes continuous_derivative: \"continuous_on X f'\"\nbegin"], ["", "lemmas continuous_derivative_comp[continuous_intros] =\n  continuous_on_compose2[OF continuous_derivative]"], ["", "lemma derivative_tendsto[tendsto_intros]:\n  assumes [tendsto_intros]: \"(g \\<longlongrightarrow> l) F\"\n    and \"l \\<in> X\"\n  shows \"((\\<lambda>x. f' (g x)) \\<longlongrightarrow> f' l) F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f' (g x)) \\<longlongrightarrow> f' l) F", "using continuous_derivative[simplified continuous_on] assms"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X. (f' \\<longlongrightarrow> f' x) (at x within X)\n  (g \\<longlongrightarrow> l) F\n  l \\<in> X\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f' (g x)) \\<longlongrightarrow> f' l) F", "by (auto simp: at_within_open[OF _ open_dom]\n    intro!: tendsto_eq_intros\n    intro: tendsto_compose)"], ["", "lemma c1_on_open_rev[intro, simp]: \"c1_on_open (-f) (-f') X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1_on_open (- f) (- f') X", "using derivative_rhs continuous_derivative"], ["proof (prove)\nusing this:\n  ?x \\<in> X \\<Longrightarrow>\n  (f has_derivative blinfun_apply (f' ?x)) (at ?x)\n  continuous_on X f'\n\ngoal (1 subgoal):\n 1. c1_on_open (- f) (- f') X", "by unfold_locales\n    (auto intro!: continuous_intros derivative_eq_intros\n    simp: fun_Compl_def blinfun.bilinear_simps)"], ["", "lemma derivative_rhs_compose[derivative_intros]:\n  \"((g has_derivative g') (at x within s)) \\<Longrightarrow> g x \\<in> X \\<Longrightarrow>\n    ((\\<lambda>x. f (g x)) has_derivative\n      (\\<lambda>xa. blinfun_apply (f' (g x)) (g' xa)))\n    (at x within s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(g has_derivative g') (at x within s); g x \\<in> X\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>x. f (g x)) has_derivative\n                       (\\<lambda>xa. blinfun_apply (f' (g x)) (g' xa)))\n                       (at x within s)", "by (metis has_derivative_compose[of g g' x s f \"f' (g x)\"] derivative_rhs)"], ["", "sublocale auto_ll_on_open"], ["proof (prove)\ngoal (1 subgoal):\n 1. auto_ll_on_open f X", "proof (standard, rule local_lipschitzI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "fix x and t::real"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "assume \"x \\<in> X\""], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "with open_contains_cball[of \"UNIV::real set\"] open_UNIV\n    open_contains_cball[of X] open_dom"], ["proof (chain)\npicking this:\n  open UNIV =\n  (\\<forall>x\\<in>UNIV. \\<exists>e>0. cball x e \\<subseteq> UNIV)\n  open UNIV\n  open X = (\\<forall>x\\<in>X. \\<exists>e>0. cball x e \\<subseteq> X)\n  open X\n  x \\<in> X", "obtain u v where uv: \"cball t u \\<subseteq> UNIV\" \"cball x v \\<subseteq> X\" \"u > 0\" \"v > 0\""], ["proof (prove)\nusing this:\n  open UNIV =\n  (\\<forall>x\\<in>UNIV. \\<exists>e>0. cball x e \\<subseteq> UNIV)\n  open UNIV\n  open X = (\\<forall>x\\<in>X. \\<exists>e>0. cball x e \\<subseteq> X)\n  open X\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>u v.\n        \\<lbrakk>cball t u \\<subseteq> UNIV; cball x v \\<subseteq> X; 0 < u;\n         0 < v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  cball t u \\<subseteq> UNIV\n  cball x v \\<subseteq> X\n  0 < u\n  0 < v\n\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "let ?T = \"cball t u\" and ?X = \"cball x v\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "have \"bounded ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (cball x v)", "by simp"], ["proof (state)\nthis:\n  bounded (cball x v)\n\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "have \"compact (cball x v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact (cball x v)", "by simp"], ["proof (state)\nthis:\n  compact (cball x v)\n\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "interpret compact_continuously_diff ?T ?X \"\\<lambda>_. f\" f'"], ["proof (prove)\ngoal (1 subgoal):\n 1. compact_continuously_diff (cball t u) (cball x v) (\\<lambda>_. f) f'", "using uv"], ["proof (prove)\nusing this:\n  cball t u \\<subseteq> UNIV\n  cball x v \\<subseteq> X\n  0 < u\n  0 < v\n\ngoal (1 subgoal):\n 1. compact_continuously_diff (cball t u) (cball x v) (\\<lambda>_. f) f'", "by unfold_locales\n      (auto simp: convex_cball cball_eq_empty split_beta'\n        intro!: derivative_eq_intros continuous_on_compose2[OF continuous_derivative]\n          continuous_intros)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "have \"onorm_bound-lipschitz_on ?X f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. onorm_bound-lipschitz_on (cball x v) f", "using lipschitz[of t] uv"], ["proof (prove)\nusing this:\n  t \\<in> cball t u \\<Longrightarrow> onorm_bound-lipschitz_on (cball x v) f\n  cball t u \\<subseteq> UNIV\n  cball x v \\<subseteq> X\n  0 < u\n  0 < v\n\ngoal (1 subgoal):\n 1. onorm_bound-lipschitz_on (cball x v) f", "by auto"], ["proof (state)\nthis:\n  onorm_bound-lipschitz_on (cball x v) f\n\ngoal (2 subgoals):\n 1. \\<And>t x.\n       \\<lbrakk>t \\<in> UNIV; x \\<in> X\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u>0.\n                            \\<exists>L.\n                               \\<forall>t\\<in>cball t u \\<inter> UNIV.\n                                  L-lipschitz_on (cball x u \\<inter> X) f\n 2. open X", "thus \"\\<exists>u>0. \\<exists>L. \\<forall>t \\<in> cball t u \\<inter> UNIV. L-lipschitz_on (cball x u \\<inter> X) f\""], ["proof (prove)\nusing this:\n  onorm_bound-lipschitz_on (cball x v) f\n\ngoal (1 subgoal):\n 1. \\<exists>u>0.\n       \\<exists>L.\n          \\<forall>t\\<in>cball t u \\<inter> UNIV.\n             L-lipschitz_on (cball x u \\<inter> X) f", "by (intro exI[where x=v])\n      (auto intro!: exI[where x=onorm_bound] \\<open>0 < v\\<close> simp: Int_absorb2 uv)"], ["proof (state)\nthis:\n  \\<exists>u>0.\n     \\<exists>L.\n        \\<forall>t\\<in>cball t u \\<inter> UNIV.\n           L-lipschitz_on (cball x u \\<inter> X) f\n\ngoal (1 subgoal):\n 1. open X", "qed (auto intro!: continuous_intros)"], ["", "end \\<comment> \\<open>@{thm derivative_rhs}\\<close>"], ["", "locale c1_on_open_euclidean = c1_on_open f f' X\n  for f::\"'a::euclidean_space \\<Rightarrow> _\" and f' X\nbegin"], ["", "lemma c1_on_open_euclidean_anchor: True"], ["proof (prove)\ngoal (1 subgoal):\n 1. True", ".."], ["", "definition \"vareq x0 t = f' (flow0 x0 t)\""], ["", "interpretation var: ll_on_open \"existence_ivl0 x0\" \"vareq x0\" UNIV"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (existence_ivl0 x0) (\\<lambda>x. blinfun_apply (vareq x0 x))\n     UNIV", "apply standard"], ["proof (prove)\ngoal (5 subgoals):\n 1. is_interval (existence_ivl0 x0)\n 2. local_lipschitz (existence_ivl0 x0) UNIV\n     (\\<lambda>x. blinfun_apply (vareq x0 x))\n 3. \\<And>x.\n       x \\<in> UNIV \\<Longrightarrow>\n       continuous_on (existence_ivl0 x0)\n        (\\<lambda>t. blinfun_apply (vareq x0 t) x)\n 4. open (existence_ivl0 x0)\n 5. open UNIV", "apply (auto intro!: c1_implies_local_lipschitz[where f' = \"\\<lambda>(t, x). vareq x0 t\"] continuous_intros\n      derivative_eq_intros\n      simp: split_beta' blinfun.bilinear_simps vareq_def)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>a. a \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 2. \\<And>a. a \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 a \\<in> X\n 3. \\<And>xa. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 4. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "using local.mem_existence_ivl_iv_defined(2)"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n\ngoal (4 subgoals):\n 1. \\<And>a. a \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 2. \\<And>a. a \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 a \\<in> X\n 3. \\<And>xa. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 4. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "apply blast"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a. a \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 a \\<in> X\n 2. \\<And>xa. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 3. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "using local.existence_ivl_reverse local.mem_existence_ivl_iv_defined(2)"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  0 - ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?t)\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n\ngoal (3 subgoals):\n 1. \\<And>a. a \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 a \\<in> X\n 2. \\<And>xa. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 3. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>xa. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 2. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "using local.mem_existence_ivl_iv_defined(2)"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>xa. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> x0 \\<in> X\n 2. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "using local.existence_ivl_reverse local.mem_existence_ivl_iv_defined(2)"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  0 - ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?t)\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>xb.\n       xb \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xb \\<in> X", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "context begin"], ["", "lemma continuous_on_A[continuous_intros]:\n  assumes \"continuous_on S a\"\n  assumes \"continuous_on S b\"\n  assumes \"\\<And>s. s \\<in> S \\<Longrightarrow> a s \\<in> X\"\n  assumes \"\\<And>s. s \\<in> S \\<Longrightarrow> b s \\<in> existence_ivl0 (a s)\"\n  shows \"continuous_on S (\\<lambda>s. vareq (a s) (b s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>s. vareq (a s) (b s))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>s. vareq (a s) (b s))", "have \"continuous_on S (\\<lambda>x. f' (flow0 (a x) (b x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>x. f' (flow0 (a x) (b x)))", "by (auto intro!: continuous_intros assms flow_in_domain)"], ["proof (state)\nthis:\n  continuous_on S (\\<lambda>x. f' (flow0 (a x) (b x)))\n\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>s. vareq (a s) (b s))", "then"], ["proof (chain)\npicking this:\n  continuous_on S (\\<lambda>x. f' (flow0 (a x) (b x)))", "show ?thesis"], ["proof (prove)\nusing this:\n  continuous_on S (\\<lambda>x. f' (flow0 (a x) (b x)))\n\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>s. vareq (a s) (b s))", "by (rule continuous_on_eq) (auto simp: assms vareq_def)"], ["proof (state)\nthis:\n  continuous_on S (\\<lambda>s. vareq (a s) (b s))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas [intro] = mem_existence_ivl_iv_defined"], ["", "context\n  fixes x0::'a\nbegin"], ["", "lemma flow0_defined: \"xa \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xa \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. xa \\<in> existence_ivl0 x0 \\<Longrightarrow> flow0 x0 xa \\<in> X", "by (auto simp: flow_in_domain)"], ["", "lemma continuous_on_flow0: \"continuous_on (existence_ivl0 x0) (flow0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (existence_ivl0 x0) (flow0 x0)", "by (auto simp: intro!: continuous_intros)"], ["", "lemmas continuous_on_flow0_comp[continuous_intros] = continuous_on_compose2[OF continuous_on_flow0]"], ["", "lemma varexivl_eq_exivl:\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"var.existence_ivl x0 t a = existence_ivl0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. var.existence_ivl x0 t a = existence_ivl0 x0", "proof (rule var.existence_ivl_eq_domain)"], ["proof (state)\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "fix s t x"], ["proof (state)\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "assume s: \"s \\<in> existence_ivl0 x0\" and t: \"t \\<in> existence_ivl0 x0\""], ["proof (state)\nthis:\n  s \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0\n\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  s \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0", "have \"{s .. t} \\<subseteq> existence_ivl0 x0\""], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. {s..t} \\<subseteq> existence_ivl0 x0", "by (metis atLeastatMost_empty_iff2 empty_subsetI real_Icc_closed_segment var.closed_segment_subset_domain)"], ["proof (state)\nthis:\n  {s..t} \\<subseteq> existence_ivl0 x0\n\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  {s..t} \\<subseteq> existence_ivl0 x0", "have \"continuous_on {s .. t} (vareq x0)\""], ["proof (prove)\nusing this:\n  {s..t} \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. continuous_on {s..t} (vareq x0)", "by (auto simp: closed_segment_eq_real_ivl intro!: continuous_intros flow0_defined)"], ["proof (state)\nthis:\n  continuous_on {s..t} (vareq x0)\n\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  continuous_on {s..t} (vareq x0)", "have \"compact ((vareq x0) ` {s .. t})\""], ["proof (prove)\nusing this:\n  continuous_on {s..t} (vareq x0)\n\ngoal (1 subgoal):\n 1. compact (vareq x0 ` {s..t})", "using compact_Icc"], ["proof (prove)\nusing this:\n  continuous_on {s..t} (vareq x0)\n  compact {?a..?b}\n\ngoal (1 subgoal):\n 1. compact (vareq x0 ` {s..t})", "by (rule compact_continuous_image)"], ["proof (state)\nthis:\n  compact (vareq x0 ` {s..t})\n\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  compact (vareq x0 ` {s..t})", "obtain B where B: \"\\<And>u. u \\<in> {s .. t} \\<Longrightarrow> norm (vareq x0 u) \\<le> B\""], ["proof (prove)\nusing this:\n  compact (vareq x0 ` {s..t})\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        (\\<And>u.\n            u \\<in> {s..t} \\<Longrightarrow>\n            norm (vareq x0 u) \\<le> B) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (force dest!: compact_imp_bounded simp: bounded_iff)"], ["proof (state)\nthis:\n  ?u \\<in> {s..t} \\<Longrightarrow> norm (vareq x0 ?u) \\<le> B\n\ngoal (5 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. \\<And>tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (blinfun_apply (vareq x0 t) x)\n                                  \\<le> M + L * norm x\n 4. is_interval (existence_ivl0 x0)\n 5. UNIV = UNIV", "show \"\\<exists>M L. \\<forall>t\\<in>{s..t}. \\<forall>x\\<in>UNIV. norm (blinfun_apply (vareq x0 t) x) \\<le> M + L * norm x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M L.\n       \\<forall>t\\<in>{s..t}.\n          \\<forall>x\\<in>UNIV.\n             norm (blinfun_apply (vareq x0 t) x) \\<le> M + L * norm x", "by (rule exI[where x=0], rule exI[where x=B])\n      (auto intro!: order_trans[OF norm_blinfun] mult_right_mono B simp:)"], ["proof (state)\nthis:\n  \\<exists>M L.\n     \\<forall>t\\<in>{s..t}.\n        \\<forall>x\\<in>UNIV.\n           norm (blinfun_apply (vareq x0 t) x) \\<le> M + L * norm x\n\ngoal (4 subgoals):\n 1. t \\<in> existence_ivl0 x0\n 2. a \\<in> UNIV\n 3. is_interval (existence_ivl0 x0)\n 4. UNIV = UNIV", "qed (auto intro: assms)"], ["", "definition \"vector_Dflow u0 t \\<equiv> var.flow x0 0 u0 t\""], ["", "qualified"], ["", "abbreviation \"Y z t \\<equiv> flow0 (x0 + z) t\""], ["", "text \\<open>Linearity of the solution to the variational equation.\n  TODO: generalize this and some other things for arbitrary linear ODEs\\<close>"], ["", "lemma vector_Dflow_linear:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t = \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "note mem_existence_ivl_iv_defined[OF assms, intro, simp]"], ["proof (state)\nthis:\n  0 \\<in> UNIV\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "have \"((\\<lambda>c. \\<alpha> *\\<^sub>R var.flow x0 0 a c + \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode (\\<lambda>x. vareq x0 x)) (existence_ivl0 x0) UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>c.\n         \\<alpha> *\\<^sub>R var.flow x0 0 a c +\n         \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode\n     (\\<lambda>x. blinfun_apply (vareq x0 x)))\n     (existence_ivl0 x0) UNIV", "by (auto intro!: derivative_intros var.flow_has_vector_derivative solves_odeI\n      simp: blinfun.bilinear_simps varexivl_eq_exivl vareq_def[symmetric])"], ["proof (state)\nthis:\n  ((\\<lambda>c.\n       \\<alpha> *\\<^sub>R var.flow x0 0 a c +\n       \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode\n   (\\<lambda>x. blinfun_apply (vareq x0 x)))\n   (existence_ivl0 x0) UNIV\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "moreover"], ["proof (state)\nthis:\n  ((\\<lambda>c.\n       \\<alpha> *\\<^sub>R var.flow x0 0 a c +\n       \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode\n   (\\<lambda>x. blinfun_apply (vareq x0 x)))\n   (existence_ivl0 x0) UNIV\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "have \"\\<alpha> *\\<^sub>R var.flow x0 0 a 0 + \\<beta> *\\<^sub>R var.flow x0 0 b 0 = \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha> *\\<^sub>R var.flow x0 0 a 0 +\n    \\<beta> *\\<^sub>R var.flow x0 0 b 0 =\n    \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b", "by simp"], ["proof (state)\nthis:\n  \\<alpha> *\\<^sub>R var.flow x0 0 a 0 +\n  \\<beta> *\\<^sub>R var.flow x0 0 b 0 =\n  \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "moreover"], ["proof (state)\nthis:\n  \\<alpha> *\\<^sub>R var.flow x0 0 a 0 +\n  \\<beta> *\\<^sub>R var.flow x0 0 b 0 =\n  \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "note is_interval_existence_ivl[of x0]"], ["proof (state)\nthis:\n  is_interval (existence_ivl0 x0)\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<lambda>c.\n       \\<alpha> *\\<^sub>R var.flow x0 0 a c +\n       \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode\n   (\\<lambda>x. blinfun_apply (vareq x0 x)))\n   (existence_ivl0 x0) UNIV\n  \\<alpha> *\\<^sub>R var.flow x0 0 a 0 +\n  \\<beta> *\\<^sub>R var.flow x0 0 b 0 =\n  \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b\n  is_interval (existence_ivl0 x0)", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<lambda>c.\n       \\<alpha> *\\<^sub>R var.flow x0 0 a c +\n       \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode\n   (\\<lambda>x. blinfun_apply (vareq x0 x)))\n   (existence_ivl0 x0) UNIV\n  \\<alpha> *\\<^sub>R var.flow x0 0 a 0 +\n  \\<beta> *\\<^sub>R var.flow x0 0 b 0 =\n  \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b\n  is_interval (existence_ivl0 x0)\n\ngoal (1 subgoal):\n 1. vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t", "unfolding vareq_def[symmetric] vector_Dflow_def"], ["proof (prove)\nusing this:\n  ((\\<lambda>c.\n       \\<alpha> *\\<^sub>R var.flow x0 0 a c +\n       \\<beta> *\\<^sub>R var.flow x0 0 b c) solves_ode\n   (\\<lambda>x. blinfun_apply (vareq x0 x)))\n   (existence_ivl0 x0) UNIV\n  \\<alpha> *\\<^sub>R var.flow x0 0 a 0 +\n  \\<beta> *\\<^sub>R var.flow x0 0 b 0 =\n  \\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b\n  is_interval (existence_ivl0 x0)\n\ngoal (1 subgoal):\n 1. var.flow x0 0 (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n    \\<alpha> *\\<^sub>R var.flow x0 0 a t +\n    \\<beta> *\\<^sub>R var.flow x0 0 b t", "by (rule var.maximal_existence_flow) (auto simp: assms)"], ["proof (state)\nthis:\n  vector_Dflow (\\<alpha> *\\<^sub>R a + \\<beta> *\\<^sub>R b) t =\n  \\<alpha> *\\<^sub>R vector_Dflow a t + \\<beta> *\\<^sub>R vector_Dflow b t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma linear_vector_Dflow:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"linear (\\<lambda>z. vector_Dflow z t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. linear (\\<lambda>z. vector_Dflow z t)", "using vector_Dflow_linear[OF assms, of 1 _ 1] vector_Dflow_linear[OF assms, of _ _ 0]"], ["proof (prove)\nusing this:\n  vector_Dflow (1 *\\<^sub>R ?a + 1 *\\<^sub>R ?b) t =\n  1 *\\<^sub>R vector_Dflow ?a t + 1 *\\<^sub>R vector_Dflow ?b t\n  vector_Dflow (?\\<alpha> *\\<^sub>R ?a + 0 *\\<^sub>R ?b) t =\n  ?\\<alpha> *\\<^sub>R vector_Dflow ?a t + 0 *\\<^sub>R vector_Dflow ?b t\n\ngoal (1 subgoal):\n 1. linear (\\<lambda>z. vector_Dflow z t)", "by (auto intro!: linearI)"], ["", "lemma bounded_linear_vector_Dflow:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"bounded_linear (\\<lambda>z. vector_Dflow z t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>z. vector_Dflow z t)", "by (simp add: linear_linear linear_vector_Dflow assms)"], ["", "lemma vector_Dflow_continuous_on_time: \"x0 \\<in> X \\<Longrightarrow> continuous_on (existence_ivl0 x0) (\\<lambda>t. vector_Dflow z t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> X \\<Longrightarrow>\n    continuous_on (existence_ivl0 x0) (vector_Dflow z)", "using var.flow_continuous_on[of x0 0 z] varexivl_eq_exivl"], ["proof (prove)\nusing this:\n  continuous_on (var.existence_ivl x0 0 z) (var.flow x0 0 z)\n  ?t \\<in> existence_ivl0 x0 \\<Longrightarrow>\n  var.existence_ivl x0 ?t ?a = existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. x0 \\<in> X \\<Longrightarrow>\n    continuous_on (existence_ivl0 x0) (vector_Dflow z)", "unfolding vector_Dflow_def"], ["proof (prove)\nusing this:\n  continuous_on (var.existence_ivl x0 0 z) (var.flow x0 0 z)\n  ?t \\<in> existence_ivl0 x0 \\<Longrightarrow>\n  var.existence_ivl x0 ?t ?a = existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. x0 \\<in> X \\<Longrightarrow>\n    continuous_on (existence_ivl0 x0) (var.flow x0 0 z)", "by (auto simp:  )"], ["", "proposition proposition_17_6_weak:\n  \\<comment> \\<open>from \"Differential Equations, Dynamical Systems, and an Introduction to Chaos\",\n    Hirsch/Smale/Devaney\\<close>\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"(\\<lambda>y. (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R norm (y - x0)) \\<midarrow> x0 \\<rightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "note x0_def = mem_existence_ivl_iv_defined[OF assms]"], ["proof (state)\nthis:\n  0 \\<in> UNIV\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have \"0 \\<in> existence_ivl0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 x0", "by (simp add: x0_def)"], ["proof (state)\nthis:\n  0 \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "text \\<open>Find some \\<open>J \\<subseteq> existence_ivl0 x0\\<close> with \\<open>0 \\<in> J\\<close> and \\<open>t \\<in> J\\<close>.\\<close>"], ["proof (state)\nthis:\n  0 \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "define t0 where \"t0 \\<equiv> min 0 t\""], ["proof (state)\nthis:\n  t0 \\<equiv> min 0 t\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "define t1 where \"t1 \\<equiv> max 0 t\""], ["proof (state)\nthis:\n  t1 \\<equiv> max 0 t\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "define J where \"J \\<equiv> {t0..t1}\""], ["proof (state)\nthis:\n  J \\<equiv> {t0..t1}\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have \"t0 \\<le> 0\" \"0 \\<le> t1\" \"0 \\<in> J\" \"J \\<noteq> {}\" \"t \\<in> J\" \"compact J\"\n  and J_in_existence: \"J \\<subseteq> existence_ivl0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((t0 \\<le> 0 &&& 0 \\<le> t1 &&& 0 \\<in> J) &&&\n     J \\<noteq> {} &&& t \\<in> J &&& compact J) &&&\n    J \\<subseteq> existence_ivl0 x0", "using ivl_subset_existence_ivl ivl_subset_existence_ivl' x0_def assms"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  {0..?t} \\<subseteq> existence_ivl0 ?x0.0\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  {?t..0} \\<subseteq> existence_ivl0 ?x0.0\n  0 \\<in> UNIV\n  x0 \\<in> X\n  t \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. ((t0 \\<le> 0 &&& 0 \\<le> t1 &&& 0 \\<in> J) &&&\n     J \\<noteq> {} &&& t \\<in> J &&& compact J) &&&\n    J \\<subseteq> existence_ivl0 x0", "by (auto simp add: J_def t0_def t1_def min_def max_def)"], ["proof (state)\nthis:\n  t0 \\<le> 0\n  0 \\<le> t1\n  0 \\<in> J\n  J \\<noteq> {}\n  t \\<in> J\n  compact J\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "{"], ["proof (state)\nthis:\n  t0 \\<le> 0\n  0 \\<le> t1\n  0 \\<in> J\n  J \\<noteq> {}\n  t \\<in> J\n  compact J\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "fix z S"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "assume assms: \"x0 + z \\<in> X\" \"S \\<subseteq> existence_ivl0 (x0 + z)\""], ["proof (state)\nthis:\n  x0 + z \\<in> X\n  S \\<subseteq> existence_ivl0 (x0 + z)\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have \"continuous_on S (Y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on S (Y z)", "using flow_continuous_on assms(1)"], ["proof (prove)\nusing this:\n  continuous_on (existence_ivl0 ?x0.0) (flow0 ?x0.0)\n  x0 + z \\<in> X\n\ngoal (1 subgoal):\n 1. continuous_on S (Y z)", "by (intro continuous_on_subset[OF _ assms(2)]) (simp add:)"], ["proof (state)\nthis:\n  continuous_on S (Y z)\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x0 + ?z2 \\<in> X;\n   ?S2 \\<subseteq> existence_ivl0 (x0 + ?z2)\\<rbrakk>\n  \\<Longrightarrow> continuous_on ?S2 (Y ?z2)\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "note [continuous_intros] = this integrable_continuous_real blinfun.continuous_on"], ["proof (state)\nthis:\n  \\<lbrakk>x0 + ?z2 \\<in> X;\n   ?S2 \\<subseteq> existence_ivl0 (x0 + ?z2)\\<rbrakk>\n  \\<Longrightarrow> continuous_on ?S2 (Y ?z2)\n  continuous_on {?a..?b} ?f \\<Longrightarrow> ?f integrable_on {?a..?b}\n  \\<lbrakk>continuous_on ?s ?f; continuous_on ?s ?g\\<rbrakk>\n  \\<Longrightarrow> continuous_on ?s\n                     (\\<lambda>x. blinfun_apply (?f x) (?g x))\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have U_continuous[continuous_intros]: \"\\<And>z. continuous_on J (vector_Dflow z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z. continuous_on J (vector_Dflow z)", "by(rule continuous_on_subset[OF vector_Dflow_continuous_on_time[OF \\<open>x0 \\<in> X\\<close>] J_in_existence])"], ["proof (state)\nthis:\n  continuous_on J (vector_Dflow ?z)\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "from \\<open>t \\<in> J\\<close>"], ["proof (chain)\npicking this:\n  t \\<in> J", "have \"t0 \\<le> t\"\n  and \"t \\<le> t1\"\n  and \"t0 \\<le> t1\"\n  and \"t0 \\<in> existence_ivl0 x0\"\n  and \"t \\<in> existence_ivl0 x0\"\n  and \"t1 \\<in> existence_ivl0 x0\""], ["proof (prove)\nusing this:\n  t \\<in> J\n\ngoal (1 subgoal):\n 1. (t0 \\<le> t &&& t \\<le> t1 &&& t0 \\<le> t1) &&&\n    t0 \\<in> existence_ivl0 x0 &&&\n    t \\<in> existence_ivl0 x0 &&& t1 \\<in> existence_ivl0 x0", "using J_def J_in_existence"], ["proof (prove)\nusing this:\n  t \\<in> J\n  J \\<equiv> {t0..t1}\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (t0 \\<le> t &&& t \\<le> t1 &&& t0 \\<le> t1) &&&\n    t0 \\<in> existence_ivl0 x0 &&&\n    t \\<in> existence_ivl0 x0 &&& t1 \\<in> existence_ivl0 x0", "by auto"], ["proof (state)\nthis:\n  t0 \\<le> t\n  t \\<le> t1\n  t0 \\<le> t1\n  t0 \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0\n  t1 \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "from global_existence_ivl_explicit[OF \\<open>t0 \\<in> existence_ivl0 x0\\<close> \\<open>t1 \\<in> existence_ivl0 x0\\<close> \\<open>t0 \\<le> t1\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> t0 \\<in> existence_ivl0 y;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> t1 \\<in> existence_ivl0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..t1}\\<rbrakk>\n          \\<Longrightarrow> dist (flow0 x0 t) (flow0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain u K where uK_def:\n    \"0 < u\"\n    \"0 < K\"\n    \"ball x0 u \\<subseteq> X\"\n    \"\\<And>y. y \\<in> ball x0 u \\<Longrightarrow> t0 \\<in> existence_ivl0 y\"\n    \"\\<And>y. y \\<in> ball x0 u \\<Longrightarrow> t1 \\<in> existence_ivl0 y\"\n    \"\\<And>t y. y \\<in> ball x0 u \\<Longrightarrow> t \\<in> J \\<Longrightarrow> dist (flow0 x0 t) (Y (y - x0) t) \\<le> dist x0 y * exp (K * \\<bar>t\\<bar>)\""], ["proof (prove)\nusing this:\n  (\\<And>d K.\n      \\<lbrakk>0 < d; 0 < K; ball x0 d \\<subseteq> X;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> t0 \\<in> existence_ivl0 y;\n       \\<And>y.\n          y \\<in> ball x0 d \\<Longrightarrow> t1 \\<in> existence_ivl0 y;\n       \\<And>t y.\n          \\<lbrakk>y \\<in> ball x0 d; t \\<in> {t0..t1}\\<rbrakk>\n          \\<Longrightarrow> dist (flow0 x0 t) (flow0 y t)\n                            \\<le> dist x0 y *\n                                  exp (K * \\<bar>t\\<bar>)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>u K.\n        \\<lbrakk>0 < u; 0 < K; ball x0 u \\<subseteq> X;\n         \\<And>y.\n            y \\<in> ball x0 u \\<Longrightarrow> t0 \\<in> existence_ivl0 y;\n         \\<And>y.\n            y \\<in> ball x0 u \\<Longrightarrow> t1 \\<in> existence_ivl0 y;\n         \\<And>t y.\n            \\<lbrakk>y \\<in> ball x0 u; t \\<in> J\\<rbrakk>\n            \\<Longrightarrow> dist (flow0 x0 t) (Y (y - x0) t)\n                              \\<le> dist x0 y *\n                                    exp (K * \\<bar>t\\<bar>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: J_def)"], ["proof (state)\nthis:\n  0 < u\n  0 < K\n  ball x0 u \\<subseteq> X\n  ?y \\<in> ball x0 u \\<Longrightarrow> t0 \\<in> existence_ivl0 ?y\n  ?y \\<in> ball x0 u \\<Longrightarrow> t1 \\<in> existence_ivl0 ?y\n  \\<lbrakk>?y \\<in> ball x0 u; ?t \\<in> J\\<rbrakk>\n  \\<Longrightarrow> dist (flow0 x0 ?t) (Y (?y - x0) ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t\\<bar>)\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have J_in_existence_ivl: \"\\<And>y. y \\<in> ball x0 u \\<Longrightarrow> J \\<subseteq> existence_ivl0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> ball x0 u \\<Longrightarrow> J \\<subseteq> existence_ivl0 y", "unfolding J_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> ball x0 u \\<Longrightarrow>\n       {t0..t1} \\<subseteq> existence_ivl0 y", "using uK_def"], ["proof (prove)\nusing this:\n  0 < u\n  0 < K\n  ball x0 u \\<subseteq> X\n  ?y \\<in> ball x0 u \\<Longrightarrow> t0 \\<in> existence_ivl0 ?y\n  ?y \\<in> ball x0 u \\<Longrightarrow> t1 \\<in> existence_ivl0 ?y\n  \\<lbrakk>?y \\<in> ball x0 u; ?t \\<in> J\\<rbrakk>\n  \\<Longrightarrow> dist (flow0 x0 ?t) (Y (?y - x0) ?t)\n                    \\<le> dist x0 ?y * exp (K * \\<bar>?t\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> ball x0 u \\<Longrightarrow>\n       {t0..t1} \\<subseteq> existence_ivl0 y", "by (simp add: real_Icc_closed_segment segment_subset_existence_ivl t0_def t1_def)"], ["proof (state)\nthis:\n  ?y \\<in> ball x0 u \\<Longrightarrow> J \\<subseteq> existence_ivl0 ?y\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have ball_in_X: \"\\<And>z. z \\<in> ball 0 u \\<Longrightarrow> x0 + z \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z. z \\<in> ball (0::'a) u \\<Longrightarrow> x0 + z \\<in> X", "using uK_def(3)"], ["proof (prove)\nusing this:\n  ball x0 u \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<And>z. z \\<in> ball (0::'a) u \\<Longrightarrow> x0 + z \\<in> X", "by (auto simp: dist_norm)"], ["proof (state)\nthis:\n  ?z \\<in> ball (0::'a) u \\<Longrightarrow> x0 + ?z \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have flow0_J_props: \"flow0 x0 ` J \\<noteq> {}\" \"compact (flow0 x0 ` J)\" \"flow0 x0` J \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x0 ` J \\<noteq> {} &&&\n    compact (flow0 x0 ` J) &&& flow0 x0 ` J \\<subseteq> X", "using \\<open>t0 \\<le> t1\\<close>"], ["proof (prove)\nusing this:\n  t0 \\<le> t1\n\ngoal (1 subgoal):\n 1. flow0 x0 ` J \\<noteq> {} &&&\n    compact (flow0 x0 ` J) &&& flow0 x0 ` J \\<subseteq> X", "using J_def(1) J_in_existence"], ["proof (prove)\nusing this:\n  t0 \\<le> t1\n  J \\<equiv> {t0..t1}\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. flow0 x0 ` J \\<noteq> {} &&&\n    compact (flow0 x0 ` J) &&& flow0 x0 ` J \\<subseteq> X", "by (auto simp add: J_def intro!:\n      compact_continuous_image continuous_intros flow_in_domain)"], ["proof (state)\nthis:\n  flow0 x0 ` J \\<noteq> {}\n  compact (flow0 x0 ` J)\n  flow0 x0 ` J \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "have [continuous_intros]: \"continuous_on J (\\<lambda>s. f' (flow0 x0 s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J (\\<lambda>s. f' (flow0 x0 s))", "using J_in_existence"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. continuous_on J (\\<lambda>s. f' (flow0 x0 s))", "by (auto intro!: continuous_intros flow_in_domain simp:)"], ["proof (state)\nthis:\n  continuous_on J (\\<lambda>s. f' (flow0 x0 s))\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "text \\<open> Show the thesis via cases \\<open>t = 0\\<close>, \\<open>0 < t\\<close> and \\<open>t < 0\\<close>. \\<close>"], ["proof (state)\nthis:\n  continuous_on J (\\<lambda>s. f' (flow0 x0 s))\n\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "proof(cases \"t = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t = 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)\n 2. t \\<noteq> 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "assume \"t = 0\""], ["proof (state)\nthis:\n  t = 0\n\ngoal (2 subgoals):\n 1. t = 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)\n 2. t \\<noteq> 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "unfolding \\<open>t = 0\\<close> Lim_at"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) 0 - flow0 x0 0 -\n                vector_Dflow (x - x0) 0) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "proof(simp add: dist_norm[of _ 0] del: zero_less_dist_iff, safe, rule exI, rule conjI[OF \\<open>0 < u\\<close>], safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e x.\n       \\<lbrakk>0 < e; 0 < dist x x0; dist x x0 < u\\<rbrakk>\n       \\<Longrightarrow> inverse (norm (x - x0)) *\n                         norm\n                          (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n                         < e", "fix e::real and x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e x.\n       \\<lbrakk>0 < e; 0 < dist x x0; dist x x0 < u\\<rbrakk>\n       \\<Longrightarrow> inverse (norm (x - x0)) *\n                         norm\n                          (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n                         < e", "assume \"0 < e\" \"0 < dist x x0\" \"dist x x0 < u\""], ["proof (state)\nthis:\n  0 < e\n  0 < dist x x0\n  dist x x0 < u\n\ngoal (1 subgoal):\n 1. \\<And>e x.\n       \\<lbrakk>0 < e; 0 < dist x x0; dist x x0 < u\\<rbrakk>\n       \\<Longrightarrow> inverse (norm (x - x0)) *\n                         norm\n                          (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n                         < e", "hence \"x \\<in> X\""], ["proof (prove)\nusing this:\n  0 < e\n  0 < dist x x0\n  dist x x0 < u\n\ngoal (1 subgoal):\n 1. x \\<in> X", "using uK_def(3)"], ["proof (prove)\nusing this:\n  0 < e\n  0 < dist x x0\n  dist x x0 < u\n  ball x0 u \\<subseteq> X\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by (auto simp: dist_commute)"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>e x.\n       \\<lbrakk>0 < e; 0 < dist x x0; dist x x0 < u\\<rbrakk>\n       \\<Longrightarrow> inverse (norm (x - x0)) *\n                         norm\n                          (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n                         < e", "hence \"inverse (norm (x - x0)) * norm (Y (x - x0) 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) = 0\""], ["proof (prove)\nusing this:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. inverse (norm (x - x0)) *\n    norm (Y (x - x0) 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) =\n    0", "using x0_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  0 \\<in> UNIV\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. inverse (norm (x - x0)) *\n    norm (Y (x - x0) 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) =\n    0", "by (simp add: vector_Dflow_def)"], ["proof (state)\nthis:\n  inverse (norm (x - x0)) *\n  norm (Y (x - x0) 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) =\n  0\n\ngoal (1 subgoal):\n 1. \\<And>e x.\n       \\<lbrakk>0 < e; 0 < dist x x0; dist x x0 < u\\<rbrakk>\n       \\<Longrightarrow> inverse (norm (x - x0)) *\n                         norm\n                          (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n                         < e", "thus \"inverse (norm (x - x0)) * norm (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) < e\""], ["proof (prove)\nusing this:\n  inverse (norm (x - x0)) *\n  norm (Y (x - x0) 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) =\n  0\n\ngoal (1 subgoal):\n 1. inverse (norm (x - x0)) *\n    norm (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n    < e", "using \\<open>0 < e\\<close>"], ["proof (prove)\nusing this:\n  inverse (norm (x - x0)) *\n  norm (Y (x - x0) 0 - flow0 x0 0 - vector_Dflow (x - x0) 0) =\n  0\n  0 < e\n\ngoal (1 subgoal):\n 1. inverse (norm (x - x0)) *\n    norm (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n    < e", "by auto"], ["proof (state)\nthis:\n  inverse (norm (x - x0)) *\n  norm (flow0 x 0 - flow0 x0 0 - vector_Dflow (x - x0) 0)\n  < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>y.\n      (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n      norm (y - x0))\n  \\<midarrow>x0\\<rightarrow> (0::'a)\n\ngoal (1 subgoal):\n 1. t \\<noteq> 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<noteq> 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "assume \"t \\<noteq> 0\""], ["proof (state)\nthis:\n  t \\<noteq> 0\n\ngoal (1 subgoal):\n 1. t \\<noteq> 0 \\<Longrightarrow>\n    (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>y.\n        (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n        norm (y - x0))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "proof(unfold Lim_at, safe)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "fix e::real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "assume \"0 < e\""], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "then"], ["proof (chain)\npicking this:\n  0 < e", "obtain e' where \"0 < e'\" \"e' < e\""], ["proof (prove)\nusing this:\n  0 < e\n\ngoal (1 subgoal):\n 1. (\\<And>e'.\n        \\<lbrakk>0 < e'; e' < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using dense"], ["proof (prove)\nusing this:\n  0 < e\n  ?x < ?y \\<Longrightarrow> \\<exists>z>?x. z < ?y\n\ngoal (1 subgoal):\n 1. (\\<And>e'.\n        \\<lbrakk>0 < e'; e' < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < e'\n  e' < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "obtain N\n        where N_ge_SupS: \"Sup { norm (f' (flow0 x0 s)) |s. s \\<in> J } \\<le> N\" (is \"Sup ?S \\<le> N\")\n          and N_gr_0: \"0 < N\"\n        \\<comment> \\<open>We need N to be an upper bound of @{term ?S}, but also larger than zero.\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J} \\<le> N;\n         0 < N\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson le_cases less_le_trans linordered_field_no_ub)"], ["proof (state)\nthis:\n  Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J} \\<le> N\n  0 < N\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have N_ineq: \"\\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "assume \"s \\<in> J\""], ["proof (state)\nthis:\n  s \\<in> J\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "have \"?S = (norm o f' o flow0 x0) ` J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {norm (f' (flow0 x0 s)) |s. s \\<in> J} =\n    (norm \\<circ> f' \\<circ> flow0 x0) ` J", "by auto"], ["proof (state)\nthis:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} =\n  (norm \\<circ> f' \\<circ> flow0 x0) ` J\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "moreover"], ["proof (state)\nthis:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} =\n  (norm \\<circ> f' \\<circ> flow0 x0) ` J\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "have \"continuous_on J (norm o f' o flow0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J (norm \\<circ> f' \\<circ> flow0 x0)", "using J_in_existence"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. continuous_on J (norm \\<circ> f' \\<circ> flow0 x0)", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on J (norm \\<circ> f' \\<circ> flow0 x0)\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "ultimately"], ["proof (chain)\npicking this:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} =\n  (norm \\<circ> f' \\<circ> flow0 x0) ` J\n  continuous_on J (norm \\<circ> f' \\<circ> flow0 x0)", "have  \"\\<exists>a b. ?S = {a..b} \\<and> a \\<le> b\""], ["proof (prove)\nusing this:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} =\n  (norm \\<circ> f' \\<circ> flow0 x0) ` J\n  continuous_on J (norm \\<circ> f' \\<circ> flow0 x0)\n\ngoal (1 subgoal):\n 1. \\<exists>a b.\n       {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b} \\<and> a \\<le> b", "using continuous_image_closed_interval[OF \\<open>t0 \\<le> t1\\<close>]"], ["proof (prove)\nusing this:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} =\n  (norm \\<circ> f' \\<circ> flow0 x0) ` J\n  continuous_on J (norm \\<circ> f' \\<circ> flow0 x0)\n  continuous_on {t0..t1} ?f \\<Longrightarrow>\n  \\<exists>c d. ?f ` {t0..t1} = {c..d} \\<and> c \\<le> d\n\ngoal (1 subgoal):\n 1. \\<exists>a b.\n       {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b} \\<and> a \\<le> b", "by (simp add: J_def)"], ["proof (state)\nthis:\n  \\<exists>a b.\n     {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b} \\<and> a \\<le> b\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "then"], ["proof (chain)\npicking this:\n  \\<exists>a b.\n     {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b} \\<and> a \\<le> b", "obtain a b where \"?S = {a..b}\" and \"a \\<le> b\""], ["proof (prove)\nusing this:\n  \\<exists>a b.\n     {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b} \\<and> a \\<le> b\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>{norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b};\n         a \\<le> b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b}\n  a \\<le> b\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "hence \"bdd_above ?S\""], ["proof (prove)\nusing this:\n  {norm (f' (flow0 x0 s)) |s. s \\<in> J} = {a..b}\n  a \\<le> b\n\ngoal (1 subgoal):\n 1. bdd_above {norm (f' (flow0 x0 s)) |s. s \\<in> J}", "by simp"], ["proof (state)\nthis:\n  bdd_above {norm (f' (flow0 x0 s)) |s. s \\<in> J}\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "from \\<open>s \\<in> J\\<close>  cSup_upper[OF _ this]"], ["proof (chain)\npicking this:\n  s \\<in> J\n  ?x \\<in> {norm (f' (flow0 x0 s)) |s. s \\<in> J} \\<Longrightarrow>\n  ?x \\<le> Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J}", "have \"norm (f' (flow0 x0 s)) \\<le> Sup ?S\""], ["proof (prove)\nusing this:\n  s \\<in> J\n  ?x \\<in> {norm (f' (flow0 x0 s)) |s. s \\<in> J} \\<Longrightarrow>\n  ?x \\<le> Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J}\n\ngoal (1 subgoal):\n 1. norm (f' (flow0 x0 s)) \\<le> Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J}", "by auto"], ["proof (state)\nthis:\n  norm (f' (flow0 x0 s)) \\<le> Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J}\n\ngoal (1 subgoal):\n 1. \\<And>s. s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 s)) \\<le> N", "thus \"norm (f' (flow0 x0 s)) \\<le> N\""], ["proof (prove)\nusing this:\n  norm (f' (flow0 x0 s)) \\<le> Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J}\n\ngoal (1 subgoal):\n 1. norm (f' (flow0 x0 s)) \\<le> N", "using N_ge_SupS"], ["proof (prove)\nusing this:\n  norm (f' (flow0 x0 s)) \\<le> Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J}\n  Sup {norm (f' (flow0 x0 s)) |s. s \\<in> J} \\<le> N\n\ngoal (1 subgoal):\n 1. norm (f' (flow0 x0 s)) \\<le> N", "by simp"], ["proof (state)\nthis:\n  norm (f' (flow0 x0 s)) \\<le> N\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 ?s)) \\<le> N\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "text \\<open> Define a small region around \\<open>flow0 ` J\\<close>, that is a subset of the domain \\<open>X\\<close>. \\<close>"], ["proof (state)\nthis:\n  ?s \\<in> J \\<Longrightarrow> norm (f' (flow0 x0 ?s)) \\<le> N\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "from compact_in_open_separated[OF flow0_J_props(1,2) auto_open_domain flow0_J_props(3)]"], ["proof (chain)\npicking this:\n  (\\<And>e.\n      \\<lbrakk>0 < e;\n       {x. infdist x (flow0 x0 ` J) \\<le> e} \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain e_domain where e_domain_def: \"0 < e_domain\" \"{x. infdist x (flow0 x0 ` J) \\<le> e_domain} \\<subseteq> X\""], ["proof (prove)\nusing this:\n  (\\<And>e.\n      \\<lbrakk>0 < e;\n       {x. infdist x (flow0 x0 ` J) \\<le> e} \\<subseteq> X\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>e_domain.\n        \\<lbrakk>0 < e_domain;\n         {x. infdist x (flow0 x0 ` J) \\<le> e_domain} \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < e_domain\n  {x. infdist x (flow0 x0 ` J) \\<le> e_domain} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "define G where \"G \\<equiv> {x\\<in>X. infdist x (flow0 x0 ` J) < e_domain}\""], ["proof (state)\nthis:\n  G \\<equiv> {x \\<in> X. infdist x (flow0 x0 ` J) < e_domain}\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have G_vimage: \"G = ((\\<lambda>x. infdist x (flow0 x0 ` J)) -` {..<e_domain}) \\<inter> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G = (\\<lambda>x. infdist x (flow0 x0 ` J)) -` {..<e_domain} \\<inter> X", "by (auto simp: G_def)"], ["proof (state)\nthis:\n  G = (\\<lambda>x. infdist x (flow0 x0 ` J)) -` {..<e_domain} \\<inter> X\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have \"open G\" \"G \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open G &&& G \\<subseteq> X", "unfolding G_vimage"], ["proof (prove)\ngoal (1 subgoal):\n 1. open\n     ((\\<lambda>x. infdist x (flow0 x0 ` J)) -` {..<e_domain} \\<inter>\n      X) &&&\n    (\\<lambda>x. infdist x (flow0 x0 ` J)) -` {..<e_domain} \\<inter> X\n    \\<subseteq> X", "by (auto intro!: open_Int open_vimage continuous_intros continuous_at_imp_continuous_on)"], ["proof (state)\nthis:\n  open G\n  G \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "text \\<open>Define a compact subset H of G. Inside H, we can guarantee\n         an upper bound on the Taylor remainder.\\<close>"], ["proof (state)\nthis:\n  open G\n  G \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "define e_domain2 where \"e_domain2 \\<equiv> e_domain / 2\""], ["proof (state)\nthis:\n  e_domain2 \\<equiv> e_domain / 2\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have \"e_domain2 > 0\" \"e_domain2 < e_domain\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e_domain2 &&& e_domain2 < e_domain", "using \\<open>e_domain > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < e_domain\n\ngoal (1 subgoal):\n 1. 0 < e_domain2 &&& e_domain2 < e_domain", "by (simp_all add: e_domain2_def)"], ["proof (state)\nthis:\n  0 < e_domain2\n  e_domain2 < e_domain\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "define H where \"H \\<equiv> {x. infdist x (flow0 x0 ` J) \\<le> e_domain2}\""], ["proof (state)\nthis:\n  H \\<equiv> {x. infdist x (flow0 x0 ` J) \\<le> e_domain2}\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have H_props: \"H \\<noteq> {}\" \"compact H\" \"H \\<subseteq> G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<noteq> {} &&& compact H &&& H \\<subseteq> G", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. H \\<noteq> {}\n 2. compact H\n 3. H \\<subseteq> G", "have \"x0 \\<in> flow0 x0 ` J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x0 \\<in> flow0 x0 ` J", "unfolding image_iff"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>J. x0 = flow0 x0 x", "using \\<open>0 \\<in> J\\<close>  x0_def"], ["proof (prove)\nusing this:\n  0 \\<in> J\n  0 \\<in> UNIV\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. \\<exists>x\\<in>J. x0 = flow0 x0 x", "by force"], ["proof (state)\nthis:\n  x0 \\<in> flow0 x0 ` J\n\ngoal (3 subgoals):\n 1. H \\<noteq> {}\n 2. compact H\n 3. H \\<subseteq> G", "hence \"x0 \\<in> H\""], ["proof (prove)\nusing this:\n  x0 \\<in> flow0 x0 ` J\n\ngoal (1 subgoal):\n 1. x0 \\<in> H", "using \\<open>0 < e_domain2\\<close>"], ["proof (prove)\nusing this:\n  x0 \\<in> flow0 x0 ` J\n  0 < e_domain2\n\ngoal (1 subgoal):\n 1. x0 \\<in> H", "by (simp add: H_def x0_def)"], ["proof (state)\nthis:\n  x0 \\<in> H\n\ngoal (3 subgoals):\n 1. H \\<noteq> {}\n 2. compact H\n 3. H \\<subseteq> G", "thus \"H \\<noteq> {}\""], ["proof (prove)\nusing this:\n  x0 \\<in> H\n\ngoal (1 subgoal):\n 1. H \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  H \\<noteq> {}\n\ngoal (2 subgoals):\n 1. compact H\n 2. H \\<subseteq> G", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. compact H\n 2. H \\<subseteq> G", "show \"compact H\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact H", "unfolding H_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. compact {x. infdist x (flow0 x0 ` J) \\<le> e_domain2}", "using \\<open>0 < e_domain2\\<close> flow0_J_props"], ["proof (prove)\nusing this:\n  0 < e_domain2\n  flow0 x0 ` J \\<noteq> {}\n  compact (flow0 x0 ` J)\n  flow0 x0 ` J \\<subseteq> X\n\ngoal (1 subgoal):\n 1. compact {x. infdist x (flow0 x0 ` J) \\<le> e_domain2}", "by (intro compact_infdist_le) simp_all"], ["proof (state)\nthis:\n  compact H\n\ngoal (1 subgoal):\n 1. H \\<subseteq> G", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. H \\<subseteq> G", "show \"H \\<subseteq> G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<subseteq> G", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> G", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> G", "assume \"x \\<in> H\""], ["proof (state)\nthis:\n  x \\<in> H\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> G", "then"], ["proof (chain)\npicking this:\n  x \\<in> H", "have *: \"infdist x (flow0 x0 ` J) < e_domain\""], ["proof (prove)\nusing this:\n  x \\<in> H\n\ngoal (1 subgoal):\n 1. infdist x (flow0 x0 ` J) < e_domain", "using \\<open>0 < e_domain\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> H\n  0 < e_domain\n\ngoal (1 subgoal):\n 1. infdist x (flow0 x0 ` J) < e_domain", "by (simp add: H_def e_domain2_def)"], ["proof (state)\nthis:\n  infdist x (flow0 x0 ` J) < e_domain\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> G", "then"], ["proof (chain)\npicking this:\n  infdist x (flow0 x0 ` J) < e_domain", "have \"x \\<in> X\""], ["proof (prove)\nusing this:\n  infdist x (flow0 x0 ` J) < e_domain\n\ngoal (1 subgoal):\n 1. x \\<in> X", "using e_domain_def(2)"], ["proof (prove)\nusing this:\n  infdist x (flow0 x0 ` J) < e_domain\n  {x. infdist x (flow0 x0 ` J) \\<le> e_domain} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> H \\<Longrightarrow> x \\<in> G", "with *"], ["proof (chain)\npicking this:\n  infdist x (flow0 x0 ` J) < e_domain\n  x \\<in> X", "show \"x \\<in> G\""], ["proof (prove)\nusing this:\n  infdist x (flow0 x0 ` J) < e_domain\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> G", "unfolding G_def"], ["proof (prove)\nusing this:\n  infdist x (flow0 x0 ` J) < e_domain\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> {x \\<in> X. infdist x (flow0 x0 ` J) < e_domain}", "by auto"], ["proof (state)\nthis:\n  x \\<in> G\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  H \\<subseteq> G\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  H \\<noteq> {}\n  compact H\n  H \\<subseteq> G\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have f'_cont_on_G: \"(\\<And>x. x \\<in> G \\<Longrightarrow> isCont f' x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> G \\<Longrightarrow> isCont f' x", "using continuous_on_interior[OF continuous_on_subset[OF continuous_derivative \\<open>G \\<subseteq> X\\<close>]]"], ["proof (prove)\nusing this:\n  ?x \\<in> interior G \\<Longrightarrow> isCont f' ?x\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> G \\<Longrightarrow> isCont f' x", "by (simp add: interior_open[OF \\<open>open G\\<close>])"], ["proof (state)\nthis:\n  ?x \\<in> G \\<Longrightarrow> isCont f' ?x\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "define e1 where \"e1 \\<equiv> e' / (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * exp (N * \\<bar>t\\<bar>))\"\n        \\<comment> \\<open>@{term e1} is the bounding term for the Taylor remainder.\\<close>"], ["proof (state)\nthis:\n  e1 \\<equiv>\n  e' / (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * exp (N * \\<bar>t\\<bar>))\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have \"0 < \\<bar>t\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<bar>t\\<bar>", "using \\<open>t \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  t \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>t\\<bar>", "by simp"], ["proof (state)\nthis:\n  0 < \\<bar>t\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "hence \"0 < e1\""], ["proof (prove)\nusing this:\n  0 < \\<bar>t\\<bar>\n\ngoal (1 subgoal):\n 1. 0 < e1", "using \\<open>0 < e'\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<bar>t\\<bar>\n  0 < e'\n\ngoal (1 subgoal):\n 1. 0 < e1", "by (simp add: e1_def)"], ["proof (state)\nthis:\n  0 < e1\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "text \\<open> Taylor expansion of f on set G. \\<close>"], ["proof (state)\nthis:\n  0 < e1\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "from uniform_explicit_remainder_Taylor_1[where f=f and f'=f',\n        OF derivative_rhs[OF subsetD[OF \\<open>G \\<subseteq> X\\<close>]] f'_cont_on_G \\<open>open G\\<close> H_props \\<open>0 < e1\\<close>]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x. x \\<in> G \\<Longrightarrow> x \\<in> G;\n   \\<And>x. x \\<in> G \\<Longrightarrow> x \\<in> G;\n   \\<And>d R.\n      \\<lbrakk>0 < d;\n       \\<And>x z. f z = f x + blinfun_apply (f' x) (z - x) + R x z;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> H; y \\<in> H; dist x y < d\\<rbrakk>\n          \\<Longrightarrow> norm (R x y) \\<le> e1 * dist x y;\n       continuous_on (G \\<times> G) (\\<lambda>(a, b). R a b)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain d_Taylor R\n      where Taylor_expansion:\n        \"0 < d_Taylor\"\n        \"\\<And>x z. f z = f x + (f' x) (z - x) + R x z\"\n        \"\\<And>x y. x \\<in> H \\<Longrightarrow> y \\<in> H \\<Longrightarrow> dist x y < d_Taylor \\<Longrightarrow> norm (R x y) \\<le> e1 * dist x y\"\n        \"continuous_on (G \\<times> G) (\\<lambda>(a, b). R a b)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x. x \\<in> G \\<Longrightarrow> x \\<in> G;\n   \\<And>x. x \\<in> G \\<Longrightarrow> x \\<in> G;\n   \\<And>d R.\n      \\<lbrakk>0 < d;\n       \\<And>x z. f z = f x + blinfun_apply (f' x) (z - x) + R x z;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> H; y \\<in> H; dist x y < d\\<rbrakk>\n          \\<Longrightarrow> norm (R x y) \\<le> e1 * dist x y;\n       continuous_on (G \\<times> G) (\\<lambda>(a, b). R a b)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d_Taylor R.\n        \\<lbrakk>0 < d_Taylor;\n         \\<And>x z. f z = f x + blinfun_apply (f' x) (z - x) + R x z;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> H; y \\<in> H; dist x y < d_Taylor\\<rbrakk>\n            \\<Longrightarrow> norm (R x y) \\<le> e1 * dist x y;\n         continuous_on (G \\<times> G) (\\<lambda>(a, b). R a b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < d_Taylor\n  f ?z = f ?x + blinfun_apply (f' ?x) (?z - ?x) + R ?x ?z\n  \\<lbrakk>?x \\<in> H; ?y \\<in> H; dist ?x ?y < d_Taylor\\<rbrakk>\n  \\<Longrightarrow> norm (R ?x ?y) \\<le> e1 * dist ?x ?y\n  continuous_on (G \\<times> G) (\\<lambda>(a, b). R a b)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "text \\<open> Find d, such that solutions are always at least \\<open>min (e_domain/2) d_Taylor\\<close> apart,\n         i.e. always in H. This later gives us the bound on the remainder. \\<close>"], ["proof (state)\nthis:\n  0 < d_Taylor\n  f ?z = f ?x + blinfun_apply (f' ?x) (?z - ?x) + R ?x ?z\n  \\<lbrakk>?x \\<in> H; ?y \\<in> H; dist ?x ?y < d_Taylor\\<rbrakk>\n  \\<Longrightarrow> norm (R ?x ?y) \\<le> e1 * dist ?x ?y\n  continuous_on (G \\<times> G) (\\<lambda>(a, b). R a b)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have \"0 < min (e_domain/2) d_Taylor\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < min (e_domain / 2) d_Taylor", "using \\<open>0 < d_Taylor\\<close> \\<open>0 < e_domain\\<close>"], ["proof (prove)\nusing this:\n  0 < d_Taylor\n  0 < e_domain\n\ngoal (1 subgoal):\n 1. 0 < min (e_domain / 2) d_Taylor", "by auto"], ["proof (state)\nthis:\n  0 < min (e_domain / 2) d_Taylor\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "from uniform_limit_flow[OF \\<open>t0 \\<in> existence_ivl0 x0\\<close> \\<open>t1 \\<in> existence_ivl0 x0\\<close> \\<open>t0 \\<le> t1\\<close>,\n        THEN uniform_limitD, OF this, unfolded eventually_at]"], ["proof (chain)\npicking this:\n  \\<exists>d>0.\n     \\<forall>x\\<in>UNIV.\n        x \\<noteq> x0 \\<and> dist x x0 < d \\<longrightarrow>\n        (\\<forall>xa\\<in>{t0..t1}.\n            dist (flow0 x xa) (flow0 x0 xa) < min (e_domain / 2) d_Taylor)", "obtain d_ivl where d_ivl_def:\n        \"0 < d_ivl\"\n        \"\\<And>x. 0 < dist x x0 \\<Longrightarrow> dist x x0 < d_ivl \\<Longrightarrow>\n          (\\<forall>t\\<in>J. dist (flow0 x0 t) (Y (x - x0) t) < min (e_domain / 2) d_Taylor)\""], ["proof (prove)\nusing this:\n  \\<exists>d>0.\n     \\<forall>x\\<in>UNIV.\n        x \\<noteq> x0 \\<and> dist x x0 < d \\<longrightarrow>\n        (\\<forall>xa\\<in>{t0..t1}.\n            dist (flow0 x xa) (flow0 x0 xa) < min (e_domain / 2) d_Taylor)\n\ngoal (1 subgoal):\n 1. (\\<And>d_ivl.\n        \\<lbrakk>0 < d_ivl;\n         \\<And>x.\n            \\<lbrakk>0 < dist x x0; dist x x0 < d_ivl\\<rbrakk>\n            \\<Longrightarrow> \\<forall>t\\<in>J.\n                                 dist (flow0 x0 t) (Y (x - x0) t)\n                                 < min (e_domain / 2) d_Taylor\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: dist_commute J_def)"], ["proof (state)\nthis:\n  0 < d_ivl\n  \\<lbrakk>0 < dist ?x x0; dist ?x x0 < d_ivl\\<rbrakk>\n  \\<Longrightarrow> \\<forall>t\\<in>J.\n                       dist (flow0 x0 t) (Y (?x - x0) t)\n                       < min (e_domain / 2) d_Taylor\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "define d where \"d \\<equiv> min u d_ivl\""], ["proof (state)\nthis:\n  d \\<equiv> min u d_ivl\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have \"0 < d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < d", "using \\<open>0 < u\\<close> \\<open>0 < d_ivl\\<close>"], ["proof (prove)\nusing this:\n  0 < u\n  0 < d_ivl\n\ngoal (1 subgoal):\n 1. 0 < d", "by (simp add: d_def)"], ["proof (state)\nthis:\n  0 < d\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "hence \"d \\<le> u\" \"d \\<le> d_ivl\""], ["proof (prove)\nusing this:\n  0 < d\n\ngoal (1 subgoal):\n 1. d \\<le> u &&& d \\<le> d_ivl", "by (auto simp: d_def)"], ["proof (state)\nthis:\n  d \\<le> u\n  d \\<le> d_ivl\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "text \\<open> Therefore, any flow0 starting in \\<open>ball x0 d\\<close> will be in G. \\<close>"], ["proof (state)\nthis:\n  d \\<le> u\n  d \\<le> d_ivl\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "have Y_in_G: \"\\<And>y. y \\<in> ball x0 d \\<Longrightarrow> (\\<lambda>s. Y (y - x0) s) ` J \\<subseteq> G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> ball x0 d \\<Longrightarrow> Y (y - x0) ` J \\<subseteq> G", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y x.\n       \\<lbrakk>y \\<in> ball x0 d; x \\<in> Y (y - x0) ` J\\<rbrakk>\n       \\<Longrightarrow> x \\<in> G", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y x.\n       \\<lbrakk>y \\<in> ball x0 d; x \\<in> Y (y - x0) ` J\\<rbrakk>\n       \\<Longrightarrow> x \\<in> G", "assume assms: \"y \\<in> ball x0 d\" \"x \\<in> (\\<lambda>s. Y (y - x0) s) ` J\""], ["proof (state)\nthis:\n  y \\<in> ball x0 d\n  x \\<in> Y (y - x0) ` J\n\ngoal (1 subgoal):\n 1. \\<And>y x.\n       \\<lbrakk>y \\<in> ball x0 d; x \\<in> Y (y - x0) ` J\\<rbrakk>\n       \\<Longrightarrow> x \\<in> G", "show \"x \\<in> G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> G", "proof(cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> x \\<in> G\n 2. \\<not> ?P \\<Longrightarrow> x \\<in> G", "assume \"y = x0\""], ["proof (state)\nthis:\n  y = x0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> x \\<in> G\n 2. \\<not> ?P \\<Longrightarrow> x \\<in> G", "from assms(2)"], ["proof (chain)\npicking this:\n  x \\<in> Y (y - x0) ` J", "have \"x \\<in> flow0 x0 ` J\""], ["proof (prove)\nusing this:\n  x \\<in> Y (y - x0) ` J\n\ngoal (1 subgoal):\n 1. x \\<in> flow0 x0 ` J", "by (simp add: \\<open>y = x0\\<close>)"], ["proof (state)\nthis:\n  x \\<in> flow0 x0 ` J\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> x \\<in> G\n 2. \\<not> ?P \\<Longrightarrow> x \\<in> G", "thus \"x \\<in> G\""], ["proof (prove)\nusing this:\n  x \\<in> flow0 x0 ` J\n\ngoal (1 subgoal):\n 1. x \\<in> G", "using \\<open>0 < e_domain\\<close> \\<open>flow0 x0 ` J \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> flow0 x0 ` J\n  0 < e_domain\n  flow0 x0 ` J \\<subseteq> X\n\ngoal (1 subgoal):\n 1. x \\<in> G", "by (auto simp: G_def)"], ["proof (state)\nthis:\n  x \\<in> G\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "assume \"y \\<noteq> x0\""], ["proof (state)\nthis:\n  y \\<noteq> x0\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "hence \"0 < dist y x0\""], ["proof (prove)\nusing this:\n  y \\<noteq> x0\n\ngoal (1 subgoal):\n 1. 0 < dist y x0", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  0 < dist y x0\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "from d_ivl_def(2)[OF this] \\<open>d \\<le> d_ivl\\<close>  \\<open>0 < e_domain\\<close> assms(1)"], ["proof (chain)\npicking this:\n  dist y x0 < d_ivl \\<Longrightarrow>\n  \\<forall>t\\<in>J.\n     dist (flow0 x0 t) (Y (y - x0) t) < min (e_domain / 2) d_Taylor\n  d \\<le> d_ivl\n  0 < e_domain\n  y \\<in> ball x0 d", "have dist_flow0_Y: \"\\<And>t. t \\<in> J \\<Longrightarrow> dist (flow0 x0 t) (Y (y - x0) t) < e_domain\""], ["proof (prove)\nusing this:\n  dist y x0 < d_ivl \\<Longrightarrow>\n  \\<forall>t\\<in>J.\n     dist (flow0 x0 t) (Y (y - x0) t) < min (e_domain / 2) d_Taylor\n  d \\<le> d_ivl\n  0 < e_domain\n  y \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t \\<in> J \\<Longrightarrow>\n       dist (flow0 x0 t) (Y (y - x0) t) < e_domain", "by (auto simp: dist_commute)"], ["proof (state)\nthis:\n  ?t \\<in> J \\<Longrightarrow> dist (flow0 x0 ?t) (Y (y - x0) ?t) < e_domain\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "from assms(2)"], ["proof (chain)\npicking this:\n  x \\<in> Y (y - x0) ` J", "obtain t where t_def: \"t \\<in> J\" \"x = Y (y - x0) t\""], ["proof (prove)\nusing this:\n  x \\<in> Y (y - x0) ` J\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<in> J; x = Y (y - x0) t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t \\<in> J\n  x = Y (y - x0) t\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "have \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "unfolding t_def(2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Y (y - x0) t \\<in> X", "using uK_def(3) assms(1) \\<open>d \\<le> u\\<close> subsetD[OF J_in_existence_ivl t_def(1)]"], ["proof (prove)\nusing this:\n  ball x0 u \\<subseteq> X\n  y \\<in> ball x0 d\n  d \\<le> u\n  ?y1 \\<in> ball x0 u \\<Longrightarrow> t \\<in> existence_ivl0 ?y1\n\ngoal (1 subgoal):\n 1. Y (y - x0) t \\<in> X", "by (auto simp: intro!: flow_in_domain)"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "have \"flow0 x0 t \\<in> flow0 x0 ` J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x0 t \\<in> flow0 x0 ` J", "using t_def"], ["proof (prove)\nusing this:\n  t \\<in> J\n  x = Y (y - x0) t\n\ngoal (1 subgoal):\n 1. flow0 x0 t \\<in> flow0 x0 ` J", "by auto"], ["proof (state)\nthis:\n  flow0 x0 t \\<in> flow0 x0 ` J\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "from dist_flow0_Y[OF t_def(1)]"], ["proof (chain)\npicking this:\n  dist (flow0 x0 t) (Y (y - x0) t) < e_domain", "have \"dist x (flow0 x0 t) < e_domain\""], ["proof (prove)\nusing this:\n  dist (flow0 x0 t) (Y (y - x0) t) < e_domain\n\ngoal (1 subgoal):\n 1. dist x (flow0 x0 t) < e_domain", "by (simp add: t_def(2) dist_commute)"], ["proof (state)\nthis:\n  dist x (flow0 x0 t) < e_domain\n\ngoal (1 subgoal):\n 1. y \\<noteq> x0 \\<Longrightarrow> x \\<in> G", "from le_less_trans[OF infdist_le[OF \\<open>flow0 x0 t \\<in> flow0 x0 ` J\\<close>] this] \\<open>x \\<in> X\\<close>"], ["proof (chain)\npicking this:\n  infdist x (flow0 x0 ` J) < e_domain\n  x \\<in> X", "show \"x \\<in> G\""], ["proof (prove)\nusing this:\n  infdist x (flow0 x0 ` J) < e_domain\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> G", "by (auto simp: G_def)"], ["proof (state)\nthis:\n  x \\<in> G\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<in> G\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?y \\<in> ball x0 d \\<Longrightarrow> Y (?y - x0) ` J \\<subseteq> G\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "from this[of x0] \\<open>0 < d\\<close>"], ["proof (chain)\npicking this:\n  x0 \\<in> ball x0 d \\<Longrightarrow> Y (x0 - x0) ` J \\<subseteq> G\n  0 < d", "have X_in_G: \"flow0 x0 ` J \\<subseteq> G\""], ["proof (prove)\nusing this:\n  x0 \\<in> ball x0 d \\<Longrightarrow> Y (x0 - x0) ` J \\<subseteq> G\n  0 < d\n\ngoal (1 subgoal):\n 1. flow0 x0 ` J \\<subseteq> G", "by (simp add: )"], ["proof (state)\nthis:\n  flow0 x0 ` J \\<subseteq> G\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<exists>d>0.\n          \\<forall>x.\n             0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n             dist\n              ((Y (x - x0) t - flow0 x0 t -\n                vector_Dflow (x - x0) t) /\\<^sub>R\n               norm (x - x0))\n              (0::'a)\n             < e", "show \"\\<exists>d>0. \\<forall>x. 0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n                     dist ((Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) /\\<^sub>R norm (x - x0)) 0 < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>d>0.\n       \\<forall>x.\n          0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n          dist\n           ((Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) /\\<^sub>R\n            norm (x - x0))\n           (0::'a)\n          < e", "proof(rule exI, rule conjI[OF \\<open>0 < d\\<close>], safe, unfold norm_conv_dist[symmetric])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "assume x_x0_dist: \"0 < dist x x0\" \"dist x x0 < d\""], ["proof (state)\nthis:\n  0 < dist x x0\n  dist x x0 < d\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "hence x_in_ball': \"x \\<in> ball x0 d\""], ["proof (prove)\nusing this:\n  0 < dist x x0\n  dist x x0 < d\n\ngoal (1 subgoal):\n 1. x \\<in> ball x0 d", "by (simp add: dist_commute)"], ["proof (state)\nthis:\n  x \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "hence x_in_ball: \"x \\<in> ball x0 u\""], ["proof (prove)\nusing this:\n  x \\<in> ball x0 d\n\ngoal (1 subgoal):\n 1. x \\<in> ball x0 u", "using \\<open>d \\<le> u\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> ball x0 d\n  d \\<le> u\n\ngoal (1 subgoal):\n 1. x \\<in> ball x0 u", "by simp"], ["proof (state)\nthis:\n  x \\<in> ball x0 u\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "text \\<open> First, some prerequisites. \\<close>"], ["proof (state)\nthis:\n  x \\<in> ball x0 u\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "from x_in_ball"], ["proof (chain)\npicking this:\n  x \\<in> ball x0 u", "have z_in_ball: \"x - x0 \\<in> ball 0 u\""], ["proof (prove)\nusing this:\n  x \\<in> ball x0 u\n\ngoal (1 subgoal):\n 1. x - x0 \\<in> ball (0::'a) u", "using \\<open>0 < u\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> ball x0 u\n  0 < u\n\ngoal (1 subgoal):\n 1. x - x0 \\<in> ball (0::'a) u", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  x - x0 \\<in> ball (0::'a) u\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "hence [continuous_intros]: \"dist x0 x < u\""], ["proof (prove)\nusing this:\n  x - x0 \\<in> ball (0::'a) u\n\ngoal (1 subgoal):\n 1. dist x0 x < u", "by (auto simp: dist_norm)"], ["proof (state)\nthis:\n  dist x0 x < u\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "from J_in_existence_ivl[OF x_in_ball]"], ["proof (chain)\npicking this:\n  J \\<subseteq> existence_ivl0 x", "have J_in_existence_ivl_x: \"J \\<subseteq> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. J \\<subseteq> existence_ivl0 x", "."], ["proof (state)\nthis:\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "from ball_in_X[OF z_in_ball]"], ["proof (chain)\npicking this:\n  x0 + (x - x0) \\<in> X", "have x_in_X[continuous_intros]: \"x \\<in> X\""], ["proof (prove)\nusing this:\n  x0 + (x - x0) \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by simp"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "text \\<open> On all of \\<open>J\\<close>, we can find upper bounds for the distance of \\<open>flow0\\<close> and \\<open>Y\\<close>. \\<close>"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have dist_flow0_Y: \"\\<And>s. s \\<in> J \\<Longrightarrow> dist (flow0 x0 s) (Y (x - x0) s) \\<le> dist x0 x * exp (K * \\<bar>t\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> J \\<Longrightarrow>\n       dist (flow0 x0 s) (Y (x - x0) s)\n       \\<le> dist x0 x * exp (K * \\<bar>t\\<bar>)", "using t0_def t1_def uK_def(2)"], ["proof (prove)\nusing this:\n  t0 \\<equiv> min 0 t\n  t1 \\<equiv> max 0 t\n  0 < K\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> J \\<Longrightarrow>\n       dist (flow0 x0 s) (Y (x - x0) s)\n       \\<le> dist x0 x * exp (K * \\<bar>t\\<bar>)", "by (intro order_trans[OF uK_def(6)[OF x_in_ball] mult_left_mono])\n             (auto simp add: J_def intro!: mult_mono)"], ["proof (state)\nthis:\n  ?s \\<in> J \\<Longrightarrow>\n  dist (flow0 x0 ?s) (Y (x - x0) ?s)\n  \\<le> dist x0 x * exp (K * \\<bar>t\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "from d_ivl_def x_x0_dist \\<open>d \\<le> d_ivl\\<close>"], ["proof (chain)\npicking this:\n  0 < d_ivl\n  \\<lbrakk>0 < dist ?x x0; dist ?x x0 < d_ivl\\<rbrakk>\n  \\<Longrightarrow> \\<forall>t\\<in>J.\n                       dist (flow0 x0 t) (Y (?x - x0) t)\n                       < min (e_domain / 2) d_Taylor\n  0 < dist x x0\n  dist x x0 < d\n  d \\<le> d_ivl", "have dist_flow0_Y2: \"\\<And>t. t \\<in> J \\<Longrightarrow> dist (flow0 x0 t) (Y (x - x0) t) < min (e_domain2) d_Taylor\""], ["proof (prove)\nusing this:\n  0 < d_ivl\n  \\<lbrakk>0 < dist ?x x0; dist ?x x0 < d_ivl\\<rbrakk>\n  \\<Longrightarrow> \\<forall>t\\<in>J.\n                       dist (flow0 x0 t) (Y (?x - x0) t)\n                       < min (e_domain / 2) d_Taylor\n  0 < dist x x0\n  dist x x0 < d\n  d \\<le> d_ivl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       t \\<in> J \\<Longrightarrow>\n       dist (flow0 x0 t) (Y (x - x0) t) < min e_domain2 d_Taylor", "by (auto simp: e_domain2_def)"], ["proof (state)\nthis:\n  ?t \\<in> J \\<Longrightarrow>\n  dist (flow0 x0 ?t) (Y (x - x0) ?t) < min e_domain2 d_Taylor\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "let ?g = \"\\<lambda>t. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "let ?C = \"\\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "text \\<open> Find an upper bound to \\<open>?g\\<close>, i.e. show that\n             \\<open>?g s \\<le> ?C + N * integral {a..b} ?g\\<close>\n           for \\<open>{a..b} = {0..s}\\<close> or \\<open>{a..b} = {s..0}\\<close> for some \\<open>s \\<in> J\\<close>.\n           We can then apply Gr?nwall's inequality to obtain a true bound for \\<open>?g\\<close>. \\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have g_bound: \"?g s \\<le> ?C + N * integral {a..b} ?g\"\n          if s_def: \"s \\<in> {a..b}\"\n          and J'_def: \"{a..b} \\<subseteq> J\"\n          and ab_cases: \"(a = 0 \\<and> b = s) \\<or> (a = s \\<and> b = 0)\"\n          for s a b"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "from that"], ["proof (chain)\npicking this:\n  s \\<in> {a..b}\n  {a..b} \\<subseteq> J\n  a = 0 \\<and> b = s \\<or> a = s \\<and> b = 0", "have \"s \\<in> J\""], ["proof (prove)\nusing this:\n  s \\<in> {a..b}\n  {a..b} \\<subseteq> J\n  a = 0 \\<and> b = s \\<or> a = s \\<and> b = 0\n\ngoal (1 subgoal):\n 1. s \\<in> J", "by auto"], ["proof (state)\nthis:\n  s \\<in> J\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have s_in_existence_ivl_x0: \"s \\<in> existence_ivl0 x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl0 x0", "using J_in_existence \\<open>s \\<in> J\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x0\n  s \\<in> J\n\ngoal (1 subgoal):\n 1. s \\<in> existence_ivl0 x0", "by auto"], ["proof (state)\nthis:\n  s \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have s_in_existence_ivl: \"\\<And>y. y \\<in> ball x0 u \\<Longrightarrow> s \\<in> existence_ivl0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> ball x0 u \\<Longrightarrow> s \\<in> existence_ivl0 y", "using J_in_existence_ivl \\<open>s \\<in> J\\<close>"], ["proof (prove)\nusing this:\n  ?y \\<in> ball x0 u \\<Longrightarrow> J \\<subseteq> existence_ivl0 ?y\n  s \\<in> J\n\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> ball x0 u \\<Longrightarrow> s \\<in> existence_ivl0 y", "by auto"], ["proof (state)\nthis:\n  ?y \\<in> ball x0 u \\<Longrightarrow> s \\<in> existence_ivl0 ?y\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have s_in_existence_ivl2: \"\\<And>z. z \\<in> ball 0 u \\<Longrightarrow> s \\<in> existence_ivl0 (x0 + z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> ball (0::'a) u \\<Longrightarrow>\n       s \\<in> existence_ivl0 (x0 + z)", "using s_in_existence_ivl"], ["proof (prove)\nusing this:\n  ?y \\<in> ball x0 u \\<Longrightarrow> s \\<in> existence_ivl0 ?y\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       z \\<in> ball (0::'a) u \\<Longrightarrow>\n       s \\<in> existence_ivl0 (x0 + z)", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  ?z \\<in> ball (0::'a) u \\<Longrightarrow> s \\<in> existence_ivl0 (x0 + ?z)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "text \\<open>Prove continuities beforehand.\\<close>"], ["proof (state)\nthis:\n  ?z \\<in> ball (0::'a) u \\<Longrightarrow> s \\<in> existence_ivl0 (x0 + ?z)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "note continuous_on_0_s[continuous_intros] = continuous_on_subset[OF _ \\<open>{a..b} \\<subseteq> J\\<close>]"], ["proof (state)\nthis:\n  continuous_on J ?f \\<Longrightarrow> continuous_on {a..b} ?f\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have[continuous_intros]: \"continuous_on J (flow0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J (flow0 x0)", "using J_in_existence"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. continuous_on J (flow0 x0)", "by (auto intro!: continuous_intros simp:)"], ["proof (state)\nthis:\n  continuous_on J (flow0 x0)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "{"], ["proof (state)\nthis:\n  continuous_on J (flow0 x0)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "fix z S"], ["proof (state)\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "assume assms: \"x0 + z \\<in> X\" \"S \\<subseteq> existence_ivl0 (x0 + z)\""], ["proof (state)\nthis:\n  x0 + z \\<in> X\n  S \\<subseteq> existence_ivl0 (x0 + z)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"continuous_on S (\\<lambda>s. f (Y z s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>s. f (Y z s))", "proof(rule continuous_on_subset[OF _ assms(2)])"], ["proof (state)\ngoal (1 subgoal):\n 1. continuous_on (existence_ivl0 (x0 + z)) (\\<lambda>s. f (Y z s))", "show \"continuous_on (existence_ivl0 (x0 + z)) (\\<lambda>s. f (Y z s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (existence_ivl0 (x0 + z)) (\\<lambda>s. f (Y z s))", "using assms"], ["proof (prove)\nusing this:\n  x0 + z \\<in> X\n  S \\<subseteq> existence_ivl0 (x0 + z)\n\ngoal (1 subgoal):\n 1. continuous_on (existence_ivl0 (x0 + z)) (\\<lambda>s. f (Y z s))", "by (auto intro!: continuous_intros flow_in_domain flow_continuous_on simp:)"], ["proof (state)\nthis:\n  continuous_on (existence_ivl0 (x0 + z)) (\\<lambda>s. f (Y z s))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  continuous_on S (\\<lambda>s. f (Y z s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x0 + ?z2 \\<in> X;\n   ?S2 \\<subseteq> existence_ivl0 (x0 + ?z2)\\<rbrakk>\n  \\<Longrightarrow> continuous_on ?S2 (\\<lambda>s. f (Y ?z2 s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "note [continuous_intros] = this"], ["proof (state)\nthis:\n  \\<lbrakk>x0 + ?z2 \\<in> X;\n   ?S2 \\<subseteq> existence_ivl0 (x0 + ?z2)\\<rbrakk>\n  \\<Longrightarrow> continuous_on ?S2 (\\<lambda>s. f (Y ?z2 s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have [continuous_intros]: \"continuous_on J (\\<lambda>s. f (flow0 x0 s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J (\\<lambda>s. f (flow0 x0 s))", "by(rule continuous_on_subset[OF _ J_in_existence])\n              (auto intro!: continuous_intros flow_continuous_on flow_in_domain simp: x0_def)"], ["proof (state)\nthis:\n  continuous_on J (\\<lambda>s. f (flow0 x0 s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have [continuous_intros]: \"\\<And>z. continuous_on J (\\<lambda>s. f' (flow0 x0 s) (vector_Dflow z s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z.\n       continuous_on J\n        (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       continuous_on J\n        (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       continuous_on J\n        (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "have a1: \"continuous_on J (flow0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J (flow0 x0)", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on J (flow0 x0)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       continuous_on J\n        (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "have a2: \"(\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J \\<subseteq> (flow0 x0 ` J) \\<times> ((\\<lambda>s. vector_Dflow z s) ` J)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J\n    \\<subseteq> flow0 x0 ` J \\<times> vector_Dflow z ` J", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J\n  \\<subseteq> flow0 x0 ` J \\<times> vector_Dflow z ` J\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       continuous_on J\n        (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "have a3: \"continuous_on ((\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J) (\\<lambda>(x, u). f' x u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on ((\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J)\n     (\\<lambda>(x, u). blinfun_apply (f' x) u)", "using assms flow0_J_props"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl0 x0\n  flow0 x0 ` J \\<noteq> {}\n  compact (flow0 x0 ` J)\n  flow0 x0 ` J \\<subseteq> X\n\ngoal (1 subgoal):\n 1. continuous_on ((\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J)\n     (\\<lambda>(x, u). blinfun_apply (f' x) u)", "by (auto intro!: continuous_intros simp: split_beta')"], ["proof (state)\nthis:\n  continuous_on ((\\<lambda>s. (flow0 x0 s, vector_Dflow z s)) ` J)\n   (\\<lambda>(x, u). blinfun_apply (f' x) u)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       continuous_on J\n        (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "from continuous_on_compose[OF continuous_on_Pair[OF a1 U_continuous] a3]"], ["proof (chain)\npicking this:\n  continuous_on J\n   ((\\<lambda>(x, u). blinfun_apply (f' x) u) \\<circ>\n    (\\<lambda>s. (flow0 x0 s, vector_Dflow z s)))", "show \"continuous_on J (\\<lambda>s. f' (flow0 x0 s) (vector_Dflow z s))\""], ["proof (prove)\nusing this:\n  continuous_on J\n   ((\\<lambda>(x, u). blinfun_apply (f' x) u) \\<circ>\n    (\\<lambda>s. (flow0 x0 s, vector_Dflow z s)))\n\ngoal (1 subgoal):\n 1. continuous_on J\n     (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))", "by simp"], ["proof (state)\nthis:\n  continuous_on J\n   (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow z s))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  continuous_on J\n   (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow ?z s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have [continuous_intros]: \"continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))", "using J_in_existence J_in_existence_ivl[OF x_in_ball] X_in_G \\<open>{a..b} \\<subseteq> J\\<close> Y_in_G\n              x_x0_dist"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x0\n  J \\<subseteq> existence_ivl0 x\n  flow0 x0 ` J \\<subseteq> G\n  {a..b} \\<subseteq> J\n  ?y \\<in> ball x0 d \\<Longrightarrow> Y (?y - x0) ` J \\<subseteq> G\n  0 < dist x x0\n  dist x x0 < d\n\ngoal (1 subgoal):\n 1. continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))", "by (auto intro!: continuous_intros continuous_on_compose_Pair[OF Taylor_expansion(4)]\n              simp: dist_commute subset_iff)"], ["proof (state)\nthis:\n  continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "hence [continuous_intros]:\n            \"(\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s)) integrable_on J\""], ["proof (prove)\nusing this:\n  continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s)) integrable_on J", "unfolding J_def"], ["proof (prove)\nusing this:\n  continuous_on {t0..t1} (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s)) integrable_on {t0..t1}", "by (rule integrable_continuous_real)"], ["proof (state)\nthis:\n  (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s)) integrable_on J\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have i1: \"integral {a..b} (\\<lambda>s. f (flow0 x s)) - integral {a..b} (\\<lambda>s. f (flow0 x0 s)) =\n              integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. f (flow0 x s)) -\n    integral {a..b} (\\<lambda>s. f (flow0 x0 s)) =\n    integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s))", "using J_in_existence_ivl[OF x_in_ball]"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. f (flow0 x s)) -\n    integral {a..b} (\\<lambda>s. f (flow0 x0 s)) =\n    integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s))", "apply (intro Henstock_Kurzweil_Integration.integral_diff[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. J \\<subseteq> existence_ivl0 x \\<Longrightarrow>\n    (\\<lambda>s. f (flow0 x s)) integrable_on {a..b}\n 2. J \\<subseteq> existence_ivl0 x \\<Longrightarrow>\n    (\\<lambda>s. f (flow0 x0 s)) integrable_on {a..b}", "by (auto intro!: continuous_intros existence_ivl_reverse)"], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. f (flow0 x s)) -\n  integral {a..b} (\\<lambda>s. f (flow0 x0 s)) =\n  integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have i2:\n            \"integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s) - (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)) =\n              integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s)) -\n              integral {a..b} (\\<lambda>s. f' (flow0 x0 s) (vector_Dflow (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         f (flow0 x s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)) =\n    integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s)) -\n    integral {a..b}\n     (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s))", "using J_in_existence_ivl[OF x_in_ball]"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         f (flow0 x s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)) =\n    integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s)) -\n    integral {a..b}\n     (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s))", "by (intro Henstock_Kurzweil_Integration.integral_diff[OF Henstock_Kurzweil_Integration.integrable_diff])\n              (auto intro!: continuous_intros existence_ivl_reverse)"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       f (flow0 x s) - f (flow0 x0 s) -\n       blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)) =\n  integral {a..b} (\\<lambda>s. f (flow0 x s) - f (flow0 x0 s)) -\n  integral {a..b}\n   (\\<lambda>s. blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "from ab_cases"], ["proof (chain)\npicking this:\n  a = 0 \\<and> b = s \\<or> a = s \\<and> b = 0", "have \"?g s = norm (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n            integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n            integral {a..b} (\\<lambda>s'. (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\""], ["proof (prove)\nusing this:\n  a = 0 \\<and> b = s \\<or> a = s \\<and> b = 0\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {a..b}\n       (\\<lambda>s'.\n           blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))", "proof(safe)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "assume \"a = 0\" \"b = s\""], ["proof (state)\nthis:\n  a = 0\n  b = s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "hence \"0 \\<le> s\""], ["proof (prove)\nusing this:\n  a = 0\n  b = s\n\ngoal (1 subgoal):\n 1. 0 \\<le> s", "using \\<open>s \\<in> {a..b}\\<close>"], ["proof (prove)\nusing this:\n  a = 0\n  b = s\n  s \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. 0 \\<le> s", "by simp"], ["proof (state)\nthis:\n  0 \\<le> s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "text\\<open> Integral equations for flow0, Y and U. \\<close>"], ["proof (state)\nthis:\n  0 \\<le> s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have flow0_integral_eq: \"flow0 x0 s = x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x0 s = x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))", "by (rule flow_fixed_point[OF s_in_existence_ivl_x0])"], ["proof (state)\nthis:\n  flow0 x0 s = x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have Y_integral_eq: \"flow0 x s = x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x s =\n    x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))", "using flow_fixed_point \\<open>0 \\<le> s\\<close> s_in_existence_ivl2[OF z_in_ball] ball_in_X[OF z_in_ball]"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  flow0 ?x0.0 ?t = ?x0.0 + ivl_integral 0 ?t (\\<lambda>t. f (flow0 ?x0.0 t))\n  0 \\<le> s\n  s \\<in> existence_ivl0 (x0 + (x - x0))\n  x0 + (x - x0) \\<in> X\n\ngoal (1 subgoal):\n 1. flow0 x s =\n    x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))", "by (simp add:)"], ["proof (state)\nthis:\n  flow0 x s =\n  x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have U_integral_eq: \"vector_Dflow (x - x0) s = (x - x0) + ivl_integral 0 s (\\<lambda>s. vareq x0 s (vector_Dflow (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vector_Dflow (x - x0) s =\n    x - x0 +\n    ivl_integral 0 s\n     (\\<lambda>s. blinfun_apply (vareq x0 s) (vector_Dflow (x - x0) s))", "unfolding vector_Dflow_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. var.flow x0 0 (x - x0) s =\n    x - x0 +\n    ivl_integral 0 s\n     (\\<lambda>s. blinfun_apply (vareq x0 s) (var.flow x0 0 (x - x0) s))", "by (rule var.flow_fixed_point)\n                (auto simp: \\<open>0 \\<le> s\\<close> x0_def varexivl_eq_exivl s_in_existence_ivl_x0)"], ["proof (state)\nthis:\n  vector_Dflow (x - x0) s =\n  x - x0 +\n  ivl_integral 0 s\n   (\\<lambda>s. blinfun_apply (vareq x0 s) (vector_Dflow (x - x0) s))\n\ngoal (2 subgoals):\n 1. \\<lbrakk>b = s; a = 0\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {0..s}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))\n 2. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "show \"?g s = norm (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n                integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n                integral {0..s} (\\<lambda>s'. blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {0..s}\n       (\\<lambda>s'.\n           blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))", "using \\<open>0 \\<le> s\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> s\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {0..s}\n       (\\<lambda>s'.\n           blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))", "unfolding vareq_def[symmetric]"], ["proof (prove)\nusing this:\n  0 \\<le> s\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {0..s}\n       (\\<lambda>s'.\n           blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))", "by (simp add: flow0_integral_eq Y_integral_eq U_integral_eq ivl_integral_def)"], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {0..s} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {0..s} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {0..s}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "assume \"a = s\" \"b = 0\""], ["proof (state)\nthis:\n  a = s\n  b = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "hence \"s \\<le> 0\""], ["proof (prove)\nusing this:\n  a = s\n  b = 0\n\ngoal (1 subgoal):\n 1. s \\<le> 0", "using \\<open>s \\<in> {a..b}\\<close>"], ["proof (prove)\nusing this:\n  a = s\n  b = 0\n  s \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. s \\<le> 0", "by simp"], ["proof (state)\nthis:\n  s \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have flow0_integral_eq_left: \"flow0 x0 s = x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x0 s = x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))", "by (rule flow_fixed_point[OF s_in_existence_ivl_x0])"], ["proof (state)\nthis:\n  flow0 x0 s = x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have Y_integral_eq_left: \"Y (x - x0) s = x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Y (x - x0) s =\n    x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))", "using flow_fixed_point \\<open>s \\<le> 0\\<close> s_in_existence_ivl2[OF z_in_ball] ball_in_X[OF z_in_ball]"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  flow0 ?x0.0 ?t = ?x0.0 + ivl_integral 0 ?t (\\<lambda>t. f (flow0 ?x0.0 t))\n  s \\<le> 0\n  s \\<in> existence_ivl0 (x0 + (x - x0))\n  x0 + (x - x0) \\<in> X\n\ngoal (1 subgoal):\n 1. Y (x - x0) s =\n    x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))", "by (simp add: )"], ["proof (state)\nthis:\n  Y (x - x0) s =\n  x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have U_integral_eq_left: \"vector_Dflow (x - x0) s = (x - x0) + ivl_integral 0 s (\\<lambda>s. vareq x0 s (vector_Dflow (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vector_Dflow (x - x0) s =\n    x - x0 +\n    ivl_integral 0 s\n     (\\<lambda>s. blinfun_apply (vareq x0 s) (vector_Dflow (x - x0) s))", "unfolding vector_Dflow_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. var.flow x0 0 (x - x0) s =\n    x - x0 +\n    ivl_integral 0 s\n     (\\<lambda>s. blinfun_apply (vareq x0 s) (var.flow x0 0 (x - x0) s))", "by (rule var.flow_fixed_point)\n                (auto simp: \\<open>s \\<le> 0\\<close> x0_def varexivl_eq_exivl s_in_existence_ivl_x0)"], ["proof (state)\nthis:\n  vector_Dflow (x - x0) s =\n  x - x0 +\n  ivl_integral 0 s\n   (\\<lambda>s. blinfun_apply (vareq x0 s) (vector_Dflow (x - x0) s))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have \"?g s =\n              norm (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n                integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n                integral {s..0} (\\<lambda>s'. vareq x0 s' (vector_Dflow (x - x0) s')))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))", "unfolding flow0_integral_eq_left Y_integral_eq_left U_integral_eq_left"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s)) -\n      (x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))) -\n      (x - x0 +\n       ivl_integral 0 s\n        (\\<lambda>s.\n            blinfun_apply (vareq x0 s) (vector_Dflow (x - x0) s)))) =\n    norm\n     (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))", "using \\<open>s \\<le> 0\\<close>"], ["proof (prove)\nusing this:\n  s \\<le> 0\n\ngoal (1 subgoal):\n 1. norm\n     (x0 + (x - x0) + ivl_integral 0 s (\\<lambda>s. f (Y (x - x0) s)) -\n      (x0 + ivl_integral 0 s (\\<lambda>s. f (flow0 x0 s))) -\n      (x - x0 +\n       ivl_integral 0 s\n        (\\<lambda>s.\n            blinfun_apply (vareq x0 s) (vector_Dflow (x - x0) s)))) =\n    norm\n     (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))", "by (simp add: ivl_integral_def)"], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n    integral {s..0}\n     (\\<lambda>s'. blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "also"], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n    integral {s..0}\n     (\\<lambda>s'. blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "have \"... = norm (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                integral {s..0} (\\<lambda>s'. vareq x0 s' (vector_Dflow (x - x0) s')))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s'))) =\n    norm\n     (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))", "by (subst norm_minus_cancel[symmetric], simp)"], ["proof (state)\nthis:\n  norm\n   (- integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) +\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) +\n    integral {s..0}\n     (\\<lambda>s'.\n         blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s'))) =\n  norm\n   (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {s..0}\n     (\\<lambda>s'. blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>b = 0; a = s\\<rbrakk>\n    \\<Longrightarrow> norm\n                       (Y (x - x0) s - flow0 x0 s -\n                        vector_Dflow (x - x0) s) =\n                      norm\n                       (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                        integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                        integral {s..0}\n                         (\\<lambda>s'.\n                             blinfun_apply (f' (flow0 x0 s'))\n                              (vector_Dflow (x - x0) s')))", "finally"], ["proof (chain)\npicking this:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {s..0}\n     (\\<lambda>s'. blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))", "show \"?g s =\n              norm (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n                integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n                integral {s..0} (\\<lambda>s'. blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\""], ["proof (prove)\nusing this:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {s..0}\n     (\\<lambda>s'. blinfun_apply (vareq x0 s') (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))", "unfolding vareq_def"], ["proof (prove)\nusing this:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {s..0}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n    norm\n     (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {s..0}\n       (\\<lambda>s'.\n           blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))", "."], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {s..0} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {s..0} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {s..0}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {a..b}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "also"], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) =\n  norm\n   (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {a..b}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"... =\n            norm (integral {a..b} (\\<lambda>s. f (Y (x - x0) s) - f (flow0 x0 s) - (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n      integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n      integral {a..b}\n       (\\<lambda>s'.\n           blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s'))) =\n    norm\n     (integral {a..b}\n       (\\<lambda>s.\n           f (Y (x - x0) s) - f (flow0 x0 s) -\n           blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))", "by (simp add: i1 i2)"], ["proof (state)\nthis:\n  norm\n   (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {a..b}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s'))) =\n  norm\n   (integral {a..b}\n     (\\<lambda>s.\n         f (Y (x - x0) s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "also"], ["proof (state)\nthis:\n  norm\n   (integral {a..b} (\\<lambda>s'. f (Y (x - x0) s')) -\n    integral {a..b} (\\<lambda>s'. f (flow0 x0 s')) -\n    integral {a..b}\n     (\\<lambda>s'.\n         blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s'))) =\n  norm\n   (integral {a..b}\n     (\\<lambda>s.\n         f (Y (x - x0) s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"... \\<le>\n            integral {a..b} (\\<lambda>s. norm (f (Y (x - x0) s) - f (flow0 x0 s) - f' (flow0 x0 s) (vector_Dflow (x - x0) s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm\n     (integral {a..b}\n       (\\<lambda>s.\n           f (Y (x - x0) s) - f (flow0 x0 s) -\n           blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm\n                (f (Y (x - x0) s) - f (flow0 x0 s) -\n                 blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))", "using x_in_X J_in_existence_ivl_x J_in_existence \\<open>{a..b} \\<subseteq> J\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> X\n  J \\<subseteq> existence_ivl0 x\n  J \\<subseteq> existence_ivl0 x0\n  {a..b} \\<subseteq> J\n\ngoal (1 subgoal):\n 1. norm\n     (integral {a..b}\n       (\\<lambda>s.\n           f (Y (x - x0) s) - f (flow0 x0 s) -\n           blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm\n                (f (Y (x - x0) s) - f (flow0 x0 s) -\n                 blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))", "by (auto intro!: continuous_intros continuous_on_imp_absolutely_integrable_on\n                existence_ivl_reverse)"], ["proof (state)\nthis:\n  norm\n   (integral {a..b}\n     (\\<lambda>s.\n         f (Y (x - x0) s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             norm\n              (f (Y (x - x0) s) - f (flow0 x0 s) -\n               blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "also"], ["proof (state)\nthis:\n  norm\n   (integral {a..b}\n     (\\<lambda>s.\n         f (Y (x - x0) s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             norm\n              (f (Y (x - x0) s) - f (flow0 x0 s) -\n               blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"... = integral {a..b}\n              (\\<lambda>s. norm (f' (flow0 x0 s) (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) + R (flow0 x0 s) (Y (x - x0) s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (f (Y (x - x0) s) - f (flow0 x0 s) -\n           blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s))) =\n    integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n           R (flow0 x0 s) (Y (x - x0) s)))", "proof (safe intro!: integral_spike[OF negligible_empty, simplified] arg_cong[where f=norm])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a..b} \\<Longrightarrow>\n       blinfun_apply (f' (flow0 x0 xa))\n        (Y (x - x0) xa - flow0 x0 xa - vector_Dflow (x - x0) xa) +\n       R (flow0 x0 xa) (Y (x - x0) xa) =\n       f (Y (x - x0) xa) - f (flow0 x0 xa) -\n       blinfun_apply (f' (flow0 x0 xa)) (vector_Dflow (x - x0) xa)", "fix s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a..b} \\<Longrightarrow>\n       blinfun_apply (f' (flow0 x0 xa))\n        (Y (x - x0) xa - flow0 x0 xa - vector_Dflow (x - x0) xa) +\n       R (flow0 x0 xa) (Y (x - x0) xa) =\n       f (Y (x - x0) xa) - f (flow0 x0 xa) -\n       blinfun_apply (f' (flow0 x0 xa)) (vector_Dflow (x - x0) xa)", "assume \"s' \\<in> {a..b}\""], ["proof (state)\nthis:\n  s' \\<in> {a..b}\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a..b} \\<Longrightarrow>\n       blinfun_apply (f' (flow0 x0 xa))\n        (Y (x - x0) xa - flow0 x0 xa - vector_Dflow (x - x0) xa) +\n       R (flow0 x0 xa) (Y (x - x0) xa) =\n       f (Y (x - x0) xa) - f (flow0 x0 xa) -\n       blinfun_apply (f' (flow0 x0 xa)) (vector_Dflow (x - x0) xa)", "show \"f' (flow0 x0 s') (Y (x - x0) s' - flow0 x0 s' - vector_Dflow (x - x0) s') + R (flow0 x0 s') (Y (x - x0) s') =\n              f (Y (x - x0) s') - f (flow0 x0 s') - f' (flow0 x0 s') (vector_Dflow (x - x0) s')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (f' (flow0 x0 s'))\n     (Y (x - x0) s' - flow0 x0 s' - vector_Dflow (x - x0) s') +\n    R (flow0 x0 s') (Y (x - x0) s') =\n    f (Y (x - x0) s') - f (flow0 x0 s') -\n    blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')", "by (simp add: blinfun.diff_right Taylor_expansion(2)[of \"flow0 x s'\" \"flow0 x0 s'\"])"], ["proof (state)\nthis:\n  blinfun_apply (f' (flow0 x0 s'))\n   (Y (x - x0) s' - flow0 x0 s' - vector_Dflow (x - x0) s') +\n  R (flow0 x0 s') (Y (x - x0) s') =\n  f (Y (x - x0) s') - f (flow0 x0 s') -\n  blinfun_apply (f' (flow0 x0 s')) (vector_Dflow (x - x0) s')\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (f (Y (x - x0) s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s))) =\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n         R (flow0 x0 s) (Y (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "also"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (f (Y (x - x0) s) - f (flow0 x0 s) -\n         blinfun_apply (f' (flow0 x0 s)) (vector_Dflow (x - x0) s))) =\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n         R (flow0 x0 s) (Y (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"... \\<le> integral {a..b}\n            (\\<lambda>s. norm (f' (flow0 x0 s) (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n              norm (R (flow0 x0 s) (Y (x - x0) s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n           R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm\n                (blinfun_apply (f' (flow0 x0 s))\n                  (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n               norm (R (flow0 x0 s) (Y (x - x0) s)))", "using J_in_existence_ivl[OF x_in_ball] norm_triangle_ineq"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  norm (?x + ?y) \\<le> norm ?x + norm ?y\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n           R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm\n                (blinfun_apply (f' (flow0 x0 s))\n                  (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n               norm (R (flow0 x0 s) (Y (x - x0) s)))", "using \\<open>continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  norm (?x + ?y) \\<le> norm ?x + norm ?y\n  continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n           R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm\n                (blinfun_apply (f' (flow0 x0 s))\n                  (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n               norm (R (flow0 x0 s) (Y (x - x0) s)))", "by (auto intro!: continuous_intros integral_le)"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n         R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             norm\n              (blinfun_apply (f' (flow0 x0 s))\n                (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n             norm (R (flow0 x0 s) (Y (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "also"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s) +\n         R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             norm\n              (blinfun_apply (f' (flow0 x0 s))\n                (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n             norm (R (flow0 x0 s) (Y (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"... =\n            integral {a..b} (\\<lambda>s. norm (f' (flow0 x0 s) (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n            integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n         norm (R (flow0 x0 s) (Y (x - x0) s))) =\n    integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n    integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))", "using J_in_existence_ivl[OF x_in_ball]"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n         norm (R (flow0 x0 s) (Y (x - x0) s))) =\n    integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n    integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))", "using \\<open>continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  continuous_on J (\\<lambda>s. R (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n         norm (R (flow0 x0 s) (Y (x - x0) s))) =\n    integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n    integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))", "by (auto intro!: continuous_intros Henstock_Kurzweil_Integration.integral_add)"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n       norm (R (flow0 x0 s) (Y (x - x0) s))) =\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "also"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) +\n       norm (R (flow0 x0 s) (Y (x - x0) s))) =\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "have \"... \\<le> N * integral {a..b} ?g + ?C\" (is \"?l1 + ?r1 \\<le> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n    integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)) +\n          \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "proof(rule add_mono)"], ["proof (state)\ngoal (2 subgoals):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n 2. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "have \"?l1 \\<le> integral {a..b} (\\<lambda>s. norm (f' (flow0 x0 s)) * norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm (f' (flow0 x0 s)) *\n               norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "using norm_blinfun J_in_existence_ivl[OF x_in_ball]"], ["proof (prove)\nusing this:\n  norm (blinfun_apply ?f ?x) \\<le> norm ?f * norm ?x\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               norm (f' (flow0 x0 s)) *\n               norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "by (auto intro!: continuous_intros integral_le)"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             norm (f' (flow0 x0 s)) *\n             norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n\ngoal (2 subgoals):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n 2. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "also"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             norm (f' (flow0 x0 s)) *\n             norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n\ngoal (2 subgoals):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n 2. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "have \"... \\<le> integral {a..b} (\\<lambda>s. N * norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm (f' (flow0 x0 s)) *\n         norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               N *\n               norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "using J_in_existence_ivl[OF x_in_ball] N_ineq[OF \\<open>{a..b} \\<subseteq> J\\<close>[THEN subsetD]]"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  ?s \\<in> {a..b} \\<Longrightarrow> norm (f' (flow0 x0 ?s)) \\<le> N\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm (f' (flow0 x0 s)) *\n         norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n    \\<le> integral {a..b}\n           (\\<lambda>s.\n               N *\n               norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "by (intro integral_le) (auto intro!: continuous_intros mult_right_mono)"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm (f' (flow0 x0 s)) *\n       norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             N * norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n\ngoal (2 subgoals):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n 2. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "also"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm (f' (flow0 x0 s)) *\n       norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n  \\<le> integral {a..b}\n         (\\<lambda>s.\n             N * norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n\ngoal (2 subgoals):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n 2. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "have \"... = N * integral {a..b} (\\<lambda>s. norm ((Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         N * norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) =\n    N *\n    integral {a..b}\n     (\\<lambda>s.\n         norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "unfolding real_scaleR_def[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         N *\\<^sub>R\n         norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) =\n    N *\\<^sub>R\n    integral {a..b}\n     (\\<lambda>s.\n         norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "by(rule integral_cmul)"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       N * norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)) =\n  N *\n  integral {a..b}\n   (\\<lambda>s. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n\ngoal (2 subgoals):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n 2. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "finally"], ["proof (chain)\npicking this:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n  \\<le> N *\n        integral {a..b}\n         (\\<lambda>s.\n             norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))", "show \"?l1 \\<le> N * integral {a..b} ?g\""], ["proof (prove)\nusing this:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n  \\<le> N *\n        integral {a..b}\n         (\\<lambda>s.\n             norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))\n\ngoal (1 subgoal):\n 1. integral {a..b}\n     (\\<lambda>s.\n         norm\n          (blinfun_apply (f' (flow0 x0 s))\n            (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n    \\<le> N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "."], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)))\n  \\<le> N *\n        integral {a..b}\n         (\\<lambda>t.\n             norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "have \"?r1 \\<le> integral {a..b} (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))", "using J_in_existence_ivl[OF x_in_ball] \\<open>0 < e_domain\\<close> dist_flow0_Y2 \\<open>0 < e_domain2\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  0 < e_domain\n  ?t \\<in> J \\<Longrightarrow>\n  dist (flow0 x0 ?t) (Y (x - x0) ?t) < min e_domain2 d_Taylor\n  0 < e_domain2\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> integral {a..b}\n           (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))", "by (intro integral_le)\n                (force\n                  intro!: continuous_intros Taylor_expansion(3) order_trans[OF infdist_le]\n                   dest!: \\<open>{a..b} \\<subseteq> J\\<close>[THEN subsetD]\n                   intro: less_imp_le\n                   simp: dist_commute H_def)+"], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> integral {a..b} (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "also"], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> integral {a..b} (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "have \"... \\<le> integral {a..b} (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))\n    \\<le> integral {a..b}\n           (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))", "apply(rule integral_le)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s)) integrable_on {a..b}\n 2. (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))) integrable_on\n    {a..b}\n 3. \\<And>xa.\n       xa \\<in> {a..b} \\<Longrightarrow>\n       e1 * dist (flow0 x0 xa) (Y (x - x0) xa)\n       \\<le> e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s)) integrable_on {a..b}", "using J_in_existence_ivl[OF x_in_ball]"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s)) integrable_on {a..b}", "by (force intro!: continuous_intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))) integrable_on\n    {a..b}\n 2. \\<And>xa.\n       xa \\<in> {a..b} \\<Longrightarrow>\n       e1 * dist (flow0 x0 xa) (Y (x - x0) xa)\n       \\<le> e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))) integrable_on\n    {a..b}", "by force"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a..b} \\<Longrightarrow>\n       e1 * dist (flow0 x0 xa) (Y (x - x0) xa)\n       \\<le> e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. xa_ \\<in> {a..b} \\<Longrightarrow>\n    e1 * dist (flow0 x0 xa_) (Y (x - x0) xa_)\n    \\<le> e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>))", "by (force dest!: \\<open>{a..b} \\<subseteq> J\\<close>[THEN subsetD]\n                intro!: less_imp_le[OF \\<open>0 < e1\\<close>] mult_left_mono[OF dist_flow0_Y])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))\n  \\<le> integral {a..b}\n         (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "also"], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. e1 * dist (flow0 x0 s) (Y (x - x0) s))\n  \\<le> integral {a..b}\n         (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "have \"... \\<le> ?C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "using \\<open>s \\<in> J\\<close> x_x0_dist \\<open>0 < e1\\<close> \\<open>{a..b} \\<subseteq> J\\<close> \\<open>0 < \\<bar>t\\<bar>\\<close> t0_def t1_def"], ["proof (prove)\nusing this:\n  s \\<in> J\n  0 < dist x x0\n  dist x x0 < d\n  0 < e1\n  {a..b} \\<subseteq> J\n  0 < \\<bar>t\\<bar>\n  t0 \\<equiv> min 0 t\n  t1 \\<equiv> max 0 t\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "by (auto simp: integral_const_real J_def(1))"], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. e1 * (dist x0 x * exp (K * \\<bar>t\\<bar>)))\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "finally"], ["proof (chain)\npicking this:\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "show \"?r1 \\<le> ?C\""], ["proof (prove)\nusing this:\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\n\ngoal (1 subgoal):\n 1. integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "."], ["proof (state)\nthis:\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  integral {a..b}\n   (\\<lambda>s.\n       norm\n        (blinfun_apply (f' (flow0 x0 s))\n          (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s))) +\n  integral {a..b} (\\<lambda>s. norm (R (flow0 x0 s) (Y (x - x0) s)))\n  \\<le> N *\n        integral {a..b}\n         (\\<lambda>t.\n             norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)) +\n        \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "finally"], ["proof (chain)\npicking this:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n  \\<le> N *\n        integral {a..b}\n         (\\<lambda>t.\n             norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)) +\n        \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n  \\<le> N *\n        integral {a..b}\n         (\\<lambda>t.\n             norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)) +\n        \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n          N *\n          integral {a..b}\n           (\\<lambda>t.\n               norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "by simp"], ["proof (state)\nthis:\n  norm (Y (x - x0) s - flow0 x0 s - vector_Dflow (x - x0) s)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 +\n        N *\n        integral {a..b}\n         (\\<lambda>t.\n             norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?s \\<in> {?a..?b}; {?a..?b} \\<subseteq> J;\n   ?a = 0 \\<and> ?b = ?s \\<or> ?a = ?s \\<and> ?b = 0\\<rbrakk>\n  \\<Longrightarrow> norm\n                     (Y (x - x0) ?s - flow0 x0 ?s -\n                      vector_Dflow (x - x0) ?s)\n                    \\<le> \\<bar>t\\<bar> * dist x0 x *\n                          exp (K * \\<bar>t\\<bar>) *\n                          e1 +\n                          N *\n                          integral {?a..?b}\n                           (\\<lambda>t.\n                               norm\n                                (Y (x - x0) t - flow0 x0 t -\n                                 vector_Dflow (x - x0) t))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have g_continuous: \"continuous_on J ?g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on J\n     (\\<lambda>t.\n         norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "using J_in_existence_ivl[OF x_in_ball] J_in_existence"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  J \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. continuous_on J\n     (\\<lambda>t.\n         norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "using J_def(1) U_continuous"], ["proof (prove)\nusing this:\n  J \\<subseteq> existence_ivl0 x\n  J \\<subseteq> existence_ivl0 x0\n  J \\<equiv> {t0..t1}\n  continuous_on J (vector_Dflow ?z)\n\ngoal (1 subgoal):\n 1. continuous_on J\n     (\\<lambda>t.\n         norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))", "by (auto simp: J_def intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on J\n   (\\<lambda>t. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "note [continuous_intros] = continuous_on_subset[OF g_continuous]"], ["proof (state)\nthis:\n  ?t \\<subseteq> J \\<Longrightarrow>\n  continuous_on ?t\n   (\\<lambda>t. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have C_gr_zero: \"0 < ?C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "using \\<open>0 < \\<bar>t\\<bar>\\<close> \\<open>0 < e1\\<close> x_x0_dist(1)"], ["proof (prove)\nusing this:\n  0 < \\<bar>t\\<bar>\n  0 < e1\n  0 < dist x x0\n\ngoal (1 subgoal):\n 1. 0 < \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1", "by (simp add: dist_commute)"], ["proof (state)\nthis:\n  0 < \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have \"0 \\<le> t \\<or> t \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t \\<or> t \\<le> 0", "by auto"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "then"], ["proof (chain)\npicking this:\n  0 \\<le> t \\<or> t \\<le> 0", "have \"?g t \\<le> ?C * exp (N * \\<bar>t\\<bar>)\""], ["proof (prove)\nusing this:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)\n 2. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "assume \"0 \\<le> t\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)\n 2. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "moreover"], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)\n 2. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "have \"continuous_on {0..t} (vector_Dflow (x - x0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..t} (vector_Dflow (x - x0))", "using U_continuous"], ["proof (prove)\nusing this:\n  continuous_on J (vector_Dflow ?z)\n\ngoal (1 subgoal):\n 1. continuous_on {0..t} (vector_Dflow (x - x0))", "by (rule continuous_on_subset) (auto simp: J_def t0_def t1_def)"], ["proof (state)\nthis:\n  continuous_on {0..t} (vector_Dflow (x - x0))\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)\n 2. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "then"], ["proof (chain)\npicking this:\n  continuous_on {0..t} (vector_Dflow (x - x0))", "have \"norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) \\<le>\n            \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * t)\""], ["proof (prove)\nusing this:\n  continuous_on {0..t} (vector_Dflow (x - x0))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * t)", "using \\<open>t \\<in> J\\<close> J_def \\<open>t0 \\<le> 0\\<close> J_in_existence J_in_existence_ivl_x"], ["proof (prove)\nusing this:\n  continuous_on {0..t} (vector_Dflow (x - x0))\n  t \\<in> J\n  J \\<equiv> {t0..t1}\n  t0 \\<le> 0\n  J \\<subseteq> existence_ivl0 x0\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * t)", "by (intro gronwall[OF g_bound _ _ C_gr_zero \\<open>0 < N\\<close> \\<open>0 \\<le> t\\<close> order.refl])\n               (auto intro!: continuous_intros simp: )"], ["proof (state)\nthis:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * t)\n\ngoal (2 subgoals):\n 1. 0 \\<le> t \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)\n 2. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> t\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * t)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 \\<le> t\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * t)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "by simp"], ["proof (state)\nthis:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * \\<bar>t\\<bar>)\n\ngoal (1 subgoal):\n 1. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "assume \"t \\<le> 0\""], ["proof (state)\nthis:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "moreover"], ["proof (state)\nthis:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "have \"continuous_on {t .. 0} (vector_Dflow (x - x0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {t..0} (vector_Dflow (x - x0))", "using U_continuous"], ["proof (prove)\nusing this:\n  continuous_on J (vector_Dflow ?z)\n\ngoal (1 subgoal):\n 1. continuous_on {t..0} (vector_Dflow (x - x0))", "by (rule continuous_on_subset) (auto simp: J_def t0_def t1_def)"], ["proof (state)\nthis:\n  continuous_on {t..0} (vector_Dflow (x - x0))\n\ngoal (1 subgoal):\n 1. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "then"], ["proof (chain)\npicking this:\n  continuous_on {t..0} (vector_Dflow (x - x0))", "have \"norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) \\<le>\n            \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 * exp (- N * t)\""], ["proof (prove)\nusing this:\n  continuous_on {t..0} (vector_Dflow (x - x0))\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (- N * t)", "using \\<open>t \\<in> J\\<close> J_def \\<open>0 \\<le> t1\\<close> J_in_existence J_in_existence_ivl_x"], ["proof (prove)\nusing this:\n  continuous_on {t..0} (vector_Dflow (x - x0))\n  t \\<in> J\n  J \\<equiv> {t0..t1}\n  0 \\<le> t1\n  J \\<subseteq> existence_ivl0 x0\n  J \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (- N * t)", "by (intro gronwall_left[OF g_bound _ _ C_gr_zero \\<open>0 < N\\<close> order.refl \\<open>t \\<le> 0\\<close>])\n                (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (- N * t)\n\ngoal (1 subgoal):\n 1. t \\<le> 0 \\<Longrightarrow>\n    norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "ultimately"], ["proof (chain)\npicking this:\n  t \\<le> 0\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (- N * t)", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<le> 0\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (- N * t)\n\ngoal (1 subgoal):\n 1. norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n    \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n          exp (N * \\<bar>t\\<bar>)", "by simp"], ["proof (state)\nthis:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * \\<bar>t\\<bar>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * \\<bar>t\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "also"], ["proof (state)\nthis:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  \\<le> \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n        exp (N * \\<bar>t\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have \"... = dist x x0 * (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * \\<bar>t\\<bar>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n    exp (N * \\<bar>t\\<bar>) =\n    dist x x0 *\n    (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * \\<bar>t\\<bar>))", "by (auto simp: dist_commute)"], ["proof (state)\nthis:\n  \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n  exp (N * \\<bar>t\\<bar>) =\n  dist x x0 *\n  (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * \\<bar>t\\<bar>))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "also"], ["proof (state)\nthis:\n  \\<bar>t\\<bar> * dist x0 x * exp (K * \\<bar>t\\<bar>) * e1 *\n  exp (N * \\<bar>t\\<bar>) =\n  dist x x0 *\n  (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * \\<bar>t\\<bar>))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "have \"... < norm (x - x0) * e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x x0 *\n    (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * \\<bar>t\\<bar>))\n    < norm (x - x0) * e", "unfolding e1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x x0 *\n    (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) *\n     (e' /\n      (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * exp (N * \\<bar>t\\<bar>))) *\n     exp (N * \\<bar>t\\<bar>))\n    < norm (x - x0) * e", "using \\<open>e' < e\\<close> \\<open>0 < \\<bar>t\\<bar>\\<close> \\<open>0 < e1\\<close> x_x0_dist(1)"], ["proof (prove)\nusing this:\n  e' < e\n  0 < \\<bar>t\\<bar>\n  0 < e1\n  0 < dist x x0\n\ngoal (1 subgoal):\n 1. dist x x0 *\n    (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) *\n     (e' /\n      (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * exp (N * \\<bar>t\\<bar>))) *\n     exp (N * \\<bar>t\\<bar>))\n    < norm (x - x0) * e", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  dist x x0 *\n  (\\<bar>t\\<bar> * exp (K * \\<bar>t\\<bar>) * e1 * exp (N * \\<bar>t\\<bar>))\n  < norm (x - x0) * e\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>0 < dist x x0; dist x x0 < d\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((Y (x - x0) t - flow0 x0 t -\n                            vector_Dflow (x - x0) t) /\\<^sub>R\n                           norm (x - x0))\n                         < e", "finally"], ["proof (chain)\npicking this:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  < norm (x - x0) * e", "show \"norm ((Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) /\\<^sub>R norm (x - x0)) < e\""], ["proof (prove)\nusing this:\n  norm (Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t)\n  < norm (x - x0) * e\n\ngoal (1 subgoal):\n 1. norm\n     ((Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) /\\<^sub>R\n      norm (x - x0))\n    < e", "by (simp, metis x_x0_dist(1) dist_norm divide_inverse mult.commute pos_divide_less_eq)"], ["proof (state)\nthis:\n  norm\n   ((Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) /\\<^sub>R\n    norm (x - x0))\n  < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>d>0.\n     \\<forall>x.\n        0 < dist x x0 \\<and> dist x x0 < d \\<longrightarrow>\n        dist\n         ((Y (x - x0) t - flow0 x0 t - vector_Dflow (x - x0) t) /\\<^sub>R\n          norm (x - x0))\n         (0::'a)\n        < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>y.\n      (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n      norm (y - x0))\n  \\<midarrow>x0\\<rightarrow> (0::'a)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>y.\n      (Y (y - x0) t - flow0 x0 t - vector_Dflow (y - x0) t) /\\<^sub>R\n      norm (y - x0))\n  \\<midarrow>x0\\<rightarrow> (0::'a)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma local_lipschitz_A:\n  \"OT \\<subseteq> existence_ivl0 x0 \\<Longrightarrow> local_lipschitz OT (OS::('a \\<Rightarrow>\\<^sub>L 'a) set) (\\<lambda>t. (o\\<^sub>L) (vareq x0 t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. OT \\<subseteq> existence_ivl0 x0 \\<Longrightarrow>\n    local_lipschitz OT OS (\\<lambda>t. (o\\<^sub>L) (vareq x0 t))", "by (rule local_lipschitz_subset[OF _ _ subset_UNIV, where T=\"existence_ivl0 x0\"])\n     (auto simp: split_beta' vareq_def\n      intro!: c1_implies_local_lipschitz[where f'=\"\\<lambda>(t, x). comp3 (f' (flow0 x0 t))\"]\n        derivative_eq_intros blinfun_eqI ext\n        continuous_intros flow_in_domain)"], ["", "lemma total_derivative_ll_on_open:\n  \"ll_on_open (existence_ivl0 x0) (\\<lambda>t. blinfun_compose (vareq x0 t)) (UNIV::('a \\<Rightarrow>\\<^sub>L 'a) set)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (existence_ivl0 x0) (\\<lambda>t. (o\\<^sub>L) (vareq x0 t))\n     UNIV", "by standard (auto intro!: continuous_intros local_lipschitz_A[OF order_refl])"], ["", "end"], ["", "end"], ["", "sublocale mvar: ll_on_open \"existence_ivl0 x0\" \"\\<lambda>t. blinfun_compose (vareq x0 t)\" \"UNIV::('a \\<Rightarrow>\\<^sub>L 'a) set\" for x0"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (existence_ivl0 x0) (\\<lambda>t. (o\\<^sub>L) (vareq x0 t))\n     UNIV", "by (rule total_derivative_ll_on_open)"], ["", "lemma mvar_existence_ivl_eq_existence_ivl[simp]:\\<comment> \\<open>TODO: unify with @{thm varexivl_eq_exivl}\\<close>\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"mvar.existence_ivl x0 t = (\\<lambda>_. existence_ivl0 x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.existence_ivl x0 t = (\\<lambda>_. existence_ivl0 x0)", "proof (rule ext, rule mvar.existence_ivl_eq_domain)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "fix s t x"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "assume s: \"s \\<in> existence_ivl0 x0\" and t: \"t \\<in> existence_ivl0 x0\""], ["proof (state)\nthis:\n  s \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0\n\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  s \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0", "have \"{s .. t} \\<subseteq> existence_ivl0 x0\""], ["proof (prove)\nusing this:\n  s \\<in> existence_ivl0 x0\n  t \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. {s..t} \\<subseteq> existence_ivl0 x0", "by (meson atLeastAtMost_iff is_interval_1 is_interval_existence_ivl subsetI)"], ["proof (state)\nthis:\n  {s..t} \\<subseteq> existence_ivl0 x0\n\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  {s..t} \\<subseteq> existence_ivl0 x0", "have \"continuous_on {s .. t} (vareq x0)\""], ["proof (prove)\nusing this:\n  {s..t} \\<subseteq> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. continuous_on {s..t} (vareq x0)", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on {s..t} (vareq x0)\n\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  continuous_on {s..t} (vareq x0)", "have \"compact (vareq x0 ` {s .. t})\""], ["proof (prove)\nusing this:\n  continuous_on {s..t} (vareq x0)\n\ngoal (1 subgoal):\n 1. compact (vareq x0 ` {s..t})", "using compact_Icc"], ["proof (prove)\nusing this:\n  continuous_on {s..t} (vareq x0)\n  compact {?a..?b}\n\ngoal (1 subgoal):\n 1. compact (vareq x0 ` {s..t})", "by (rule compact_continuous_image)"], ["proof (state)\nthis:\n  compact (vareq x0 ` {s..t})\n\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "then"], ["proof (chain)\npicking this:\n  compact (vareq x0 ` {s..t})", "obtain B where B: \"\\<And>u. u \\<in> {s .. t} \\<Longrightarrow> norm (vareq x0 u) \\<le> B\""], ["proof (prove)\nusing this:\n  compact (vareq x0 ` {s..t})\n\ngoal (1 subgoal):\n 1. (\\<And>B.\n        (\\<And>u.\n            u \\<in> {s..t} \\<Longrightarrow>\n            norm (vareq x0 u) \\<le> B) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (force dest!: compact_imp_bounded simp: bounded_iff)"], ["proof (state)\nthis:\n  ?u \\<in> {s..t} \\<Longrightarrow> norm (vareq x0 ?u) \\<le> B\n\ngoal (5 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_ tm tM t x.\n       \\<lbrakk>tm \\<in> existence_ivl0 x0;\n        tM \\<in> existence_ivl0 x0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>M L.\n                            \\<forall>t\\<in>{tm..tM}.\n                               \\<forall>x\\<in>UNIV.\n                                  norm (vareq x0 t o\\<^sub>L x)\n                                  \\<le> M + L * norm x\n 4. \\<And>_. is_interval (existence_ivl0 x0)\n 5. \\<And>_. UNIV = UNIV", "show \"\\<exists>M L. \\<forall>t\\<in>{s .. t}. \\<forall>x\\<in>UNIV. norm (vareq x0 t o\\<^sub>L x) \\<le> M + L * norm x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M L.\n       \\<forall>t\\<in>{s..t}.\n          \\<forall>x\\<in>UNIV.\n             norm (vareq x0 t o\\<^sub>L x) \\<le> M + L * norm x", "unfolding o_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M L.\n       \\<forall>t\\<in>{s..t}.\n          \\<forall>x\\<in>UNIV.\n             norm (vareq x0 t o\\<^sub>L x) \\<le> M + L * norm x", "by (rule exI[where x=0], rule exI[where x=B])\n      (auto intro!: order_trans[OF norm_blinfun_compose] mult_right_mono B)"], ["proof (state)\nthis:\n  \\<exists>M L.\n     \\<forall>t\\<in>{s..t}.\n        \\<forall>x\\<in>UNIV.\n           norm (vareq x0 t o\\<^sub>L x) \\<le> M + L * norm x\n\ngoal (4 subgoals):\n 1. \\<And>_. t \\<in> existence_ivl0 x0\n 2. \\<And>uu_. uu_ \\<in> UNIV\n 3. \\<And>_. is_interval (existence_ivl0 x0)\n 4. \\<And>_. UNIV = UNIV", "qed (auto intro: assms)"], ["", "lemma\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"continuous_on (UNIV \\<times> existence_ivl0 x0) (\\<lambda>(x, ta). mvar.flow x0 t x ta)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (UNIV \\<times> existence_ivl0 x0)\n     (\\<lambda>(x, ta). mvar.flow x0 t x ta)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. continuous_on (UNIV \\<times> existence_ivl0 x0)\n     (\\<lambda>(x, ta). mvar.flow x0 t x ta)", "from mvar.flow_continuous_on_state_space[of x0 t, unfolded mvar_existence_ivl_eq_existence_ivl[OF assms]]"], ["proof (chain)\npicking this:\n  continuous_on (UNIV \\<times> existence_ivl0 x0)\n   (\\<lambda>(x, ta). mvar.flow x0 t x ta)", "show \"continuous_on (UNIV \\<times> existence_ivl0 x0) (\\<lambda>(x, ta). mvar.flow x0 t x ta)\""], ["proof (prove)\nusing this:\n  continuous_on (UNIV \\<times> existence_ivl0 x0)\n   (\\<lambda>(x, ta). mvar.flow x0 t x ta)\n\ngoal (1 subgoal):\n 1. continuous_on (UNIV \\<times> existence_ivl0 x0)\n     (\\<lambda>(x, ta). mvar.flow x0 t x ta)", "."], ["proof (state)\nthis:\n  continuous_on (UNIV \\<times> existence_ivl0 x0)\n   (\\<lambda>(x, ta). mvar.flow x0 t x ta)\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \"Dflow x0 = mvar.flow x0 0 id_blinfun\""], ["", "lemma var_eq_mvar:\n  assumes \"t0 \\<in> existence_ivl0 x0\"\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"var.flow x0 t0 i t = mvar.flow x0 t0 id_blinfun t i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. var.flow x0 t0 i t = blinfun_apply (mvar.flow x0 t0 1\\<^sub>L t) i", "by (rule var.flow_unique)\n     (auto intro!: assms derivative_eq_intros mvar.flow_has_derivative\n       simp: varexivl_eq_exivl assms has_vector_derivative_def blinfun.bilinear_simps)"], ["", "lemma Dflow_zero[simp]: \"x \\<in> X \\<Longrightarrow> Dflow x 0 = 1\\<^sub>L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X \\<Longrightarrow> Dflow x 0 = 1\\<^sub>L", "unfolding Dflow_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X \\<Longrightarrow> mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L", "by (subst mvar.flow_initial_time) auto"], ["", "subsection \\<open>Differentiability of the flow0\\<close>"], ["", "text \\<open> \\<open>U t\\<close>, i.e. the solution of the variational equation, is the space derivative at the initial\n  value \\<open>x0\\<close>. \\<close>"], ["", "lemma flow_dx_derivative:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"((\\<lambda>x0. flow0 x0 t) has_derivative (\\<lambda>z. vector_Dflow x0 z t)) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x0. flow0 x0 t) has_derivative\n     (\\<lambda>z. vector_Dflow x0 z t))\n     (at x0)", "unfolding has_derivative_at2"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>z. vector_Dflow x0 z t) \\<and>\n    (\\<lambda>y.\n        (1 / norm (y - x0)) *\\<^sub>R\n        (flow0 y t - (flow0 x0 t + vector_Dflow x0 (y - x0) t)))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>z. vector_Dflow x0 z t) \\<and>\n    (\\<lambda>y.\n        (1 / norm (y - x0)) *\\<^sub>R\n        (flow0 y t - (flow0 x0 t + vector_Dflow x0 (y - x0) t)))\n    \\<midarrow>x0\\<rightarrow> (0::'a)", "by (intro iffD1[OF LIM_equal proposition_17_6_weak[OF assms]] conjI[OF bounded_linear_vector_Dflow[OF assms]])\n    (simp add: diff_diff_add inverse_eq_divide)"], ["", "lemma flow_dx_derivative_blinfun:\nassumes \"t \\<in> existence_ivl0 x0\"\nshows \"((\\<lambda>x. flow0 x t) has_derivative Blinfun (\\<lambda>z. vector_Dflow x0 z t)) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. flow0 x t) has_derivative\n     blinfun_apply (Blinfun (\\<lambda>z. vector_Dflow x0 z t)))\n     (at x0)", "by (rule has_derivative_Blinfun[OF flow_dx_derivative[OF assms]])"], ["", "definition \"flowderiv x0 t = comp12 (Dflow x0 t) (blinfun_scaleR_left (f (flow0 x0 t)))\""], ["", "lemma flowderiv_eq: \"flowderiv x0 t (\\<xi>\\<^sub>1, \\<xi>\\<^sub>2) = (Dflow x0 t) \\<xi>\\<^sub>1 + \\<xi>\\<^sub>2 *\\<^sub>R f (flow0 x0 t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (flowderiv x0 t) (\\<xi>\\<^sub>1, \\<xi>\\<^sub>2) =\n    blinfun_apply (Dflow x0 t) \\<xi>\\<^sub>1 +\n    \\<xi>\\<^sub>2 *\\<^sub>R f (flow0 x0 t)", "by (auto simp: flowderiv_def)"], ["", "lemma W_continuous_on: \"continuous_on (Sigma X existence_ivl0) (\\<lambda>(x0, t). Dflow x0 t)\"\n  \\<comment> \\<open>TODO: somewhere here is hidden continuity wrt rhs of ODE, extract it!\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (Sigma X existence_ivl0) (\\<lambda>(x, y). Dflow x y)", "unfolding continuous_on split_beta'"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>Sigma X existence_ivl0.\n       ((\\<lambda>x. Dflow (fst x) (snd x)) \\<longlongrightarrow>\n        Dflow (fst x) (snd x))\n        (at x within Sigma X existence_ivl0)", "proof (safe intro!: tendstoI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "fix e'::real and t x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "assume x: \"x \\<in> X\" and tx: \"t \\<in> existence_ivl0 x\" and e': \"e' > 0\""], ["proof (state)\nthis:\n  x \\<in> X\n  t \\<in> existence_ivl0 x\n  0 < e'\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "let ?S = \"Sigma X existence_ivl0\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"(x, t) \\<in> ?S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x, t) \\<in> Sigma X existence_ivl0", "using x tx"], ["proof (prove)\nusing this:\n  x \\<in> X\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (x, t) \\<in> Sigma X existence_ivl0", "by auto"], ["proof (state)\nthis:\n  (x, t) \\<in> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "from open_prod_elim[OF open_state_space this]"], ["proof (chain)\npicking this:\n  (\\<And>A B.\n      \\<lbrakk>open A; open B; (x, t) \\<in> A \\<times> B;\n       A \\<times> B \\<subseteq> Sigma X existence_ivl0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain OX OT where OXOT: \"open OX\" \"open OT\" \"(x, t) \\<in> OX \\<times> OT\" \"OX \\<times> OT \\<subseteq> ?S\""], ["proof (prove)\nusing this:\n  (\\<And>A B.\n      \\<lbrakk>open A; open B; (x, t) \\<in> A \\<times> B;\n       A \\<times> B \\<subseteq> Sigma X existence_ivl0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>OX OT.\n        \\<lbrakk>open OX; open OT; (x, t) \\<in> OX \\<times> OT;\n         OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "then"], ["proof (chain)\npicking this:\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0", "obtain dx dt\n  where dx: \"dx > 0\" \"cball x dx \\<subseteq> OX\"\n    and dt: \"dt > 0\" \"cball t dt \\<subseteq> OT\""], ["proof (prove)\nusing this:\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. (\\<And>dx dt.\n        \\<lbrakk>0 < dx; cball x dx \\<subseteq> OX; 0 < dt;\n         cball t dt \\<subseteq> OT\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: open_contains_cball)"], ["proof (state)\nthis:\n  0 < dx\n  cball x dx \\<subseteq> OX\n  0 < dt\n  cball t dt \\<subseteq> OT\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "from OXOT dt dx"], ["proof (chain)\npicking this:\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\n  0 < dt\n  cball t dt \\<subseteq> OT\n  0 < dx\n  cball x dx \\<subseteq> OX", "have \"cball t dt \\<subseteq> existence_ivl0 x\" \"cball x dx \\<subseteq> X\""], ["proof (prove)\nusing this:\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\n  0 < dt\n  cball t dt \\<subseteq> OT\n  0 < dx\n  cball x dx \\<subseteq> OX\n\ngoal (1 subgoal):\n 1. cball t dt \\<subseteq> existence_ivl0 x &&& cball x dx \\<subseteq> X", "apply (auto simp: subset_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       \\<lbrakk>open OX; open OT;\n        \\<forall>a b.\n           a \\<in> OX \\<and> b \\<in> OT \\<longrightarrow>\n           a \\<in> X \\<and> b \\<in> existence_ivl0 a;\n        0 < dt;\n        \\<forall>ta. dist t ta \\<le> dt \\<longrightarrow> ta \\<in> OT;\n        0 < dx; \\<forall>t. dist x t \\<le> dx \\<longrightarrow> t \\<in> OX;\n        dist x ta \\<le> dx\\<rbrakk>\n       \\<Longrightarrow> ta \\<in> X", "subgoal for ta"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>open OX; open OT;\n     \\<forall>a b.\n        a \\<in> OX \\<and> b \\<in> OT \\<longrightarrow>\n        a \\<in> X \\<and> b \\<in> existence_ivl0 a;\n     0 < dt; \\<forall>ta. dist t ta \\<le> dt \\<longrightarrow> ta \\<in> OT;\n     0 < dx; \\<forall>t. dist x t \\<le> dx \\<longrightarrow> t \\<in> OX;\n     dist x ta \\<le> dx\\<rbrakk>\n    \\<Longrightarrow> ta \\<in> X", "apply (drule spec[where x=ta])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>open OX; open OT; 0 < dt;\n     \\<forall>ta. dist t ta \\<le> dt \\<longrightarrow> ta \\<in> OT; 0 < dx;\n     \\<forall>t. dist x t \\<le> dx \\<longrightarrow> t \\<in> OX;\n     dist x ta \\<le> dx;\n     \\<forall>b.\n        ta \\<in> OX \\<and> b \\<in> OT \\<longrightarrow>\n        ta \\<in> X \\<and> b \\<in> existence_ivl0 ta\\<rbrakk>\n    \\<Longrightarrow> ta \\<in> X", "apply (drule spec[where x=t])+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>open OX; open OT; 0 < dt; 0 < dx;\n     \\<forall>t. dist x t \\<le> dx \\<longrightarrow> t \\<in> OX;\n     dist x ta \\<le> dx; dist t t \\<le> dt \\<longrightarrow> t \\<in> OT;\n     ta \\<in> OX \\<and> t \\<in> OT \\<longrightarrow>\n     ta \\<in> X \\<and> t \\<in> existence_ivl0 ta\\<rbrakk>\n    \\<Longrightarrow> ta \\<in> X", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  cball t dt \\<subseteq> existence_ivl0 x\n  cball x dx \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have one_exivl: \"mvar.existence_ivl x 0 = (\\<lambda>_. existence_ivl0 x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.existence_ivl x 0 = (\\<lambda>_. existence_ivl0 x)", "by (rule mvar_existence_ivl_eq_existence_ivl[OF existence_ivl_zero[OF \\<open>x \\<in> X\\<close>]])"], ["proof (state)\nthis:\n  mvar.existence_ivl x 0 = (\\<lambda>_. existence_ivl0 x)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have *: \"closed ({t .. 0} \\<union> {0 .. t})\" \"{t .. 0} \\<union> {0 .. t} \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed ({t..0} \\<union> {0..t}) &&& {t..0} \\<union> {0..t} \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  closed ({t..0} \\<union> {0..t})\n  {t..0} \\<union> {0..t} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "let ?T = \"{t .. 0} \\<union> {0 .. t} \\<union> cball t dt\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"compact ?T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by (auto intro!: compact_Un)"], ["proof (state)\nthis:\n  compact ({t..0} \\<union> {0..t} \\<union> cball t dt)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"?T \\<subseteq> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "by (intro Un_least ivl_subset_existence_ivl' ivl_subset_existence_ivl \\<open>x \\<in> X\\<close>\n      \\<open>t \\<in> existence_ivl0 x\\<close> \\<open>cball t dt \\<subseteq> existence_ivl0 x\\<close>)"], ["proof (state)\nthis:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"compact (mvar.flow x 0 id_blinfun ` ?T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))", "using \\<open>?T \\<subseteq> _\\<close> \\<open>x \\<in> X\\<close>\n      mvar_existence_ivl_eq_existence_ivl[OF existence_ivl_zero[OF \\<open>x \\<in> X\\<close>]]"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n  x \\<in> X\n  mvar.existence_ivl x 0 = (\\<lambda>_. existence_ivl0 x)\n\ngoal (1 subgoal):\n 1. compact\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))", "by (auto intro!: \\<open>0 < dx\\<close> compact_continuous_image \\<open>compact ?T\\<close>\n      continuous_on_subset[OF mvar.flow_continuous_on])"], ["proof (state)\nthis:\n  compact\n   (mvar.flow x 0 1\\<^sub>L ` ({t..0} \\<union> {0..t} \\<union> cball t dt))\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "let ?line = \"mvar.flow x 0 id_blinfun ` ?T\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "let ?X = \"{x. infdist x ?line \\<le> dx}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"compact ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> dx}", "using \\<open>?T \\<subseteq> _\\<close> \\<open>x \\<in> X\\<close>\n      mvar_existence_ivl_eq_existence_ivl[OF existence_ivl_zero[OF \\<open>x \\<in> X\\<close>]]"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n  x \\<in> X\n  mvar.existence_ivl x 0 = (\\<lambda>_. existence_ivl0 x)\n\ngoal (1 subgoal):\n 1. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> dx}", "by (auto intro!: compact_infdist_le \\<open>0 < dx\\<close> compact_continuous_image compact_Un\n      continuous_on_subset[OF mvar.flow_continuous_on ])"], ["proof (state)\nthis:\n  compact\n   {xa.\n    infdist xa\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))\n    \\<le> dx}\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "from mvar.local_lipschitz \\<open>?T \\<subseteq> _\\<close>"], ["proof (chain)\npicking this:\n  local_lipschitz (existence_ivl0 ?x0.0) UNIV\n   (\\<lambda>t. (o\\<^sub>L) (vareq ?x0.0 t))\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "have llc: \"local_lipschitz ?T ?X (\\<lambda>t. (o\\<^sub>L) (vareq x t))\""], ["proof (prove)\nusing this:\n  local_lipschitz (existence_ivl0 ?x0.0) UNIV\n   (\\<lambda>t. (o\\<^sub>L) (vareq ?x0.0 t))\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. local_lipschitz ({t..0} \\<union> {0..t} \\<union> cball t dt)\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> dx}\n     (\\<lambda>t. (o\\<^sub>L) (vareq x t))", "by (rule local_lipschitz_subset) auto"], ["proof (state)\nthis:\n  local_lipschitz ({t..0} \\<union> {0..t} \\<union> cball t dt)\n   {xa.\n    infdist xa\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))\n    \\<le> dx}\n   (\\<lambda>t. (o\\<^sub>L) (vareq x t))\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have cont: \"\\<And>xa. xa \\<in> ?X \\<Longrightarrow> continuous_on ?T (\\<lambda>t. vareq x t o\\<^sub>L xa)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {xa.\n                 infdist xa\n                  (mvar.flow x 0 1\\<^sub>L `\n                   ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                 \\<le> dx} \\<Longrightarrow>\n       continuous_on ({t..0} \\<union> {0..t} \\<union> cball t dt)\n        (\\<lambda>t. vareq x t o\\<^sub>L xa)", "using \\<open>?T \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {xa.\n                 infdist xa\n                  (mvar.flow x 0 1\\<^sub>L `\n                   ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                 \\<le> dx} \\<Longrightarrow>\n       continuous_on ({t..0} \\<union> {0..t} \\<union> cball t dt)\n        (\\<lambda>t. vareq x t o\\<^sub>L xa)", "by (auto intro!: continuous_intros \\<open>x \\<in> X\\<close>)"], ["proof (state)\nthis:\n  ?xa\n  \\<in> {xa.\n         infdist xa\n          (mvar.flow x 0 1\\<^sub>L `\n           ({t..0} \\<union> {0..t} \\<union> cball t dt))\n         \\<le> dx} \\<Longrightarrow>\n  continuous_on ({t..0} \\<union> {0..t} \\<union> cball t dt)\n   (\\<lambda>t. vareq x t o\\<^sub>L ?xa)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "from local_lipschitz_compact_implies_lipschitz[OF llc \\<open>compact ?X\\<close> \\<open>compact ?T\\<close> cont]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa.\n              xa \\<in> {xa.\n                        infdist xa\n                         (mvar.flow x 0 1\\<^sub>L `\n                          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                        \\<le> dx} \\<Longrightarrow>\n              xa \\<in> {xa.\n                        infdist xa\n                         (mvar.flow x 0 1\\<^sub>L `\n                          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                        \\<le> dx};\n   \\<And>L.\n      (\\<And>ta.\n          ta \\<in> {t..0} \\<union> {0..t} \\<union>\n                   cball t dt \\<Longrightarrow>\n          L-lipschitz_on\n           {xa.\n            infdist xa\n             (mvar.flow x 0 1\\<^sub>L `\n              ({t..0} \\<union> {0..t} \\<union> cball t dt))\n            \\<le> dx}\n           ((o\\<^sub>L) (vareq x ta))) \\<Longrightarrow>\n      ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain K' where K': \"\\<And>ta. ta \\<in> ?T \\<Longrightarrow> K'-lipschitz_on ?X ((o\\<^sub>L) (vareq x ta))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa.\n              xa \\<in> {xa.\n                        infdist xa\n                         (mvar.flow x 0 1\\<^sub>L `\n                          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                        \\<le> dx} \\<Longrightarrow>\n              xa \\<in> {xa.\n                        infdist xa\n                         (mvar.flow x 0 1\\<^sub>L `\n                          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                        \\<le> dx};\n   \\<And>L.\n      (\\<And>ta.\n          ta \\<in> {t..0} \\<union> {0..t} \\<union>\n                   cball t dt \\<Longrightarrow>\n          L-lipschitz_on\n           {xa.\n            infdist xa\n             (mvar.flow x 0 1\\<^sub>L `\n              ({t..0} \\<union> {0..t} \\<union> cball t dt))\n            \\<le> dx}\n           ((o\\<^sub>L) (vareq x ta))) \\<Longrightarrow>\n      ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>K'.\n        (\\<And>ta.\n            ta \\<in> {t..0} \\<union> {0..t} \\<union>\n                     cball t dt \\<Longrightarrow>\n            K'-lipschitz_on\n             {xa.\n              infdist xa\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> dx}\n             ((o\\<^sub>L) (vareq x ta))) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  ?ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n  K'-lipschitz_on\n   {xa.\n    infdist xa\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))\n    \\<le> dx}\n   ((o\\<^sub>L) (vareq x ?ta))\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "define K where \"K \\<equiv> abs K' + 1\""], ["proof (state)\nthis:\n  K \\<equiv> \\<bar>K'\\<bar> + 1\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"K > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < K", "by (simp add: K_def)"], ["proof (state)\nthis:\n  0 < K\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have K: \"\\<And>ta. ta \\<in> ?T \\<Longrightarrow> K-lipschitz_on ?X ((o\\<^sub>L) (vareq x ta))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        {xa.\n         infdist xa\n          (mvar.flow x 0 1\\<^sub>L `\n           ({t..0} \\<union> {0..t} \\<union> cball t dt))\n         \\<le> dx}\n        ((o\\<^sub>L) (vareq x ta))", "by (auto intro!: lipschitz_onI mult_right_mono order_trans[OF lipschitz_onD[OF K']] simp: K_def)"], ["proof (state)\nthis:\n  ?ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n  K-lipschitz_on\n   {xa.\n    infdist xa\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))\n    \\<le> dx}\n   ((o\\<^sub>L) (vareq x ?ta))\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have ex_ivlI: \"\\<And>y. y \\<in> cball x dx \\<Longrightarrow> ?T \\<subseteq> existence_ivl0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> cball x dx \\<Longrightarrow>\n       {t..0} \\<union> {0..t} \\<union> cball t dt\n       \\<subseteq> existence_ivl0 y", "using dx dt OXOT"], ["proof (prove)\nusing this:\n  0 < dx\n  cball x dx \\<subseteq> OX\n  0 < dt\n  cball t dt \\<subseteq> OT\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> cball x dx \\<Longrightarrow>\n       {t..0} \\<union> {0..t} \\<union> cball t dt\n       \\<subseteq> existence_ivl0 y", "by (intro Un_least ivl_subset_existence_ivl' ivl_subset_existence_ivl; force)"], ["proof (state)\nthis:\n  ?y \\<in> cball x dx \\<Longrightarrow>\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 ?y\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have cont: \"continuous_on ((?T \\<times> ?X) \\<times> cball x dx) (\\<lambda>((ta, xa), y). (vareq y ta o\\<^sub>L xa))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on\n     ((({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n       {xa.\n        infdist xa\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> dx}) \\<times>\n      cball x dx)\n     (\\<lambda>((ta, xa), y). vareq y ta o\\<^sub>L xa)", "using \\<open>cball x dx \\<subseteq> X\\<close> ex_ivlI"], ["proof (prove)\nusing this:\n  cball x dx \\<subseteq> X\n  ?y \\<in> cball x dx \\<Longrightarrow>\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 ?y\n\ngoal (1 subgoal):\n 1. continuous_on\n     ((({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n       {xa.\n        infdist xa\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> dx}) \\<times>\n      cball x dx)\n     (\\<lambda>((ta, xa), y). vareq y ta o\\<^sub>L xa)", "by (force intro!: continuous_intros simp: split_beta' )"], ["proof (state)\nthis:\n  continuous_on\n   ((({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> dx}) \\<times>\n    cball x dx)\n   (\\<lambda>((ta, xa), y). vareq y ta o\\<^sub>L xa)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"mvar.flow x 0 id_blinfun t \\<in> mvar.flow x 0 id_blinfun ` ({t..0} \\<union> {0..t} \\<union> cball t dt)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x 0 1\\<^sub>L t\n    \\<in> mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by auto"], ["proof (state)\nthis:\n  mvar.flow x 0 1\\<^sub>L t\n  \\<in> mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "then"], ["proof (chain)\npicking this:\n  mvar.flow x 0 1\\<^sub>L t\n  \\<in> mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt)", "have mem: \"(t, mvar.flow x 0 id_blinfun t, x) \\<in> ?T \\<times> ?X \\<times> cball x dx\""], ["proof (prove)\nusing this:\n  mvar.flow x 0 1\\<^sub>L t\n  \\<in> mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt)\n\ngoal (1 subgoal):\n 1. (t, mvar.flow x 0 1\\<^sub>L t, x)\n    \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n          {xa.\n           infdist xa\n            (mvar.flow x 0 1\\<^sub>L `\n             ({t..0} \\<union> {0..t} \\<union> cball t dt))\n           \\<le> dx} \\<times>\n          cball x dx", "by (auto simp: \\<open>0 < dx\\<close> less_imp_le)"], ["proof (state)\nthis:\n  (t, mvar.flow x 0 1\\<^sub>L t, x)\n  \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n        {xa.\n         infdist xa\n          (mvar.flow x 0 1\\<^sub>L `\n           ({t..0} \\<union> {0..t} \\<union> cball t dt))\n         \\<le> dx} \\<times>\n        cball x dx\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "define e where \"e \\<equiv> min e' (dx / 2) / 2\""], ["proof (state)\nthis:\n  e \\<equiv> min e' (dx / 2) / 2\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"e > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e", "using \\<open>e' > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < e'\n\ngoal (1 subgoal):\n 1. 0 < e", "by (auto simp: e_def \\<open>0 < dx\\<close>)"], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "define d where \"d \\<equiv> e * K / (exp (K * (abs t + abs dt + 1)) - 1)\""], ["proof (state)\nthis:\n  d \\<equiv> e * K / (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"d > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < d", "by (auto simp: d_def intro!: mult_pos_pos divide_pos_pos \\<open>0 < e\\<close> \\<open>K > 0\\<close>)"], ["proof (state)\nthis:\n  0 < d\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have cmpct: \"compact ((?T \\<times> ?X) \\<times> cball x dx)\" \"compact (?T \\<times> ?X)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact\n     ((({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n       {xa.\n        infdist xa\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> dx}) \\<times>\n      cball x dx) &&&\n    compact\n     (({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n      {xa.\n       infdist xa\n        (mvar.flow x 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n       \\<le> dx})", "using \\<open>compact ?T\\<close> \\<open>compact ?X\\<close>"], ["proof (prove)\nusing this:\n  compact ({t..0} \\<union> {0..t} \\<union> cball t dt)\n  compact\n   {xa.\n    infdist xa\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))\n    \\<le> dx}\n\ngoal (1 subgoal):\n 1. compact\n     ((({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n       {xa.\n        infdist xa\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> dx}) \\<times>\n      cball x dx) &&&\n    compact\n     (({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n      {xa.\n       infdist xa\n        (mvar.flow x 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n       \\<le> dx})", "by (auto intro!: compact_cball compact_Times)"], ["proof (state)\nthis:\n  compact\n   ((({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> dx}) \\<times>\n    cball x dx)\n  compact\n   (({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n    {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> dx})\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have compact_line: \"compact ?line\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))", "using \\<open>{t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\\<close> one_exivl"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n  mvar.existence_ivl x 0 = (\\<lambda>_. existence_ivl0 x)\n\ngoal (1 subgoal):\n 1. compact\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt))", "by (force intro!: compact_continuous_image \\<open>compact ?T\\<close> continuous_on_subset[OF mvar.flow_continuous_on] simp: \\<open>x \\<in> X\\<close>)"], ["proof (state)\nthis:\n  compact\n   (mvar.flow x 0 1\\<^sub>L ` ({t..0} \\<union> {0..t} \\<union> cball t dt))\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "from compact_uniformly_continuous[OF cont cmpct(1), unfolded uniformly_continuous_on_def,\n      rule_format, OF \\<open>0 < d\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>da>0.\n     \\<forall>xa\\<in>(({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n                      {xa.\n                       infdist xa\n                        (mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                       \\<le> dx}) \\<times>\n                     cball x dx.\n        \\<forall>x'\\<in>(({t..0} \\<union> {0..t} \\<union>\n                          cball t dt) \\<times>\n                         {xa.\n                          infdist xa\n                           (mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                          \\<le> dx}) \\<times>\n                        cball x dx.\n           dist x' xa < da \\<longrightarrow>\n           dist\n            (case x' of\n             (x, xa) \\<Rightarrow>\n               (case x of\n                (ta, xa) \\<Rightarrow> \\<lambda>y. vareq y ta o\\<^sub>L xa)\n                xa)\n            (case xa of\n             (x, xa) \\<Rightarrow>\n               (case x of\n                (ta, xa) \\<Rightarrow> \\<lambda>y. vareq y ta o\\<^sub>L xa)\n                xa)\n           < d", "obtain d' where d': \"d' > 0\"\n    \"\\<And>ta xa xa' y. ta \\<in> ?T \\<Longrightarrow> xa \\<in> ?X \\<Longrightarrow> xa'\\<in>cball x dx \\<Longrightarrow> y\\<in>cball x dx \\<Longrightarrow> dist xa' y < d' \\<Longrightarrow>\n      dist (vareq xa' ta o\\<^sub>L xa) (vareq y ta o\\<^sub>L xa) < d\""], ["proof (prove)\nusing this:\n  \\<exists>da>0.\n     \\<forall>xa\\<in>(({t..0} \\<union> {0..t} \\<union> cball t dt) \\<times>\n                      {xa.\n                       infdist xa\n                        (mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                       \\<le> dx}) \\<times>\n                     cball x dx.\n        \\<forall>x'\\<in>(({t..0} \\<union> {0..t} \\<union>\n                          cball t dt) \\<times>\n                         {xa.\n                          infdist xa\n                           (mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                          \\<le> dx}) \\<times>\n                        cball x dx.\n           dist x' xa < da \\<longrightarrow>\n           dist\n            (case x' of\n             (x, xa) \\<Rightarrow>\n               (case x of\n                (ta, xa) \\<Rightarrow> \\<lambda>y. vareq y ta o\\<^sub>L xa)\n                xa)\n            (case xa of\n             (x, xa) \\<Rightarrow>\n               (case x of\n                (ta, xa) \\<Rightarrow> \\<lambda>y. vareq y ta o\\<^sub>L xa)\n                xa)\n           < d\n\ngoal (1 subgoal):\n 1. (\\<And>d'.\n        \\<lbrakk>0 < d';\n         \\<And>ta xa xa' y.\n            \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n             xa \\<in> {xa.\n                       infdist xa\n                        (mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                       \\<le> dx};\n             xa' \\<in> cball x dx; y \\<in> cball x dx;\n             dist xa' y < d'\\<rbrakk>\n            \\<Longrightarrow> dist (vareq xa' ta o\\<^sub>L xa)\n                               (vareq y ta o\\<^sub>L xa)\n                              < d\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: dist_prod_def)"], ["proof (state)\nthis:\n  0 < d'\n  \\<lbrakk>?ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n   ?xa\n   \\<in> {xa.\n          infdist xa\n           (mvar.flow x 0 1\\<^sub>L `\n            ({t..0} \\<union> {0..t} \\<union> cball t dt))\n          \\<le> dx};\n   ?xa' \\<in> cball x dx; ?y \\<in> cball x dx; dist ?xa' ?y < d'\\<rbrakk>\n  \\<Longrightarrow> dist (vareq ?xa' ?ta o\\<^sub>L ?xa)\n                     (vareq ?y ?ta o\\<^sub>L ?xa)\n                    < d\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "{"], ["proof (state)\nthis:\n  0 < d'\n  \\<lbrakk>?ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n   ?xa\n   \\<in> {xa.\n          infdist xa\n           (mvar.flow x 0 1\\<^sub>L `\n            ({t..0} \\<union> {0..t} \\<union> cball t dt))\n          \\<le> dx};\n   ?xa' \\<in> cball x dx; ?y \\<in> cball x dx; dist ?xa' ?y < d'\\<rbrakk>\n  \\<Longrightarrow> dist (vareq ?xa' ?ta o\\<^sub>L ?xa)\n                     (vareq ?y ?ta o\\<^sub>L ?xa)\n                    < d\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "assume dxy: \"dist x y < d'\""], ["proof (state)\nthis:\n  dist x y < d'\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "assume \"y \\<in> cball x dx\""], ["proof (state)\nthis:\n  y \\<in> cball x dx\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "then"], ["proof (chain)\npicking this:\n  y \\<in> cball x dx", "have \"y \\<in> X\""], ["proof (prove)\nusing this:\n  y \\<in> cball x dx\n\ngoal (1 subgoal):\n 1. y \\<in> X", "using dx dt OXOT"], ["proof (prove)\nusing this:\n  y \\<in> cball x dx\n  0 < dx\n  cball x dx \\<subseteq> OX\n  0 < dt\n  cball t dt \\<subseteq> OT\n  open OX\n  open OT\n  (x, t) \\<in> OX \\<times> OT\n  OX \\<times> OT \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by force+"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have two_exivl: \"mvar.existence_ivl y 0 = (\\<lambda>_. existence_ivl0 y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.existence_ivl y 0 = (\\<lambda>_. existence_ivl0 y)", "by (rule mvar_existence_ivl_eq_existence_ivl[OF existence_ivl_zero[OF \\<open>y \\<in> X\\<close>]])"], ["proof (state)\nthis:\n  mvar.existence_ivl y 0 = (\\<lambda>_. existence_ivl0 y)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "let ?X' = \"\\<Union>x \\<in> ?line. ball x dx\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"open ?X'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)", "by auto"], ["proof (state)\nthis:\n  open\n   (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                  ({t..0} \\<union> {0..t} \\<union> cball t dt).\n       ball x dx)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"?X' \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                   ({t..0} \\<union> {0..t} \\<union> cball t dt).\n        ball x dx)\n    \\<subseteq> {xa.\n                 infdist xa\n                  (mvar.flow x 0 1\\<^sub>L `\n                   ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                 \\<le> dx}", "by (auto intro!: infdist_le2 simp: dist_commute)"], ["proof (state)\nthis:\n  (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                 ({t..0} \\<union> {0..t} \\<union> cball t dt).\n      ball x dx)\n  \\<subseteq> {xa.\n               infdist xa\n                (mvar.flow x 0 1\\<^sub>L `\n                 ({t..0} \\<union> {0..t} \\<union> cball t dt))\n               \\<le> dx}\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "interpret oneR: ll_on_open \"existence_ivl0 x\" \"(\\<lambda>t. (o\\<^sub>L) (vareq x t))\" ?X'"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (existence_ivl0 x) (\\<lambda>t. (o\\<^sub>L) (vareq x t))\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)", "by standard (auto intro!: \\<open>x \\<in> X\\<close> continuous_intros local_lipschitz_A[OF order_refl])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "interpret twoR: ll_on_open \"existence_ivl0 y\" \"(\\<lambda>t. (o\\<^sub>L) (vareq y t))\" ?X'"], ["proof (prove)\ngoal (1 subgoal):\n 1. ll_on_open (existence_ivl0 y) (\\<lambda>t. (o\\<^sub>L) (vareq y t))\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)", "by standard (auto intro!: \\<open>y \\<in> X\\<close> continuous_intros local_lipschitz_A[OF order_refl])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "interpret both:\n      two_ll_on_open \"(\\<lambda>t. (o\\<^sub>L) (vareq x t))\" \"existence_ivl0 x\" \"(\\<lambda>t. (o\\<^sub>L) (vareq y t))\" \"existence_ivl0 y\" ?X' ?T \"id_blinfun\" d K"], ["proof (prove)\ngoal (1 subgoal):\n 1. two_ll_on_open (\\<lambda>t. (o\\<^sub>L) (vareq x t)) (existence_ivl0 x)\n     (\\<lambda>t. (o\\<^sub>L) (vareq y t)) (existence_ivl0 y)\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)\n     ({t..0} \\<union> {0..t} \\<union> cball t dt) 1\\<^sub>L d K", "proof unfold_locales"], ["proof (state)\ngoal (6 subgoals):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> oneR.existence_ivl 0 1\\<^sub>L\n 3. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 4. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 5. 0 < K\n 6. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "show \"0 < K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < K", "by (simp add: \\<open>0 < K\\<close>)"], ["proof (state)\nthis:\n  0 < K\n\ngoal (5 subgoals):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> oneR.existence_ivl 0 1\\<^sub>L\n 3. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 4. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 5. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "show iv_defined: \"0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by auto"], ["proof (state)\nthis:\n  0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (4 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> oneR.existence_ivl 0 1\\<^sub>L\n 2. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 3. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 4. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "show \"is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by (auto simp: is_interval_def dist_real_def)"], ["proof (state)\nthis:\n  is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n\ngoal (3 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> oneR.existence_ivl 0 1\\<^sub>L\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 3. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "show \"{t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> oneR.existence_ivl 0 id_blinfun\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> oneR.existence_ivl 0 1\\<^sub>L", "apply (rule oneR.maximal_existence_flow[where x=\"mvar.flow x 0 id_blinfun\"])"], ["proof (prove)\ngoal (5 subgoals):\n 1. (mvar.flow x 0 1\\<^sub>L solves_ode\n     (\\<lambda>t. (o\\<^sub>L) (vareq x t)))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)\n 2. mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L\n 3. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 4. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 5. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (mvar.flow x 0 1\\<^sub>L solves_ode\n     (\\<lambda>t. (o\\<^sub>L) (vareq x t)))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)", "apply (rule solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (mvar.flow x 0 1\\<^sub>L has_vderiv_on\n     (\\<lambda>t. vareq x t o\\<^sub>L mvar.flow x 0 1\\<^sub>L t))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "apply (rule has_vderiv_on_subset[OF solves_odeD(1)[OF mvar.flow_solves_ode[of 0 x id_blinfun]]])"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 \\<in> existence_ivl0 x\n 2. 1\\<^sub>L \\<in> UNIV\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L\n 4. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 x", "using \\<open>x \\<in> X\\<close> \\<open>?T \\<subseteq> _\\<close> \\<open>0 < dx\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n  0 < dx\n\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 x", "by simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. 1\\<^sub>L \\<in> UNIV\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L\n 3. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>L \\<in> UNIV", "by simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L", "by (simp add: \\<open>cball t dt \\<subseteq> existence_ivl0 x\\<close> ivl_subset_existence_ivl ivl_subset_existence_ivl' one_exivl tx)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. ta_ \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n    mvar.flow x 0 1\\<^sub>L ta_\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "using dx"], ["proof (prove)\nusing this:\n  0 < dx\n  cball x dx \\<subseteq> OX\n\ngoal (1 subgoal):\n 1. ta_ \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n    mvar.flow x 0 1\\<^sub>L ta_\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "by (auto; force)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal (4 subgoals):\n 1. mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L\n 2. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 3. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 4. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L", "by (simp add: \\<open>x \\<in> X\\<close>)"], ["proof (prove)\ngoal (3 subgoals):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by fact"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using iv_defined"], ["proof (prove)\nusing this:\n  0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "using \\<open>{t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\\<close>"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<subseteq> oneR.existence_ivl 0 1\\<^sub>L\n\ngoal (2 subgoals):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 2. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "fix s"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 2. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "assume s: \"s \\<in> ?T\""], ["proof (state)\nthis:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (2 subgoals):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       K-lipschitz_on\n        (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n        ((o\\<^sub>L) (vareq x ta))\n 2. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "then"], ["proof (chain)\npicking this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "show \"K-lipschitz_on ?X' ((o\\<^sub>L) (vareq x s))\""], ["proof (prove)\nusing this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. K-lipschitz_on\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)\n     ((o\\<^sub>L) (vareq x s))", "by (intro lipschitz_on_subset[OF K \\<open>?X' \\<subseteq> ?X\\<close>]) auto"], ["proof (state)\nthis:\n  K-lipschitz_on\n   (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                  ({t..0} \\<union> {0..t} \\<union> cball t dt).\n       ball x dx)\n   ((o\\<^sub>L) (vareq x s))\n\ngoal (1 subgoal):\n 1. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "fix j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "assume j: \"j \\<in> ?X'\""], ["proof (state)\nthis:\n  j \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n\ngoal (1 subgoal):\n 1. \\<And>ta xa.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        xa \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt).\n                     ball x dx)\\<rbrakk>\n       \\<Longrightarrow> norm\n                          ((vareq x ta o\\<^sub>L xa) -\n                           (vareq y ta o\\<^sub>L xa))\n                         < d", "show \"norm ((vareq x s o\\<^sub>L j) - (vareq y s o\\<^sub>L j)) < d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. norm ((vareq x s o\\<^sub>L j) - (vareq y s o\\<^sub>L j)) < d", "unfolding dist_norm[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (vareq x s o\\<^sub>L j) (vareq y s o\\<^sub>L j) < d", "apply (rule d')"], ["proof (prove)\ngoal (5 subgoals):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. j \\<in> {xa.\n             infdist xa\n              (mvar.flow x 0 1\\<^sub>L `\n               ({t..0} \\<union> {0..t} \\<union> cball t dt))\n             \\<le> dx}\n 3. x \\<in> cball x dx\n 4. y \\<in> cball x dx\n 5. dist x y < d'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by (rule s)"], ["proof (prove)\ngoal (4 subgoals):\n 1. j \\<in> {xa.\n             infdist xa\n              (mvar.flow x 0 1\\<^sub>L `\n               ({t..0} \\<union> {0..t} \\<union> cball t dt))\n             \\<le> dx}\n 2. x \\<in> cball x dx\n 3. y \\<in> cball x dx\n 4. dist x y < d'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. j \\<in> {xa.\n             infdist xa\n              (mvar.flow x 0 1\\<^sub>L `\n               ({t..0} \\<union> {0..t} \\<union> cball t dt))\n             \\<le> dx}", "using \\<open>?X' \\<subseteq> ?X\\<close> j"], ["proof (prove)\nusing this:\n  (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                 ({t..0} \\<union> {0..t} \\<union> cball t dt).\n      ball x dx)\n  \\<subseteq> {xa.\n               infdist xa\n                (mvar.flow x 0 1\\<^sub>L `\n                 ({t..0} \\<union> {0..t} \\<union> cball t dt))\n               \\<le> dx}\n  j \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n\ngoal (1 subgoal):\n 1. j \\<in> {xa.\n             infdist xa\n              (mvar.flow x 0 1\\<^sub>L `\n               ({t..0} \\<union> {0..t} \\<union> cball t dt))\n             \\<le> dx}", ".."], ["proof (prove)\ngoal (3 subgoals):\n 1. x \\<in> cball x dx\n 2. y \\<in> cball x dx\n 3. dist x y < d'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> cball x dx", "using \\<open>dx > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < dx\n\ngoal (1 subgoal):\n 1. x \\<in> cball x dx", "by simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. y \\<in> cball x dx\n 2. dist x y < d'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> cball x dx", "using \\<open>y \\<in> cball x dx\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> cball x dx\n\ngoal (1 subgoal):\n 1. y \\<in> cball x dx", "by simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x y < d'", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. dist x y < d'", "using dxy"], ["proof (prove)\nusing this:\n  dist x y < d'\n\ngoal (1 subgoal):\n 1. dist x y < d'", "by simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  norm ((vareq x s o\\<^sub>L j) - (vareq y s o\\<^sub>L j)) < d\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have less_e: \"norm (Dflow x s - both.Y s) < e\"\n      if s: \"s \\<in> ?T \\<inter> twoR.existence_ivl 0 id_blinfun\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "from s"], ["proof (chain)\npicking this:\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L", "have s_less: \"\\<bar>s\\<bar> < \\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1\""], ["proof (prove)\nusing this:\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. \\<bar>s\\<bar> < \\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1", "by (auto simp: dist_real_def)"], ["proof (state)\nthis:\n  \\<bar>s\\<bar> < \\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "note both.norm_X_Y_bound[rule_format, OF s]"], ["proof (state)\nthis:\n  norm (both.flow0 s - both.Y s) \\<le> d / K * (exp (K * \\<bar>s\\<bar>) - 1)\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "also"], ["proof (state)\nthis:\n  norm (both.flow0 s - both.Y s) \\<le> d / K * (exp (K * \\<bar>s\\<bar>) - 1)\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "have \"d / K * (exp (K * \\<bar>s\\<bar>) - 1) =\n          e * ((exp (K * \\<bar>s\\<bar>) - 1) / (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d / K * (exp (K * \\<bar>s\\<bar>) - 1) =\n    e *\n    ((exp (K * \\<bar>s\\<bar>) - 1) /\n     (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))", "by (simp add: d_def)"], ["proof (state)\nthis:\n  d / K * (exp (K * \\<bar>s\\<bar>) - 1) =\n  e *\n  ((exp (K * \\<bar>s\\<bar>) - 1) /\n   (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "also"], ["proof (state)\nthis:\n  d / K * (exp (K * \\<bar>s\\<bar>) - 1) =\n  e *\n  ((exp (K * \\<bar>s\\<bar>) - 1) /\n   (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "have \"\\<dots> < e * 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e *\n    ((exp (K * \\<bar>s\\<bar>) - 1) /\n     (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))\n    < e * 1", "by (rule mult_strict_left_mono[OF _ \\<open>0 < e\\<close>])\n           (simp add: add_nonneg_pos \\<open>0 < K\\<close> \\<open>0 < e\\<close> s_less)"], ["proof (state)\nthis:\n  e *\n  ((exp (K * \\<bar>s\\<bar>) - 1) /\n   (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))\n  < e * 1\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "also"], ["proof (state)\nthis:\n  e *\n  ((exp (K * \\<bar>s\\<bar>) - 1) /\n   (exp (K * (\\<bar>t\\<bar> + \\<bar>dt\\<bar> + 1)) - 1))\n  < e * 1\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "have \"\\<dots> = e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e * 1 = e", "by simp"], ["proof (state)\nthis:\n  e * 1 = e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "also"], ["proof (state)\nthis:\n  e * 1 = e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "from s"], ["proof (chain)\npicking this:\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L", "have s: \"s \\<in> ?T\""], ["proof (prove)\nusing this:\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by simp"], ["proof (state)\nthis:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "have \"both.flow0 s = Dflow x s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. both.flow0 s = Dflow x s", "unfolding both.flow0_def Dflow_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. oneR.flow 0 1\\<^sub>L s = mvar.flow x 0 1\\<^sub>L s", "apply (rule oneR.maximal_existence_flow[where K=\"?T\"])"], ["proof (prove)\ngoal (6 subgoals):\n 1. (mvar.flow x 0 1\\<^sub>L solves_ode\n     (\\<lambda>t. (o\\<^sub>L) (vareq x t)))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)\n 2. mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L\n 3. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 4. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 5. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n 6. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (mvar.flow x 0 1\\<^sub>L solves_ode\n     (\\<lambda>t. (o\\<^sub>L) (vareq x t)))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n     (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                    ({t..0} \\<union> {0..t} \\<union> cball t dt).\n         ball x dx)", "apply (rule solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (mvar.flow x 0 1\\<^sub>L has_vderiv_on\n     (\\<lambda>t. vareq x t o\\<^sub>L mvar.flow x 0 1\\<^sub>L t))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "apply (rule has_vderiv_on_subset[OF solves_odeD(1)[OF mvar.flow_solves_ode[of 0 x id_blinfun]]])"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 \\<in> existence_ivl0 x\n 2. 1\\<^sub>L \\<in> UNIV\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L\n 4. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 x", "using \\<open>x \\<in> X\\<close> \\<open>0 < dx\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> X\n  0 < dx\n\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 x", "by simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. 1\\<^sub>L \\<in> UNIV\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L\n 3. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>L \\<in> UNIV", "by simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> mvar.existence_ivl x 0 1\\<^sub>L", "by (simp add: \\<open>cball t dt \\<subseteq> existence_ivl0 x\\<close> ivl_subset_existence_ivl ivl_subset_existence_ivl' one_exivl tx)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       mvar.flow x 0 1\\<^sub>L ta\n       \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                            ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                 ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. ta_ \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n    mvar.flow x 0 1\\<^sub>L ta_\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "using dx"], ["proof (prove)\nusing this:\n  0 < dx\n  cball x dx \\<subseteq> OX\n\ngoal (1 subgoal):\n 1. ta_ \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n    mvar.flow x 0 1\\<^sub>L ta_\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "by (auto; force)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal (5 subgoals):\n 1. mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L\n 2. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 3. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 4. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n 5. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x 0 1\\<^sub>L 0 = 1\\<^sub>L", "by (simp add: \\<open>x \\<in> X\\<close>)"], ["proof (prove)\ngoal (4 subgoals):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n 4. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by (rule both.J_ivl)"], ["proof (prove)\ngoal (3 subgoals):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n 3. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using both.t0_in_J"], ["proof (prove)\nusing this:\n  0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n 2. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "using \\<open>{t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\\<close>"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 x", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using s"], ["proof (prove)\nusing this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  both.flow0 s = Dflow x s\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "finally"], ["proof (chain)\npicking this:\n  norm (Dflow x s - both.Y s) < e", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (Dflow x s - both.Y s) < e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "."], ["proof (state)\nthis:\n  norm (Dflow x s - both.Y s) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n           twoR.existence_ivl 0 1\\<^sub>L \\<Longrightarrow>\n  norm (Dflow x ?s - both.Y ?s) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"e < dx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e < dx", "using \\<open>dx > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < dx\n\ngoal (1 subgoal):\n 1. e < dx", "by (auto simp: e_def)"], ["proof (state)\nthis:\n  e < dx\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "let ?i = \"{y. infdist y (mvar.flow x 0 id_blinfun ` ?T) \\<le> e}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have 1: \"?i \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 id_blinfun ` ?T. ball x dx)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "have cl: \"closed ?line\" \"?line \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt)) &&&\n    mvar.flow x 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<noteq>\n    {}", "using compact_line"], ["proof (prove)\nusing this:\n  compact\n   (mvar.flow x 0 1\\<^sub>L ` ({t..0} \\<union> {0..t} \\<union> cball t dt))\n\ngoal (1 subgoal):\n 1. closed\n     (mvar.flow x 0 1\\<^sub>L `\n      ({t..0} \\<union> {0..t} \\<union> cball t dt)) &&&\n    mvar.flow x 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<noteq>\n    {}", "by (auto simp: compact_imp_closed)"], ["proof (state)\nthis:\n  closed\n   (mvar.flow x 0 1\\<^sub>L ` ({t..0} \\<union> {0..t} \\<union> cball t dt))\n  mvar.flow x 0 1\\<^sub>L `\n  ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "have \"?i \\<subseteq> (\\<Union>y\\<in>mvar.flow x 0 id_blinfun ` ?T. cball y e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    cball y e)", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       infdist xa\n        (mvar.flow x 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n       \\<le> e \\<Longrightarrow>\n       xa \\<in> (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    cball y e)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       infdist xa\n        (mvar.flow x__ 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n       \\<le> e \\<Longrightarrow>\n       xa \\<in> (\\<Union>y\\<in>mvar.flow x__ 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    cball y e)", "assume H: \"infdist x ?line \\<le> e\""], ["proof (state)\nthis:\n  infdist x\n   (mvar.flow x__ 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt))\n  \\<le> e\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       infdist xa\n        (mvar.flow x__ 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n       \\<le> e \\<Longrightarrow>\n       xa \\<in> (\\<Union>y\\<in>mvar.flow x__ 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    cball y e)", "from infdist_attains_inf[OF cl, of x]"], ["proof (chain)\npicking this:\n  (\\<And>xb.\n      \\<lbrakk>xb \\<in> mvar.flow x__ 0 1\\<^sub>L `\n                        ({t..0} \\<union> {0..t} \\<union> cball t dt);\n       infdist x\n        (mvar.flow x__ 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n       dist x xb\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y where \"y \\<in> ?line\" \"infdist x ?line = dist x y\""], ["proof (prove)\nusing this:\n  (\\<And>xb.\n      \\<lbrakk>xb \\<in> mvar.flow x__ 0 1\\<^sub>L `\n                        ({t..0} \\<union> {0..t} \\<union> cball t dt);\n       infdist x\n        (mvar.flow x__ 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n       dist x xb\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> mvar.flow x__ 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt);\n         infdist x\n          (mvar.flow x__ 0 1\\<^sub>L `\n           ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n         dist x y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y \\<in> mvar.flow x__ 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt)\n  infdist x\n   (mvar.flow x__ 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n  dist x y\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       infdist xa\n        (mvar.flow x__ 0 1\\<^sub>L `\n         ({t..0} \\<union> {0..t} \\<union> cball t dt))\n       \\<le> e \\<Longrightarrow>\n       xa \\<in> (\\<Union>y\\<in>mvar.flow x__ 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    cball y e)", "then"], ["proof (chain)\npicking this:\n  y \\<in> mvar.flow x__ 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt)\n  infdist x\n   (mvar.flow x__ 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n  dist x y", "show \"x \\<in> (\\<Union>x\\<in>?line. cball x e)\""], ["proof (prove)\nusing this:\n  y \\<in> mvar.flow x__ 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt)\n  infdist x\n   (mvar.flow x__ 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n  dist x y\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<Union>x\\<in>mvar.flow x__ 0 1\\<^sub>L `\n                           ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                cball x e)", "using H"], ["proof (prove)\nusing this:\n  y \\<in> mvar.flow x__ 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt)\n  infdist x\n   (mvar.flow x__ 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt)) =\n  dist x y\n  infdist x\n   (mvar.flow x__ 0 1\\<^sub>L `\n    ({t..0} \\<union> {0..t} \\<union> cball t dt))\n  \\<le> e\n\ngoal (1 subgoal):\n 1. x \\<in> (\\<Union>x\\<in>mvar.flow x__ 0 1\\<^sub>L `\n                           ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                cball x e)", "by (auto simp: dist_commute)"], ["proof (state)\nthis:\n  x \\<in> (\\<Union>x\\<in>mvar.flow x__ 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              cball x e)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {y. infdist y\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n  \\<subseteq> (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  cball y e)\n\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "also"], ["proof (state)\nthis:\n  {y. infdist y\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n  \\<subseteq> (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  cball y e)\n\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "have \"\\<dots> \\<subseteq> (\\<Union>x\\<in>?line. ball x dx)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                   ({t..0} \\<union> {0..t} \\<union> cball t dt).\n        cball y e)\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "using \\<open>e < dx\\<close>"], ["proof (prove)\nusing this:\n  e < dx\n\ngoal (1 subgoal):\n 1. (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                   ({t..0} \\<union> {0..t} \\<union> cball t dt).\n        cball y e)\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "by auto"], ["proof (state)\nthis:\n  (\\<Union>y\\<in>mvar.flow x 0 1\\<^sub>L `\n                 ({t..0} \\<union> {0..t} \\<union> cball t dt).\n      cball y e)\n  \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  ball x dx)\n\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "finally"], ["proof (chain)\npicking this:\n  {y. infdist y\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n  \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  ball x dx)", "show ?thesis"], ["proof (prove)\nusing this:\n  {y. infdist y\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n  \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  ball x dx)\n\ngoal (1 subgoal):\n 1. {y. infdist y\n         (mvar.flow x 0 1\\<^sub>L `\n          ({t..0} \\<union> {0..t} \\<union> cball t dt))\n        \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "."], ["proof (state)\nthis:\n  {y. infdist y\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n  \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  ball x dx)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {y. infdist y\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n  \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                             ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                  ball x dx)\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have 2: \"twoR.flow 0 id_blinfun s \\<in> ?i\"\n      if \"s \\<in> ?T\" \"s \\<in> twoR.existence_ivl 0 id_blinfun\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s\n    \\<in> {y. infdist y\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> e}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s\n    \\<in> {y. infdist y\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> e}", "from that"], ["proof (chain)\npicking this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  s \\<in> twoR.existence_ivl 0 1\\<^sub>L", "have sT: \"s \\<in> ?T \\<inter> twoR.existence_ivl 0 id_blinfun\""], ["proof (prove)\nusing this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  s \\<in> twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n            twoR.existence_ivl 0 1\\<^sub>L", "by force"], ["proof (state)\nthis:\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s\n    \\<in> {y. infdist y\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> e}", "from less_e[OF this]"], ["proof (chain)\npicking this:\n  norm (Dflow x s - both.Y s) < e", "have \"dist (twoR.flow 0 id_blinfun s) (mvar.flow x 0 id_blinfun s) \\<le> e\""], ["proof (prove)\nusing this:\n  norm (Dflow x s - both.Y s) < e\n\ngoal (1 subgoal):\n 1. dist (twoR.flow 0 1\\<^sub>L s) (mvar.flow x 0 1\\<^sub>L s) \\<le> e", "unfolding Dflow_def both.Y_def dist_commute dist_norm"], ["proof (prove)\nusing this:\n  norm (mvar.flow x 0 1\\<^sub>L s - twoR.flow 0 1\\<^sub>L s) < e\n\ngoal (1 subgoal):\n 1. norm (mvar.flow x 0 1\\<^sub>L s - twoR.flow 0 1\\<^sub>L s) \\<le> e", "by simp"], ["proof (state)\nthis:\n  dist (twoR.flow 0 1\\<^sub>L s) (mvar.flow x 0 1\\<^sub>L s) \\<le> e\n\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s\n    \\<in> {y. infdist y\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> e}", "then"], ["proof (chain)\npicking this:\n  dist (twoR.flow 0 1\\<^sub>L s) (mvar.flow x 0 1\\<^sub>L s) \\<le> e", "show ?thesis"], ["proof (prove)\nusing this:\n  dist (twoR.flow 0 1\\<^sub>L s) (mvar.flow x 0 1\\<^sub>L s) \\<le> e\n\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s\n    \\<in> {y. infdist y\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> e}", "using sT"], ["proof (prove)\nusing this:\n  dist (twoR.flow 0 1\\<^sub>L s) (mvar.flow x 0 1\\<^sub>L s) \\<le> e\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s\n    \\<in> {y. infdist y\n               (mvar.flow x 0 1\\<^sub>L `\n                ({t..0} \\<union> {0..t} \\<union> cball t dt))\n              \\<le> e}", "by (force intro: infdist_le2)"], ["proof (state)\nthis:\n  twoR.flow 0 1\\<^sub>L s\n  \\<in> {y. infdist y\n             (mvar.flow x 0 1\\<^sub>L `\n              ({t..0} \\<union> {0..t} \\<union> cball t dt))\n            \\<le> e}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n   ?s \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n  \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ?s\n                    \\<in> {y. infdist y\n                               (mvar.flow x 0 1\\<^sub>L `\n                                ({t..0} \\<union> {0..t} \\<union>\n                                 cball t dt))\n                              \\<le> e}\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have T_subset: \"?T \\<subseteq> twoR.existence_ivl 0 id_blinfun\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L", "apply (rule twoR.subset_mem_compact_implies_subset_existence_interval[\n          where K=\"{x. infdist x ?line \\<le> e}\"])"], ["proof (prove)\ngoal (7 subgoals):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 4. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n 5. \\<And>ta.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        ta \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n       \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ta\n                         \\<in> {xa.\n                                infdist xa\n                                 (mvar.flow x 0 1\\<^sub>L `\n                                  ({t..0} \\<union> {0..t} \\<union>\n                                   cball t dt))\n                                \\<le> e}\n 6. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n 7. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using \\<open>0 < dt\\<close>"], ["proof (prove)\nusing this:\n  0 < dt\n\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by force"], ["proof (prove)\ngoal (6 subgoals):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 3. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n 4. \\<And>ta.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        ta \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n       \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ta\n                         \\<in> {xa.\n                                infdist xa\n                                 (mvar.flow x 0 1\\<^sub>L `\n                                  ({t..0} \\<union> {0..t} \\<union>\n                                   cball t dt))\n                                \\<le> e}\n 5. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n 6. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by (rule both.J_ivl)"], ["proof (prove)\ngoal (5 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 2. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n 3. \\<And>ta.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        ta \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n       \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ta\n                         \\<in> {xa.\n                                infdist xa\n                                 (mvar.flow x 0 1\\<^sub>L `\n                                  ({t..0} \\<union> {0..t} \\<union>\n                                   cball t dt))\n                                \\<le> e}\n 4. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n 5. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y", "using \\<open>y \\<in> cball x dx\\<close> ex_ivlI"], ["proof (prove)\nusing this:\n  y \\<in> cball x dx\n  ?y \\<in> cball x dx \\<Longrightarrow>\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 ?y\n\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y", "by blast"], ["proof (prove)\ngoal (4 subgoals):\n 1. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n 2. \\<And>ta.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        ta \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n       \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ta\n                         \\<in> {xa.\n                                infdist xa\n                                 (mvar.flow x 0 1\\<^sub>L `\n                                  ({t..0} \\<union> {0..t} \\<union>\n                                   cball t dt))\n                                \\<le> e}\n 3. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n 4. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "using both.F_iv_defined(2)"], ["proof (prove)\nusing this:\n  1\\<^sub>L\n  \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n\ngoal (1 subgoal):\n 1. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "by blast"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>ta.\n       \\<lbrakk>ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        ta \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n       \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ta\n                         \\<in> {xa.\n                                infdist xa\n                                 (mvar.flow x 0 1\\<^sub>L `\n                                  ({t..0} \\<union> {0..t} \\<union>\n                                   cball t dt))\n                                \\<le> e}\n 2. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n 3. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ta_ \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n     ta_ \\<in> twoR.existence_ivl 0 1\\<^sub>L\\<rbrakk>\n    \\<Longrightarrow> twoR.flow 0 1\\<^sub>L ta_\n                      \\<in> {xa.\n                             infdist xa\n                              (mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt))\n                             \\<le> e}", "by (rule 2)"], ["proof (prove)\ngoal (2 subgoals):\n 1. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}\n 2. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}", "using \\<open>dt > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < dt\n\ngoal (1 subgoal):\n 1. compact\n     {xa.\n      infdist xa\n       (mvar.flow x 0 1\\<^sub>L `\n        ({t..0} \\<union> {0..t} \\<union> cball t dt))\n      \\<le> e}", "by (intro compact_infdist_le) (auto intro!: compact_line \\<open>0 < e\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {xa.\n     infdist xa\n      (mvar.flow x 0 1\\<^sub>L `\n       ({t..0} \\<union> {0..t} \\<union> cball t dt))\n     \\<le> e}\n    \\<subseteq> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                               ({t..0} \\<union> {0..t} \\<union> cball t dt).\n                    ball x dx)", "by (rule 1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "also"], ["proof (state)\nthis:\n  {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"twoR.existence_ivl 0 id_blinfun \\<subseteq> existence_ivl0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. twoR.existence_ivl 0 1\\<^sub>L \\<subseteq> existence_ivl0 y", "by (rule twoR.existence_ivl_subset)"], ["proof (state)\nthis:\n  twoR.existence_ivl 0 1\\<^sub>L \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "finally"], ["proof (chain)\npicking this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y", "have \"?T \\<subseteq> existence_ivl0 y\""], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y", "."], ["proof (state)\nthis:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"norm (Dflow x s - Dflow y s) < e\" if s: \"s \\<in> ?T\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "from s"], ["proof (chain)\npicking this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "have \"s \\<in> ?T \\<inter> twoR.existence_ivl 0 id_blinfun\""], ["proof (prove)\nusing this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n            twoR.existence_ivl 0 1\\<^sub>L", "using T_subset"], ["proof (prove)\nusing this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n            twoR.existence_ivl 0 1\\<^sub>L", "by force"], ["proof (state)\nthis:\n  s \\<in> ({t..0} \\<union> {0..t} \\<union> cball t dt) \\<inter>\n          twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "from less_e[OF this]"], ["proof (chain)\npicking this:\n  norm (Dflow x s - both.Y s) < e", "have \"norm (Dflow x s - both.Y s) < e\""], ["proof (prove)\nusing this:\n  norm (Dflow x s - both.Y s) < e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - both.Y s) < e", "."], ["proof (state)\nthis:\n  norm (Dflow x s - both.Y s) < e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "also"], ["proof (state)\nthis:\n  norm (Dflow x s - both.Y s) < e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "have \"mvar.flow y 0 id_blinfun s = twoR.flow 0 id_blinfun s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow y 0 1\\<^sub>L s = twoR.flow 0 1\\<^sub>L s", "apply (rule mvar.maximal_existence_flow[where K=\"?T\"])"], ["proof (prove)\ngoal (6 subgoals):\n 1. (twoR.flow 0 1\\<^sub>L solves_ode (\\<lambda>t. (o\\<^sub>L) (vareq y t)))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt) UNIV\n 2. twoR.flow 0 1\\<^sub>L 0 = 1\\<^sub>L\n 3. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 4. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 5. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 6. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. (twoR.flow 0 1\\<^sub>L solves_ode (\\<lambda>t. (o\\<^sub>L) (vareq y t)))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt) UNIV", "apply (rule solves_odeI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (twoR.flow 0 1\\<^sub>L has_vderiv_on\n     (\\<lambda>t. vareq y t o\\<^sub>L twoR.flow 0 1\\<^sub>L t))\n     ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       twoR.flow 0 1\\<^sub>L ta \\<in> UNIV", "apply (rule has_vderiv_on_subset[OF solves_odeD(1)[OF twoR.flow_solves_ode[of 0 id_blinfun]]])"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 \\<in> existence_ivl0 y\n 2. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n 4. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       twoR.flow 0 1\\<^sub>L ta \\<in> UNIV", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 y", "using \\<open>y \\<in> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 y", "by simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n 3. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       twoR.flow 0 1\\<^sub>L ta \\<in> UNIV", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "using both.F_iv_defined(2)"], ["proof (prove)\nusing this:\n  1\\<^sub>L\n  \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n\ngoal (1 subgoal):\n 1. 1\\<^sub>L\n    \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                         ({t..0} \\<union> {0..t} \\<union> cball t dt).\n              ball x dx)", "by blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n 2. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       twoR.flow 0 1\\<^sub>L ta \\<in> UNIV", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L", "using T_subset"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L\n\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt\n    \\<subseteq> twoR.existence_ivl 0 1\\<^sub>L", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       ta \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n       twoR.flow 0 1\\<^sub>L ta \\<in> UNIV", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. ta_ \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n    twoR.flow 0 1\\<^sub>L ta_ \\<in> UNIV", "by simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (prove)\ngoal (5 subgoals):\n 1. twoR.flow 0 1\\<^sub>L 0 = 1\\<^sub>L\n 2. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 3. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 4. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 5. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L 0 = 1\\<^sub>L", "using \\<open>y \\<in> X\\<close> auto_ll_on_open.existence_ivl_zero auto_ll_on_open_axioms both.F_iv_defined(2) twoR.flow_initial_time"], ["proof (prove)\nusing this:\n  y \\<in> X\n  \\<lbrakk>auto_ll_on_open ?f ?X; ?x0.0 \\<in> ?X\\<rbrakk>\n  \\<Longrightarrow> 0 \\<in> auto_ll_on_open.existence_ivl0 ?f ?X ?x0.0\n  auto_ll_on_open f X\n  1\\<^sub>L\n  \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                       ({t..0} \\<union> {0..t} \\<union> cball t dt).\n            ball x dx)\n  \\<lbrakk>?t0.0 \\<in> existence_ivl0 y;\n   ?x0.0\n   \\<in> (\\<Union>x\\<in>mvar.flow x 0 1\\<^sub>L `\n                        ({t..0} \\<union> {0..t} \\<union> cball t dt).\n             ball x dx)\\<rbrakk>\n  \\<Longrightarrow> twoR.flow ?t0.0 ?x0.0 ?t0.0 = ?x0.0\n\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L 0 = 1\\<^sub>L", "by blast"], ["proof (prove)\ngoal (4 subgoals):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)\n 2. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 3. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 4. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. is_interval ({t..0} \\<union> {0..t} \\<union> cball t dt)", "by (rule both.J_ivl)"], ["proof (prove)\ngoal (3 subgoals):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n 2. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 3. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using both.t0_in_J"], ["proof (prove)\nusing this:\n  0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. 0 \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n 2. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y", "using \\<open>{t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\\<close>"], ["proof (prove)\nusing this:\n  {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. {t..0} \\<union> {0..t} \\<union> cball t dt \\<subseteq> existence_ivl0 y", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using s"], ["proof (prove)\nusing this:\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  mvar.flow y 0 1\\<^sub>L s = twoR.flow 0 1\\<^sub>L s\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "then"], ["proof (chain)\npicking this:\n  mvar.flow y 0 1\\<^sub>L s = twoR.flow 0 1\\<^sub>L s", "have \"both.Y s = Dflow y s\""], ["proof (prove)\nusing this:\n  mvar.flow y 0 1\\<^sub>L s = twoR.flow 0 1\\<^sub>L s\n\ngoal (1 subgoal):\n 1. both.Y s = Dflow y s", "unfolding both.Y_def Dflow_def"], ["proof (prove)\nusing this:\n  mvar.flow y 0 1\\<^sub>L s = twoR.flow 0 1\\<^sub>L s\n\ngoal (1 subgoal):\n 1. twoR.flow 0 1\\<^sub>L s = mvar.flow y 0 1\\<^sub>L s", "by simp"], ["proof (state)\nthis:\n  both.Y s = Dflow y s\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "finally"], ["proof (chain)\npicking this:\n  norm (Dflow x s - Dflow y s) < e", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (Dflow x s - Dflow y s) < e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "."], ["proof (state)\nthis:\n  norm (Dflow x s - Dflow y s) < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ?s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt \\<Longrightarrow>\n  norm (Dflow x ?s - Dflow y ?s) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "}"], ["proof (state)\nthis:\n  \\<lbrakk>dist x ?y3 < d'; ?y3 \\<in> cball x dx;\n   ?s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\\<rbrakk>\n  \\<Longrightarrow> norm (Dflow x ?s - Dflow ?y3 ?s) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "note cont_data = this"], ["proof (state)\nthis:\n  \\<lbrakk>dist x ?y3 < d'; ?y3 \\<in> cball x dx;\n   ?s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\\<rbrakk>\n  \\<Longrightarrow> norm (Dflow x ?s - Dflow ?y3 ?s) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"\\<forall>\\<^sub>F (y, s) in at (x, t) within ?S. dist x y < d'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n       dist x y < d'", "unfolding at_within_open[OF \\<open>(x, t) \\<in> ?S\\<close> open_state_space] UNIV_Times_UNIV[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       dist x y < d'", "using \\<open>d' > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < d'\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       dist x y < d'", "by (intro eventually_at_Pair_within_TimesI1)\n      (auto simp: eventually_at less_imp_le dist_commute)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist x y < d'\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist x y < d'\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"\\<forall>\\<^sub>F (y, s) in at (x, t) within ?S. y \\<in> cball x dx\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n       y \\<in> cball x dx", "unfolding at_within_open[OF \\<open>(x, t) \\<in> ?S\\<close> open_state_space] UNIV_Times_UNIV[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       y \\<in> cball x dx", "using \\<open>dx > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < dx\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       y \\<in> cball x dx", "by (intro eventually_at_Pair_within_TimesI1)\n      (auto simp: eventually_at less_imp_le dist_commute)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     y \\<in> cball x dx\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     y \\<in> cball x dx\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"\\<forall>\\<^sub>F (y, s) in at (x, t) within ?S. s \\<in> ?T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n       s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "unfolding at_within_open[OF \\<open>(x, t) \\<in> ?S\\<close> open_state_space] UNIV_Times_UNIV[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "using \\<open>dt > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < dt\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt", "by (intro eventually_at_Pair_within_TimesI2)\n      (auto simp: eventually_at less_imp_le dist_commute)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"0 \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<in> existence_ivl0 x", "by (simp add: \\<open>x \\<in> X\\<close>)"], ["proof (state)\nthis:\n  0 \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "have \"\\<forall>\\<^sub>F y in at t within existence_ivl0 x. dist (mvar.flow x 0 id_blinfun y) (mvar.flow x 0 id_blinfun t) < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n       dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e", "using mvar.flow_continuous_on[of x 0 id_blinfun]"], ["proof (prove)\nusing this:\n  continuous_on (mvar.existence_ivl x 0 1\\<^sub>L) (mvar.flow x 0 1\\<^sub>L)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n       dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e", "using \\<open>0 < e\\<close> tx"], ["proof (prove)\nusing this:\n  continuous_on (mvar.existence_ivl x 0 1\\<^sub>L) (mvar.flow x 0 1\\<^sub>L)\n  0 < e\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n       dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e", "by (auto simp add: continuous_on one_exivl dest!: tendstoD)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n     dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n     dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e", "have \"\\<forall>\\<^sub>F (y, s) in at (x, t) within ?S. dist (Dflow x s) (Dflow x t) < e\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n     dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n       dist (Dflow x s) (Dflow x t) < e", "using \\<open>0 < e\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n     dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n       dist (Dflow x s) (Dflow x t) < e", "unfolding at_within_open[OF \\<open>(x, t) \\<in> ?S\\<close> open_state_space] UNIV_Times_UNIV[symmetric] Dflow_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at t within existence_ivl0 x.\n     dist (mvar.flow x 0 1\\<^sub>L y) (mvar.flow x 0 1\\<^sub>L t) < e\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within UNIV \\<times> UNIV.\n       dist (mvar.flow x 0 1\\<^sub>L s) (mvar.flow x 0 1\\<^sub>L t) < e", "by (intro eventually_at_Pair_within_TimesI2)\n      (auto simp: at_within_open[OF tx open_existence_ivl])"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow x s) (Dflow x t) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist x y < d'\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     y \\<in> cball x dx\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow x s) (Dflow x t) < e", "have \"\\<forall>\\<^sub>F (y, s) in at (x, t) within ?S. dist (Dflow y s) (Dflow x t) < e'\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist x y < d'\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     y \\<in> cball x dx\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow x s) (Dflow x t) < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n       dist (Dflow y s) (Dflow x t) < e'", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>case xa of (y, s) \\<Rightarrow> dist x y < d';\n        case xa of (y, s) \\<Rightarrow> y \\<in> cball x dx;\n        case xa of\n        (y, s) \\<Rightarrow>\n          s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        case xa of\n        (y, s) \\<Rightarrow> dist (Dflow x s) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> case xa of\n                         (y, s) \\<Rightarrow>\n                           dist (Dflow y s) (Dflow x t) < e'", "proof (safe del: UnE, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "case (1 y s)"], ["proof (state)\nthis:\n  dist x y < d'\n  y \\<in> cball x dx\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  dist (Dflow x s) (Dflow x t) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "have \"dist (Dflow y s) (Dflow x t) \\<le> dist (Dflow y s) (Dflow x s) + dist (Dflow x s) (Dflow x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (Dflow y s) (Dflow x t)\n    \\<le> dist (Dflow y s) (Dflow x s) + dist (Dflow x s) (Dflow x t)", "by (rule dist_triangle)"], ["proof (state)\nthis:\n  dist (Dflow y s) (Dflow x t)\n  \\<le> dist (Dflow y s) (Dflow x s) + dist (Dflow x s) (Dflow x t)\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "also"], ["proof (state)\nthis:\n  dist (Dflow y s) (Dflow x t)\n  \\<le> dist (Dflow y s) (Dflow x s) + dist (Dflow x s) (Dflow x t)\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "have \"dist (Dflow x s) (Dflow x t) < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (Dflow x s) (Dflow x t) < e", "by (rule 1)"], ["proof (state)\nthis:\n  dist (Dflow x s) (Dflow x t) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "also"], ["proof (state)\nthis:\n  dist (Dflow x s) (Dflow x t) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "have \"dist (Dflow y s) (Dflow x s) < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (Dflow y s) (Dflow x s) < e", "unfolding dist_norm norm_minus_commute"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "using 1"], ["proof (prove)\nusing this:\n  dist x y < d'\n  y \\<in> cball x dx\n  s \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt\n  dist (Dflow x s) (Dflow x t) < e\n\ngoal (1 subgoal):\n 1. norm (Dflow x s - Dflow y s) < e", "by (intro cont_data)"], ["proof (state)\nthis:\n  dist (Dflow y s) (Dflow x s) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "also"], ["proof (state)\nthis:\n  dist (Dflow y s) (Dflow x s) < e\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "have \"e + e \\<le> e'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e + e \\<le> e'", "by (simp add: e_def)"], ["proof (state)\nthis:\n  e + e \\<le> e'\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>dist x a < d'; a \\<in> cball x dx;\n        b \\<in> {t..0} \\<union> {0..t} \\<union> cball t dt;\n        dist (Dflow x b) (Dflow x t) < e\\<rbrakk>\n       \\<Longrightarrow> dist (Dflow a b) (Dflow x t) < e'", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa ya.\n              xa < ya \\<Longrightarrow>\n              dist (Dflow y s) (Dflow x s) + xa\n              < dist (Dflow y s) (Dflow x s) + ya;\n   \\<And>x y. x < y \\<Longrightarrow> x + e < y + e\\<rbrakk>\n  \\<Longrightarrow> dist (Dflow y s) (Dflow x t) < e'", "show \"dist (Dflow y s) (Dflow x t) < e'\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa ya.\n              xa < ya \\<Longrightarrow>\n              dist (Dflow y s) (Dflow x s) + xa\n              < dist (Dflow y s) (Dflow x s) + ya;\n   \\<And>x y. x < y \\<Longrightarrow> x + e < y + e\\<rbrakk>\n  \\<Longrightarrow> dist (Dflow y s) (Dflow x t) < e'\n\ngoal (1 subgoal):\n 1. dist (Dflow y s) (Dflow x t) < e'", "by arith"], ["proof (state)\nthis:\n  dist (Dflow y s) (Dflow x t) < e'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow y s) (Dflow x t) < e'\n\ngoal (1 subgoal):\n 1. \\<And>a b e.\n       \\<lbrakk>0 < e; a \\<in> X; b \\<in> existence_ivl0 a\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in at (a, b)\n                            within Sigma X existence_ivl0.\n                            dist (Dflow (fst x) (snd x))\n                             (Dflow (fst (a, b)) (snd (a, b)))\n                            < e", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow y s) (Dflow x t) < e'", "show \"\\<forall>\\<^sub>F ys in at (x, t) within ?S. dist (Dflow (fst ys) (snd ys)) (Dflow (fst (x, t)) (snd (x, t))) < e'\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F (y, s) in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow y s) (Dflow x t) < e'\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F ys in at (x, t) within Sigma X existence_ivl0.\n       dist (Dflow (fst ys) (snd ys)) (Dflow (fst (x, t)) (snd (x, t))) < e'", "by (simp add: split_beta')"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F ys in at (x, t) within Sigma X existence_ivl0.\n     dist (Dflow (fst ys) (snd ys)) (Dflow (fst (x, t)) (snd (x, t))) < e'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma W_continuous_on_comp[continuous_intros]:\n  assumes h: \"continuous_on S h\" and g: \"continuous_on S g\"\n  shows \"(\\<And>s. s \\<in> S \\<Longrightarrow> h s \\<in> X) \\<Longrightarrow> (\\<And>s. s \\<in> S \\<Longrightarrow> g s \\<in> existence_ivl0 (h s)) \\<Longrightarrow>\n    continuous_on S (\\<lambda>s. Dflow (h s) (g s))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s. s \\<in> S \\<Longrightarrow> h s \\<in> X;\n     \\<And>s.\n        s \\<in> S \\<Longrightarrow> g s \\<in> existence_ivl0 (h s)\\<rbrakk>\n    \\<Longrightarrow> continuous_on S (\\<lambda>s. Dflow (h s) (g s))", "using continuous_on_compose[OF continuous_on_Pair[OF h g] continuous_on_subset[OF W_continuous_on]]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. (h x, g x)) ` S\n  \\<subseteq> Sigma X existence_ivl0 \\<Longrightarrow>\n  continuous_on S\n   ((\\<lambda>(x, y). Dflow x y) \\<circ> (\\<lambda>x. (h x, g x)))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>s. s \\<in> S \\<Longrightarrow> h s \\<in> X;\n     \\<And>s.\n        s \\<in> S \\<Longrightarrow> g s \\<in> existence_ivl0 (h s)\\<rbrakk>\n    \\<Longrightarrow> continuous_on S (\\<lambda>s. Dflow (h s) (g s))", "by auto"], ["", "lemma f_flow_continuous_on: \"continuous_on (Sigma X existence_ivl0) (\\<lambda>(x0, t). f (flow0 x0 t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (Sigma X existence_ivl0)\n     (\\<lambda>(x0, t). f (flow0 x0 t))", "using flow_continuous_on_state_space"], ["proof (prove)\nusing this:\n  continuous_on (Sigma X existence_ivl0) (\\<lambda>(x, y). flow0 x y)\n\ngoal (1 subgoal):\n 1. continuous_on (Sigma X existence_ivl0)\n     (\\<lambda>(x0, t). f (flow0 x0 t))", "by (auto intro!: continuous_on_f flow_in_domain simp: split_beta')"], ["", "lemma\n  flow_has_space_derivative:\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"((\\<lambda>x0. flow0 x0 t) has_derivative Dflow x0 t) (at x0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x0. flow0 x0 t) has_derivative blinfun_apply (Dflow x0 t))\n     (at x0)", "by (rule flow_dx_derivative_blinfun[THEN has_derivative_eq_rhs])\n    (simp_all add: var_eq_mvar assms blinfun.blinfun_apply_inverse Dflow_def vector_Dflow_def\n      mem_existence_ivl_iv_defined[OF assms])"], ["", "lemma\n  flow_has_flowderiv:\n  assumes \"t \\<in> existence_ivl0 x0\"\n  shows \"((\\<lambda>(x0, t). flow0 x0 t) has_derivative flowderiv x0 t) (at (x0, t) within S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "have Sigma: \"(x0, t) \\<in> Sigma X existence_ivl0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x0, t) \\<in> Sigma X existence_ivl0", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (x0, t) \\<in> Sigma X existence_ivl0", "by auto"], ["proof (state)\nthis:\n  (x0, t) \\<in> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "from open_state_space assms"], ["proof (chain)\npicking this:\n  open (Sigma X existence_ivl0)\n  t \\<in> existence_ivl0 x0", "obtain e' where e': \"e' > 0\" \"ball (x0, t) e' \\<subseteq> Sigma X existence_ivl0\""], ["proof (prove)\nusing this:\n  open (Sigma X existence_ivl0)\n  t \\<in> existence_ivl0 x0\n\ngoal (1 subgoal):\n 1. (\\<And>e'.\n        \\<lbrakk>0 < e';\n         ball (x0, t) e' \\<subseteq> Sigma X existence_ivl0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: open_contains_ball)"], ["proof (state)\nthis:\n  0 < e'\n  ball (x0, t) e' \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "define e where \"e = e' / sqrt 2\""], ["proof (state)\nthis:\n  e = e' / sqrt 2\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "have \"0 < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e", "using e'"], ["proof (prove)\nusing this:\n  0 < e'\n  ball (x0, t) e' \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. 0 < e", "by (auto simp: e_def)"], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "have \"ball x0 e \\<times> ball t e \\<subseteq> ball (x0, t) e'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x0 e \\<times> ball t e \\<subseteq> ball (x0, t) e'", "by (auto simp: dist_prod_def real_sqrt_sum_squares_less e_def)"], ["proof (state)\nthis:\n  ball x0 e \\<times> ball t e \\<subseteq> ball (x0, t) e'\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "also"], ["proof (state)\nthis:\n  ball x0 e \\<times> ball t e \\<subseteq> ball (x0, t) e'\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "note e'(2)"], ["proof (state)\nthis:\n  ball (x0, t) e' \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "finally"], ["proof (chain)\npicking this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0", "have subs: \"ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\""], ["proof (prove)\nusing this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0", "."], ["proof (state)\nthis:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "have d1: \"((\\<lambda>x0. flow0 x0 s) has_derivative blinfun_apply (Dflow y s)) (at y within ball x0 e)\"\n    if \"y \\<in> ball x0 e\" \"s \\<in> ball t e\" for y s"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x0. flow0 x0 s) has_derivative blinfun_apply (Dflow y s))\n     (at y within ball x0 e)", "using subs that"], ["proof (prove)\nusing this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n  y \\<in> ball x0 e\n  s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x0. flow0 x0 s) has_derivative blinfun_apply (Dflow y s))\n     (at y within ball x0 e)", "by (subst at_within_open; force intro!: flow_has_space_derivative)"], ["proof (state)\nthis:\n  \\<lbrakk>?y \\<in> ball x0 e; ?s \\<in> ball t e\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x0. flow0 x0 ?s) has_derivative\n                     blinfun_apply (Dflow ?y ?s))\n                     (at ?y within ball x0 e)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "have d2: \"(flow0 y has_derivative blinfun_apply (blinfun_scaleR_left (f (flow0 y s)))) (at s within ball t e)\"\n    if \"y \\<in> ball x0 e\" \"s \\<in> ball t e\" for y s"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow0 y has_derivative\n     blinfun_apply (blinfun_scaleR_left (f (flow0 y s))))\n     (at s within ball t e)", "using subs that"], ["proof (prove)\nusing this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n  y \\<in> ball x0 e\n  s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. (flow0 y has_derivative\n     blinfun_apply (blinfun_scaleR_left (f (flow0 y s))))\n     (at s within ball t e)", "unfolding has_vector_derivative_eq_has_derivative_blinfun[symmetric]"], ["proof (prove)\nusing this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n  y \\<in> ball x0 e\n  s \\<in> ball t e\n\ngoal (1 subgoal):\n 1. (flow0 y has_vector_derivative f (flow0 y s)) (at s within ball t e)", "by (subst at_within_open; force intro!: flow_has_vector_derivative)"], ["proof (state)\nthis:\n  \\<lbrakk>?y \\<in> ball x0 e; ?s \\<in> ball t e\\<rbrakk>\n  \\<Longrightarrow> (flow0 ?y has_derivative\n                     blinfun_apply (blinfun_scaleR_left (f (flow0 ?y ?s))))\n                     (at ?s within ball t e)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "have \"((\\<lambda>(x0, t). flow0 x0 t) has_derivative flowderiv x0 t) (at (x0, t) within ball x0 e \\<times> ball t e)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within ball x0 e \\<times> ball t e)", "using subs"], ["proof (prove)\nusing this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within ball x0 e \\<times> ball t e)", "unfolding UNIV_Times_UNIV[symmetric]"], ["proof (prove)\nusing this:\n  ball x0 e \\<times> ball t e \\<subseteq> Sigma X existence_ivl0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within ball x0 e \\<times> ball t e)", "by (intro has_derivative_partialsI[OF d1 d2, THEN has_derivative_eq_rhs])\n       (auto intro!: \\<open>0 < e\\<close> continuous_intros flow_in_domain\n          continuous_on_imp_continuous_within[where s=\"Sigma X existence_ivl0\"]\n          assms\n        simp: flowderiv_def split_beta' flow0_defined assms mem_ball)"], ["proof (state)\nthis:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within ball x0 e \\<times> ball t e)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within ball x0 e \\<times> ball t e)", "have \"((\\<lambda>(x0, t). flow0 x0 t) has_derivative flowderiv x0 t) (at (x0, t) within Sigma X existence_ivl0)\""], ["proof (prove)\nusing this:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within ball x0 e \\<times> ball t e)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within Sigma X existence_ivl0)", "by (auto simp: at_within_open[OF _ open_state_space] at_within_open[OF _ open_Times] assms \\<open>0 < e\\<close>\n        mem_existence_ivl_iv_defined[OF assms])"], ["proof (state)\nthis:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within Sigma X existence_ivl0)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within Sigma X existence_ivl0)", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within Sigma X existence_ivl0)\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "unfolding at_within_open[OF Sigma open_state_space]"], ["proof (prove)\nusing this:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t))\n\ngoal (1 subgoal):\n 1. ((\\<lambda>(x, y). flow0 x y) has_derivative\n     blinfun_apply (flowderiv x0 t))\n     (at (x0, t) within S)", "by (rule has_derivative_at_withinI)"], ["proof (state)\nthis:\n  ((\\<lambda>(x, y). flow0 x y) has_derivative\n   blinfun_apply (flowderiv x0 t))\n   (at (x0, t) within S)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow0_comp_has_derivative:\n  assumes h: \"h s \\<in> existence_ivl0 (g s)\"\n  assumes [derivative_intros]: \"(g has_derivative g') (at s within S)\"\n  assumes [derivative_intros]: \"(h has_derivative h') (at s within S)\"\n  shows \"((\\<lambda>x. flow0 (g x) (h x)) has_derivative (\\<lambda>x. blinfun_apply (flowderiv (g s) (h s)) (g' x, h' x)))\n     (at s within S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. flow0 (g x) (h x)) has_derivative\n     (\\<lambda>x. blinfun_apply (flowderiv (g s) (h s)) (g' x, h' x)))\n     (at s within S)", "by (rule has_derivative_compose[where f=\"\\<lambda>x. (g x, h x)\" and s=S,\n        OF _ flow_has_flowderiv[OF h], simplified])\n    (auto intro!: derivative_eq_intros)"], ["", "lemma flowderiv_continuous_on: \"continuous_on (Sigma X existence_ivl0) (\\<lambda>(x0, t). flowderiv x0 t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (Sigma X existence_ivl0) (\\<lambda>(x, y). flowderiv x y)", "unfolding flowderiv_def split_beta'"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (Sigma X existence_ivl0)\n     (\\<lambda>x.\n         comp12 (Dflow (fst x) (snd x))\n          (blinfun_scaleR_left (f (flow0 (fst x) (snd x)))))", "by (subst blinfun_of_matrix_works[where f=\"comp12 (Dflow (fst x) (snd x))\n            (blinfun_scaleR_left (f (flow0 (fst x) (snd x))))\" for x, symmetric])\n    (auto intro!: continuous_intros flow_in_domain)"], ["", "lemma flowderiv_continuous_on_comp[continuous_intros]:\n  assumes \"continuous_on S x\"\n  assumes \"continuous_on S t\"\n  assumes \"\\<And>s. s \\<in> S \\<Longrightarrow> x s \\<in> X\" \"\\<And>s. s \\<in> S \\<Longrightarrow> t s \\<in> existence_ivl0 (x s)\"\n  shows \"continuous_on S (\\<lambda>xa. flowderiv (x xa) (t xa))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on S (\\<lambda>xa. flowderiv (x xa) (t xa))", "by (rule continuous_on_compose2[OF flowderiv_continuous_on, where f=\"\\<lambda>s. (x s, t s)\",\n        unfolded split_beta' fst_conv snd_conv])\n    (auto intro!: continuous_intros assms)"], ["", "lemmas [intro] = flow_in_domain"], ["", "lemma vareq_trans: \"t0 \\<in> existence_ivl0 x0 \\<Longrightarrow> t \\<in> existence_ivl0 (flow0 x0 t0) \\<Longrightarrow>\n  vareq (flow0 x0 t0) t = vareq x0 (t0 + t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t0 \\<in> existence_ivl0 x0;\n     t \\<in> existence_ivl0 (flow0 x0 t0)\\<rbrakk>\n    \\<Longrightarrow> vareq (flow0 x0 t0) t = vareq x0 (t0 + t)", "by (auto simp: vareq_def flow_trans)"], ["", "lemma diff_existence_ivl_trans:\n  \"t0 \\<in> existence_ivl0 x0 \\<Longrightarrow> t \\<in> existence_ivl0 x0 \\<Longrightarrow> t - t0 \\<in> existence_ivl0 (flow0 x0 t0)\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t0 \\<in> existence_ivl0 x0; t \\<in> existence_ivl0 x0\\<rbrakk>\n    \\<Longrightarrow> t - t0 \\<in> existence_ivl0 (flow0 x0 t0)", "by (metis (no_types, hide_lams) add.left_neutral diff_add_eq\n      local.existence_ivl_reverse local.existence_ivl_trans local.flows_reverse)"], ["", "lemma has_vderiv_on_blinfun_compose_right[derivative_intros]:\n  assumes \"(g has_vderiv_on g') T\"\n  assumes \"\\<And>x. x \\<in> T \\<Longrightarrow> gd' x = g' x o\\<^sub>L d\"\n  shows \"((\\<lambda>x. g x o\\<^sub>L d) has_vderiv_on gd') T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. g x o\\<^sub>L d) has_vderiv_on gd') T", "using assms"], ["proof (prove)\nusing this:\n  (g has_vderiv_on g') T\n  ?x \\<in> T \\<Longrightarrow> gd' ?x = g' ?x o\\<^sub>L d\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. g x o\\<^sub>L d) has_vderiv_on gd') T", "by (auto simp: has_vderiv_on_def has_vector_derivative_def blinfun_ext blinfun.bilinear_simps\n      intro!: derivative_eq_intros ext)"], ["", "lemma has_vderiv_on_blinfun_compose_left[derivative_intros]:\n  assumes \"(g has_vderiv_on g') T\"\n  assumes \"\\<And>x. x \\<in> T \\<Longrightarrow> gd' x = d o\\<^sub>L g' x\"\n  shows \"((\\<lambda>x. d o\\<^sub>L g x) has_vderiv_on gd') T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. d o\\<^sub>L g x) has_vderiv_on gd') T", "using assms"], ["proof (prove)\nusing this:\n  (g has_vderiv_on g') T\n  ?x \\<in> T \\<Longrightarrow> gd' ?x = d o\\<^sub>L g' ?x\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. d o\\<^sub>L g x) has_vderiv_on gd') T", "by (auto simp: has_vderiv_on_def has_vector_derivative_def blinfun_ext blinfun.bilinear_simps\n      intro!: derivative_eq_intros ext)"], ["", "lemma mvar_flow_shift:\n  assumes \"t0 \\<in> existence_ivl0 x0\" \"t1 \\<in> existence_ivl0 x0\"\n  shows \"mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "have \"mvar.flow x0 t0 d t1 = mvar.flow x0 t0 d (t0 + (t1 - t0))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = mvar.flow x0 t0 d (t0 + (t1 - t0))", "by simp"], ["proof (state)\nthis:\n  mvar.flow x0 t0 d t1 = mvar.flow x0 t0 d (t0 + (t1 - t0))\n\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "also"], ["proof (state)\nthis:\n  mvar.flow x0 t0 d t1 = mvar.flow x0 t0 d (t0 + (t1 - t0))\n\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "have \"\\<dots> = mvar.flow x0 t0 (mvar.flow x0 t0 d t0) t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d (t0 + (t1 - t0)) =\n    mvar.flow x0 t0 (mvar.flow x0 t0 d t0) t1", "by (subst mvar.flow_trans) (auto simp add: assms)"], ["proof (state)\nthis:\n  mvar.flow x0 t0 d (t0 + (t1 - t0)) =\n  mvar.flow x0 t0 (mvar.flow x0 t0 d t0) t1\n\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "also"], ["proof (state)\nthis:\n  mvar.flow x0 t0 d (t0 + (t1 - t0)) =\n  mvar.flow x0 t0 (mvar.flow x0 t0 d t0) t1\n\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "have \"\\<dots> = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 (mvar.flow x0 t0 d t0) t1 =\n    Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "apply (rule mvar.flow_unique_on)"], ["proof (prove)\ngoal (4 subgoals):\n 1. t1 \\<in> mvar.existence_ivl x0 t0 (mvar.flow x0 t0 d t0)\n 2. Dflow (flow0 x0 t0) (t0 - t0) o\\<^sub>L d = mvar.flow x0 t0 d t0\n 3. ((\\<lambda>a. Dflow (flow0 x0 t0) (a - t0) o\\<^sub>L d) has_vderiv_on\n     (\\<lambda>t.\n         vareq x0 t o\\<^sub>L (Dflow (flow0 x0 t0) (t - t0) o\\<^sub>L d)))\n     (mvar.existence_ivl x0 t0 (mvar.flow x0 t0 d t0))\n 4. \\<And>t.\n       t \\<in> mvar.existence_ivl x0 t0\n                (mvar.flow x0 t0 d t0) \\<Longrightarrow>\n       Dflow (flow0 x0 t0) (t - t0) o\\<^sub>L d \\<in> UNIV", "apply (auto simp add: assms mvar.flow_initial_time_if blinfun_ext Dflow_def\n        intro!: derivative_intros derivative_eq_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. flow0 x0 t0 \\<in> X\n 2. \\<And>t.\n       t \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       t - t0 \\<in> mvar.existence_ivl (flow0 x0 t0) 0 1\\<^sub>L\n 3. \\<And>x i.\n       x \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       blinfun_apply (vareq x0 x)\n        (blinfun_apply (mvar.flow (flow0 x0 t0) 0 1\\<^sub>L (x - t0))\n          (blinfun_apply d i)) =\n       blinfun_apply (vareq (flow0 x0 t0) (x - t0))\n        (blinfun_apply (mvar.flow (flow0 x0 t0) 0 1\\<^sub>L (x - t0))\n          (blinfun_apply d i))", "apply (auto simp: assms has_vderiv_on_open has_vector_derivative_def\n        intro!: derivative_eq_intros blinfun_eqI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>t.\n       t \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       t - t0 \\<in> mvar.existence_ivl (flow0 x0 t0) 0 1\\<^sub>L\n 2. \\<And>x i.\n       x \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       blinfun_apply (vareq x0 x)\n        (blinfun_apply (mvar.flow (flow0 x0 t0) 0 1\\<^sub>L (x - t0))\n          (blinfun_apply d i)) =\n       blinfun_apply (vareq (flow0 x0 t0) (x - t0))\n        (blinfun_apply (mvar.flow (flow0 x0 t0) 0 1\\<^sub>L (x - t0))\n          (blinfun_apply d i))", "apply (subst mvar_existence_ivl_eq_existence_ivl)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>t.\n       t \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       0 \\<in> existence_ivl0 (flow0 x0 t0)\n 2. \\<And>t.\n       t \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       t - t0 \\<in> existence_ivl0 (flow0 x0 t0)\n 3. \\<And>x i.\n       x \\<in> existence_ivl0 x0 \\<Longrightarrow>\n       blinfun_apply (vareq x0 x)\n        (blinfun_apply (mvar.flow (flow0 x0 t0) 0 1\\<^sub>L (x - t0))\n          (blinfun_apply d i)) =\n       blinfun_apply (vareq (flow0 x0 t0) (x - t0))\n        (blinfun_apply (mvar.flow (flow0 x0 t0) 0 1\\<^sub>L (x - t0))\n          (blinfun_apply d i))", "by (auto simp add: vareq_trans assms diff_existence_ivl_trans)"], ["proof (state)\nthis:\n  mvar.flow x0 t0 (mvar.flow x0 t0 d t0) t1 =\n  Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d\n\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "finally"], ["proof (chain)\npicking this:\n  mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "show ?thesis"], ["proof (prove)\nusing this:\n  mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d\n\ngoal (1 subgoal):\n 1. mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d", "."], ["proof (state)\nthis:\n  mvar.flow x0 t0 d t1 = Dflow (flow0 x0 t0) (t1 - t0) o\\<^sub>L d\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Dflow_trans:\n  assumes \"h \\<in> existence_ivl0 x0\"\n  assumes \"i \\<in> existence_ivl0 (flow0 x0 h)\"\n  shows \"Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L (Dflow x0 h)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L Dflow x0 h", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L Dflow x0 h", "have [intro, simp]: \"h + i \\<in> existence_ivl0 x0\" \"i + h \\<in> existence_ivl0 x0\" \"x0 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h + i \\<in> existence_ivl0 x0 &&&\n    i + h \\<in> existence_ivl0 x0 &&& x0 \\<in> X", "using assms"], ["proof (prove)\nusing this:\n  h \\<in> existence_ivl0 x0\n  i \\<in> existence_ivl0 (flow0 x0 h)\n\ngoal (1 subgoal):\n 1. h + i \\<in> existence_ivl0 x0 &&&\n    i + h \\<in> existence_ivl0 x0 &&& x0 \\<in> X", "by (auto simp add: add.commute existence_ivl_trans)"], ["proof (state)\nthis:\n  h + i \\<in> existence_ivl0 x0\n  i + h \\<in> existence_ivl0 x0\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L Dflow x0 h", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L Dflow x0 h", "unfolding Dflow_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x0 0 1\\<^sub>L (h + i) =\n    mvar.flow (flow0 x0 h) 0 1\\<^sub>L i o\\<^sub>L\n    mvar.flow x0 0 1\\<^sub>L h", "apply (subst mvar.flow_trans[where s=h and t=i])"], ["proof (prove)\ngoal (3 subgoals):\n 1. h \\<in> mvar.existence_ivl x0 0 1\\<^sub>L\n 2. i + h \\<in> mvar.existence_ivl x0 h (mvar.flow x0 0 1\\<^sub>L h)\n 3. mvar.flow x0 h (mvar.flow x0 0 1\\<^sub>L h) (h + i) =\n    mvar.flow (flow0 x0 h) 0 1\\<^sub>L i o\\<^sub>L\n    mvar.flow x0 0 1\\<^sub>L h", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. h \\<in> mvar.existence_ivl x0 0 1\\<^sub>L", "by (auto simp: assms)"], ["proof (prove)\ngoal (2 subgoals):\n 1. i + h \\<in> mvar.existence_ivl x0 h (mvar.flow x0 0 1\\<^sub>L h)\n 2. mvar.flow x0 h (mvar.flow x0 0 1\\<^sub>L h) (h + i) =\n    mvar.flow (flow0 x0 h) 0 1\\<^sub>L i o\\<^sub>L\n    mvar.flow x0 0 1\\<^sub>L h", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i + h \\<in> mvar.existence_ivl x0 h (mvar.flow x0 0 1\\<^sub>L h)", "by (auto simp: assms)"], ["proof (prove)\ngoal (1 subgoal):\n 1. mvar.flow x0 h (mvar.flow x0 0 1\\<^sub>L h) (h + i) =\n    mvar.flow (flow0 x0 h) 0 1\\<^sub>L i o\\<^sub>L\n    mvar.flow x0 0 1\\<^sub>L h", "by (subst mvar_flow_shift) (auto simp: assms Dflow_def )"], ["proof (state)\nthis:\n  Dflow x0 (h + i) = Dflow (flow0 x0 h) i o\\<^sub>L Dflow x0 h\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Dflow_trans_apply:\n  assumes \"h \\<in> existence_ivl0 x0\"\n  assumes \"i \\<in> existence_ivl0 (flow0 x0 h)\"\n  shows \"Dflow x0 (h + i) d0 = Dflow (flow0 x0 h) i (Dflow x0 h d0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (Dflow x0 (h + i)) d0 =\n    blinfun_apply (Dflow (flow0 x0 h) i) (blinfun_apply (Dflow x0 h) d0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. blinfun_apply (Dflow x0 (h + i)) d0 =\n    blinfun_apply (Dflow (flow0 x0 h) i) (blinfun_apply (Dflow x0 h) d0)", "have [intro, simp]: \"h + i \\<in> existence_ivl0 x0\" \"i + h \\<in> existence_ivl0 x0\" \"x0 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h + i \\<in> existence_ivl0 x0 &&&\n    i + h \\<in> existence_ivl0 x0 &&& x0 \\<in> X", "using assms"], ["proof (prove)\nusing this:\n  h \\<in> existence_ivl0 x0\n  i \\<in> existence_ivl0 (flow0 x0 h)\n\ngoal (1 subgoal):\n 1. h + i \\<in> existence_ivl0 x0 &&&\n    i + h \\<in> existence_ivl0 x0 &&& x0 \\<in> X", "by (auto simp add: add.commute existence_ivl_trans)"], ["proof (state)\nthis:\n  h + i \\<in> existence_ivl0 x0\n  i + h \\<in> existence_ivl0 x0\n  x0 \\<in> X\n\ngoal (1 subgoal):\n 1. blinfun_apply (Dflow x0 (h + i)) d0 =\n    blinfun_apply (Dflow (flow0 x0 h) i) (blinfun_apply (Dflow x0 h) d0)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (Dflow x0 (h + i)) d0 =\n    blinfun_apply (Dflow (flow0 x0 h) i) (blinfun_apply (Dflow x0 h) d0)", "unfolding Dflow_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (mvar.flow x0 0 1\\<^sub>L (h + i)) d0 =\n    blinfun_apply (mvar.flow (flow0 x0 h) 0 1\\<^sub>L i)\n     (blinfun_apply (mvar.flow x0 0 1\\<^sub>L h) d0)", "apply (subst mvar.flow_trans[where s=h and t=i])"], ["proof (prove)\ngoal (3 subgoals):\n 1. h \\<in> mvar.existence_ivl x0 0 1\\<^sub>L\n 2. i + h \\<in> mvar.existence_ivl x0 h (mvar.flow x0 0 1\\<^sub>L h)\n 3. blinfun_apply (mvar.flow x0 h (mvar.flow x0 0 1\\<^sub>L h) (h + i)) d0 =\n    blinfun_apply (mvar.flow (flow0 x0 h) 0 1\\<^sub>L i)\n     (blinfun_apply (mvar.flow x0 0 1\\<^sub>L h) d0)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. h \\<in> mvar.existence_ivl x0 0 1\\<^sub>L", "by (auto simp: assms)"], ["proof (prove)\ngoal (2 subgoals):\n 1. i + h \\<in> mvar.existence_ivl x0 h (mvar.flow x0 0 1\\<^sub>L h)\n 2. blinfun_apply (mvar.flow x0 h (mvar.flow x0 0 1\\<^sub>L h) (h + i)) d0 =\n    blinfun_apply (mvar.flow (flow0 x0 h) 0 1\\<^sub>L i)\n     (blinfun_apply (mvar.flow x0 0 1\\<^sub>L h) d0)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. i + h \\<in> mvar.existence_ivl x0 h (mvar.flow x0 0 1\\<^sub>L h)", "by (auto simp: assms)"], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (mvar.flow x0 h (mvar.flow x0 0 1\\<^sub>L h) (h + i)) d0 =\n    blinfun_apply (mvar.flow (flow0 x0 h) 0 1\\<^sub>L i)\n     (blinfun_apply (mvar.flow x0 0 1\\<^sub>L h) d0)", "by (subst mvar_flow_shift) (auto simp: assms Dflow_def )"], ["proof (state)\nthis:\n  blinfun_apply (Dflow x0 (h + i)) d0 =\n  blinfun_apply (Dflow (flow0 x0 h) i) (blinfun_apply (Dflow x0 h) d0)\n\ngoal:\nNo subgoals!", "qed"], ["", "end \\<comment> \\<open>@{thm c1_on_open_euclidean_anchor}\\<close>"], ["", "end"]]}