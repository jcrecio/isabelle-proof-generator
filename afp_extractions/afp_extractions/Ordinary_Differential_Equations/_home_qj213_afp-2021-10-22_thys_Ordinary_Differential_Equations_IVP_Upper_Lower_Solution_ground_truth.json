{"file_name": "/home/qj213/afp-2021-10-22/thys/Ordinary_Differential_Equations/IVP/Upper_Lower_Solution.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Ordinary_Differential_Equations", "problem_names": ["lemma IVT_min:\n  fixes f :: \"real \\<Rightarrow> 'b :: {linorder_topology,real_normed_vector,ordered_real_vector}\"\n  \\<comment> \\<open>generalize?\\<close>\n  assumes y: \"f a \\<le> y\" \"y \\<le> f b\" \"a \\<le> b\"\n  assumes *: \"continuous_on {a .. b} f\"\n  notes [continuous_intros] = *[THEN continuous_on_subset]\n  obtains x where \"a \\<le> x\" \"x \\<le> b\" \"f x = y\" \"\\<And>x'. a \\<le> x' \\<Longrightarrow> x' < x \\<Longrightarrow> f x' < y\"", "lemma filtermap_at_left_shift: \"filtermap (\\<lambda>x. x - d) (at_left a) = at_left (a - d::real)\"", "lemma first_intersection_crossing_derivatives:\n  assumes na: \"t0 < tg\" \"tg \\<le> t1\" \"v tg \\<ge> w tg\"\n  notes [continuous_intros] =\n    vderiv_on_continuous_on[OF v', THEN continuous_on_subset]\n    vderiv_on_continuous_on[OF w', THEN continuous_on_subset]\n  obtains x0 where\n    \"t0 < x0\" \"x0 \\<le> tg\"\n    \"v' x0 \\<ge> w' x0\"\n    \"v x0 = w x0\"\n    \"\\<And>t. t0 < t \\<Longrightarrow> t < x0 \\<Longrightarrow> v t < w t\"", "lemma defect_less:\n  assumes b: \"\\<And>t. t0 < t \\<Longrightarrow> t \\<le> t1 \\<Longrightarrow> v' t - f t (v t) < w' t - f t (w t)\"\n  notes [continuous_intros] =\n    vderiv_on_continuous_on[OF v', THEN continuous_on_subset]\n    vderiv_on_continuous_on[OF w', THEN continuous_on_subset]\n  shows \"\\<forall>t \\<in> {t0 <.. t1}. v t < w t\"", "lemma has_derivatives_less_lemma:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes v': \"(v has_vderiv_on v') T\"\n  assumes y': \"(y has_vderiv_on y') T\"\n  assumes lu: \"\\<And>t. t \\<in> T \\<Longrightarrow> t > t0 \\<Longrightarrow> v' t - f t (v t) < y' t - f t (y t)\"\n  assumes lower: \"v t0 \\<le> y t0\"\n  assumes eq_imp: \"v t0 = y t0 \\<Longrightarrow> v' t0 < y' t0\"\n  assumes t: \"t0 < t\" \"t0 \\<in> T\" \"t \\<in> T\" \"is_interval T\"\n  shows \"v t < y t\"", "lemma strict_lower_solution:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) T X\"\n  assumes v': \"(v has_vderiv_on v') T\"\n  assumes lower: \"\\<And>t. t \\<in> T \\<Longrightarrow> t > t0 \\<Longrightarrow> v' t < f t (v t)\"\n  assumes iv: \"v t0 \\<le> y t0\" \"v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0)\"\n  assumes t: \"t0 < t\" \"t0 \\<in> T\" \"t \\<in> T\" \"is_interval T\"\n  shows \"v t < y t\"", "lemma strict_upper_solution:\n  fixes w w'::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) T X\"\n  assumes w': \"(w has_vderiv_on w') T\"\n    and upper: \"\\<And>t. t \\<in> T \\<Longrightarrow> t > t0 \\<Longrightarrow> f t (w t) < w' t\"\n    and iv: \"y t0 \\<le> w t0\" \"y t0 = w t0 \\<Longrightarrow> f t0 (y t0) < w' t0\"\n  assumes t: \"t0 < t\" \"t0 \\<in> T\" \"t \\<in> T\" \"is_interval T\"\n  shows \"y t < w t\"", "lemma uniform_limit_at_within_subset:\n  assumes \"uniform_limit S x l (at t within T)\"\n  assumes \"U \\<subseteq> T\"\n  shows \"uniform_limit S x l (at t within U)\"", "lemma uniform_limit_le:\n  fixes f::\"'c \\<Rightarrow> 'a \\<Rightarrow> 'b::{metric_space, linorder_topology}\"\n  assumes I: \"I \\<noteq> bot\"\n  assumes u: \"uniform_limit X f g I\"\n  assumes u': \"uniform_limit X f' g' I\"\n  assumes \"\\<forall>\\<^sub>F i in I. \\<forall>x \\<in> X. f i x \\<le> f' i x\"\n  assumes \"x \\<in> X\"\n  shows \"g x \\<le> g' x\"", "lemma uniform_limit_le_const:\n  fixes f::\"'c \\<Rightarrow> 'a \\<Rightarrow> 'b::{metric_space, linorder_topology}\"\n  assumes I: \"I \\<noteq> bot\"\n  assumes u: \"uniform_limit X f g I\"\n  assumes \"\\<forall>\\<^sub>F i in I. \\<forall>x \\<in> X. f i x \\<le> h x\"\n  assumes \"x \\<in> X\"\n  shows \"g x \\<le> h x\"", "lemma uniform_limit_ge_const:\n  fixes f::\"'c \\<Rightarrow> 'a \\<Rightarrow> 'b::{metric_space, linorder_topology}\"\n  assumes I: \"I \\<noteq> bot\"\n  assumes u: \"uniform_limit X f g I\"\n  assumes \"\\<forall>\\<^sub>F i in I. \\<forall>x \\<in> X. h x \\<le> f i x\"\n  assumes \"x \\<in> X\"\n  shows \"h x \\<le> g x\"", "lemma lower_solution:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) S X\"\n  assumes v': \"(v has_vderiv_on v') S\"\n  assumes lower: \"\\<And>t. t \\<in> S \\<Longrightarrow> t > t0 \\<Longrightarrow> v' t < f t (v t)\"\n  assumes iv: \"v t0 \\<le> y t0\"\n  assumes t: \"t0 \\<le> t\" \"t0 \\<in> S\" \"t \\<in> S\" \"is_interval S\" \"S \\<subseteq> T\"\n  shows \"v t \\<le> y t\"", "lemma upper_solution:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) S X\"\n  assumes v': \"(v has_vderiv_on v') S\"\n  assumes upper: \"\\<And>t. t \\<in> S \\<Longrightarrow> t > t0 \\<Longrightarrow> f t (v t) < v' t\"\n  assumes iv: \"y t0 \\<le> v t0\"\n  assumes t: \"t0 \\<le> t\" \"t0 \\<in> S\" \"t \\<in> S\" \"is_interval S\" \"S \\<subseteq> T\"\n  shows \"y t \\<le> v t\""], "translations": [["", "lemma IVT_min:\n  fixes f :: \"real \\<Rightarrow> 'b :: {linorder_topology,real_normed_vector,ordered_real_vector}\"\n  \\<comment> \\<open>generalize?\\<close>\n  assumes y: \"f a \\<le> y\" \"y \\<le> f b\" \"a \\<le> b\"\n  assumes *: \"continuous_on {a .. b} f\"\n  notes [continuous_intros] = *[THEN continuous_on_subset]\n  obtains x where \"a \\<le> x\" \"x \\<le> b\" \"f x = y\" \"\\<And>x'. a \\<le> x' \\<Longrightarrow> x' < x \\<Longrightarrow> f x' < y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?s = \"((\\<lambda>x. f x - y) -` {0..}) \\<inter> {a..b}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?s \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b} \\<noteq> {}", "using assms"], ["proof (prove)\nusing this:\n  f a \\<le> y\n  y \\<le> f b\n  a \\<le> b\n  continuous_on {a..b} f\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b} \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"closed ?s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})", "by (rule closed_vimage_Int) (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  closed ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  closed ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"bounded ?s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})", "by (rule bounded_Int) (simp add: bounded_closed_interval)"], ["proof (state)\nthis:\n  bounded ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  closed ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n  bounded ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})", "have \"compact ?s\""], ["proof (prove)\nusing this:\n  closed ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n  bounded ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n\ngoal (1 subgoal):\n 1. compact ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})", "using compact_eq_bounded_closed"], ["proof (prove)\nusing this:\n  closed ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n  bounded ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n  compact ?S = (bounded ?S \\<and> closed ?S)\n\ngoal (1 subgoal):\n 1. compact ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})", "by blast"], ["proof (state)\nthis:\n  compact ((\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b})\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from compact_attains_inf[OF this \\<open>?s \\<noteq> {}\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>s\\<in>(\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b}.\n     \\<forall>t\\<in>(\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b}.\n        s \\<le> t", "obtain x where x: \"a \\<le> x\" \"x \\<le> b\" \"f x \\<ge> y\"\n    and min: \"\\<And>z. a \\<le> z \\<Longrightarrow> z \\<le> b \\<Longrightarrow> f z \\<ge> y \\<Longrightarrow> x \\<le> z\""], ["proof (prove)\nusing this:\n  \\<exists>s\\<in>(\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b}.\n     \\<forall>t\\<in>(\\<lambda>x. f x - y) -` {0::'b..} \\<inter> {a..b}.\n        s \\<le> t\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; y \\<le> f x;\n         \\<And>z.\n            \\<lbrakk>a \\<le> z; z \\<le> b; y \\<le> f z\\<rbrakk>\n            \\<Longrightarrow> x \\<le> z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  a \\<le> x\n  x \\<le> b\n  y \\<le> f x\n  \\<lbrakk>a \\<le> ?z; ?z \\<le> b; y \\<le> f ?z\\<rbrakk>\n  \\<Longrightarrow> x \\<le> ?z\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"f x \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<le> y", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> f x \\<le> y \\<Longrightarrow> False", "assume n: \"\\<not> f x \\<le> y\""], ["proof (state)\nthis:\n  \\<not> f x \\<le> y\n\ngoal (1 subgoal):\n 1. \\<not> f x \\<le> y \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> f x \\<le> y", "have \"\\<exists>z\\<ge>a. z \\<le> x \\<and> (\\<lambda>x. f x - y) z = 0\""], ["proof (prove)\nusing this:\n  \\<not> f x \\<le> y\n\ngoal (1 subgoal):\n 1. \\<exists>z\\<ge>a. z \\<le> x \\<and> f z - y = (0::'b)", "using x"], ["proof (prove)\nusing this:\n  \\<not> f x \\<le> y\n  a \\<le> x\n  x \\<le> b\n  y \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<exists>z\\<ge>a. z \\<le> x \\<and> f z - y = (0::'b)", "by (intro IVT') (auto intro!: continuous_intros simp: assms)"], ["proof (state)\nthis:\n  \\<exists>z\\<ge>a. z \\<le> x \\<and> f z - y = (0::'b)\n\ngoal (1 subgoal):\n 1. \\<not> f x \\<le> y \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>z\\<ge>a. z \\<le> x \\<and> f z - y = (0::'b)", "obtain z where z: \"a \\<le> z\" \"z \\<le> x\" \"f z = y\""], ["proof (prove)\nusing this:\n  \\<exists>z\\<ge>a. z \\<le> x \\<and> f z - y = (0::'b)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>a \\<le> z; z \\<le> x; f z = y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  a \\<le> z\n  z \\<le> x\n  f z = y\n\ngoal (1 subgoal):\n 1. \\<not> f x \\<le> y \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  a \\<le> z\n  z \\<le> x\n  f z = y", "have \"a \\<le> z\" \"z \\<le> b\" \"f z \\<ge> y\""], ["proof (prove)\nusing this:\n  a \\<le> z\n  z \\<le> x\n  f z = y\n\ngoal (1 subgoal):\n 1. a \\<le> z &&& z \\<le> b &&& y \\<le> f z", "using x"], ["proof (prove)\nusing this:\n  a \\<le> z\n  z \\<le> x\n  f z = y\n  a \\<le> x\n  x \\<le> b\n  y \\<le> f x\n\ngoal (1 subgoal):\n 1. a \\<le> z &&& z \\<le> b &&& y \\<le> f z", "by auto"], ["proof (state)\nthis:\n  a \\<le> z\n  z \\<le> b\n  y \\<le> f z\n\ngoal (1 subgoal):\n 1. \\<not> f x \\<le> y \\<Longrightarrow> False", "from min [OF this] z n"], ["proof (chain)\npicking this:\n  x \\<le> z\n  a \\<le> z\n  z \\<le> x\n  f z = y\n  \\<not> f x \\<le> y", "show False"], ["proof (prove)\nusing this:\n  x \\<le> z\n  a \\<le> z\n  z \\<le> x\n  f z = y\n  \\<not> f x \\<le> y\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f x \\<le> y\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  f x \\<le> y", "have \"a \\<le> x\" \"x \\<le> b\" \"f x = y\""], ["proof (prove)\nusing this:\n  f x \\<le> y\n\ngoal (1 subgoal):\n 1. a \\<le> x &&& x \\<le> b &&& f x = y", "using x"], ["proof (prove)\nusing this:\n  f x \\<le> y\n  a \\<le> x\n  x \\<le> b\n  y \\<le> f x\n\ngoal (1 subgoal):\n 1. a \\<le> x &&& x \\<le> b &&& f x = y", "by (auto )"], ["proof (state)\nthis:\n  a \\<le> x\n  x \\<le> b\n  f x = y\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  a \\<le> x\n  x \\<le> b\n  f x = y\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"f x' < y\" if \"a \\<le> x'\" \"x' < x\" for x'"], ["proof (prove)\ngoal (1 subgoal):\n 1. f x' < y", "apply (rule ccontr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> f x' < y \\<Longrightarrow> False", "using min[of x'] that x"], ["proof (prove)\nusing this:\n  \\<lbrakk>a \\<le> x'; x' \\<le> b; y \\<le> f x'\\<rbrakk>\n  \\<Longrightarrow> x \\<le> x'\n  a \\<le> x'\n  x' < x\n  a \\<le> x\n  x \\<le> b\n  y \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<not> f x' < y \\<Longrightarrow> False", "by (auto simp: not_less)"], ["proof (state)\nthis:\n  \\<lbrakk>a \\<le> ?x'; ?x' < x\\<rbrakk> \\<Longrightarrow> f ?x' < y\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>a \\<le> x; x \\<le> b; f x = y;\n         \\<And>x'.\n            \\<lbrakk>a \\<le> x'; x' < x\\<rbrakk>\n            \\<Longrightarrow> f x' < y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  a \\<le> x\n  x \\<le> b\n  f x = y\n  \\<lbrakk>a \\<le> ?x'; ?x' < x\\<rbrakk> \\<Longrightarrow> f ?x' < y", "show ?thesis"], ["proof (prove)\nusing this:\n  a \\<le> x\n  x \\<le> b\n  f x = y\n  \\<lbrakk>a \\<le> ?x'; ?x' < x\\<rbrakk> \\<Longrightarrow> f ?x' < y\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma filtermap_at_left_shift: \"filtermap (\\<lambda>x. x - d) (at_left a) = at_left (a - d::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. filtermap (\\<lambda>x. x - d) (at_left a) = at_left (a - d)", "by (simp add: filter_eq_iff eventually_filtermap eventually_at_filter filtermap_nhds_shift[symmetric])"], ["", "context\n  fixes v v' w w'::\"real \\<Rightarrow> real\" and t0 t1 e::real\n  assumes v': \"(v has_vderiv_on v') {t0 <.. t1}\"\n    and w': \"(w has_vderiv_on w') {t0 <.. t1}\"\n  assumes pos_ivl: \"t0 < t1\"\n  assumes e_pos: \"e > 0\" and e_in: \"t0 + e \\<le> t1\"\n  assumes less:  \"\\<And>t. t0 < t \\<Longrightarrow> t < t0 + e \\<Longrightarrow> v t < w t\"\nbegin"], ["", "lemma first_intersection_crossing_derivatives:\n  assumes na: \"t0 < tg\" \"tg \\<le> t1\" \"v tg \\<ge> w tg\"\n  notes [continuous_intros] =\n    vderiv_on_continuous_on[OF v', THEN continuous_on_subset]\n    vderiv_on_continuous_on[OF w', THEN continuous_on_subset]\n  obtains x0 where\n    \"t0 < x0\" \"x0 \\<le> tg\"\n    \"v' x0 \\<ge> w' x0\"\n    \"v x0 = w x0\"\n    \"\\<And>t. t0 < t \\<Longrightarrow> t < x0 \\<Longrightarrow> v t < w t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(v - w) (min tg (t0 + e / 2)) \\<le> 0\" \"0 \\<le> (v - w) tg\"\n    \"min tg (t0 + e / 2) \\<le> tg\"\n    \"continuous_on {min tg (t0 + e / 2)..tg} (v - w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((v - w) (min tg (t0 + e / 2)) \\<le> 0 &&& 0 \\<le> (v - w) tg) &&&\n    min tg (t0 + e / 2) \\<le> tg &&&\n    continuous_on {min tg (t0 + e / 2)..tg} (v - w)", "using less[of \"t0 + e / 2\"]\n    less[of tg]na \\<open>e > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>t0 < t0 + e / 2; t0 + e / 2 < t0 + e\\<rbrakk>\n  \\<Longrightarrow> v (t0 + e / 2) < w (t0 + e / 2)\n  \\<lbrakk>t0 < tg; tg < t0 + e\\<rbrakk> \\<Longrightarrow> v tg < w tg\n  t0 < tg\n  tg \\<le> t1\n  w tg \\<le> v tg\n  0 < e\n\ngoal (1 subgoal):\n 1. ((v - w) (min tg (t0 + e / 2)) \\<le> 0 &&& 0 \\<le> (v - w) tg) &&&\n    min tg (t0 + e / 2) \\<le> tg &&&\n    continuous_on {min tg (t0 + e / 2)..tg} (v - w)", "by (auto simp: min_def intro!: continuous_intros)"], ["proof (state)\nthis:\n  (v - w) (min tg (t0 + e / 2)) \\<le> 0\n  0 \\<le> (v - w) tg\n  min tg (t0 + e / 2) \\<le> tg\n  continuous_on {min tg (t0 + e / 2)..tg} (v - w)\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from IVT_min[OF this]"], ["proof (chain)\npicking this:\n  (\\<And>x.\n      \\<lbrakk>min tg (t0 + e / 2) \\<le> x; x \\<le> tg; (v - w) x = 0;\n       \\<And>x'.\n          \\<lbrakk>min tg (t0 + e / 2) \\<le> x'; x' < x\\<rbrakk>\n          \\<Longrightarrow> (v - w) x' < 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain x0 where x0: \"min tg (t0 + e / 2) \\<le> x0\" \"x0 \\<le> tg\" \"v x0 = w x0\"\n    \"\\<And>x'. min tg (t0 + e / 2) \\<le> x' \\<Longrightarrow> x' < x0 \\<Longrightarrow> v x' < w x'\""], ["proof (prove)\nusing this:\n  (\\<And>x.\n      \\<lbrakk>min tg (t0 + e / 2) \\<le> x; x \\<le> tg; (v - w) x = 0;\n       \\<And>x'.\n          \\<lbrakk>min tg (t0 + e / 2) \\<le> x'; x' < x\\<rbrakk>\n          \\<Longrightarrow> (v - w) x' < 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>min tg (t0 + e / 2) \\<le> x0; x0 \\<le> tg; v x0 = w x0;\n         \\<And>x'.\n            \\<lbrakk>min tg (t0 + e / 2) \\<le> x'; x' < x0\\<rbrakk>\n            \\<Longrightarrow> v x' < w x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  min tg (t0 + e / 2) \\<le> x0\n  x0 \\<le> tg\n  v x0 = w x0\n  \\<lbrakk>min tg (t0 + e / 2) \\<le> ?x'; ?x' < x0\\<rbrakk>\n  \\<Longrightarrow> v ?x' < w ?x'\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  min tg (t0 + e / 2) \\<le> x0\n  x0 \\<le> tg\n  v x0 = w x0\n  \\<lbrakk>min tg (t0 + e / 2) \\<le> ?x'; ?x' < x0\\<rbrakk>\n  \\<Longrightarrow> v ?x' < w ?x'", "have x0_in: \"t0 < x0\" \"x0 \\<le> t1\""], ["proof (prove)\nusing this:\n  min tg (t0 + e / 2) \\<le> x0\n  x0 \\<le> tg\n  v x0 = w x0\n  \\<lbrakk>min tg (t0 + e / 2) \\<le> ?x'; ?x' < x0\\<rbrakk>\n  \\<Longrightarrow> v ?x' < w ?x'\n\ngoal (1 subgoal):\n 1. t0 < x0 &&& x0 \\<le> t1", "using \\<open>e > 0\\<close> na(1,2)"], ["proof (prove)\nusing this:\n  min tg (t0 + e / 2) \\<le> x0\n  x0 \\<le> tg\n  v x0 = w x0\n  \\<lbrakk>min tg (t0 + e / 2) \\<le> ?x'; ?x' < x0\\<rbrakk>\n  \\<Longrightarrow> v ?x' < w ?x'\n  0 < e\n  t0 < tg\n  tg \\<le> t1\n\ngoal (1 subgoal):\n 1. t0 < x0 &&& x0 \\<le> t1", "by (auto)"], ["proof (state)\nthis:\n  t0 < x0\n  x0 \\<le> t1\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note \\<open>t0 < x0\\<close> \\<open>x0 \\<le> tg\\<close>"], ["proof (state)\nthis:\n  t0 < x0\n  x0 \\<le> tg\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  t0 < x0\n  x0 \\<le> tg\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  t0 < x0\n  x0 \\<le> tg\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from v' x0_in"], ["proof (chain)\npicking this:\n  (v has_vderiv_on v') {t0<..t1}\n  t0 < x0\n  x0 \\<le> t1", "have \"(v has_derivative (\\<lambda>x. x * v' x0)) (at x0 within {t0<..<x0})\""], ["proof (prove)\nusing this:\n  (v has_vderiv_on v') {t0<..t1}\n  t0 < x0\n  x0 \\<le> t1\n\ngoal (1 subgoal):\n 1. (v has_derivative (\\<lambda>x. x * v' x0)) (at x0 within {t0<..<x0})", "by (force intro: has_derivative_subset simp: has_vector_derivative_def has_vderiv_on_def)"], ["proof (state)\nthis:\n  (v has_derivative (\\<lambda>x. x * v' x0)) (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  (v has_derivative (\\<lambda>x. x * v' x0)) (at x0 within {t0<..<x0})", "have v: \"((\\<lambda>y. (v y - (v x0 + (y - x0) * v' x0)) / norm (y - x0)) \\<longlongrightarrow> 0) (at x0 within {t0<..<x0})\""], ["proof (prove)\nusing this:\n  (v has_derivative (\\<lambda>x. x * v' x0)) (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>y.\n         (v y - (v x0 + (y - x0) * v' x0)) /\n         norm (y - x0)) \\<longlongrightarrow>\n     0)\n     (at x0 within {t0<..<x0})", "unfolding has_derivative_within"], ["proof (prove)\nusing this:\n  bounded_linear (\\<lambda>x. x * v' x0) \\<and>\n  ((\\<lambda>y.\n       (1 / norm (y - x0)) *\\<^sub>R\n       (v y - (v x0 + (y - x0) * v' x0))) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>y.\n         (v y - (v x0 + (y - x0) * v' x0)) /\n         norm (y - x0)) \\<longlongrightarrow>\n     0)\n     (at x0 within {t0<..<x0})", "by (simp add: ac_simps)"], ["proof (state)\nthis:\n  ((\\<lambda>y.\n       (v y - (v x0 + (y - x0) * v' x0)) /\n       norm (y - x0)) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from w' x0_in"], ["proof (chain)\npicking this:\n  (w has_vderiv_on w') {t0<..t1}\n  t0 < x0\n  x0 \\<le> t1", "have \"(w has_derivative (\\<lambda>x. x * w' x0)) (at x0 within {t0<..<x0})\""], ["proof (prove)\nusing this:\n  (w has_vderiv_on w') {t0<..t1}\n  t0 < x0\n  x0 \\<le> t1\n\ngoal (1 subgoal):\n 1. (w has_derivative (\\<lambda>x. x * w' x0)) (at x0 within {t0<..<x0})", "by (force intro: has_derivative_subset simp: has_vector_derivative_def has_vderiv_on_def)"], ["proof (state)\nthis:\n  (w has_derivative (\\<lambda>x. x * w' x0)) (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  (w has_derivative (\\<lambda>x. x * w' x0)) (at x0 within {t0<..<x0})", "have w: \"((\\<lambda>y. (w y - (w x0 + (y - x0) * w' x0)) / norm (y - x0)) \\<longlongrightarrow> 0) (at x0 within {t0<..<x0})\""], ["proof (prove)\nusing this:\n  (w has_derivative (\\<lambda>x. x * w' x0)) (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>y.\n         (w y - (w x0 + (y - x0) * w' x0)) /\n         norm (y - x0)) \\<longlongrightarrow>\n     0)\n     (at x0 within {t0<..<x0})", "unfolding has_derivative_within"], ["proof (prove)\nusing this:\n  bounded_linear (\\<lambda>x. x * w' x0) \\<and>\n  ((\\<lambda>y.\n       (1 / norm (y - x0)) *\\<^sub>R\n       (w y - (w x0 + (y - x0) * w' x0))) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>y.\n         (w y - (w x0 + (y - x0) * w' x0)) /\n         norm (y - x0)) \\<longlongrightarrow>\n     0)\n     (at x0 within {t0<..<x0})", "by (simp add: ac_simps)"], ["proof (state)\nthis:\n  ((\\<lambda>y.\n       (w y - (w x0 + (y - x0) * w' x0)) /\n       norm (y - x0)) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have evs: \"\\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. min tg (t0 + e / 2) < x\"\n      \"\\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0}) &&&\n    \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0", "using less na(1) na(3) x0(3) x0_in(1)"], ["proof (prove)\nusing this:\n  \\<lbrakk>t0 < ?t; ?t < t0 + e\\<rbrakk> \\<Longrightarrow> v ?t < w ?t\n  t0 < tg\n  w tg \\<le> v tg\n  v x0 = w x0\n  t0 < x0\n\ngoal (1 subgoal):\n 1. eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0}) &&&\n    \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0", "by (force simp: min_def eventually_at_filter intro!: order_tendstoD[OF tendsto_ident_at])+"], ["proof (state)\nthis:\n  eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0", "have \"\\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n       (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) - (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0)\""], ["proof (prove)\nusing this:\n  eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n       (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n       (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0)", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>min tg (t0 + e / 2) < x; t0 < x \\<and> x < x0\\<rbrakk>\n       \\<Longrightarrow> (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n                         (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n                         (v x - w x) / norm (x - x0) + (v' x0 - w' x0)", "using x0_in x0 less na \\<open>t0 < t1\\<close> sum_sqs_eq"], ["proof (prove)\nusing this:\n  t0 < x0\n  x0 \\<le> t1\n  min tg (t0 + e / 2) \\<le> x0\n  x0 \\<le> tg\n  v x0 = w x0\n  \\<lbrakk>min tg (t0 + e / 2) \\<le> ?x'; ?x' < x0\\<rbrakk>\n  \\<Longrightarrow> v ?x' < w ?x'\n  \\<lbrakk>t0 < ?t; ?t < t0 + e\\<rbrakk> \\<Longrightarrow> v ?t < w ?t\n  t0 < tg\n  tg \\<le> t1\n  w tg \\<le> v tg\n  t0 < t1\n  ?x * ?x + ?y * ?y = ?x * (?y * (2::?'a)) \\<Longrightarrow> ?y = ?x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>min tg (t0 + e / 2) < x; t0 < x \\<and> x < x0\\<rbrakk>\n       \\<Longrightarrow> (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n                         (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n                         (v x - w x) / norm (x - x0) + (v' x0 - w' x0)", "by (auto simp: divide_simps algebra_simps min_def intro!: eventuallyI split: if_split_asm)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n     (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0)\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from this tendsto_diff[OF v w]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n     (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0)\n  ((\\<lambda>x.\n       (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n       (w x - (w x0 + (x - x0) * w' x0)) /\n       norm (x - x0)) \\<longlongrightarrow>\n   0 - 0)\n   (at x0 within {t0<..<x0})", "have 1: \"((\\<lambda>x. (v x - w x) / norm (x - x0) + (v' x0 - w' x0)) \\<longlongrightarrow> 0) (at x0 within {t0<..<x0})\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n     (w x - (w x0 + (x - x0) * w' x0)) / norm (x - x0) =\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0)\n  ((\\<lambda>x.\n       (v x - (v x0 + (x - x0) * v' x0)) / norm (x - x0) -\n       (w x - (w x0 + (x - x0) * w' x0)) /\n       norm (x - x0)) \\<longlongrightarrow>\n   0 - 0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x.\n         (v x - w x) / norm (x - x0) +\n         (v' x0 - w' x0)) \\<longlongrightarrow>\n     0)\n     (at x0 within {t0<..<x0})", "by (force intro: tendsto_eq_rhs Lim_transform_eventually)"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0)) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ((\\<lambda>x.\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0)) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from evs"], ["proof (chain)\npicking this:\n  eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0", "have 2: \"\\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. (v x - w x) / norm (x - x0) + (v' x0 - w' x0) \\<le> (v' x0 - w' x0)\""], ["proof (prove)\nusing this:\n  eventually ((<) (min tg (t0 + e / 2))) (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}. t0 < x \\<and> x < x0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0) \\<le> v' x0 - w' x0", "by eventually_elim (auto simp: divide_simps intro!: less_imp_le x0(4))"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0) \\<le> v' x0 - w' x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0) \\<le> v' x0 - w' x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"at x0 within {t0<..<x0} \\<noteq> bot\""], ["proof (prove)\ngoal (1 subgoal):\n 1. at x0 within {t0<..<x0} \\<noteq> bot", "by (simp add: \\<open>t0 < x0\\<close> at_within_eq_bot_iff less_imp_le)"], ["proof (state)\nthis:\n  at x0 within {t0<..<x0} \\<noteq> bot\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<lambda>x.\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0)) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0) \\<le> v' x0 - w' x0\n  at x0 within {t0<..<x0} \\<noteq> bot", "have \"0 \\<le> v' x0 - w' x0\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x.\n       (v x - w x) / norm (x - x0) + (v' x0 - w' x0)) \\<longlongrightarrow>\n   0)\n   (at x0 within {t0<..<x0})\n  \\<forall>\\<^sub>F x in at x0 within {t0<..<x0}.\n     (v x - w x) / norm (x - x0) + (v' x0 - w' x0) \\<le> v' x0 - w' x0\n  at x0 within {t0<..<x0} \\<noteq> bot\n\ngoal (1 subgoal):\n 1. 0 \\<le> v' x0 - w' x0", "by (rule tendsto_upperbound)"], ["proof (state)\nthis:\n  0 \\<le> v' x0 - w' x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 \\<le> v' x0 - w' x0", "have \"v' x0 \\<ge> w' x0\""], ["proof (prove)\nusing this:\n  0 \\<le> v' x0 - w' x0\n\ngoal (1 subgoal):\n 1. w' x0 \\<le> v' x0", "by simp"], ["proof (state)\nthis:\n  w' x0 \\<le> v' x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  w' x0 \\<le> v' x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  w' x0 \\<le> v' x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note \\<open>v x0 = w x0\\<close>"], ["proof (state)\nthis:\n  v x0 = w x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  v x0 = w x0\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"t0 < t \\<Longrightarrow> t < x0 \\<Longrightarrow> v t < w t\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t0 < t; t < x0\\<rbrakk> \\<Longrightarrow> v t < w t", "by (cases \"min tg (t0 + e / 2) \\<le> t\") (auto intro: x0 less)"], ["proof (state)\nthis:\n  \\<lbrakk>t0 < ?t; ?t < x0\\<rbrakk> \\<Longrightarrow> v ?t < w ?t\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tg; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  t0 < x0\n  x0 \\<le> tg\n  w' x0 \\<le> v' x0\n  v x0 = w x0\n  \\<lbrakk>t0 < ?t; ?t < x0\\<rbrakk> \\<Longrightarrow> v ?t < w ?t", "show ?thesis"], ["proof (prove)\nusing this:\n  t0 < x0\n  x0 \\<le> tg\n  w' x0 \\<le> v' x0\n  v x0 = w x0\n  \\<lbrakk>t0 < ?t; ?t < x0\\<rbrakk> \\<Longrightarrow> v ?t < w ?t\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma defect_less:\n  assumes b: \"\\<And>t. t0 < t \\<Longrightarrow> t \\<le> t1 \\<Longrightarrow> v' t - f t (v t) < w' t - f t (w t)\"\n  notes [continuous_intros] =\n    vderiv_on_continuous_on[OF v', THEN continuous_on_subset]\n    vderiv_on_continuous_on[OF w', THEN continuous_on_subset]\n  shows \"\\<forall>t \\<in> {t0 <.. t1}. v t < w t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t\\<in>{t0<..t1}. v t < w t", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t) \\<Longrightarrow> False", "assume \" \\<not> (\\<forall>t\\<in>{t0 <.. t1}. v t < w t)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t)", "obtain tu where \"t0 < tu\" \"tu \\<le> t1\" \"v tu \\<ge> w tu\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t)\n\ngoal (1 subgoal):\n 1. (\\<And>tu.\n        \\<lbrakk>t0 < tu; tu \\<le> t1; w tu \\<le> v tu\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t0 < tu\n  tu \\<le> t1\n  w tu \\<le> v tu\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t) \\<Longrightarrow> False", "from first_intersection_crossing_derivatives[OF this]"], ["proof (chain)\npicking this:\n  (\\<And>x0.\n      \\<lbrakk>t0 < x0; x0 \\<le> tu; w' x0 \\<le> v' x0; v x0 = w x0;\n       \\<And>t.\n          \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n          \\<Longrightarrow> v t < w t\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain x0 where \"t0 < x0\" \"x0 \\<le> tu\" \"w' x0 \\<le> v' x0\" \"v x0 = w x0\" \"\\<And>t. t0 < t \\<Longrightarrow> t < x0 \\<Longrightarrow> v t < w t\""], ["proof (prove)\nusing this:\n  (\\<And>x0.\n      \\<lbrakk>t0 < x0; x0 \\<le> tu; w' x0 \\<le> v' x0; v x0 = w x0;\n       \\<And>t.\n          \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n          \\<Longrightarrow> v t < w t\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>x0.\n        \\<lbrakk>t0 < x0; x0 \\<le> tu; w' x0 \\<le> v' x0; v x0 = w x0;\n         \\<And>t.\n            \\<lbrakk>t0 < t; t < x0\\<rbrakk>\n            \\<Longrightarrow> v t < w t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  t0 < x0\n  x0 \\<le> tu\n  w' x0 \\<le> v' x0\n  v x0 = w x0\n  \\<lbrakk>t0 < ?t; ?t < x0\\<rbrakk> \\<Longrightarrow> v ?t < w ?t\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>t\\<in>{t0<..t1}. v t < w t) \\<Longrightarrow> False", "with b[of x0] \\<open>tu \\<le> t1\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>t0 < x0; x0 \\<le> t1\\<rbrakk>\n  \\<Longrightarrow> v' x0 - f x0 (v x0) < w' x0 - f x0 (w x0)\n  tu \\<le> t1\n  t0 < x0\n  x0 \\<le> tu\n  w' x0 \\<le> v' x0\n  v x0 = w x0\n  \\<lbrakk>t0 < ?t; ?t < x0\\<rbrakk> \\<Longrightarrow> v ?t < w ?t", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>t0 < x0; x0 \\<le> t1\\<rbrakk>\n  \\<Longrightarrow> v' x0 - f x0 (v x0) < w' x0 - f x0 (w x0)\n  tu \\<le> t1\n  t0 < x0\n  x0 \\<le> tu\n  w' x0 \\<le> v' x0\n  v x0 = w x0\n  \\<lbrakk>t0 < ?t; ?t < x0\\<rbrakk> \\<Longrightarrow> v ?t < w ?t\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma has_derivatives_less_lemma:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes v': \"(v has_vderiv_on v') T\"\n  assumes y': \"(y has_vderiv_on y') T\"\n  assumes lu: \"\\<And>t. t \\<in> T \\<Longrightarrow> t > t0 \\<Longrightarrow> v' t - f t (v t) < y' t - f t (y t)\"\n  assumes lower: \"v t0 \\<le> y t0\"\n  assumes eq_imp: \"v t0 = y t0 \\<Longrightarrow> v' t0 < y' t0\"\n  assumes t: \"t0 < t\" \"t0 \\<in> T\" \"t \\<in> T\" \"is_interval T\"\n  shows \"v t < y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v t < y t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v t < y t", "have subset: \"{t0 .. t} \\<subseteq> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..t} \\<subseteq> T", "by (rule atMostAtLeast_subset_convex) (auto simp: assms is_interval_convex)"], ["proof (state)\nthis:\n  {t0..t} \\<subseteq> T\n\ngoal (1 subgoal):\n 1. v t < y t", "obtain d where \"0 < d\" \"t0 < s \\<Longrightarrow> s \\<le> t \\<Longrightarrow> s < t0 + d \\<Longrightarrow> v s < y s\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>0 < d;\n         \\<And>s.\n            \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n            \\<Longrightarrow> v s < y s\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume \"v t0 = y t0\""], ["proof (state)\nthis:\n  v t0 = y t0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "from this[THEN eq_imp]"], ["proof (chain)\npicking this:\n  v' t0 < y' t0", "have *: \"0 < y' t0 - v' t0\""], ["proof (prove)\nusing this:\n  v' t0 < y' t0\n\ngoal (1 subgoal):\n 1. 0 < y' t0 - v' t0", "by (simp add: )"], ["proof (state)\nthis:\n  0 < y' t0 - v' t0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "have \"((\\<lambda>t. y t - v t) has_vderiv_on (\\<lambda>t0. y' t0 - v' t0)) {t0 .. t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>t. y t - v t) has_vderiv_on (\\<lambda>t0. y' t0 - v' t0))\n     {t0..t}", "by (auto intro!: derivative_intros y' v' has_vderiv_on_subset[OF _ subset])"], ["proof (state)\nthis:\n  ((\\<lambda>t. y t - v t) has_vderiv_on (\\<lambda>t0. y' t0 - v' t0))\n   {t0..t}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "with \\<open>t0 < t\\<close>"], ["proof (chain)\npicking this:\n  t0 < t\n  ((\\<lambda>t. y t - v t) has_vderiv_on (\\<lambda>t0. y' t0 - v' t0))\n   {t0..t}", "have d: \"((\\<lambda>t. y t - v t) has_real_derivative y' t0 - v' t0) (at t0 within {t0 .. t})\""], ["proof (prove)\nusing this:\n  t0 < t\n  ((\\<lambda>t. y t - v t) has_vderiv_on (\\<lambda>t0. y' t0 - v' t0))\n   {t0..t}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>t. y t - v t) has_real_derivative y' t0 - v' t0)\n     (at t0 within {t0..t})", "by (auto simp: has_vderiv_on_def has_field_derivative_iff_has_vector_derivative)"], ["proof (state)\nthis:\n  ((\\<lambda>t. y t - v t) has_real_derivative y' t0 - v' t0)\n   (at t0 within {t0..t})\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "from has_real_derivative_pos_inc_right[OF d *] \\<open>v t0 = y t0\\<close>"], ["proof (chain)\npicking this:\n  \\<exists>d>0.\n     \\<forall>h>0.\n        t0 + h \\<in> {t0..t} \\<longrightarrow>\n        h < d \\<longrightarrow> y t0 - v t0 < y (t0 + h) - v (t0 + h)\n  v t0 = y t0", "obtain d where \"d > 0\" and vy: \"h > 0 \\<Longrightarrow> t0 + h \\<le> t \\<Longrightarrow> h < d \\<Longrightarrow> v (t0 + h) < y (t0 + h)\" for h"], ["proof (prove)\nusing this:\n  \\<exists>d>0.\n     \\<forall>h>0.\n        t0 + h \\<in> {t0..t} \\<longrightarrow>\n        h < d \\<longrightarrow> y t0 - v t0 < y (t0 + h) - v (t0 + h)\n  v t0 = y t0\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>0 < d;\n         \\<And>h.\n            \\<lbrakk>0 < h; t0 + h \\<le> t; h < d\\<rbrakk>\n            \\<Longrightarrow> v (t0 + h) < y (t0 + h)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < d\n  \\<lbrakk>0 < ?h; t0 + ?h \\<le> t; ?h < d\\<rbrakk>\n  \\<Longrightarrow> v (t0 + ?h) < y (t0 + ?h)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "have vy: \"t0 < s \\<Longrightarrow> s \\<le> t \\<Longrightarrow> s < t0 + d \\<Longrightarrow> v s < y s\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n    \\<Longrightarrow> v s < y s", "using vy[of \"s - t0\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < s - t0; t0 + (s - t0) \\<le> t; s - t0 < d\\<rbrakk>\n  \\<Longrightarrow> v (t0 + (s - t0)) < y (t0 + (s - t0))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n    \\<Longrightarrow> v s < y s", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>t0 < ?s; ?s \\<le> t; ?s < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?s < y ?s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<not> ?P2\\<rbrakk>\n    \\<Longrightarrow> thesis", "with \\<open>d > 0\\<close>"], ["proof (chain)\npicking this:\n  0 < d\n  \\<lbrakk>t0 < ?s; ?s \\<le> t; ?s < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?s < y ?s", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  \\<lbrakk>t0 < ?s; ?s \\<le> t; ?s < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?s < y ?s\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume \"v t0 \\<noteq> y t0\""], ["proof (state)\nthis:\n  v t0 \\<noteq> y t0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  v t0 \\<noteq> y t0", "have \"v t0 < y t0\""], ["proof (prove)\nusing this:\n  v t0 \\<noteq> y t0\n\ngoal (1 subgoal):\n 1. v t0 < y t0", "using lower"], ["proof (prove)\nusing this:\n  v t0 \\<noteq> y t0\n  v t0 \\<le> y t0\n\ngoal (1 subgoal):\n 1. v t0 < y t0", "by simp"], ["proof (state)\nthis:\n  v t0 < y t0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "moreover"], ["proof (state)\nthis:\n  v t0 < y t0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "have \"continuous_on {t0 .. t} v\" \"continuous_on {t0 .. t} y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {t0..t} v &&& continuous_on {t0..t} y", "by (auto intro!: vderiv_on_continuous_on assms has_vderiv_on_subset[OF _ subset])"], ["proof (state)\nthis:\n  continuous_on {t0..t} v\n  continuous_on {t0..t} y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  continuous_on {t0..t} v\n  continuous_on {t0..t} y", "have \"(v \\<longlongrightarrow> v t0) (at t0 within {t0 .. t})\" \"(y \\<longlongrightarrow> y t0) (at t0 within {t0 .. t})\""], ["proof (prove)\nusing this:\n  continuous_on {t0..t} v\n  continuous_on {t0..t} y\n\ngoal (1 subgoal):\n 1. (v \\<longlongrightarrow> v t0) (at t0 within {t0..t}) &&&\n    (y \\<longlongrightarrow> y t0) (at t0 within {t0..t})", "by (auto simp: continuous_on)"], ["proof (state)\nthis:\n  (v \\<longlongrightarrow> v t0) (at t0 within {t0..t})\n  (y \\<longlongrightarrow> y t0) (at t0 within {t0..t})\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "ultimately"], ["proof (chain)\npicking this:\n  v t0 < y t0\n  (v \\<longlongrightarrow> v t0) (at t0 within {t0..t})\n  (y \\<longlongrightarrow> y t0) (at t0 within {t0..t})", "have \"\\<forall>\\<^sub>F x in at t0 within {t0 .. t}. 0 < y x - v x\""], ["proof (prove)\nusing this:\n  v t0 < y t0\n  (v \\<longlongrightarrow> v t0) (at t0 within {t0..t})\n  (y \\<longlongrightarrow> y t0) (at t0 within {t0..t})\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at t0 within {t0..t}. 0 < y x - v x", "by (intro order_tendstoD) (auto intro!: tendsto_eq_intros)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at t0 within {t0..t}. 0 < y x - v x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at t0 within {t0..t}. 0 < y x - v x", "obtain d where \"d > 0\" \"\\<And>x. t0 < x \\<Longrightarrow> x \\<le> t \\<Longrightarrow> x < t0 + d \\<Longrightarrow> v x < y x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at t0 within {t0..t}. 0 < y x - v x\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>0 < d;\n         \\<And>x.\n            \\<lbrakk>t0 < x; x \\<le> t; x < t0 + d\\<rbrakk>\n            \\<Longrightarrow> v x < y x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by atomize_elim (auto simp: eventually_at algebra_simps dist_real_def)"], ["proof (state)\nthis:\n  0 < d\n  \\<lbrakk>t0 < ?x; ?x \\<le> t; ?x < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?x < y ?x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d.\n                \\<lbrakk>0 < d;\n                 \\<And>s.\n                    \\<lbrakk>t0 < s; s \\<le> t; s < t0 + d\\<rbrakk>\n                    \\<Longrightarrow> v s < y s\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     v t0 \\<noteq> y t0\\<rbrakk>\n    \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  0 < d\n  \\<lbrakk>t0 < ?x; ?x \\<le> t; ?x < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?x < y ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  \\<lbrakk>t0 < ?x; ?x \\<le> t; ?x < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?x < y ?x\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < d\n  \\<lbrakk>t0 < ?s; ?s \\<le> t; ?s < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?s < y ?s\n\ngoal (1 subgoal):\n 1. v t < y t", "with \\<open>d > 0\\<close> \\<open>t0 < t\\<close>"], ["proof (chain)\npicking this:\n  0 < d\n  t0 < t\n  0 < d\n  \\<lbrakk>t0 < ?s; ?s \\<le> t; ?s < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?s < y ?s", "obtain e where \"e > 0\" \"t0 + e \\<le> t\" \"t0 < s \\<Longrightarrow> s < t0 + e \\<Longrightarrow> v s < y s\" for s"], ["proof (prove)\nusing this:\n  0 < d\n  t0 < t\n  0 < d\n  \\<lbrakk>t0 < ?s; ?s \\<le> t; ?s < t0 + d\\<rbrakk>\n  \\<Longrightarrow> v ?s < y ?s\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; t0 + e \\<le> t;\n         \\<And>s.\n            \\<lbrakk>t0 < s; s < t0 + e\\<rbrakk>\n            \\<Longrightarrow> v s < y s\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by atomize_elim (auto simp: min_def divide_simps intro!: exI[where x=\"min (d/2) ((t - t0) / 2)\"]\n        split: if_split_asm)"], ["proof (state)\nthis:\n  0 < e\n  t0 + e \\<le> t\n  \\<lbrakk>t0 < ?s; ?s < t0 + e\\<rbrakk> \\<Longrightarrow> v ?s < y ?s\n\ngoal (1 subgoal):\n 1. v t < y t", "from defect_less[\n      OF has_vderiv_on_subset[OF v']\n        has_vderiv_on_subset[OF y']\n        \\<open>t0 < t\\<close>\n        this lu]"], ["proof (chain)\npicking this:\n  \\<lbrakk>{t0<..t} \\<subseteq> T; {t0<..t} \\<subseteq> T;\n   \\<And>t. \\<lbrakk>t0 < t; t < t0 + e\\<rbrakk> \\<Longrightarrow> t0 < t;\n   \\<And>t.\n      \\<lbrakk>t0 < t; t < t0 + e\\<rbrakk> \\<Longrightarrow> t < t0 + e;\n   \\<And>ta.\n      \\<lbrakk>t0 < ta; ta \\<le> t\\<rbrakk> \\<Longrightarrow> ta \\<in> T;\n   \\<And>ta.\n      \\<lbrakk>t0 < ta; ta \\<le> t\\<rbrakk>\n      \\<Longrightarrow> t0 < ta\\<rbrakk>\n  \\<Longrightarrow> \\<forall>t\\<in>{t0<..t}. v t < y t", "show \"v t < y t\""], ["proof (prove)\nusing this:\n  \\<lbrakk>{t0<..t} \\<subseteq> T; {t0<..t} \\<subseteq> T;\n   \\<And>t. \\<lbrakk>t0 < t; t < t0 + e\\<rbrakk> \\<Longrightarrow> t0 < t;\n   \\<And>t.\n      \\<lbrakk>t0 < t; t < t0 + e\\<rbrakk> \\<Longrightarrow> t < t0 + e;\n   \\<And>ta.\n      \\<lbrakk>t0 < ta; ta \\<le> t\\<rbrakk> \\<Longrightarrow> ta \\<in> T;\n   \\<And>ta.\n      \\<lbrakk>t0 < ta; ta \\<le> t\\<rbrakk>\n      \\<Longrightarrow> t0 < ta\\<rbrakk>\n  \\<Longrightarrow> \\<forall>t\\<in>{t0<..t}. v t < y t\n\ngoal (1 subgoal):\n 1. v t < y t", "using \\<open>t0 < t\\<close> subset"], ["proof (prove)\nusing this:\n  \\<lbrakk>{t0<..t} \\<subseteq> T; {t0<..t} \\<subseteq> T;\n   \\<And>t. \\<lbrakk>t0 < t; t < t0 + e\\<rbrakk> \\<Longrightarrow> t0 < t;\n   \\<And>t.\n      \\<lbrakk>t0 < t; t < t0 + e\\<rbrakk> \\<Longrightarrow> t < t0 + e;\n   \\<And>ta.\n      \\<lbrakk>t0 < ta; ta \\<le> t\\<rbrakk> \\<Longrightarrow> ta \\<in> T;\n   \\<And>ta.\n      \\<lbrakk>t0 < ta; ta \\<le> t\\<rbrakk>\n      \\<Longrightarrow> t0 < ta\\<rbrakk>\n  \\<Longrightarrow> \\<forall>t\\<in>{t0<..t}. v t < y t\n  t0 < t\n  {t0..t} \\<subseteq> T\n\ngoal (1 subgoal):\n 1. v t < y t", "by (auto simp: subset_iff assms)"], ["proof (state)\nthis:\n  v t < y t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strict_lower_solution:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) T X\"\n  assumes v': \"(v has_vderiv_on v') T\"\n  assumes lower: \"\\<And>t. t \\<in> T \\<Longrightarrow> t > t0 \\<Longrightarrow> v' t < f t (v t)\"\n  assumes iv: \"v t0 \\<le> y t0\" \"v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0)\"\n  assumes t: \"t0 < t\" \"t0 \\<in> T\" \"t \\<in> T\" \"is_interval T\"\n  shows \"v t < y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v t < y t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. v t < y t", "note v'"], ["proof (state)\nthis:\n  (v has_vderiv_on v') T\n\ngoal (1 subgoal):\n 1. v t < y t", "moreover"], ["proof (state)\nthis:\n  (v has_vderiv_on v') T\n\ngoal (1 subgoal):\n 1. v t < y t", "note solves_odeD(1)[OF sol]"], ["proof (state)\nthis:\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n\ngoal (1 subgoal):\n 1. v t < y t", "moreover"], ["proof (state)\nthis:\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n\ngoal (1 subgoal):\n 1. v t < y t", "have 3: \"v' t - f t (v t) < f t (y t) - f t (y t)\" if \"t \\<in> T\" \"t > t0\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. v' t - f t (v t) < f t (y t) - f t (y t)", "using lower(1)[OF that]"], ["proof (prove)\nusing this:\n  v' t < f t (v t)\n\ngoal (1 subgoal):\n 1. v' t - f t (v t) < f t (y t) - f t (y t)", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> v' ?t - f ?t (v ?t) < f ?t (y ?t) - f ?t (y ?t)\n\ngoal (1 subgoal):\n 1. v t < y t", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> v' ?t - f ?t (v ?t) < f ?t (y ?t) - f ?t (y ?t)\n\ngoal (1 subgoal):\n 1. v t < y t", "note iv"], ["proof (state)\nthis:\n  v t0 \\<le> y t0\n  v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0)\n\ngoal (1 subgoal):\n 1. v t < y t", "moreover"], ["proof (state)\nthis:\n  v t0 \\<le> y t0\n  v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0)\n\ngoal (1 subgoal):\n 1. v t < y t", "note t"], ["proof (state)\nthis:\n  t0 < t\n  t0 \\<in> T\n  t \\<in> T\n  is_interval T\n\ngoal (1 subgoal):\n 1. v t < y t", "ultimately"], ["proof (chain)\npicking this:\n  (v has_vderiv_on v') T\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> v' ?t - f ?t (v ?t) < f ?t (y ?t) - f ?t (y ?t)\n  v t0 \\<le> y t0\n  v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0)\n  t0 < t\n  t0 \\<in> T\n  t \\<in> T\n  is_interval T", "show \"v t < y t\""], ["proof (prove)\nusing this:\n  (v has_vderiv_on v') T\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> v' ?t - f ?t (v ?t) < f ?t (y ?t) - f ?t (y ?t)\n  v t0 \\<le> y t0\n  v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0)\n  t0 < t\n  t0 \\<in> T\n  t \\<in> T\n  is_interval T\n\ngoal (1 subgoal):\n 1. v t < y t", "by (rule has_derivatives_less_lemma)"], ["proof (state)\nthis:\n  v t < y t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strict_upper_solution:\n  fixes w w'::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) T X\"\n  assumes w': \"(w has_vderiv_on w') T\"\n    and upper: \"\\<And>t. t \\<in> T \\<Longrightarrow> t > t0 \\<Longrightarrow> f t (w t) < w' t\"\n    and iv: \"y t0 \\<le> w t0\" \"y t0 = w t0 \\<Longrightarrow> f t0 (y t0) < w' t0\"\n  assumes t: \"t0 < t\" \"t0 \\<in> T\" \"t \\<in> T\" \"is_interval T\"\n  shows \"y t < w t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y t < w t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. y t < w t", "note solves_odeD(1)[OF sol]"], ["proof (state)\nthis:\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n\ngoal (1 subgoal):\n 1. y t < w t", "moreover"], ["proof (state)\nthis:\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n\ngoal (1 subgoal):\n 1. y t < w t", "note w'"], ["proof (state)\nthis:\n  (w has_vderiv_on w') T\n\ngoal (1 subgoal):\n 1. y t < w t", "moreover"], ["proof (state)\nthis:\n  (w has_vderiv_on w') T\n\ngoal (1 subgoal):\n 1. y t < w t", "have \"f t (y t) - f t (y t) < w' t - f t (w t)\" if \"t \\<in> T\" \"t > t0\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. f t (y t) - f t (y t) < w' t - f t (w t)", "using upper(1)[OF that]"], ["proof (prove)\nusing this:\n  f t (w t) < w' t\n\ngoal (1 subgoal):\n 1. f t (y t) - f t (y t) < w' t - f t (w t)", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> f ?t (y ?t) - f ?t (y ?t) < w' ?t - f ?t (w ?t)\n\ngoal (1 subgoal):\n 1. y t < w t", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> f ?t (y ?t) - f ?t (y ?t) < w' ?t - f ?t (w ?t)\n\ngoal (1 subgoal):\n 1. y t < w t", "note iv"], ["proof (state)\nthis:\n  y t0 \\<le> w t0\n  y t0 = w t0 \\<Longrightarrow> f t0 (y t0) < w' t0\n\ngoal (1 subgoal):\n 1. y t < w t", "moreover"], ["proof (state)\nthis:\n  y t0 \\<le> w t0\n  y t0 = w t0 \\<Longrightarrow> f t0 (y t0) < w' t0\n\ngoal (1 subgoal):\n 1. y t < w t", "note t"], ["proof (state)\nthis:\n  t0 < t\n  t0 \\<in> T\n  t \\<in> T\n  is_interval T\n\ngoal (1 subgoal):\n 1. y t < w t", "ultimately"], ["proof (chain)\npicking this:\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n  (w has_vderiv_on w') T\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> f ?t (y ?t) - f ?t (y ?t) < w' ?t - f ?t (w ?t)\n  y t0 \\<le> w t0\n  y t0 = w t0 \\<Longrightarrow> f t0 (y t0) < w' t0\n  t0 < t\n  t0 \\<in> T\n  t \\<in> T\n  is_interval T", "show \"y t < w t\""], ["proof (prove)\nusing this:\n  (y has_vderiv_on (\\<lambda>t. f t (y t))) T\n  (w has_vderiv_on w') T\n  \\<lbrakk>?t \\<in> T; t0 < ?t\\<rbrakk>\n  \\<Longrightarrow> f ?t (y ?t) - f ?t (y ?t) < w' ?t - f ?t (w ?t)\n  y t0 \\<le> w t0\n  y t0 = w t0 \\<Longrightarrow> f t0 (y t0) < w' t0\n  t0 < t\n  t0 \\<in> T\n  t \\<in> T\n  is_interval T\n\ngoal (1 subgoal):\n 1. y t < w t", "by (rule has_derivatives_less_lemma)"], ["proof (state)\nthis:\n  y t < w t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma uniform_limit_at_within_subset:\n  assumes \"uniform_limit S x l (at t within T)\"\n  assumes \"U \\<subseteq> T\"\n  shows \"uniform_limit S x l (at t within U)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. uniform_limit S x l (at t within U)", "by (metis assms(1) assms(2) eventually_within_Un filterlim_iff subset_Un_eq)"], ["", "lemma uniform_limit_le:\n  fixes f::\"'c \\<Rightarrow> 'a \\<Rightarrow> 'b::{metric_space, linorder_topology}\"\n  assumes I: \"I \\<noteq> bot\"\n  assumes u: \"uniform_limit X f g I\"\n  assumes u': \"uniform_limit X f' g' I\"\n  assumes \"\\<forall>\\<^sub>F i in I. \\<forall>x \\<in> X. f i x \\<le> f' i x\"\n  assumes \"x \\<in> X\"\n  shows \"g x \\<le> g' x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g x \\<le> g' x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g x \\<le> g' x", "have \"\\<forall>\\<^sub>F i in I. f i x \\<le> f' i x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in I. f i x \\<le> f' i x", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> bot\n  uniform_limit X f g I\n  uniform_limit X f' g' I\n  \\<forall>\\<^sub>F i in I. \\<forall>x\\<in>X. f i x \\<le> f' i x\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in I. f i x \\<le> f' i x", "by (simp add: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in I. f i x \\<le> f' i x\n\ngoal (1 subgoal):\n 1. g x \\<le> g' x", "with I tendsto_uniform_limitI[OF u' \\<open>x \\<in> X\\<close>] tendsto_uniform_limitI[OF u \\<open>x \\<in> X\\<close>]"], ["proof (chain)\npicking this:\n  I \\<noteq> bot\n  ((\\<lambda>y. f' y x) \\<longlongrightarrow> g' x) I\n  ((\\<lambda>y. f y x) \\<longlongrightarrow> g x) I\n  \\<forall>\\<^sub>F i in I. f i x \\<le> f' i x", "show ?thesis"], ["proof (prove)\nusing this:\n  I \\<noteq> bot\n  ((\\<lambda>y. f' y x) \\<longlongrightarrow> g' x) I\n  ((\\<lambda>y. f y x) \\<longlongrightarrow> g x) I\n  \\<forall>\\<^sub>F i in I. f i x \\<le> f' i x\n\ngoal (1 subgoal):\n 1. g x \\<le> g' x", "by (rule tendsto_le)"], ["proof (state)\nthis:\n  g x \\<le> g' x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma uniform_limit_le_const:\n  fixes f::\"'c \\<Rightarrow> 'a \\<Rightarrow> 'b::{metric_space, linorder_topology}\"\n  assumes I: \"I \\<noteq> bot\"\n  assumes u: \"uniform_limit X f g I\"\n  assumes \"\\<forall>\\<^sub>F i in I. \\<forall>x \\<in> X. f i x \\<le> h x\"\n  assumes \"x \\<in> X\"\n  shows \"g x \\<le> h x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g x \\<le> h x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g x \\<le> h x", "have \"\\<forall>\\<^sub>F i in I. f i x \\<le> h x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in I. f i x \\<le> h x", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> bot\n  uniform_limit X f g I\n  \\<forall>\\<^sub>F i in I. \\<forall>x\\<in>X. f i x \\<le> h x\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in I. f i x \\<le> h x", "by (simp add: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in I. f i x \\<le> h x\n\ngoal (1 subgoal):\n 1. g x \\<le> h x", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F i in I. f i x \\<le> h x", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in I. f i x \\<le> h x\n\ngoal (1 subgoal):\n 1. g x \\<le> h x", "by (metis tendsto_upperbound I tendsto_uniform_limitI[OF u \\<open>x \\<in> X\\<close>])"], ["proof (state)\nthis:\n  g x \\<le> h x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma uniform_limit_ge_const:\n  fixes f::\"'c \\<Rightarrow> 'a \\<Rightarrow> 'b::{metric_space, linorder_topology}\"\n  assumes I: \"I \\<noteq> bot\"\n  assumes u: \"uniform_limit X f g I\"\n  assumes \"\\<forall>\\<^sub>F i in I. \\<forall>x \\<in> X. h x \\<le> f i x\"\n  assumes \"x \\<in> X\"\n  shows \"h x \\<le> g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h x \\<le> g x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. h x \\<le> g x", "have \"\\<forall>\\<^sub>F i in I. h x \\<le> f i x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in I. h x \\<le> f i x", "using assms"], ["proof (prove)\nusing this:\n  I \\<noteq> bot\n  uniform_limit X f g I\n  \\<forall>\\<^sub>F i in I. \\<forall>x\\<in>X. h x \\<le> f i x\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in I. h x \\<le> f i x", "by (simp add: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in I. h x \\<le> f i x\n\ngoal (1 subgoal):\n 1. h x \\<le> g x", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F i in I. h x \\<le> f i x", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in I. h x \\<le> f i x\n\ngoal (1 subgoal):\n 1. h x \\<le> g x", "by (metis tendsto_lowerbound I tendsto_uniform_limitI[OF u \\<open>x \\<in> X\\<close>])"], ["proof (state)\nthis:\n  h x \\<le> g x\n\ngoal:\nNo subgoals!", "qed"], ["", "locale ll_on_open_real = ll_on_open T f X for T f and X::\"real set\"\nbegin"], ["", "lemma lower_solution:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) S X\"\n  assumes v': \"(v has_vderiv_on v') S\"\n  assumes lower: \"\\<And>t. t \\<in> S \\<Longrightarrow> t > t0 \\<Longrightarrow> v' t < f t (v t)\"\n  assumes iv: \"v t0 \\<le> y t0\"\n  assumes t: \"t0 \\<le> t\" \"t0 \\<in> S\" \"t \\<in> S\" \"is_interval S\" \"S \\<subseteq> T\"\n  shows \"v t \\<le> y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v t \\<le> y t", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "assume \"v t0 = y t0\""], ["proof (state)\nthis:\n  v t0 = y t0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"{t0 -- t} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> S", "using t"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  t0 \\<in> S\n  t \\<in> S\n  is_interval S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> S", "by (simp add: closed_segment_subset is_interval_convex)"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> S\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "with sol"], ["proof (chain)\npicking this:\n  (y solves_ode f) S X\n  {t0--t} \\<subseteq> S", "have \"(y solves_ode f) {t0 -- t} X\""], ["proof (prove)\nusing this:\n  (y solves_ode f) S X\n  {t0--t} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. (y solves_ode f) {t0--t} X", "using order_refl"], ["proof (prove)\nusing this:\n  (y solves_ode f) S X\n  {t0--t} \\<subseteq> S\n  ?x \\<le> ?x\n\ngoal (1 subgoal):\n 1. (y solves_ode f) {t0--t} X", "by (rule solves_ode_on_subset)"], ["proof (state)\nthis:\n  (y solves_ode f) {t0--t} X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "moreover"], ["proof (state)\nthis:\n  (y solves_ode f) {t0--t} X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "note refl"], ["proof (state)\nthis:\n  ?t = ?t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "moreover"], ["proof (state)\nthis:\n  ?t = ?t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"{t0 -- t} \\<subseteq> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> T", "using \\<open>{t0 -- t} \\<subseteq> S\\<close> \\<open>S \\<subseteq> T\\<close>"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> T", "by (rule order_trans)"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> T\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "ultimately"], ["proof (chain)\npicking this:\n  (y solves_ode f) {t0--t} X\n  ?t = ?t\n  {t0--t} \\<subseteq> T", "have t_ex: \"t \\<in> existence_ivl t0 (y t0)\""], ["proof (prove)\nusing this:\n  (y solves_ode f) {t0--t} X\n  ?t = ?t\n  {t0--t} \\<subseteq> T\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 (y t0)", "by (rule existence_ivl_maximal_segment)"], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 (y t0)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have t0_ex: \"t0 \\<in> existence_ivl t0 (y t0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t0 (y t0)", "using in_existence_between_zeroI t_ex"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<in> existence_ivl ?t0.0 ?x0.0; ?s \\<in> {?t0.0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> existence_ivl ?t0.0 ?x0.0\n  t \\<in> existence_ivl t0 (y t0)\n\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t0 (y t0)", "by blast"], ["proof (state)\nthis:\n  t0 \\<in> existence_ivl t0 (y t0)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"t0 \\<in> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> T", "using assms(9) t(2)"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  t0 \\<in> S\n\ngoal (1 subgoal):\n 1. t0 \\<in> T", "by blast"], ["proof (state)\nthis:\n  t0 \\<in> T\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "from uniform_limit_flow[OF t0_ex t_ex] \\<open>t0 \\<le> t\\<close>"], ["proof (chain)\npicking this:\n  t0 \\<le> t \\<Longrightarrow>\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n  t0 \\<le> t", "have \"uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\""], ["proof (prove)\nusing this:\n  t0 \\<le> t \\<Longrightarrow>\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))", "by simp"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "then"], ["proof (chain)\npicking this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))", "have \"uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))\""], ["proof (prove)\nusing this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n\ngoal (1 subgoal):\n 1. uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))", "by (rule uniform_limit_at_within_subset) simp"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "moreover"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "{"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"\\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i", "by (rule eventually_mem_existence_ivl) fact"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i", "have \"\\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds (y t0).\n     x \\<noteq> y t0 \\<longrightarrow>\n     x \\<in> UNIV \\<longrightarrow> t \\<in> existence_ivl t0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds (y t0).\n       x \\<noteq> y t0 \\<longrightarrow>\n       x \\<in> {y t0<..} \\<longrightarrow> t \\<in> existence_ivl t0 x", "by eventually_elim simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"\\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X", "have f1: \"\\<And>r ra rb. r \\<notin> existence_ivl ra rb \\<or> rb \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r ra rb. r \\<notin> existence_ivl ra rb \\<or> rb \\<in> X", "by (metis existence_ivl_reverse flow_in_domain flows_reverse)"], ["proof (state)\nthis:\n  ?r \\<notin> existence_ivl ?ra ?rb \\<or> ?rb \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X", "obtain rr :: \"(real \\<Rightarrow> bool) \\<Rightarrow> (real \\<Rightarrow> bool) \\<Rightarrow> real\" where\n        \"\\<And>p f pa fa. (\\<not> eventually p f \\<or> eventually pa f \\<or> p (rr p pa)) \\<and>\n          (\\<not> eventually p fa \\<or> \\<not> pa (rr p pa) \\<or> eventually pa fa)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>rr.\n        (\\<And>p f pa fa.\n            (\\<not> eventually p f \\<or>\n             eventually pa f \\<or> p (rr p pa)) \\<and>\n            (\\<not> eventually p fa \\<or>\n             \\<not> pa (rr p pa) \\<or> eventually pa fa)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis (no_types) eventually_mono)"], ["proof (state)\nthis:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X", "then"], ["proof (chain)\npicking this:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X", "using f1 calculation"], ["proof (prove)\nusing this:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)\n  ?r \\<notin> existence_ivl ?ra ?rb \\<or> ?rb \\<in> X\n  \\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X", "by meson"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"\\<forall>\\<^sub>F i in at_right (y t0). y t0 < i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) (y t0)) (at_right (y t0))", "by (simp add: eventually_at_filter)"], ["proof (state)\nthis:\n  eventually ((<) (y t0)) (at_right (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i\n  \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X\n  eventually ((<) (y t0)) (at_right (y t0))", "have \"\\<forall>\\<^sub>F i in at_right (y t0). \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in at_right (y t0). t \\<in> existence_ivl t0 i\n  \\<forall>\\<^sub>F i in at_right (y t0). i \\<in> X\n  eventually ((<) (y t0)) (at_right (y t0))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_right (y t0).\n       \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>t \\<in> existence_ivl t0 i; i \\<in> X; y t0 < i\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x", "case (elim y')"], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y t0 < y'\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>t \\<in> existence_ivl t0 i; i \\<in> X; y t0 < i\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 y' x", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {t0..t} \\<Longrightarrow> v x \\<le> flow t0 y' x", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {t0..t} \\<Longrightarrow> v x \\<le> flow t0 y' x", "assume s: \"s \\<in> {t0..t}\""], ["proof (state)\nthis:\n  s \\<in> {t0..t}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {t0..t} \\<Longrightarrow> v x \\<le> flow t0 y' x", "show \"v s \\<le> flow t0 y' s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v s \\<le> flow t0 y' s", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v s \\<le> flow t0 y' s\n 2. \\<not> ?P \\<Longrightarrow> v s \\<le> flow t0 y' s", "assume \"s = t0\""], ["proof (state)\nthis:\n  s = t0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v s \\<le> flow t0 y' s\n 2. \\<not> ?P \\<Longrightarrow> v s \\<le> flow t0 y' s", "with elim iv"], ["proof (chain)\npicking this:\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y t0 < y'\n  v t0 \\<le> y t0\n  s = t0", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y t0 < y'\n  v t0 \\<le> y t0\n  s = t0\n\ngoal (1 subgoal):\n 1. v s \\<le> flow t0 y' s", "by (simp add: \\<open>t0 \\<in> T\\<close> \\<open>y' \\<in> X\\<close>)"], ["proof (state)\nthis:\n  v s \\<le> flow t0 y' s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "assume \"s \\<noteq> t0\""], ["proof (state)\nthis:\n  s \\<noteq> t0\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "with s"], ["proof (chain)\npicking this:\n  s \\<in> {t0..t}\n  s \\<noteq> t0", "have \"t0 < s\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..t}\n  s \\<noteq> t0\n\ngoal (1 subgoal):\n 1. t0 < s", "by simp"], ["proof (state)\nthis:\n  t0 < s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "have \"{t0 -- s} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--s} \\<subseteq> S", "using \\<open>{t0--t} \\<subseteq> S\\<close> closed_segment_eq_real_ivl s"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> S\n  {?a--?b} = (if ?a \\<le> ?b then {?a..?b} else {?b..?a})\n  s \\<in> {t0..t}\n\ngoal (1 subgoal):\n 1. {t0--s} \\<subseteq> S", "by auto"], ["proof (state)\nthis:\n  {t0--s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "from s elim"], ["proof (chain)\npicking this:\n  s \\<in> {t0..t}\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y t0 < y'", "have \"{t0..s} \\<subseteq> existence_ivl t0 y'\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..t}\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y t0 < y'\n\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> existence_ivl t0 y'", "using ivl_subset_existence_ivl"], ["proof (prove)\nusing this:\n  s \\<in> {t0..t}\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y t0 < y'\n  ?t \\<in> existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  {?t0.0..?t} \\<subseteq> existence_ivl ?t0.0 ?x0.0\n\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> existence_ivl t0 y'", "by blast"], ["proof (state)\nthis:\n  {t0..s} \\<subseteq> existence_ivl t0 y'\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "with flow_solves_ode"], ["proof (chain)\npicking this:\n  \\<lbrakk>?t0.0 \\<in> T; ?x0.0 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (flow ?t0.0 ?x0.0 solves_ode f)\n                     (existence_ivl ?t0.0 ?x0.0) X\n  {t0..s} \\<subseteq> existence_ivl t0 y'", "have sol: \"(flow t0 y' solves_ode f) {t0 .. s} X\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?t0.0 \\<in> T; ?x0.0 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (flow ?t0.0 ?x0.0 solves_ode f)\n                     (existence_ivl ?t0.0 ?x0.0) X\n  {t0..s} \\<subseteq> existence_ivl t0 y'\n\ngoal (1 subgoal):\n 1. (flow t0 y' solves_ode f) {t0..s} X", "by (rule solves_ode_on_subset) (auto intro!: \\<open>y' \\<in> X\\<close> \\<open>t0 \\<in> T\\<close>)"], ["proof (state)\nthis:\n  (flow t0 y' solves_ode f) {t0..s} X\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "have \"{t0 .. s} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> S", "using \\<open>{t0 -- s} \\<subseteq> S\\<close>"], ["proof (prove)\nusing this:\n  {t0--s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> S", "by (simp add: closed_segment_eq_real_ivl split: if_splits)"], ["proof (state)\nthis:\n  {t0..s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "with v'"], ["proof (chain)\npicking this:\n  (v has_vderiv_on v') S\n  {t0..s} \\<subseteq> S", "have v': \"(v has_vderiv_on v') {t0 .. s}\""], ["proof (prove)\nusing this:\n  (v has_vderiv_on v') S\n  {t0..s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. (v has_vderiv_on v') {t0..s}", "by (rule has_vderiv_on_subset)"], ["proof (state)\nthis:\n  (v has_vderiv_on v') {t0..s}\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "from \\<open>y t0 < y'\\<close> \\<open>v t0 = y t0\\<close>"], ["proof (chain)\npicking this:\n  y t0 < y'\n  v t0 = y t0", "have less_init: \"v t0 < flow t0 y' t0\""], ["proof (prove)\nusing this:\n  y t0 < y'\n  v t0 = y t0\n\ngoal (1 subgoal):\n 1. v t0 < flow t0 y' t0", "by (simp add: flow_initial_time_if \\<open>t0 \\<in> T\\<close> \\<open>y' \\<in> X\\<close>)"], ["proof (state)\nthis:\n  v t0 < flow t0 y' t0\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "from strict_lower_solution[OF sol v' lower less_imp_le[OF less_init] _ \\<open>t0 < s\\<close>]\n            \\<open>{t0 .. s} \\<subseteq> S\\<close>\n            less_init \\<open>t0 < s\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk>\n              \\<Longrightarrow> t \\<in> S;\n   \\<And>t.\n      \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk> \\<Longrightarrow> t0 < t;\n   v t0 = flow t0 y' t0 \\<Longrightarrow> v' t0 < f t0 (flow t0 y' t0);\n   t0 \\<in> {t0..s}; s \\<in> {t0..s}; is_interval {t0..s}\\<rbrakk>\n  \\<Longrightarrow> v s < flow t0 y' s\n  {t0..s} \\<subseteq> S\n  v t0 < flow t0 y' t0\n  t0 < s", "have \"v s < flow t0 y' s\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk>\n              \\<Longrightarrow> t \\<in> S;\n   \\<And>t.\n      \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk> \\<Longrightarrow> t0 < t;\n   v t0 = flow t0 y' t0 \\<Longrightarrow> v' t0 < f t0 (flow t0 y' t0);\n   t0 \\<in> {t0..s}; s \\<in> {t0..s}; is_interval {t0..s}\\<rbrakk>\n  \\<Longrightarrow> v s < flow t0 y' s\n  {t0..s} \\<subseteq> S\n  v t0 < flow t0 y' t0\n  t0 < s\n\ngoal (1 subgoal):\n 1. v s < flow t0 y' s", "by (simp add: subset_iff is_interval_cc)"], ["proof (state)\nthis:\n  v s < flow t0 y' s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> v s \\<le> flow t0 y' s", "then"], ["proof (chain)\npicking this:\n  v s < flow t0 y' s", "show ?thesis"], ["proof (prove)\nusing this:\n  v s < flow t0 y' s\n\ngoal (1 subgoal):\n 1. v s \\<le> flow t0 y' s", "by simp"], ["proof (state)\nthis:\n  v s \\<le> flow t0 y' s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  v s \\<le> flow t0 y' s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 y' x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0).\n     \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "}"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0).\n     \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_right (y t0).\n     \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"t \\<in> {t0 .. t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> {t0..t}", "using \\<open>t0 \\<le> t\\<close>"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. t \\<in> {t0..t}", "by simp"], ["proof (state)\nthis:\n  t \\<in> {t0..t}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "ultimately"], ["proof (chain)\npicking this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))\n  \\<forall>\\<^sub>F i in at_right (y t0).\n     \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x\n  t \\<in> {t0..t}", "have \"v t \\<le> flow t0 (y t0) t\""], ["proof (prove)\nusing this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_right (y t0))\n  \\<forall>\\<^sub>F i in at_right (y t0).\n     \\<forall>x\\<in>{t0..t}. v x \\<le> flow t0 i x\n  t \\<in> {t0..t}\n\ngoal (1 subgoal):\n 1. v t \\<le> flow t0 (y t0) t", "by (rule uniform_limit_ge_const[OF trivial_limit_at_right_real])"], ["proof (state)\nthis:\n  v t \\<le> flow t0 (y t0) t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "also"], ["proof (state)\nthis:\n  v t \\<le> flow t0 (y t0) t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "have \"flow t0 (y t0) t = y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 (y t0) t = y t", "using sol t"], ["proof (prove)\nusing this:\n  (y solves_ode f) S X\n  t0 \\<le> t\n  t0 \\<in> S\n  t \\<in> S\n  is_interval S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. flow t0 (y t0) t = y t", "by (intro maximal_existence_flow) auto"], ["proof (state)\nthis:\n  flow t0 (y t0) t = y t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> v t \\<le> y t\n 2. \\<not> ?P \\<Longrightarrow> v t \\<le> y t", "finally"], ["proof (chain)\npicking this:\n  v t \\<le> y t", "show ?thesis"], ["proof (prove)\nusing this:\n  v t \\<le> y t\n\ngoal (1 subgoal):\n 1. v t \\<le> y t", "."], ["proof (state)\nthis:\n  v t \\<le> y t\n\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> v t \\<le> y t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> v t \\<le> y t", "assume \"v t0 \\<noteq> y t0\""], ["proof (state)\nthis:\n  v t0 \\<noteq> y t0\n\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> v t \\<le> y t", "then"], ["proof (chain)\npicking this:\n  v t0 \\<noteq> y t0", "have less: \"v t0 < y t0\""], ["proof (prove)\nusing this:\n  v t0 \\<noteq> y t0\n\ngoal (1 subgoal):\n 1. v t0 < y t0", "using iv"], ["proof (prove)\nusing this:\n  v t0 \\<noteq> y t0\n  v t0 \\<le> y t0\n\ngoal (1 subgoal):\n 1. v t0 < y t0", "by simp"], ["proof (state)\nthis:\n  v t0 < y t0\n\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> v t \\<le> y t", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. v t \\<le> y t", "apply (cases \"t0 = t\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. t0 = t \\<Longrightarrow> v t \\<le> y t\n 2. t0 \\<noteq> t \\<Longrightarrow> v t \\<le> y t", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 = t \\<Longrightarrow> v t \\<le> y t", "using iv"], ["proof (prove)\nusing this:\n  v t0 \\<le> y t0\n\ngoal (1 subgoal):\n 1. t0 = t \\<Longrightarrow> v t \\<le> y t", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<noteq> t \\<Longrightarrow> v t \\<le> y t", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<noteq> t \\<Longrightarrow> v t \\<le> y t", "using strict_lower_solution[OF sol v' lower iv] less t"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<in> S; t0 < t\\<rbrakk>\n              \\<Longrightarrow> t \\<in> S;\n   \\<And>t. \\<lbrakk>t \\<in> S; t0 < t\\<rbrakk> \\<Longrightarrow> t0 < t;\n   v t0 = y t0 \\<Longrightarrow> v' t0 < f t0 (y t0); t0 < ?t; t0 \\<in> S;\n   ?t \\<in> S; is_interval S\\<rbrakk>\n  \\<Longrightarrow> v ?t < y ?t\n  v t0 < y t0\n  t0 \\<le> t\n  t0 \\<in> S\n  t \\<in> S\n  is_interval S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. t0 \\<noteq> t \\<Longrightarrow> v t \\<le> y t", "by force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  v t \\<le> y t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma upper_solution:\n  fixes v v' ::\"real \\<Rightarrow> real\"\n  assumes sol: \"(y solves_ode f) S X\"\n  assumes v': \"(v has_vderiv_on v') S\"\n  assumes upper: \"\\<And>t. t \\<in> S \\<Longrightarrow> t > t0 \\<Longrightarrow> f t (v t) < v' t\"\n  assumes iv: \"y t0 \\<le> v t0\"\n  assumes t: \"t0 \\<le> t\" \"t0 \\<in> S\" \"t \\<in> S\" \"is_interval S\" \"S \\<subseteq> T\"\n  shows \"y t \\<le> v t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y t \\<le> v t", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "assume \"v t0 = y t0\""], ["proof (state)\nthis:\n  v t0 = y t0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"{t0 -- t} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> S", "using t"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n  t0 \\<in> S\n  t \\<in> S\n  is_interval S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> S", "by (simp add: closed_segment_subset is_interval_convex)"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> S\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "with sol"], ["proof (chain)\npicking this:\n  (y solves_ode f) S X\n  {t0--t} \\<subseteq> S", "have \"(y solves_ode f) {t0 -- t} X\""], ["proof (prove)\nusing this:\n  (y solves_ode f) S X\n  {t0--t} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. (y solves_ode f) {t0--t} X", "using order_refl"], ["proof (prove)\nusing this:\n  (y solves_ode f) S X\n  {t0--t} \\<subseteq> S\n  ?x \\<le> ?x\n\ngoal (1 subgoal):\n 1. (y solves_ode f) {t0--t} X", "by (rule solves_ode_on_subset)"], ["proof (state)\nthis:\n  (y solves_ode f) {t0--t} X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "moreover"], ["proof (state)\nthis:\n  (y solves_ode f) {t0--t} X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "note refl"], ["proof (state)\nthis:\n  ?t = ?t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "moreover"], ["proof (state)\nthis:\n  ?t = ?t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"{t0 -- t} \\<subseteq> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> T", "using \\<open>{t0 -- t} \\<subseteq> S\\<close> \\<open>S \\<subseteq> T\\<close>"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. {t0--t} \\<subseteq> T", "by (rule order_trans)"], ["proof (state)\nthis:\n  {t0--t} \\<subseteq> T\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "ultimately"], ["proof (chain)\npicking this:\n  (y solves_ode f) {t0--t} X\n  ?t = ?t\n  {t0--t} \\<subseteq> T", "have t_ex: \"t \\<in> existence_ivl t0 (y t0)\""], ["proof (prove)\nusing this:\n  (y solves_ode f) {t0--t} X\n  ?t = ?t\n  {t0--t} \\<subseteq> T\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl t0 (y t0)", "by (rule existence_ivl_maximal_segment)"], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 (y t0)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have t0_ex: \"t0 \\<in> existence_ivl t0 (y t0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t0 (y t0)", "using in_existence_between_zeroI t_ex"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<in> existence_ivl ?t0.0 ?x0.0; ?s \\<in> {?t0.0--?t}\\<rbrakk>\n  \\<Longrightarrow> ?s \\<in> existence_ivl ?t0.0 ?x0.0\n  t \\<in> existence_ivl t0 (y t0)\n\ngoal (1 subgoal):\n 1. t0 \\<in> existence_ivl t0 (y t0)", "by blast"], ["proof (state)\nthis:\n  t0 \\<in> existence_ivl t0 (y t0)\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"t0 \\<in> T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<in> T", "using assms(9) t(2)"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  t0 \\<in> S\n\ngoal (1 subgoal):\n 1. t0 \\<in> T", "by blast"], ["proof (state)\nthis:\n  t0 \\<in> T\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "from uniform_limit_flow[OF t0_ex t_ex] \\<open>t0 \\<le> t\\<close>"], ["proof (chain)\npicking this:\n  t0 \\<le> t \\<Longrightarrow>\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n  t0 \\<le> t", "have \"uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\""], ["proof (prove)\nusing this:\n  t0 \\<le> t \\<Longrightarrow>\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))", "by simp"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "then"], ["proof (chain)\npicking this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))", "have \"uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))\""], ["proof (prove)\nusing this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at (y t0))\n\ngoal (1 subgoal):\n 1. uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))", "by (rule uniform_limit_at_within_subset) simp"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "moreover"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "{"], ["proof (state)\nthis:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"\\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i", "by (rule eventually_mem_existence_ivl) fact"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i", "have \"\\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in at (y t0). t \\<in> existence_ivl t0 i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds (y t0).\n     x \\<noteq> y t0 \\<longrightarrow>\n     x \\<in> UNIV \\<longrightarrow> t \\<in> existence_ivl t0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds (y t0).\n       x \\<noteq> y t0 \\<longrightarrow>\n       x \\<in> {..<y t0} \\<longrightarrow> t \\<in> existence_ivl t0 x", "by eventually_elim simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"\\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X", "have f1: \"\\<And>r ra rb. r \\<notin> existence_ivl ra rb \\<or> rb \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r ra rb. r \\<notin> existence_ivl ra rb \\<or> rb \\<in> X", "by (metis existence_ivl_reverse flow_in_domain flows_reverse)"], ["proof (state)\nthis:\n  ?r \\<notin> existence_ivl ?ra ?rb \\<or> ?rb \\<in> X\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X", "obtain rr :: \"(real \\<Rightarrow> bool) \\<Rightarrow> (real \\<Rightarrow> bool) \\<Rightarrow> real\" where\n        \"\\<And>p f pa fa. (\\<not> eventually p f \\<or> eventually pa f \\<or> p (rr p pa)) \\<and>\n          (\\<not> eventually p fa \\<or> \\<not> pa (rr p pa) \\<or> eventually pa fa)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>rr.\n        (\\<And>p f pa fa.\n            (\\<not> eventually p f \\<or>\n             eventually pa f \\<or> p (rr p pa)) \\<and>\n            (\\<not> eventually p fa \\<or>\n             \\<not> pa (rr p pa) \\<or> eventually pa fa)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis (no_types) eventually_mono)"], ["proof (state)\nthis:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X", "then"], ["proof (chain)\npicking this:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X", "using f1 calculation"], ["proof (prove)\nusing this:\n  (\\<not> eventually ?p ?f \\<or>\n   eventually ?pa ?f \\<or> ?p (rr ?p ?pa)) \\<and>\n  (\\<not> eventually ?p ?fa \\<or>\n   \\<not> ?pa (rr ?p ?pa) \\<or> eventually ?pa ?fa)\n  ?r \\<notin> existence_ivl ?ra ?rb \\<or> ?rb \\<in> X\n  \\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X", "by meson"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"\\<forall>\\<^sub>F i in at_left (y t0). i < y t0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0). i < y t0", "by (simp add: eventually_at_filter)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0). i < y t0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i\n  \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X\n  \\<forall>\\<^sub>F i in at_left (y t0). i < y t0", "have \"\\<forall>\\<^sub>F i in at_left (y t0). \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in at_left (y t0). t \\<in> existence_ivl t0 i\n  \\<forall>\\<^sub>F i in at_left (y t0). i \\<in> X\n  \\<forall>\\<^sub>F i in at_left (y t0). i < y t0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in at_left (y t0).\n       \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>t \\<in> existence_ivl t0 i; i \\<in> X; i < y t0\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x", "case (elim y')"], ["proof (state)\nthis:\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y' < y t0\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       \\<lbrakk>t \\<in> existence_ivl t0 i; i \\<in> X; i < y t0\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{t0..t}. flow t0 y' x \\<le> v x", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {t0..t} \\<Longrightarrow> flow t0 y' x \\<le> v x", "fix s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {t0..t} \\<Longrightarrow> flow t0 y' x \\<le> v x", "assume s: \"s \\<in> {t0..t}\""], ["proof (state)\nthis:\n  s \\<in> {t0..t}\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {t0..t} \\<Longrightarrow> flow t0 y' x \\<le> v x", "show \"flow t0 y' s \\<le> v s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 y' s \\<le> v s", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> flow t0 y' s \\<le> v s\n 2. \\<not> ?P \\<Longrightarrow> flow t0 y' s \\<le> v s", "assume \"s = t0\""], ["proof (state)\nthis:\n  s = t0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> flow t0 y' s \\<le> v s\n 2. \\<not> ?P \\<Longrightarrow> flow t0 y' s \\<le> v s", "with elim iv"], ["proof (chain)\npicking this:\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y' < y t0\n  y t0 \\<le> v t0\n  s = t0", "show ?thesis"], ["proof (prove)\nusing this:\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y' < y t0\n  y t0 \\<le> v t0\n  s = t0\n\ngoal (1 subgoal):\n 1. flow t0 y' s \\<le> v s", "by (simp add: \\<open>t0 \\<in> T\\<close> \\<open>y' \\<in> X\\<close>)"], ["proof (state)\nthis:\n  flow t0 y' s \\<le> v s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "assume \"s \\<noteq> t0\""], ["proof (state)\nthis:\n  s \\<noteq> t0\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "with s"], ["proof (chain)\npicking this:\n  s \\<in> {t0..t}\n  s \\<noteq> t0", "have \"t0 < s\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..t}\n  s \\<noteq> t0\n\ngoal (1 subgoal):\n 1. t0 < s", "by simp"], ["proof (state)\nthis:\n  t0 < s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "have \"{t0 -- s} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0--s} \\<subseteq> S", "using \\<open>{t0--t} \\<subseteq> S\\<close> closed_segment_eq_real_ivl s"], ["proof (prove)\nusing this:\n  {t0--t} \\<subseteq> S\n  {?a--?b} = (if ?a \\<le> ?b then {?a..?b} else {?b..?a})\n  s \\<in> {t0..t}\n\ngoal (1 subgoal):\n 1. {t0--s} \\<subseteq> S", "by auto"], ["proof (state)\nthis:\n  {t0--s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "from s elim"], ["proof (chain)\npicking this:\n  s \\<in> {t0..t}\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y' < y t0", "have \"{t0..s} \\<subseteq> existence_ivl t0 y'\""], ["proof (prove)\nusing this:\n  s \\<in> {t0..t}\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y' < y t0\n\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> existence_ivl t0 y'", "using ivl_subset_existence_ivl"], ["proof (prove)\nusing this:\n  s \\<in> {t0..t}\n  t \\<in> existence_ivl t0 y'\n  y' \\<in> X\n  y' < y t0\n  ?t \\<in> existence_ivl ?t0.0 ?x0.0 \\<Longrightarrow>\n  {?t0.0..?t} \\<subseteq> existence_ivl ?t0.0 ?x0.0\n\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> existence_ivl t0 y'", "by blast"], ["proof (state)\nthis:\n  {t0..s} \\<subseteq> existence_ivl t0 y'\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "with flow_solves_ode"], ["proof (chain)\npicking this:\n  \\<lbrakk>?t0.0 \\<in> T; ?x0.0 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (flow ?t0.0 ?x0.0 solves_ode f)\n                     (existence_ivl ?t0.0 ?x0.0) X\n  {t0..s} \\<subseteq> existence_ivl t0 y'", "have sol: \"(flow t0 y' solves_ode f) {t0 .. s} X\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?t0.0 \\<in> T; ?x0.0 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> (flow ?t0.0 ?x0.0 solves_ode f)\n                     (existence_ivl ?t0.0 ?x0.0) X\n  {t0..s} \\<subseteq> existence_ivl t0 y'\n\ngoal (1 subgoal):\n 1. (flow t0 y' solves_ode f) {t0..s} X", "by (rule solves_ode_on_subset) (auto intro!: \\<open>y' \\<in> X\\<close> \\<open>t0 \\<in> T\\<close>)"], ["proof (state)\nthis:\n  (flow t0 y' solves_ode f) {t0..s} X\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "have \"{t0 .. s} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> S", "using \\<open>{t0 -- s} \\<subseteq> S\\<close>"], ["proof (prove)\nusing this:\n  {t0--s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. {t0..s} \\<subseteq> S", "by (simp add: closed_segment_eq_real_ivl split: if_splits)"], ["proof (state)\nthis:\n  {t0..s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "with v'"], ["proof (chain)\npicking this:\n  (v has_vderiv_on v') S\n  {t0..s} \\<subseteq> S", "have v': \"(v has_vderiv_on v') {t0 .. s}\""], ["proof (prove)\nusing this:\n  (v has_vderiv_on v') S\n  {t0..s} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. (v has_vderiv_on v') {t0..s}", "by (rule has_vderiv_on_subset)"], ["proof (state)\nthis:\n  (v has_vderiv_on v') {t0..s}\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "from \\<open>y' < y t0\\<close> \\<open>v t0 = y t0\\<close>"], ["proof (chain)\npicking this:\n  y' < y t0\n  v t0 = y t0", "have less_init: \"flow t0 y' t0 < v t0\""], ["proof (prove)\nusing this:\n  y' < y t0\n  v t0 = y t0\n\ngoal (1 subgoal):\n 1. flow t0 y' t0 < v t0", "by (simp add: flow_initial_time_if \\<open>t0 \\<in> T\\<close> \\<open>y' \\<in> X\\<close>)"], ["proof (state)\nthis:\n  flow t0 y' t0 < v t0\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "from strict_upper_solution[OF sol v' upper less_imp_le[OF less_init] _ \\<open>t0 < s\\<close>]\n            \\<open>{t0 .. s} \\<subseteq> S\\<close>\n            less_init \\<open>t0 < s\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk>\n              \\<Longrightarrow> t \\<in> S;\n   \\<And>t.\n      \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk> \\<Longrightarrow> t0 < t;\n   flow t0 y' t0 = v t0 \\<Longrightarrow> f t0 (flow t0 y' t0) < v' t0;\n   t0 \\<in> {t0..s}; s \\<in> {t0..s}; is_interval {t0..s}\\<rbrakk>\n  \\<Longrightarrow> flow t0 y' s < v s\n  {t0..s} \\<subseteq> S\n  flow t0 y' t0 < v t0\n  t0 < s", "have \"flow t0 y' s < v s\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk>\n              \\<Longrightarrow> t \\<in> S;\n   \\<And>t.\n      \\<lbrakk>t \\<in> {t0..s}; t0 < t\\<rbrakk> \\<Longrightarrow> t0 < t;\n   flow t0 y' t0 = v t0 \\<Longrightarrow> f t0 (flow t0 y' t0) < v' t0;\n   t0 \\<in> {t0..s}; s \\<in> {t0..s}; is_interval {t0..s}\\<rbrakk>\n  \\<Longrightarrow> flow t0 y' s < v s\n  {t0..s} \\<subseteq> S\n  flow t0 y' t0 < v t0\n  t0 < s\n\ngoal (1 subgoal):\n 1. flow t0 y' s < v s", "by (simp add: subset_iff is_interval_cc)"], ["proof (state)\nthis:\n  flow t0 y' s < v s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t0 \\<Longrightarrow> flow t0 y' s \\<le> v s", "then"], ["proof (chain)\npicking this:\n  flow t0 y' s < v s", "show ?thesis"], ["proof (prove)\nusing this:\n  flow t0 y' s < v s\n\ngoal (1 subgoal):\n 1. flow t0 y' s \\<le> v s", "by simp"], ["proof (state)\nthis:\n  flow t0 y' s \\<le> v s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  flow t0 y' s \\<le> v s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{t0..t}. flow t0 y' x \\<le> v x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0).\n     \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "}"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0).\n     \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F i in at_left (y t0).\n     \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"t \\<in> {t0 .. t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> {t0..t}", "using \\<open>t0 \\<le> t\\<close>"], ["proof (prove)\nusing this:\n  t0 \\<le> t\n\ngoal (1 subgoal):\n 1. t \\<in> {t0..t}", "by simp"], ["proof (state)\nthis:\n  t \\<in> {t0..t}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "ultimately"], ["proof (chain)\npicking this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))\n  \\<forall>\\<^sub>F i in at_left (y t0).\n     \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x\n  t \\<in> {t0..t}", "have \"flow t0 (y t0) t \\<le> v t\""], ["proof (prove)\nusing this:\n  uniform_limit {t0..t} (flow t0) (flow t0 (y t0)) (at_left (y t0))\n  \\<forall>\\<^sub>F i in at_left (y t0).\n     \\<forall>x\\<in>{t0..t}. flow t0 i x \\<le> v x\n  t \\<in> {t0..t}\n\ngoal (1 subgoal):\n 1. flow t0 (y t0) t \\<le> v t", "by (rule uniform_limit_le_const[OF trivial_limit_at_left_real])"], ["proof (state)\nthis:\n  flow t0 (y t0) t \\<le> v t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "also"], ["proof (state)\nthis:\n  flow t0 (y t0) t \\<le> v t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "have \"flow t0 (y t0) t = y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow t0 (y t0) t = y t", "using sol t"], ["proof (prove)\nusing this:\n  (y solves_ode f) S X\n  t0 \\<le> t\n  t0 \\<in> S\n  t \\<in> S\n  is_interval S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. flow t0 (y t0) t = y t", "by (intro maximal_existence_flow) auto"], ["proof (state)\nthis:\n  flow t0 (y t0) t = y t\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> y t \\<le> v t\n 2. \\<not> ?P \\<Longrightarrow> y t \\<le> v t", "finally"], ["proof (chain)\npicking this:\n  y t \\<le> v t", "show ?thesis"], ["proof (prove)\nusing this:\n  y t \\<le> v t\n\ngoal (1 subgoal):\n 1. y t \\<le> v t", "."], ["proof (state)\nthis:\n  y t \\<le> v t\n\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> y t \\<le> v t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> y t \\<le> v t", "assume \"v t0 \\<noteq> y t0\""], ["proof (state)\nthis:\n  v t0 \\<noteq> y t0\n\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> y t \\<le> v t", "then"], ["proof (chain)\npicking this:\n  v t0 \\<noteq> y t0", "have less: \"y t0 < v t0\""], ["proof (prove)\nusing this:\n  v t0 \\<noteq> y t0\n\ngoal (1 subgoal):\n 1. y t0 < v t0", "using iv"], ["proof (prove)\nusing this:\n  v t0 \\<noteq> y t0\n  y t0 \\<le> v t0\n\ngoal (1 subgoal):\n 1. y t0 < v t0", "by simp"], ["proof (state)\nthis:\n  y t0 < v t0\n\ngoal (1 subgoal):\n 1. v t0 \\<noteq> y t0 \\<Longrightarrow> y t \\<le> v t", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. y t \\<le> v t", "apply (cases \"t0 = t\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. t0 = t \\<Longrightarrow> y t \\<le> v t\n 2. t0 \\<noteq> t \\<Longrightarrow> y t \\<le> v t", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 = t \\<Longrightarrow> y t \\<le> v t", "using iv"], ["proof (prove)\nusing this:\n  y t0 \\<le> v t0\n\ngoal (1 subgoal):\n 1. t0 = t \\<Longrightarrow> y t \\<le> v t", "by blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<noteq> t \\<Longrightarrow> y t \\<le> v t", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. t0 \\<noteq> t \\<Longrightarrow> y t \\<le> v t", "using strict_upper_solution[OF sol v' upper iv] less t"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t.\n              \\<lbrakk>t \\<in> S; t0 < t\\<rbrakk>\n              \\<Longrightarrow> t \\<in> S;\n   \\<And>t. \\<lbrakk>t \\<in> S; t0 < t\\<rbrakk> \\<Longrightarrow> t0 < t;\n   y t0 = v t0 \\<Longrightarrow> f t0 (y t0) < v' t0; t0 < ?t; t0 \\<in> S;\n   ?t \\<in> S; is_interval S\\<rbrakk>\n  \\<Longrightarrow> y ?t < v ?t\n  y t0 < v t0\n  t0 \\<le> t\n  t0 \\<in> S\n  t \\<in> S\n  is_interval S\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. t0 \\<noteq> t \\<Longrightarrow> y t \\<le> v t", "by force"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  y t \\<le> v t\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}