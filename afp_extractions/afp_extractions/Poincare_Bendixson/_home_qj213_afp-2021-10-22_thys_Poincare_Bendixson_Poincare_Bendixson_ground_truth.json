{"file_name": "/home/qj213/afp-2021-10-22/thys/Poincare_Bendixson/Poincare_Bendixson.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Poincare_Bendixson", "problem_names": ["lemma pathstart_flow_to_path[simp]:\n  shows \"pathstart (flow_to_path x t t') = flow0 x t\"", "lemma pathfinish_flow_to_path[simp]:\n  shows \"pathfinish (flow_to_path x t t') = flow0 x t'\"", "lemma flow_to_path_unfold:\n  shows \"flow_to_path x t t' s = flow0 x ((1 - s) * t + s * t')\"", "lemma subpath0_flow_to_path:\n  shows \"(subpath 0 u (flow_to_path x t t')) = flow_to_path x t (t + u*(t'-t))\"", "lemma path_image_flow_to_path[simp]:\n  assumes \"t \\<le> t'\"\n  shows \"path_image (flow_to_path x t t') = flow0 x ` {t..t'}\"", "lemma flow_to_path_image0_right_open[simp]:\n  assumes \"t < t'\"\n  shows \"flow_to_path x t t' ` {0..<1} = flow0 x `{t..<t'}\"", "lemma flow_to_path_path:\n  assumes \"t \\<le> t'\"\n  assumes \"{t..t'} \\<subseteq> existence_ivl0 x\"\n  shows \"path (flow_to_path x t t')\"", "lemma flow_to_path_arc:\n  assumes \"t \\<le> t'\"\n  assumes \"{t..t'} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<forall>s \\<in> {t<..<t'}. flow0 x s \\<noteq> flow0 x t\"\n  assumes \"flow0 x t \\<noteq> flow0 x t'\"\n  shows \"arc (flow_to_path x t t')\"", "lemma exhaust2_nat: \"(\\<forall>i<(2::nat). P i) \\<longleftrightarrow> P 0 \\<and> P 1\"", "lemma sum2_nat: \"(\\<Sum>i<(2::nat). P i) = P 0 + P 1\"", "lemmas vec_simps =\n  eucl_eq_iff[where 'a='a] dim2 eucl_of_list_eucl_nth exhaust2_nat\n  plus_nth_eucl\n  minus_nth_eucl\n  uminus_nth_eucl\n  scaleR_nth_eucl\n  inner_nth_eucl\n  sum2_nat\n  algebra_simps", "lemma minus_expand:\n  shows \"(x::'a)-y = (eucl_of_list [x$\\<^sub>e0 - y$\\<^sub>e0, x$\\<^sub>e1 - y$\\<^sub>e1])\"", "lemma dot_ortho[simp]: \"x \\<bullet> rot x = 0\"", "lemma nrm_dot:\n  shows \"((x::'a)-y) \\<bullet> (rot (x-y)) = 0\"", "lemma nrm_reverse: \"a \\<bullet> (rot (x-y)) = - a \\<bullet> (rot (y-x))\" for x y::'a", "lemma norm_rot: \"norm (rot v) = norm v\" for v::'a", "lemma rot_rot[simp]:\n  shows \"rot (rot v) = -v\"", "lemma rot_scaleR[simp]:\n  shows \"rot ( u *\\<^sub>R v) =  u *\\<^sub>R (rot v)\"", "lemma rot_0[simp]: \"rot 0 = 0\"", "lemma rot_eq_0_iff[simp]: \"rot x = 0 \\<longleftrightarrow> x = 0\"", "lemma in_segment_inner_rot:\n  \"(x - a) \\<bullet> rot (b - a) = 0\"\n  if \"x \\<in> {a--b}\"", "lemma inner_rot_in_segment:\n  \"x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))\"\n  if \"(x - a) \\<bullet> rot (b - a) = 0\" \"a \\<noteq> b\"", "lemma in_open_segment_iff_rot:\n  \"x \\<in> {a<--<b} \\<longleftrightarrow> (x - a) \\<bullet> rot (b - a) = 0 \\<and> x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) <..< b \\<bullet> (b - a)}\"\n  if \"a \\<noteq> b\"", "lemma in_open_segment_rotD:\n  \"x \\<in> {a<--<b} \\<Longrightarrow> (x - a) \\<bullet> rot (b - a) = 0 \\<and> x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) <..< b \\<bullet> (b - a)}\"", "lemma in_closed_segment_iff_rot:\n  \"x \\<in> {a--b} \\<longleftrightarrow> (x - a) \\<bullet> rot (b - a) = 0 \\<and> x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) .. b \\<bullet> (b - a)}\"\n  if \"a \\<noteq> b\"", "lemma in_segment_inner_rot2:\n  \"(x - y) \\<bullet> rot (a - b) = 0\"\n  if \"x \\<in> {a--b}\" \"y \\<in> {a--b}\"", "lemma closed_segment_surface:\n  \"a \\<noteq> b \\<Longrightarrow> {a--b} = { x \\<in> {x. x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) .. b \\<bullet> (b - a)}}. (x - a) \\<bullet> rot (b - a) = 0}\"", "lemma rot_diff_commute: \"rot (b - a) = -rot(a - b)\"", "lemma complex_of_linear:\n  shows \"linear complex_of\"", "lemma complex_of_bounded_linear:\n  shows \"bounded_linear complex_of\"", "lemma real_of_linear:\n  shows \"linear real_of\"", "lemma real_of_bounded_linear:\n  shows \"bounded_linear real_of\"", "lemma complex_of_real_of:\n  \"(complex_of \\<circ> real_of) = id\"", "lemma real_of_complex_of:\n  \"(real_of \\<circ> complex_of) = id\"", "lemma complex_of_bij:\n  shows \"bij (complex_of)\"", "lemma real_of_bij:\n  shows \"bij (real_of)\"", "lemma real_of_inj:\n  shows \"inj (real_of)\"", "lemma Jordan_curve_R2:\n  fixes c :: \"real \\<Rightarrow> 'a\"\n  assumes \"simple_path c\" \"pathfinish c = pathstart c\"\n  obtains inside outside where\n    \"inside \\<noteq> {}\" \"open inside\" \"connected inside\"\n    \"outside \\<noteq> {}\" \"open outside\" \"connected outside\"\n    \"bounded inside\" \"\\<not> bounded outside\"\n    \"inside \\<inter> outside = {}\"\n    \"inside \\<union> outside = - path_image c\"\n    \"frontier inside = path_image c\"\n    \"frontier outside = path_image c\"", "lemma jordan_points_inside_outside:\n  fixes p :: \"real \\<Rightarrow> 'a\"\n  assumes \"0 < e\"\n  assumes jordan: \"simple_path p\" \"pathfinish p = pathstart p\"\n  assumes x: \"x \\<in> path_image p\"\n  obtains y z where \"y \\<in> inside (path_image p)\" \"y \\<in> ball x e\" \n    \"z \\<in> outside (path_image p)\" \"z \\<in> ball x e\"", "lemma eventually_at_open_segment:\n  assumes \"x \\<in> {a<--<b}\"\n  shows \"\\<forall>\\<^sub>F y in at x. (y-a) \\<bullet> rot(a-b) = 0 \\<longrightarrow> y \\<in> {a <--< b}\"", "lemma linepath_ball:\n  assumes \"x \\<in> {a<--<b}\"\n  obtains e where \"e > 0\" \"ball x e \\<inter> {y. (y-a) \\<bullet> rot(a-b) = 0} \\<subseteq> {a <--< b}\"", "lemma linepath_ball_inside_outside:\n  fixes p :: \"real \\<Rightarrow> 'a\"\n  assumes jordan: \"simple_path (p +++ linepath a b)\" \"pathfinish p = a\" \"pathstart p = b\"\n  assumes x: \"x \\<in> {a<--<b}\"\n  obtains e where \"e > 0\" \"ball x e \\<inter> path_image p = {}\"\n    \"ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) > 0} \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n     ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) < 0} \\<subseteq> outside (path_image (p +++ linepath a b))\n     \\<or> \n     ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) < 0} \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n     ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) > 0} \\<subseteq> outside (path_image (p +++ linepath a b))\"", "lemma transversal_segment_reverse:\n  assumes \"transversal_segment x y\"\n  shows \"transversal_segment y x\"", "lemma transversal_segment_commute: \"transversal_segment x y \\<longleftrightarrow> transversal_segment y x\"", "lemma transversal_segment_neg:\n  assumes \"transversal_segment x y\"\n  assumes w: \"w \\<in> {x -- y}\" and \"f w \\<bullet> rot (x-y) < 0\"\n  shows \"\\<forall>z \\<in> {x--y}. f(z) \\<bullet> rot (x-y) < 0\"", "lemmas transversal_segment_sign_less = transversal_segment_neg[OF _ ends_in_segment(1)]", "lemma transversal_segment_pos:\n  assumes \"transversal_segment x y\"\n  assumes w: \"w \\<in> {x -- y}\" \"f w \\<bullet> rot (x-y) > 0\"\n  shows \"\\<forall>z \\<in> {x--y}. f(z) \\<bullet> rot (x-y) > 0\"", "lemma transversal_segment_posD:\n  assumes \"transversal_segment x y\"\n    and pos: \"z \\<in> {x -- y}\" \"f z \\<bullet> rot (x - y) > 0\"\n  shows \"x \\<noteq> y\" \"{x--y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x-y) > 0\"", "lemma transversal_segment_negD:\n  assumes \"transversal_segment x y\"\n    and pos: \"z \\<in> {x -- y}\" \"f z \\<bullet> rot (x - y) < 0\"\n  shows \"x \\<noteq> y\" \"{x--y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x-y) < 0\"", "lemma transversal_segmentE:\n  assumes \"transversal_segment x y\"\n  obtains \"x \\<noteq> y\" \"{x -- y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x - y) > 0\"\n  |  \"x \\<noteq> y\" \"{x -- y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (y - x) > 0\"", "lemma dist_add_vec:\n  shows \"dist (x + s *\\<^sub>R v) x = abs s * norm v\"", "lemma transversal_segment_exists:\n  assumes \"x \\<in> X\" \"f x \\<noteq> 0\"\n  obtains a b where \"x \\<in> {a<--<b}\"\n    \"transversal_segment a b\"", "lemma flow_transversal_segment_finite_intersections:\n  assumes \"transversal_segment a b\"\n  assumes \"t \\<le> t'\" \"{t .. t'} \\<subseteq> existence_ivl0 x\"\n  shows \"finite {s\\<in>{t..t'}. flow0 x s \\<in> {a--b}}\"", "lemma transversal_bound_posE:\n  assumes transversal: \"transversal_segment a b\"\n  assumes direction: \"z \\<in> {a -- b}\" \"f z \\<bullet> (rot (a - b)) > 0\"\n  obtains d B where \"d > 0\" \"0 < B\"\n    \"\\<And>x y. x \\<in> {a -- b} \\<Longrightarrow> dist x y \\<le> d \\<Longrightarrow> f y \\<bullet> (rot (a - b)) \\<ge> B\"", "lemma transversal_bound_negE:\n  assumes transversal: \"transversal_segment a b\"\n  assumes direction: \"z \\<in> {a -- b}\" \"f z \\<bullet> (rot (a - b)) < 0\"\n  obtains d B where \"d > 0\" \"0 < B\"\n    \"\\<And>x y. x \\<in> {a -- b} \\<Longrightarrow> dist x y \\<le> d \\<Longrightarrow> f y \\<bullet> (rot (b - a)) \\<ge> B\"", "lemma leaves_transversal_segmentE:\n  assumes transversal: \"transversal_segment a b\"\n  obtains T n where \"T > 0\" \"n = a - b \\<or> n = b - a\"\n    \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> {-T..T} \\<subseteq> existence_ivl0 x\"\n    \"\\<And>x s. x \\<in> {a -- b} \\<Longrightarrow> 0 < s \\<Longrightarrow> s \\<le> T \\<Longrightarrow>\n    (flow0 x s - x) \\<bullet> rot n > 0\"\n    \"\\<And>x s. x \\<in> {a -- b} \\<Longrightarrow> -T \\<le> s \\<Longrightarrow> s < 0 \\<Longrightarrow>\n    (flow0 x s - x) \\<bullet> rot n < 0\"", "lemma inner_rot_pos_move_base: \"(x - a) \\<bullet> rot (a - b) > 0\"\n  if \"(x - y) \\<bullet> rot (a - b) > 0\" \"y \\<in> {a -- b}\"", "lemma inner_rot_neg_move_base: \"(x - a) \\<bullet> rot (a - b) < 0\"\n  if \"(x - y) \\<bullet> rot (a - b) < 0\" \"y \\<in> {a -- b}\"", "lemma inner_pos_move_base: \"(x - a) \\<bullet> n > 0\"\n  if \"(a - b) \\<bullet> n = 0\" \"(x - y) \\<bullet> n > 0\" \"y \\<in> {a -- b}\"", "lemma inner_neg_move_base: \"(x - a) \\<bullet> n < 0\"\n  if \"(a - b) \\<bullet> n = 0\" \"(x - y) \\<bullet> n < 0\" \"y \\<in> {a -- b}\"", "lemma rot_same_dir:\n  assumes \"x1 \\<in> {a<--<b}\"\n  assumes \"x2 \\<in> {x1<--<b}\"\n  shows \"(y \\<bullet> rot (a-b) > 0) = (y \\<bullet> rot(x1-x2) > 0)\"  \"(y \\<bullet> rot (a-b) < 0) = (y \\<bullet> rot(x1-x2) < 0)\"", "lemma flow0_transversal_segment_monotone_step:\n  assumes \"transversal_segment a b\"\n  assumes \"t1 \\<le> t2\" \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes x1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes x2: \"flow0 x t2 \\<in> {flow0 x t1<--<b}\"\n  assumes \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  assumes \"t > t2\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {a<--<flow0 x t2}\"", "lemma open_segment_trichotomy:\n  fixes x y a b::'a\n  assumes x:\"x \\<in> {a<--<b}\"\n  assumes y:\"y \\<in> {a<--<b}\"\n  shows \"x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}\"", "lemma rev_transversal_segment: \"rev.transversal_segment a b = transversal_segment a b\"", "lemma flow0_transversal_segment_monotone_step_reverse:\n  assumes \"transversal_segment a b\"\n  assumes \"t1 \\<le> t2\"\n  assumes \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes x1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes x2: \"flow0 x t2 \\<in> {a<--<flow0 x t1}\"\n  assumes \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  assumes \"t < t1\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {a<--<flow0 x t1}\"", "lemma flow0_transversal_segment_monotone_step_reverse2:\n  assumes transversal: \"transversal_segment a b\"\n  assumes time: \"t1 \\<le> t2\"\n  assumes exist: \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes t1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes t2: \"flow0 x t2 \\<in> {flow0 x t1<--<b}\"\n  assumes t1t2: \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  assumes t: \"t < t1\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {flow0 x t1<--<b}\"", "lemma flow0_transversal_segment_monotone_step2:\n  assumes transversal: \"transversal_segment a b\"\n  assumes time: \"t1 \\<le> t2\"\n  assumes exist: \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes t1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes t2: \"flow0 x t2 \\<in> {a<--<flow0 x t1}\"\n  assumes t1t2: \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  shows \"\\<And>t. t > t2 \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<notin> {flow0 x t2<--<b}\"", "lemma flow0_transversal_segment_monotone:\n  assumes \"transversal_segment a b\"\n  assumes \"t1 \\<le> t2\"\n  assumes \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes x1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes x2: \"flow0 x t2 \\<in> {flow0 x t1<--<b}\"\n  assumes \"t > t2\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {a<--<flow0 x t2}\"", "lemma cross_time_continuous:\n  assumes \"transversal_segment a b\"\n  assumes \"x \\<in> {a<--<b}\"\n  assumes \"e > 0\"\n  obtains d t where \"d > 0\" \"continuous_on (ball x d) t\"\n    \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b}\"\n    \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e\"\n    \"continuous_on (ball x d) t\"\n    \"t x = 0\"", "lemma \\<omega>_limit_crossings:\n  assumes \"transversal_segment a b\"\n  assumes pos_ex: \"{0..} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<omega>_limit_point x p\"\n  assumes \"p \\<in> {a<--<b}\"\n  obtains s where \n    \"s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\"\n    \"(flow0 x \\<circ> s) \\<longlonglongrightarrow> p\"\n    \"\\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x\"", "lemma filterlim_at_top_tendstoE:\n  assumes \"e > 0\"\n  assumes \"filterlim s at_top sequentially\"\n  assumes \"(flow0 x \\<circ> s) \\<longlonglongrightarrow> u\"\n  assumes \"\\<forall>\\<^sub>F n in sequentially. P (s n)\"\n  obtains m where \"m > b\" \"P m\" \"dist (flow0 x m) u < e\"", "lemma open_segment_separate_left:\n  fixes u v x a b::'a\n  assumes u:\"u \\<in> {a <--< b}\"\n  assumes v:\"v \\<in> {u <--< b}\"\n  assumes x: \"dist x u < dist u v\" \"x \\<in> {a <--< b}\"\n  shows \"x \\<in> {a <--< v}\"", "lemma open_segment_separate_right:\n  fixes u v x a b::'a\n  assumes u:\"u \\<in> {a <--< b}\"\n  assumes v:\"v \\<in> {a <--< u}\"\n  assumes x: \"dist x u < dist u v\" \"x \\<in> {a <--< b}\"\n  shows \"x \\<in> {v <--< b}\"", "lemma no_two_\\<omega>_limit_points:\n  assumes transversal: \"transversal_segment a b\"\n  assumes ex_pos: \"{0..} \\<subseteq> existence_ivl0 x\"\n  assumes u: \"\\<omega>_limit_point x u\" \"u \\<in> {a<--<b}\"\n  assumes v: \"\\<omega>_limit_point x v\" \"v \\<in> {a<--<b}\"\n  assumes uv: \"v \\<in> {u<--<b}\"\n  shows False", "lemma unique_transversal_segment_intersection:\n  assumes \"transversal_segment a b\"\n  assumes \"{0..} \\<subseteq> existence_ivl0 x\"\n  assumes \"u \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\"\n  shows \"\\<omega>_limit_set x \\<inter> {a<--<b} = {u}\"", "lemma periodic_imp_\\<omega>_limit_set:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"periodic_orbit y\"\n    \"flow0 y ` UNIV \\<subseteq> \\<omega>_limit_set x\"\n  shows \"flow0 y `UNIV = \\<omega>_limit_set x\"", "lemma \\<alpha>_limit_crossings:\n  assumes \"transversal_segment a b\"\n  assumes pos_ex: \"{..0} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<alpha>_limit_point x p\"\n  assumes \"p \\<in> {a<--<b}\"\n  obtains s where\n    \"s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\"\n    \"(flow0 x \\<circ> s) \\<longlonglongrightarrow> p\"\n    \"\\<forall>\\<^sub>F n in sequentially.\n    flow0 x (s n) \\<in> {a<--<b} \\<and>\n    s n \\<in> existence_ivl0 x\"", "lemma \\<omega>_limit_point_\\<omega>_limit_set_regular_imp_periodic:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes y: \"y \\<in> \\<omega>_limit_set x\" \"f y \\<noteq> 0\"\n  assumes z: \"z \\<in> \\<omega>_limit_set y \\<union> \\<alpha>_limit_set y\" \"f z \\<noteq> 0\"\n  shows \"periodic_orbit y \\<and> flow0 y ` UNIV = \\<omega>_limit_set x\"", "theorem poincare_bendixson:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"0 \\<notin> f ` (\\<omega>_limit_set x)\"\n  obtains y where \"periodic_orbit y\"\n    \"flow0 y ` UNIV = \\<omega>_limit_set x\"", "lemma fixed_point_in_\\<omega>_limit_set_imp_\\<omega>_limit_set_singleton_fixed_point:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes fp: \"yfp \\<in> \\<omega>_limit_set x\" \"f yfp = 0\"\n  assumes zpx: \"z \\<in> \\<omega>_limit_set x\"\n  assumes finite_fp: \"finite {y \\<in> K. f y = 0}\" (is \"finite ?S\")\n  shows \"(\\<exists>p1 \\<in> \\<omega>_limit_set x. f p1 = 0 \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2 \\<in> \\<omega>_limit_set x. f p2 = 0 \\<and> \\<alpha>_limit_set z = {p2})\"", "theorem poincare_bendixson_general:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"S = {y \\<in> K. f y = 0}\" \"finite S\"\n  shows\n    \"(\\<exists>y \\<in> S. \\<omega>_limit_set x = {y}) \\<or>\n  (\\<exists>y. periodic_orbit y \\<and>\n    flow0 y ` UNIV = \\<omega>_limit_set x) \\<or>\n  (\\<exists>P R. \\<omega>_limit_set x = P \\<union> R \\<and>\n    P \\<subseteq> S \\<and> 0 \\<notin> f ` R \\<and> R \\<noteq> {} \\<and>\n    (\\<forall>z \\<in> R.\n      (\\<exists>p1 \\<in> P. \\<omega>_limit_set z = {p1}) \\<and>\n      (\\<exists>p2 \\<in> P. \\<alpha>_limit_set z = {p2})))\""], "translations": [["", "lemma pathstart_flow_to_path[simp]:\n  shows \"pathstart (flow_to_path x t t') = flow0 x t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathstart (flow_to_path x t t') = flow0 x t", "unfolding flow_to_path_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. pathstart (flow0 x \\<circ> linepath t t') = flow0 x t", "by (auto simp add: pathstart_compose)"], ["", "lemma pathfinish_flow_to_path[simp]:\n  shows \"pathfinish (flow_to_path x t t') = flow0 x t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish (flow_to_path x t t') = flow0 x t'", "unfolding flow_to_path_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish (flow0 x \\<circ> linepath t t') = flow0 x t'", "by (auto simp add: pathfinish_compose)"], ["", "lemma flow_to_path_unfold:\n  shows \"flow_to_path x t t' s = flow0 x ((1 - s) * t + s * t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow_to_path x t t' s = flow0 x ((1 - s) * t + s * t')", "unfolding flow_to_path_def o_def linepath_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x ((1 - s) *\\<^sub>R t + s *\\<^sub>R t') =\n    flow0 x ((1 - s) * t + s * t')", "by auto"], ["", "lemma subpath0_flow_to_path:\n  shows \"(subpath 0 u (flow_to_path x t t')) = flow_to_path x t (t + u*(t'-t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subpath 0 u (flow_to_path x t t') = flow_to_path x t (t + u * (t' - t))", "unfolding flow_to_path_def subpath_image subpath0_linepath"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x \\<circ> linepath t (t + u * (t' - t)) =\n    flow0 x \\<circ> linepath t (t + u * (t' - t))", "by auto"], ["", "lemma path_image_flow_to_path[simp]:\n  assumes \"t \\<le> t'\"\n  shows \"path_image (flow_to_path x t t') = flow0 x ` {t..t'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image (flow_to_path x t t') = flow0 x ` {t..t'}", "unfolding flow_to_path_def path_image_compose path_image_linepath"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x ` {t--t'} = flow0 x ` {t..t'}", "using assms real_Icc_closed_segment"], ["proof (prove)\nusing this:\n  t \\<le> t'\n  ?a \\<le> ?b \\<Longrightarrow> {?a..?b} = {?a--?b}\n\ngoal (1 subgoal):\n 1. flow0 x ` {t--t'} = flow0 x ` {t..t'}", "by auto"], ["", "lemma flow_to_path_image0_right_open[simp]:\n  assumes \"t < t'\"\n  shows \"flow_to_path x t t' ` {0..<1} = flow0 x `{t..<t'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow_to_path x t t' ` {0..<1} = flow0 x ` {t..<t'}", "unfolding flow_to_path_def image_comp[symmetric] linepath_image0_right_open_real[OF assms]"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x ` {t..<t'} = flow0 x ` {t..<t'}", "by auto"], ["", "lemma flow_to_path_path:\n  assumes \"t \\<le> t'\"\n  assumes \"{t..t'} \\<subseteq> existence_ivl0 x\"\n  shows \"path (flow_to_path x t t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "have \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using assms(1) assms(2) subset_empty"], ["proof (prove)\nusing this:\n  t \\<le> t'\n  {t..t'} \\<subseteq> existence_ivl0 x\n  (?A \\<subseteq> {}) = (?A = {})\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by fastforce"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "have \"\\<And>xa. 0 \\<le> xa \\<Longrightarrow> xa \\<le> 1 \\<Longrightarrow>  (1 - xa) * t + xa * t' \\<le> t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 \\<le> xa; xa \\<le> 1\\<rbrakk>\n       \\<Longrightarrow> (1 - xa) * t + xa * t' \\<le> t'", "by (simp add: assms(1) convex_bound_le)"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<le> t'\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<le> t'\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "have \"\\<And>xa. 0 \\<le> xa \\<Longrightarrow> xa \\<le> 1 \\<Longrightarrow> t \\<le> (1 - xa) * t + xa * t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 \\<le> xa; xa \\<le> 1\\<rbrakk>\n       \\<Longrightarrow> t \\<le> (1 - xa) * t + xa * t'", "using assms(1)"], ["proof (prove)\nusing this:\n  t \\<le> t'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 \\<le> xa; xa \\<le> 1\\<rbrakk>\n       \\<Longrightarrow> t \\<le> (1 - xa) * t + xa * t'", "by (metis add.commute add_diff_cancel_left' diff_diff_eq2 diff_le_eq mult.commute mult.right_neutral mult_right_mono right_diff_distrib')"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> t \\<le> (1 - ?xa) * t + ?xa * t'\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<le> t'\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> t \\<le> (1 - ?xa) * t + ?xa * t'", "have \"\\<And>xa. 0 \\<le> xa \\<Longrightarrow> xa \\<le> 1 \\<Longrightarrow> (1 - xa) * t + xa * t' \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<le> t'\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> t \\<le> (1 - ?xa) * t + ?xa * t'\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 \\<le> xa; xa \\<le> 1\\<rbrakk>\n       \\<Longrightarrow> (1 - xa) * t + xa * t' \\<in> existence_ivl0 x", "using assms(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<le> t'\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> t \\<le> (1 - ?xa) * t + ?xa * t'\n  {t..t'} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 \\<le> xa; xa \\<le> 1\\<rbrakk>\n       \\<Longrightarrow> (1 - xa) * t + xa * t' \\<in> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "unfolding path_def flow_to_path_def linepath_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?xa; ?xa \\<le> 1\\<rbrakk>\n  \\<Longrightarrow> (1 - ?xa) * t + ?xa * t' \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. continuous_on {0..1}\n     (flow0 x \\<circ> (\\<lambda>x. (1 - x) *\\<^sub>R t + x *\\<^sub>R t'))", "by (auto intro!:continuous_intros simp add :\\<open>x \\<in> X\\<close>)"], ["proof (state)\nthis:\n  path (flow_to_path x t t')\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow_to_path_arc:\n  assumes \"t \\<le> t'\"\n  assumes \"{t..t'} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<forall>s \\<in> {t<..<t'}. flow0 x s \\<noteq> flow0 x t\"\n  assumes \"flow0 x t \\<noteq> flow0 x t'\"\n  shows \"arc (flow_to_path x t t')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. arc (flow_to_path x t t')", "unfolding arc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. path (flow_to_path x t t') \\<and> inj_on (flow_to_path x t t') {0..1}", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. path (flow_to_path x t t')\n 2. inj_on (flow_to_path x t t') {0..1}", "from flow_to_path_path[OF assms(1-2)]"], ["proof (chain)\npicking this:\n  path (flow_to_path x t t')", "show \"path (flow_to_path x t t')\""], ["proof (prove)\nusing this:\n  path (flow_to_path x t t')\n\ngoal (1 subgoal):\n 1. path (flow_to_path x t t')", "."], ["proof (state)\nthis:\n  path (flow_to_path x t t')\n\ngoal (1 subgoal):\n 1. inj_on (flow_to_path x t t') {0..1}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. inj_on (flow_to_path x t t') {0..1}", "show \"inj_on (flow_to_path x t t') {0..1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (flow_to_path x t t') {0..1}", "unfolding flow_to_path_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (flow0 x \\<circ> linepath t t') {0..1}", "apply (rule comp_inj_on)"], ["proof (prove)\ngoal (2 subgoals):\n 1. inj_on (linepath t t') {0..1}\n 2. inj_on (flow0 x) (linepath t t' ` {0..1})", "apply (metis assms(4) inj_on_linepath)"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (flow0 x) (linepath t t' ` {0..1})", "using assms path_image_linepath[of t t']"], ["proof (prove)\nusing this:\n  t \\<le> t'\n  {t..t'} \\<subseteq> existence_ivl0 x\n  \\<forall>s\\<in>{t<..<t'}. flow0 x s \\<noteq> flow0 x t\n  flow0 x t \\<noteq> flow0 x t'\n  path_image (linepath t t') = {t--t'}\n\ngoal (1 subgoal):\n 1. inj_on (flow0 x) (linepath t t' ` {0..1})", "apply (auto intro!:flow0_inj_on)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<le> t'; {t..t'} \\<subseteq> existence_ivl0 x;\n     \\<forall>s\\<in>{t<..<t'}. flow0 x s \\<noteq> flow0 x t;\n     flow0 x t \\<noteq> flow0 x t'\\<rbrakk>\n    \\<Longrightarrow> inj_on (flow0 x) (linepath t t' ` {0..1})", "using flow0_inj_on greaterThanLessThan_iff linepath_image_01 real_Icc_closed_segment"], ["proof (prove)\nusing this:\n  \\<lbrakk>?t \\<le> ?t'; {?t..?t'} \\<subseteq> existence_ivl0 ?x;\n   \\<And>s.\n      \\<lbrakk>?t < s; s \\<le> ?t'\\<rbrakk>\n      \\<Longrightarrow> flow0 ?x s \\<noteq> flow0 ?x ?t\\<rbrakk>\n  \\<Longrightarrow> inj_on (flow0 ?x) {?t..?t'}\n  (?i \\<in> {?l<..<?u}) = (?l < ?i \\<and> ?i < ?u)\n  linepath ?a ?b ` {0..1} = {?a--?b}\n  ?a \\<le> ?b \\<Longrightarrow> {?a..?b} = {?a--?b}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<le> t'; {t..t'} \\<subseteq> existence_ivl0 x;\n     \\<forall>s\\<in>{t<..<t'}. flow0 x s \\<noteq> flow0 x t;\n     flow0 x t \\<noteq> flow0 x t'\\<rbrakk>\n    \\<Longrightarrow> inj_on (flow0 x) (linepath t t' ` {0..1})", "by fastforce"], ["proof (state)\nthis:\n  inj_on (flow_to_path x t t') {0..1}\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale c1_on_open_R2 = c1_on_open_euclidean f f' X for f::\"'a::executable_euclidean_space \\<Rightarrow> _\" and f' and X +\n  assumes dim2: \"DIM('a) = 2\"\nbegin"], ["", "subsection \\<open>2D Line segments\\<close>"], ["", "text \\<open>Line segments are specified by two endpoints\n      The closed line segment from x to y is given by the set {x--y}\n      and {x<--<y} for the open segment\\<close>"], ["", "text \\<open> Rotates a vector clockwise 90 degrees \\<close>"], ["", "definition \"rot (v::'a) = (eucl_of_list [nth_eucl v 1, -nth_eucl v 0]::'a)\""], ["", "lemma exhaust2_nat: \"(\\<forall>i<(2::nat). P i) \\<longleftrightarrow> P 0 \\<and> P 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>i<2. P i) = (P 0 \\<and> P 1)", "using less_2_cases"], ["proof (prove)\nusing this:\n  ?n < 2 \\<Longrightarrow> ?n = 0 \\<or> ?n = Suc 0\n\ngoal (1 subgoal):\n 1. (\\<forall>i<2. P i) = (P 0 \\<and> P 1)", "by auto"], ["", "lemma sum2_nat: \"(\\<Sum>i<(2::nat). P i) = P 0 + P 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum P {..<2} = P 0 + P 1", "by (simp add: eval_nat_numeral)"], ["", "lemmas vec_simps =\n  eucl_eq_iff[where 'a='a] dim2 eucl_of_list_eucl_nth exhaust2_nat\n  plus_nth_eucl\n  minus_nth_eucl\n  uminus_nth_eucl\n  scaleR_nth_eucl\n  inner_nth_eucl\n  sum2_nat\n  algebra_simps"], ["", "lemma minus_expand:\n  shows \"(x::'a)-y = (eucl_of_list [x$\\<^sub>e0 - y$\\<^sub>e0, x$\\<^sub>e1 - y$\\<^sub>e1])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x - y =\n    eucl_of_list\n     [x $\\<^sub>e 0 - y $\\<^sub>e 0, x $\\<^sub>e 1 - y $\\<^sub>e 1]", "by (simp add:vec_simps)"], ["", "lemma dot_ortho[simp]: \"x \\<bullet> rot x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<bullet> rot x = 0", "unfolding rot_def minus_expand"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<bullet> eucl_of_list [x $\\<^sub>e 1, - x $\\<^sub>e 0] = 0", "by (simp add: vec_simps)"], ["", "lemma nrm_dot:\n  shows \"((x::'a)-y) \\<bullet> (rot (x-y)) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> rot (x - y) = 0", "unfolding rot_def minus_expand"], ["proof (prove)\ngoal (1 subgoal):\n 1. eucl_of_list\n     [x $\\<^sub>e 0 - y $\\<^sub>e 0,\n      x $\\<^sub>e 1 - y $\\<^sub>e 1] \\<bullet>\n    eucl_of_list\n     [eucl_of_list\n       [x $\\<^sub>e 0 - y $\\<^sub>e 0,\n        x $\\<^sub>e 1 - y $\\<^sub>e 1] $\\<^sub>e\n      1,\n      - eucl_of_list\n         [x $\\<^sub>e 0 - y $\\<^sub>e 0,\n          x $\\<^sub>e 1 - y $\\<^sub>e 1] $\\<^sub>e\n        0] =\n    0", "by (simp add: vec_simps)"], ["", "lemma nrm_reverse: \"a \\<bullet> (rot (x-y)) = - a \\<bullet> (rot (y-x))\" for x y::'a"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<bullet> rot (x - y) = - a \\<bullet> rot (y - x)", "unfolding rot_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<bullet> eucl_of_list [(x - y) $\\<^sub>e 1, - (x - y) $\\<^sub>e 0] =\n    - a \\<bullet> eucl_of_list [(y - x) $\\<^sub>e 1, - (y - x) $\\<^sub>e 0]", "by (simp add:vec_simps)"], ["", "lemma norm_rot: \"norm (rot v) = norm v\" for v::'a"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (rot v) = norm v", "unfolding rot_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (eucl_of_list [v $\\<^sub>e 1, - v $\\<^sub>e 0]) = norm v", "by (simp add:vec_simps norm_nth_eucl L2_set_def)"], ["", "lemma rot_rot[simp]:\n  shows \"rot (rot v) = -v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rot (rot v) = - v", "unfolding rot_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eucl_of_list\n     [eucl_of_list [v $\\<^sub>e 1, - v $\\<^sub>e 0] $\\<^sub>e 1,\n      - eucl_of_list [v $\\<^sub>e 1, - v $\\<^sub>e 0] $\\<^sub>e 0] =\n    - v", "by (simp add:vec_simps)"], ["", "lemma rot_scaleR[simp]:\n  shows \"rot ( u *\\<^sub>R v) =  u *\\<^sub>R (rot v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rot (u *\\<^sub>R v) = u *\\<^sub>R rot v", "unfolding rot_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. eucl_of_list\n     [(u *\\<^sub>R v) $\\<^sub>e 1, - (u *\\<^sub>R v) $\\<^sub>e 0] =\n    u *\\<^sub>R eucl_of_list [v $\\<^sub>e 1, - v $\\<^sub>e 0]", "by (simp add:vec_simps)"], ["", "lemma rot_0[simp]: \"rot 0 = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rot (0::'a) = (0::'a)", "using rot_scaleR[of 0]"], ["proof (prove)\nusing this:\n  rot (0 *\\<^sub>R ?v) = 0 *\\<^sub>R rot ?v\n\ngoal (1 subgoal):\n 1. rot (0::'a) = (0::'a)", "by simp"], ["", "lemma rot_eq_0_iff[simp]: \"rot x = 0 \\<longleftrightarrow> x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (rot x = (0::'a)) = (x = (0::'a))", "apply (auto simp: rot_def)"], ["proof (prove)\ngoal (2 subgoals):\n 1. eucl_of_list [x $\\<^sub>e Suc 0, - x $\\<^sub>e 0] =\n    (0::'a) \\<Longrightarrow>\n    x = (0::'a)\n 2. x = (0::'a) \\<Longrightarrow>\n    eucl_of_list [(0::'a) $\\<^sub>e Suc 0, - (0::'a) $\\<^sub>e 0] = (0::'a)", "apply (metis One_nat_def norm_eq_zero norm_rot norm_zero rot_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x = (0::'a) \\<Longrightarrow>\n    eucl_of_list [(0::'a) $\\<^sub>e Suc 0, - (0::'a) $\\<^sub>e 0] = (0::'a)", "using rot_0 rot_def"], ["proof (prove)\nusing this:\n  rot (0::'a) = (0::'a)\n  rot ?v = eucl_of_list [?v $\\<^sub>e 1, - ?v $\\<^sub>e 0]\n\ngoal (1 subgoal):\n 1. x = (0::'a) \\<Longrightarrow>\n    eucl_of_list [(0::'a) $\\<^sub>e Suc 0, - (0::'a) $\\<^sub>e 0] = (0::'a)", "by auto"], ["", "lemma in_segment_inner_rot:\n  \"(x - a) \\<bullet> rot (b - a) = 0\"\n  if \"x \\<in> {a--b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (b - a) = 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (b - a) = 0", "from that"], ["proof (chain)\npicking this:\n  x \\<in> {a--b}", "obtain u where x: \"x = a + u *\\<^sub>R (b - a)\" \"0 \\<le> u\" \"u \\<le> 1\""], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>x = a + u *\\<^sub>R (b - a); 0 \\<le> u; u \\<le> 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_segment algebra_simps)"], ["proof (state)\nthis:\n  x = a + u *\\<^sub>R (b - a)\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (b - a) = 0", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (b - a) = 0", "unfolding x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (a + u *\\<^sub>R (b - a) - a) \\<bullet> rot (b - a) = 0", "by (simp add: inner_add_left nrm_dot)"], ["proof (state)\nthis:\n  (x - a) \\<bullet> rot (b - a) = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma inner_rot_in_segment:\n  \"x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))\"\n  if \"(x - a) \\<bullet> rot (b - a) = 0\" \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "from that"], ["proof (chain)\npicking this:\n  (x - a) \\<bullet> rot (b - a) = 0\n  a \\<noteq> b", "have\n    x0: \"b $\\<^sub>e 0 = a $\\<^sub>e 0 \\<Longrightarrow> x $\\<^sub>e 0 =\n      (a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 - b $\\<^sub>e 0 * a $\\<^sub>e Suc 0 + (b $\\<^sub>e 0 - a $\\<^sub>e 0) * x $\\<^sub>e Suc 0) /\n      (b $\\<^sub>e Suc 0 - a $\\<^sub>e Suc 0)\"\n    and x1: \"b $\\<^sub>e 0 \\<noteq> a $\\<^sub>e 0 \\<Longrightarrow> x $\\<^sub>e Suc 0 =\n      ((b $\\<^sub>e Suc 0 - a $\\<^sub>e Suc 0) * x $\\<^sub>e 0 - a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 + b $\\<^sub>e 0 * a $\\<^sub>e Suc 0) / (b $\\<^sub>e 0 - a $\\<^sub>e 0)\""], ["proof (prove)\nusing this:\n  (x - a) \\<bullet> rot (b - a) = 0\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (b $\\<^sub>e 0 = a $\\<^sub>e 0 \\<Longrightarrow>\n     x $\\<^sub>e 0 =\n     (a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 -\n      b $\\<^sub>e 0 * a $\\<^sub>e Suc 0 +\n      (b $\\<^sub>e 0 - a $\\<^sub>e 0) * x $\\<^sub>e Suc 0) /\n     (b $\\<^sub>e Suc 0 - a $\\<^sub>e Suc 0)) &&&\n    (b $\\<^sub>e 0 \\<noteq> a $\\<^sub>e 0 \\<Longrightarrow>\n     x $\\<^sub>e Suc 0 =\n     ((b $\\<^sub>e Suc 0 - a $\\<^sub>e Suc 0) * x $\\<^sub>e 0 -\n      a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 +\n      b $\\<^sub>e 0 * a $\\<^sub>e Suc 0) /\n     (b $\\<^sub>e 0 - a $\\<^sub>e 0))", "by (auto simp: rot_def vec_simps divide_simps)"], ["proof (state)\nthis:\n  b $\\<^sub>e 0 = a $\\<^sub>e 0 \\<Longrightarrow>\n  x $\\<^sub>e 0 =\n  (a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 - b $\\<^sub>e 0 * a $\\<^sub>e Suc 0 +\n   (b $\\<^sub>e 0 - a $\\<^sub>e 0) * x $\\<^sub>e Suc 0) /\n  (b $\\<^sub>e Suc 0 - a $\\<^sub>e Suc 0)\n  b $\\<^sub>e 0 \\<noteq> a $\\<^sub>e 0 \\<Longrightarrow>\n  x $\\<^sub>e Suc 0 =\n  ((b $\\<^sub>e Suc 0 - a $\\<^sub>e Suc 0) * x $\\<^sub>e 0 -\n   a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 +\n   b $\\<^sub>e 0 * a $\\<^sub>e Suc 0) /\n  (b $\\<^sub>e 0 - a $\\<^sub>e 0)\n\ngoal (1 subgoal):\n 1. x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "define u where \"u = (if b $\\<^sub>e 0 - a $\\<^sub>e 0 \\<noteq> 0\n    then ((x $\\<^sub>e 0 - a $\\<^sub>e 0) / (b $\\<^sub>e 0 -  a $\\<^sub>e 0))\n    else ((x $\\<^sub>e 1 - a $\\<^sub>e 1) / (b $\\<^sub>e 1 -  a $\\<^sub>e 1)))\n    \""], ["proof (state)\nthis:\n  u =\n  (if b $\\<^sub>e 0 - a $\\<^sub>e 0 \\<noteq> 0\n   then (x $\\<^sub>e 0 - a $\\<^sub>e 0) / (b $\\<^sub>e 0 - a $\\<^sub>e 0)\n   else (x $\\<^sub>e 1 - a $\\<^sub>e 1) / (b $\\<^sub>e 1 - a $\\<^sub>e 1))\n\ngoal (1 subgoal):\n 1. x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "apply (cases \"b $\\<^sub>e 0 - a $\\<^sub>e 0 = 0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. b $\\<^sub>e 0 - a $\\<^sub>e 0 = 0 \\<Longrightarrow>\n    x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))\n 2. b $\\<^sub>e 0 - a $\\<^sub>e 0 \\<noteq> 0 \\<Longrightarrow>\n    x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. b $\\<^sub>e 0 - a $\\<^sub>e 0 = 0 \\<Longrightarrow>\n    x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "using that(2)"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. b $\\<^sub>e 0 - a $\\<^sub>e 0 = 0 \\<Longrightarrow>\n    x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "apply (auto intro!: image_eqI[where x=\"((x $\\<^sub>e 1 - a $\\<^sub>e 1) / (b $\\<^sub>e 1 -  a $\\<^sub>e 1))\"]\n          simp: vec_simps x0 divide_simps algebra_simps)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>b $\\<^sub>e 0 = a $\\<^sub>e 0;\n     a $\\<^sub>e Suc 0 \\<noteq> b $\\<^sub>e Suc 0;\n     a $\\<^sub>e Suc 0 * a $\\<^sub>e Suc 0 +\n     b $\\<^sub>e Suc 0 * b $\\<^sub>e Suc 0 =\n     2 * (a $\\<^sub>e Suc 0 * b $\\<^sub>e Suc 0)\\<rbrakk>\n    \\<Longrightarrow> a $\\<^sub>e 0 = 0\n 2. \\<lbrakk>b $\\<^sub>e 0 = a $\\<^sub>e 0;\n     a $\\<^sub>e Suc 0 \\<noteq> b $\\<^sub>e Suc 0;\n     a $\\<^sub>e Suc 0 * a $\\<^sub>e Suc 0 +\n     b $\\<^sub>e Suc 0 * b $\\<^sub>e Suc 0 =\n     2 * (a $\\<^sub>e Suc 0 * b $\\<^sub>e Suc 0)\\<rbrakk>\n    \\<Longrightarrow> x $\\<^sub>e Suc 0 = 0", "apply (metis ab_semigroup_mult_class.mult_ac(1) mult.commute sum_sqs_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b $\\<^sub>e 0 = a $\\<^sub>e 0;\n     a $\\<^sub>e Suc 0 \\<noteq> b $\\<^sub>e Suc 0;\n     a $\\<^sub>e Suc 0 * a $\\<^sub>e Suc 0 +\n     b $\\<^sub>e Suc 0 * b $\\<^sub>e Suc 0 =\n     2 * (a $\\<^sub>e Suc 0 * b $\\<^sub>e Suc 0)\\<rbrakk>\n    \\<Longrightarrow> x $\\<^sub>e Suc 0 = 0", "by (metis mult.commute mult.left_commute sum_sqs_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. b $\\<^sub>e 0 - a $\\<^sub>e 0 \\<noteq> 0 \\<Longrightarrow>\n    x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. b $\\<^sub>e 0 - a $\\<^sub>e 0 \\<noteq> 0 \\<Longrightarrow>\n    x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))", "apply (auto intro!: image_eqI[where x=\"((x $\\<^sub>e 0 - a $\\<^sub>e 0) / (b $\\<^sub>e 0 -  a $\\<^sub>e 0))\"]\n          simp: vec_simps x1 divide_simps algebra_simps)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>b $\\<^sub>e 0 \\<noteq> a $\\<^sub>e 0;\n     a $\\<^sub>e 0 * a $\\<^sub>e 0 + b $\\<^sub>e 0 * b $\\<^sub>e 0 =\n     a $\\<^sub>e 0 * (b $\\<^sub>e 0 * 2)\\<rbrakk>\n    \\<Longrightarrow> x $\\<^sub>e 0 = 0\n 2. \\<lbrakk>b $\\<^sub>e 0 \\<noteq> a $\\<^sub>e 0;\n     a $\\<^sub>e 0 * a $\\<^sub>e 0 + b $\\<^sub>e 0 * b $\\<^sub>e 0 =\n     a $\\<^sub>e 0 * (b $\\<^sub>e 0 * 2)\\<rbrakk>\n    \\<Longrightarrow> b $\\<^sub>e 0 * a $\\<^sub>e Suc 0 +\n                      x $\\<^sub>e 0 * b $\\<^sub>e Suc 0 =\n                      a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 +\n                      x $\\<^sub>e 0 * a $\\<^sub>e Suc 0", "apply (metis ab_semigroup_mult_class.mult_ac(1) mult.commute sum_sqs_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>b $\\<^sub>e 0 \\<noteq> a $\\<^sub>e 0;\n     a $\\<^sub>e 0 * a $\\<^sub>e 0 + b $\\<^sub>e 0 * b $\\<^sub>e 0 =\n     a $\\<^sub>e 0 * (b $\\<^sub>e 0 * 2)\\<rbrakk>\n    \\<Longrightarrow> b $\\<^sub>e 0 * a $\\<^sub>e Suc 0 +\n                      x $\\<^sub>e 0 * b $\\<^sub>e Suc 0 =\n                      a $\\<^sub>e 0 * b $\\<^sub>e Suc 0 +\n                      x $\\<^sub>e 0 * a $\\<^sub>e Suc 0", "by (metis mult.commute mult.left_commute sum_sqs_eq)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma in_open_segment_iff_rot:\n  \"x \\<in> {a<--<b} \\<longleftrightarrow> (x - a) \\<bullet> rot (b - a) = 0 \\<and> x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) <..< b \\<bullet> (b - a)}\"\n  if \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> {a<--<b}) =\n    ((x - a) \\<bullet> rot (b - a) = 0 \\<and>\n     x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)})", "unfolding open_segment_line_hyperplanes[OF that]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a)) \\<inter>\n             {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) < b \\<bullet> (b - a)}) =\n    ((x - a) \\<bullet> rot (b - a) = 0 \\<and>\n     x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)})", "by (auto simp: nrm_dot intro!: inner_rot_in_segment)"], ["", "lemma in_open_segment_rotD:\n  \"x \\<in> {a<--<b} \\<Longrightarrow> (x - a) \\<bullet> rot (b - a) = 0 \\<and> x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) <..< b \\<bullet> (b - a)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {a<--<b} \\<Longrightarrow>\n    (x - a) \\<bullet> rot (b - a) = 0 \\<and>\n    x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}", "by (subst in_open_segment_iff_rot[symmetric]) auto"], ["", "lemma in_closed_segment_iff_rot:\n  \"x \\<in> {a--b} \\<longleftrightarrow> (x - a) \\<bullet> rot (b - a) = 0 \\<and> x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) .. b \\<bullet> (b - a)}\"\n  if \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> {a--b}) =\n    ((x - a) \\<bullet> rot (b - a) = 0 \\<and>\n     x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)})", "unfolding closed_segment_line_hyperplanes[OF that]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a)) \\<inter>\n             {x. a \\<bullet> (b - a) \\<le> x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) \\<le> b \\<bullet> (b - a)}) =\n    ((x - a) \\<bullet> rot (b - a) = 0 \\<and>\n     x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)})", "using that"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (x \\<in> range (\\<lambda>u. a + u *\\<^sub>R (b - a)) \\<inter>\n             {x. a \\<bullet> (b - a) \\<le> x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) \\<le> b \\<bullet> (b - a)}) =\n    ((x - a) \\<bullet> rot (b - a) = 0 \\<and>\n     x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)})", "by (auto simp: nrm_dot intro!: inner_rot_in_segment)"], ["", "lemma in_segment_inner_rot2:\n  \"(x - y) \\<bullet> rot (a - b) = 0\"\n  if \"x \\<in> {a--b}\" \"y \\<in> {a--b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> rot (a - b) = 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> rot (a - b) = 0", "from that"], ["proof (chain)\npicking this:\n  x \\<in> {a--b}\n  y \\<in> {a--b}", "obtain u where x: \"x = a + u *\\<^sub>R (b - a)\" \"0 \\<le> u\" \"u \\<le> 1\""], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n  y \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>x = a + u *\\<^sub>R (b - a); 0 \\<le> u; u \\<le> 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_segment algebra_simps)"], ["proof (state)\nthis:\n  x = a + u *\\<^sub>R (b - a)\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> rot (a - b) = 0", "from that"], ["proof (chain)\npicking this:\n  x \\<in> {a--b}\n  y \\<in> {a--b}", "obtain v where y: \"y = a + v *\\<^sub>R (b - a)\" \"0 \\<le> v\" \"v \\<le> 1\""], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n  y \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>y = a + v *\\<^sub>R (b - a); 0 \\<le> v; v \\<le> 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_segment algebra_simps)"], ["proof (state)\nthis:\n  y = a + v *\\<^sub>R (b - a)\n  0 \\<le> v\n  v \\<le> 1\n\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> rot (a - b) = 0", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> rot (a - b) = 0", "unfolding x y"], ["proof (prove)\ngoal (1 subgoal):\n 1. (a + u *\\<^sub>R (b - a) - (a + v *\\<^sub>R (b - a))) \\<bullet>\n    rot (a - b) =\n    0", "apply (auto simp: inner_add_left )"], ["proof (prove)\ngoal (1 subgoal):\n 1. (u *\\<^sub>R (b - a) - v *\\<^sub>R (b - a)) \\<bullet> rot (a - b) = 0", "by (smt add_diff_cancel_left' in_segment_inner_rot inner_diff_left minus_diff_eq nrm_reverse that(1) that(2) x(1) y(1))"], ["proof (state)\nthis:\n  (x - y) \\<bullet> rot (a - b) = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_segment_surface:\n  \"a \\<noteq> b \\<Longrightarrow> {a--b} = { x \\<in> {x. x \\<bullet> (b - a) \\<in> {a\\<bullet>(b - a) .. b \\<bullet> (b - a)}}. (x - a) \\<bullet> rot (b - a) = 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b \\<Longrightarrow>\n    {a--b} =\n    {x \\<in> {x. x \\<bullet> (b - a)\n                 \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)}}.\n     (x - a) \\<bullet> rot (b - a) = 0}", "by (auto simp: in_closed_segment_iff_rot)"], ["", "lemma rot_diff_commute: \"rot (b - a) = -rot(a - b)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rot (b - a) = - rot (a - b)", "apply (auto simp: rot_def algebra_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. eucl_of_list [(b - a) $\\<^sub>e Suc 0, - (b - a) $\\<^sub>e 0] =\n    - eucl_of_list [(a - b) $\\<^sub>e Suc 0, - (a - b) $\\<^sub>e 0]", "by (metis One_nat_def minus_diff_eq rot_def rot_rot)"], ["", "subsection \\<open>Bijection Real-Complex for Jordan Curve Theorem\\<close>"], ["", "definition \"complex_of (x::'a) = x$\\<^sub>e0 + \\<i> * x$\\<^sub>e1\""], ["", "definition \"real_of (x::complex) = (eucl_of_list [Re x, Im x]::'a)\""], ["", "lemma complex_of_linear:\n  shows \"linear complex_of\""], ["proof (prove)\ngoal (1 subgoal):\n 1. linear complex_of", "unfolding complex_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. linear\n     (\\<lambda>x.\n         complex_of_real (x $\\<^sub>e 0) +\n         \\<i> * complex_of_real (x $\\<^sub>e 1))", "apply (auto intro!:linearI simp add: distrib_left plus_nth_eucl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r b.\n       complex_of_real ((r *\\<^sub>R b) $\\<^sub>e 0) +\n       \\<i> * complex_of_real ((r *\\<^sub>R b) $\\<^sub>e Suc 0) =\n       r *\\<^sub>R\n       (complex_of_real (b $\\<^sub>e 0) +\n        \\<i> * complex_of_real (b $\\<^sub>e Suc 0))", "by (simp add: of_real_def scaleR_add_right scaleR_nth_eucl)"], ["", "lemma complex_of_bounded_linear:\n  shows \"bounded_linear complex_of\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear complex_of", "unfolding complex_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear\n     (\\<lambda>x.\n         complex_of_real (x $\\<^sub>e 0) +\n         \\<i> * complex_of_real (x $\\<^sub>e 1))", "apply (auto intro!:bounded_linearI' simp add: distrib_left plus_nth_eucl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>c x.\n       complex_of_real ((c *\\<^sub>R x) $\\<^sub>e 0) +\n       \\<i> * complex_of_real ((c *\\<^sub>R x) $\\<^sub>e Suc 0) =\n       c *\\<^sub>R\n       (complex_of_real (x $\\<^sub>e 0) +\n        \\<i> * complex_of_real (x $\\<^sub>e Suc 0))", "by (simp add: of_real_def scaleR_add_right scaleR_nth_eucl)"], ["", "lemma real_of_linear:\n  shows \"linear real_of\""], ["proof (prove)\ngoal (1 subgoal):\n 1. linear real_of", "unfolding real_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. linear (\\<lambda>x. eucl_of_list [Re x, Im x])", "by (auto intro!:linearI simp add: vec_simps)"], ["", "lemma real_of_bounded_linear:\n  shows \"bounded_linear real_of\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear real_of", "unfolding real_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear (\\<lambda>x. eucl_of_list [Re x, Im x])", "by (auto intro!:bounded_linearI' simp add: vec_simps)"], ["", "lemma complex_of_real_of:\n  \"(complex_of \\<circ> real_of) = id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complex_of \\<circ> real_of = id", "unfolding complex_of_def real_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real (x $\\<^sub>e 0) +\n        \\<i> * complex_of_real (x $\\<^sub>e 1)) \\<circ>\n    (\\<lambda>x. eucl_of_list [Re x, Im x]) =\n    id", "using complex_eq"], ["proof (prove)\nusing this:\n  ?a = complex_of_real (Re ?a) + \\<i> * complex_of_real (Im ?a)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        complex_of_real (x $\\<^sub>e 0) +\n        \\<i> * complex_of_real (x $\\<^sub>e 1)) \\<circ>\n    (\\<lambda>x. eucl_of_list [Re x, Im x]) =\n    id", "by (auto simp add:vec_simps)"], ["", "lemma real_of_complex_of:\n  \"(real_of \\<circ> complex_of) = id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of \\<circ> complex_of = id", "unfolding complex_of_def real_of_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. eucl_of_list [Re x, Im x]) \\<circ>\n    (\\<lambda>x.\n        complex_of_real (x $\\<^sub>e 0) +\n        \\<i> * complex_of_real (x $\\<^sub>e 1)) =\n    id", "using complex_eq"], ["proof (prove)\nusing this:\n  ?a = complex_of_real (Re ?a) + \\<i> * complex_of_real (Im ?a)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. eucl_of_list [Re x, Im x]) \\<circ>\n    (\\<lambda>x.\n        complex_of_real (x $\\<^sub>e 0) +\n        \\<i> * complex_of_real (x $\\<^sub>e 1)) =\n    id", "by (auto simp add:vec_simps)"], ["", "lemma complex_of_bij:\n  shows \"bij (complex_of)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij complex_of", "using o_bij[OF real_of_complex_of complex_of_real_of]"], ["proof (prove)\nusing this:\n  bij complex_of\n\ngoal (1 subgoal):\n 1. bij complex_of", "."], ["", "lemma real_of_bij:\n  shows \"bij (real_of)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij real_of", "using o_bij[OF complex_of_real_of real_of_complex_of]"], ["proof (prove)\nusing this:\n  bij real_of\n\ngoal (1 subgoal):\n 1. bij real_of", "."], ["", "lemma real_of_inj:\n  shows \"inj (real_of)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj real_of", "using real_of_bij"], ["proof (prove)\nusing this:\n  bij real_of\n\ngoal (1 subgoal):\n 1. inj real_of", "using bij_betw_imp_inj_on"], ["proof (prove)\nusing this:\n  bij real_of\n  bij_betw ?f ?A ?B \\<Longrightarrow> inj_on ?f ?A\n\ngoal (1 subgoal):\n 1. inj real_of", "by auto"], ["", "lemma Jordan_curve_R2:\n  fixes c :: \"real \\<Rightarrow> 'a\"\n  assumes \"simple_path c\" \"pathfinish c = pathstart c\"\n  obtains inside outside where\n    \"inside \\<noteq> {}\" \"open inside\" \"connected inside\"\n    \"outside \\<noteq> {}\" \"open outside\" \"connected outside\"\n    \"bounded inside\" \"\\<not> bounded outside\"\n    \"inside \\<inter> outside = {}\"\n    \"inside \\<union> outside = - path_image c\"\n    \"frontier inside = path_image c\"\n    \"frontier outside = path_image c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from simple_path_linear_image_eq[OF complex_of_linear]"], ["proof (chain)\npicking this:\n  inj complex_of \\<Longrightarrow>\n  simple_path (complex_of \\<circ> ?g) = simple_path ?g", "have a1:\"simple_path (complex_of \\<circ> c)\""], ["proof (prove)\nusing this:\n  inj complex_of \\<Longrightarrow>\n  simple_path (complex_of \\<circ> ?g) = simple_path ?g\n\ngoal (1 subgoal):\n 1. simple_path (complex_of \\<circ> c)", "using assms(1) complex_of_bij"], ["proof (prove)\nusing this:\n  inj complex_of \\<Longrightarrow>\n  simple_path (complex_of \\<circ> ?g) = simple_path ?g\n  simple_path c\n  bij complex_of\n\ngoal (1 subgoal):\n 1. simple_path (complex_of \\<circ> c)", "using bij_betw_imp_inj_on"], ["proof (prove)\nusing this:\n  inj complex_of \\<Longrightarrow>\n  simple_path (complex_of \\<circ> ?g) = simple_path ?g\n  simple_path c\n  bij complex_of\n  bij_betw ?f ?A ?B \\<Longrightarrow> inj_on ?f ?A\n\ngoal (1 subgoal):\n 1. simple_path (complex_of \\<circ> c)", "by blast"], ["proof (state)\nthis:\n  simple_path (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have a2:\"pathfinish (complex_of \\<circ> c) = pathstart (complex_of \\<circ> c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish (complex_of \\<circ> c) = pathstart (complex_of \\<circ> c)", "using assms(2)"], ["proof (prove)\nusing this:\n  pathfinish c = pathstart c\n\ngoal (1 subgoal):\n 1. pathfinish (complex_of \\<circ> c) = pathstart (complex_of \\<circ> c)", "by (simp add:pathstart_compose pathfinish_compose)"], ["proof (state)\nthis:\n  pathfinish (complex_of \\<circ> c) = pathstart (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from Jordan_curve[OF a1 a2]"], ["proof (chain)\npicking this:\n  (\\<And>inner outer.\n      \\<lbrakk>inner \\<noteq> {}; open inner; connected inner;\n       outer \\<noteq> {}; open outer; connected outer; bounded inner;\n       \\<not> bounded outer; inner \\<inter> outer = {};\n       inner \\<union> outer = - path_image (complex_of \\<circ> c);\n       frontier inner = path_image (complex_of \\<circ> c);\n       frontier outer = path_image (complex_of \\<circ> c)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain inside outside where io:\n    \"inside \\<noteq> {}\" \"open inside\" \"connected inside\"\n    \"outside \\<noteq> {}\" \"open outside\" \"connected outside\"\n    \"bounded inside\" \"\\<not> bounded outside\" \"inside \\<inter> outside = {}\"\n    \"inside \\<union> outside = - path_image (complex_of \\<circ> c)\"\n    \"frontier inside = path_image (complex_of \\<circ> c)\"\n    \"frontier outside = path_image (complex_of \\<circ> c)\""], ["proof (prove)\nusing this:\n  (\\<And>inner outer.\n      \\<lbrakk>inner \\<noteq> {}; open inner; connected inner;\n       outer \\<noteq> {}; open outer; connected outer; bounded inner;\n       \\<not> bounded outer; inner \\<inter> outer = {};\n       inner \\<union> outer = - path_image (complex_of \\<circ> c);\n       frontier inner = path_image (complex_of \\<circ> c);\n       frontier outer = path_image (complex_of \\<circ> c)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image (complex_of \\<circ> c);\n         frontier inside = path_image (complex_of \\<circ> c);\n         frontier outside = path_image (complex_of \\<circ> c)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?rin = \"real_of ` inside\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?rout = \"real_of ` outside\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have i: \"inside = complex_of ` ?rin\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inside = complex_of ` real_of ` inside", "using complex_of_real_of"], ["proof (prove)\nusing this:\n  complex_of \\<circ> real_of = id\n\ngoal (1 subgoal):\n 1. inside = complex_of ` real_of ` inside", "unfolding image_comp"], ["proof (prove)\nusing this:\n  complex_of \\<circ> real_of = id\n\ngoal (1 subgoal):\n 1. inside = (complex_of \\<circ> real_of) ` inside", "by auto"], ["proof (state)\nthis:\n  inside = complex_of ` real_of ` inside\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have o: \"outside = complex_of ` ?rout\""], ["proof (prove)\ngoal (1 subgoal):\n 1. outside = complex_of ` real_of ` outside", "using complex_of_real_of"], ["proof (prove)\nusing this:\n  complex_of \\<circ> real_of = id\n\ngoal (1 subgoal):\n 1. outside = complex_of ` real_of ` outside", "unfolding image_comp"], ["proof (prove)\nusing this:\n  complex_of \\<circ> real_of = id\n\ngoal (1 subgoal):\n 1. outside = (complex_of \\<circ> real_of) ` outside", "by auto"], ["proof (state)\nthis:\n  outside = complex_of ` real_of ` outside\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have c: \"path_image(complex_of \\<circ> c) = complex_of ` (path_image c)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image (complex_of \\<circ> c) = complex_of ` path_image c", "by (simp add: path_image_compose)"], ["proof (state)\nthis:\n  path_image (complex_of \\<circ> c) = complex_of ` path_image c\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?rin \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of ` inside \\<noteq> {}", "using io"], ["proof (prove)\nusing this:\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. real_of ` inside \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  real_of ` inside \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  real_of ` inside \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from open_bijective_linear_image_eq[OF real_of_linear real_of_bij]"], ["proof (chain)\npicking this:\n  open (real_of ` ?A) = open ?A", "have \"open ?rin\""], ["proof (prove)\nusing this:\n  open (real_of ` ?A) = open ?A\n\ngoal (1 subgoal):\n 1. open (real_of ` inside)", "using io"], ["proof (prove)\nusing this:\n  open (real_of ` ?A) = open ?A\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. open (real_of ` inside)", "by auto"], ["proof (state)\nthis:\n  open (real_of ` inside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  open (real_of ` inside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from connected_linear_image[OF real_of_linear]"], ["proof (chain)\npicking this:\n  connected ?s \\<Longrightarrow> connected (real_of ` ?s)", "have \"connected ?rin\""], ["proof (prove)\nusing this:\n  connected ?s \\<Longrightarrow> connected (real_of ` ?s)\n\ngoal (1 subgoal):\n 1. connected (real_of ` inside)", "using io"], ["proof (prove)\nusing this:\n  connected ?s \\<Longrightarrow> connected (real_of ` ?s)\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. connected (real_of ` inside)", "by auto"], ["proof (state)\nthis:\n  connected (real_of ` inside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  connected (real_of ` inside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?rout \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of ` outside \\<noteq> {}", "using io"], ["proof (prove)\nusing this:\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. real_of ` outside \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  real_of ` outside \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  real_of ` outside \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from open_bijective_linear_image_eq[OF real_of_linear real_of_bij]"], ["proof (chain)\npicking this:\n  open (real_of ` ?A) = open ?A", "have \"open ?rout\""], ["proof (prove)\nusing this:\n  open (real_of ` ?A) = open ?A\n\ngoal (1 subgoal):\n 1. open (real_of ` outside)", "using io"], ["proof (prove)\nusing this:\n  open (real_of ` ?A) = open ?A\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. open (real_of ` outside)", "by auto"], ["proof (state)\nthis:\n  open (real_of ` outside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  open (real_of ` outside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from connected_linear_image[OF real_of_linear]"], ["proof (chain)\npicking this:\n  connected ?s \\<Longrightarrow> connected (real_of ` ?s)", "have \"connected ?rout\""], ["proof (prove)\nusing this:\n  connected ?s \\<Longrightarrow> connected (real_of ` ?s)\n\ngoal (1 subgoal):\n 1. connected (real_of ` outside)", "using io"], ["proof (prove)\nusing this:\n  connected ?s \\<Longrightarrow> connected (real_of ` ?s)\n  inside \\<noteq> {}\n  open inside\n  connected inside\n  outside \\<noteq> {}\n  open outside\n  connected outside\n  bounded inside\n  \\<not> bounded outside\n  inside \\<inter> outside = {}\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n  frontier inside = path_image (complex_of \\<circ> c)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. connected (real_of ` outside)", "by auto"], ["proof (state)\nthis:\n  connected (real_of ` outside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  connected (real_of ` outside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from bounded_linear_image[OF io(7) real_of_bounded_linear]"], ["proof (chain)\npicking this:\n  bounded (real_of ` inside)", "have \"bounded ?rin\""], ["proof (prove)\nusing this:\n  bounded (real_of ` inside)\n\ngoal (1 subgoal):\n 1. bounded (real_of ` inside)", "."], ["proof (state)\nthis:\n  bounded (real_of ` inside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  bounded (real_of ` inside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from bounded_linear_image[OF _ complex_of_bounded_linear]"], ["proof (chain)\npicking this:\n  bounded ?S \\<Longrightarrow> bounded (complex_of ` ?S)", "have \"\\<not> bounded ?rout\""], ["proof (prove)\nusing this:\n  bounded ?S \\<Longrightarrow> bounded (complex_of ` ?S)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (real_of ` outside)", "using io(8) o"], ["proof (prove)\nusing this:\n  bounded ?S \\<Longrightarrow> bounded (complex_of ` ?S)\n  \\<not> bounded outside\n  outside = complex_of ` real_of ` outside\n\ngoal (1 subgoal):\n 1. \\<not> bounded (real_of ` outside)", "by force"], ["proof (state)\nthis:\n  \\<not> bounded (real_of ` outside)\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from image_Int[OF real_of_inj]"], ["proof (chain)\npicking this:\n  real_of ` (?A \\<inter> ?B) = real_of ` ?A \\<inter> real_of ` ?B", "have \"?rin \\<inter> ?rout = {}\""], ["proof (prove)\nusing this:\n  real_of ` (?A \\<inter> ?B) = real_of ` ?A \\<inter> real_of ` ?B\n\ngoal (1 subgoal):\n 1. real_of ` inside \\<inter> real_of ` outside = {}", "using io(9)"], ["proof (prove)\nusing this:\n  real_of ` (?A \\<inter> ?B) = real_of ` ?A \\<inter> real_of ` ?B\n  inside \\<inter> outside = {}\n\ngoal (1 subgoal):\n 1. real_of ` inside \\<inter> real_of ` outside = {}", "by auto"], ["proof (state)\nthis:\n  real_of ` inside \\<inter> real_of ` outside = {}\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  real_of ` inside \\<inter> real_of ` outside = {}\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from bij_image_Compl_eq[OF complex_of_bij]"], ["proof (chain)\npicking this:\n  complex_of ` (- ?A) = - complex_of ` ?A", "have \"?rin \\<union> ?rout = - path_image c\""], ["proof (prove)\nusing this:\n  complex_of ` (- ?A) = - complex_of ` ?A\n\ngoal (1 subgoal):\n 1. real_of ` inside \\<union> real_of ` outside = - path_image c", "using io(10)"], ["proof (prove)\nusing this:\n  complex_of ` (- ?A) = - complex_of ` ?A\n  inside \\<union> outside = - path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. real_of ` inside \\<union> real_of ` outside = - path_image c", "unfolding c"], ["proof (prove)\nusing this:\n  complex_of ` (- ?A) = - complex_of ` ?A\n  inside \\<union> outside = - complex_of ` path_image c\n\ngoal (1 subgoal):\n 1. real_of ` inside \\<union> real_of ` outside = - path_image c", "by (metis id_apply image_Un image_comp image_cong image_ident real_of_complex_of)"], ["proof (state)\nthis:\n  real_of ` inside \\<union> real_of ` outside = - path_image c\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  real_of ` inside \\<union> real_of ` outside = - path_image c\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from closure_injective_linear_image[OF real_of_linear real_of_inj]"], ["proof (chain)\npicking this:\n  real_of ` closure ?S = closure (real_of ` ?S)", "have \"frontier ?rin = path_image c\""], ["proof (prove)\nusing this:\n  real_of ` closure ?S = closure (real_of ` ?S)\n\ngoal (1 subgoal):\n 1. frontier (real_of ` inside) = path_image c", "using io(11)"], ["proof (prove)\nusing this:\n  real_of ` closure ?S = closure (real_of ` ?S)\n  frontier inside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. frontier (real_of ` inside) = path_image c", "unfolding frontier_closures c"], ["proof (prove)\nusing this:\n  real_of ` closure ?S = closure (real_of ` ?S)\n  closure inside \\<inter> closure (- inside) = complex_of ` path_image c\n\ngoal (1 subgoal):\n 1. closure (real_of ` inside) \\<inter> closure (- real_of ` inside) =\n    path_image c", "by (metis \\<open>\\<And>B A. real_of ` (A \\<inter> B) = real_of ` A \\<inter> real_of ` B\\<close> bij_image_Compl_eq c calculation(9) compl_sup double_compl io(10) real_of_bij)"], ["proof (state)\nthis:\n  frontier (real_of ` inside) = path_image c\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  frontier (real_of ` inside) = path_image c\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from closure_injective_linear_image[OF real_of_linear real_of_inj]"], ["proof (chain)\npicking this:\n  real_of ` closure ?S = closure (real_of ` ?S)", "have \"frontier ?rout = path_image c\""], ["proof (prove)\nusing this:\n  real_of ` closure ?S = closure (real_of ` ?S)\n\ngoal (1 subgoal):\n 1. frontier (real_of ` outside) = path_image c", "using io(12)"], ["proof (prove)\nusing this:\n  real_of ` closure ?S = closure (real_of ` ?S)\n  frontier outside = path_image (complex_of \\<circ> c)\n\ngoal (1 subgoal):\n 1. frontier (real_of ` outside) = path_image c", "unfolding frontier_closures c"], ["proof (prove)\nusing this:\n  real_of ` closure ?S = closure (real_of ` ?S)\n  closure outside \\<inter> closure (- outside) = complex_of ` path_image c\n\ngoal (1 subgoal):\n 1. closure (real_of ` outside) \\<inter> closure (- real_of ` outside) =\n    path_image c", "by (metis \\<open>\\<And>B A. real_of ` (A \\<inter> B) = real_of ` A \\<inter> real_of ` B\\<close> bij_image_Compl_eq c calculation(10) frontier_closures io(11) real_of_bij)"], ["proof (state)\nthis:\n  frontier (real_of ` outside) = path_image c\n\ngoal (1 subgoal):\n 1. (\\<And>inside outside.\n        \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n         outside \\<noteq> {}; open outside; connected outside;\n         bounded inside; \\<not> bounded outside;\n         inside \\<inter> outside = {};\n         inside \\<union> outside = - path_image c;\n         frontier inside = path_image c;\n         frontier outside = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  real_of ` inside \\<noteq> {}\n  open (real_of ` inside)\n  connected (real_of ` inside)\n  real_of ` outside \\<noteq> {}\n  open (real_of ` outside)\n  connected (real_of ` outside)\n  bounded (real_of ` inside)\n  real_of ` inside \\<inter> real_of ` outside = {}\n  real_of ` inside \\<union> real_of ` outside = - path_image c\n  frontier (real_of ` inside) = path_image c\n  frontier (real_of ` outside) = path_image c", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of ` inside \\<noteq> {}\n  open (real_of ` inside)\n  connected (real_of ` inside)\n  real_of ` outside \\<noteq> {}\n  open (real_of ` outside)\n  connected (real_of ` outside)\n  bounded (real_of ` inside)\n  real_of ` inside \\<inter> real_of ` outside = {}\n  real_of ` inside \\<union> real_of ` outside = - path_image c\n  frontier (real_of ` inside) = path_image c\n  frontier (real_of ` outside) = path_image c\n\ngoal (1 subgoal):\n 1. thesis", "by (meson \\<open>\\<not> bounded (real_of ` outside)\\<close> that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "(* copied *)"], ["", "corollary Jordan_inside_outside_R2:\n  fixes c :: \"real \\<Rightarrow> 'a\"\n  assumes \"simple_path c\" \"pathfinish c = pathstart c\"\n  shows \"inside(path_image c) \\<noteq> {} \\<and>\n          open(inside(path_image c)) \\<and>\n          connected(inside(path_image c)) \\<and>\n          outside(path_image c) \\<noteq> {} \\<and>\n          open(outside(path_image c)) \\<and>\n          connected(outside(path_image c)) \\<and>\n          bounded(inside(path_image c)) \\<and>\n          \\<not> bounded(outside(path_image c)) \\<and>\n          inside(path_image c) \\<inter> outside(path_image c) = {} \\<and>\n          inside(path_image c) \\<union> outside(path_image c) =\n          - path_image c \\<and>\n          frontier(inside(path_image c)) = path_image c \\<and>\n          frontier(outside(path_image c)) = path_image c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "obtain inner outer\n    where *: \"inner \\<noteq> {}\" \"open inner\" \"connected inner\"\n      \"outer \\<noteq> {}\" \"open outer\" \"connected outer\"\n      \"bounded inner\" \"\\<not> bounded outer\" \"inner \\<inter> outer = {}\"\n      \"inner \\<union> outer = - path_image c\"\n      \"frontier inner = path_image c\"\n      \"frontier outer = path_image c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>inner outer.\n        \\<lbrakk>inner \\<noteq> {}; open inner; connected inner;\n         outer \\<noteq> {}; open outer; connected outer; bounded inner;\n         \\<not> bounded outer; inner \\<inter> outer = {};\n         inner \\<union> outer = - path_image c;\n         frontier inner = path_image c;\n         frontier outer = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Jordan_curve_R2 [OF assms]"], ["proof (prove)\nusing this:\n  (\\<And>inside outside.\n      \\<lbrakk>inside \\<noteq> {}; open inside; connected inside;\n       outside \\<noteq> {}; open outside; connected outside; bounded inside;\n       \\<not> bounded outside; inside \\<inter> outside = {};\n       inside \\<union> outside = - path_image c;\n       frontier inside = path_image c;\n       frontier outside = path_image c\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>inner outer.\n        \\<lbrakk>inner \\<noteq> {}; open inner; connected inner;\n         outer \\<noteq> {}; open outer; connected outer; bounded inner;\n         \\<not> bounded outer; inner \\<inter> outer = {};\n         inner \\<union> outer = - path_image c;\n         frontier inner = path_image c;\n         frontier outer = path_image c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image c\n  frontier inner = path_image c\n  frontier outer = path_image c\n\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "then"], ["proof (chain)\npicking this:\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image c\n  frontier inner = path_image c\n  frontier outer = path_image c", "have inner: \"inside(path_image c) = inner\""], ["proof (prove)\nusing this:\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image c\n  frontier inner = path_image c\n  frontier outer = path_image c\n\ngoal (1 subgoal):\n 1. inside (path_image c) = inner", "by (metis dual_order.antisym inside_subset interior_eq interior_inside_frontier)"], ["proof (state)\nthis:\n  inside (path_image c) = inner\n\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "have outer: \"outside(path_image c) = outer\""], ["proof (prove)\ngoal (1 subgoal):\n 1. outside (path_image c) = outer", "using \\<open>inner \\<union> outer = - path_image c\\<close> \\<open>inside (path_image c) = inner\\<close>\n      outside_inside \\<open>inner \\<inter> outer = {}\\<close>"], ["proof (prove)\nusing this:\n  inner \\<union> outer = - path_image c\n  inside (path_image c) = inner\n  outside ?S = - (?S \\<union> inside ?S)\n  inner \\<inter> outer = {}\n\ngoal (1 subgoal):\n 1. outside (path_image c) = outer", "by auto"], ["proof (state)\nthis:\n  outside (path_image c) = outer\n\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "using *"], ["proof (prove)\nusing this:\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image c\n  frontier inner = path_image c\n  frontier outer = path_image c\n\ngoal (1 subgoal):\n 1. inside (path_image c) \\<noteq> {} \\<and>\n    open (inside (path_image c)) \\<and>\n    connected (inside (path_image c)) \\<and>\n    outside (path_image c) \\<noteq> {} \\<and>\n    open (outside (path_image c)) \\<and>\n    connected (outside (path_image c)) \\<and>\n    bounded (inside (path_image c)) \\<and>\n    \\<not> bounded (outside (path_image c)) \\<and>\n    inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n    inside (path_image c) \\<union> outside (path_image c) =\n    - path_image c \\<and>\n    frontier (inside (path_image c)) = path_image c \\<and>\n    frontier (outside (path_image c)) = path_image c", "by (auto simp: inner outer)"], ["proof (state)\nthis:\n  inside (path_image c) \\<noteq> {} \\<and>\n  open (inside (path_image c)) \\<and>\n  connected (inside (path_image c)) \\<and>\n  outside (path_image c) \\<noteq> {} \\<and>\n  open (outside (path_image c)) \\<and>\n  connected (outside (path_image c)) \\<and>\n  bounded (inside (path_image c)) \\<and>\n  \\<not> bounded (outside (path_image c)) \\<and>\n  inside (path_image c) \\<inter> outside (path_image c) = {} \\<and>\n  inside (path_image c) \\<union> outside (path_image c) =\n  - path_image c \\<and>\n  frontier (inside (path_image c)) = path_image c \\<and>\n  frontier (outside (path_image c)) = path_image c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma jordan_points_inside_outside:\n  fixes p :: \"real \\<Rightarrow> 'a\"\n  assumes \"0 < e\"\n  assumes jordan: \"simple_path p\" \"pathfinish p = pathstart p\"\n  assumes x: \"x \\<in> path_image p\"\n  obtains y z where \"y \\<in> inside (path_image p)\" \"y \\<in> ball x e\" \n    \"z \\<in> outside (path_image p)\" \"z \\<in> ball x e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e;\n         z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e;\n         z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from Jordan_inside_outside_R2[OF jordan]"], ["proof (chain)\npicking this:\n  inside (path_image p) \\<noteq> {} \\<and>\n  open (inside (path_image p)) \\<and>\n  connected (inside (path_image p)) \\<and>\n  outside (path_image p) \\<noteq> {} \\<and>\n  open (outside (path_image p)) \\<and>\n  connected (outside (path_image p)) \\<and>\n  bounded (inside (path_image p)) \\<and>\n  \\<not> bounded (outside (path_image p)) \\<and>\n  inside (path_image p) \\<inter> outside (path_image p) = {} \\<and>\n  inside (path_image p) \\<union> outside (path_image p) =\n  - path_image p \\<and>\n  frontier (inside (path_image p)) = path_image p \\<and>\n  frontier (outside (path_image p)) = path_image p", "have xi: \"x \\<in> frontier(inside (path_image p))\" and\n    xo: \"x \\<in> frontier(outside (path_image p))\""], ["proof (prove)\nusing this:\n  inside (path_image p) \\<noteq> {} \\<and>\n  open (inside (path_image p)) \\<and>\n  connected (inside (path_image p)) \\<and>\n  outside (path_image p) \\<noteq> {} \\<and>\n  open (outside (path_image p)) \\<and>\n  connected (outside (path_image p)) \\<and>\n  bounded (inside (path_image p)) \\<and>\n  \\<not> bounded (outside (path_image p)) \\<and>\n  inside (path_image p) \\<inter> outside (path_image p) = {} \\<and>\n  inside (path_image p) \\<union> outside (path_image p) =\n  - path_image p \\<and>\n  frontier (inside (path_image p)) = path_image p \\<and>\n  frontier (outside (path_image p)) = path_image p\n\ngoal (1 subgoal):\n 1. x \\<in> frontier (inside (path_image p)) &&&\n    x \\<in> frontier (outside (path_image p))", "using x"], ["proof (prove)\nusing this:\n  inside (path_image p) \\<noteq> {} \\<and>\n  open (inside (path_image p)) \\<and>\n  connected (inside (path_image p)) \\<and>\n  outside (path_image p) \\<noteq> {} \\<and>\n  open (outside (path_image p)) \\<and>\n  connected (outside (path_image p)) \\<and>\n  bounded (inside (path_image p)) \\<and>\n  \\<not> bounded (outside (path_image p)) \\<and>\n  inside (path_image p) \\<inter> outside (path_image p) = {} \\<and>\n  inside (path_image p) \\<union> outside (path_image p) =\n  - path_image p \\<and>\n  frontier (inside (path_image p)) = path_image p \\<and>\n  frontier (outside (path_image p)) = path_image p\n  x \\<in> path_image p\n\ngoal (1 subgoal):\n 1. x \\<in> frontier (inside (path_image p)) &&&\n    x \\<in> frontier (outside (path_image p))", "by auto"], ["proof (state)\nthis:\n  x \\<in> frontier (inside (path_image p))\n  x \\<in> frontier (outside (path_image p))\n\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e;\n         z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain y where y:\"y \\<in> inside (path_image p)\" \"y \\<in> ball x e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>0 < e\\<close> xi"], ["proof (prove)\nusing this:\n  0 < e\n  x \\<in> frontier (inside (path_image p))\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding frontier_straddle"], ["proof (prove)\nusing this:\n  0 < e\n  \\<forall>e>0.\n     (\\<exists>xa\\<in>inside (path_image p). dist x xa < e) \\<and>\n     (\\<exists>xa. xa \\<notin> inside (path_image p) \\<and> dist x xa < e)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y \\<in> inside (path_image p)\n  y \\<in> ball x e\n\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e;\n         z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain z where z:\"z \\<in> outside (path_image p)\" \"z \\<in> ball x e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>0 < e\\<close> xo"], ["proof (prove)\nusing this:\n  0 < e\n  x \\<in> frontier (outside (path_image p))\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding frontier_straddle"], ["proof (prove)\nusing this:\n  0 < e\n  \\<forall>e>0.\n     (\\<exists>xa\\<in>outside (path_image p). dist x xa < e) \\<and>\n     (\\<exists>xa. xa \\<notin> outside (path_image p) \\<and> dist x xa < e)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  z \\<in> outside (path_image p)\n  z \\<in> ball x e\n\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>y \\<in> inside (path_image p); y \\<in> ball x e;\n         z \\<in> outside (path_image p); z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using y z that"], ["proof (prove)\nusing this:\n  y \\<in> inside (path_image p)\n  y \\<in> ball x e\n  z \\<in> outside (path_image p)\n  z \\<in> ball x e\n  \\<lbrakk>?y2 \\<in> inside (path_image p); ?y2 \\<in> ball x e;\n   ?z2 \\<in> outside (path_image p); ?z2 \\<in> ball x e\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_at_open_segment:\n  assumes \"x \\<in> {a<--<b}\"\n  shows \"\\<forall>\\<^sub>F y in at x. (y-a) \\<bullet> rot(a-b) = 0 \\<longrightarrow> y \\<in> {a <--< b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "from assms"], ["proof (chain)\npicking this:\n  x \\<in> {a<--<b}", "have \"a \\<noteq> b\""], ["proof (prove)\nusing this:\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "from assms"], ["proof (chain)\npicking this:\n  x \\<in> {a<--<b}", "have x: \"(x - a) \\<bullet> rot (b - a) = 0\" \"x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\""], ["proof (prove)\nusing this:\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (b - a) = 0 &&&\n    x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}", "unfolding in_open_segment_iff_rot[OF \\<open>a \\<noteq> b\\<close>]"], ["proof (prove)\nusing this:\n  (x - a) \\<bullet> rot (b - a) = 0 \\<and>\n  x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (b - a) = 0 &&&\n    x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}", "by auto"], ["proof (state)\nthis:\n  (x - a) \\<bullet> rot (b - a) = 0\n  x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "then"], ["proof (chain)\npicking this:\n  (x - a) \\<bullet> rot (b - a) = 0\n  x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}", "have \"\\<forall>\\<^sub>F y in at x. y \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\""], ["proof (prove)\nusing this:\n  (x - a) \\<bullet> rot (b - a) = 0\n  x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       y \\<bullet> (b - a)\n       \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}", "by (intro topological_tendstoD) (auto intro!: tendsto_intros)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "by eventually_elim (auto simp: in_open_segment_iff_rot[OF \\<open>a \\<noteq> b\\<close>] nrm_reverse[of _ a b] algebra_simps dist_commute)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x.\n     (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma linepath_ball:\n  assumes \"x \\<in> {a<--<b}\"\n  obtains e where \"e > 0\" \"ball x e \\<inter> {y. (y-a) \\<bullet> rot(a-b) = 0} \\<subseteq> {a <--< b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e;\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n         \\<subseteq> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e;\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n         \\<subseteq> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from eventually_at_open_segment[OF assms] assms"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x.\n     (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}\n  x \\<in> {a<--<b}", "obtain e where \"0 < e\" \"ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0} \\<subseteq> {a<--<b}\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x.\n     (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e;\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n         \\<subseteq> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: eventually_at in_open_segment_iff_rot dist_commute)"], ["proof (state)\nthis:\n  0 < e\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e;\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n         \\<subseteq> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < e\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  \\<subseteq> {a<--<b}", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < e\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma linepath_ball_inside_outside:\n  fixes p :: \"real \\<Rightarrow> 'a\"\n  assumes jordan: \"simple_path (p +++ linepath a b)\" \"pathfinish p = a\" \"pathstart p = b\"\n  assumes x: \"x \\<in> {a<--<b}\"\n  obtains e where \"e > 0\" \"ball x e \\<inter> path_image p = {}\"\n    \"ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) > 0} \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n     ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) < 0} \\<subseteq> outside (path_image (p +++ linepath a b))\n     \\<or> \n     ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) < 0} \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n     ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) > 0} \\<subseteq> outside (path_image (p +++ linepath a b))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?lp = \"p +++ linepath a b\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "using x"], ["proof (prove)\nusing this:\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have pp:\"path p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path p", "using jordan path_join pathfinish_linepath simple_path_imp_path"], ["proof (prove)\nusing this:\n  simple_path (p +++ linepath a b)\n  pathfinish p = a\n  pathstart p = b\n  pathfinish ?g1.0 = pathstart ?g2.0 \\<Longrightarrow>\n  path (?g1.0 +++ ?g2.0) = (path ?g1.0 \\<and> path ?g2.0)\n  pathfinish (linepath ?a ?b) = ?b\n  simple_path ?g \\<Longrightarrow> path ?g\n\ngoal (1 subgoal):\n 1. path p", "by fastforce"], ["proof (state)\nthis:\n  path p\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a,b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a, b}", "using jordan simple_path_join_loop_eq"], ["proof (prove)\nusing this:\n  simple_path (p +++ linepath a b)\n  pathfinish p = a\n  pathstart p = b\n  \\<lbrakk>pathfinish ?g2.0 = pathstart ?g1.0;\n   pathfinish ?g1.0 = pathstart ?g2.0\\<rbrakk>\n  \\<Longrightarrow> simple_path (?g1.0 +++ ?g2.0) =\n                    (arc ?g1.0 \\<and>\n                     arc ?g2.0 \\<and>\n                     path_image ?g1.0 \\<inter> path_image ?g2.0\n                     \\<subseteq> {pathstart ?g1.0, pathstart ?g2.0})\n\ngoal (1 subgoal):\n 1. path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a, b}", "by (metis (no_types, lifting) inf_sup_aci(1) insert_commute path_join_path_ends path_linepath simple_path_imp_path simple_path_joinE)"], ["proof (state)\nthis:\n  path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a, b}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a, b}", "have \"x \\<notin> path_image p\""], ["proof (prove)\nusing this:\n  path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a, b}\n\ngoal (1 subgoal):\n 1. x \\<notin> path_image p", "using x"], ["proof (prove)\nusing this:\n  path_image p \\<inter> path_image (linepath a b) \\<subseteq> {a, b}\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<notin> path_image p", "unfolding path_image_linepath"], ["proof (prove)\nusing this:\n  path_image p \\<inter> {a--b} \\<subseteq> {a, b}\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<notin> path_image p", "by (metis DiffE Int_iff le_iff_inf open_segment_def)"], ["proof (state)\nthis:\n  x \\<notin> path_image p\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<notin> path_image p", "have \"\\<forall>\\<^sub>F y in at x. y \\<notin> path_image p\""], ["proof (prove)\nusing this:\n  x \\<notin> path_image p\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x. y \\<notin> path_image p", "by (intro eventually_not_in_closed) (auto simp: closed_path_image \\<open>path p\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x. y \\<notin> path_image p\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x. y \\<notin> path_image p\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F y in at x. (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "by (rule eventually_at_open_segment[OF x])"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x.\n     (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x. y \\<notin> path_image p\n  \\<forall>\\<^sub>F y in at x.\n     (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}", "have \"\\<forall>\\<^sub>F y in at x. y \\<notin> path_image p \\<and> ((y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b})\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x. y \\<notin> path_image p\n  \\<forall>\\<^sub>F y in at x.\n     (y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       y \\<notin> path_image p \\<and>\n       ((y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow>\n        y \\<in> {a<--<b})", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<notin> path_image p \\<and>\n     ((y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b})\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<notin> path_image p \\<and>\n     ((y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b})", "obtain e where e: \"e > 0\" \"ball x e \\<inter> path_image p = {}\"\n    \"ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0} \\<subseteq> {a<--<b}\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<notin> path_image p \\<and>\n     ((y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b})\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n         \\<subseteq> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>x \\<notin> path_image p\\<close> x in_open_segment_rotD[OF x]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x.\n     y \\<notin> path_image p \\<and>\n     ((y - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow> y \\<in> {a<--<b})\n  x \\<notin> path_image p\n  x \\<in> {a<--<b}\n  (x - a) \\<bullet> rot (b - a) = 0 \\<and>\n  x \\<bullet> (b - a) \\<in> {a \\<bullet> (b - a)<..<b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n         \\<subseteq> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply (auto simp: eventually_at subset_iff dist_commute dest!: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>d.\n       \\<lbrakk>\\<And>e.\n                   \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n                    \\<forall>t.\n                       dist t x < e \\<and>\n                       (t - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow>\n                       t \\<in> {a<--<b}\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        x \\<notin> path_image p; x \\<in> {a<--<b};\n        (x - a) \\<bullet> rot (b - a) = 0; 0 < d;\n        \\<forall>xa.\n           xa \\<noteq> x \\<and> dist xa x < d \\<longrightarrow>\n           xa \\<notin> path_image p \\<and>\n           ((xa - a) \\<bullet> rot (a - b) = 0 \\<longrightarrow>\n            xa \\<in> {a<--<b});\n        a \\<bullet> (b - a) < x \\<bullet> (b - a);\n        x \\<bullet> (b - a) < b \\<bullet> (b - a)\\<rbrakk>\n       \\<Longrightarrow> thesis", "by (metis Int_iff all_not_in_conv dist_commute mem_ball)"], ["proof (state)\nthis:\n  0 < e\n  ball x e \\<inter> path_image p = {}\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have a1: \"pathfinish ?lp = pathstart ?lp\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish (p +++ linepath a b) = pathstart (p +++ linepath a b)", "by (auto simp add: jordan)"], ["proof (state)\nthis:\n  pathfinish (p +++ linepath a b) = pathstart (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x \\<in> path_image ?lp\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> path_image (p +++ linepath a b)", "using jordan(1) open_closed_segment path_image_join path_join_path_ends simple_path_imp_path x"], ["proof (prove)\nusing this:\n  simple_path (p +++ linepath a b)\n  ?u \\<in> {?w<--<?z} \\<Longrightarrow> ?u \\<in> {?w--?z}\n  pathfinish ?g1.0 = pathstart ?g2.0 \\<Longrightarrow>\n  path_image (?g1.0 +++ ?g2.0) = path_image ?g1.0 \\<union> path_image ?g2.0\n  \\<lbrakk>path (?g1.0 +++ ?g2.0); path ?g2.0\\<rbrakk>\n  \\<Longrightarrow> pathfinish ?g1.0 = pathstart ?g2.0\n  simple_path ?g \\<Longrightarrow> path ?g\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> path_image (p +++ linepath a b)", "by fastforce"], ["proof (state)\nthis:\n  x \\<in> path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from jordan_points_inside_outside[OF e(1) jordan(1) a1 this]"], ["proof (chain)\npicking this:\n  (\\<And>y z.\n      \\<lbrakk>y \\<in> inside (path_image (p +++ linepath a b));\n       y \\<in> ball x e; z \\<in> outside (path_image (p +++ linepath a b));\n       z \\<in> ball x e\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y z where y: \"y \\<in> inside (path_image ?lp)\" \"y \\<in> ball x e\" \n    and z: \"z \\<in> outside (path_image ?lp)\" \"z \\<in> ball x e\""], ["proof (prove)\nusing this:\n  (\\<And>y z.\n      \\<lbrakk>y \\<in> inside (path_image (p +++ linepath a b));\n       y \\<in> ball x e; z \\<in> outside (path_image (p +++ linepath a b));\n       z \\<in> ball x e\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y z.\n        \\<lbrakk>y \\<in> inside (path_image (p +++ linepath a b));\n         y \\<in> ball x e;\n         z \\<in> outside (path_image (p +++ linepath a b));\n         z \\<in> ball x e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  y \\<in> inside (path_image (p +++ linepath a b))\n  y \\<in> ball x e\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> ball x e\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have jordancurve:\n    \"inside (path_image ?lp) \\<inter> outside(path_image ?lp) = {}\"\n    \"frontier (inside (path_image ?lp)) = path_image ?lp\"\n    \"frontier (outside (path_image ?lp)) = path_image ?lp\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inside (path_image (p +++ linepath a b)) \\<inter>\n    outside (path_image (p +++ linepath a b)) =\n    {} &&&\n    frontier (inside (path_image (p +++ linepath a b))) =\n    path_image (p +++ linepath a b) &&&\n    frontier (outside (path_image (p +++ linepath a b))) =\n    path_image (p +++ linepath a b)", "using Jordan_inside_outside_R2[OF jordan(1) a1]"], ["proof (prove)\nusing this:\n  inside (path_image (p +++ linepath a b)) \\<noteq> {} \\<and>\n  open (inside (path_image (p +++ linepath a b))) \\<and>\n  connected (inside (path_image (p +++ linepath a b))) \\<and>\n  outside (path_image (p +++ linepath a b)) \\<noteq> {} \\<and>\n  open (outside (path_image (p +++ linepath a b))) \\<and>\n  connected (outside (path_image (p +++ linepath a b))) \\<and>\n  bounded (inside (path_image (p +++ linepath a b))) \\<and>\n  \\<not> bounded (outside (path_image (p +++ linepath a b))) \\<and>\n  inside (path_image (p +++ linepath a b)) \\<inter>\n  outside (path_image (p +++ linepath a b)) =\n  {} \\<and>\n  inside (path_image (p +++ linepath a b)) \\<union>\n  outside (path_image (p +++ linepath a b)) =\n  - path_image (p +++ linepath a b) \\<and>\n  frontier (inside (path_image (p +++ linepath a b))) =\n  path_image (p +++ linepath a b) \\<and>\n  frontier (outside (path_image (p +++ linepath a b))) =\n  path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. inside (path_image (p +++ linepath a b)) \\<inter>\n    outside (path_image (p +++ linepath a b)) =\n    {} &&&\n    frontier (inside (path_image (p +++ linepath a b))) =\n    path_image (p +++ linepath a b) &&&\n    frontier (outside (path_image (p +++ linepath a b))) =\n    path_image (p +++ linepath a b)", "by auto"], ["proof (state)\nthis:\n  inside (path_image (p +++ linepath a b)) \\<inter>\n  outside (path_image (p +++ linepath a b)) =\n  {}\n  frontier (inside (path_image (p +++ linepath a b))) =\n  path_image (p +++ linepath a b)\n  frontier (outside (path_image (p +++ linepath a b))) =\n  path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define b1 where \"b1 = ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) > 0}\""], ["proof (state)\nthis:\n  b1 = ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define b2 where \"b2 = ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) < 0}\""], ["proof (state)\nthis:\n  b2 = ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define b3 where \"b3 = ball x e \\<inter> {y. (y-a) \\<bullet> rot (a-b) = 0}\""], ["proof (state)\nthis:\n  b3 = ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"path_connected b1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected b1", "unfolding b1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected\n     (ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)})", "apply (auto intro!: convex_imp_path_connected convex_Int simp add:inner_diff_left)"], ["proof (prove)\ngoal (1 subgoal):\n 1. convex {y. a \\<bullet> rot (a - b) < y \\<bullet> rot (a - b)}", "using convex_halfspace_gt[of \"a \\<bullet> rot (a - b)\" \"rot(a-b)\"] inner_commute"], ["proof (prove)\nusing this:\n  convex {x. a \\<bullet> rot (a - b) < rot (a - b) \\<bullet> x}\n  ?x \\<bullet> ?y = ?y \\<bullet> ?x\n\ngoal (1 subgoal):\n 1. convex {y. a \\<bullet> rot (a - b) < y \\<bullet> rot (a - b)}", "by (metis (no_types, lifting) Collect_cong)"], ["proof (state)\nthis:\n  path_connected b1\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"path_connected b2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected b2", "unfolding b2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected\n     (ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0})", "apply (auto intro!: convex_imp_path_connected convex_Int simp add:inner_diff_left)"], ["proof (prove)\ngoal (1 subgoal):\n 1. convex {y. y \\<bullet> rot (a - b) < a \\<bullet> rot (a - b)}", "using convex_halfspace_lt[of \"rot(a-b)\" \"a \\<bullet> rot (a - b)\"] inner_commute"], ["proof (prove)\nusing this:\n  convex {x. rot (a - b) \\<bullet> x < a \\<bullet> rot (a - b)}\n  ?x \\<bullet> ?y = ?y \\<bullet> ?x\n\ngoal (1 subgoal):\n 1. convex {y. y \\<bullet> rot (a - b) < a \\<bullet> rot (a - b)}", "by (metis (no_types, lifting) Collect_cong)"], ["proof (state)\nthis:\n  path_connected b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"b1 \\<inter> path_image(linepath a b) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b1 \\<inter> path_image (linepath a b) = {}", "unfolding path_image_linepath b1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<inter>\n    {a--b} =\n    {}", "using closed_segment_surface[OF \\<open>a \\<noteq> b\\<close>] in_segment_inner_rot2"], ["proof (prove)\nusing this:\n  {a--b} =\n  {x \\<in> {x. x \\<bullet> (b - a)\n               \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)}}.\n   (x - a) \\<bullet> rot (b - a) = 0}\n  \\<lbrakk>?x \\<in> {?a--?b}; ?y \\<in> {?a--?b}\\<rbrakk>\n  \\<Longrightarrow> (?x - ?y) \\<bullet> rot (?a - ?b) = 0\n\ngoal (1 subgoal):\n 1. ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<inter>\n    {a--b} =\n    {}", "by auto"], ["proof (state)\nthis:\n  b1 \\<inter> path_image (linepath a b) = {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  b1 \\<inter> path_image (linepath a b) = {}", "have b1i:\"b1 \\<inter> path_image ?lp = {}\""], ["proof (prove)\nusing this:\n  b1 \\<inter> path_image (linepath a b) = {}\n\ngoal (1 subgoal):\n 1. b1 \\<inter> path_image (p +++ linepath a b) = {}", "by (metis IntD2 b1_def disjoint_iff_not_equal e(2) inf_sup_aci(1) not_in_path_image_join)"], ["proof (state)\nthis:\n  b1 \\<inter> path_image (p +++ linepath a b) = {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"b2 \\<inter> path_image(linepath a b) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b2 \\<inter> path_image (linepath a b) = {}", "unfolding path_image_linepath b2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0} \\<inter>\n    {a--b} =\n    {}", "using closed_segment_surface[OF \\<open>a \\<noteq> b\\<close>] in_segment_inner_rot2"], ["proof (prove)\nusing this:\n  {a--b} =\n  {x \\<in> {x. x \\<bullet> (b - a)\n               \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)}}.\n   (x - a) \\<bullet> rot (b - a) = 0}\n  \\<lbrakk>?x \\<in> {?a--?b}; ?y \\<in> {?a--?b}\\<rbrakk>\n  \\<Longrightarrow> (?x - ?y) \\<bullet> rot (?a - ?b) = 0\n\ngoal (1 subgoal):\n 1. ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0} \\<inter>\n    {a--b} =\n    {}", "by auto"], ["proof (state)\nthis:\n  b2 \\<inter> path_image (linepath a b) = {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  b2 \\<inter> path_image (linepath a b) = {}", "have b2i:\"b2 \\<inter> path_image ?lp = {}\""], ["proof (prove)\nusing this:\n  b2 \\<inter> path_image (linepath a b) = {}\n\ngoal (1 subgoal):\n 1. b2 \\<inter> path_image (p +++ linepath a b) = {}", "by (metis IntD2 b2_def disjoint_iff_not_equal e(2) inf_sup_aci(1) not_in_path_image_join)"], ["proof (state)\nthis:\n  b2 \\<inter> path_image (p +++ linepath a b) = {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have bsplit: \"ball x e = b1 \\<union> b2 \\<union> b3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x e = b1 \\<union> b2 \\<union> b3", "unfolding b1_def b2_def b3_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x e =\n    ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<union>\n    ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0} \\<union>\n    ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}", "by auto"], ["proof (state)\nthis:\n  ball x e = b1 \\<union> b2 \\<union> b3\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"z \\<notin> b3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<notin> b3", "proof clarsimp"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<in> b3 \\<Longrightarrow> False", "assume \"z \\<in> b3\""], ["proof (state)\nthis:\n  z \\<in> b3\n\ngoal (1 subgoal):\n 1. z \\<in> b3 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  z \\<in> b3", "have \"z \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  z \\<in> b3\n\ngoal (1 subgoal):\n 1. z \\<in> {a<--<b}", "unfolding b3_def"], ["proof (prove)\nusing this:\n  z \\<in> ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n\ngoal (1 subgoal):\n 1. z \\<in> {a<--<b}", "using e"], ["proof (prove)\nusing this:\n  z \\<in> ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  0 < e\n  ball x e \\<inter> path_image p = {}\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. z \\<in> {a<--<b}", "by blast"], ["proof (state)\nthis:\n  z \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. z \\<in> b3 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  z \\<in> {a<--<b}", "have \"z \\<in> path_image(linepath a b)\""], ["proof (prove)\nusing this:\n  z \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. z \\<in> path_image (linepath a b)", "by (auto simp add: open_segment_def)"], ["proof (state)\nthis:\n  z \\<in> path_image (linepath a b)\n\ngoal (1 subgoal):\n 1. z \\<in> b3 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  z \\<in> path_image (linepath a b)", "have \"z \\<in> path_image ?lp\""], ["proof (prove)\nusing this:\n  z \\<in> path_image (linepath a b)\n\ngoal (1 subgoal):\n 1. z \\<in> path_image (p +++ linepath a b)", "by (simp add: jordan(2) path_image_join)"], ["proof (state)\nthis:\n  z \\<in> path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. z \\<in> b3 \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  z \\<in> path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. False", "using z"], ["proof (prove)\nusing this:\n  z \\<in> path_image (p +++ linepath a b)\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> ball x e\n\ngoal (1 subgoal):\n 1. False", "using inside_Un_outside"], ["proof (prove)\nusing this:\n  z \\<in> path_image (p +++ linepath a b)\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> ball x e\n  inside ?S \\<union> outside ?S = - ?S\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  z \\<notin> b3\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  z \\<notin> b3", "have z12: \"z \\<in> b1 \\<or> z \\<in> b2\""], ["proof (prove)\nusing this:\n  z \\<notin> b3\n\ngoal (1 subgoal):\n 1. z \\<in> b1 \\<or> z \\<in> b2", "using z bsplit"], ["proof (prove)\nusing this:\n  z \\<notin> b3\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> ball x e\n  ball x e = b1 \\<union> b2 \\<union> b3\n\ngoal (1 subgoal):\n 1. z \\<in> b1 \\<or> z \\<in> b2", "by blast"], ["proof (state)\nthis:\n  z \\<in> b1 \\<or> z \\<in> b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"y \\<notin> b3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<notin> b3", "proof clarsimp"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<in> b3 \\<Longrightarrow> False", "assume \"y \\<in> b3\""], ["proof (state)\nthis:\n  y \\<in> b3\n\ngoal (1 subgoal):\n 1. y \\<in> b3 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  y \\<in> b3", "have \"y \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  y \\<in> b3\n\ngoal (1 subgoal):\n 1. y \\<in> {a<--<b}", "unfolding b3_def"], ["proof (prove)\nusing this:\n  y \\<in> ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n\ngoal (1 subgoal):\n 1. y \\<in> {a<--<b}", "using e"], ["proof (prove)\nusing this:\n  y \\<in> ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  0 < e\n  ball x e \\<inter> path_image p = {}\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. y \\<in> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  y \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. y \\<in> b3 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  y \\<in> {a<--<b}", "have \"y \\<in> path_image(linepath a b)\""], ["proof (prove)\nusing this:\n  y \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. y \\<in> path_image (linepath a b)", "by (auto simp add: open_segment_def)"], ["proof (state)\nthis:\n  y \\<in> path_image (linepath a b)\n\ngoal (1 subgoal):\n 1. y \\<in> b3 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  y \\<in> path_image (linepath a b)", "have \"y \\<in> path_image ?lp\""], ["proof (prove)\nusing this:\n  y \\<in> path_image (linepath a b)\n\ngoal (1 subgoal):\n 1. y \\<in> path_image (p +++ linepath a b)", "by (simp add: jordan(2) path_image_join)"], ["proof (state)\nthis:\n  y \\<in> path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. y \\<in> b3 \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  y \\<in> path_image (p +++ linepath a b)\n\ngoal (1 subgoal):\n 1. False", "using y"], ["proof (prove)\nusing this:\n  y \\<in> path_image (p +++ linepath a b)\n  y \\<in> inside (path_image (p +++ linepath a b))\n  y \\<in> ball x e\n\ngoal (1 subgoal):\n 1. False", "using inside_Un_outside"], ["proof (prove)\nusing this:\n  y \\<in> path_image (p +++ linepath a b)\n  y \\<in> inside (path_image (p +++ linepath a b))\n  y \\<in> ball x e\n  inside ?S \\<union> outside ?S = - ?S\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y \\<notin> b3\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  y \\<notin> b3", "have \"y \\<in> b1 \\<or> y \\<in> b2\""], ["proof (prove)\nusing this:\n  y \\<notin> b3\n\ngoal (1 subgoal):\n 1. y \\<in> b1 \\<or> y \\<in> b2", "using y bsplit"], ["proof (prove)\nusing this:\n  y \\<notin> b3\n  y \\<in> inside (path_image (p +++ linepath a b))\n  y \\<in> ball x e\n  ball x e = b1 \\<union> b2 \\<union> b3\n\ngoal (1 subgoal):\n 1. y \\<in> b1 \\<or> y \\<in> b2", "by blast"], ["proof (state)\nthis:\n  y \\<in> b1 \\<or> y \\<in> b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  y \\<in> b1 \\<or> y \\<in> b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  y \\<in> b1 \\<or> y \\<in> b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"y \\<in> b1\""], ["proof (state)\nthis:\n  y \\<in> b1\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  y \\<in> b1", "have \"b1 \\<inter> inside (path_image ?lp) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  y \\<in> b1\n\ngoal (1 subgoal):\n 1. b1 \\<inter> inside (path_image (p +++ linepath a b)) \\<noteq> {}", "using y"], ["proof (prove)\nusing this:\n  y \\<in> b1\n  y \\<in> inside (path_image (p +++ linepath a b))\n  y \\<in> ball x e\n\ngoal (1 subgoal):\n 1. b1 \\<inter> inside (path_image (p +++ linepath a b)) \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  b1 \\<inter> inside (path_image (p +++ linepath a b)) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from path_connected_not_frontier_subset[OF \\<open>path_connected b1\\<close> this]"], ["proof (chain)\npicking this:\n  b1 \\<inter> frontier (inside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))", "have 1:\"b1 \\<subseteq> inside (path_image ?lp)\""], ["proof (prove)\nusing this:\n  b1 \\<inter> frontier (inside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b1 \\<subseteq> inside (path_image (p +++ linepath a b))", "unfolding jordancurve"], ["proof (prove)\nusing this:\n  b1 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b1 \\<subseteq> inside (path_image (p +++ linepath a b))", "using b1i"], ["proof (prove)\nusing this:\n  b1 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))\n  b1 \\<inter> path_image (p +++ linepath a b) = {}\n\ngoal (1 subgoal):\n 1. b1 \\<subseteq> inside (path_image (p +++ linepath a b))", "by blast"], ["proof (state)\nthis:\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))", "have \"z \\<in> b2\""], ["proof (prove)\nusing this:\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. z \\<in> b2", "using jordancurve(1) z(1) z12"], ["proof (prove)\nusing this:\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b))\n  inside (path_image (p +++ linepath a b)) \\<inter>\n  outside (path_image (p +++ linepath a b)) =\n  {}\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> b1 \\<or> z \\<in> b2\n\ngoal (1 subgoal):\n 1. z \\<in> b2", "by blast"], ["proof (state)\nthis:\n  z \\<in> b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  z \\<in> b2", "have \"b2 \\<inter> outside (path_image ?lp) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  z \\<in> b2\n\ngoal (1 subgoal):\n 1. b2 \\<inter> outside (path_image (p +++ linepath a b)) \\<noteq> {}", "using z"], ["proof (prove)\nusing this:\n  z \\<in> b2\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> ball x e\n\ngoal (1 subgoal):\n 1. b2 \\<inter> outside (path_image (p +++ linepath a b)) \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  b2 \\<inter> outside (path_image (p +++ linepath a b)) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from path_connected_not_frontier_subset[OF \\<open>path_connected b2\\<close> this]"], ["proof (chain)\npicking this:\n  b2 \\<inter> frontier (outside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))", "have 2:\"b2 \\<subseteq> outside (path_image ?lp)\""], ["proof (prove)\nusing this:\n  b2 \\<inter> frontier (outside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b2 \\<subseteq> outside (path_image (p +++ linepath a b))", "unfolding jordancurve"], ["proof (prove)\nusing this:\n  b2 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b2 \\<subseteq> outside (path_image (p +++ linepath a b))", "using b2i"], ["proof (prove)\nusing this:\n  b2 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n  b2 \\<inter> path_image (p +++ linepath a b) = {}\n\ngoal (1 subgoal):\n 1. b2 \\<subseteq> outside (path_image (p +++ linepath a b))", "by blast"], ["proof (state)\nthis:\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note conjI[OF 1 2]"], ["proof (state)\nthis:\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  y \\<in> b1 \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  y \\<in> b1 \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  y \\<in> b1 \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"y \\<in> b2\""], ["proof (state)\nthis:\n  y \\<in> b2\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  y \\<in> b2", "have \"b2 \\<inter> inside (path_image ?lp) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  y \\<in> b2\n\ngoal (1 subgoal):\n 1. b2 \\<inter> inside (path_image (p +++ linepath a b)) \\<noteq> {}", "using y"], ["proof (prove)\nusing this:\n  y \\<in> b2\n  y \\<in> inside (path_image (p +++ linepath a b))\n  y \\<in> ball x e\n\ngoal (1 subgoal):\n 1. b2 \\<inter> inside (path_image (p +++ linepath a b)) \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  b2 \\<inter> inside (path_image (p +++ linepath a b)) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from path_connected_not_frontier_subset[OF \\<open>path_connected b2\\<close> this]"], ["proof (chain)\npicking this:\n  b2 \\<inter> frontier (inside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))", "have 1:\"b2 \\<subseteq> inside (path_image ?lp)\""], ["proof (prove)\nusing this:\n  b2 \\<inter> frontier (inside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b2 \\<subseteq> inside (path_image (p +++ linepath a b))", "unfolding jordancurve"], ["proof (prove)\nusing this:\n  b2 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b2 \\<subseteq> inside (path_image (p +++ linepath a b))", "using b2i"], ["proof (prove)\nusing this:\n  b2 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))\n  b2 \\<inter> path_image (p +++ linepath a b) = {}\n\ngoal (1 subgoal):\n 1. b2 \\<subseteq> inside (path_image (p +++ linepath a b))", "by blast"], ["proof (state)\nthis:\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))", "have \"z \\<in> b1\""], ["proof (prove)\nusing this:\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. z \\<in> b1", "using jordancurve(1) z(1) z12"], ["proof (prove)\nusing this:\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b))\n  inside (path_image (p +++ linepath a b)) \\<inter>\n  outside (path_image (p +++ linepath a b)) =\n  {}\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> b1 \\<or> z \\<in> b2\n\ngoal (1 subgoal):\n 1. z \\<in> b1", "by blast"], ["proof (state)\nthis:\n  z \\<in> b1\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  z \\<in> b1", "have \"b1 \\<inter> outside (path_image ?lp) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  z \\<in> b1\n\ngoal (1 subgoal):\n 1. b1 \\<inter> outside (path_image (p +++ linepath a b)) \\<noteq> {}", "using z"], ["proof (prove)\nusing this:\n  z \\<in> b1\n  z \\<in> outside (path_image (p +++ linepath a b))\n  z \\<in> ball x e\n\ngoal (1 subgoal):\n 1. b1 \\<inter> outside (path_image (p +++ linepath a b)) \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  b1 \\<inter> outside (path_image (p +++ linepath a b)) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from path_connected_not_frontier_subset[OF \\<open>path_connected b1\\<close> this]"], ["proof (chain)\npicking this:\n  b1 \\<inter> frontier (outside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))", "have 2:\"b1 \\<subseteq> outside (path_image ?lp)\""], ["proof (prove)\nusing this:\n  b1 \\<inter> frontier (outside (path_image (p +++ linepath a b))) =\n  {} \\<Longrightarrow>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b1 \\<subseteq> outside (path_image (p +++ linepath a b))", "unfolding jordancurve"], ["proof (prove)\nusing this:\n  b1 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. b1 \\<subseteq> outside (path_image (p +++ linepath a b))", "using b1i"], ["proof (prove)\nusing this:\n  b1 \\<inter> path_image (p +++ linepath a b) = {} \\<Longrightarrow>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n  b1 \\<inter> path_image (p +++ linepath a b) = {}\n\ngoal (1 subgoal):\n 1. b1 \\<subseteq> outside (path_image (p +++ linepath a b))", "by blast"], ["proof (state)\nthis:\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note conjI[OF 1 2]"], ["proof (state)\nthis:\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  y \\<in> b2 \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball x e \\<inter> path_image p = {};\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n         ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n         ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n         \\<subseteq> outside (path_image (p +++ linepath a b))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  y \\<in> b1 \\<or> y \\<in> b2\n  y \\<in> b1 \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n  y \\<in> b2 \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> b1 \\<or> y \\<in> b2\n  y \\<in> b1 \\<Longrightarrow>\n  b1 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b2 \\<subseteq> outside (path_image (p +++ linepath a b))\n  y \\<in> b2 \\<Longrightarrow>\n  b2 \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  b1 \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. thesis", "unfolding b1_def b2_def"], ["proof (prove)\nusing this:\n  y \\<in> ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<or>\n  y \\<in> ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  y \\<in> ball x e \\<inter>\n          {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<Longrightarrow>\n  ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n  \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> outside (path_image (p +++ linepath a b))\n  y \\<in> ball x e \\<inter>\n          {y. (y - a) \\<bullet> rot (a - b) < 0} \\<Longrightarrow>\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n  \\<subseteq> outside (path_image (p +++ linepath a b))\n\ngoal (1 subgoal):\n 1. thesis", "using that[OF e(1-2)]"], ["proof (prove)\nusing this:\n  y \\<in> ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<or>\n  y \\<in> ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  y \\<in> ball x e \\<inter>\n          {y. 0 < (y - a) \\<bullet> rot (a - b)} \\<Longrightarrow>\n  ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n  \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> outside (path_image (p +++ linepath a b))\n  y \\<in> ball x e \\<inter>\n          {y. (y - a) \\<bullet> rot (a - b) < 0} \\<Longrightarrow>\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n  \\<subseteq> outside (path_image (p +++ linepath a b))\n  ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n  \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> outside (path_image (p +++ linepath a b)) \\<or>\n  ball x e \\<inter> {y. (y - a) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> inside (path_image (p +++ linepath a b)) \\<and>\n  ball x e \\<inter> {y. 0 < (y - a) \\<bullet> rot (a - b)}\n  \\<subseteq> outside (path_image (p +++ linepath a b)) \\<Longrightarrow>\n  thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Transversal Segments\\<close>\\<comment> \\<open>TODO: Transversal surface in Euclidean space?!\\<close>"], ["", "definition \"transversal_segment a b \\<longleftrightarrow>\n  a \\<noteq> b \\<and> {a--b} \\<subseteq> X \\<and>\n  (\\<forall>z \\<in> {a--b}. f z \\<bullet> rot (a-b) \\<noteq> 0)\""], ["", "lemma transversal_segment_reverse:\n  assumes \"transversal_segment x y\"\n  shows \"transversal_segment y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transversal_segment y x", "unfolding transversal_segment_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<noteq> x \\<and>\n    {y--x} \\<subseteq> X \\<and>\n    (\\<forall>z\\<in>{y--x}. f z \\<bullet> rot (y - x) \\<noteq> 0)", "by (metis (no_types, hide_lams) add.left_neutral add_uminus_conv_diff assms closed_segment_commute inner_diff_left inner_zero_left nrm_reverse transversal_segment_def)"], ["", "lemma transversal_segment_commute: \"transversal_segment x y \\<longleftrightarrow> transversal_segment y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transversal_segment x y = transversal_segment y x", "using transversal_segment_reverse"], ["proof (prove)\nusing this:\n  transversal_segment ?x ?y \\<Longrightarrow> transversal_segment ?y ?x\n\ngoal (1 subgoal):\n 1. transversal_segment x y = transversal_segment y x", "by blast"], ["", "lemma transversal_segment_neg:\n  assumes \"transversal_segment x y\"\n  assumes w: \"w \\<in> {x -- y}\" and \"f w \\<bullet> rot (x-y) < 0\"\n  shows \"\\<forall>z \\<in> {x--y}. f(z) \\<bullet> rot (x-y) < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) < 0", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "assume \" \\<not> (\\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x-y) < 0)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) < 0)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) < 0)", "obtain z where z: \"z \\<in> {x--y}\" \"f z \\<bullet> rot (x-y) \\<ge> 0\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) < 0)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<lbrakk>z \\<in> {x--y}; 0 \\<le> f z \\<bullet> rot (x - y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  z \\<in> {x--y}\n  0 \\<le> f z \\<bullet> rot (x - y)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "define ff where \"ff = (\\<lambda>s. f (w + s *\\<^sub>R (z - w)) \\<bullet> rot (x-y))\""], ["proof (state)\nthis:\n  ff = (\\<lambda>s. f (w + s *\\<^sub>R (z - w)) \\<bullet> rot (x - y))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "have f0:\"ff 0 \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ff 0 \\<le> 0", "unfolding ff_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (w + 0 *\\<^sub>R (z - w)) \\<bullet> rot (x - y) \\<le> 0", "using assms(3)"], ["proof (prove)\nusing this:\n  f w \\<bullet> rot (x - y) < 0\n\ngoal (1 subgoal):\n 1. f (w + 0 *\\<^sub>R (z - w)) \\<bullet> rot (x - y) \\<le> 0", "by simp"], ["proof (state)\nthis:\n  ff 0 \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "have fu:\"ff 1 \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> ff 1", "by (auto simp: ff_def z)"], ["proof (state)\nthis:\n  0 \\<le> ff 1\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "from assms(2)"], ["proof (chain)\npicking this:\n  w \\<in> {x--y}", "obtain u where u: \"0 \\<le> u\" \"u \\<le> 1\" \"w = (1 - u) *\\<^sub>R x + u *\\<^sub>R y\""], ["proof (prove)\nusing this:\n  w \\<in> {x--y}\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1;\n         w = (1 - u) *\\<^sub>R x + u *\\<^sub>R y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding in_segment"], ["proof (prove)\nusing this:\n  \\<exists>u\\<ge>0. u \\<le> 1 \\<and> w = (1 - u) *\\<^sub>R x + u *\\<^sub>R y\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1;\n         w = (1 - u) *\\<^sub>R x + u *\\<^sub>R y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 \\<le> u\n  u \\<le> 1\n  w = (1 - u) *\\<^sub>R x + u *\\<^sub>R y\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "have \"{x--y} \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x--y} \\<subseteq> X", "using assms(1)"], ["proof (prove)\nusing this:\n  transversal_segment x y\n\ngoal (1 subgoal):\n 1. {x--y} \\<subseteq> X", "unfolding transversal_segment_def"], ["proof (prove)\nusing this:\n  x \\<noteq> y \\<and>\n  {x--y} \\<subseteq> X \\<and>\n  (\\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) \\<noteq> 0)\n\ngoal (1 subgoal):\n 1. {x--y} \\<subseteq> X", "by blast"], ["proof (state)\nthis:\n  {x--y} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  {x--y} \\<subseteq> X", "have \"continuous_on {0..1} ff\""], ["proof (prove)\nusing this:\n  {x--y} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. continuous_on {0..1} ff", "unfolding ff_def"], ["proof (prove)\nusing this:\n  {x--y} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. continuous_on {0..1}\n     (\\<lambda>s. f (w + s *\\<^sub>R (z - w)) \\<bullet> rot (x - y))", "using assms(2)"], ["proof (prove)\nusing this:\n  {x--y} \\<subseteq> X\n  w \\<in> {x--y}\n\ngoal (1 subgoal):\n 1. continuous_on {0..1}\n     (\\<lambda>s. f (w + s *\\<^sub>R (z - w)) \\<bullet> rot (x - y))", "by (auto intro!:continuous_intros closed_subsegmentI z elim!: set_mp)"], ["proof (state)\nthis:\n  continuous_on {0..1} ff\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "from IVT'[of ff, OF f0 fu zero_le_one this]"], ["proof (chain)\npicking this:\n  \\<exists>x\\<ge>0. x \\<le> 1 \\<and> ff x = 0", "obtain s where s: \"s \\<ge> 0\" \"s \\<le> 1\" \"ff s = 0\""], ["proof (prove)\nusing this:\n  \\<exists>x\\<ge>0. x \\<le> 1 \\<and> ff x = 0\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>0 \\<le> s; s \\<le> 1; ff s = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 \\<le> s\n  s \\<le> 1\n  ff s = 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "have \"w + s *\\<^sub>R (z - w) \\<in> {x -- y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w + s *\\<^sub>R (z - w) \\<in> {x--y}", "by (auto intro!: closed_subsegmentI z s w)"], ["proof (state)\nthis:\n  w + s *\\<^sub>R (z - w) \\<in> {x--y}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z\\<in>{x--y}.\n               f z \\<bullet> rot (x - y) < 0) \\<Longrightarrow>\n    False", "with \\<open>ff s = 0\\<close>"], ["proof (chain)\npicking this:\n  ff s = 0\n  w + s *\\<^sub>R (z - w) \\<in> {x--y}", "show False"], ["proof (prove)\nusing this:\n  ff s = 0\n  w + s *\\<^sub>R (z - w) \\<in> {x--y}\n\ngoal (1 subgoal):\n 1. False", "using s assms(1)"], ["proof (prove)\nusing this:\n  ff s = 0\n  w + s *\\<^sub>R (z - w) \\<in> {x--y}\n  0 \\<le> s\n  s \\<le> 1\n  ff s = 0\n  transversal_segment x y\n\ngoal (1 subgoal):\n 1. False", "unfolding transversal_segment_def ff_def"], ["proof (prove)\nusing this:\n  f (w + s *\\<^sub>R (z - w)) \\<bullet> rot (x - y) = 0\n  w + s *\\<^sub>R (z - w) \\<in> {x--y}\n  0 \\<le> s\n  s \\<le> 1\n  f (w + s *\\<^sub>R (z - w)) \\<bullet> rot (x - y) = 0\n  x \\<noteq> y \\<and>\n  {x--y} \\<subseteq> X \\<and>\n  (\\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) \\<noteq> 0)\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas transversal_segment_sign_less = transversal_segment_neg[OF _ ends_in_segment(1)]"], ["", "lemma transversal_segment_pos:\n  assumes \"transversal_segment x y\"\n  assumes w: \"w \\<in> {x -- y}\" \"f w \\<bullet> rot (x-y) > 0\"\n  shows \"\\<forall>z \\<in> {x--y}. f(z) \\<bullet> rot (x-y) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{x--y}. 0 < f z \\<bullet> rot (x - y)", "using transversal_segment_neg[OF transversal_segment_reverse[OF assms(1)], of w] w"], ["proof (prove)\nusing this:\n  \\<lbrakk>w \\<in> {y--x}; f w \\<bullet> rot (y - x) < 0\\<rbrakk>\n  \\<Longrightarrow> \\<forall>z\\<in>{y--x}. f z \\<bullet> rot (y - x) < 0\n  w \\<in> {x--y}\n  0 < f w \\<bullet> rot (x - y)\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{x--y}. 0 < f z \\<bullet> rot (x - y)", "by (auto simp: rot_diff_commute[of x y] closed_segment_commute)"], ["", "lemma transversal_segment_posD:\n  assumes \"transversal_segment x y\"\n    and pos: \"z \\<in> {x -- y}\" \"f z \\<bullet> rot (x - y) > 0\"\n  shows \"x \\<noteq> y\" \"{x--y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x-y) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> y &&&\n    {x--y} \\<subseteq> X &&&\n    (\\<And>z.\n        z \\<in> {x--y} \\<Longrightarrow> 0 < f z \\<bullet> rot (x - y))", "using assms(1) transversal_segment_pos[OF assms]"], ["proof (prove)\nusing this:\n  transversal_segment x y\n  \\<forall>z\\<in>{x--y}. 0 < f z \\<bullet> rot (x - y)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y &&&\n    {x--y} \\<subseteq> X &&&\n    (\\<And>z.\n        z \\<in> {x--y} \\<Longrightarrow> 0 < f z \\<bullet> rot (x - y))", "by (auto simp: transversal_segment_def)"], ["", "lemma transversal_segment_negD:\n  assumes \"transversal_segment x y\"\n    and pos: \"z \\<in> {x -- y}\" \"f z \\<bullet> rot (x - y) < 0\"\n  shows \"x \\<noteq> y\" \"{x--y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x-y) < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<noteq> y &&&\n    {x--y} \\<subseteq> X &&&\n    (\\<And>z.\n        z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x - y) < 0)", "using assms(1) transversal_segment_neg[OF assms]"], ["proof (prove)\nusing this:\n  transversal_segment x y\n  \\<forall>z\\<in>{x--y}. f z \\<bullet> rot (x - y) < 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> y &&&\n    {x--y} \\<subseteq> X &&&\n    (\\<And>z.\n        z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x - y) < 0)", "by (auto simp: transversal_segment_def)"], ["", "lemma transversal_segmentE:\n  assumes \"transversal_segment x y\"\n  obtains \"x \\<noteq> y\" \"{x -- y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (x - y) > 0\"\n  |  \"x \\<noteq> y\" \"{x -- y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (y - x) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "proof (cases \"f x \\<bullet> rot (x - y) < 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "case True"], ["proof (state)\nthis:\n  f x \\<bullet> rot (x - y) < 0\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "from transversal_segment_negD[OF assms ends_in_segment(1) True]"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z \\<in> {x--y} \\<Longrightarrow> f ?z \\<bullet> rot (x - y) < 0", "have \"x \\<noteq> y\" \"{x -- y} \\<subseteq> X\" \"\\<And>z. z \\<in> {x--y} \\<Longrightarrow> f z \\<bullet> rot (y - x) > 0\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z \\<in> {x--y} \\<Longrightarrow> f ?z \\<bullet> rot (x - y) < 0\n\ngoal (1 subgoal):\n 1. x \\<noteq> y &&&\n    {x--y} \\<subseteq> X &&&\n    (\\<And>z.\n        z \\<in> {x--y} \\<Longrightarrow> 0 < f z \\<bullet> rot (y - x))", "by (auto simp: rot_diff_commute[of x y])"], ["proof (state)\nthis:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z2 \\<in> {x--y} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot (y - x)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z2 \\<in> {x--y} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot (y - x)", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z2 \\<in> {x--y} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot (y - x)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "case False"], ["proof (state)\nthis:\n  \\<not> f x \\<bullet> rot (x - y) < 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "then"], ["proof (chain)\npicking this:\n  \\<not> f x \\<bullet> rot (x - y) < 0", "have \"f x \\<bullet> rot (x - y) > 0\""], ["proof (prove)\nusing this:\n  \\<not> f x \\<bullet> rot (x - y) < 0\n\ngoal (1 subgoal):\n 1. 0 < f x \\<bullet> rot (x - y)", "using assms"], ["proof (prove)\nusing this:\n  \\<not> f x \\<bullet> rot (x - y) < 0\n  transversal_segment x y\n\ngoal (1 subgoal):\n 1. 0 < f x \\<bullet> rot (x - y)", "by (auto simp: transversal_segment_def algebra_split_simps not_less order.order_iff_strict)"], ["proof (state)\nthis:\n  0 < f x \\<bullet> rot (x - y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n              \\<And>z.\n                 z \\<in> {x--y} \\<Longrightarrow>\n                 0 < f z \\<bullet> rot (x - y)\\<rbrakk>\n             \\<Longrightarrow> thesis;\n     \\<lbrakk>x \\<noteq> y; {x--y} \\<subseteq> X;\n      \\<And>z.\n         z \\<in> {x--y} \\<Longrightarrow>\n         0 < f z \\<bullet> rot (y - x)\\<rbrakk>\n     \\<Longrightarrow> thesis;\n     \\<not> f x \\<bullet> rot (x - y) < 0\\<rbrakk>\n    \\<Longrightarrow> thesis", "from transversal_segment_posD[OF assms ends_in_segment(1) this]"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z \\<in> {x--y} \\<Longrightarrow> 0 < f ?z \\<bullet> rot (x - y)", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  {x--y} \\<subseteq> X\n  ?z \\<in> {x--y} \\<Longrightarrow> 0 < f ?z \\<bullet> rot (x - y)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dist_add_vec:\n  shows \"dist (x + s *\\<^sub>R v) x = abs s * norm v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (x + s *\\<^sub>R v) x = \\<bar>s\\<bar> * norm v", "by (simp add: dist_cancel_add1)"], ["", "lemma transversal_segment_exists:\n  assumes \"x \\<in> X\" \"f x \\<noteq> 0\"\n  obtains a b where \"x \\<in> {a<--<b}\"\n    \"transversal_segment a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "(* Line through x perpendicular to f x *)"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define l where \"l = (\\<lambda>s::real. x + (s/norm(f x)) *\\<^sub>R rot (f x))\""], ["proof (state)\nthis:\n  l = (\\<lambda>s. x + (s / norm (f x)) *\\<^sub>R rot (f x))\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"norm (f x) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < norm (f x)", "using assms(2)"], ["proof (prove)\nusing this:\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. 0 < norm (f x)", "using zero_less_norm_iff"], ["proof (prove)\nusing this:\n  f x \\<noteq> (0::'a)\n  (0 < norm ?x) = (?x \\<noteq> (0::?'a))\n\ngoal (1 subgoal):\n 1. 0 < norm (f x)", "by blast"], ["proof (state)\nthis:\n  0 < norm (f x)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < norm (f x)", "have distl: \"\\<forall>s. dist (l s) x = abs s\""], ["proof (prove)\nusing this:\n  0 < norm (f x)\n\ngoal (1 subgoal):\n 1. \\<forall>s. dist (l s) x = \\<bar>s\\<bar>", "unfolding l_def dist_add_vec"], ["proof (prove)\nusing this:\n  0 < norm (f x)\n\ngoal (1 subgoal):\n 1. \\<forall>s.\n       \\<bar>s / norm (f x)\\<bar> * norm (rot (f x)) = \\<bar>s\\<bar>", "by (auto simp add: norm_rot)"], ["proof (state)\nthis:\n  \\<forall>s. dist (l s) x = \\<bar>s\\<bar>\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain d where d:\"d > 0\" \"cball x d \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>0 < d; cball x d \\<subseteq> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson UNIV_I assms(1) local.local_unique_solution)"], ["proof (state)\nthis:\n  0 < d\n  cball x d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < d\n  cball x d \\<subseteq> X", "have lb: \"l`{-d..d} \\<subseteq> cball x d\""], ["proof (prove)\nusing this:\n  0 < d\n  cball x d \\<subseteq> X\n\ngoal (1 subgoal):\n 1. l ` {- d..d} \\<subseteq> cball x d", "using distl"], ["proof (prove)\nusing this:\n  0 < d\n  cball x d \\<subseteq> X\n  \\<forall>s. dist (l s) x = \\<bar>s\\<bar>\n\ngoal (1 subgoal):\n 1. l ` {- d..d} \\<subseteq> cball x d", "by (simp add: abs_le_iff dist_commute image_subset_iff)"], ["proof (state)\nthis:\n  l ` {- d..d} \\<subseteq> cball x d\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from fcontx[OF assms(1)]"], ["proof (chain)\npicking this:\n  isCont f x", "have \"continuous (at x) f\""], ["proof (prove)\nusing this:\n  isCont f x\n\ngoal (1 subgoal):\n 1. isCont f x", "."], ["proof (state)\nthis:\n  isCont f x\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  isCont f x", "have c:\"continuous (at 0) ((\\<lambda>y. (f y \\<bullet> f x)) \\<circ> l)\""], ["proof (prove)\nusing this:\n  isCont f x\n\ngoal (1 subgoal):\n 1. isCont ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) 0", "unfolding l_def"], ["proof (prove)\nusing this:\n  isCont f x\n\ngoal (1 subgoal):\n 1. isCont\n     ((\\<lambda>y. f y \\<bullet> f x) \\<circ>\n      (\\<lambda>s. x + (s / norm (f x)) *\\<^sub>R rot (f x)))\n     0", "by (auto intro!:continuous_intros simp add: assms(2))"], ["proof (state)\nthis:\n  isCont ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) 0\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) 0 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) 0", "using assms(2)"], ["proof (prove)\nusing this:\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. 0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) 0", "unfolding l_def o_def"], ["proof (prove)\nusing this:\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. 0 < f (x + (0 / norm (f x)) *\\<^sub>R rot (f x)) \\<bullet> f x", "by auto"], ["proof (state)\nthis:\n  0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) 0\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from continuous_at_imp_cball[OF c this]"], ["proof (chain)\npicking this:\n  (\\<And>r.\n      \\<lbrakk>0 < r;\n       \\<forall>y\\<in>cball 0 r.\n          0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) y\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain r where r:\"r > 0\" \" \\<forall>z\\<in>cball 0 r. 0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) z\""], ["proof (prove)\nusing this:\n  (\\<And>r.\n      \\<lbrakk>0 < r;\n       \\<forall>y\\<in>cball 0 r.\n          0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) y\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>z\\<in>cball 0 r.\n            0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) z\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < r\n  \\<forall>z\\<in>cball 0 r.\n     0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) z\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < r\n  \\<forall>z\\<in>cball 0 r.\n     0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) z", "have rc:\"\\<forall>z \\<in> l`{-r..r}. 0 < f z \\<bullet> f x\""], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>z\\<in>cball 0 r.\n     0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) z\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>l ` {- r..r}. 0 < f z \\<bullet> f x", "using real_norm_def"], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>z\\<in>cball 0 r.\n     0 < ((\\<lambda>y. f y \\<bullet> f x) \\<circ> l) z\n  norm ?r = \\<bar>?r\\<bar>\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>l ` {- r..r}. 0 < f z \\<bullet> f x", "by auto"], ["proof (state)\nthis:\n  \\<forall>z\\<in>l ` {- r..r}. 0 < f z \\<bullet> f x\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define dr where \"dr = min r d\""], ["proof (state)\nthis:\n  dr = min r d\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have t1:\"l (-dr) \\<noteq> l dr\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l (- dr) \\<noteq> l dr", "unfolding l_def dr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x + (- min r d / norm (f x)) *\\<^sub>R rot (f x) \\<noteq>\n    x + (min r d / norm (f x)) *\\<^sub>R rot (f x)", "by (smt \\<open>0 < d\\<close> \\<open>0 < norm (f x)\\<close> \\<open>0 < r\\<close> add_left_imp_eq divide_cancel_right norm_rot norm_zero scale_cancel_right)"], ["proof (state)\nthis:\n  l (- dr) \\<noteq> l dr\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x = midpoint (l (-dr)) (l dr)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = midpoint (l (- dr)) (l dr)", "unfolding midpoint_def l_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x =\n    (x + (- dr / norm (f x)) *\\<^sub>R rot (f x) +\n     (x + (dr / norm (f x)) *\\<^sub>R rot (f x))) /\\<^sub>R\n    2", "by auto"], ["proof (state)\nthis:\n  x = midpoint (l (- dr)) (l dr)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x = midpoint (l (- dr)) (l dr)", "have xin:\"x \\<in> {l (-dr)<--<(l dr)}\""], ["proof (prove)\nusing this:\n  x = midpoint (l (- dr)) (l dr)\n\ngoal (1 subgoal):\n 1. x \\<in> {l (- dr)<--<l dr}", "using t1"], ["proof (prove)\nusing this:\n  x = midpoint (l (- dr)) (l dr)\n  l (- dr) \\<noteq> l dr\n\ngoal (1 subgoal):\n 1. x \\<in> {l (- dr)<--<l dr}", "by auto"], ["proof (state)\nthis:\n  x \\<in> {l (- dr)<--<l dr}\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "(* TODO: actually this should be equality, but l is affine ...\n     also the existing stuff about -- is a little too specific *)"], ["proof (state)\nthis:\n  x \\<in> {l (- dr)<--<l dr}\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have lsub:\"{l (-dr)--l dr} \\<subseteq> l`{-dr..dr}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {l (- dr)--l dr} \\<subseteq> l ` {- dr..dr}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "assume \"z \\<in> {l (- dr)--l dr}\""], ["proof (state)\nthis:\n  z \\<in> {l (- dr)--l dr}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "then"], ["proof (chain)\npicking this:\n  z \\<in> {l (- dr)--l dr}", "obtain u where u: \"0 \\<le> u\" \"u \\<le> 1\" \"z = (1 - u) *\\<^sub>R (l (-dr)) + u *\\<^sub>R (l dr)\""], ["proof (prove)\nusing this:\n  z \\<in> {l (- dr)--l dr}\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1;\n         z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding in_segment"], ["proof (prove)\nusing this:\n  \\<exists>u\\<ge>0.\n     u \\<le> 1 \\<and> z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1;\n         z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 \\<le> u\n  u \\<le> 1\n  z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "then"], ["proof (chain)\npicking this:\n  0 \\<le> u\n  u \\<le> 1\n  z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr", "have \"z = x - (1-u) *\\<^sub>R (dr/norm(f x)) *\\<^sub>R rot (f x) + u *\\<^sub>R  (dr/norm(f x)) *\\<^sub>R rot (f x) \""], ["proof (prove)\nusing this:\n  0 \\<le> u\n  u \\<le> 1\n  z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr\n\ngoal (1 subgoal):\n 1. z =\n    x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n    u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)", "unfolding l_def"], ["proof (prove)\nusing this:\n  0 \\<le> u\n  u \\<le> 1\n  z =\n  (1 - u) *\\<^sub>R (x + (- dr / norm (f x)) *\\<^sub>R rot (f x)) +\n  u *\\<^sub>R (x + (dr / norm (f x)) *\\<^sub>R rot (f x))\n\ngoal (1 subgoal):\n 1. z =\n    x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n    u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)", "by (simp add: l_def scaleR_add_right scale_right_diff_distrib u(3))"], ["proof (state)\nthis:\n  z =\n  x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n  u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "also"], ["proof (state)\nthis:\n  z =\n  x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n  u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "have \"... = x - (1 - 2 * u) *\\<^sub>R (dr/norm(f x)) *\\<^sub>R rot (f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n    u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) =\n    x - (1 - 2 * u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)", "by (auto simp add: algebra_simps divide_simps simp flip: scaleR_add_left)"], ["proof (state)\nthis:\n  x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n  u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) =\n  x - (1 - 2 * u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "also"], ["proof (state)\nthis:\n  x - (1 - u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) +\n  u *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) =\n  x - (1 - 2 * u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "have \"... =  x + (((2 * u - 1) * dr)/norm(f x)) *\\<^sub>R rot (f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x - (1 - 2 * u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) =\n    x + ((2 * u - 1) * dr / norm (f x)) *\\<^sub>R rot (f x)", "by (smt add_uminus_conv_diff scaleR_scaleR scale_minus_left times_divide_eq_right)"], ["proof (state)\nthis:\n  x - (1 - 2 * u) *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x) =\n  x + ((2 * u - 1) * dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "finally"], ["proof (chain)\npicking this:\n  z = x + ((2 * u - 1) * dr / norm (f x)) *\\<^sub>R rot (f x)", "have zeq: \"z = l ((2*u-1)*dr)\""], ["proof (prove)\nusing this:\n  z = x + ((2 * u - 1) * dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. z = l ((2 * u - 1) * dr)", "unfolding l_def"], ["proof (prove)\nusing this:\n  z = x + ((2 * u - 1) * dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. z = x + ((2 * u - 1) * dr / norm (f x)) *\\<^sub>R rot (f x)", "."], ["proof (state)\nthis:\n  z = l ((2 * u - 1) * dr)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "have ub: \" 2* u - 1 \\<le> 1 \\<and> -1 \\<le>  2* u - 1 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 * u - 1 \\<le> 1 \\<and> - 1 \\<le> 2 * u - 1", "using u"], ["proof (prove)\nusing this:\n  0 \\<le> u\n  u \\<le> 1\n  z = (1 - u) *\\<^sub>R l (- dr) + u *\\<^sub>R l dr\n\ngoal (1 subgoal):\n 1. 2 * u - 1 \\<le> 1 \\<and> - 1 \\<le> 2 * u - 1", "by linarith"], ["proof (state)\nthis:\n  2 * u - 1 \\<le> 1 \\<and> - 1 \\<le> 2 * u - 1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {l (- dr)--l dr} \\<Longrightarrow> x \\<in> l ` {- dr..dr}", "thus \"z \\<in> l ` {- dr..dr}\""], ["proof (prove)\nusing this:\n  2 * u - 1 \\<le> 1 \\<and> - 1 \\<le> 2 * u - 1\n\ngoal (1 subgoal):\n 1. z \\<in> l ` {- dr..dr}", "using zeq"], ["proof (prove)\nusing this:\n  2 * u - 1 \\<le> 1 \\<and> - 1 \\<le> 2 * u - 1\n  z = l ((2 * u - 1) * dr)\n\ngoal (1 subgoal):\n 1. z \\<in> l ` {- dr..dr}", "by (smt atLeastAtMost_iff d(1) dr_def image_eqI mult.commute mult_left_le mult_minus_left r(1))"], ["proof (state)\nthis:\n  z \\<in> l ` {- dr..dr}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {l (- dr)--l dr} \\<subseteq> l ` {- dr..dr}\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have t2: \"{l (- dr)--l dr} \\<subseteq> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {l (- dr)--l dr} \\<subseteq> X", "using lsub"], ["proof (prove)\nusing this:\n  {l (- dr)--l dr} \\<subseteq> l ` {- dr..dr}\n\ngoal (1 subgoal):\n 1. {l (- dr)--l dr} \\<subseteq> X", "by (smt atLeastAtMost_iff d(2) dist_commute distl dr_def image_subset_iff mem_cball order_trans)"], ["proof (state)\nthis:\n  {l (- dr)--l dr} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"l (- dr) - l dr = -2 *\\<^sub>R (dr/norm(f x)) *\\<^sub>R rot (f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l (- dr) - l dr = - 2 *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)", "unfolding l_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x + (- dr / norm (f x)) *\\<^sub>R rot (f x) -\n    (x + (dr / norm (f x)) *\\<^sub>R rot (f x)) =\n    - 2 *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)", "by (simp add: algebra_simps flip: scaleR_add_left)"], ["proof (state)\nthis:\n  l (- dr) - l dr = - 2 *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  l (- dr) - l dr = - 2 *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)", "have req: \"rot (l (- dr) - l dr) = (2 * dr/norm(f x)) *\\<^sub>R f x\""], ["proof (prove)\nusing this:\n  l (- dr) - l dr = - 2 *\\<^sub>R (dr / norm (f x)) *\\<^sub>R rot (f x)\n\ngoal (1 subgoal):\n 1. rot (l (- dr) - l dr) = (2 * dr / norm (f x)) *\\<^sub>R f x", "by auto (metis add.inverse_inverse rot_rot rot_scaleR)"], ["proof (state)\nthis:\n  rot (l (- dr) - l dr) = (2 * dr / norm (f x)) *\\<^sub>R f x\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"l`{-dr..dr} \\<subseteq> l ` {-r ..r}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. l ` {- dr..dr} \\<subseteq> l ` {- r..r}", "by (simp add: dr_def image_mono)"], ["proof (state)\nthis:\n  l ` {- dr..dr} \\<subseteq> l ` {- r..r}\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  l ` {- dr..dr} \\<subseteq> l ` {- r..r}", "have \"{l (- dr)--l dr} \\<subseteq> l ` {-r .. r}\""], ["proof (prove)\nusing this:\n  l ` {- dr..dr} \\<subseteq> l ` {- r..r}\n\ngoal (1 subgoal):\n 1. {l (- dr)--l dr} \\<subseteq> l ` {- r..r}", "using lsub"], ["proof (prove)\nusing this:\n  l ` {- dr..dr} \\<subseteq> l ` {- r..r}\n  {l (- dr)--l dr} \\<subseteq> l ` {- dr..dr}\n\ngoal (1 subgoal):\n 1. {l (- dr)--l dr} \\<subseteq> l ` {- r..r}", "by auto"], ["proof (state)\nthis:\n  {l (- dr)--l dr} \\<subseteq> l ` {- r..r}\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  {l (- dr)--l dr} \\<subseteq> l ` {- r..r}", "have \"\\<forall>z \\<in> {l (- dr)--l dr}. 0 < f z \\<bullet> f x\""], ["proof (prove)\nusing this:\n  {l (- dr)--l dr} \\<subseteq> l ` {- r..r}\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x", "using rc"], ["proof (prove)\nusing this:\n  {l (- dr)--l dr} \\<subseteq> l ` {- r..r}\n  \\<forall>z\\<in>l ` {- r..r}. 0 < f z \\<bullet> f x\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x", "by blast"], ["proof (state)\nthis:\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(dr / norm (f x)) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < dr / norm (f x)", "using \\<open>0 < norm (f x)\\<close> d(1) dr_def r(1)"], ["proof (prove)\nusing this:\n  0 < norm (f x)\n  0 < d\n  dr = min r d\n  0 < r\n\ngoal (1 subgoal):\n 1. 0 < dr / norm (f x)", "by auto"], ["proof (state)\nthis:\n  0 < dr / norm (f x)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x\n  0 < dr / norm (f x)", "have t3: \"\\<forall>z \\<in> {l (- dr)--l dr}. f z \\<bullet> rot (l (- dr)- l dr) > 0\""], ["proof (prove)\nusing this:\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x\n  0 < dr / norm (f x)\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> rot (l (- dr) - l dr)", "unfolding req"], ["proof (prove)\nusing this:\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> f x\n  0 < dr / norm (f x)\n\ngoal (1 subgoal):\n 1. \\<forall>z\\<in>{l (- dr)--l dr}.\n       0 < f z \\<bullet> (2 * dr / norm (f x)) *\\<^sub>R f x", "by (smt divide_divide_eq_right inner_scaleR_right mult_2 norm_not_less_zero scaleR_2 times_divide_eq_left times_divide_eq_right zero_less_divide_iff)"], ["proof (state)\nthis:\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> rot (l (- dr) - l dr)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"transversal_segment (l (-dr)) (l dr)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transversal_segment (l (- dr)) (l dr)", "using t1 t2 t3"], ["proof (prove)\nusing this:\n  l (- dr) \\<noteq> l dr\n  {l (- dr)--l dr} \\<subseteq> X\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> rot (l (- dr) - l dr)\n\ngoal (1 subgoal):\n 1. transversal_segment (l (- dr)) (l dr)", "unfolding transversal_segment_def"], ["proof (prove)\nusing this:\n  l (- dr) \\<noteq> l dr\n  {l (- dr)--l dr} \\<subseteq> X\n  \\<forall>z\\<in>{l (- dr)--l dr}. 0 < f z \\<bullet> rot (l (- dr) - l dr)\n\ngoal (1 subgoal):\n 1. l (- dr) \\<noteq> l dr \\<and>\n    {l (- dr)--l dr} \\<subseteq> X \\<and>\n    (\\<forall>z\\<in>{l (- dr)--l dr}.\n        f z \\<bullet> rot (l (- dr) - l dr) \\<noteq> 0)", "by auto"], ["proof (state)\nthis:\n  transversal_segment (l (- dr)) (l dr)\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>x \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  transversal_segment (l (- dr)) (l dr)\n\ngoal (1 subgoal):\n 1. thesis", "using xin"], ["proof (prove)\nusing this:\n  transversal_segment (l (- dr)) (l dr)\n  x \\<in> {l (- dr)<--<l dr}\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  transversal_segment (l (- dr)) (l dr)\n  x \\<in> {l (- dr)<--<l dr}\n  \\<lbrakk>x \\<in> {?a2<--<?b2}; transversal_segment ?a2 ?b2\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Perko Section 3.7 Lemma 2 part 1.\\<close>"], ["", "lemma flow_transversal_segment_finite_intersections:\n  assumes \"transversal_segment a b\"\n  assumes \"t \\<le> t'\" \"{t .. t'} \\<subseteq> existence_ivl0 x\"\n  shows \"finite {s\\<in>{t..t'}. flow0 x s \\<in> {a--b}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {s \\<in> {t..t'}. flow0 x s \\<in> {a--b}}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite {s \\<in> {t..t'}. flow0 x s \\<in> {a--b}}", "from assms"], ["proof (chain)\npicking this:\n  transversal_segment a b\n  t \\<le> t'\n  {t..t'} \\<subseteq> existence_ivl0 x", "have \"a \\<noteq> b\""], ["proof (prove)\nusing this:\n  transversal_segment a b\n  t \\<le> t'\n  {t..t'} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by (simp add: transversal_segment_def)"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. finite {s \\<in> {t..t'}. flow0 x s \\<in> {a--b}}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {s \\<in> {t..t'}. flow0 x s \\<in> {a--b}}", "unfolding closed_segment_surface[OF \\<open>a \\<noteq> b\\<close>]"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     {s \\<in> {t..t'}.\n      flow0 x s\n      \\<in> {x \\<in> {x. x \\<bullet> (b - a)\n                         \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)}}.\n             (x - a) \\<bullet> rot (b - a) = 0}}", "apply (rule flow_transversal_surface_finite_intersections[where Ds=\"\\<lambda>_. blinfun_inner_left (rot (b - a))\"])"], ["proof (prove)\ngoal (5 subgoals):\n 1. closed\n     {x. x \\<bullet> (b - a)\n         \\<in> {a \\<bullet> (b - a)..b \\<bullet> (b - a)}}\n 2. \\<And>x.\n       ((\\<lambda>x. (x - a) \\<bullet> rot (b - a)) has_derivative\n        blinfun_apply (blinfun_inner_left (rot (b - a))))\n        (at x)\n 3. \\<And>x.\n       \\<lbrakk>x \\<in> {x. x \\<bullet> (b - a)\n                            \\<in> {a \\<bullet>\n                                   (b - a)..b \\<bullet> (b - a)}};\n        (x - a) \\<bullet> rot (b - a) = 0\\<rbrakk>\n       \\<Longrightarrow> blinfun_apply (blinfun_inner_left (rot (b - a)))\n                          (f x) \\<noteq>\n                         0\n 4. t \\<le> t'\n 5. {t..t'} \\<subseteq> existence_ivl0 x", "by\n      (use assms in \\<open>auto intro!: closed_Collect_conj closed_halfspace_component_ge closed_halfspace_component_le\n        derivative_eq_intros\n        simp: transversal_segment_def nrm_reverse[where x=a] in_closed_segment_iff_rot\\<close>)"], ["proof (state)\nthis:\n  finite {s \\<in> {t..t'}. flow0 x s \\<in> {a--b}}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma transversal_bound_posE:\n  assumes transversal: \"transversal_segment a b\"\n  assumes direction: \"z \\<in> {a -- b}\" \"f z \\<bullet> (rot (a - b)) > 0\"\n  obtains d B where \"d > 0\" \"0 < B\"\n    \"\\<And>x y. x \\<in> {a -- b} \\<Longrightarrow> dist x y \\<le> d \\<Longrightarrow> f y \\<bullet> (rot (a - b)) \\<ge> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?a = \"(\\<lambda>y. (f y) \\<bullet> (rot (a - b)))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from transversal_segment_posD[OF transversal direction]"], ["proof (chain)\npicking this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z \\<in> {a--b} \\<Longrightarrow> 0 < f ?z \\<bullet> rot (a - b)", "have seg: \"a \\<noteq> b\" \"{a--b} \\<subseteq> X\" \"z \\<in> {a--b} \\<Longrightarrow> 0 < f z \\<bullet> rot (a - b)\" for z"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z \\<in> {a--b} \\<Longrightarrow> 0 < f ?z \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. a \\<noteq> b &&&\n    {a--b} \\<subseteq> X &&&\n    (z \\<in> {a--b} \\<Longrightarrow> 0 < f z \\<bullet> rot (a - b))", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"x \\<in> {a--b}\""], ["proof (state)\nthis:\n  x \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> {a--b}", "have \"x \\<in> X\" \"f x \\<noteq> 0\" \"a \\<noteq> b\""], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. x \\<in> X &&& f x \\<noteq> (0::'a) &&& a \\<noteq> b", "using transversal"], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. x \\<in> X &&& f x \\<noteq> (0::'a) &&& a \\<noteq> b", "by (auto simp: transversal_segment_def)"], ["proof (state)\nthis:\n  x \\<in> X\n  f x \\<noteq> (0::'a)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> X\n  f x \\<noteq> (0::'a)\n  a \\<noteq> b", "have \"?a \\<midarrow>x\\<rightarrow> ?a x\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  f x \\<noteq> (0::'a)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (\\<lambda>y. f y \\<bullet> rot (a - b)) \\<midarrow>x\n    \\<rightarrow> f x \\<bullet> rot (a - b)", "by (auto intro!: tendsto_eq_intros)"], ["proof (state)\nthis:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) \\<midarrow>x\n  \\<rightarrow> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) \\<midarrow>x\n  \\<rightarrow> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?a x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < f x \\<bullet> rot (a - b)", "using seg \\<open>x \\<in> {a -- b}\\<close> \\<open>f x \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot (a - b)\n  x \\<in> {a--b}\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. 0 < f x \\<bullet> rot (a - b)", "by (auto simp: simp del: divide_const_simps\n          intro!: divide_pos_pos mult_pos_pos)"], ["proof (state)\nthis:\n  0 < f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) \\<midarrow>x\n  \\<rightarrow> f x \\<bullet> rot (a - b)\n  0 < f x \\<bullet> rot (a - b)", "have \"\\<forall>\\<^sub>F x in at x. ?a x > 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) \\<midarrow>x\n  \\<rightarrow> f x \\<bullet> rot (a - b)\n  0 < f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x. 0 < f x \\<bullet> rot (a - b)", "by (rule order_tendstoD)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x. 0 < f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x. 0 < f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F x in at x. x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x. x \\<in> X", "by (rule topological_tendstoD[OF tendsto_ident_at open_dom \\<open>x \\<in> X\\<close>])"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x. x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x. x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F x in at x. f x \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x. f x \\<noteq> (0::'a)", "by (rule tendsto_imp_eventually_ne tendsto_intros \\<open>x \\<in> X\\<close> \\<open>f x \\<noteq> 0\\<close>)+"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x. f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at x. 0 < f x \\<bullet> rot (a - b)\n  \\<forall>\\<^sub>F x in at x. x \\<in> X\n  \\<forall>\\<^sub>F x in at x. f x \\<noteq> (0::'a)", "have \"\\<forall>\\<^sub>F x in at x. ?a x>0 \\<and> x \\<in> X \\<and> f x \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at x. 0 < f x \\<bullet> rot (a - b)\n  \\<forall>\\<^sub>F x in at x. x \\<in> X\n  \\<forall>\\<^sub>F x in at x. f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at x.\n       0 < f x \\<bullet> rot (a - b) \\<and>\n       x \\<in> X \\<and> f x \\<noteq> (0::'a)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in at x.\n     0 < f x \\<bullet> rot (a - b) \\<and>\n     x \\<in> X \\<and> f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at x.\n     0 < f x \\<bullet> rot (a - b) \\<and>\n     x \\<in> X \\<and> f x \\<noteq> (0::'a)", "obtain d where d: \"0 < d\" \"\\<And>y. y \\<in> cball x d \\<Longrightarrow> ?a y > 0 \\<and> y \\<in> X \\<and> f y \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at x.\n     0 < f x \\<bullet> rot (a - b) \\<and>\n     x \\<in> X \\<and> f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>0 < d;\n         \\<And>y.\n            y \\<in> cball x d \\<Longrightarrow>\n            0 < f y \\<bullet> rot (a - b) \\<and>\n            y \\<in> X \\<and> f y \\<noteq> (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>?a x > 0\\<close> \\<open>x \\<in> X\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at x.\n     0 < f x \\<bullet> rot (a - b) \\<and>\n     x \\<in> X \\<and> f x \\<noteq> (0::'a)\n  0 < f x \\<bullet> rot (a - b)\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d.\n        \\<lbrakk>0 < d;\n         \\<And>y.\n            y \\<in> cball x d \\<Longrightarrow>\n            0 < f y \\<bullet> rot (a - b) \\<and>\n            y \\<in> X \\<and> f y \\<noteq> (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: eventually_at_le dist_commute)"], ["proof (state)\nthis:\n  0 < d\n  ?y2 \\<in> cball x d \\<Longrightarrow>\n  0 < f ?y2 \\<bullet> rot (a - b) \\<and>\n  ?y2 \\<in> X \\<and> f ?y2 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"continuous_on (cball x d) ?a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (cball x d) (\\<lambda>y. f y \\<bullet> rot (a - b))", "using d \\<open>a \\<noteq> b\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n  ?y2 \\<in> cball x d \\<Longrightarrow>\n  0 < f ?y2 \\<bullet> rot (a - b) \\<and>\n  ?y2 \\<in> X \\<and> f ?y2 \\<noteq> (0::'a)\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. continuous_on (cball x d) (\\<lambda>y. f y \\<bullet> rot (a - b))", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  continuous_on (cball x d) (\\<lambda>y. f y \\<bullet> rot (a - b))\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from compact_continuous_image[OF this compact_cball]"], ["proof (chain)\npicking this:\n  compact ((\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d)", "have \"compact (?a ` cball x d)\""], ["proof (prove)\nusing this:\n  compact ((\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d)\n\ngoal (1 subgoal):\n 1. compact ((\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d)", "."], ["proof (state)\nthis:\n  compact ((\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from compact_attains_inf[OF this]"], ["proof (chain)\npicking this:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>s\\<in>(\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d.\n     \\<forall>t\\<in>(\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d.\n        s \\<le> t", "obtain s where \"s \\<in> cball x d\" \"\\<forall>x\\<in>cball x d. ?a x \\<ge> ?a s\""], ["proof (prove)\nusing this:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>s\\<in>(\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d.\n     \\<forall>t\\<in>(\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d.\n        s \\<le> t\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> cball x d;\n         \\<forall>x\\<in>cball x d.\n            f s \\<bullet> rot (a - b)\n            \\<le> f x \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>d > 0\\<close>"], ["proof (prove)\nusing this:\n  (\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>s\\<in>(\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d.\n     \\<forall>t\\<in>(\\<lambda>y. f y \\<bullet> rot (a - b)) ` cball x d.\n        s \\<le> t\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> cball x d;\n         \\<forall>x\\<in>cball x d.\n            f s \\<bullet> rot (a - b)\n            \\<le> f x \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<in> cball x d\n  \\<forall>x\\<in>cball x d.\n     f s \\<bullet> rot (a - b) \\<le> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  s \\<in> cball x d\n  \\<forall>x\\<in>cball x d.\n     f s \\<bullet> rot (a - b) \\<le> f x \\<bullet> rot (a - b)", "have \"\\<exists>d>0. \\<exists>b>0. \\<forall>x \\<in> cball x d. ?a x \\<ge> b\""], ["proof (prove)\nusing this:\n  s \\<in> cball x d\n  \\<forall>x\\<in>cball x d.\n     f s \\<bullet> rot (a - b) \\<le> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. \\<exists>d>0.\n       \\<exists>ba>0.\n          \\<forall>x\\<in>cball x d. ba \\<le> f x \\<bullet> rot (a - b)", "using d"], ["proof (prove)\nusing this:\n  s \\<in> cball x d\n  \\<forall>x\\<in>cball x d.\n     f s \\<bullet> rot (a - b) \\<le> f x \\<bullet> rot (a - b)\n  0 < d\n  ?y2 \\<in> cball x d \\<Longrightarrow>\n  0 < f ?y2 \\<bullet> rot (a - b) \\<and>\n  ?y2 \\<in> X \\<and> f ?y2 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<exists>d>0.\n       \\<exists>ba>0.\n          \\<forall>x\\<in>cball x d. ba \\<le> f x \\<bullet> rot (a - b)", "by (force simp: intro: exI[where x=\"?a s\"])"], ["proof (state)\nthis:\n  \\<exists>d>0.\n     \\<exists>ba>0.\n        \\<forall>x\\<in>cball x d. ba \\<le> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?x4 \\<in> {a--b} \\<Longrightarrow>\n  \\<exists>d>0.\n     \\<exists>ba>0.\n        \\<forall>x\\<in>cball ?x4 d. ba \\<le> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  ?x4 \\<in> {a--b} \\<Longrightarrow>\n  \\<exists>d>0.\n     \\<exists>ba>0.\n        \\<forall>x\\<in>cball ?x4 d. ba \\<le> f x \\<bullet> rot (a - b)", "obtain dx Bx where dB:\n    \"\\<And>x y. x \\<in> {a -- b} \\<Longrightarrow> y\\<in>cball x (dx x) \\<Longrightarrow> ?a y \\<ge> Bx x\"\n    \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> Bx x > 0\"\n    \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> dx x > 0\""], ["proof (prove)\nusing this:\n  ?x4 \\<in> {a--b} \\<Longrightarrow>\n  \\<exists>d>0.\n     \\<exists>ba>0.\n        \\<forall>x\\<in>cball ?x4 d. ba \\<le> f x \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>dx Bx.\n        \\<lbrakk>\\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; y \\<in> cball x (dx x)\\<rbrakk>\n                    \\<Longrightarrow> Bx x \\<le> f y \\<bullet> rot (a - b);\n         \\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < Bx x;\n         \\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < dx x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; ?y2 \\<in> cball ?x2 (dx ?x2)\\<rbrakk>\n  \\<Longrightarrow> Bx ?x2 \\<le> f ?y2 \\<bullet> rot (a - b)\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < Bx ?x2\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < dx ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define d' where \"d' = (\\<lambda>x. dx x / 2)\""], ["proof (state)\nthis:\n  d' = (\\<lambda>x. dx x / 2)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have d':\n    \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> \\<forall>y\\<in>cball x (d' x). ?a y \\<ge> Bx x\"\n    \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> d' x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> {a--b} \\<Longrightarrow>\n        \\<forall>y\\<in>cball x (d' x).\n           Bx x \\<le> f y \\<bullet> rot (a - b)) &&&\n    (\\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < d' x)", "using dB(1,3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2 \\<in> {a--b}; ?y2 \\<in> cball ?x2 (dx ?x2)\\<rbrakk>\n  \\<Longrightarrow> Bx ?x2 \\<le> f ?y2 \\<bullet> rot (a - b)\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < dx ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> {a--b} \\<Longrightarrow>\n        \\<forall>y\\<in>cball x (d' x).\n           Bx x \\<le> f y \\<bullet> rot (a - b)) &&&\n    (\\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < d' x)", "by (force simp: d'_def)+"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>y\\<in>cball ?x2 (d' ?x2). Bx ?x2 \\<le> f y \\<bullet> rot (a - b)\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d' ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have d'B: \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> \\<forall>y\\<in>cball x (d' x). ?a y \\<ge> Bx x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {a--b} \\<Longrightarrow>\n       \\<forall>y\\<in>cball x (d' x). Bx x \\<le> f y \\<bullet> rot (a - b)", "using d'"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>y\\<in>cball ?x2 (d' ?x2). Bx ?x2 \\<le> f y \\<bullet> rot (a - b)\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d' ?x2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {a--b} \\<Longrightarrow>\n       \\<forall>y\\<in>cball x (d' x). Bx x \\<le> f y \\<bullet> rot (a - b)", "by auto"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>y\\<in>cball ?x2 (d' ?x2). Bx ?x2 \\<le> f y \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"{a--b} \\<subseteq> \\<Union>((\\<lambda>x. ball x (d' x)) ` {a -- b})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a--b} \\<subseteq> (\\<Union>x\\<in>{a--b}. ball x (d' x))", "using d'(2)"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d' ?x2\n\ngoal (1 subgoal):\n 1. {a--b} \\<subseteq> (\\<Union>x\\<in>{a--b}. ball x (d' x))", "by auto"], ["proof (state)\nthis:\n  {a--b} \\<subseteq> (\\<Union>x\\<in>{a--b}. ball x (d' x))\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from compactE_image[OF compact_segment _ this]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>T. T \\<in> {a--b} \\<Longrightarrow> open (ball T (d' T));\n   \\<And>C'.\n      \\<lbrakk>C' \\<subseteq> {a--b}; finite C';\n       {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d' c))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain X where X: \"X \\<subseteq> {a--b}\"\n    and [simp]: \"finite X\"\n    and cover: \"{a--b} \\<subseteq> (\\<Union>x\\<in>X. ball x (d' x))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>T. T \\<in> {a--b} \\<Longrightarrow> open (ball T (d' T));\n   \\<And>C'.\n      \\<lbrakk>C' \\<subseteq> {a--b}; finite C';\n       {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d' c))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>X.\n        \\<lbrakk>X \\<subseteq> {a--b}; finite X;\n         {a--b} \\<subseteq> (\\<Union>x\\<in>X. ball x (d' x))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  X \\<subseteq> {a--b}\n  finite X\n  {a--b} \\<subseteq> (\\<Union>x\\<in>X. ball x (d' x))\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have [simp]: \"X \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<noteq> {}", "using X cover"], ["proof (prove)\nusing this:\n  X \\<subseteq> {a--b}\n  {a--b} \\<subseteq> (\\<Union>x\\<in>X. ball x (d' x))\n\ngoal (1 subgoal):\n 1. X \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  X \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define d where \"d = Min (d' ` X)\""], ["proof (state)\nthis:\n  d = Min (d' ` X)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define B where \"B = Min (Bx ` X)\""], ["proof (state)\nthis:\n  B = Min (Bx ` X)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"d > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < d", "using X d'"], ["proof (prove)\nusing this:\n  X \\<subseteq> {a--b}\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>y\\<in>cball ?x2 (d' ?x2). Bx ?x2 \\<le> f y \\<bullet> rot (a - b)\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d' ?x2\n\ngoal (1 subgoal):\n 1. 0 < d", "by (auto simp: d_def d'_def)"], ["proof (state)\nthis:\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"B > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < B", "using X dB"], ["proof (prove)\nusing this:\n  X \\<subseteq> {a--b}\n  \\<lbrakk>?x2 \\<in> {a--b}; ?y2 \\<in> cball ?x2 (dx ?x2)\\<rbrakk>\n  \\<Longrightarrow> Bx ?x2 \\<le> f ?y2 \\<bullet> rot (a - b)\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < Bx ?x2\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < dx ?x2\n\ngoal (1 subgoal):\n 1. 0 < B", "by (auto simp: B_def simp del: divide_const_simps)"], ["proof (state)\nthis:\n  0 < B\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < B\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"B \\<le> ?a y\" if \"x \\<in> {a -- b}\" \"dist x y \\<le> d\" for x y"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "from \\<open>x \\<in> {a -- b}\\<close>"], ["proof (chain)\npicking this:\n  x \\<in> {a--b}", "obtain xc where xc: \"xc \\<in> X\" \"x \\<in> ball xc (d' xc)\""], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>xc.\n        \\<lbrakk>xc \\<in> X; x \\<in> ball xc (d' xc)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using cover"], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n  {a--b} \\<subseteq> (\\<Union>x\\<in>X. ball x (d' x))\n\ngoal (1 subgoal):\n 1. (\\<And>xc.\n        \\<lbrakk>xc \\<in> X; x \\<in> ball xc (d' xc)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  xc \\<in> X\n  x \\<in> ball xc (d' xc)\n\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "have \"?a y \\<ge> Bx xc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Bx xc \\<le> f y \\<bullet> rot (a - b)", "proof (rule dB)"], ["proof (state)\ngoal (2 subgoals):\n 1. xc \\<in> {a--b}\n 2. y \\<in> cball xc (dx xc)", "show \"xc \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. xc \\<in> {a--b}", "using xc \\<open>X \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  xc \\<in> X\n  x \\<in> ball xc (d' xc)\n  X \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. xc \\<in> {a--b}", "by auto"], ["proof (state)\nthis:\n  xc \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "have \"dist xc y \\<le> dist xc x + dist x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist xc y \\<le> dist xc x + dist x y", "by norm"], ["proof (state)\nthis:\n  dist xc y \\<le> dist xc x + dist x y\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "also"], ["proof (state)\nthis:\n  dist xc y \\<le> dist xc x + dist x y\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "have \"dist xc x \\<le> d' xc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist xc x \\<le> d' xc", "using xc"], ["proof (prove)\nusing this:\n  xc \\<in> X\n  x \\<in> ball xc (d' xc)\n\ngoal (1 subgoal):\n 1. dist xc x \\<le> d' xc", "by auto"], ["proof (state)\nthis:\n  dist xc x \\<le> d' xc\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "also"], ["proof (state)\nthis:\n  dist xc x \\<le> d' xc\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "note \\<open>dist x y \\<le> d\\<close>"], ["proof (state)\nthis:\n  dist x y \\<le> d\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "also"], ["proof (state)\nthis:\n  dist x y \\<le> d\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "have \"d \\<le> d' xc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d \\<le> d' xc", "using xc"], ["proof (prove)\nusing this:\n  xc \\<in> X\n  x \\<in> ball xc (d' xc)\n\ngoal (1 subgoal):\n 1. d \\<le> d' xc", "by (auto simp: d_def)"], ["proof (state)\nthis:\n  d \\<le> d' xc\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "also"], ["proof (state)\nthis:\n  d \\<le> d' xc\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "have \"d' xc + d' xc = dx xc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d' xc + d' xc = dx xc", "by (simp add: d'_def)"], ["proof (state)\nthis:\n  d' xc + d' xc = dx xc\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa ya.\n              xa \\<le> ya \\<Longrightarrow>\n              xa + dist x y \\<le> ya + dist x y;\n   \\<And>x y. x \\<le> y \\<Longrightarrow> d' xc + x \\<le> d' xc + y;\n   \\<And>x y. x \\<le> y \\<Longrightarrow> d' xc + x \\<le> d' xc + y\\<rbrakk>\n  \\<Longrightarrow> dist xc y \\<le> dx xc", "show \"y \\<in> cball xc (dx xc)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa ya.\n              xa \\<le> ya \\<Longrightarrow>\n              xa + dist x y \\<le> ya + dist x y;\n   \\<And>x y. x \\<le> y \\<Longrightarrow> d' xc + x \\<le> d' xc + y;\n   \\<And>x y. x \\<le> y \\<Longrightarrow> d' xc + x \\<le> d' xc + y\\<rbrakk>\n  \\<Longrightarrow> dist xc y \\<le> dx xc\n\ngoal (1 subgoal):\n 1. y \\<in> cball xc (dx xc)", "by simp"], ["proof (state)\nthis:\n  y \\<in> cball xc (dx xc)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Bx xc \\<le> f y \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "also"], ["proof (state)\nthis:\n  Bx xc \\<le> f y \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "have \"B \\<le> Bx xc\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<le> Bx xc", "using xc"], ["proof (prove)\nusing this:\n  xc \\<in> X\n  x \\<in> ball xc (d' xc)\n\ngoal (1 subgoal):\n 1. B \\<le> Bx xc", "unfolding B_def"], ["proof (prove)\nusing this:\n  xc \\<in> X\n  x \\<in> ball xc (d' xc)\n\ngoal (1 subgoal):\n 1. Min (Bx ` X) \\<le> Bx xc", "by (auto simp: B_def)"], ["proof (state)\nthis:\n  B \\<le> Bx xc\n\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "finally (xtrans)"], ["proof (chain)\npicking this:\n  B \\<le> f y \\<bullet> rot (a - b)", "show ?thesis"], ["proof (prove)\nusing this:\n  B \\<le> f y \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. B \\<le> f y \\<bullet> rot (a - b)", "."], ["proof (state)\nthis:\n  B \\<le> f y \\<bullet> rot (a - b)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (a - b)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  0 < d\n  0 < B\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot (a - b)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  0 < B\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot (a - b)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma transversal_bound_negE:\n  assumes transversal: \"transversal_segment a b\"\n  assumes direction: \"z \\<in> {a -- b}\" \"f z \\<bullet> (rot (a - b)) < 0\"\n  obtains d B where \"d > 0\" \"0 < B\"\n    \"\\<And>x y. x \\<in> {a -- b} \\<Longrightarrow> dist x y \\<le> d \\<Longrightarrow> f y \\<bullet> (rot (b - a)) \\<ge> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from direction"], ["proof (chain)\npicking this:\n  z \\<in> {a--b}\n  f z \\<bullet> rot (a - b) < 0", "have \"z \\<in> {b -- a}\" \"f z \\<bullet> (rot (b - a)) > 0\""], ["proof (prove)\nusing this:\n  z \\<in> {a--b}\n  f z \\<bullet> rot (a - b) < 0\n\ngoal (1 subgoal):\n 1. z \\<in> {b--a} &&& 0 < f z \\<bullet> rot (b - a)", "by (auto simp: closed_segment_commute rot_diff_commute[of b a])"], ["proof (state)\nthis:\n  z \\<in> {b--a}\n  0 < f z \\<bullet> rot (b - a)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from transversal_bound_posE[OF transversal_segment_reverse[OF transversal] this]"], ["proof (chain)\npicking this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {b--a}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain d B where \"d > 0\" \"0 < B\"\n    \"\\<And>x y. x \\<in> {a -- b} \\<Longrightarrow> dist x y \\<le> d \\<Longrightarrow> f y \\<bullet> (rot (b - a)) \\<ge> B\""], ["proof (prove)\nusing this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {b--a}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: closed_segment_commute)"], ["proof (state)\nthis:\n  0 < d\n  0 < B\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot (b - a)\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot (b - a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < d\n  0 < B\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot (b - a)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  0 < B\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot (b - a)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma leaves_transversal_segmentE:\n  assumes transversal: \"transversal_segment a b\"\n  obtains T n where \"T > 0\" \"n = a - b \\<or> n = b - a\"\n    \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> {-T..T} \\<subseteq> existence_ivl0 x\"\n    \"\\<And>x s. x \\<in> {a -- b} \\<Longrightarrow> 0 < s \\<Longrightarrow> s \\<le> T \\<Longrightarrow>\n    (flow0 x s - x) \\<bullet> rot n > 0\"\n    \"\\<And>x s. x \\<in> {a -- b} \\<Longrightarrow> -T \\<le> s \\<Longrightarrow> s < 0 \\<Longrightarrow>\n    (flow0 x s - x) \\<bullet> rot n < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from transversal_segmentE[OF assms(1)]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<lbrakk>a \\<noteq> b; {a--b} \\<subseteq> X;\n            \\<And>z.\n               z \\<in> {a--b} \\<Longrightarrow>\n               0 < f z \\<bullet> rot (a - b)\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>a \\<noteq> b; {a--b} \\<subseteq> X;\n    \\<And>z.\n       z \\<in> {a--b} \\<Longrightarrow>\n       0 < f z \\<bullet> rot (b - a)\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain n\n    where n: \"n = (a - b) \\<or> n = (b - a)\"\n      and seg: \"a \\<noteq> b\" \"{a -- b} \\<subseteq> X\" \"\\<And>z. z \\<in> {a--b} \\<Longrightarrow> f z \\<bullet> rot n > 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>a \\<noteq> b; {a--b} \\<subseteq> X;\n            \\<And>z.\n               z \\<in> {a--b} \\<Longrightarrow>\n               0 < f z \\<bullet> rot (a - b)\\<rbrakk>\n           \\<Longrightarrow> ?thesis;\n   \\<lbrakk>a \\<noteq> b; {a--b} \\<subseteq> X;\n    \\<And>z.\n       z \\<in> {a--b} \\<Longrightarrow>\n       0 < f z \\<bullet> rot (b - a)\\<rbrakk>\n   \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>n = a - b \\<or> n = b - a; a \\<noteq> b;\n         {a--b} \\<subseteq> X;\n         \\<And>z.\n            z \\<in> {a--b} \\<Longrightarrow>\n            0 < f z \\<bullet> rot n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  n = a - b \\<or> n = b - a\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from open_existence_ivl_on_compact[OF \\<open>{a -- b} \\<subseteq> X\\<close>]"], ["proof (chain)\npicking this:\n  \\<lbrakk>compact {a--b}; {a--b} \\<noteq> {};\n   \\<And>aa.\n      \\<lbrakk>0 < aa;\n       \\<And>x.\n          x \\<in> {a--b} \\<Longrightarrow>\n          {- aa..aa} \\<subseteq> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain t where \"0 < t\" and t: \"x \\<in> {a--b} \\<Longrightarrow> {- t..t} \\<subseteq> existence_ivl0 x\" for x"], ["proof (prove)\nusing this:\n  \\<lbrakk>compact {a--b}; {a--b} \\<noteq> {};\n   \\<And>aa.\n      \\<lbrakk>0 < aa;\n       \\<And>x.\n          x \\<in> {a--b} \\<Longrightarrow>\n          {- aa..aa} \\<subseteq> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>0 < t;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- t..t} \\<subseteq> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < t\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- t..t} \\<subseteq> existence_ivl0 ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from n"], ["proof (chain)\npicking this:\n  n = a - b \\<or> n = b - a", "obtain d B where B: \"0 < d\" \"0 < B\" \"(\\<And>x y. x \\<in> {a--b} \\<Longrightarrow> dist x y \\<le> d \\<Longrightarrow> B \\<le> f y \\<bullet> rot n)\""], ["proof (prove)\nusing this:\n  n = a - b \\<or> n = b - a\n\ngoal (1 subgoal):\n 1. (\\<And>d B.\n        \\<lbrakk>0 < d; 0 < B;\n         \\<And>x y.\n            \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n            \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = a - b\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume n_def: \"n = a - b\""], ["proof (state)\nthis:\n  n = a - b\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = a - b\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "with seg"], ["proof (chain)\npicking this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot n\n  n = a - b", "have pos:  \"0 < f a \\<bullet> rot (a - b)\""], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot n\n  n = a - b\n\ngoal (1 subgoal):\n 1. 0 < f a \\<bullet> rot (a - b)", "by auto"], ["proof (state)\nthis:\n  0 < f a \\<bullet> rot (a - b)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = a - b\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "from transversal_bound_posE[OF transversal ends_in_segment(1) pos, folded n_def]"], ["proof (chain)\npicking this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  \\<lbrakk>0 < ?d2; 0 < ?B2;\n   \\<And>x y.\n      \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> ?d2\\<rbrakk>\n      \\<Longrightarrow> ?B2 \\<le> f y \\<bullet> rot n\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume n_def: \"n = b - a\""], ["proof (state)\nthis:\n  n = b - a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "with seg"], ["proof (chain)\npicking this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot n\n  n = b - a", "have pos:  \"0 > f a \\<bullet> rot (a - b)\""], ["proof (prove)\nusing this:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n  ?z2 \\<in> {a--b} \\<Longrightarrow> 0 < f ?z2 \\<bullet> rot n\n  n = b - a\n\ngoal (1 subgoal):\n 1. f a \\<bullet> rot (a - b) < 0", "by (auto simp: rot_diff_commute[of a b])"], ["proof (state)\nthis:\n  f a \\<bullet> rot (a - b) < 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>d B.\n                \\<lbrakk>0 < d; 0 < B;\n                 \\<And>x y.\n                    \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n                    \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     n = b - a\\<rbrakk>\n    \\<Longrightarrow> thesis", "from transversal_bound_negE[OF transversal ends_in_segment(1) this, folded n_def]"], ["proof (chain)\npicking this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  (\\<And>d B.\n      \\<lbrakk>0 < d; 0 < B;\n       \\<And>x y.\n          \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> d\\<rbrakk>\n          \\<Longrightarrow> B \\<le> f y \\<bullet> rot n\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  \\<lbrakk>0 < ?d2; 0 < ?B2;\n   \\<And>x y.\n      \\<lbrakk>x \\<in> {a--b}; dist x y \\<le> ?d2\\<rbrakk>\n      \\<Longrightarrow> ?B2 \\<le> f y \\<bullet> rot n\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < d\n  0 < B\n  \\<lbrakk>?x2 \\<in> {a--b}; dist ?x2 ?y2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f ?y2 \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define S where \"S = \\<Union>((\\<lambda>x. ball x d) ` {a -- b})\""], ["proof (state)\nthis:\n  S = (\\<Union>x\\<in>{a--b}. ball x d)\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have S: \"x \\<in> S \\<Longrightarrow> B \\<le> f x \\<bullet> rot n\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> S \\<Longrightarrow> B \\<le> f x \\<bullet> rot n", "by (auto simp: S_def intro!: B)"], ["proof (state)\nthis:\n  ?x2 \\<in> S \\<Longrightarrow> B \\<le> f ?x2 \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"open S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open S", "by (auto simp: S_def)"], ["proof (state)\nthis:\n  open S\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"{a -- b} \\<subseteq> S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a--b} \\<subseteq> S", "by (auto simp: S_def \\<open>0 < d\\<close>)"], ["proof (state)\nthis:\n  {a--b} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F (t, x) in at (0, x). flow0 x t \\<in> S\" if \"x \\<in> {a -- b}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F (t, x) in at (0, x). flow0 x t \\<in> S", "unfolding split_beta'"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in at (0, x). flow0 (snd x) (fst x) \\<in> S", "apply (rule topological_tendstoD tendsto_intros)+"], ["proof (prove)\ngoal (3 subgoals):\n 1. fst (0, x) \\<in> existence_ivl0 (snd (0, x))\n 2. open S\n 3. flow0 (snd (0, x)) (fst (0, x)) \\<in> S", "using set_mp[OF \\<open>{a -- b} \\<subseteq> X\\<close> that] \\<open>0 < d\\<close> that \\<open>open S\\<close> \\<open>{a -- b} \\<subseteq> S\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> X\n  0 < d\n  x \\<in> {a--b}\n  open S\n  {a--b} \\<subseteq> S\n\ngoal (3 subgoals):\n 1. fst (0, x) \\<in> existence_ivl0 (snd (0, x))\n 2. open S\n 3. flow0 (snd (0, x)) (fst (0, x)) \\<in> S", "by (force simp: )+"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>\\<^sub>F (t, x) in at (0, ?x2). flow0 x t \\<in> S\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>\\<^sub>F (t, x) in at (0, ?x2). flow0 x t \\<in> S", "obtain d' where d':\n    \"\\<And>x. x \\<in> {a--b} \\<Longrightarrow> d' x > 0\"\n    \"\\<And>x y s. x \\<in> {a--b} \\<Longrightarrow> (s = 0 \\<longrightarrow> y \\<noteq> x) \\<Longrightarrow> dist (s, y) (0, x) < d' x \\<Longrightarrow> flow0 y s \\<in> S\""], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  \\<forall>\\<^sub>F (t, x) in at (0, ?x2). flow0 x t \\<in> S\n\ngoal (1 subgoal):\n 1. (\\<And>d'.\n        \\<lbrakk>\\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < d' x;\n         \\<And>x y s.\n            \\<lbrakk>x \\<in> {a--b}; s = 0 \\<longrightarrow> y \\<noteq> x;\n             dist (s, y) (0, x) < d' x\\<rbrakk>\n            \\<Longrightarrow> flow0 y s \\<in> S\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: eventually_at) metis"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d' ?x2\n  \\<lbrakk>?x2 \\<in> {a--b}; ?s2 = 0 \\<longrightarrow> ?y2 \\<noteq> ?x2;\n   dist (?s2, ?y2) (0, ?x2) < d' ?x2\\<rbrakk>\n  \\<Longrightarrow> flow0 ?y2 ?s2 \\<in> S\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define d2 where \"d2 x = d' x / 2\" for x"], ["proof (state)\nthis:\n  d2 ?x = d' ?x / 2\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have d2: \"\\<And>x. x \\<in> {a--b} \\<Longrightarrow> d2 x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < d2 x", "using d'"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d' ?x2\n  \\<lbrakk>?x2 \\<in> {a--b}; ?s2 = 0 \\<longrightarrow> ?y2 \\<noteq> ?x2;\n   dist (?s2, ?y2) (0, ?x2) < d' ?x2\\<rbrakk>\n  \\<Longrightarrow> flow0 ?y2 ?s2 \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {a--b} \\<Longrightarrow> 0 < d2 x", "by (auto simp: d2_def)"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d2 ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have C: \"{a--b} \\<subseteq> \\<Union>((\\<lambda>x. ball x (d2 x)) ` {a -- b})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a--b} \\<subseteq> (\\<Union>x\\<in>{a--b}. ball x (d2 x))", "using d2"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d2 ?x2\n\ngoal (1 subgoal):\n 1. {a--b} \\<subseteq> (\\<Union>x\\<in>{a--b}. ball x (d2 x))", "by auto"], ["proof (state)\nthis:\n  {a--b} \\<subseteq> (\\<Union>x\\<in>{a--b}. ball x (d2 x))\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from compactE_image[OF compact_segment _ C]"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>T. T \\<in> {a--b} \\<Longrightarrow> open (ball T (d2 T));\n   \\<And>C'.\n      \\<lbrakk>C' \\<subseteq> {a--b}; finite C';\n       {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain C' where \"C' \\<subseteq> {a--b}\" and [simp]: \"finite C'\"\n    and C'_cover: \"{a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>T. T \\<in> {a--b} \\<Longrightarrow> open (ball T (d2 T));\n   \\<And>C'.\n      \\<lbrakk>C' \\<subseteq> {a--b}; finite C';\n       {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>C'.\n        \\<lbrakk>C' \\<subseteq> {a--b}; finite C';\n         {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  C' \\<subseteq> {a--b}\n  finite C'\n  {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define T where \"T = Min (insert t (d2 ` C'))\""], ["proof (state)\nthis:\n  T = Min (insert t (d2 ` C'))\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"T > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < T", "using \\<open>0 < t\\<close> d2 \\<open>C' \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  0 < t\n  ?x2 \\<in> {a--b} \\<Longrightarrow> 0 < d2 ?x2\n  C' \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. 0 < T", "by (auto simp: T_def)"], ["proof (state)\nthis:\n  0 < T\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < T\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note n"], ["proof (state)\nthis:\n  n = a - b \\<or> n = b - a\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  n = a - b \\<or> n = b - a\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have T_ex: \"{-T..T} \\<subseteq> existence_ivl0 x\" if \"x \\<in> {a--b}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. {- T..T} \\<subseteq> existence_ivl0 x", "by (rule order_trans[OF _ t[OF that]]) (auto simp: T_def)"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- T..T} \\<subseteq> existence_ivl0 ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- T..T} \\<subseteq> existence_ivl0 ?x2\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have B_le: \"B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\"\n    if \"x \\<in> {a -- b}\"\n      and c': \"c' \\<in> C'\" \"x \\<in> ball c' (d2 c')\"\n      and \"\\<xi> \\<noteq> 0\" and \\<xi>_le: \"\\<bar>\\<xi>\\<bar> < d2 c'\"\n    for x c' \\<xi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "have \"c' \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c' \\<in> {a--b}", "using c' \\<open>C' \\<subseteq> _\\<close>"], ["proof (prove)\nusing this:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n  C' \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. c' \\<in> {a--b}", "by auto"], ["proof (state)\nthis:\n  c' \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "moreover"], ["proof (state)\nthis:\n  c' \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "have \"\\<xi> = 0 \\<longrightarrow> x \\<noteq> c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<xi> = 0 \\<longrightarrow> x \\<noteq> c'", "using \\<open>\\<xi> \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  \\<xi> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<xi> = 0 \\<longrightarrow> x \\<noteq> c'", "by simp"], ["proof (state)\nthis:\n  \\<xi> = 0 \\<longrightarrow> x \\<noteq> c'\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "moreover"], ["proof (state)\nthis:\n  \\<xi> = 0 \\<longrightarrow> x \\<noteq> c'\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "have \"dist (\\<xi>, x) (0, c') < d' c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "have \"dist (\\<xi>, x) (0, c') \\<le> dist (\\<xi>, x) (\\<xi>, c') + dist (\\<xi>, c') (0, c')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c')\n    \\<le> dist (\\<xi>, x) (\\<xi>, c') + dist (\\<xi>, c') (0, c')", "by norm"], ["proof (state)\nthis:\n  dist (\\<xi>, x) (0, c')\n  \\<le> dist (\\<xi>, x) (\\<xi>, c') + dist (\\<xi>, c') (0, c')\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "also"], ["proof (state)\nthis:\n  dist (\\<xi>, x) (0, c')\n  \\<le> dist (\\<xi>, x) (\\<xi>, c') + dist (\\<xi>, c') (0, c')\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "have \"dist (\\<xi>, x) (\\<xi>, c') < d2 c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (\\<xi>, c') < d2 c'", "using c'"], ["proof (prove)\nusing this:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (\\<xi>, c') < d2 c'", "by (simp add: dist_prod_def dist_commute)"], ["proof (state)\nthis:\n  dist (\\<xi>, x) (\\<xi>, c') < d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "also"], ["proof (state)\nthis:\n  dist (\\<xi>, x) (\\<xi>, c') < d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "have \"T \\<le> d2 c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<le> d2 c'", "using c'"], ["proof (prove)\nusing this:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n\ngoal (1 subgoal):\n 1. T \\<le> d2 c'", "by (auto simp: T_def)"], ["proof (state)\nthis:\n  T \\<le> d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "then"], ["proof (chain)\npicking this:\n  T \\<le> d2 c'", "have \"dist (\\<xi>, c') (0, c') < d2 c'\""], ["proof (prove)\nusing this:\n  T \\<le> d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, c') (0, c') < d2 c'", "using \\<xi>_le"], ["proof (prove)\nusing this:\n  T \\<le> d2 c'\n  \\<bar>\\<xi>\\<bar> < d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, c') (0, c') < d2 c'", "by (simp add: dist_prod_def)"], ["proof (state)\nthis:\n  dist (\\<xi>, c') (0, c') < d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "also"], ["proof (state)\nthis:\n  dist (\\<xi>, c') (0, c') < d2 c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "have \"d2 c' + d2 c' = d' c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d2 c' + d2 c' = d' c'", "by (simp add: d2_def)"], ["proof (state)\nthis:\n  d2 c' + d2 c' = d' c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x < y \\<Longrightarrow>\n              x + dist (\\<xi>, c') (0, c') < y + dist (\\<xi>, c') (0, c');\n   \\<And>x y. x < y \\<Longrightarrow> d2 c' + x < d2 c' + y\\<rbrakk>\n  \\<Longrightarrow> dist (\\<xi>, x) (0, c') < d' c'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x < y \\<Longrightarrow>\n              x + dist (\\<xi>, c') (0, c') < y + dist (\\<xi>, c') (0, c');\n   \\<And>x y. x < y \\<Longrightarrow> d2 c' + x < d2 c' + y\\<rbrakk>\n  \\<Longrightarrow> dist (\\<xi>, x) (0, c') < d' c'\n\ngoal (1 subgoal):\n 1. dist (\\<xi>, x) (0, c') < d' c'", "by simp"], ["proof (state)\nthis:\n  dist (\\<xi>, x) (0, c') < d' c'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  dist (\\<xi>, x) (0, c') < d' c'\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "ultimately"], ["proof (chain)\npicking this:\n  c' \\<in> {a--b}\n  \\<xi> = 0 \\<longrightarrow> x \\<noteq> c'\n  dist (\\<xi>, x) (0, c') < d' c'", "have \"flow0 x \\<xi> \\<in> S\""], ["proof (prove)\nusing this:\n  c' \\<in> {a--b}\n  \\<xi> = 0 \\<longrightarrow> x \\<noteq> c'\n  dist (\\<xi>, x) (0, c') < d' c'\n\ngoal (1 subgoal):\n 1. flow0 x \\<xi> \\<in> S", "by (rule d')"], ["proof (state)\nthis:\n  flow0 x \\<xi> \\<in> S\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "then"], ["proof (chain)\npicking this:\n  flow0 x \\<xi> \\<in> S", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 x \\<xi> \\<in> S\n\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "by (rule S)"], ["proof (state)\nthis:\n  B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; ?c'2 \\<in> C'; ?x2 \\<in> ball ?c'2 (d2 ?c'2);\n   ?\\<xi>2 \\<noteq> 0; \\<bar>?\\<xi>2\\<bar> < d2 ?c'2\\<rbrakk>\n  \\<Longrightarrow> B \\<le> f (flow0 ?x2 ?\\<xi>2) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?g = \"(\\<lambda>x t. (flow0 x t - x) \\<bullet> rot n)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have cont: \"continuous_on {-T .. T} (?g x)\"\n    if \"x \\<in> {a--b}\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {- T..T} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)", "using T_ex that"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- T..T} \\<subseteq> existence_ivl0 ?x2\n  x \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. continuous_on {- T..T} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)", "by (force intro!: continuous_intros)"], ["proof (state)\nthis:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  continuous_on {- T..T} (\\<lambda>t. (flow0 ?x2 t - ?x2) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have deriv: \"-T \\<le> s' \\<Longrightarrow> s' \\<le> T \\<Longrightarrow> ((?g x) has_derivative\n      (\\<lambda>t. t * (f (flow0 x s') \\<bullet> rot n))) (at s')\"\n    if \"x \\<in> {a--b}\" for x s'"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>- T \\<le> s'; s' \\<le> T\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>t.\n                           (flow0 x t - x) \\<bullet> rot n) has_derivative\n                       (\\<lambda>t. t * (f (flow0 x s') \\<bullet> rot n)))\n                       (at s')", "using T_ex that"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- T..T} \\<subseteq> existence_ivl0 ?x2\n  x \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>- T \\<le> s'; s' \\<le> T\\<rbrakk>\n    \\<Longrightarrow> ((\\<lambda>t.\n                           (flow0 x t - x) \\<bullet> rot n) has_derivative\n                       (\\<lambda>t. t * (f (flow0 x s') \\<bullet> rot n)))\n                       (at s')", "by (force intro!: derivative_eq_intros simp: flowderiv_def blinfun.bilinear_simps)"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; - T \\<le> ?s'2; ?s'2 \\<le> T\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>t.\n                         (flow0 ?x2 t - ?x2) \\<bullet> rot n) has_derivative\n                     (\\<lambda>t. t * (f (flow0 ?x2 ?s'2) \\<bullet> rot n)))\n                     (at ?s'2)\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(flow0 x s - x) \\<bullet> rot n > 0\" if \"x \\<in> {a -- b}\" \"0 < s\" \"s \\<le> T\" for x s"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (flow0 x s - x) \\<bullet> rot n", "proof (rule ccontr, unfold not_less)"], ["proof (state)\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "have [simp]: \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using that \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n  0 < s\n  s \\<le> T\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "assume H: \"(flow0 x s - x) \\<bullet> rot n \\<le> 0\""], ["proof (state)\nthis:\n  (flow0 x s - x) \\<bullet> rot n \\<le> 0\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "have cont: \"continuous_on {0 .. s} (?g x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..s} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)", "using cont"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  continuous_on {- T..T} (\\<lambda>t. (flow0 ?x2 t - ?x2) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. continuous_on {0..s} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)", "by (rule continuous_on_subset) (use that in auto)"], ["proof (state)\nthis:\n  continuous_on {0..s} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "from mvt[OF \\<open>0 < s\\<close> cont deriv] that"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa.\n              \\<lbrakk>0 < xa; xa < s\\<rbrakk>\n              \\<Longrightarrow> x \\<in> {a--b};\n   \\<And>x. \\<lbrakk>0 < x; x < s\\<rbrakk> \\<Longrightarrow> - T \\<le> x;\n   \\<And>x. \\<lbrakk>0 < x; x < s\\<rbrakk> \\<Longrightarrow> x \\<le> T;\n   \\<And>\\<xi>.\n      \\<lbrakk>0 < \\<xi>; \\<xi> < s;\n       (flow0 x s - x) \\<bullet> rot n - (flow0 x 0 - x) \\<bullet> rot n =\n       (s - 0) * (f (flow0 x \\<xi>) \\<bullet> rot n)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  x \\<in> {a--b}\n  0 < s\n  s \\<le> T", "obtain \\<xi> where \\<xi>: \"0 < \\<xi>\" \"\\<xi> < s\" \"(flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa.\n              \\<lbrakk>0 < xa; xa < s\\<rbrakk>\n              \\<Longrightarrow> x \\<in> {a--b};\n   \\<And>x. \\<lbrakk>0 < x; x < s\\<rbrakk> \\<Longrightarrow> - T \\<le> x;\n   \\<And>x. \\<lbrakk>0 < x; x < s\\<rbrakk> \\<Longrightarrow> x \\<le> T;\n   \\<And>\\<xi>.\n      \\<lbrakk>0 < \\<xi>; \\<xi> < s;\n       (flow0 x s - x) \\<bullet> rot n - (flow0 x 0 - x) \\<bullet> rot n =\n       (s - 0) * (f (flow0 x \\<xi>) \\<bullet> rot n)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  x \\<in> {a--b}\n  0 < s\n  s \\<le> T\n\ngoal (1 subgoal):\n 1. (\\<And>\\<xi>.\n        \\<lbrakk>0 < \\<xi>; \\<xi> < s;\n         (flow0 x s - x) \\<bullet> rot n =\n         s * (f (flow0 x \\<xi>) \\<bullet> rot n)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto intro: continuous_on_subset)"], ["proof (state)\nthis:\n  0 < \\<xi>\n  \\<xi> < s\n  (flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "note \\<open>0 < B\\<close>"], ["proof (state)\nthis:\n  0 < B\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  0 < B\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "from C'_cover that"], ["proof (chain)\npicking this:\n  {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\n  x \\<in> {a--b}\n  0 < s\n  s \\<le> T", "obtain c' where c': \"c' \\<in> C'\" \"x \\<in> ball c' (d2 c')\""], ["proof (prove)\nusing this:\n  {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\n  x \\<in> {a--b}\n  0 < s\n  s \\<le> T\n\ngoal (1 subgoal):\n 1. (\\<And>c'.\n        \\<lbrakk>c' \\<in> C'; x \\<in> ball c' (d2 c')\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "have \"B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "proof (rule B_le[OF that(1) c'])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<xi> \\<noteq> 0\n 2. \\<bar>\\<xi>\\<bar> < d2 c'", "show \"\\<xi> \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<xi> \\<noteq> 0", "using \\<open>0 < \\<xi>\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<xi>\n\ngoal (1 subgoal):\n 1. \\<xi> \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  \\<xi> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "have \"T \\<le> d2 c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<le> d2 c'", "using c'"], ["proof (prove)\nusing this:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n\ngoal (1 subgoal):\n 1. T \\<le> d2 c'", "by (auto simp: T_def)"], ["proof (state)\nthis:\n  T \\<le> d2 c'\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "then"], ["proof (chain)\npicking this:\n  T \\<le> d2 c'", "show \"\\<bar>\\<xi>\\<bar> < d2 c'\""], ["proof (prove)\nusing this:\n  T \\<le> d2 c'\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "using \\<open>0 < \\<xi>\\<close> \\<open>\\<xi> < s\\<close> \\<open>s \\<le> T\\<close>"], ["proof (prove)\nusing this:\n  T \\<le> d2 c'\n  0 < \\<xi>\n  \\<xi> < s\n  s \\<le> T\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "by (simp add: dist_prod_def)"], ["proof (state)\nthis:\n  \\<bar>\\<xi>\\<bar> < d2 c'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "from \\<xi> H"], ["proof (chain)\npicking this:\n  0 < \\<xi>\n  \\<xi> < s\n  (flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\n  (flow0 x s - x) \\<bullet> rot n \\<le> 0", "have \"\\<dots> \\<le> 0\""], ["proof (prove)\nusing this:\n  0 < \\<xi>\n  \\<xi> < s\n  (flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\n  (flow0 x s - x) \\<bullet> rot n \\<le> 0\n\ngoal (1 subgoal):\n 1. f (flow0 x \\<xi>) \\<bullet> rot n \\<le> 0", "by (auto simp add: algebra_split_simps not_less split: if_splits)"], ["proof (state)\nthis:\n  f (flow0 x \\<xi>) \\<bullet> rot n \\<le> 0\n\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n \\<le> 0 \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  0 < 0", "show False"], ["proof (prove)\nusing this:\n  0 < 0\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; 0 < ?s2; ?s2 \\<le> T\\<rbrakk>\n  \\<Longrightarrow> 0 < (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; 0 < ?s2; ?s2 \\<le> T\\<rbrakk>\n  \\<Longrightarrow> 0 < (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(flow0 x s - x) \\<bullet> rot n < 0\" if \"x \\<in> {a -- b}\" \"-T \\<le> s\" \"s < 0\" for x s"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow0 x s - x) \\<bullet> rot n < 0", "proof (rule ccontr, unfold not_less)"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "have [simp]: \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using that \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {a--b}\n  - T \\<le> s\n  s < 0\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "assume H: \"(flow0 x s - x) \\<bullet> rot n \\<ge> 0\""], ["proof (state)\nthis:\n  0 \\<le> (flow0 x s - x) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "have cont: \"continuous_on {s .. 0} (?g x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {s..0} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)", "using cont"], ["proof (prove)\nusing this:\n  ?x2 \\<in> {a--b} \\<Longrightarrow>\n  continuous_on {- T..T} (\\<lambda>t. (flow0 ?x2 t - ?x2) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. continuous_on {s..0} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)", "by (rule continuous_on_subset) (use that in auto)"], ["proof (state)\nthis:\n  continuous_on {s..0} (\\<lambda>t. (flow0 x t - x) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "from mvt[OF \\<open>s < 0\\<close> cont deriv] that"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>xa.\n              \\<lbrakk>s < xa; xa < 0\\<rbrakk>\n              \\<Longrightarrow> x \\<in> {a--b};\n   \\<And>x. \\<lbrakk>s < x; x < 0\\<rbrakk> \\<Longrightarrow> - T \\<le> x;\n   \\<And>x. \\<lbrakk>s < x; x < 0\\<rbrakk> \\<Longrightarrow> x \\<le> T;\n   \\<And>\\<xi>.\n      \\<lbrakk>s < \\<xi>; \\<xi> < 0;\n       (flow0 x 0 - x) \\<bullet> rot n - (flow0 x s - x) \\<bullet> rot n =\n       (0 - s) * (f (flow0 x \\<xi>) \\<bullet> rot n)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  x \\<in> {a--b}\n  - T \\<le> s\n  s < 0", "obtain \\<xi> where \\<xi>: \"s < \\<xi>\" \"\\<xi> < 0\" \"(flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>xa.\n              \\<lbrakk>s < xa; xa < 0\\<rbrakk>\n              \\<Longrightarrow> x \\<in> {a--b};\n   \\<And>x. \\<lbrakk>s < x; x < 0\\<rbrakk> \\<Longrightarrow> - T \\<le> x;\n   \\<And>x. \\<lbrakk>s < x; x < 0\\<rbrakk> \\<Longrightarrow> x \\<le> T;\n   \\<And>\\<xi>.\n      \\<lbrakk>s < \\<xi>; \\<xi> < 0;\n       (flow0 x 0 - x) \\<bullet> rot n - (flow0 x s - x) \\<bullet> rot n =\n       (0 - s) * (f (flow0 x \\<xi>) \\<bullet> rot n)\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  x \\<in> {a--b}\n  - T \\<le> s\n  s < 0\n\ngoal (1 subgoal):\n 1. (\\<And>\\<xi>.\n        \\<lbrakk>s < \\<xi>; \\<xi> < 0;\n         (flow0 x s - x) \\<bullet> rot n =\n         s * (f (flow0 x \\<xi>) \\<bullet> rot n)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s < \\<xi>\n  \\<xi> < 0\n  (flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "note \\<open>0 < B\\<close>"], ["proof (state)\nthis:\n  0 < B\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  0 < B\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "from C'_cover that"], ["proof (chain)\npicking this:\n  {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\n  x \\<in> {a--b}\n  - T \\<le> s\n  s < 0", "obtain c' where c': \"c' \\<in> C'\" \"x \\<in> ball c' (d2 c')\""], ["proof (prove)\nusing this:\n  {a--b} \\<subseteq> (\\<Union>c\\<in>C'. ball c (d2 c))\n  x \\<in> {a--b}\n  - T \\<le> s\n  s < 0\n\ngoal (1 subgoal):\n 1. (\\<And>c'.\n        \\<lbrakk>c' \\<in> C'; x \\<in> ball c' (d2 c')\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "have \"B \\<le> (f (flow0 x \\<xi>) \\<bullet> rot n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n", "proof (rule B_le[OF that(1) c'])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<xi> \\<noteq> 0\n 2. \\<bar>\\<xi>\\<bar> < d2 c'", "show \"\\<xi> \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<xi> \\<noteq> 0", "using \\<open>0 > \\<xi>\\<close>"], ["proof (prove)\nusing this:\n  \\<xi> < 0\n\ngoal (1 subgoal):\n 1. \\<xi> \\<noteq> 0", "by simp"], ["proof (state)\nthis:\n  \\<xi> \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "have \"T \\<le> d2 c'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<le> d2 c'", "using c'"], ["proof (prove)\nusing this:\n  c' \\<in> C'\n  x \\<in> ball c' (d2 c')\n\ngoal (1 subgoal):\n 1. T \\<le> d2 c'", "by (auto simp: T_def)"], ["proof (state)\nthis:\n  T \\<le> d2 c'\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "then"], ["proof (chain)\npicking this:\n  T \\<le> d2 c'", "show \"\\<bar>\\<xi>\\<bar> < d2 c'\""], ["proof (prove)\nusing this:\n  T \\<le> d2 c'\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "using \\<open>0 > \\<xi>\\<close> \\<open>\\<xi> > s\\<close> \\<open>s \\<ge> - T\\<close>"], ["proof (prove)\nusing this:\n  T \\<le> d2 c'\n  \\<xi> < 0\n  s < \\<xi>\n  - T \\<le> s\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi>\\<bar> < d2 c'", "by (simp add: dist_prod_def)"], ["proof (state)\nthis:\n  \\<bar>\\<xi>\\<bar> < d2 c'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "also"], ["proof (state)\nthis:\n  B \\<le> f (flow0 x \\<xi>) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "from \\<xi> H"], ["proof (chain)\npicking this:\n  s < \\<xi>\n  \\<xi> < 0\n  (flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\n  0 \\<le> (flow0 x s - x) \\<bullet> rot n", "have \"\\<dots> \\<le> 0\""], ["proof (prove)\nusing this:\n  s < \\<xi>\n  \\<xi> < 0\n  (flow0 x s - x) \\<bullet> rot n = s * (f (flow0 x \\<xi>) \\<bullet> rot n)\n  0 \\<le> (flow0 x s - x) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. f (flow0 x \\<xi>) \\<bullet> rot n \\<le> 0", "by (simp add: algebra_split_simps)"], ["proof (state)\nthis:\n  f (flow0 x \\<xi>) \\<bullet> rot n \\<le> 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> (flow0 x s - x) \\<bullet> rot n \\<Longrightarrow> False", "finally"], ["proof (chain)\npicking this:\n  0 < 0", "show False"], ["proof (prove)\nusing this:\n  0 < 0\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> {a--b}; - T \\<le> ?s2; ?s2 < 0\\<rbrakk>\n  \\<Longrightarrow> (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n < 0\n\ngoal (1 subgoal):\n 1. (\\<And>T n.\n        \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- T..T} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  0 < T\n  n = a - b \\<or> n = b - a\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- T..T} \\<subseteq> existence_ivl0 ?x2\n  \\<lbrakk>?x2 \\<in> {a--b}; 0 < ?s2; ?s2 \\<le> T\\<rbrakk>\n  \\<Longrightarrow> 0 < (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n\n  \\<lbrakk>?x2 \\<in> {a--b}; - T \\<le> ?s2; ?s2 < 0\\<rbrakk>\n  \\<Longrightarrow> (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n < 0", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < T\n  n = a - b \\<or> n = b - a\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- T..T} \\<subseteq> existence_ivl0 ?x2\n  \\<lbrakk>?x2 \\<in> {a--b}; 0 < ?s2; ?s2 \\<le> T\\<rbrakk>\n  \\<Longrightarrow> 0 < (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n\n  \\<lbrakk>?x2 \\<in> {a--b}; - T \\<le> ?s2; ?s2 < 0\\<rbrakk>\n  \\<Longrightarrow> (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n < 0\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma inner_rot_pos_move_base: \"(x - a) \\<bullet> rot (a - b) > 0\"\n  if \"(x - y) \\<bullet> rot (a - b) > 0\" \"y \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> rot (a - b)", "by (smt in_segment_inner_rot inner_diff_left inner_minus_right minus_diff_eq rot_rot that)"], ["", "lemma inner_rot_neg_move_base: \"(x - a) \\<bullet> rot (a - b) < 0\"\n  if \"(x - y) \\<bullet> rot (a - b) < 0\" \"y \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rot (a - b) < 0", "by (smt in_segment_inner_rot inner_diff_left inner_minus_right minus_diff_eq rot_rot that)"], ["", "lemma inner_pos_move_base: \"(x - a) \\<bullet> n > 0\"\n  if \"(a - b) \\<bullet> n = 0\" \"(x - y) \\<bullet> n > 0\" \"y \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "from that(3)"], ["proof (chain)\npicking this:\n  y \\<in> {a--b}", "obtain u where y_def: \"y = (1 - u) *\\<^sub>R a + u *\\<^sub>R b\" and u: \"0 \\<le> u\" \"u \\<le> 1\""], ["proof (prove)\nusing this:\n  y \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>y = (1 - u) *\\<^sub>R a + u *\\<^sub>R b; 0 \\<le> u;\n         u \\<le> 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_segment)"], ["proof (state)\nthis:\n  y = (1 - u) *\\<^sub>R a + u *\\<^sub>R b\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "have \"(x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)", "by (simp add: algebra_simps y_def)"], ["proof (state)\nthis:\n  (x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "also"], ["proof (state)\nthis:\n  (x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "have \"\\<dots> = (x - y) \\<bullet> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n) = (x - y) \\<bullet> n", "by (simp add: that)"], ["proof (state)\nthis:\n  (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n) = (x - y) \\<bullet> n\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "also"], ["proof (state)\nthis:\n  (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n) = (x - y) \\<bullet> n\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "note \\<open>\\<dots> > 0\\<close>"], ["proof (state)\nthis:\n  0 < (x - y) \\<bullet> n\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "finally"], ["proof (chain)\npicking this:\n  0 < (x - a) \\<bullet> n", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < (x - a) \\<bullet> n\n\ngoal (1 subgoal):\n 1. 0 < (x - a) \\<bullet> n", "."], ["proof (state)\nthis:\n  0 < (x - a) \\<bullet> n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma inner_neg_move_base: \"(x - a) \\<bullet> n < 0\"\n  if \"(a - b) \\<bullet> n = 0\" \"(x - y) \\<bullet> n < 0\" \"y \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "from that(3)"], ["proof (chain)\npicking this:\n  y \\<in> {a--b}", "obtain u where y_def: \"y = (1 - u) *\\<^sub>R a + u *\\<^sub>R b\" and u: \"0 \\<le> u\" \"u \\<le> 1\""], ["proof (prove)\nusing this:\n  y \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>y = (1 - u) *\\<^sub>R a + u *\\<^sub>R b; 0 \\<le> u;\n         u \\<le> 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_segment)"], ["proof (state)\nthis:\n  y = (1 - u) *\\<^sub>R a + u *\\<^sub>R b\n  0 \\<le> u\n  u \\<le> 1\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "have \"(x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)", "by (simp add: algebra_simps y_def)"], ["proof (state)\nthis:\n  (x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "also"], ["proof (state)\nthis:\n  (x - a) \\<bullet> n = (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n)\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "have \"\\<dots> = (x - y) \\<bullet> n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n) = (x - y) \\<bullet> n", "by (simp add: that)"], ["proof (state)\nthis:\n  (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n) = (x - y) \\<bullet> n\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "also"], ["proof (state)\nthis:\n  (x - y) \\<bullet> n - u * ((a - b) \\<bullet> n) = (x - y) \\<bullet> n\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "note \\<open>\\<dots> < 0\\<close>"], ["proof (state)\nthis:\n  (x - y) \\<bullet> n < 0\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "finally"], ["proof (chain)\npicking this:\n  (x - a) \\<bullet> n < 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (x - a) \\<bullet> n < 0\n\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> n < 0", "."], ["proof (state)\nthis:\n  (x - a) \\<bullet> n < 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rot_same_dir:\n  assumes \"x1 \\<in> {a<--<b}\"\n  assumes \"x2 \\<in> {x1<--<b}\"\n  shows \"(y \\<bullet> rot (a-b) > 0) = (y \\<bullet> rot(x1-x2) > 0)\"  \"(y \\<bullet> rot (a-b) < 0) = (y \\<bullet> rot(x1-x2) < 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 < y \\<bullet> rot (a - b)) = (0 < y \\<bullet> rot (x1 - x2)) &&&\n    (y \\<bullet> rot (a - b) < 0) = (y \\<bullet> rot (x1 - x2) < 0)", "using oriented_subsegment_scale[OF assms]"], ["proof (prove)\nusing this:\n  (\\<And>e.\n      \\<lbrakk>0 < e; b - a = e *\\<^sub>R (x2 - x1)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (0 < y \\<bullet> rot (a - b)) = (0 < y \\<bullet> rot (x1 - x2)) &&&\n    (y \\<bullet> rot (a - b) < 0) = (y \\<bullet> rot (x1 - x2) < 0)", "apply (smt inner_scaleR_right nrm_reverse rot_scaleR zero_less_mult_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<bullet> rot (a - b) < 0) = (y \\<bullet> rot (x1 - x2) < 0)", "by (smt \\<open>\\<And>thesis. (\\<And>e. \\<lbrakk>0 < e; b - a = e *\\<^sub>R (x2 - x1)\\<rbrakk> \\<Longrightarrow> thesis) \\<Longrightarrow> thesis\\<close> inner_minus_right inner_scaleR_right rot_diff_commute rot_scaleR zero_less_mult_iff)"], ["", "subsection \\<open>Monotone Step Lemma\\<close>"], ["", "lemma flow0_transversal_segment_monotone_step:\n  assumes \"transversal_segment a b\"\n  assumes \"t1 \\<le> t2\" \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes x1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes x2: \"flow0 x t2 \\<in> {flow0 x t1<--<b}\"\n  assumes \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  assumes \"t > t2\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {a<--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "note exist = \\<open>{t1..t2} \\<subseteq> existence_ivl0 x\\<close>"], ["proof (state)\nthis:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "note t1t2 = \\<open>\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\\<close>"], ["proof (state)\nthis:\n  ?t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* Basic properties of the segment *)"], ["proof (state)\nthis:\n  ?t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have x1neqx2: \"flow0 x t1 \\<noteq> flow0 x t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t1 \\<noteq> flow0 x t2", "using open_segment_def x2"], ["proof (prove)\nusing this:\n  {?a<--<?b} \\<equiv> {?a--?b} - {?a, ?b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<noteq> flow0 x t2", "by force"], ["proof (state)\nthis:\n  flow0 x t1 \\<noteq> flow0 x t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<noteq> flow0 x t2", "have t1neqt2: \"t1 \\<noteq> t2\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<noteq> flow0 x t2\n\ngoal (1 subgoal):\n 1. t1 \\<noteq> t2", "by auto"], ["proof (state)\nthis:\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have [simp]: \"a \\<noteq> b\" and \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b &&& {a--b} \\<subseteq> X", "using \\<open>transversal_segment a b\\<close>"], ["proof (prove)\nusing this:\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. a \\<noteq> b &&& {a--b} \\<subseteq> X", "by (auto simp: transversal_segment_def)"], ["proof (state)\nthis:\n  a \\<noteq> b\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from x1"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> {a<--<b}", "obtain i1 where i1: \"flow0 x t1 = line a b i1\" \"0 < i1\" \"i1 < 1\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>i1.\n        \\<lbrakk>flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>; 0 < i1;\n         i1 < 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_open_segment_iff_line)"], ["proof (state)\nthis:\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from x2"], ["proof (chain)\npicking this:\n  flow0 x t2 \\<in> {flow0 x t1<--<b}", "obtain i2 where i2: \"flow0 x t2 = line a b i2\" \"0 < i1\" \"i1 < i2\""], ["proof (prove)\nusing this:\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>i2.\n        \\<lbrakk>flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>; 0 < i1;\n         i1 < i2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: i1 line_open_segment_iff)"], ["proof (state)\nthis:\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  0 < i1\n  i1 < i2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"{a <--< flow0 x t1} \\<subseteq> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> {a<--<b}", "by (simp add: open_closed_segment subset_open_segment x1)"], ["proof (state)\nthis:\n  {a<--<flow0 x t1} \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have t12sub: \"{flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}", "by (metis ends_in_segment(2) open_closed_segment subset_co_segment subset_eq subset_open_segment x1 x2)"], ["proof (state)\nthis:\n  {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have subr: \"{flow0 x t1<--<flow0 x t2} \\<subseteq> {flow0 x t1 <--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {flow0 x t1<--<flow0 x t2} \\<subseteq> {flow0 x t1<--<b}", "by (simp add: open_closed_segment subset_open_segment x2)"], ["proof (state)\nthis:\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"flow0 x t1 \\<in> {a <--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> {a<--<flow0 x t2}", "using x1 x2"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> {a<--<flow0 x t2}", "by (rule open_segment_subsegment)"], ["proof (state)\nthis:\n  flow0 x t1 \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> {a<--<flow0 x t2}", "have subl: \"{flow0 x t1<--<flow0 x t2} \\<subseteq> {a <--< flow0 x t2}\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}", "using x1 x2"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<flow0 x t2}\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}", "by (simp add: open_closed_segment subset_open_segment x2)"], ["proof (state)\nthis:\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}", "have subl2: \"{flow0 x t1--<flow0 x t2} \\<subseteq> {a <--< flow0 x t2}\""], ["proof (prove)\nusing this:\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. {flow0 x t1--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}", "using x1 x2"], ["proof (prove)\nusing this:\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. {flow0 x t1--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}", "by (smt DiffE DiffI \\<open>flow0 x t1 \\<in> {a<--<flow0 x t2}\\<close> half_open_segment_def insert_iff open_segment_def subset_eq)"], ["proof (state)\nthis:\n  {flow0 x t1--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have sub1b: \"{flow0 x t1--b} \\<subseteq> {a--b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {flow0 x t1--b} \\<subseteq> {a--b}", "by (simp add: open_closed_segment subset_closed_segment x1)"], ["proof (state)\nthis:\n  {flow0 x t1--b} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have suba2: \"{a--flow0 x t2} \\<subseteq> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a--flow0 x t2} \\<subseteq> {a--b}", "using open_closed_segment subset_closed_segment t12sub"], ["proof (prove)\nusing this:\n  ?u \\<in> {?w<--<?z} \\<Longrightarrow> ?u \\<in> {?w--?z}\n  ({?a--?b} \\<subseteq> {?c--?d}) =\n  (?a \\<in> {?c--?d} \\<and> ?b \\<in> {?c--?d})\n  {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. {a--flow0 x t2} \\<subseteq> {a--b}", "by blast"], ["proof (state)\nthis:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a--flow0 x t2} \\<subseteq> {a--b}", "have suba2o: \"{a<--<flow0 x t2} \\<subseteq> {a -- b}\""], ["proof (prove)\nusing this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t2} \\<subseteq> {a--b}", "using open_closed_segment subset_closed_segment t12sub"], ["proof (prove)\nusing this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n  ?u \\<in> {?w<--<?z} \\<Longrightarrow> ?u \\<in> {?w--?z}\n  ({?a--?b} \\<subseteq> {?c--?d}) =\n  (?a \\<in> {?c--?d} \\<and> ?b \\<in> {?c--?d})\n  {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t2} \\<subseteq> {a--b}", "by blast"], ["proof (state)\nthis:\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have x2_notmem: \"flow0 x t2 \\<notin> {a--flow0 x t1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t2 \\<notin> {a--flow0 x t1}", "using i1 i2"], ["proof (prove)\nusing this:\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  0 < i1\n  i1 < i2\n\ngoal (1 subgoal):\n 1. flow0 x t2 \\<notin> {a--flow0 x t1}", "by (auto simp: closed_segment_line_iff)"], ["proof (state)\nthis:\n  flow0 x t2 \\<notin> {a--flow0 x t1}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have suba12: \"{a--flow0 x t1} \\<subseteq> {a--flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a--flow0 x t1} \\<subseteq> {a--flow0 x t2}", "by (simp add: \\<open>flow0 x t1 \\<in> {a<--<flow0 x t2}\\<close> open_closed_segment subset_closed_segment)"], ["proof (state)\nthis:\n  {a--flow0 x t1} \\<subseteq> {a--flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a--flow0 x t1} \\<subseteq> {a--flow0 x t2}", "have suba12_open: \"{a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  {a--flow0 x t1} \\<subseteq> {a--flow0 x t2}\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}", "using x2_notmem"], ["proof (prove)\nusing this:\n  {a--flow0 x t1} \\<subseteq> {a--flow0 x t2}\n  flow0 x t2 \\<notin> {a--flow0 x t1}\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}", "by (auto simp: open_segment_def)"], ["proof (state)\nthis:\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"flow0 x t2 \\<in> {a--b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> {a--b}", "using suba2"], ["proof (prove)\nusing this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> {a--b}", "by auto"], ["proof (state)\nthis:\n  flow0 x t2 \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have intereq: \"\\<And>t. t1 \\<le> t \\<Longrightarrow> t \\<le> t2 \\<Longrightarrow> flow0 x t \\<in> {a<--<b} \\<Longrightarrow>  t = t1 \\<or> t = t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2; flow0 x t \\<in> {a<--<b}\\<rbrakk>\n       \\<Longrightarrow> t = t1 \\<or> t = t2", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2; flow0 x t \\<in> {a<--<b};\n        \\<not> (t = t1 \\<or> t = t2)\\<rbrakk>\n       \\<Longrightarrow> False", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2; flow0 x t \\<in> {a<--<b};\n        \\<not> (t = t1 \\<or> t = t2)\\<rbrakk>\n       \\<Longrightarrow> False", "assume t: \"t1 \\<le> t\" \"t \\<le> t2\" \"flow0 x t \\<in> {a<--<b}\" \"\\<not>(t= t1 \\<or> t = t2)\""], ["proof (state)\nthis:\n  t1 \\<le> t\n  t \\<le> t2\n  flow0 x t \\<in> {a<--<b}\n  \\<not> (t = t1 \\<or> t = t2)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2; flow0 x t \\<in> {a<--<b};\n        \\<not> (t = t1 \\<or> t = t2)\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t1 \\<le> t\n  t \\<le> t2\n  flow0 x t \\<in> {a<--<b}\n  \\<not> (t = t1 \\<or> t = t2)", "have \"t \\<in> {t1<..<t2}\""], ["proof (prove)\nusing this:\n  t1 \\<le> t\n  t \\<le> t2\n  flow0 x t \\<in> {a<--<b}\n  \\<not> (t = t1 \\<or> t = t2)\n\ngoal (1 subgoal):\n 1. t \\<in> {t1<..<t2}", "by auto"], ["proof (state)\nthis:\n  t \\<in> {t1<..<t2}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2; flow0 x t \\<in> {a<--<b};\n        \\<not> (t = t1 \\<or> t = t2)\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t \\<in> {t1<..<t2}", "have \"flow0 x t \\<notin> {a<--<b}\""], ["proof (prove)\nusing this:\n  t \\<in> {t1<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<b}", "using t1t2"], ["proof (prove)\nusing this:\n  t \\<in> {t1<..<t2}\n  ?t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<b}", "by blast"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2; flow0 x t \\<in> {a<--<b};\n        \\<not> (t = t1 \\<or> t = t2)\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  flow0 x t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. False", "using t"], ["proof (prove)\nusing this:\n  flow0 x t \\<notin> {a<--<b}\n  t1 \\<le> t\n  t \\<le> t2\n  flow0 x t \\<in> {a<--<b}\n  \\<not> (t = t1 \\<or> t = t2)\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2; flow0 x ?t2 \\<in> {a<--<b}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2; flow0 x ?t2 \\<in> {a<--<b}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2", "have intereqt12: \"\\<And>t. t1 \\<le> t \\<Longrightarrow> t \\<le> t2 \\<Longrightarrow> flow0 x t \\<in> {flow0 x t1--flow0 x t2} \\<Longrightarrow>  t = t1 \\<or> t = t2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2; flow0 x ?t2 \\<in> {a<--<b}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2;\n        flow0 x t \\<in> {flow0 x t1--flow0 x t2}\\<rbrakk>\n       \\<Longrightarrow> t = t1 \\<or> t = t2", "using t12sub"], ["proof (prove)\nusing this:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2; flow0 x ?t2 \\<in> {a<--<b}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2\n  {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t1 \\<le> t; t \\<le> t2;\n        flow0 x t \\<in> {flow0 x t1--flow0 x t2}\\<rbrakk>\n       \\<Longrightarrow> t = t1 \\<or> t = t2", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2;\n   flow0 x ?t2 \\<in> {flow0 x t1--flow0 x t2}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* The Jordan curve *)"], ["proof (state)\nthis:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2;\n   flow0 x ?t2 \\<in> {flow0 x t1--flow0 x t2}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define J1 where \"J1 = flow_to_path x t1 t2\""], ["proof (state)\nthis:\n  J1 = flow_to_path x t1 t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define J2 where \"J2 = linepath (flow0 x t2) (flow0 x t1)\""], ["proof (state)\nthis:\n  J2 = linepath (flow0 x t2) (flow0 x t1)\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define J where \"J = J1 +++ J2\""], ["proof (state)\nthis:\n  J = J1 +++ J2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* Proof that J is a Jordan curve *)"], ["proof (state)\nthis:\n  J = J1 +++ J2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"pathfinish J = pathstart J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish J = pathstart J", "unfolding J_def J1_def J2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish\n     (flow_to_path x t1 t2 +++ linepath (flow0 x t2) (flow0 x t1)) =\n    pathstart (flow_to_path x t1 t2 +++ linepath (flow0 x t2) (flow0 x t1))", "by (auto simp add: pathstart_compose pathfinish_compose)"], ["proof (state)\nthis:\n  pathfinish J = pathstart J\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have piJ: \"path_image J = path_image J1 \\<union> path_image J2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image J = path_image J1 \\<union> path_image J2", "unfolding J_def J1_def J2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image\n     (flow_to_path x t1 t2 +++ linepath (flow0 x t2) (flow0 x t1)) =\n    path_image (flow_to_path x t1 t2) \\<union>\n    path_image (linepath (flow0 x t2) (flow0 x t1))", "apply (rule path_image_join)"], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish (flow_to_path x t1 t2) =\n    pathstart (linepath (flow0 x t2) (flow0 x t1))", "by auto"], ["proof (state)\nthis:\n  path_image J = path_image J1 \\<union> path_image J2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and> flow0 x t2 \\<in> flow0 x ` {t1..t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and>\n    flow0 x t2 \\<in> flow0 x ` {t1..t2}", "using atLeastAtMost_iff \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  (?i \\<in> {?l..?u}) = (?l \\<le> ?i \\<and> ?i \\<le> ?u)\n  t1 \\<le> t2\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and>\n    flow0 x t2 \\<in> flow0 x ` {t1..t2}", "by blast"], ["proof (state)\nthis:\n  flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and>\n  flow0 x t2 \\<in> flow0 x ` {t1..t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and>\n  flow0 x t2 \\<in> flow0 x ` {t1..t2}", "have piD: \"path_image J = path_image J1 \\<union> {flow0 x t1 <--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and>\n  flow0 x t2 \\<in> flow0 x ` {t1..t2}\n\ngoal (1 subgoal):\n 1. path_image J = path_image J1 \\<union> {flow0 x t1<--<flow0 x t2}", "unfolding piJ J1_def J2_def path_image_flow_to_path[OF \\<open>t1 \\<le> t2\\<close>]\n      path_image_linepath open_segment_def"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> flow0 x ` {t1..t2} \\<and>\n  flow0 x t2 \\<in> flow0 x ` {t1..t2}\n\ngoal (1 subgoal):\n 1. flow0 x ` {t1..t2} \\<union> {flow0 x t2--flow0 x t1} =\n    flow0 x ` {t1..t2} \\<union>\n    ({flow0 x t1--flow0 x t2} - {flow0 x t1, flow0 x t2})", "by (smt Diff_idemp Diff_insert2 Un_Diff_cancel closed_segment_commute mk_disjoint_insert)"], ["proof (state)\nthis:\n  path_image J = path_image J1 \\<union> {flow0 x t1<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"\\<forall>s\\<in>{t1<..<t2}. flow0 x s \\<noteq> flow0 x t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>{t1<..<t2}. flow0 x s \\<noteq> flow0 x t1", "using x1 t1t2"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<b}\n  ?t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>{t1<..<t2}. flow0 x s \\<noteq> flow0 x t1", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>s\\<in>{t1<..<t2}. flow0 x s \\<noteq> flow0 x t1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from flow_to_path_arc[OF \\<open>t1 \\<le> t2\\<close> exist this x1neqx2]"], ["proof (chain)\npicking this:\n  arc (flow_to_path x t1 t2)", "have \"arc J1\""], ["proof (prove)\nusing this:\n  arc (flow_to_path x t1 t2)\n\ngoal (1 subgoal):\n 1. arc J1", "using J1_def assms flow_to_path_arc"], ["proof (prove)\nusing this:\n  arc (flow_to_path x t1 t2)\n  J1 = flow_to_path x t1 t2\n  transversal_segment a b\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  ?t2 \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t2 \\<notin> {a<--<b}\n  t2 < t\n  t \\<in> existence_ivl0 x\n  \\<lbrakk>?t \\<le> ?t'; {?t..?t'} \\<subseteq> existence_ivl0 ?x;\n   \\<forall>s\\<in>{?t<..<?t'}. flow0 ?x s \\<noteq> flow0 ?x ?t;\n   flow0 ?x ?t \\<noteq> flow0 ?x ?t'\\<rbrakk>\n  \\<Longrightarrow> arc (flow_to_path ?x ?t ?t')\n\ngoal (1 subgoal):\n 1. arc J1", "by auto"], ["proof (state)\nthis:\n  arc J1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  arc J1", "have \"simple_path J\""], ["proof (prove)\nusing this:\n  arc J1\n\ngoal (1 subgoal):\n 1. simple_path J", "unfolding J_def"], ["proof (prove)\nusing this:\n  arc J1\n\ngoal (1 subgoal):\n 1. simple_path (J1 +++ J2)", "using \\<open>arc J1\\<close> J1_def J2_def assms x1neqx2 t1neqt2"], ["proof (prove)\nusing this:\n  arc J1\n  arc J1\n  J1 = flow_to_path x t1 t2\n  J2 = linepath (flow0 x t2) (flow0 x t1)\n  transversal_segment a b\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  ?t2 \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t2 \\<notin> {a<--<b}\n  t2 < t\n  t \\<in> existence_ivl0 x\n  flow0 x t1 \\<noteq> flow0 x t2\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. simple_path (J1 +++ J2)", "apply (auto intro!:simple_path_join_loop)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>arc (flow_to_path x t1 t2); J1 = flow_to_path x t1 t2;\n        J2 = linepath (flow0 x t2) (flow0 x t1); transversal_segment a b;\n        {t1..t2} \\<subseteq> existence_ivl0 x; flow0 x t1 \\<in> {a<--<b};\n        flow0 x t2 \\<in> {flow0 x t1<--<b};\n        \\<And>t.\n           t1 < t \\<and> t < t2 \\<Longrightarrow>\n           flow0 x t \\<notin> {a<--<b};\n        t2 < t; t \\<in> existence_ivl0 x; flow0 x t1 \\<noteq> flow0 x t2;\n        t1 \\<noteq> t2; flow0 x xa \\<noteq> flow0 x t1;\n        flow0 x xa \\<in> {flow0 x t2--flow0 x t1}; t1 \\<le> xa;\n        xa \\<le> t2\\<rbrakk>\n       \\<Longrightarrow> flow0 x xa = flow0 x t2", "using intereqt12 closed_segment_commute"], ["proof (prove)\nusing this:\n  \\<lbrakk>t1 \\<le> ?t2; ?t2 \\<le> t2;\n   flow0 x ?t2 \\<in> {flow0 x t1--flow0 x t2}\\<rbrakk>\n  \\<Longrightarrow> ?t2 = t1 \\<or> ?t2 = t2\n  {?a--?b} = {?b--?a}\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>arc (flow_to_path x t1 t2); J1 = flow_to_path x t1 t2;\n        J2 = linepath (flow0 x t2) (flow0 x t1); transversal_segment a b;\n        {t1..t2} \\<subseteq> existence_ivl0 x; flow0 x t1 \\<in> {a<--<b};\n        flow0 x t2 \\<in> {flow0 x t1<--<b};\n        \\<And>t.\n           t1 < t \\<and> t < t2 \\<Longrightarrow>\n           flow0 x t \\<notin> {a<--<b};\n        t2 < t; t \\<in> existence_ivl0 x; flow0 x t1 \\<noteq> flow0 x t2;\n        t1 \\<noteq> t2; flow0 x xa \\<noteq> flow0 x t1;\n        flow0 x xa \\<in> {flow0 x t2--flow0 x t1}; t1 \\<le> xa;\n        xa \\<le> t2\\<rbrakk>\n       \\<Longrightarrow> flow0 x xa = flow0 x t2", "by blast"], ["proof (state)\nthis:\n  simple_path J\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from Jordan_inside_outside_R2[OF this \\<open>pathfinish J = pathstart J\\<close>]"], ["proof (chain)\npicking this:\n  inside (path_image J) \\<noteq> {} \\<and>\n  open (inside (path_image J)) \\<and>\n  connected (inside (path_image J)) \\<and>\n  outside (path_image J) \\<noteq> {} \\<and>\n  open (outside (path_image J)) \\<and>\n  connected (outside (path_image J)) \\<and>\n  bounded (inside (path_image J)) \\<and>\n  \\<not> bounded (outside (path_image J)) \\<and>\n  inside (path_image J) \\<inter> outside (path_image J) = {} \\<and>\n  inside (path_image J) \\<union> outside (path_image J) =\n  - path_image J \\<and>\n  frontier (inside (path_image J)) = path_image J \\<and>\n  frontier (outside (path_image J)) = path_image J", "obtain inner outer where inner_def: \"inner = inside (path_image J)\"\n    and outer_def: \"outer = outside (path_image J)\"\n    and io:\n    \"inner \\<noteq> {}\" \"open inner\" \"connected inner\"\n    \"outer \\<noteq> {}\" \"open outer\" \"connected outer\"\n    \"bounded inner\" \"\\<not> bounded outer\" \"inner \\<inter> outer = {}\"\n    \"inner \\<union> outer = - path_image J\"\n    \"frontier inner = path_image J\"\n    \"frontier outer = path_image J\""], ["proof (prove)\nusing this:\n  inside (path_image J) \\<noteq> {} \\<and>\n  open (inside (path_image J)) \\<and>\n  connected (inside (path_image J)) \\<and>\n  outside (path_image J) \\<noteq> {} \\<and>\n  open (outside (path_image J)) \\<and>\n  connected (outside (path_image J)) \\<and>\n  bounded (inside (path_image J)) \\<and>\n  \\<not> bounded (outside (path_image J)) \\<and>\n  inside (path_image J) \\<inter> outside (path_image J) = {} \\<and>\n  inside (path_image J) \\<union> outside (path_image J) =\n  - path_image J \\<and>\n  frontier (inside (path_image J)) = path_image J \\<and>\n  frontier (outside (path_image J)) = path_image J\n\ngoal (1 subgoal):\n 1. (\\<And>inner outer.\n        \\<lbrakk>inner = inside (path_image J);\n         outer = outside (path_image J); inner \\<noteq> {}; open inner;\n         connected inner; outer \\<noteq> {}; open outer; connected outer;\n         bounded inner; \\<not> bounded outer; inner \\<inter> outer = {};\n         inner \\<union> outer = - path_image J;\n         frontier inner = path_image J;\n         frontier outer = path_image J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  inner = inside (path_image J)\n  outer = outside (path_image J)\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image J\n  frontier inner = path_image J\n  frontier outer = path_image J\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from io"], ["proof (chain)\npicking this:\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image J\n  frontier inner = path_image J\n  frontier outer = path_image J", "have io2: \"outer \\<inter> inner = {}\" \"outer \\<union> inner = - path_image J\""], ["proof (prove)\nusing this:\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image J\n  frontier inner = path_image J\n  frontier outer = path_image J\n\ngoal (1 subgoal):\n 1. outer \\<inter> inner = {} &&& outer \\<union> inner = - path_image J", "by auto"], ["proof (state)\nthis:\n  outer \\<inter> inner = {}\n  outer \\<union> inner = - path_image J\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have swap_side: \"\\<And>y t. y \\<in> side2 \\<Longrightarrow>\n    0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 y \\<Longrightarrow>\n    flow0 y t \\<in> closure side1 \\<Longrightarrow>\n    \\<exists>T. 0 < T \\<and> T \\<le> t \\<and> (\\<forall>s \\<in>{0..<T}. flow0 y s \\<in> side2) \\<and>\n        flow0 y T \\<in> {flow0 x t1--<flow0 x t2}\"\n    if \"side1 \\<inter> side2 = {}\"\n      \"open side2\"\n      \"frontier side1 = path_image J\"\n      \"frontier side2 = path_image J\"\n      \"side1 \\<union> side2 = - path_image J\"\n    for side1 side2"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "fix y t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "assume yt: \"y \\<in> side2\" \"0 \\<le> t\" \"t \\<in> existence_ivl0 y\"\n      \"flow0 y t \\<in> closure side1\""], ["proof (state)\nthis:\n  y \\<in> side2\n  0 \\<le> t\n  t \\<in> existence_ivl0 y\n  flow0 y t \\<in> closure side1\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "define fp where \"fp = flow_to_path y 0 t\""], ["proof (state)\nthis:\n  fp = flow_to_path y 0 t\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have ex:\"{0..t} \\<subseteq> existence_ivl0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..t} \\<subseteq> existence_ivl0 y", "using ivl_subset_existence_ivl yt(3)"], ["proof (prove)\nusing this:\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  {0..?t} \\<subseteq> existence_ivl0 ?x0.0\n  t \\<in> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. {0..t} \\<subseteq> existence_ivl0 y", "by blast"], ["proof (state)\nthis:\n  {0..t} \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {0..t} \\<subseteq> existence_ivl0 y", "have y0:\"flow0 y 0 = y\""], ["proof (prove)\nusing this:\n  {0..t} \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. flow0 y 0 = y", "using mem_existence_ivl_iv_defined(2) yt(3)"], ["proof (prove)\nusing this:\n  {0..t} \\<subseteq> existence_ivl0 y\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n  t \\<in> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. flow0 y 0 = y", "by auto"], ["proof (state)\nthis:\n  flow0 y 0 = y\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 y 0 = y", "have tpos: \"t > 0\""], ["proof (prove)\nusing this:\n  flow0 y 0 = y\n\ngoal (1 subgoal):\n 1. 0 < t", "using yt(2)  \\<open>side1 \\<inter> side2 = {}\\<close>"], ["proof (prove)\nusing this:\n  flow0 y 0 = y\n  0 \\<le> t\n  side1 \\<inter> side2 = {}\n\ngoal (1 subgoal):\n 1. 0 < t", "using yt(1) yt(4)"], ["proof (prove)\nusing this:\n  flow0 y 0 = y\n  0 \\<le> t\n  side1 \\<inter> side2 = {}\n  y \\<in> side2\n  flow0 y t \\<in> closure side1\n\ngoal (1 subgoal):\n 1. 0 < t", "by (metis closure_iff_nhds_not_empty less_eq_real_def order_refl that(2))"], ["proof (state)\nthis:\n  0 < t\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "from flow_to_path_path[OF yt(2) ex]"], ["proof (chain)\npicking this:\n  path (flow_to_path y 0 t)", "have a1: \"path fp\""], ["proof (prove)\nusing this:\n  path (flow_to_path y 0 t)\n\ngoal (1 subgoal):\n 1. path fp", "unfolding fp_def"], ["proof (prove)\nusing this:\n  path (flow_to_path y 0 t)\n\ngoal (1 subgoal):\n 1. path (flow_to_path y 0 t)", "."], ["proof (state)\nthis:\n  path fp\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have \"y \\<in> closure side2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> closure side2", "using yt(1)"], ["proof (prove)\nusing this:\n  y \\<in> side2\n\ngoal (1 subgoal):\n 1. y \\<in> closure side2", "by (simp add: assms closure_def)"], ["proof (state)\nthis:\n  y \\<in> closure side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  y \\<in> closure side2", "have a2: \"pathstart fp \\<in> closure side2\""], ["proof (prove)\nusing this:\n  y \\<in> closure side2\n\ngoal (1 subgoal):\n 1. pathstart fp \\<in> closure side2", "unfolding fp_def"], ["proof (prove)\nusing this:\n  y \\<in> closure side2\n\ngoal (1 subgoal):\n 1. pathstart (flow_to_path y 0 t) \\<in> closure side2", "using y0"], ["proof (prove)\nusing this:\n  y \\<in> closure side2\n  flow0 y 0 = y\n\ngoal (1 subgoal):\n 1. pathstart (flow_to_path y 0 t) \\<in> closure side2", "by auto"], ["proof (state)\nthis:\n  pathstart fp \\<in> closure side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have a3:\"pathfinish fp \\<notin> side2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish fp \\<notin> side2", "using yt(4) \\<open>side1 \\<inter> side2 = {}\\<close>"], ["proof (prove)\nusing this:\n  flow0 y t \\<in> closure side1\n  side1 \\<inter> side2 = {}\n\ngoal (1 subgoal):\n 1. pathfinish fp \\<notin> side2", "unfolding fp_def"], ["proof (prove)\nusing this:\n  flow0 y t \\<in> closure side1\n  side1 \\<inter> side2 = {}\n\ngoal (1 subgoal):\n 1. pathfinish (flow_to_path y 0 t) \\<notin> side2", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>flow0 y t \\<in> closure side1; side1 \\<inter> side2 = {};\n     flow0 y t \\<in> side2\\<rbrakk>\n    \\<Longrightarrow> False", "using closure_iff_nhds_not_empty that(2)"], ["proof (prove)\nusing this:\n  (?x \\<in> closure ?X) =\n  (\\<forall>A S.\n      S \\<subseteq> A \\<longrightarrow>\n      open S \\<longrightarrow>\n      ?x \\<in> S \\<longrightarrow> ?X \\<inter> A \\<noteq> {})\n  open side2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>flow0 y t \\<in> closure side1; side1 \\<inter> side2 = {};\n     flow0 y t \\<in> side2\\<rbrakk>\n    \\<Longrightarrow> False", "by blast"], ["proof (state)\nthis:\n  pathfinish fp \\<notin> side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "from subpath_to_frontier_strong[OF a1 a3]"], ["proof (chain)\npicking this:\n  (\\<And>u.\n      \\<lbrakk>0 \\<le> u; u \\<le> 1; fp u \\<notin> interior side2;\n       u = 0 \\<or>\n       (\\<forall>x.\n           0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n           subpath 0 u fp x \\<in> interior side2) \\<and>\n       fp u \\<in> closure side2\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain u where u:\"0 \\<le> u\" \"u \\<le> 1\"\n      \"fp u \\<notin> interior side2\"\n      \"u = 0 \\<or>\n      (\\<forall>x. 0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n        subpath 0 u fp x \\<in> interior side2) \\<and> fp u \\<in> closure side2\""], ["proof (prove)\nusing this:\n  (\\<And>u.\n      \\<lbrakk>0 \\<le> u; u \\<le> 1; fp u \\<notin> interior side2;\n       u = 0 \\<or>\n       (\\<forall>x.\n           0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n           subpath 0 u fp x \\<in> interior side2) \\<and>\n       fp u \\<in> closure side2\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>0 \\<le> u; u \\<le> 1; fp u \\<notin> interior side2;\n         u = 0 \\<or>\n         (\\<forall>x.\n             0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n             subpath 0 u fp x \\<in> interior side2) \\<and>\n         fp u \\<in> closure side2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 \\<le> u\n  u \\<le> 1\n  fp u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      subpath 0 u fp x \\<in> interior side2) \\<and>\n  fp u \\<in> closure side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have p1:\"path_image (subpath 0 u fp) =  flow0 y ` {0 ..  u*t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image (subpath 0 u fp) = flow0 y ` {0..u * t}", "unfolding fp_def subpath0_flow_to_path"], ["proof (prove)\ngoal (1 subgoal):\n 1. path_image (flow_to_path y 0 (0 + u * (t - 0))) = flow0 y ` {0..u * t}", "using path_image_flow_to_path"], ["proof (prove)\nusing this:\n  ?t \\<le> ?t' \\<Longrightarrow>\n  path_image (flow_to_path ?x ?t ?t') = flow0 ?x ` {?t..?t'}\n\ngoal (1 subgoal):\n 1. path_image (flow_to_path y 0 (0 + u * (t - 0))) = flow0 y ` {0..u * t}", "by (simp add: u(1) yt(2))"], ["proof (state)\nthis:\n  path_image (subpath 0 u fp) = flow0 y ` {0..u * t}\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have p2:\"fp u = flow0 y (u*t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fp u = flow0 y (u * t)", "unfolding fp_def flow_to_path_unfold"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 y ((1 - u) * 0 + u * t) = flow0 y (u * t)", "by simp"], ["proof (state)\nthis:\n  fp u = flow0 y (u * t)\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have inout:\"interior side2 = side2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. interior side2 = side2", "using \\<open>open side2\\<close>"], ["proof (prove)\nusing this:\n  open side2\n\ngoal (1 subgoal):\n 1. interior side2 = side2", "by (simp add: interior_eq)"], ["proof (state)\nthis:\n  interior side2 = side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  interior side2 = side2", "have iemp: \"side2 \\<inter> path_image J = {}\""], ["proof (prove)\nusing this:\n  interior side2 = side2\n\ngoal (1 subgoal):\n 1. side2 \\<inter> path_image J = {}", "using \\<open>frontier side2 = path_image J\\<close>"], ["proof (prove)\nusing this:\n  interior side2 = side2\n  frontier side2 = path_image J\n\ngoal (1 subgoal):\n 1. side2 \\<inter> path_image J = {}", "by (metis frontier_disjoint_eq inf_sup_aci(1) interior_eq)"], ["proof (state)\nthis:\n  side2 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have \"u \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> 0", "using inout u(3) y0 p2 yt(1)"], ["proof (prove)\nusing this:\n  interior side2 = side2\n  fp u \\<notin> interior side2\n  flow0 y 0 = y\n  fp u = flow0 y (u * t)\n  y \\<in> side2\n\ngoal (1 subgoal):\n 1. u \\<noteq> 0", "by force"], ["proof (state)\nthis:\n  u \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  u \\<noteq> 0", "have c1:\"u * t > 0\""], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < u * t", "using tpos u y0  \\<open>side1 \\<inter> side2 = {}\\<close>"], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n  0 < t\n  0 \\<le> u\n  u \\<le> 1\n  fp u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      subpath 0 u fp x \\<in> interior side2) \\<and>\n  fp u \\<in> closure side2\n  flow0 y 0 = y\n  side1 \\<inter> side2 = {}\n\ngoal (1 subgoal):\n 1. 0 < u * t", "using frontier_disjoint_eq io(5) yt(1) zero_less_mult_iff"], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n  0 < t\n  0 \\<le> u\n  u \\<le> 1\n  fp u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      subpath 0 u fp x \\<in> interior side2) \\<and>\n  fp u \\<in> closure side2\n  flow0 y 0 = y\n  side1 \\<inter> side2 = {}\n  (frontier ?S \\<inter> ?S = {}) = open ?S\n  open outer\n  y \\<in> side2\n  ((0::?'a) < ?a * ?b) =\n  ((0::?'a) < ?a \\<and> (0::?'a) < ?b \\<or>\n   ?a < (0::?'a) \\<and> ?b < (0::?'a))\n\ngoal (1 subgoal):\n 1. 0 < u * t", "by fastforce"], ["proof (state)\nthis:\n  0 < u * t\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have uim:\"fp u \\<in> path_image J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fp u \\<in> path_image J", "using u \\<open>u \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> u\n  u \\<le> 1\n  fp u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      subpath 0 u fp x \\<in> interior side2) \\<and>\n  fp u \\<in> closure side2\n  u \\<noteq> 0\n\ngoal (1 subgoal):\n 1. fp u \\<in> path_image J", "using \\<open>frontier side2 = path_image J\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> u\n  u \\<le> 1\n  fp u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      subpath 0 u fp x \\<in> interior side2) \\<and>\n  fp u \\<in> closure side2\n  u \\<noteq> 0\n  frontier side2 = path_image J\n\ngoal (1 subgoal):\n 1. fp u \\<in> path_image J", "by (metis ComplI IntI closure_subset frontier_closures inout subsetD)"], ["proof (state)\nthis:\n  fp u \\<in> path_image J\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have c2:\"u * t \\<le> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u * t \\<le> t", "using u(1-2) tpos"], ["proof (prove)\nusing this:\n  0 \\<le> u\n  u \\<le> 1\n  0 < t\n\ngoal (1 subgoal):\n 1. u * t \\<le> t", "by auto"], ["proof (state)\nthis:\n  u * t \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have\"(flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2", "using \\<open>u \\<noteq> 0\\<close> u inout"], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n  0 \\<le> u\n  u \\<le> 1\n  fp u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      subpath 0 u fp x \\<in> interior side2) \\<and>\n  fp u \\<in> closure side2\n  interior side2 = side2\n\ngoal (1 subgoal):\n 1. flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2", "unfolding fp_def subpath0_flow_to_path"], ["proof (prove)\nusing this:\n  u \\<noteq> 0\n  0 \\<le> u\n  u \\<le> 1\n  flow_to_path y 0 t u \\<notin> interior side2\n  u = 0 \\<or>\n  (\\<forall>x.\n      0 \\<le> x \\<and> x < 1 \\<longrightarrow>\n      flow_to_path y 0 (0 + u * (t - 0)) x \\<in> interior side2) \\<and>\n  flow_to_path y 0 t u \\<in> closure side2\n  interior side2 = side2\n\ngoal (1 subgoal):\n 1. flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2", "by auto"], ["proof (state)\nthis:\n  flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2", "have c3:\"\\<forall>s \\<in>{0..<u*t}. flow0 y s \\<in> side2\""], ["proof (prove)\nusing this:\n  flow_to_path y 0 (u * t) ` {0..<1} \\<subseteq> side2\n\ngoal (1 subgoal):\n 1. \\<forall>s\\<in>{0..<u * t}. flow0 y s \\<in> side2", "by auto"], ["proof (state)\nthis:\n  \\<forall>s\\<in>{0..<u * t}. flow0 y s \\<in> side2\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have c4: \"flow0 y (u*t) \\<in> path_image J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<in> path_image J", "using uim path_image_join_subset"], ["proof (prove)\nusing this:\n  fp u \\<in> path_image J\n  path_image (?g1.0 +++ ?g2.0)\n  \\<subseteq> path_image ?g1.0 \\<union> path_image ?g2.0\n\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<in> path_image J", "by (simp add: p2)"], ["proof (state)\nthis:\n  flow0 y (u * t) \\<in> path_image J\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "have \"flow0 y (u*t) \\<notin> path_image J1 \\<or> flow0 y (u*t) = flow0 x t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<notin> path_image J1 \\<or>\n    flow0 y (u * t) = flow0 x t1", "proof clarsimp"], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<in> path_image J1 \\<Longrightarrow>\n    flow0 y (u * t) = flow0 x t1", "assume \"flow0 y (u*t) \\<in> path_image J1\""], ["proof (state)\nthis:\n  flow0 y (u * t) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<in> path_image J1 \\<Longrightarrow>\n    flow0 y (u * t) = flow0 x t1", "then"], ["proof (chain)\npicking this:\n  flow0 y (u * t) \\<in> path_image J1", "obtain s where s: \"t1 \\<le> s\" \"s \\<le> t2\" \"flow0 x s = flow0 y (u*t)\""], ["proof (prove)\nusing this:\n  flow0 y (u * t) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>t1 \\<le> s; s \\<le> t2;\n         flow0 x s = flow0 y (u * t)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using J1_def \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  flow0 y (u * t) \\<in> path_image J1\n  J1 = flow_to_path x t1 t2\n  t1 \\<le> t2\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>t1 \\<le> s; s \\<le> t2;\n         flow0 x s = flow0 y (u * t)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  t1 \\<le> s\n  s \\<le> t2\n  flow0 x s = flow0 y (u * t)\n\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<in> path_image J1 \\<Longrightarrow>\n    flow0 y (u * t) = flow0 x t1", "have \"s = t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s = t1", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "assume \"s \\<noteq> t1\""], ["proof (state)\nthis:\n  s \\<noteq> t1\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  s \\<noteq> t1", "have st1:\"s > t1\""], ["proof (prove)\nusing this:\n  s \\<noteq> t1\n\ngoal (1 subgoal):\n 1. t1 < s", "using s(1)"], ["proof (prove)\nusing this:\n  s \\<noteq> t1\n  t1 \\<le> s\n\ngoal (1 subgoal):\n 1. t1 < s", "by linarith"], ["proof (state)\nthis:\n  t1 < s\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "define sc where \"sc = min (s-t1) (u*t)\""], ["proof (state)\nthis:\n  sc = min (s - t1) (u * t)\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "have scd: \"s-sc \\<in> {t1..t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s - sc \\<in> {t1..t2}", "unfolding sc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. s - min (s - t1) (u * t) \\<in> {t1..t2}", "using c1 s(1) s(2)"], ["proof (prove)\nusing this:\n  0 < u * t\n  t1 \\<le> s\n  s \\<le> t2\n\ngoal (1 subgoal):\n 1. s - min (s - t1) (u * t) \\<in> {t1..t2}", "by auto"], ["proof (state)\nthis:\n  s - sc \\<in> {t1..t2}\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  s - sc \\<in> {t1..t2}", "have *:\"flow0 x (s-sc) \\<in> path_image J1\""], ["proof (prove)\nusing this:\n  s - sc \\<in> {t1..t2}\n\ngoal (1 subgoal):\n 1. flow0 x (s - sc) \\<in> path_image J1", "unfolding J1_def path_image_flow_to_path[OF \\<open>t1 \\<le> t2\\<close>]"], ["proof (prove)\nusing this:\n  s - sc \\<in> {t1..t2}\n\ngoal (1 subgoal):\n 1. flow0 x (s - sc) \\<in> flow0 x ` {t1..t2}", "by blast"], ["proof (state)\nthis:\n  flow0 x (s - sc) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "have \"flow0 x (s-sc) = flow0 (flow0 x s) (-sc)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (s - sc) = flow0 (flow0 x s) (- sc)", "by (smt exist atLeastAtMost_iff existence_ivl_trans' flow_trans s(1) s(2) scd subsetD)"], ["proof (state)\nthis:\n  flow0 x (s - sc) = flow0 (flow0 x s) (- sc)\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  flow0 x (s - sc) = flow0 (flow0 x s) (- sc)", "have **:\"flow0 (flow0 y (u*t)) (-sc)  \\<in> path_image J1\""], ["proof (prove)\nusing this:\n  flow0 x (s - sc) = flow0 (flow0 x s) (- sc)\n\ngoal (1 subgoal):\n 1. flow0 (flow0 y (u * t)) (- sc) \\<in> path_image J1", "using s(3) *"], ["proof (prove)\nusing this:\n  flow0 x (s - sc) = flow0 (flow0 x s) (- sc)\n  flow0 x s = flow0 y (u * t)\n  flow0 x (s - sc) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. flow0 (flow0 y (u * t)) (- sc) \\<in> path_image J1", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 y (u * t)) (- sc) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "have b:\"u*t - sc \\<in> {0..<u*t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u * t - sc \\<in> {0..<u * t}", "unfolding sc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. u * t - min (s - t1) (u * t) \\<in> {0..<u * t}", "by (simp add: st1 c1 s(1))"], ["proof (state)\nthis:\n  u * t - sc \\<in> {0..<u * t}\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  u * t - sc \\<in> {0..<u * t}", "have \"u*t - sc \\<in> existence_ivl0 y\""], ["proof (prove)\nusing this:\n  u * t - sc \\<in> {0..<u * t}\n\ngoal (1 subgoal):\n 1. u * t - sc \\<in> existence_ivl0 y", "using c2 ex"], ["proof (prove)\nusing this:\n  u * t - sc \\<in> {0..<u * t}\n  u * t \\<le> t\n  {0..t} \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. u * t - sc \\<in> existence_ivl0 y", "by auto"], ["proof (state)\nthis:\n  u * t - sc \\<in> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  u * t - sc \\<in> existence_ivl0 y", "have \"flow0 y (u*t - sc) \\<in> path_image J1\""], ["proof (prove)\nusing this:\n  u * t - sc \\<in> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. flow0 y (u * t - sc) \\<in> path_image J1", "using **"], ["proof (prove)\nusing this:\n  u * t - sc \\<in> existence_ivl0 y\n  flow0 (flow0 y (u * t)) (- sc) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. flow0 y (u * t - sc) \\<in> path_image J1", "by (smt atLeastAtMost_iff diff_existence_ivl_trans ex flow_trans mult_left_le_one_le mult_nonneg_nonneg subset_eq u(1) u(2) yt(2))"], ["proof (state)\nthis:\n  flow0 y (u * t - sc) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. s \\<noteq> t1 \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  flow0 y (u * t - sc) \\<in> path_image J1\n\ngoal (1 subgoal):\n 1. False", "using b c3 iemp piJ"], ["proof (prove)\nusing this:\n  flow0 y (u * t - sc) \\<in> path_image J1\n  u * t - sc \\<in> {0..<u * t}\n  \\<forall>s\\<in>{0..<u * t}. flow0 y s \\<in> side2\n  side2 \\<inter> path_image J = {}\n  path_image J = path_image J1 \\<union> path_image J2\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s = t1\n\ngoal (1 subgoal):\n 1. flow0 y (u * t) \\<in> path_image J1 \\<Longrightarrow>\n    flow0 y (u * t) = flow0 x t1", "thus \"flow0 y (u * t) = flow0 x t1\""], ["proof (prove)\nusing this:\n  s = t1\n\ngoal (1 subgoal):\n 1. flow0 y (u * t) = flow0 x t1", "using s"], ["proof (prove)\nusing this:\n  s = t1\n  t1 \\<le> s\n  s \\<le> t2\n  flow0 x s = flow0 y (u * t)\n\ngoal (1 subgoal):\n 1. flow0 y (u * t) = flow0 x t1", "by simp"], ["proof (state)\nthis:\n  flow0 y (u * t) = flow0 x t1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  flow0 y (u * t) \\<notin> path_image J1 \\<or> flow0 y (u * t) = flow0 x t1\n\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> side2; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure side1\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> side2) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "thus \"\\<exists>T>0. T \\<le> t \\<and> (\\<forall>s\\<in>{0..<T}. flow0 y s \\<in> side2) \\<and>\n          flow0 y T \\<in> {flow0 x t1--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  flow0 y (u * t) \\<notin> path_image J1 \\<or> flow0 y (u * t) = flow0 x t1\n\ngoal (1 subgoal):\n 1. \\<exists>T>0.\n       T \\<le> t \\<and>\n       (\\<forall>s\\<in>{0..<T}. flow0 y s \\<in> side2) \\<and>\n       flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "using c1 c2 c3 c4"], ["proof (prove)\nusing this:\n  flow0 y (u * t) \\<notin> path_image J1 \\<or> flow0 y (u * t) = flow0 x t1\n  0 < u * t\n  u * t \\<le> t\n  \\<forall>s\\<in>{0..<u * t}. flow0 y s \\<in> side2\n  flow0 y (u * t) \\<in> path_image J\n\ngoal (1 subgoal):\n 1. \\<exists>T>0.\n       T \\<le> t \\<and>\n       (\\<forall>s\\<in>{0..<T}. flow0 y s \\<in> side2) \\<and>\n       flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "unfolding piD"], ["proof (prove)\nusing this:\n  flow0 y (u * t) \\<notin> path_image J1 \\<or> flow0 y (u * t) = flow0 x t1\n  0 < u * t\n  u * t \\<le> t\n  \\<forall>s\\<in>{0..<u * t}. flow0 y s \\<in> side2\n  flow0 y (u * t) \\<in> path_image J1 \\<union> {flow0 x t1<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<exists>T>0.\n       T \\<le> t \\<and>\n       (\\<forall>s\\<in>{0..<T}. flow0 y s \\<in> side2) \\<and>\n       flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "by (metis DiffE UnE ends_in_segment(1) half_open_segment_closed_segmentI insertCI open_segment_def x1neqx2)"], ["proof (state)\nthis:\n  \\<exists>T>0.\n     T \\<le> t \\<and>\n     (\\<forall>s\\<in>{0..<T}. flow0 y s \\<in> side2) \\<and>\n     flow0 y T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?side1.3 \\<inter> ?side2.3 = {}; open ?side2.3;\n   frontier ?side1.3 = path_image J; frontier ?side2.3 = path_image J;\n   ?side1.3 \\<union> ?side2.3 = - path_image J; ?y2 \\<in> ?side2.3;\n   0 \\<le> ?t2; ?t2 \\<in> existence_ivl0 ?y2;\n   flow0 ?y2 ?t2 \\<in> closure ?side1.3\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T>0.\n                       T \\<le> ?t2 \\<and>\n                       (\\<forall>s\\<in>{0..<T}.\n                           flow0 ?y2 s \\<in> ?side2.3) \\<and>\n                       flow0 ?y2 T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have outside_in: \"\\<And>y t. y \\<in> outer \\<Longrightarrow>\n    0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 y \\<Longrightarrow>\n    flow0 y t \\<in> closure inner \\<Longrightarrow>\n    \\<exists>T. 0 < T \\<and> T \\<le> t \\<and> (\\<forall>s \\<in>{0..<T}. flow0 y s \\<in> outer) \\<and>\n          flow0 y T \\<in> {flow0 x t1--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> outer; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure inner\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> outer) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "by (rule swap_side; (rule io | assumption))"], ["proof (state)\nthis:\n  \\<lbrakk>?y2 \\<in> outer; 0 \\<le> ?t2; ?t2 \\<in> existence_ivl0 ?y2;\n   flow0 ?y2 ?t2 \\<in> closure inner\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T>0.\n                       T \\<le> ?t2 \\<and>\n                       (\\<forall>s\\<in>{0..<T}.\n                           flow0 ?y2 s \\<in> outer) \\<and>\n                       flow0 ?y2 T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have inside_out: \"\\<And>y t. y \\<in> inner \\<Longrightarrow>\n    0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 y \\<Longrightarrow>\n    flow0 y t \\<in> closure outer \\<Longrightarrow>\n    \\<exists>T. 0 < T \\<and> T \\<le> t \\<and> (\\<forall>s \\<in>{0..<T}. flow0 y s \\<in> inner) \\<and>\n          flow0 y T \\<in> {flow0 x t1--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y t.\n       \\<lbrakk>y \\<in> inner; 0 \\<le> t; t \\<in> existence_ivl0 y;\n        flow0 y t \\<in> closure outer\\<rbrakk>\n       \\<Longrightarrow> \\<exists>T>0.\n                            T \\<le> t \\<and>\n                            (\\<forall>s\\<in>{0..<T}.\n                                flow0 y s \\<in> inner) \\<and>\n                            flow0 y T \\<in> {flow0 x t1--<flow0 x t2}", "by (rule swap_side; (rule io2 io | assumption))"], ["proof (state)\nthis:\n  \\<lbrakk>?y2 \\<in> inner; 0 \\<le> ?t2; ?t2 \\<in> existence_ivl0 ?y2;\n   flow0 ?y2 ?t2 \\<in> closure outer\\<rbrakk>\n  \\<Longrightarrow> \\<exists>T>0.\n                       T \\<le> ?t2 \\<and>\n                       (\\<forall>s\\<in>{0..<T}.\n                           flow0 ?y2 s \\<in> inner) \\<and>\n                       flow0 ?y2 T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from leaves_transversal_segmentE[OF assms(1)]"], ["proof (chain)\npicking this:\n  (\\<And>T n.\n      \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n       \\<And>x.\n          x \\<in> {a--b} \\<Longrightarrow>\n          {- T..T} \\<subseteq> existence_ivl0 x;\n       \\<And>x s.\n          \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n          \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n       \\<And>x s.\n          \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n          \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain d n where d: \"d > (0::real)\"\n    and n: \"n = a - b \\<or> n = b - a\"\n    and d_ex: \"\\<And>x. x \\<in> {a -- b} \\<Longrightarrow> {-d..d} \\<subseteq> existence_ivl0 x\"\n    and d_above: \"\\<And>x s. x \\<in> {a -- b} \\<Longrightarrow> 0 < s \\<Longrightarrow> s \\<le> d \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n > 0\"\n    and d_below: \"\\<And>x s. x \\<in> {a -- b} \\<Longrightarrow> -d \\<le> s \\<Longrightarrow> s < 0 \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\""], ["proof (prove)\nusing this:\n  (\\<And>T n.\n      \\<lbrakk>0 < T; n = a - b \\<or> n = b - a;\n       \\<And>x.\n          x \\<in> {a--b} \\<Longrightarrow>\n          {- T..T} \\<subseteq> existence_ivl0 x;\n       \\<And>x s.\n          \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> T\\<rbrakk>\n          \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n       \\<And>x s.\n          \\<lbrakk>x \\<in> {a--b}; - T \\<le> s; s < 0\\<rbrakk>\n          \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d n.\n        \\<lbrakk>0 < d; n = a - b \\<or> n = b - a;\n         \\<And>x.\n            x \\<in> {a--b} \\<Longrightarrow>\n            {- d..d} \\<subseteq> existence_ivl0 x;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; 0 < s; s \\<le> d\\<rbrakk>\n            \\<Longrightarrow> 0 < (flow0 x s - x) \\<bullet> rot n;\n         \\<And>x s.\n            \\<lbrakk>x \\<in> {a--b}; - d \\<le> s; s < 0\\<rbrakk>\n            \\<Longrightarrow> (flow0 x s - x) \\<bullet> rot n < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < d\n  n = a - b \\<or> n = b - a\n  ?x2 \\<in> {a--b} \\<Longrightarrow> {- d..d} \\<subseteq> existence_ivl0 ?x2\n  \\<lbrakk>?x2 \\<in> {a--b}; 0 < ?s2; ?s2 \\<le> d\\<rbrakk>\n  \\<Longrightarrow> 0 < (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n\n  \\<lbrakk>?x2 \\<in> {a--b}; - d \\<le> ?s2; ?s2 < 0\\<rbrakk>\n  \\<Longrightarrow> (flow0 ?x2 ?s2 - ?x2) \\<bullet> rot n < 0\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have ortho: \"(a - b) \\<bullet> rot n = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a - b) \\<bullet> rot n = 0", "using n"], ["proof (prove)\nusing this:\n  n = a - b \\<or> n = b - a\n\ngoal (1 subgoal):\n 1. (a - b) \\<bullet> rot n = 0", "by (auto simp: algebra_simps)"], ["proof (state)\nthis:\n  (a - b) \\<bullet> rot n = 0\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* These \"rectangles\" are either fully inside or fully outside\n           |-----------------------|\n           |           r1          | (flow d)\n    a --- (t1) --- rp --- (t2) --- b\n    |          r2           | (flow -d)\n    |-----------------------|\n   *)"], ["proof (state)\nthis:\n  (a - b) \\<bullet> rot n = 0\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define r1 where \"r1 = (\\<lambda>(x, y). flow0 x y)`({flow0 x t1<--<b} \\<times> {0<..<d}) \""], ["proof (state)\nthis:\n  r1 = (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t1<--<b} \\<times> {0<..<d})\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have r1a1: \"path_connected {flow0 x t1 <--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected {flow0 x t1<--<b}", "by simp"], ["proof (state)\nthis:\n  path_connected {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have r1a2: \"path_connected {0<..<d}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected {0<..<d}", "by simp"], ["proof (state)\nthis:\n  path_connected {0<..<d}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"{flow0 x t1<--<b} \\<subseteq> {a--b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {flow0 x t1<--<b} \\<subseteq> {a--b}", "by (simp add: open_closed_segment subset_oc_segment x1)"], ["proof (state)\nthis:\n  {flow0 x t1<--<b} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {flow0 x t1<--<b} \\<subseteq> {a--b}", "have r1a3: \"y \\<in> {flow0 x t1<--<b} \\<Longrightarrow> {0<..<d} \\<subseteq> existence_ivl0 y\" for y"], ["proof (prove)\nusing this:\n  {flow0 x t1<--<b} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. y \\<in> {flow0 x t1<--<b} \\<Longrightarrow>\n    {0<..<d} \\<subseteq> existence_ivl0 y", "using d_ex[of y]"], ["proof (prove)\nusing this:\n  {flow0 x t1<--<b} \\<subseteq> {a--b}\n  y \\<in> {a--b} \\<Longrightarrow> {- d..d} \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. y \\<in> {flow0 x t1<--<b} \\<Longrightarrow>\n    {0<..<d} \\<subseteq> existence_ivl0 y", "by force"], ["proof (state)\nthis:\n  ?y2 \\<in> {flow0 x t1<--<b} \\<Longrightarrow>\n  {0<..<d} \\<subseteq> existence_ivl0 ?y2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from flow0_path_connected[OF r1a1 r1a2 r1a3]"], ["proof (chain)\npicking this:\n  (\\<And>xa.\n      xa \\<in> {flow0 x t1<--<b} \\<Longrightarrow>\n      xa \\<in> {flow0 x t1<--<b}) \\<Longrightarrow>\n  path_connected\n   ((\\<lambda>(x, y). flow0 x y) ` ({flow0 x t1<--<b} \\<times> {0<..<d}))", "have pcr1:\"path_connected r1\""], ["proof (prove)\nusing this:\n  (\\<And>xa.\n      xa \\<in> {flow0 x t1<--<b} \\<Longrightarrow>\n      xa \\<in> {flow0 x t1<--<b}) \\<Longrightarrow>\n  path_connected\n   ((\\<lambda>(x, y). flow0 x y) ` ({flow0 x t1<--<b} \\<times> {0<..<d}))\n\ngoal (1 subgoal):\n 1. path_connected r1", "unfolding r1_def"], ["proof (prove)\nusing this:\n  (\\<And>xa.\n      xa \\<in> {flow0 x t1<--<b} \\<Longrightarrow>\n      xa \\<in> {flow0 x t1<--<b}) \\<Longrightarrow>\n  path_connected\n   ((\\<lambda>(x, y). flow0 x y) ` ({flow0 x t1<--<b} \\<times> {0<..<d}))\n\ngoal (1 subgoal):\n 1. path_connected\n     ((\\<lambda>(x, y). flow0 x y) ` ({flow0 x t1<--<b} \\<times> {0<..<d}))", "by auto"], ["proof (state)\nthis:\n  path_connected r1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have pir1J1: \"r1 \\<inter> path_image J1 = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J1 = {}", "unfolding J1_def path_image_flow_to_path[OF \\<open>t1 \\<le> t2\\<close>]"], ["proof (prove)\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "assume \"r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}\""], ["proof (state)\nthis:\n  r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}", "obtain xx tt ss where\n      eq: \"flow0 xx tt = flow0 x ss\"\n      and xx: \"xx \\<in> {flow0 x t1<--<b}\"\n      and ss: \"t1 \\<le> ss\" \"ss \\<le> t2\"\n      and tt: \"0 < tt\" \"tt < d\""], ["proof (prove)\nusing this:\n  r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>xx tt ss.\n        \\<lbrakk>flow0 xx tt = flow0 x ss; xx \\<in> {flow0 x t1<--<b};\n         t1 \\<le> ss; ss \\<le> t2; 0 < tt; tt < d\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding r1_def"], ["proof (prove)\nusing this:\n  (\\<lambda>(x, y). flow0 x y) `\n  ({flow0 x t1<--<b} \\<times> {0<..<d}) \\<inter>\n  flow0 x ` {t1..t2} \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. (\\<And>xx tt ss.\n        \\<lbrakk>flow0 xx tt = flow0 x ss; xx \\<in> {flow0 x t1<--<b};\n         t1 \\<le> ss; ss \\<le> t2; 0 < tt; tt < d\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  flow0 xx tt = flow0 x ss\n  xx \\<in> {flow0 x t1<--<b}\n  t1 \\<le> ss\n  ss \\<le> t2\n  0 < tt\n  tt < d\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "have \"xx \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. xx \\<in> {a--b}", "using sub1b"], ["proof (prove)\nusing this:\n  {flow0 x t1--b} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. xx \\<in> {a--b}", "apply (rule set_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. xx \\<in> {flow0 x t1--b}", "using xx"], ["proof (prove)\nusing this:\n  xx \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. xx \\<in> {flow0 x t1--b}", "by (simp add: open_closed_segment)"], ["proof (state)\nthis:\n  xx \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  xx \\<in> {a--b}", "have [simp]: \"xx \\<in> X\""], ["proof (prove)\nusing this:\n  xx \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. xx \\<in> X", "using \\<open>transversal_segment a b\\<close>"], ["proof (prove)\nusing this:\n  xx \\<in> {a--b}\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. xx \\<in> X", "by (auto simp: transversal_segment_def)"], ["proof (state)\nthis:\n  xx \\<in> X\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "from ss"], ["proof (chain)\npicking this:\n  t1 \\<le> ss\n  ss \\<le> t2", "have ss_ex: \"ss \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  t1 \\<le> ss\n  ss \\<le> t2\n\ngoal (1 subgoal):\n 1. ss \\<in> existence_ivl0 x", "using exist"], ["proof (prove)\nusing this:\n  t1 \\<le> ss\n  ss \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. ss \\<in> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  ss \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "from d_ex[OF \\<open>xx \\<in> {a -- b}\\<close>] tt"], ["proof (chain)\npicking this:\n  {- d..d} \\<subseteq> existence_ivl0 xx\n  0 < tt\n  tt < d", "have tt_ex: \"tt \\<in> existence_ivl0 xx\""], ["proof (prove)\nusing this:\n  {- d..d} \\<subseteq> existence_ivl0 xx\n  0 < tt\n  tt < d\n\ngoal (1 subgoal):\n 1. tt \\<in> existence_ivl0 xx", "by auto"], ["proof (state)\nthis:\n  tt \\<in> existence_ivl0 xx\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  tt \\<in> existence_ivl0 xx", "have neg_tt_ex: \"- tt \\<in> existence_ivl0 (flow0 xx tt)\""], ["proof (prove)\nusing this:\n  tt \\<in> existence_ivl0 xx\n\ngoal (1 subgoal):\n 1. - tt \\<in> existence_ivl0 (flow0 xx tt)", "by (rule existence_ivl_reverse[simplified])"], ["proof (state)\nthis:\n  - tt \\<in> existence_ivl0 (flow0 xx tt)\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "from eq"], ["proof (chain)\npicking this:\n  flow0 xx tt = flow0 x ss", "have \"flow0 (flow0 xx tt) (-tt) = flow0 (flow0 x ss) (-tt)\""], ["proof (prove)\nusing this:\n  flow0 xx tt = flow0 x ss\n\ngoal (1 subgoal):\n 1. flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)", "by simp"], ["proof (state)\nthis:\n  flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)", "have \"xx = flow0 x (ss - tt)\""], ["proof (prove)\nusing this:\n  flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)\n\ngoal (1 subgoal):\n 1. xx = flow0 x (ss - tt)", "apply (subst (asm) flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. tt \\<in> existence_ivl0 xx\n 2. - tt \\<in> existence_ivl0 (flow0 xx tt)\n 3. flow0 xx (tt + - tt) = flow0 (flow0 x ss) (- tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule tt_ex)"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 xx tt)\n 2. flow0 xx (tt + - tt) = flow0 (flow0 x ss) (- tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule neg_tt_ex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt + - tt) = flow0 (flow0 x ss) (- tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (subst (asm) flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. ss \\<in> existence_ivl0 x\n 2. - tt \\<in> existence_ivl0 (flow0 x ss)\n 3. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule ss_ex)"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)\n 2. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (subst eq[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 xx tt)\n 2. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule neg_tt_ex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "by simp"], ["proof (state)\nthis:\n  xx = flow0 x (ss - tt)\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  xx = flow0 x (ss - tt)\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "define e where \"e = ss - t1\""], ["proof (state)\nthis:\n  e = ss - t1\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "consider \"e > tt\" | \"e \\<le> tt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tt < e \\<Longrightarrow> thesis;\n     e \\<le> tt \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>tt < e \\<Longrightarrow> ?thesis2;\n   e \\<le> tt \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. r1 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>tt < e \\<Longrightarrow> ?thesis2;\n   e \\<le> tt \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>tt < e \\<Longrightarrow> ?thesis2;\n   e \\<le> tt \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. False", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. tt < e \\<Longrightarrow> False\n 2. e \\<le> tt \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  tt < e\n\ngoal (2 subgoals):\n 1. tt < e \\<Longrightarrow> False\n 2. e \\<le> tt \\<Longrightarrow> False", "have \"flow0 (flow0 x ss) (-tt) \\<notin> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}", "apply (subst flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. ss \\<in> existence_ivl0 x\n 2. - tt \\<in> existence_ivl0 (flow0 x ss)\n 3. flow0 x (ss + - tt) \\<notin> {a<--<b}", "apply fact"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)\n 2. flow0 x (ss + - tt) \\<notin> {a<--<b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)", "using neg_tt_ex eq"], ["proof (prove)\nusing this:\n  - tt \\<in> existence_ivl0 (flow0 xx tt)\n  flow0 xx tt = flow0 x ss\n\ngoal (1 subgoal):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)", "by simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (ss + - tt) \\<notin> {a<--<b}", "apply (rule t1t2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ss + - tt \\<in> {t1<..<t2}", "using 1 ss tt"], ["proof (prove)\nusing this:\n  tt < e\n  t1 \\<le> ss\n  ss \\<le> t2\n  0 < tt\n  tt < d\n\ngoal (1 subgoal):\n 1. ss + - tt \\<in> {t1<..<t2}", "unfolding e_def"], ["proof (prove)\nusing this:\n  tt < ss - t1\n  t1 \\<le> ss\n  ss \\<le> t2\n  0 < tt\n  tt < d\n\ngoal (1 subgoal):\n 1. ss + - tt \\<in> {t1<..<t2}", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n\ngoal (2 subgoals):\n 1. tt < e \\<Longrightarrow> False\n 2. e \\<le> tt \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n\ngoal (2 subgoals):\n 1. tt < e \\<Longrightarrow> False\n 2. e \\<le> tt \\<Longrightarrow> False", "have \"flow0 (flow0 x ss) (-tt) \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}", "unfolding eq[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 xx tt) (- tt) \\<in> {a<--<b}", "using tt_ex xx"], ["proof (prove)\nusing this:\n  tt \\<in> existence_ivl0 xx\n  xx \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 xx tt) (- tt) \\<in> {a<--<b}", "apply (subst flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {flow0 x t1<--<b}\\<rbrakk>\n    \\<Longrightarrow> tt \\<in> existence_ivl0 xx\n 2. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {flow0 x t1<--<b}\\<rbrakk>\n    \\<Longrightarrow> - tt \\<in> existence_ivl0 (flow0 xx tt)\n 3. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {flow0 x t1<--<b}\\<rbrakk>\n    \\<Longrightarrow> flow0 xx (tt + - tt) \\<in> {a<--<b}", "apply (auto simp add: neg_tt_ex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {flow0 x t1<--<b}\\<rbrakk>\n    \\<Longrightarrow> xx \\<in> {a<--<b}", "by (metis (no_types, hide_lams) sub1b subset_eq subset_open_segment)"], ["proof (state)\nthis:\n  flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}\n\ngoal (2 subgoals):\n 1. tt < e \\<Longrightarrow> False\n 2. e \\<le> tt \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n  flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n  flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. e \\<le> tt \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. e \\<le> tt \\<Longrightarrow> False", "case 2"], ["proof (state)\nthis:\n  e \\<le> tt\n\ngoal (1 subgoal):\n 1. e \\<le> tt \\<Longrightarrow> False", "have les: \"0 \\<le> tt - e\" \"tt - e \\<le> d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> tt - e &&& tt - e \\<le> d", "using tt ss 2 e_def"], ["proof (prove)\nusing this:\n  0 < tt\n  tt < d\n  t1 \\<le> ss\n  ss \\<le> t2\n  e \\<le> tt\n  e = ss - t1\n\ngoal (1 subgoal):\n 1. 0 \\<le> tt - e &&& tt - e \\<le> d", "by auto"], ["proof (state)\nthis:\n  0 \\<le> tt - e\n  tt - e \\<le> d\n\ngoal (1 subgoal):\n 1. e \\<le> tt \\<Longrightarrow> False", "have xxtte: \"flow0 xx (tt - e) = flow0 x t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt - e) = flow0 x t1", "apply (simp add: e_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt - (ss - t1)) = flow0 x t1", "by (smt \\<open>0 \\<le> tt - e\\<close> \\<open>{- d..d} \\<subseteq> existence_ivl0 xx\\<close> atLeastAtMost_iff e_def eq\n            local.existence_ivl_reverse local.existence_ivl_trans local.flow_trans ss(1) ss_ex subset_iff tt(2))"], ["proof (state)\nthis:\n  flow0 xx (tt - e) = flow0 x t1\n\ngoal (1 subgoal):\n 1. e \\<le> tt \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof (cases \"tt = e\")"], ["proof (state)\ngoal (2 subgoals):\n 1. tt = e \\<Longrightarrow> False\n 2. tt \\<noteq> e \\<Longrightarrow> False", "case True"], ["proof (state)\nthis:\n  tt = e\n\ngoal (2 subgoals):\n 1. tt = e \\<Longrightarrow> False\n 2. tt \\<noteq> e \\<Longrightarrow> False", "with xxtte"], ["proof (chain)\npicking this:\n  flow0 xx (tt - e) = flow0 x t1\n  tt = e", "have \"xx = flow0 x t1\""], ["proof (prove)\nusing this:\n  flow0 xx (tt - e) = flow0 x t1\n  tt = e\n\ngoal (1 subgoal):\n 1. xx = flow0 x t1", "by (simp add: )"], ["proof (state)\nthis:\n  xx = flow0 x t1\n\ngoal (2 subgoals):\n 1. tt = e \\<Longrightarrow> False\n 2. tt \\<noteq> e \\<Longrightarrow> False", "with xx"], ["proof (chain)\npicking this:\n  xx \\<in> {flow0 x t1<--<b}\n  xx = flow0 x t1", "show ?thesis"], ["proof (prove)\nusing this:\n  xx \\<in> {flow0 x t1<--<b}\n  xx = flow0 x t1\n\ngoal (1 subgoal):\n 1. False", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>flow0 x t1 \\<in> {flow0 x t1<--<b}; xx = flow0 x t1\\<rbrakk>\n    \\<Longrightarrow> False", "by (auto simp: open_segment_def)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. tt \\<noteq> e \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. tt \\<noteq> e \\<Longrightarrow> False", "case False"], ["proof (state)\nthis:\n  tt \\<noteq> e\n\ngoal (1 subgoal):\n 1. tt \\<noteq> e \\<Longrightarrow> False", "with les"], ["proof (chain)\npicking this:\n  0 \\<le> tt - e\n  tt - e \\<le> d\n  tt \\<noteq> e", "have \"0 < tt - e\""], ["proof (prove)\nusing this:\n  0 \\<le> tt - e\n  tt - e \\<le> d\n  tt \\<noteq> e\n\ngoal (1 subgoal):\n 1. 0 < tt - e", "by (simp)"], ["proof (state)\nthis:\n  0 < tt - e\n\ngoal (1 subgoal):\n 1. tt \\<noteq> e \\<Longrightarrow> False", "from d_above[OF \\<open>xx \\<in> {a -- b}\\<close> this \\<open>tt - e \\<le> d\\<close>]"], ["proof (chain)\npicking this:\n  0 < (flow0 xx (tt - e) - xx) \\<bullet> rot n", "have \"flow0 xx (tt - e) \\<notin> {a -- b}\""], ["proof (prove)\nusing this:\n  0 < (flow0 xx (tt - e) - xx) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. flow0 xx (tt - e) \\<notin> {a--b}", "apply (simp add: in_closed_segment_iff_rot[OF \\<open>a \\<noteq> b\\<close>]\n              not_le )"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (flow0 xx (tt - e) - xx) \\<bullet> rot n \\<Longrightarrow>\n    (flow0 xx (tt - e) - a) \\<bullet> rot (b - a) = 0 \\<longrightarrow>\n    flow0 xx (tt - e) \\<bullet> (b - a) < a \\<bullet> (b - a) \\<or>\n    b \\<bullet> (b - a) < flow0 xx (tt - e) \\<bullet> (b - a)", "by (smt \\<open>xx \\<in> {a--b}\\<close> inner_minus_right inner_rot_neg_move_base inner_rot_pos_move_base n rot_diff_commute)"], ["proof (state)\nthis:\n  flow0 xx (tt - e) \\<notin> {a--b}\n\ngoal (1 subgoal):\n 1. tt \\<noteq> e \\<Longrightarrow> False", "with xxtte"], ["proof (chain)\npicking this:\n  flow0 xx (tt - e) = flow0 x t1\n  flow0 xx (tt - e) \\<notin> {a--b}", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 xx (tt - e) = flow0 x t1\n  flow0 xx (tt - e) \\<notin> {a--b}\n\ngoal (1 subgoal):\n 1. False", "using \\<open>flow0 x t1 \\<in> {a<--<flow0 x t2}\\<close> suba2o"], ["proof (prove)\nusing this:\n  flow0 xx (tt - e) = flow0 x t1\n  flow0 xx (tt - e) \\<notin> {a--b}\n  flow0 x t1 \\<in> {a<--<flow0 x t2}\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  r1 \\<inter> path_image J1 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* for sufficiently small d, the flow does not return to the line *)"], ["proof (state)\nthis:\n  r1 \\<inter> path_image J1 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "moreover"], ["proof (state)\nthis:\n  r1 \\<inter> path_image J1 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have pir1J2: \"r1 \\<inter> path_image J2 = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J2 = {}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J2 = {}", "have \"r1 \\<subseteq> {x. (x - a) \\<bullet> rot n > 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r1 \\<subseteq> {x. 0 < (x - a) \\<bullet> rot n}", "unfolding r1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t1<--<b} \\<times> {0<..<d})\n    \\<subseteq> {x. 0 < (x - a) \\<bullet> rot n}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa aa ba.\n       \\<lbrakk>aa \\<in> {flow0 x t1<--<b}; ba \\<in> {0<..<d}\\<rbrakk>\n       \\<Longrightarrow> 0 < (flow0 aa ba - a) \\<bullet> rot n", "fix aa ba"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa aa ba.\n       \\<lbrakk>aa \\<in> {flow0 x t1<--<b}; ba \\<in> {0<..<d}\\<rbrakk>\n       \\<Longrightarrow> 0 < (flow0 aa ba - a) \\<bullet> rot n", "assume \"aa \\<in> {flow0 x t1<--<b}\" \"ba \\<in> {0<..<d}\""], ["proof (state)\nthis:\n  aa \\<in> {flow0 x t1<--<b}\n  ba \\<in> {0<..<d}\n\ngoal (1 subgoal):\n 1. \\<And>xa aa ba.\n       \\<lbrakk>aa \\<in> {flow0 x t1<--<b}; ba \\<in> {0<..<d}\\<rbrakk>\n       \\<Longrightarrow> 0 < (flow0 aa ba - a) \\<bullet> rot n", "with sub1b"], ["proof (chain)\npicking this:\n  {flow0 x t1--b} \\<subseteq> {a--b}\n  aa \\<in> {flow0 x t1<--<b}\n  ba \\<in> {0<..<d}", "show \"0 < (flow0 aa ba - a) \\<bullet> rot n\""], ["proof (prove)\nusing this:\n  {flow0 x t1--b} \\<subseteq> {a--b}\n  aa \\<in> {flow0 x t1<--<b}\n  ba \\<in> {0<..<d}\n\ngoal (1 subgoal):\n 1. 0 < (flow0 aa ba - a) \\<bullet> rot n", "using segment_open_subset_closed[of \"flow0 x t1\" b]"], ["proof (prove)\nusing this:\n  {flow0 x t1--b} \\<subseteq> {a--b}\n  aa \\<in> {flow0 x t1<--<b}\n  ba \\<in> {0<..<d}\n  {flow0 x t1<--<b} \\<subseteq> {flow0 x t1--b}\n\ngoal (1 subgoal):\n 1. 0 < (flow0 aa ba - a) \\<bullet> rot n", "by (intro inner_pos_move_base[OF ortho d_above]) auto"], ["proof (state)\nthis:\n  0 < (flow0 aa ba - a) \\<bullet> rot n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  r1 \\<subseteq> {x. 0 < (x - a) \\<bullet> rot n}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J2 = {}", "also"], ["proof (state)\nthis:\n  r1 \\<subseteq> {x. 0 < (x - a) \\<bullet> rot n}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J2 = {}", "have \"\\<dots> \\<inter> {a -- b} = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. 0 < (x - a) \\<bullet> rot n} \\<inter> {a--b} = {}", "using in_segment_inner_rot in_segment_inner_rot2 n"], ["proof (prove)\nusing this:\n  ?x \\<in> {?a--?b} \\<Longrightarrow> (?x - ?a) \\<bullet> rot (?b - ?a) = 0\n  \\<lbrakk>?x \\<in> {?a--?b}; ?y \\<in> {?a--?b}\\<rbrakk>\n  \\<Longrightarrow> (?x - ?y) \\<bullet> rot (?a - ?b) = 0\n  n = a - b \\<or> n = b - a\n\ngoal (1 subgoal):\n 1. {x. 0 < (x - a) \\<bullet> rot n} \\<inter> {a--b} = {}", "by auto"], ["proof (state)\nthis:\n  {x. 0 < (x - a) \\<bullet> rot n} \\<inter> {a--b} = {}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J2 = {}", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r1 \\<inter> {a--b} \\<subseteq> {}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r1 \\<inter> {a--b} \\<subseteq> {}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J2 = {}", "unfolding J2_def path_image_linepath"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r1 \\<inter> {a--b} \\<subseteq> {}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> {flow0 x t2--flow0 x t1} = {}", "using t12sub open_closed_segment"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r1 \\<inter> {a--b} \\<subseteq> {}\n  {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\n  ?u \\<in> {?w<--<?z} \\<Longrightarrow> ?u \\<in> {?w--?z}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> {flow0 x t2--flow0 x t1} = {}", "by (force simp: closed_segment_commute)"], ["proof (state)\nthis:\n  r1 \\<inter> path_image J2 = {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  r1 \\<inter> path_image J2 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "ultimately"], ["proof (chain)\npicking this:\n  r1 \\<inter> path_image J1 = {}\n  r1 \\<inter> path_image J2 = {}", "have pir1:\"r1 \\<inter> (path_image J) = {}\""], ["proof (prove)\nusing this:\n  r1 \\<inter> path_image J1 = {}\n  r1 \\<inter> path_image J2 = {}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image J = {}", "unfolding J_def"], ["proof (prove)\nusing this:\n  r1 \\<inter> path_image J1 = {}\n  r1 \\<inter> path_image J2 = {}\n\ngoal (1 subgoal):\n 1. r1 \\<inter> path_image (J1 +++ J2) = {}", "by (metis disjoint_iff_not_equal not_in_path_image_join)"], ["proof (state)\nthis:\n  r1 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define r2 where \"r2 =(\\<lambda>(x, y). flow0 x y)`({a <--< flow0 x t2} \\<times> {-d<..<0})\""], ["proof (state)\nthis:\n  r2 =\n  (\\<lambda>(x, y). flow0 x y) ` ({a<--<flow0 x t2} \\<times> {- d<..<0})\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have r2a1:\"path_connected {a <--< flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected {a<--<flow0 x t2}", "by simp"], ["proof (state)\nthis:\n  path_connected {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have r2a2:\"path_connected {-d<..<0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. path_connected {- d<..<0}", "by simp"], ["proof (state)\nthis:\n  path_connected {- d<..<0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"{a <--< flow0 x t2} \\<subseteq> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a<--<flow0 x t2} \\<subseteq> {a--b}", "by (meson ends_in_segment(1) open_closed_segment subset_co_segment subset_oc_segment t12sub)"], ["proof (state)\nthis:\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a<--<flow0 x t2} \\<subseteq> {a--b}", "have r2a3: \"y \\<in> {a <--< flow0 x t2} \\<Longrightarrow> {-d<..<0} \\<subseteq> existence_ivl0 y\" for y"], ["proof (prove)\nusing this:\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. y \\<in> {a<--<flow0 x t2} \\<Longrightarrow>\n    {- d<..<0} \\<subseteq> existence_ivl0 y", "using d_ex[of y]"], ["proof (prove)\nusing this:\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n  y \\<in> {a--b} \\<Longrightarrow> {- d..d} \\<subseteq> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. y \\<in> {a<--<flow0 x t2} \\<Longrightarrow>\n    {- d<..<0} \\<subseteq> existence_ivl0 y", "by force"], ["proof (state)\nthis:\n  ?y2 \\<in> {a<--<flow0 x t2} \\<Longrightarrow>\n  {- d<..<0} \\<subseteq> existence_ivl0 ?y2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from flow0_path_connected[OF r2a1 r2a2 r2a3]"], ["proof (chain)\npicking this:\n  (\\<And>xa.\n      xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow>\n      xa \\<in> {a<--<flow0 x t2}) \\<Longrightarrow>\n  path_connected\n   ((\\<lambda>(x, y). flow0 x y) ` ({a<--<flow0 x t2} \\<times> {- d<..<0}))", "have pcr2:\"path_connected r2\""], ["proof (prove)\nusing this:\n  (\\<And>xa.\n      xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow>\n      xa \\<in> {a<--<flow0 x t2}) \\<Longrightarrow>\n  path_connected\n   ((\\<lambda>(x, y). flow0 x y) ` ({a<--<flow0 x t2} \\<times> {- d<..<0}))\n\ngoal (1 subgoal):\n 1. path_connected r2", "unfolding r2_def"], ["proof (prove)\nusing this:\n  (\\<And>xa.\n      xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow>\n      xa \\<in> {a<--<flow0 x t2}) \\<Longrightarrow>\n  path_connected\n   ((\\<lambda>(x, y). flow0 x y) ` ({a<--<flow0 x t2} \\<times> {- d<..<0}))\n\ngoal (1 subgoal):\n 1. path_connected\n     ((\\<lambda>(x, y). flow0 x y) `\n      ({a<--<flow0 x t2} \\<times> {- d<..<0}))", "by auto"], ["proof (state)\nthis:\n  path_connected r2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have pir2J2: \"r2 \\<inter> path_image J1 = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J1 = {}", "unfolding J1_def path_image_flow_to_path[OF \\<open>t1 \\<le> t2\\<close>]"], ["proof (prove)\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "assume \"r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}\""], ["proof (state)\nthis:\n  r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}", "obtain xx tt ss where\n      eq: \"flow0 xx tt = flow0 x ss\"\n      and xx: \"xx \\<in> {a<--<flow0 x t2}\"\n      and ss: \"t1 \\<le> ss\" \"ss \\<le> t2\"\n      and tt: \"-d < tt\" \"tt < 0\""], ["proof (prove)\nusing this:\n  r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>xx tt ss.\n        \\<lbrakk>flow0 xx tt = flow0 x ss; xx \\<in> {a<--<flow0 x t2};\n         t1 \\<le> ss; ss \\<le> t2; - d < tt; tt < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding r2_def"], ["proof (prove)\nusing this:\n  (\\<lambda>(x, y). flow0 x y) `\n  ({a<--<flow0 x t2} \\<times> {- d<..<0}) \\<inter>\n  flow0 x ` {t1..t2} \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. (\\<And>xx tt ss.\n        \\<lbrakk>flow0 xx tt = flow0 x ss; xx \\<in> {a<--<flow0 x t2};\n         t1 \\<le> ss; ss \\<le> t2; - d < tt; tt < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  flow0 xx tt = flow0 x ss\n  xx \\<in> {a<--<flow0 x t2}\n  t1 \\<le> ss\n  ss \\<le> t2\n  - d < tt\n  tt < 0\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "have \"xx \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. xx \\<in> {a--b}", "using suba2"], ["proof (prove)\nusing this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. xx \\<in> {a--b}", "apply (rule set_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. xx \\<in> {a--flow0 x t2}", "using xx"], ["proof (prove)\nusing this:\n  xx \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. xx \\<in> {a--flow0 x t2}", "by (simp add: open_closed_segment)"], ["proof (state)\nthis:\n  xx \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  xx \\<in> {a--b}", "have [simp]: \"xx \\<in> X\""], ["proof (prove)\nusing this:\n  xx \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. xx \\<in> X", "using \\<open>transversal_segment a b\\<close>"], ["proof (prove)\nusing this:\n  xx \\<in> {a--b}\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. xx \\<in> X", "by (auto simp: transversal_segment_def)"], ["proof (state)\nthis:\n  xx \\<in> X\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "from ss"], ["proof (chain)\npicking this:\n  t1 \\<le> ss\n  ss \\<le> t2", "have ss_ex: \"ss \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  t1 \\<le> ss\n  ss \\<le> t2\n\ngoal (1 subgoal):\n 1. ss \\<in> existence_ivl0 x", "using exist"], ["proof (prove)\nusing this:\n  t1 \\<le> ss\n  ss \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. ss \\<in> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  ss \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "from d_ex[OF \\<open>xx \\<in> {a -- b}\\<close>] tt"], ["proof (chain)\npicking this:\n  {- d..d} \\<subseteq> existence_ivl0 xx\n  - d < tt\n  tt < 0", "have tt_ex: \"tt \\<in> existence_ivl0 xx\""], ["proof (prove)\nusing this:\n  {- d..d} \\<subseteq> existence_ivl0 xx\n  - d < tt\n  tt < 0\n\ngoal (1 subgoal):\n 1. tt \\<in> existence_ivl0 xx", "by auto"], ["proof (state)\nthis:\n  tt \\<in> existence_ivl0 xx\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  tt \\<in> existence_ivl0 xx", "have neg_tt_ex: \"- tt \\<in> existence_ivl0 (flow0 xx tt)\""], ["proof (prove)\nusing this:\n  tt \\<in> existence_ivl0 xx\n\ngoal (1 subgoal):\n 1. - tt \\<in> existence_ivl0 (flow0 xx tt)", "by (rule existence_ivl_reverse[simplified])"], ["proof (state)\nthis:\n  - tt \\<in> existence_ivl0 (flow0 xx tt)\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "from eq"], ["proof (chain)\npicking this:\n  flow0 xx tt = flow0 x ss", "have \"flow0 (flow0 xx tt) (-tt) = flow0 (flow0 x ss) (-tt)\""], ["proof (prove)\nusing this:\n  flow0 xx tt = flow0 x ss\n\ngoal (1 subgoal):\n 1. flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)", "by simp"], ["proof (state)\nthis:\n  flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)", "have \"xx = flow0 x (ss - tt)\""], ["proof (prove)\nusing this:\n  flow0 (flow0 xx tt) (- tt) = flow0 (flow0 x ss) (- tt)\n\ngoal (1 subgoal):\n 1. xx = flow0 x (ss - tt)", "apply (subst (asm) flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. tt \\<in> existence_ivl0 xx\n 2. - tt \\<in> existence_ivl0 (flow0 xx tt)\n 3. flow0 xx (tt + - tt) = flow0 (flow0 x ss) (- tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule tt_ex)"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 xx tt)\n 2. flow0 xx (tt + - tt) = flow0 (flow0 x ss) (- tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule neg_tt_ex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt + - tt) = flow0 (flow0 x ss) (- tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (subst (asm) flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. ss \\<in> existence_ivl0 x\n 2. - tt \\<in> existence_ivl0 (flow0 x ss)\n 3. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule ss_ex)"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)\n 2. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (subst eq[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 xx tt)\n 2. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "apply (rule neg_tt_ex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt + - tt) = flow0 x (ss + - tt) \\<Longrightarrow>\n    xx = flow0 x (ss - tt)", "by simp"], ["proof (state)\nthis:\n  xx = flow0 x (ss - tt)\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  xx = flow0 x (ss - tt)\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "define e where \"e = t2 - ss\""], ["proof (state)\nthis:\n  e = t2 - ss\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "consider \"e > - tt\" | \"e \\<le> -tt\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>- tt < e \\<Longrightarrow> thesis;\n     e \\<le> - tt \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by arith"], ["proof (state)\nthis:\n  \\<lbrakk>- tt < e \\<Longrightarrow> ?thesis2;\n   e \\<le> - tt \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. r2 \\<inter> flow0 x ` {t1..t2} \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>- tt < e \\<Longrightarrow> ?thesis2;\n   e \\<le> - tt \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>- tt < e \\<Longrightarrow> ?thesis2;\n   e \\<le> - tt \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. False", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. - tt < e \\<Longrightarrow> False\n 2. e \\<le> - tt \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  - tt < e\n\ngoal (2 subgoals):\n 1. - tt < e \\<Longrightarrow> False\n 2. e \\<le> - tt \\<Longrightarrow> False", "have \"flow0 (flow0 x ss) (-tt) \\<notin> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}", "apply (subst flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. ss \\<in> existence_ivl0 x\n 2. - tt \\<in> existence_ivl0 (flow0 x ss)\n 3. flow0 x (ss + - tt) \\<notin> {a<--<b}", "apply fact"], ["proof (prove)\ngoal (2 subgoals):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)\n 2. flow0 x (ss + - tt) \\<notin> {a<--<b}", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)", "using neg_tt_ex eq"], ["proof (prove)\nusing this:\n  - tt \\<in> existence_ivl0 (flow0 xx tt)\n  flow0 xx tt = flow0 x ss\n\ngoal (1 subgoal):\n 1. - tt \\<in> existence_ivl0 (flow0 x ss)", "by simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (ss + - tt) \\<notin> {a<--<b}", "apply (rule t1t2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ss + - tt \\<in> {t1<..<t2}", "using 1 ss tt"], ["proof (prove)\nusing this:\n  - tt < e\n  t1 \\<le> ss\n  ss \\<le> t2\n  - d < tt\n  tt < 0\n\ngoal (1 subgoal):\n 1. ss + - tt \\<in> {t1<..<t2}", "unfolding e_def"], ["proof (prove)\nusing this:\n  - tt < t2 - ss\n  t1 \\<le> ss\n  ss \\<le> t2\n  - d < tt\n  tt < 0\n\ngoal (1 subgoal):\n 1. ss + - tt \\<in> {t1<..<t2}", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n\ngoal (2 subgoals):\n 1. - tt < e \\<Longrightarrow> False\n 2. e \\<le> - tt \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n\ngoal (2 subgoals):\n 1. - tt < e \\<Longrightarrow> False\n 2. e \\<le> - tt \\<Longrightarrow> False", "have \"flow0 (flow0 x ss) (-tt) \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}", "unfolding eq[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 xx tt) (- tt) \\<in> {a<--<b}", "using tt_ex xx"], ["proof (prove)\nusing this:\n  tt \\<in> existence_ivl0 xx\n  xx \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 xx tt) (- tt) \\<in> {a<--<b}", "apply (subst flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {a<--<flow0 x t2}\\<rbrakk>\n    \\<Longrightarrow> tt \\<in> existence_ivl0 xx\n 2. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {a<--<flow0 x t2}\\<rbrakk>\n    \\<Longrightarrow> - tt \\<in> existence_ivl0 (flow0 xx tt)\n 3. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {a<--<flow0 x t2}\\<rbrakk>\n    \\<Longrightarrow> flow0 xx (tt + - tt) \\<in> {a<--<b}", "apply (auto simp add: neg_tt_ex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>tt \\<in> existence_ivl0 xx; xx \\<in> {a<--<flow0 x t2}\\<rbrakk>\n    \\<Longrightarrow> xx \\<in> {a<--<b}", "by (metis (no_types, hide_lams) suba2 subset_eq subset_open_segment)"], ["proof (state)\nthis:\n  flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}\n\ngoal (2 subgoals):\n 1. - tt < e \\<Longrightarrow> False\n 2. e \\<le> - tt \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n  flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 (flow0 x ss) (- tt) \\<notin> {a<--<b}\n  flow0 (flow0 x ss) (- tt) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. e \\<le> - tt \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. e \\<le> - tt \\<Longrightarrow> False", "case 2"], ["proof (state)\nthis:\n  e \\<le> - tt\n\ngoal (1 subgoal):\n 1. e \\<le> - tt \\<Longrightarrow> False", "have les: \"tt + e \\<le> 0\" \"-d \\<le> tt + e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tt + e \\<le> 0 &&& - d \\<le> tt + e", "using tt ss 2 e_def"], ["proof (prove)\nusing this:\n  - d < tt\n  tt < 0\n  t1 \\<le> ss\n  ss \\<le> t2\n  e \\<le> - tt\n  e = t2 - ss\n\ngoal (1 subgoal):\n 1. tt + e \\<le> 0 &&& - d \\<le> tt + e", "by auto"], ["proof (state)\nthis:\n  tt + e \\<le> 0\n  - d \\<le> tt + e\n\ngoal (1 subgoal):\n 1. e \\<le> - tt \\<Longrightarrow> False", "have xxtte: \"flow0 xx (tt + e) = flow0 x t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt + e) = flow0 x t2", "apply (simp add: e_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 xx (tt + (t2 - ss)) = flow0 x t2", "by (smt atLeastAtMost_iff calculation eq exist local.existence_ivl_trans' local.flow_trans neg_tt_ex ss_ex subset_iff \\<open>t1 \\<le> t2\\<close>)"], ["proof (state)\nthis:\n  flow0 xx (tt + e) = flow0 x t2\n\ngoal (1 subgoal):\n 1. e \\<le> - tt \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof (cases \"tt=-e\")"], ["proof (state)\ngoal (2 subgoals):\n 1. tt = - e \\<Longrightarrow> False\n 2. tt \\<noteq> - e \\<Longrightarrow> False", "case True"], ["proof (state)\nthis:\n  tt = - e\n\ngoal (2 subgoals):\n 1. tt = - e \\<Longrightarrow> False\n 2. tt \\<noteq> - e \\<Longrightarrow> False", "with xxtte"], ["proof (chain)\npicking this:\n  flow0 xx (tt + e) = flow0 x t2\n  tt = - e", "have \"xx = flow0 x t2\""], ["proof (prove)\nusing this:\n  flow0 xx (tt + e) = flow0 x t2\n  tt = - e\n\ngoal (1 subgoal):\n 1. xx = flow0 x t2", "by (simp add: )"], ["proof (state)\nthis:\n  xx = flow0 x t2\n\ngoal (2 subgoals):\n 1. tt = - e \\<Longrightarrow> False\n 2. tt \\<noteq> - e \\<Longrightarrow> False", "with xx"], ["proof (chain)\npicking this:\n  xx \\<in> {a<--<flow0 x t2}\n  xx = flow0 x t2", "show ?thesis"], ["proof (prove)\nusing this:\n  xx \\<in> {a<--<flow0 x t2}\n  xx = flow0 x t2\n\ngoal (1 subgoal):\n 1. False", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>flow0 x t2 \\<in> {a<--<flow0 x t2}; xx = flow0 x t2\\<rbrakk>\n    \\<Longrightarrow> False", "by (auto simp: open_segment_def)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. tt \\<noteq> - e \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. tt \\<noteq> - e \\<Longrightarrow> False", "case False"], ["proof (state)\nthis:\n  tt \\<noteq> - e\n\ngoal (1 subgoal):\n 1. tt \\<noteq> - e \\<Longrightarrow> False", "with les"], ["proof (chain)\npicking this:\n  tt + e \\<le> 0\n  - d \\<le> tt + e\n  tt \\<noteq> - e", "have \"tt+e < 0\""], ["proof (prove)\nusing this:\n  tt + e \\<le> 0\n  - d \\<le> tt + e\n  tt \\<noteq> - e\n\ngoal (1 subgoal):\n 1. tt + e < 0", "by simp"], ["proof (state)\nthis:\n  tt + e < 0\n\ngoal (1 subgoal):\n 1. tt \\<noteq> - e \\<Longrightarrow> False", "from d_below[OF \\<open>xx \\<in> {a -- b}\\<close>  \\<open>-d \\<le> tt + e\\<close> this]"], ["proof (chain)\npicking this:\n  (flow0 xx (tt + e) - xx) \\<bullet> rot n < 0", "have \"flow0 xx (tt + e) \\<notin> {a -- b}\""], ["proof (prove)\nusing this:\n  (flow0 xx (tt + e) - xx) \\<bullet> rot n < 0\n\ngoal (1 subgoal):\n 1. flow0 xx (tt + e) \\<notin> {a--b}", "apply (simp add: in_closed_segment_iff_rot[OF \\<open>a \\<noteq> b\\<close>]\n              not_le )"], ["proof (prove)\ngoal (1 subgoal):\n 1. (flow0 xx (tt + e) - xx) \\<bullet> rot n < 0 \\<Longrightarrow>\n    (flow0 xx (tt + e) - a) \\<bullet> rot (b - a) = 0 \\<longrightarrow>\n    flow0 xx (tt + e) \\<bullet> (b - a) < a \\<bullet> (b - a) \\<or>\n    b \\<bullet> (b - a) < flow0 xx (tt + e) \\<bullet> (b - a)", "by (smt \\<open>xx \\<in> {a--b}\\<close> inner_minus_right inner_rot_neg_move_base inner_rot_pos_move_base n rot_diff_commute)"], ["proof (state)\nthis:\n  flow0 xx (tt + e) \\<notin> {a--b}\n\ngoal (1 subgoal):\n 1. tt \\<noteq> - e \\<Longrightarrow> False", "with xxtte"], ["proof (chain)\npicking this:\n  flow0 xx (tt + e) = flow0 x t2\n  flow0 xx (tt + e) \\<notin> {a--b}", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 xx (tt + e) = flow0 x t2\n  flow0 xx (tt + e) \\<notin> {a--b}\n\ngoal (1 subgoal):\n 1. False", "using \\<open>flow0 x t2 \\<in> {a--b}\\<close>"], ["proof (prove)\nusing this:\n  flow0 xx (tt + e) = flow0 x t2\n  flow0 xx (tt + e) \\<notin> {a--b}\n  flow0 x t2 \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  r2 \\<inter> path_image J1 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "moreover"], ["proof (state)\nthis:\n  r2 \\<inter> path_image J1 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have pir2J2: \"r2 \\<inter> path_image J2 = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J2 = {}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J2 = {}", "have \"r2 \\<subseteq> {x. (x - a) \\<bullet> rot n < 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r2 \\<subseteq> {x. (x - a) \\<bullet> rot n < 0}", "unfolding r2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({a<--<flow0 x t2} \\<times> {- d<..<0})\n    \\<subseteq> {x. (x - a) \\<bullet> rot n < 0}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa aa b.\n       \\<lbrakk>aa \\<in> {a<--<flow0 x t2}; b \\<in> {- d<..<0}\\<rbrakk>\n       \\<Longrightarrow> (flow0 aa b - a) \\<bullet> rot n < 0", "fix aa ba"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa aa b.\n       \\<lbrakk>aa \\<in> {a<--<flow0 x t2}; b \\<in> {- d<..<0}\\<rbrakk>\n       \\<Longrightarrow> (flow0 aa b - a) \\<bullet> rot n < 0", "assume \"aa \\<in> {a<--<flow0 x t2}\" \"ba \\<in> {-d<..<0}\""], ["proof (state)\nthis:\n  aa \\<in> {a<--<flow0 x t2}\n  ba \\<in> {- d<..<0}\n\ngoal (1 subgoal):\n 1. \\<And>xa aa b.\n       \\<lbrakk>aa \\<in> {a<--<flow0 x t2}; b \\<in> {- d<..<0}\\<rbrakk>\n       \\<Longrightarrow> (flow0 aa b - a) \\<bullet> rot n < 0", "with suba2"], ["proof (chain)\npicking this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n  aa \\<in> {a<--<flow0 x t2}\n  ba \\<in> {- d<..<0}", "show \"0 > (flow0 aa ba - a) \\<bullet> rot n\""], ["proof (prove)\nusing this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n  aa \\<in> {a<--<flow0 x t2}\n  ba \\<in> {- d<..<0}\n\ngoal (1 subgoal):\n 1. (flow0 aa ba - a) \\<bullet> rot n < 0", "using segment_open_subset_closed[of a \"flow0 x t2\"]"], ["proof (prove)\nusing this:\n  {a--flow0 x t2} \\<subseteq> {a--b}\n  aa \\<in> {a<--<flow0 x t2}\n  ba \\<in> {- d<..<0}\n  {a<--<flow0 x t2} \\<subseteq> {a--flow0 x t2}\n\ngoal (1 subgoal):\n 1. (flow0 aa ba - a) \\<bullet> rot n < 0", "by (intro inner_neg_move_base[OF ortho d_below]) auto"], ["proof (state)\nthis:\n  (flow0 aa ba - a) \\<bullet> rot n < 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  r2 \\<subseteq> {x. (x - a) \\<bullet> rot n < 0}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J2 = {}", "also"], ["proof (state)\nthis:\n  r2 \\<subseteq> {x. (x - a) \\<bullet> rot n < 0}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J2 = {}", "have \"\\<dots> \\<inter> {a -- b} = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x. (x - a) \\<bullet> rot n < 0} \\<inter> {a--b} = {}", "using in_segment_inner_rot in_segment_inner_rot2 n"], ["proof (prove)\nusing this:\n  ?x \\<in> {?a--?b} \\<Longrightarrow> (?x - ?a) \\<bullet> rot (?b - ?a) = 0\n  \\<lbrakk>?x \\<in> {?a--?b}; ?y \\<in> {?a--?b}\\<rbrakk>\n  \\<Longrightarrow> (?x - ?y) \\<bullet> rot (?a - ?b) = 0\n  n = a - b \\<or> n = b - a\n\ngoal (1 subgoal):\n 1. {x. (x - a) \\<bullet> rot n < 0} \\<inter> {a--b} = {}", "by auto"], ["proof (state)\nthis:\n  {x. (x - a) \\<bullet> rot n < 0} \\<inter> {a--b} = {}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J2 = {}", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r2 \\<inter> {a--b} \\<subseteq> {}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r2 \\<inter> {a--b} \\<subseteq> {}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J2 = {}", "unfolding J2_def path_image_linepath"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r2 \\<inter> {a--b} \\<subseteq> {}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> {flow0 x t2--flow0 x t1} = {}", "using t12sub open_closed_segment"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<subseteq> y \\<Longrightarrow>\n      x \\<inter> {a--b} \\<subseteq> y \\<inter> {a--b}) \\<Longrightarrow>\n  r2 \\<inter> {a--b} \\<subseteq> {}\n  {flow0 x t1--flow0 x t2} \\<subseteq> {a<--<b}\n  ?u \\<in> {?w<--<?z} \\<Longrightarrow> ?u \\<in> {?w--?z}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> {flow0 x t2--flow0 x t1} = {}", "by (force simp: closed_segment_commute)"], ["proof (state)\nthis:\n  r2 \\<inter> path_image J2 = {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  r2 \\<inter> path_image J2 = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "ultimately"], ["proof (chain)\npicking this:\n  r2 \\<inter> path_image J1 = {}\n  r2 \\<inter> path_image J2 = {}", "have pir2:\"r2 \\<inter> (path_image J) = {}\""], ["proof (prove)\nusing this:\n  r2 \\<inter> path_image J1 = {}\n  r2 \\<inter> path_image J2 = {}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image J = {}", "unfolding J_def"], ["proof (prove)\nusing this:\n  r2 \\<inter> path_image J1 = {}\n  r2 \\<inter> path_image J2 = {}\n\ngoal (1 subgoal):\n 1. r2 \\<inter> path_image (J1 +++ J2) = {}", "by (metis disjoint_iff_not_equal not_in_path_image_join)"], ["proof (state)\nthis:\n  r2 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define rp where \"rp = midpoint (flow0 x t1) (flow0 x t2)\""], ["proof (state)\nthis:\n  rp = midpoint (flow0 x t1) (flow0 x t2)\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have rpi: \"rp \\<in> {flow0 x t1<--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rp \\<in> {flow0 x t1<--<flow0 x t2}", "unfolding rp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. midpoint (flow0 x t1) (flow0 x t2) \\<in> {flow0 x t1<--<flow0 x t2}", "by (simp add: x1neqx2)"], ["proof (state)\nthis:\n  rp \\<in> {flow0 x t1<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"rp \\<in> {a -- b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rp \\<in> {a--b}", "using rpi suba2o subl"], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<flow0 x t2}\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. rp \\<in> {a--b}", "by blast"], ["proof (state)\nthis:\n  rp \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  rp \\<in> {a--b}", "have [simp]: \"rp \\<in> X\""], ["proof (prove)\nusing this:\n  rp \\<in> {a--b}\n\ngoal (1 subgoal):\n 1. rp \\<in> X", "using \\<open>{a--b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  rp \\<in> {a--b}\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. rp \\<in> X", "by blast"], ["proof (state)\nthis:\n  rp \\<in> X\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* The fundamental case distinction *)"], ["proof (state)\nthis:\n  rp \\<in> X\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have *: \"pathfinish J1 = flow0 x t2\"\n    \"pathstart J1 = flow0 x t1\"\n    \"rp \\<in> {flow0 x t2<--<flow0 x t1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pathfinish J1 = flow0 x t2 &&&\n    pathstart J1 = flow0 x t1 &&& rp \\<in> {flow0 x t2<--<flow0 x t1}", "using rpi"], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. pathfinish J1 = flow0 x t2 &&&\n    pathstart J1 = flow0 x t1 &&& rp \\<in> {flow0 x t2<--<flow0 x t1}", "by (auto simp: open_segment_commute J1_def)"], ["proof (state)\nthis:\n  pathfinish J1 = flow0 x t2\n  pathstart J1 = flow0 x t1\n  rp \\<in> {flow0 x t2<--<flow0 x t1}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"{y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} = {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n    {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)}", "by (smt Collect_cong in_open_segment_rotD inner_diff_left nrm_dot rpi)"], ["proof (state)\nthis:\n  {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "also"], ["proof (state)\nthis:\n  {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"... =  {y. 0 > (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n    {y. (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2) < 0}", "by (smt Collect_cong inner_minus_left nrm_reverse)"], ["proof (state)\nthis:\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2) < 0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "also"], ["proof (state)\nthis:\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2) < 0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \" ... = {y. 0 > (y - rp) \\<bullet> rot (a - b) }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2) < 0} =\n    {y. (y - rp) \\<bullet> rot (a - b) < 0}", "by (metis rot_same_dir(2) x1 x2)"], ["proof (state)\nthis:\n  {y. (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2) < 0} =\n  {y. (y - rp) \\<bullet> rot (a - b) < 0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "finally"], ["proof (chain)\npicking this:\n  {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. (y - rp) \\<bullet> rot (a - b) < 0}", "have side1: \"{y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} = {y. 0 > (y - rp) \\<bullet> rot (a - b) }\"\n    (is \"_ = ?lower1\")"], ["proof (prove)\nusing this:\n  {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. (y - rp) \\<bullet> rot (a - b) < 0}\n\ngoal (1 subgoal):\n 1. {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n    {y. (y - rp) \\<bullet> rot (a - b) < 0}", "."], ["proof (state)\nthis:\n  {y. 0 < (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1)} =\n  {y. (y - rp) \\<bullet> rot (a - b) < 0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"{y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} = {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n    {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0}", "by (smt Collect_cong in_open_segment_rotD inner_diff_left nrm_dot rpi)"], ["proof (state)\nthis:\n  {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "also"], ["proof (state)\nthis:\n  {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"... =  {y. (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2) > 0}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n    {y. 0 < (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2)}", "by (smt Collect_cong inner_minus_left nrm_reverse)"], ["proof (state)\nthis:\n  {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "also"], ["proof (state)\nthis:\n  {y. (y - rp) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \" ... = {y. 0 < (y - rp) \\<bullet> rot (a - b) }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. 0 < (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2)} =\n    {y. 0 < (y - rp) \\<bullet> rot (a - b)}", "by (metis rot_same_dir(1) x1 x2)"], ["proof (state)\nthis:\n  {y. 0 < (y - rp) \\<bullet> rot (flow0 x t1 - flow0 x t2)} =\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "finally"], ["proof (chain)\npicking this:\n  {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)}", "have side2: \"{y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} = {y. 0 < (y - rp) \\<bullet> rot (a - b) }\"\n    (is \"_ = ?upper1\")"], ["proof (prove)\nusing this:\n  {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n\ngoal (1 subgoal):\n 1. {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n    {y. 0 < (y - rp) \\<bullet> rot (a - b)}", "."], ["proof (state)\nthis:\n  {y. (y - flow0 x t2) \\<bullet> rot (flow0 x t2 - flow0 x t1) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from linepath_ball_inside_outside[OF \\<open>simple_path J\\<close>[unfolded J_def J2_def] *,\n      folded J2_def J_def, unfolded side1 side2]"], ["proof (chain)\npicking this:\n  (\\<And>e.\n      \\<lbrakk>0 < e; ball rp e \\<inter> path_image J1 = {};\n       ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n       \\<subseteq> inside (path_image J) \\<and>\n       ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n       \\<subseteq> outside (path_image J) \\<or>\n       ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n       \\<subseteq> inside (path_image J) \\<and>\n       ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n       \\<subseteq> outside (path_image J)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain e where e0: \"0 < e\"\n    \"ball rp e \\<inter> path_image J1 = {}\"\n    \"ball rp e \\<inter> ?lower1 \\<subseteq> inner \\<and>\n        ball rp e \\<inter> ?upper1 \\<subseteq> outer \\<or>\n        ball rp e \\<inter> ?upper1 \\<subseteq> inner \\<and>\n        ball rp e \\<inter> ?lower1 \\<subseteq> outer\""], ["proof (prove)\nusing this:\n  (\\<And>e.\n      \\<lbrakk>0 < e; ball rp e \\<inter> path_image J1 = {};\n       ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n       \\<subseteq> inside (path_image J) \\<and>\n       ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n       \\<subseteq> outside (path_image J) \\<or>\n       ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n       \\<subseteq> inside (path_image J) \\<and>\n       ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n       \\<subseteq> outside (path_image J)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>e.\n        \\<lbrakk>0 < e; ball rp e \\<inter> path_image J1 = {};\n         ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> inner \\<and>\n         ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n         \\<subseteq> outer \\<or>\n         ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n         \\<subseteq> inner \\<and>\n         ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n         \\<subseteq> outer\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: inner_def outer_def)"], ["proof (state)\nthis:\n  0 < e\n  ball rp e \\<inter> path_image J1 = {}\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n  \\<subseteq> outer \\<or>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "let ?lower = \"{y. 0 > (y - rp) \\<bullet> rot n }\""], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "let ?upper = \"{y. 0 < (y - rp) \\<bullet> rot n }\""], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"?lower1 = {y. 0 < (y - rp) \\<bullet> rot n } \\<and> ?upper1 = {y. 0 > (y - rp) \\<bullet> rot n } \\<or>\n      ?lower1 = {y. 0 > (y - rp) \\<bullet> rot n } \\<and> ?upper1 =  {y. 0 < (y - rp) \\<bullet> rot n }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n    {y. 0 < (y - rp) \\<bullet> rot n} \\<and>\n    {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n    {y. (y - rp) \\<bullet> rot n < 0} \\<or>\n    {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n    {y. (y - rp) \\<bullet> rot n < 0} \\<and>\n    {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n    {y. 0 < (y - rp) \\<bullet> rot n}", "using n rot_diff_commute[of a b]"], ["proof (prove)\nusing this:\n  n = a - b \\<or> n = b - a\n  rot (a - b) = - rot (b - a)\n\ngoal (1 subgoal):\n 1. {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n    {y. 0 < (y - rp) \\<bullet> rot n} \\<and>\n    {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n    {y. (y - rp) \\<bullet> rot n < 0} \\<or>\n    {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n    {y. (y - rp) \\<bullet> rot n < 0} \\<and>\n    {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n    {y. 0 < (y - rp) \\<bullet> rot n}", "by auto"], ["proof (state)\nthis:\n  {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot n} \\<and>\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n  {y. (y - rp) \\<bullet> rot n < 0} \\<or>\n  {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n  {y. (y - rp) \\<bullet> rot n < 0} \\<and>\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n  {y. 0 < (y - rp) \\<bullet> rot n}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from this e0"], ["proof (chain)\npicking this:\n  {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot n} \\<and>\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n  {y. (y - rp) \\<bullet> rot n < 0} \\<or>\n  {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n  {y. (y - rp) \\<bullet> rot n < 0} \\<and>\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n  {y. 0 < (y - rp) \\<bullet> rot n}\n  0 < e\n  ball rp e \\<inter> path_image J1 = {}\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n  \\<subseteq> outer \\<or>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> outer", "have e: \"0 < e\"\n    \"ball rp e \\<inter> path_image J1 = {}\"\n    \"ball rp e \\<inter> ?lower \\<subseteq> inner \\<and>\n        ball rp e \\<inter> ?upper \\<subseteq> outer \\<or>\n        ball rp e \\<inter> ?upper \\<subseteq> inner \\<and>\n        ball rp e \\<inter> ?lower \\<subseteq> outer\""], ["proof (prove)\nusing this:\n  {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n  {y. 0 < (y - rp) \\<bullet> rot n} \\<and>\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n  {y. (y - rp) \\<bullet> rot n < 0} \\<or>\n  {y. (y - rp) \\<bullet> rot (a - b) < 0} =\n  {y. (y - rp) \\<bullet> rot n < 0} \\<and>\n  {y. 0 < (y - rp) \\<bullet> rot (a - b)} =\n  {y. 0 < (y - rp) \\<bullet> rot n}\n  0 < e\n  ball rp e \\<inter> path_image J1 = {}\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n  \\<subseteq> outer \\<or>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot (a - b)}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot (a - b) < 0}\n  \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. 0 < e &&&\n    ball rp e \\<inter> path_image J1 = {} &&&\n    ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0}\n    \\<subseteq> inner \\<and>\n    ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n    \\<subseteq> outer \\<or>\n    ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n    \\<subseteq> inner \\<and>\n    ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0} \\<subseteq> outer", "by auto"], ["proof (state)\nthis:\n  0 < e\n  ball rp e \\<inter> path_image J1 = {}\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n  \\<subseteq> outer \\<or>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0} \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"\\<forall>\\<^sub>F t in at_right 0. t < d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_right 0. t < d", "by (auto intro!: order_tendstoD \\<open>0 < d\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_right 0. t < d\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_right 0. t < d", "have evr: \"\\<forall>\\<^sub>F t in at_right 0. 0 < (flow0 rp t - rp) \\<bullet> rot n\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_right 0. t < d\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_right 0. 0 < (flow0 rp t - rp) \\<bullet> rot n", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds 0.\n     x \\<noteq> 0 \\<longrightarrow> x \\<in> {0<..} \\<longrightarrow> x < d\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds 0.\n       x \\<noteq> 0 \\<longrightarrow>\n       x \\<in> {0<..} \\<longrightarrow>\n       0 < (flow0 rp x - rp) \\<bullet> rot n", "by eventually_elim (auto intro!: \\<open>rp \\<in> {a--b}\\<close> d_above)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_right 0. 0 < (flow0 rp t - rp) \\<bullet> rot n\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"\\<forall>\\<^sub>F t in at_left 0. t > -d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) (- d)) (at_left 0)", "by (auto intro!: order_tendstoD \\<open>0 < d\\<close>)"], ["proof (state)\nthis:\n  eventually ((<) (- d)) (at_left 0)\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  eventually ((<) (- d)) (at_left 0)", "have evl: \"\\<forall>\\<^sub>F t in at_left 0. 0 > (flow0 rp t - rp) \\<bullet> rot n\""], ["proof (prove)\nusing this:\n  eventually ((<) (- d)) (at_left 0)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_left 0. (flow0 rp t - rp) \\<bullet> rot n < 0", "unfolding eventually_at_filter"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in nhds 0.\n     x \\<noteq> 0 \\<longrightarrow> x \\<in> {..<0} \\<longrightarrow> - d < x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in nhds 0.\n       x \\<noteq> 0 \\<longrightarrow>\n       x \\<in> {..<0} \\<longrightarrow>\n       (flow0 rp x - rp) \\<bullet> rot n < 0", "by eventually_elim (auto intro!: \\<open>rp \\<in> {a--b}\\<close> d_below)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_left 0. (flow0 rp t - rp) \\<bullet> rot n < 0\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"\\<forall>\\<^sub>F t in at 0. flow0 rp t \\<in> ball rp e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at 0. flow0 rp t \\<in> ball rp e", "unfolding mem_ball"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at 0. dist rp (flow0 rp t) < e", "apply (subst dist_commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at 0. dist (flow0 rp t) rp < e", "apply (rule tendstoD)"], ["proof (prove)\ngoal (2 subgoals):\n 1. flow0 rp \\<midarrow>0\\<rightarrow> rp\n 2. 0 < e", "by (auto intro!: tendsto_eq_intros \\<open>0 < e\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at 0. flow0 rp t \\<in> ball rp e\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 rp t \\<in> ball rp e", "have evl2: \"(\\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e)\"\n    and evr2: \"(\\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 rp t \\<in> ball rp e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e &&&\n    \\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e", "unfolding eventually_at_split"], ["proof (prove)\nusing this:\n  (\\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e) \\<and>\n  (\\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e &&&\n    \\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e\n  \\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have evl3: \"(\\<forall>\\<^sub>F t in at_left 0. t > -d)\"\n    and evr3: \"(\\<forall>\\<^sub>F t in at_right 0. t < d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) (- d)) (at_left 0) &&&\n    \\<forall>\\<^sub>F t in at_right 0. t < d", "by (auto intro!: order_tendstoD \\<open>0 < d\\<close>)"], ["proof (state)\nthis:\n  eventually ((<) (- d)) (at_left 0)\n  \\<forall>\\<^sub>F t in at_right 0. t < d\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have evl4: \"(\\<forall>\\<^sub>F t in at_left 0. t < 0)\"\n    and evr4: \"(\\<forall>\\<^sub>F t in at_right 0. t > 0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_left (0::'b). t < (0::'b) &&&\n    eventually ((<) (0::'c)) (at_right (0::'c))", "by (auto simp: eventually_at_filter)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_left (0::?'b3). t < (0::?'b3)\n  eventually ((<) (0::?'c3)) (at_right (0::?'c3))\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from evl evl2 evl3 evl4"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_left 0. (flow0 rp t - rp) \\<bullet> rot n < 0\n  \\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e\n  eventually ((<) (- d)) (at_left 0)\n  \\<forall>\\<^sub>F t in at_left (0::?'b3). t < (0::?'b3)", "have \"\\<forall>\\<^sub>F t in at_left 0. (flow0 rp t - rp) \\<bullet> rot n < 0 \\<and> flow0 rp t \\<in> ball rp e \\<and> t > -d \\<and> t < 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_left 0. (flow0 rp t - rp) \\<bullet> rot n < 0\n  \\<forall>\\<^sub>F t in at_left 0. flow0 rp t \\<in> ball rp e\n  eventually ((<) (- d)) (at_left 0)\n  \\<forall>\\<^sub>F t in at_left (0::?'b3). t < (0::?'b3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_left 0.\n       (flow0 rp t - rp) \\<bullet> rot n < 0 \\<and>\n       flow0 rp t \\<in> ball rp e \\<and> - d < t \\<and> t < 0", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_left 0.\n     (flow0 rp t - rp) \\<bullet> rot n < 0 \\<and>\n     flow0 rp t \\<in> ball rp e \\<and> - d < t \\<and> t < 0\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from eventually_happens[OF this]"], ["proof (chain)\npicking this:\n  at_left 0 = bot \\<or>\n  (\\<exists>x.\n      (flow0 rp x - rp) \\<bullet> rot n < 0 \\<and>\n      flow0 rp x \\<in> ball rp e \\<and> - d < x \\<and> x < 0)", "obtain dl where dl: \"(flow0 rp dl - rp) \\<bullet> rot n < 0\" \"flow0 rp dl \\<in> ball rp e\" \"- d < dl\" \"dl < 0\""], ["proof (prove)\nusing this:\n  at_left 0 = bot \\<or>\n  (\\<exists>x.\n      (flow0 rp x - rp) \\<bullet> rot n < 0 \\<and>\n      flow0 rp x \\<in> ball rp e \\<and> - d < x \\<and> x < 0)\n\ngoal (1 subgoal):\n 1. (\\<And>dl.\n        \\<lbrakk>(flow0 rp dl - rp) \\<bullet> rot n < 0;\n         flow0 rp dl \\<in> ball rp e; - d < dl; dl < 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (flow0 rp dl - rp) \\<bullet> rot n < 0\n  flow0 rp dl \\<in> ball rp e\n  - d < dl\n  dl < 0\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from evr evr2 evr3 evr4"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at_right 0. 0 < (flow0 rp t - rp) \\<bullet> rot n\n  \\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e\n  \\<forall>\\<^sub>F t in at_right 0. t < d\n  eventually ((<) (0::?'c3)) (at_right (0::?'c3))", "have \"\\<forall>\\<^sub>F t in at_right 0. (flow0 rp t - rp) \\<bullet> rot n > 0 \\<and> flow0 rp t \\<in> ball rp e \\<and> t < d \\<and> t > 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at_right 0. 0 < (flow0 rp t - rp) \\<bullet> rot n\n  \\<forall>\\<^sub>F t in at_right 0. flow0 rp t \\<in> ball rp e\n  \\<forall>\\<^sub>F t in at_right 0. t < d\n  eventually ((<) (0::?'c3)) (at_right (0::?'c3))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at_right 0.\n       0 < (flow0 rp t - rp) \\<bullet> rot n \\<and>\n       flow0 rp t \\<in> ball rp e \\<and> t < d \\<and> 0 < t", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at_right 0.\n     0 < (flow0 rp t - rp) \\<bullet> rot n \\<and>\n     flow0 rp t \\<in> ball rp e \\<and> t < d \\<and> 0 < t\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from eventually_happens[OF this]"], ["proof (chain)\npicking this:\n  at_right 0 = bot \\<or>\n  (\\<exists>x.\n      0 < (flow0 rp x - rp) \\<bullet> rot n \\<and>\n      flow0 rp x \\<in> ball rp e \\<and> x < d \\<and> 0 < x)", "obtain dr where dr: \"(flow0 rp dr - rp) \\<bullet> rot n > 0\" \"flow0 rp dr \\<in> ball rp e\" \"d > dr\" \"dr > 0\""], ["proof (prove)\nusing this:\n  at_right 0 = bot \\<or>\n  (\\<exists>x.\n      0 < (flow0 rp x - rp) \\<bullet> rot n \\<and>\n      flow0 rp x \\<in> ball rp e \\<and> x < d \\<and> 0 < x)\n\ngoal (1 subgoal):\n 1. (\\<And>dr.\n        \\<lbrakk>0 < (flow0 rp dr - rp) \\<bullet> rot n;\n         flow0 rp dr \\<in> ball rp e; dr < d; 0 < dr\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < (flow0 rp dr - rp) \\<bullet> rot n\n  flow0 rp dr \\<in> ball rp e\n  dr < d\n  0 < dr\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"rp \\<in> {flow0 x t1<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rp \\<in> {flow0 x t1<--<b}", "using rpi subr"], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<flow0 x t2}\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. rp \\<in> {flow0 x t1<--<b}", "by auto"], ["proof (state)\nthis:\n  rp \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  rp \\<in> {flow0 x t1<--<b}", "have rpr1:\"flow0 rp (dr) \\<in> r1\""], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 rp dr \\<in> r1", "unfolding r1_def"], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 rp dr\n    \\<in> (\\<lambda>(x, y). flow0 x y) `\n          ({flow0 x t1<--<b} \\<times> {0<..<d})", "using \\<open>d > dr\\<close> \\<open>dr > 0\\<close>"], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<b}\n  dr < d\n  0 < dr\n\ngoal (1 subgoal):\n 1. flow0 rp dr\n    \\<in> (\\<lambda>(x, y). flow0 x y) `\n          ({flow0 x t1<--<b} \\<times> {0<..<d})", "by auto"], ["proof (state)\nthis:\n  flow0 rp dr \\<in> r1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"rp \\<in> {a<--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rp \\<in> {a<--<flow0 x t2}", "using rpi subl"], ["proof (prove)\nusing this:\n  rp \\<in> {flow0 x t1<--<flow0 x t2}\n  {flow0 x t1<--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. rp \\<in> {a<--<flow0 x t2}", "by auto"], ["proof (state)\nthis:\n  rp \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  rp \\<in> {a<--<flow0 x t2}", "have rpr2:\"flow0 rp (dl) \\<in> r2\""], ["proof (prove)\nusing this:\n  rp \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 rp dl \\<in> r2", "unfolding r2_def"], ["proof (prove)\nusing this:\n  rp \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 rp dl\n    \\<in> (\\<lambda>(x, y). flow0 x y) `\n          ({a<--<flow0 x t2} \\<times> {- d<..<0})", "using \\<open>-d < dl\\<close> \\<open>dl < 0\\<close>"], ["proof (prove)\nusing this:\n  rp \\<in> {a<--<flow0 x t2}\n  - d < dl\n  dl < 0\n\ngoal (1 subgoal):\n 1. flow0 rp dl\n    \\<in> (\\<lambda>(x, y). flow0 x y) `\n          ({a<--<flow0 x t2} \\<times> {- d<..<0})", "by auto"], ["proof (state)\nthis:\n  flow0 rp dl \\<in> r2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from e(3) dr dl"], ["proof (chain)\npicking this:\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n  \\<subseteq> outer \\<or>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0} \\<subseteq> outer\n  0 < (flow0 rp dr - rp) \\<bullet> rot n\n  flow0 rp dr \\<in> ball rp e\n  dr < d\n  0 < dr\n  (flow0 rp dl - rp) \\<bullet> rot n < 0\n  flow0 rp dl \\<in> ball rp e\n  - d < dl\n  dl < 0", "have \"flow0 rp (dr) \\<in> outer \\<and> flow0 rp (dl) \\<in> inner \\<or> flow0 rp (dr) \\<in> inner \\<and> flow0 rp (dl) \\<in> outer\""], ["proof (prove)\nusing this:\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n  \\<subseteq> outer \\<or>\n  ball rp e \\<inter> {y. 0 < (y - rp) \\<bullet> rot n}\n  \\<subseteq> inner \\<and>\n  ball rp e \\<inter> {y. (y - rp) \\<bullet> rot n < 0} \\<subseteq> outer\n  0 < (flow0 rp dr - rp) \\<bullet> rot n\n  flow0 rp dr \\<in> ball rp e\n  dr < d\n  0 < dr\n  (flow0 rp dl - rp) \\<bullet> rot n < 0\n  flow0 rp dl \\<in> ball rp e\n  - d < dl\n  dl < 0\n\ngoal (1 subgoal):\n 1. flow0 rp dr \\<in> outer \\<and> flow0 rp dl \\<in> inner \\<or>\n    flow0 rp dr \\<in> inner \\<and> flow0 rp dl \\<in> outer", "by auto"], ["proof (state)\nthis:\n  flow0 rp dr \\<in> outer \\<and> flow0 rp dl \\<in> inner \\<or>\n  flow0 rp dr \\<in> inner \\<and> flow0 rp dl \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "moreover"], ["proof (state)\nthis:\n  flow0 rp dr \\<in> outer \\<and> flow0 rp dl \\<in> inner \\<or>\n  flow0 rp dr \\<in> inner \\<and> flow0 rp dl \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "{"], ["proof (state)\nthis:\n  flow0 rp dr \\<in> outer \\<and> flow0 rp dl \\<in> inner \\<or>\n  flow0 rp dr \\<in> inner \\<and> flow0 rp dl \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "assume \"flow0 rp dr \\<in> outer\" \"flow0 rp dl \\<in> inner\""], ["proof (state)\nthis:\n  flow0 rp dr \\<in> outer\n  flow0 rp dl \\<in> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 rp dr \\<in> outer\n  flow0 rp dl \\<in> inner", "have\n      r1o: \"r1 \\<inter> outer \\<noteq> {}\" and\n      r2i: \"r2 \\<inter> inner \\<noteq> {}\""], ["proof (prove)\nusing this:\n  flow0 rp dr \\<in> outer\n  flow0 rp dl \\<in> inner\n\ngoal (1 subgoal):\n 1. r1 \\<inter> outer \\<noteq> {} &&& r2 \\<inter> inner \\<noteq> {}", "using rpr1 rpr2"], ["proof (prove)\nusing this:\n  flow0 rp dr \\<in> outer\n  flow0 rp dl \\<in> inner\n  flow0 rp dr \\<in> r1\n  flow0 rp dl \\<in> r2\n\ngoal (1 subgoal):\n 1. r1 \\<inter> outer \\<noteq> {} &&& r2 \\<inter> inner \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  r1 \\<inter> outer \\<noteq> {}\n  r2 \\<inter> inner \\<noteq> {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from path_connected_not_frontier_subset[OF pcr1 r1o]"], ["proof (chain)\npicking this:\n  r1 \\<inter> frontier outer = {} \\<Longrightarrow> r1 \\<subseteq> outer", "have \"r1 \\<subseteq> outer\""], ["proof (prove)\nusing this:\n  r1 \\<inter> frontier outer = {} \\<Longrightarrow> r1 \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. r1 \\<subseteq> outer", "using pir1"], ["proof (prove)\nusing this:\n  r1 \\<inter> frontier outer = {} \\<Longrightarrow> r1 \\<subseteq> outer\n  r1 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. r1 \\<subseteq> outer", "by (simp add: io(12))"], ["proof (state)\nthis:\n  r1 \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from path_connected_not_frontier_subset[OF pcr2 r2i]"], ["proof (chain)\npicking this:\n  r2 \\<inter> frontier inner = {} \\<Longrightarrow> r2 \\<subseteq> inner", "have \"r2 \\<subseteq> inner\""], ["proof (prove)\nusing this:\n  r2 \\<inter> frontier inner = {} \\<Longrightarrow> r2 \\<subseteq> inner\n\ngoal (1 subgoal):\n 1. r2 \\<subseteq> inner", "using pir2"], ["proof (prove)\nusing this:\n  r2 \\<inter> frontier inner = {} \\<Longrightarrow> r2 \\<subseteq> inner\n  r2 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. r2 \\<subseteq> inner", "by (simp add: io(11))"], ["proof (state)\nthis:\n  r2 \\<subseteq> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"(\\<lambda>(x, y). flow0 x y)`({flow0 x t2} \\<times> {0<..<d}) \\<subseteq> r1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n    \\<subseteq> r1", "unfolding r1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n    \\<subseteq> (\\<lambda>(x, y). flow0 x y) `\n                ({flow0 x t1<--<b} \\<times> {0<..<d})", "by (auto intro!:image_mono simp add: x2)"], ["proof (state)\nthis:\n  (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n  \\<subseteq> r1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n  \\<subseteq> r1", "have *:\"\\<And>t. 0 < t \\<Longrightarrow> t < d \\<Longrightarrow> flow0 (flow0 x t2) t \\<in> outer\""], ["proof (prove)\nusing this:\n  (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n  \\<subseteq> r1\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < t; t < d\\<rbrakk>\n       \\<Longrightarrow> flow0 (flow0 x t2) t \\<in> outer", "by (smt \\<open>r1 \\<subseteq> outer\\<close> greaterThanLessThan_iff mem_Sigma_iff pair_imageI r1_def subset_eq x2)"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> outer", "have t2o: \"\\<And>t. 0 < t \\<Longrightarrow> t < d \\<Longrightarrow> flow0 x (t2 + t) \\<in> outer\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < t; t < d\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t2 + t) \\<in> outer", "using r1a3[OF x2] exist flow_trans"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> outer\n  {0<..<d} \\<subseteq> existence_ivl0 (flow0 x t2)\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  \\<lbrakk>?s \\<in> existence_ivl0 ?x0.0;\n   ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?s)\\<rbrakk>\n  \\<Longrightarrow> flow0 ?x0.0 (?s + ?t) = flow0 (flow0 ?x0.0 ?s) ?t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < t; t < d\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t2 + t) \\<in> outer", "by (metis (no_types, hide_lams) closed_segment_commute ends_in_segment(1) local.existence_ivl_trans' local.flow_undefined0 real_Icc_closed_segment subset_eq \\<open>t1 \\<le> t2\\<close>)"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 x (t2 + ?t3) \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* Construct a sequence of times converging to these points in r2 \\<subseteq> inner *)"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 x (t2 + ?t3) \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have inner: \"{a <--< flow0 x t2} \\<subseteq> closure inner\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a<--<flow0 x t2} \\<subseteq> closure inner", "proof (rule subsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "assume y: \"y \\<in> {a <--< flow0 x t2}\""], ["proof (state)\nthis:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "have [simp]: \"y \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> X", "using y suba12_open suba2o \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "have \"(\\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner", "using y"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner", "using suba12_open \\<open>0 < d\\<close> suba2o \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n  0 < d\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner", "by (auto intro!: set_mp[OF \\<open>r2 \\<subseteq> inner\\<close>] image_eqI[where x=\"(y, -d/Suc (Suc n))\" for n]\n            simp: r2_def divide_simps)"], ["proof (state)\nthis:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "have d_over_0: \"(\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> 0", "by (rule real_tendsto_divide_at_top)\n          (auto intro!: filterlim_tendsto_add_at_top filterlim_real_sequentially)"], ["proof (state)\nthis:\n  (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "have \"(\\<lambda>n. flow0 y (- d / real (Suc (Suc n)))) \\<longlonglongrightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n    \\<longlonglongrightarrow> y", "apply (rule tendsto_eq_intros)"], ["proof (prove)\ngoal (4 subgoals):\n 1. (\\<lambda>s. y) \\<longlonglongrightarrow> ?xs1\n 2. (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> ?ts1\n 3. ?ts1 \\<in> existence_ivl0 ?xs1\n 4. flow0 ?xs1 ?ts1 = y", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> ?ts1\n 2. ?ts1 \\<in> existence_ivl0 y\n 3. flow0 y ?ts1 = y", "apply (rule d_over_0)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<in> existence_ivl0 y\n 2. flow0 y 0 = y", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure inner", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y", "show \"y \\<in> closure inner\""], ["proof (prove)\nusing this:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y\n\ngoal (1 subgoal):\n 1. y \\<in> closure inner", "unfolding closure_sequential"], ["proof (prove)\nusing this:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> inner\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       (\\<forall>n. x n \\<in> inner) \\<and> x \\<longlonglongrightarrow> y", "by (intro exI[where x=\"\\<lambda>n. flow0 y (-d/Suc (Suc n))\"]) (rule conjI)"], ["proof (state)\nthis:\n  y \\<in> closure inner\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {a<--<flow0 x t2} \\<subseteq> closure inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a<--<flow0 x t2} \\<subseteq> closure inner", "have \"{a <--< flow0 x t1} \\<subseteq> closure inner\""], ["proof (prove)\nusing this:\n  {a<--<flow0 x t2} \\<subseteq> closure inner\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> closure inner", "using suba12_open"], ["proof (prove)\nusing this:\n  {a<--<flow0 x t2} \\<subseteq> closure inner\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> closure inner", "by blast"], ["proof (state)\nthis:\n  {a<--<flow0 x t1} \\<subseteq> closure inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a<--<flow0 x t1} \\<subseteq> closure inner", "have \"{flow0 x t1 -- flow0 x t2} \\<subseteq> closure inner\""], ["proof (prove)\nusing this:\n  {a<--<flow0 x t1} \\<subseteq> closure inner\n\ngoal (1 subgoal):\n 1. {flow0 x t1--flow0 x t2} \\<subseteq> closure inner", "by (metis (no_types, lifting) closure_closure closure_mono closure_open_segment dual_order.trans inner subl x1neqx2)"], ["proof (state)\nthis:\n  {flow0 x t1--flow0 x t2} \\<subseteq> closure inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have outer:\"\\<And>t. t > t2 \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<in> outer\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> flow0 x t \\<in> outer", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "assume t: \"t > t2\" \"t \\<in> existence_ivl0 x\" \"flow0 x t \\<notin> outer\""], ["proof (state)\nthis:\n  t2 < t\n  t \\<in> existence_ivl0 x\n  flow0 x t \\<notin> outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"0 \\<le> t- (t2+d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + d)", "using t2o t"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 x (t2 + ?t3) \\<in> outer\n  t2 < t\n  t \\<in> existence_ivl0 x\n  flow0 x t \\<notin> outer\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + d)", "by smt"], ["proof (state)\nthis:\n  0 \\<le> t - (t2 + d)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0 \\<le> t - (t2 + d)", "have a2:\"0 \\<le> t - (t2+dr)\""], ["proof (prove)\nusing this:\n  0 \\<le> t - (t2 + d)\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + dr)", "using d \\<open>0 < dr\\<close> \\<open>dr < d\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> t - (t2 + d)\n  0 < d\n  0 < dr\n  dr < d\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + dr)", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> t - (t2 + dr)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have t2d2_ex: \"t2 + dr \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 + dr \\<in> existence_ivl0 x", "using \\<open>t1 \\<le> t2\\<close> exist d_ex[of \"flow0 x t2\"] \\<open>flow0 x t2 \\<in> {a--b}\\<close> \\<open>0 < d\\<close> \\<open>0 < dr\\<close> \\<open>dr < d\\<close>"], ["proof (prove)\nusing this:\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  flow0 x t2 \\<in> {a--b} \\<Longrightarrow>\n  {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2)\n  flow0 x t2 \\<in> {a--b}\n  0 < d\n  0 < dr\n  dr < d\n\ngoal (1 subgoal):\n 1. t2 + dr \\<in> existence_ivl0 x", "by (intro existence_ivl_trans) auto"], ["proof (state)\nthis:\n  t2 + dr \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t2 + dr \\<in> existence_ivl0 x", "have a3: \"t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))\""], ["proof (prove)\nusing this:\n  t2 + dr \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))", "using t(2)"], ["proof (prove)\nusing this:\n  t2 + dr \\<in> existence_ivl0 x\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))", "by (intro diff_existence_ivl_trans) auto"], ["proof (state)\nthis:\n  t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))", "have \"flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\""], ["proof (prove)\nusing this:\n  t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t", "by (subst flow_trans[symmetric]) (auto simp: t2d2_ex)"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"flow0 x t \\<in> closure inner\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<in> closure inner", "using t(3) io"], ["proof (prove)\nusing this:\n  flow0 x t \\<notin> outer\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image J\n  frontier inner = path_image J\n  frontier outer = path_image J\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> closure inner", "by (metis ComplI Un_iff closure_Un_frontier)"], ["proof (state)\nthis:\n  flow0 x t \\<in> closure inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n  flow0 x t \\<in> closure inner", "have a4: \"flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) \\<in> closure inner\""], ["proof (prove)\nusing this:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n  flow0 x t \\<in> closure inner\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) \\<in> closure inner", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) \\<in> closure inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have a1: \"flow0 x (t2+dr) \\<in> outer\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (t2 + dr) \\<in> outer", "by (simp add: d t2o \\<open>0 < dr\\<close> \\<open>dr < d\\<close>)"], ["proof (state)\nthis:\n  flow0 x (t2 + dr) \\<in> outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "from outside_in[OF a1 a2 a3 a4]"], ["proof (chain)\npicking this:\n  \\<exists>T>0.\n     T \\<le> t - (t2 + dr) \\<and>\n     (\\<forall>s\\<in>{0..<T}.\n         flow0 (flow0 x (t2 + dr)) s \\<in> outer) \\<and>\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}", "obtain T where T: \"T > 0\" \"T \\<le> t - (t2 + dr)\"\n        \"(\\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer)\"\n        \"flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1 --< flow0 x t2}\""], ["proof (prove)\nusing this:\n  \\<exists>T>0.\n     T \\<le> t - (t2 + dr) \\<and>\n     (\\<forall>s\\<in>{0..<T}.\n         flow0 (flow0 x (t2 + dr)) s \\<in> outer) \\<and>\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; T \\<le> t - (t2 + dr);\n         \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n         flow0 (flow0 x (t2 + dr)) T\n         \\<in> {flow0 x t1--<flow0 x t2}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "define y where \"y = flow0 (flow0 x (t2 + dr)) T\""], ["proof (state)\nthis:\n  y = flow0 (flow0 x (t2 + dr)) T\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"y \\<in> {a <--< flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> {a<--<flow0 x t2}", "unfolding y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) T \\<in> {a<--<flow0 x t2}", "using T(4)"], ["proof (prove)\nusing this:\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) T \\<in> {a<--<flow0 x t2}", "using subl2"], ["proof (prove)\nusing this:\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  {flow0 x t1--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) T \\<in> {a<--<flow0 x t2}", "by blast"], ["proof (state)\nthis:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  y \\<in> {a<--<flow0 x t2}", "have \"(\\<lambda>(x, y). flow0 x y)`({y} \\<times> {-d<..<0}) \\<subseteq> r2\""], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2", "unfolding r2_def"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0})\n    \\<subseteq> (\\<lambda>(x, y). flow0 x y) `\n                ({a<--<flow0 x t2} \\<times> {- d<..<0})", "by (auto intro!:image_mono)"], ["proof (state)\nthis:\n  (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2", "have *:\"\\<And>t. -d < t \\<Longrightarrow> t < 0 \\<Longrightarrow> flow0 y t \\<in> r2\""], ["proof (prove)\nusing this:\n  (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>- d < t; t < 0\\<rbrakk> \\<Longrightarrow> flow0 y t \\<in> r2", "by (simp add: pair_imageI subsetD)"], ["proof (state)\nthis:\n  \\<lbrakk>- d < ?t3; ?t3 < 0\\<rbrakk>\n  \\<Longrightarrow> flow0 y ?t3 \\<in> r2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"max (-T/2) dl < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (- T / 2) dl < 0", "using d T \\<open>0 > dl\\<close> \\<open>dl > -d\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  dl < 0\n  - d < dl\n\ngoal (1 subgoal):\n 1. max (- T / 2) dl < 0", "by auto"], ["proof (state)\nthis:\n  max (- T / 2) dl < 0\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  max (- T / 2) dl < 0\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"-d < max (-T/2) dl\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - d < max (- T / 2) dl", "using d T \\<open>0 > dl\\<close> \\<open>dl > -d\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  dl < 0\n  - d < dl\n\ngoal (1 subgoal):\n 1. - d < max (- T / 2) dl", "by auto"], ["proof (state)\nthis:\n  - d < max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  max (- T / 2) dl < 0\n  - d < max (- T / 2) dl", "have inner: \"flow0 y (max (-T/2) dl) \\<in> inner\""], ["proof (prove)\nusing this:\n  max (- T / 2) dl < 0\n  - d < max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. flow0 y (max (- T / 2) dl) \\<in> inner", "using * \\<open>r2 \\<subseteq> inner\\<close>"], ["proof (prove)\nusing this:\n  max (- T / 2) dl < 0\n  - d < max (- T / 2) dl\n  \\<lbrakk>- d < ?t3; ?t3 < 0\\<rbrakk>\n  \\<Longrightarrow> flow0 y ?t3 \\<in> r2\n  r2 \\<subseteq> inner\n\ngoal (1 subgoal):\n 1. flow0 y (max (- T / 2) dl) \\<in> inner", "by blast"], ["proof (state)\nthis:\n  flow0 y (max (- T / 2) dl) \\<in> inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"0\\<le>(T+(max (-T/2) dl))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> T + max (- T / 2) dl", "using T(1)"], ["proof (prove)\nusing this:\n  0 < T\n\ngoal (1 subgoal):\n 1. 0 \\<le> T + max (- T / 2) dl", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> T + max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  0 \\<le> T + max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have \"(T+(max (-T/2) dl)) < T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T + max (- T / 2) dl < T", "using T(1) d \\<open>0 > dl\\<close> \\<open>dl > -d\\<close>"], ["proof (prove)\nusing this:\n  0 < T\n  0 < d\n  dl < 0\n  - d < dl\n\ngoal (1 subgoal):\n 1. T + max (- T / 2) dl < T", "by linarith"], ["proof (state)\nthis:\n  T + max (- T / 2) dl < T\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> T + max (- T / 2) dl\n  T + max (- T / 2) dl < T", "have outer: \" flow0 (flow0 x (t2 + dr)) (T+(max (-T/2) dl)) \\<in> outer\""], ["proof (prove)\nusing this:\n  0 \\<le> T + max (- T / 2) dl\n  T + max (- T / 2) dl < T\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (T + max (- T / 2) dl) \\<in> outer", "using T"], ["proof (prove)\nusing this:\n  0 \\<le> T + max (- T / 2) dl\n  T + max (- T / 2) dl < T\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (T + max (- T / 2) dl) \\<in> outer", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (T + max (- T / 2) dl) \\<in> outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have T_ex: \"T \\<in> existence_ivl0 (flow0 x (t2 + dr))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<in> existence_ivl0 (flow0 x (t2 + dr))", "apply (subst flow_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl0 x\n 2. dr \\<in> existence_ivl0 (flow0 x t2)\n 3. T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "using exist \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl0 x\n 2. dr \\<in> existence_ivl0 (flow0 x t2)\n 3. T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "using d_ex[of \"flow0 x t2\"] \\<open>flow0 x t2 \\<in> {a -- b}\\<close> \\<open>d > 0\\<close> T \\<open>0 < dr\\<close> \\<open>dr < d\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n  flow0 x t2 \\<in> {a--b} \\<Longrightarrow>\n  {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2)\n  flow0 x t2 \\<in> {a--b}\n  0 < d\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  0 < dr\n  dr < d\n\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl0 x\n 2. dr \\<in> existence_ivl0 (flow0 x t2)\n 3. T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (auto simp: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (rule set_rev_mp[where A=\"{0 .. t - (t2 + dr)}\"], force)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> {0..t - (t2 + dr)}\n                      \\<subseteq> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (rule ivl_subset_existence_ivl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> t - (t2 + dr)\n                      \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (rule existence_ivl_trans')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> dr + (t - (t2 + dr)) \\<in> existence_ivl0 (flow0 x t2)\n 2. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> dr \\<in> existence_ivl0 (flow0 x t2)", "apply (rule existence_ivl_trans')"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> t2 + (dr + (t - (t2 + dr))) \\<in> existence_ivl0 x\n 2. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> t2 \\<in> existence_ivl0 x\n 3. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> dr \\<in> existence_ivl0 (flow0 x t2)", "by (auto simp: t)"], ["proof (state)\nthis:\n  T \\<in> existence_ivl0 (flow0 x (t2 + dr))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "have T_ex2: \"dr + T \\<in> existence_ivl0 (flow0 x t2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dr + T \\<in> existence_ivl0 (flow0 x t2)", "by (smt T_ex ends_in_segment(2) exist local.existence_ivl_trans local.existence_ivl_trans' real_Icc_closed_segment subset_eq t2d2_ex \\<open>t1 \\<le> t2\\<close>)"], ["proof (state)\nthis:\n  dr + T \\<in> existence_ivl0 (flow0 x t2)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> outer\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  dr + T \\<in> existence_ivl0 (flow0 x t2)\n\ngoal (1 subgoal):\n 1. False", "using T \\<open>t1 \\<le> t2\\<close> exist"], ["proof (prove)\nusing this:\n  dr + T \\<in> existence_ivl0 (flow0 x t2)\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> outer\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. False", "by (smt T_ex diff_existence_ivl_trans disjoint_iff_not_equal inner io(9) local.flow_trans local.flow_undefined0 outer y_def)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>t2 < ?t3; ?t3 \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?t3 \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"closure inner \\<inter> outer = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closure inner \\<inter> outer = {}", "by (simp add: inf_sup_aci(1) io(5) io(9) open_Int_closure_eq_empty)"], ["proof (state)\nthis:\n  closure inner \\<inter> outer = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  closure inner \\<inter> outer = {}", "have \"flow0 x t \\<notin> {a<--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  closure inner \\<inter> outer = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "using \\<open>t > t2\\<close> \\<open>t \\<in> existence_ivl0 x\\<close> inner outer"], ["proof (prove)\nusing this:\n  closure inner \\<inter> outer = {}\n  t2 < t\n  t \\<in> existence_ivl0 x\n  {a<--<flow0 x t2} \\<subseteq> closure inner\n  \\<lbrakk>t2 < ?t3; ?t3 \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?t3 \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "by blast"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>flow0 rp dr \\<in> outer; flow0 rp dl \\<in> inner\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>flow0 rp dr \\<in> outer; flow0 rp dl \\<in> inner\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "{"], ["proof (state)\nthis:\n  \\<lbrakk>flow0 rp dr \\<in> outer; flow0 rp dl \\<in> inner\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "assume \"flow0 rp dr \\<in> inner\" \"flow0 rp dl \\<in> outer\""], ["proof (state)\nthis:\n  flow0 rp dr \\<in> inner\n  flow0 rp dl \\<in> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 rp dr \\<in> inner\n  flow0 rp dl \\<in> outer", "have\n      r1i: \"r1 \\<inter> inner \\<noteq> {}\" and\n      r2o: \"r2 \\<inter> outer \\<noteq> {}\""], ["proof (prove)\nusing this:\n  flow0 rp dr \\<in> inner\n  flow0 rp dl \\<in> outer\n\ngoal (1 subgoal):\n 1. r1 \\<inter> inner \\<noteq> {} &&& r2 \\<inter> outer \\<noteq> {}", "using rpr1 rpr2"], ["proof (prove)\nusing this:\n  flow0 rp dr \\<in> inner\n  flow0 rp dl \\<in> outer\n  flow0 rp dr \\<in> r1\n  flow0 rp dl \\<in> r2\n\ngoal (1 subgoal):\n 1. r1 \\<inter> inner \\<noteq> {} &&& r2 \\<inter> outer \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  r1 \\<inter> inner \\<noteq> {}\n  r2 \\<inter> outer \\<noteq> {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from path_connected_not_frontier_subset[OF pcr1 r1i]"], ["proof (chain)\npicking this:\n  r1 \\<inter> frontier inner = {} \\<Longrightarrow> r1 \\<subseteq> inner", "have \"r1 \\<subseteq> inner\""], ["proof (prove)\nusing this:\n  r1 \\<inter> frontier inner = {} \\<Longrightarrow> r1 \\<subseteq> inner\n\ngoal (1 subgoal):\n 1. r1 \\<subseteq> inner", "using pir1"], ["proof (prove)\nusing this:\n  r1 \\<inter> frontier inner = {} \\<Longrightarrow> r1 \\<subseteq> inner\n  r1 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. r1 \\<subseteq> inner", "by (simp add: io(11))"], ["proof (state)\nthis:\n  r1 \\<subseteq> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from path_connected_not_frontier_subset[OF pcr2 r2o]"], ["proof (chain)\npicking this:\n  r2 \\<inter> frontier outer = {} \\<Longrightarrow> r2 \\<subseteq> outer", "have \"r2 \\<subseteq> outer\""], ["proof (prove)\nusing this:\n  r2 \\<inter> frontier outer = {} \\<Longrightarrow> r2 \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. r2 \\<subseteq> outer", "using pir2"], ["proof (prove)\nusing this:\n  r2 \\<inter> frontier outer = {} \\<Longrightarrow> r2 \\<subseteq> outer\n  r2 \\<inter> path_image J = {}\n\ngoal (1 subgoal):\n 1. r2 \\<subseteq> outer", "by (simp add: io(12))"], ["proof (state)\nthis:\n  r2 \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"(\\<lambda>(x, y). flow0 x y)`({flow0 x t2} \\<times> {0<..<d}) \\<subseteq> r1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n    \\<subseteq> r1", "unfolding r1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n    \\<subseteq> (\\<lambda>(x, y). flow0 x y) `\n                ({flow0 x t1<--<b} \\<times> {0<..<d})", "by (auto intro!:image_mono simp add: x2)"], ["proof (state)\nthis:\n  (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n  \\<subseteq> r1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n  \\<subseteq> r1", "have\n      *:\"\\<And>t. 0 < t \\<Longrightarrow> t < d \\<Longrightarrow> flow0 (flow0 x t2) t \\<in> inner\""], ["proof (prove)\nusing this:\n  (\\<lambda>(x, y). flow0 x y) ` ({flow0 x t2} \\<times> {0<..<d})\n  \\<subseteq> r1\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < t; t < d\\<rbrakk>\n       \\<Longrightarrow> flow0 (flow0 x t2) t \\<in> inner", "by (smt \\<open>r1 \\<subseteq> inner\\<close> greaterThanLessThan_iff mem_Sigma_iff pair_imageI r1_def subset_eq x2)"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> inner", "have t2o: \"\\<And>t. 0 < t \\<Longrightarrow> t < d \\<Longrightarrow> flow0 x (t2 + t) \\<in> inner\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < t; t < d\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t2 + t) \\<in> inner", "using r1a3[OF x2] exist flow_trans"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 (flow0 x t2) ?t3 \\<in> inner\n  {0<..<d} \\<subseteq> existence_ivl0 (flow0 x t2)\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  \\<lbrakk>?s \\<in> existence_ivl0 ?x0.0;\n   ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?s)\\<rbrakk>\n  \\<Longrightarrow> flow0 ?x0.0 (?s + ?t) = flow0 (flow0 ?x0.0 ?s) ?t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>0 < t; t < d\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t2 + t) \\<in> inner", "by (metis (no_types, hide_lams) closed_segment_commute ends_in_segment(1) local.existence_ivl_trans' local.flow_undefined0 real_Icc_closed_segment subset_eq \\<open>t1 \\<le> t2\\<close>)"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 x (t2 + ?t3) \\<in> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "(* Construct a sequence of times converging to these points in r2 \\<subseteq> outer *)"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 x (t2 + ?t3) \\<in> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have outer: \"{a <--< flow0 x t2} \\<subseteq> closure outer\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a<--<flow0 x t2} \\<subseteq> closure outer", "proof (rule subsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "assume y: \"y \\<in> {a <--< flow0 x t2}\""], ["proof (state)\nthis:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "have [simp]: \"y \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> X", "using y suba12_open suba2o \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by auto"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "have \"(\\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer", "using y"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer", "using suba12_open \\<open>0 < d\\<close> suba2o \\<open>{a -- b} \\<subseteq> X\\<close>"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n  0 < d\n  {a<--<flow0 x t2} \\<subseteq> {a--b}\n  {a--b} \\<subseteq> X\n\ngoal (1 subgoal):\n 1. \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer", "by (auto intro!: set_mp[OF \\<open>r2 \\<subseteq> outer\\<close>] image_eqI[where x=\"(y, -d/Suc (Suc n))\" for n]\n            simp: r2_def divide_simps)"], ["proof (state)\nthis:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "moreover"], ["proof (state)\nthis:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "have d_over_0: \"(\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> 0", "by (rule real_tendsto_divide_at_top)\n          (auto intro!: filterlim_tendsto_add_at_top filterlim_real_sequentially)"], ["proof (state)\nthis:\n  (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "have \"(\\<lambda>n. flow0 y (- d / real (Suc (Suc n)))) \\<longlonglongrightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n    \\<longlonglongrightarrow> y", "apply (rule tendsto_eq_intros)"], ["proof (prove)\ngoal (4 subgoals):\n 1. (\\<lambda>s. y) \\<longlonglongrightarrow> ?xs1\n 2. (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> ?ts1\n 3. ?ts1 \\<in> existence_ivl0 ?xs1\n 4. flow0 ?xs1 ?ts1 = y", "apply (rule tendsto_intros)"], ["proof (prove)\ngoal (3 subgoals):\n 1. (\\<lambda>s. - d / real (Suc (Suc s))) \\<longlonglongrightarrow> ?ts1\n 2. ?ts1 \\<in> existence_ivl0 y\n 3. flow0 y ?ts1 = y", "apply (rule d_over_0)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<in> existence_ivl0 y\n 2. flow0 y 0 = y", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> {a<--<flow0 x t2} \\<Longrightarrow> xa \\<in> closure outer", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y", "show \"y \\<in> closure outer\""], ["proof (prove)\nusing this:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y\n\ngoal (1 subgoal):\n 1. y \\<in> closure outer", "unfolding closure_sequential"], ["proof (prove)\nusing this:\n  \\<forall>n. flow0 y (- d / real (Suc (Suc n))) \\<in> outer\n  (\\<lambda>n. flow0 y (- d / real (Suc (Suc n))))\n  \\<longlonglongrightarrow> y\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       (\\<forall>n. x n \\<in> outer) \\<and> x \\<longlonglongrightarrow> y", "by (intro exI[where x=\"\\<lambda>n. flow0 y (-d/Suc (Suc n))\"]) (rule conjI)"], ["proof (state)\nthis:\n  y \\<in> closure outer\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  {a<--<flow0 x t2} \\<subseteq> closure outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a<--<flow0 x t2} \\<subseteq> closure outer", "have \"{a <--< flow0 x t1} \\<subseteq> closure outer\""], ["proof (prove)\nusing this:\n  {a<--<flow0 x t2} \\<subseteq> closure outer\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> closure outer", "using suba12_open"], ["proof (prove)\nusing this:\n  {a<--<flow0 x t2} \\<subseteq> closure outer\n  {a<--<flow0 x t1} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. {a<--<flow0 x t1} \\<subseteq> closure outer", "by blast"], ["proof (state)\nthis:\n  {a<--<flow0 x t1} \\<subseteq> closure outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  {a<--<flow0 x t1} \\<subseteq> closure outer", "have \"{flow0 x t1 -- flow0 x t2} \\<subseteq> closure outer\""], ["proof (prove)\nusing this:\n  {a<--<flow0 x t1} \\<subseteq> closure outer\n\ngoal (1 subgoal):\n 1. {flow0 x t1--flow0 x t2} \\<subseteq> closure outer", "by (metis (no_types, lifting) closure_closure closure_mono closure_open_segment dual_order.trans outer subl x1neqx2)"], ["proof (state)\nthis:\n  {flow0 x t1--flow0 x t2} \\<subseteq> closure outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have inner:\"\\<And>t. t > t2 \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<in> inner\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> flow0 x t \\<in> inner", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "assume t: \"t > t2\" \"t \\<in> existence_ivl0 x\" \"flow0 x t \\<notin> inner\""], ["proof (state)\nthis:\n  t2 < t\n  t \\<in> existence_ivl0 x\n  flow0 x t \\<notin> inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"0 \\<le> t- (t2+d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + d)", "using t2o t"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?t3; ?t3 < d\\<rbrakk>\n  \\<Longrightarrow> flow0 x (t2 + ?t3) \\<in> inner\n  t2 < t\n  t \\<in> existence_ivl0 x\n  flow0 x t \\<notin> inner\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + d)", "by smt"], ["proof (state)\nthis:\n  0 \\<le> t - (t2 + d)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0 \\<le> t - (t2 + d)", "have a2:\"0 \\<le> t - (t2+dr)\""], ["proof (prove)\nusing this:\n  0 \\<le> t - (t2 + d)\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + dr)", "using d \\<open>0 < dr\\<close> \\<open>dr < d\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> t - (t2 + d)\n  0 < d\n  0 < dr\n  dr < d\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - (t2 + dr)", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> t - (t2 + dr)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have t2d2_ex: \"t2 + dr \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 + dr \\<in> existence_ivl0 x", "using \\<open>t1 \\<le> t2\\<close> exist d_ex[of \"flow0 x t2\"] \\<open>flow0 x t2 \\<in> {a--b}\\<close> \\<open>0 < d\\<close> \\<open>0 < dr\\<close> \\<open>dr < d\\<close>"], ["proof (prove)\nusing this:\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  flow0 x t2 \\<in> {a--b} \\<Longrightarrow>\n  {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2)\n  flow0 x t2 \\<in> {a--b}\n  0 < d\n  0 < dr\n  dr < d\n\ngoal (1 subgoal):\n 1. t2 + dr \\<in> existence_ivl0 x", "by (intro existence_ivl_trans) auto"], ["proof (state)\nthis:\n  t2 + dr \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t2 + dr \\<in> existence_ivl0 x", "have a3: \"t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))\""], ["proof (prove)\nusing this:\n  t2 + dr \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))", "using t(2)"], ["proof (prove)\nusing this:\n  t2 + dr \\<in> existence_ivl0 x\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))", "by (intro diff_existence_ivl_trans) auto"], ["proof (state)\nthis:\n  t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))", "have \"flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\""], ["proof (prove)\nusing this:\n  t - (t2 + dr) \\<in> existence_ivl0 (flow0 x (t2 + dr))\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t", "by (subst flow_trans[symmetric]) (auto simp: t2d2_ex)"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"flow0 x t \\<in> closure outer\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<in> closure outer", "using t(3) io"], ["proof (prove)\nusing this:\n  flow0 x t \\<notin> inner\n  inner \\<noteq> {}\n  open inner\n  connected inner\n  outer \\<noteq> {}\n  open outer\n  connected outer\n  bounded inner\n  \\<not> bounded outer\n  inner \\<inter> outer = {}\n  inner \\<union> outer = - path_image J\n  frontier inner = path_image J\n  frontier outer = path_image J\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> closure outer", "by (metis ComplI Un_iff closure_Un_frontier)"], ["proof (state)\nthis:\n  flow0 x t \\<in> closure outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n  flow0 x t \\<in> closure outer", "have a4: \"flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) \\<in> closure outer\""], ["proof (prove)\nusing this:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) = flow0 x t\n  flow0 x t \\<in> closure outer\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) \\<in> closure outer", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (t - (t2 + dr)) \\<in> closure outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have a1: \"flow0 x (t2+dr) \\<in> inner\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (t2 + dr) \\<in> inner", "by (simp add: d t2o \\<open>0 < dr\\<close> \\<open>dr < d\\<close>)"], ["proof (state)\nthis:\n  flow0 x (t2 + dr) \\<in> inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "from inside_out[OF a1 a2 a3 a4]"], ["proof (chain)\npicking this:\n  \\<exists>T>0.\n     T \\<le> t - (t2 + dr) \\<and>\n     (\\<forall>s\\<in>{0..<T}.\n         flow0 (flow0 x (t2 + dr)) s \\<in> inner) \\<and>\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}", "obtain T where T: \"T > 0\" \"T \\<le> t - (t2 + dr)\"\n        \"(\\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner)\"\n        \"flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1 --< flow0 x t2}\""], ["proof (prove)\nusing this:\n  \\<exists>T>0.\n     T \\<le> t - (t2 + dr) \\<and>\n     (\\<forall>s\\<in>{0..<T}.\n         flow0 (flow0 x (t2 + dr)) s \\<in> inner) \\<and>\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; T \\<le> t - (t2 + dr);\n         \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n         flow0 (flow0 x (t2 + dr)) T\n         \\<in> {flow0 x t1--<flow0 x t2}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "define y where \"y = flow0 (flow0 x (t2 + dr)) T\""], ["proof (state)\nthis:\n  y = flow0 (flow0 x (t2 + dr)) T\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"y \\<in> {a <--< flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> {a<--<flow0 x t2}", "unfolding y_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) T \\<in> {a<--<flow0 x t2}", "using T(4)"], ["proof (prove)\nusing this:\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) T \\<in> {a<--<flow0 x t2}", "using subl2"], ["proof (prove)\nusing this:\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  {flow0 x t1--<flow0 x t2} \\<subseteq> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) T \\<in> {a<--<flow0 x t2}", "by blast"], ["proof (state)\nthis:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  y \\<in> {a<--<flow0 x t2}", "have \"(\\<lambda>(x, y). flow0 x y)`({y} \\<times> {-d<..<0}) \\<subseteq> r2\""], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2", "unfolding r2_def"], ["proof (prove)\nusing this:\n  y \\<in> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0})\n    \\<subseteq> (\\<lambda>(x, y). flow0 x y) `\n                ({a<--<flow0 x t2} \\<times> {- d<..<0})", "by (auto intro!:image_mono)"], ["proof (state)\nthis:\n  (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2", "have *:\"\\<And>t. -d < t \\<Longrightarrow> t < 0 \\<Longrightarrow> flow0 y t \\<in> r2\""], ["proof (prove)\nusing this:\n  (\\<lambda>(x, y). flow0 x y) ` ({y} \\<times> {- d<..<0}) \\<subseteq> r2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>- d < t; t < 0\\<rbrakk> \\<Longrightarrow> flow0 y t \\<in> r2", "by (simp add: pair_imageI subsetD)"], ["proof (state)\nthis:\n  \\<lbrakk>- d < ?t3; ?t3 < 0\\<rbrakk>\n  \\<Longrightarrow> flow0 y ?t3 \\<in> r2\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"max (-T/2) dl < 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. max (- T / 2) dl < 0", "using d T \\<open>0 > dl\\<close> \\<open>dl > -d\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  dl < 0\n  - d < dl\n\ngoal (1 subgoal):\n 1. max (- T / 2) dl < 0", "by auto"], ["proof (state)\nthis:\n  max (- T / 2) dl < 0\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  max (- T / 2) dl < 0\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"-d < max (-T/2) dl\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - d < max (- T / 2) dl", "using d T \\<open>0 > dl\\<close> \\<open>dl > -d\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  dl < 0\n  - d < dl\n\ngoal (1 subgoal):\n 1. - d < max (- T / 2) dl", "by auto"], ["proof (state)\nthis:\n  - d < max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  max (- T / 2) dl < 0\n  - d < max (- T / 2) dl", "have outer: \"flow0 y (max (-T/2) dl) \\<in> outer\""], ["proof (prove)\nusing this:\n  max (- T / 2) dl < 0\n  - d < max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. flow0 y (max (- T / 2) dl) \\<in> outer", "using * \\<open>r2 \\<subseteq> outer\\<close>"], ["proof (prove)\nusing this:\n  max (- T / 2) dl < 0\n  - d < max (- T / 2) dl\n  \\<lbrakk>- d < ?t3; ?t3 < 0\\<rbrakk>\n  \\<Longrightarrow> flow0 y ?t3 \\<in> r2\n  r2 \\<subseteq> outer\n\ngoal (1 subgoal):\n 1. flow0 y (max (- T / 2) dl) \\<in> outer", "by blast"], ["proof (state)\nthis:\n  flow0 y (max (- T / 2) dl) \\<in> outer\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"0\\<le>(T+(max (-T/2) dl))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> T + max (- T / 2) dl", "using T(1)"], ["proof (prove)\nusing this:\n  0 < T\n\ngoal (1 subgoal):\n 1. 0 \\<le> T + max (- T / 2) dl", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> T + max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  0 \\<le> T + max (- T / 2) dl\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have \"(T+(max (-T/2) dl)) < T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T + max (- T / 2) dl < T", "using T(1) d \\<open>0 > dl\\<close> \\<open>dl > -d\\<close>"], ["proof (prove)\nusing this:\n  0 < T\n  0 < d\n  dl < 0\n  - d < dl\n\ngoal (1 subgoal):\n 1. T + max (- T / 2) dl < T", "by linarith"], ["proof (state)\nthis:\n  T + max (- T / 2) dl < T\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> T + max (- T / 2) dl\n  T + max (- T / 2) dl < T", "have inner: \" flow0 (flow0 x (t2 + dr)) (T+(max (-T/2) dl)) \\<in> inner\""], ["proof (prove)\nusing this:\n  0 \\<le> T + max (- T / 2) dl\n  T + max (- T / 2) dl < T\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (T + max (- T / 2) dl) \\<in> inner", "using T"], ["proof (prove)\nusing this:\n  0 \\<le> T + max (- T / 2) dl\n  T + max (- T / 2) dl < T\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t2 + dr)) (T + max (- T / 2) dl) \\<in> inner", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x (t2 + dr)) (T + max (- T / 2) dl) \\<in> inner\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have T_ex: \"T \\<in> existence_ivl0 (flow0 x (t2 + dr))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<in> existence_ivl0 (flow0 x (t2 + dr))", "apply (subst flow_trans)"], ["proof (prove)\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl0 x\n 2. dr \\<in> existence_ivl0 (flow0 x t2)\n 3. T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "using exist \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl0 x\n 2. dr \\<in> existence_ivl0 (flow0 x t2)\n 3. T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "using d_ex[of \"flow0 x t2\"] \\<open>flow0 x t2 \\<in> {a -- b}\\<close> \\<open>d > 0\\<close> T \\<open>0 < dr\\<close> \\<open>dr < d\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n  flow0 x t2 \\<in> {a--b} \\<Longrightarrow>\n  {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2)\n  flow0 x t2 \\<in> {a--b}\n  0 < d\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  0 < dr\n  dr < d\n\ngoal (3 subgoals):\n 1. t2 \\<in> existence_ivl0 x\n 2. dr \\<in> existence_ivl0 (flow0 x t2)\n 3. T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (auto simp: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> T \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (rule set_rev_mp[where A=\"{0 .. t - (t2 + dr)}\"], force)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> {0..t - (t2 + dr)}\n                      \\<subseteq> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (rule ivl_subset_existence_ivl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> t - (t2 + dr)\n                      \\<in> existence_ivl0 (flow0 (flow0 x t2) dr)", "apply (rule existence_ivl_trans')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> dr + (t - (t2 + dr)) \\<in> existence_ivl0 (flow0 x t2)\n 2. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> dr \\<in> existence_ivl0 (flow0 x t2)", "apply (rule existence_ivl_trans')"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> t2 + (dr + (t - (t2 + dr))) \\<in> existence_ivl0 x\n 2. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> t2 \\<in> existence_ivl0 x\n 3. \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x; t1 \\<le> t2;\n     {- d..d} \\<subseteq> existence_ivl0 (flow0 x t2);\n     flow0 x t2 \\<in> {a--b}; 0 < T; T \\<le> t - (t2 + dr);\n     \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner;\n     flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}; 0 < dr;\n     dr < d\\<rbrakk>\n    \\<Longrightarrow> dr \\<in> existence_ivl0 (flow0 x t2)", "by (auto simp: t)"], ["proof (state)\nthis:\n  T \\<in> existence_ivl0 (flow0 x (t2 + dr))\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "have T_ex2: \"dr + T \\<in> existence_ivl0 (flow0 x t2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dr + T \\<in> existence_ivl0 (flow0 x t2)", "by (smt T_ex ends_in_segment(2) exist local.existence_ivl_trans local.existence_ivl_trans' real_Icc_closed_segment subset_eq t2d2_ex \\<open>t1 \\<le> t2\\<close>)"], ["proof (state)\nthis:\n  dr + T \\<in> existence_ivl0 (flow0 x t2)\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x;\n        flow0 x t \\<notin> inner\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  dr + T \\<in> existence_ivl0 (flow0 x t2)\n\ngoal (1 subgoal):\n 1. False", "using T \\<open>t1 \\<le> t2\\<close> exist"], ["proof (prove)\nusing this:\n  dr + T \\<in> existence_ivl0 (flow0 x t2)\n  0 < T\n  T \\<le> t - (t2 + dr)\n  \\<forall>s\\<in>{0..<T}. flow0 (flow0 x (t2 + dr)) s \\<in> inner\n  flow0 (flow0 x (t2 + dr)) T \\<in> {flow0 x t1--<flow0 x t2}\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. False", "by (smt T_ex diff_existence_ivl_trans disjoint_iff_not_equal inner io(9) local.flow_trans local.flow_undefined0 outer y_def)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>t2 < ?t3; ?t3 \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?t3 \\<in> inner\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"closure outer \\<inter> inner = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closure outer \\<inter> inner = {}", "by (metis inf_sup_aci(1) io(2) io2(1) open_Int_closure_eq_empty)"], ["proof (state)\nthis:\n  closure outer \\<inter> inner = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  closure outer \\<inter> inner = {}", "have \"flow0 x t \\<notin> {a<--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  closure outer \\<inter> inner = {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "using \\<open>t > t2\\<close> \\<open>t \\<in> existence_ivl0 x\\<close> inner outer"], ["proof (prove)\nusing this:\n  closure outer \\<inter> inner = {}\n  t2 < t\n  t \\<in> existence_ivl0 x\n  \\<lbrakk>t2 < ?t3; ?t3 \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?t3 \\<in> inner\n  {a<--<flow0 x t2} \\<subseteq> closure outer\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "by blast"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>flow0 rp dr \\<in> inner; flow0 rp dl \\<in> outer\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "ultimately"], ["proof (chain)\npicking this:\n  flow0 rp dr \\<in> outer \\<and> flow0 rp dl \\<in> inner \\<or>\n  flow0 rp dr \\<in> inner \\<and> flow0 rp dl \\<in> outer\n  \\<lbrakk>flow0 rp dr \\<in> outer; flow0 rp dl \\<in> inner\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n  \\<lbrakk>flow0 rp dr \\<in> inner; flow0 rp dl \\<in> outer\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}", "show\n    \"flow0 x t \\<notin> {a<--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  flow0 rp dr \\<in> outer \\<and> flow0 rp dl \\<in> inner \\<or>\n  flow0 rp dr \\<in> inner \\<and> flow0 rp dl \\<in> outer\n  \\<lbrakk>flow0 rp dr \\<in> outer; flow0 rp dl \\<in> inner\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n  \\<lbrakk>flow0 rp dr \\<in> inner; flow0 rp dl \\<in> outer\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "by auto"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma open_segment_trichotomy:\n  fixes x y a b::'a\n  assumes x:\"x \\<in> {a<--<b}\"\n  assumes y:\"y \\<in> {a<--<b}\"\n  shows \"x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "from Un_open_segment[OF y]"], ["proof (chain)\npicking this:\n  {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}", "have \"{a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}\""], ["proof (prove)\nusing this:\n  {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}\n\ngoal (1 subgoal):\n 1. {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}", "."], ["proof (state)\nthis:\n  {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "then"], ["proof (chain)\npicking this:\n  {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}", "have \"x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y <--<b}\""], ["proof (prove)\nusing this:\n  {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}", "using x"], ["proof (prove)\nusing this:\n  {a<--<y} \\<union> {y} \\<union> {y<--<b} = {a<--<b}\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "moreover"], ["proof (state)\nthis:\n  x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "{"], ["proof (state)\nthis:\n  x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "assume \"x \\<in> {a<--<y}\""], ["proof (state)\nthis:\n  x \\<in> {a<--<y}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "then"], ["proof (chain)\npicking this:\n  x \\<in> {a<--<y}", "have \"y \\<in> {x<--<b}\""], ["proof (prove)\nusing this:\n  x \\<in> {a<--<y}\n\ngoal (1 subgoal):\n 1. y \\<in> {x<--<b}", "using open_segment_subsegment"], ["proof (prove)\nusing this:\n  x \\<in> {a<--<y}\n  \\<lbrakk>?x1.0 \\<in> {?x0.0<--<?x3.0};\n   ?x2.0 \\<in> {?x1.0<--<?x3.0}\\<rbrakk>\n  \\<Longrightarrow> ?x1.0 \\<in> {?x0.0<--<?x2.0}\n\ngoal (1 subgoal):\n 1. y \\<in> {x<--<b}", "using open_segment_commute y"], ["proof (prove)\nusing this:\n  x \\<in> {a<--<y}\n  \\<lbrakk>?x1.0 \\<in> {?x0.0<--<?x3.0};\n   ?x2.0 \\<in> {?x1.0<--<?x3.0}\\<rbrakk>\n  \\<Longrightarrow> ?x1.0 \\<in> {?x0.0<--<?x2.0}\n  {?a<--<?b} = {?b<--<?a}\n  y \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. y \\<in> {x<--<b}", "by blast"], ["proof (state)\nthis:\n  y \\<in> {x<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "}"], ["proof (state)\nthis:\n  x \\<in> {a<--<y} \\<Longrightarrow> y \\<in> {x<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "moreover"], ["proof (state)\nthis:\n  x \\<in> {a<--<y} \\<Longrightarrow> y \\<in> {x<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "{"], ["proof (state)\nthis:\n  x \\<in> {a<--<y} \\<Longrightarrow> y \\<in> {x<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "assume \"x \\<in> {y<--<b}\""], ["proof (state)\nthis:\n  x \\<in> {y<--<b}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "from open_segment_subsegment[OF y this]"], ["proof (chain)\npicking this:\n  y \\<in> {a<--<x}", "have \"y \\<in> {a<--<x}\""], ["proof (prove)\nusing this:\n  y \\<in> {a<--<x}\n\ngoal (1 subgoal):\n 1. y \\<in> {a<--<x}", "."], ["proof (state)\nthis:\n  y \\<in> {a<--<x}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "}"], ["proof (state)\nthis:\n  x \\<in> {y<--<b} \\<Longrightarrow> y \\<in> {a<--<x}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "ultimately"], ["proof (chain)\npicking this:\n  x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}\n  x \\<in> {a<--<y} \\<Longrightarrow> y \\<in> {x<--<b}\n  x \\<in> {y<--<b} \\<Longrightarrow> y \\<in> {a<--<x}", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> {a<--<y} \\<or> x = y \\<or> x \\<in> {y<--<b}\n  x \\<in> {a<--<y} \\<Longrightarrow> y \\<in> {x<--<b}\n  x \\<in> {y<--<b} \\<Longrightarrow> y \\<in> {a<--<x}\n\ngoal (1 subgoal):\n 1. x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}", "by blast"], ["proof (state)\nthis:\n  x = y \\<or> y \\<in> {x<--<b} \\<or> y \\<in> {a<--<x}\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale rev: c1_on_open_R2 \"-f\" \"-f'\" rewrites \"-(-f) = f\" and \"-(-f') = f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c1_on_open_R2 (- f) (- f') X &&& - (- f) = f &&& - (- f') = f'", "by unfold_locales (auto simp: dim2)"], ["", "lemma rev_transversal_segment: \"rev.transversal_segment a b = transversal_segment a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev.transversal_segment a b = transversal_segment a b", "by (auto simp: transversal_segment_def rev.transversal_segment_def)"], ["", "lemma flow0_transversal_segment_monotone_step_reverse:\n  assumes \"transversal_segment a b\"\n  assumes \"t1 \\<le> t2\"\n  assumes \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes x1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes x2: \"flow0 x t2 \\<in> {a<--<flow0 x t1}\"\n  assumes \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  assumes \"t < t1\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {a<--<flow0 x t1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "note exist = \\<open>{t1..t2} \\<subseteq> existence_ivl0 x\\<close>"], ["proof (state)\nthis:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "note t1t2 = \\<open>\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\\<close>"], ["proof (state)\nthis:\n  ?t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "from \\<open>transversal_segment a b\\<close>"], ["proof (chain)\npicking this:\n  transversal_segment a b", "have [simp]: \"a \\<noteq> b\""], ["proof (prove)\nusing this:\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by (simp add: transversal_segment_def)"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "from x1"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> {a<--<b}", "obtain i1 where i1: \"flow0 x t1 = line a b i1\" \"0 < i1\" \"i1 < 1\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>i1.\n        \\<lbrakk>flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>; 0 < i1;\n         i1 < 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_open_segment_iff_line)"], ["proof (state)\nthis:\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "from x2"], ["proof (chain)\npicking this:\n  flow0 x t2 \\<in> {a<--<flow0 x t1}", "obtain i2 where i2: \"flow0 x t2 = line a b i2\" \"0 < i2\" \"i2 < i1\""], ["proof (prove)\nusing this:\n  flow0 x t2 \\<in> {a<--<flow0 x t1}\n\ngoal (1 subgoal):\n 1. (\\<And>i2.\n        \\<lbrakk>flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>; 0 < i2;\n         i2 < i1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: i1 open_segment_line_iff)"], ["proof (state)\nthis:\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  0 < i2\n  i2 < i1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have t2_exist[simp]: \"t2 \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 \\<in> existence_ivl0 x", "using \\<open>t1 \\<le> t2\\<close> exist"], ["proof (prove)\nusing this:\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t2 \\<in> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  t2 \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have t2_mem: \"flow0 x t2 \\<in> {a<--<b}\"\n    and x1_mem: \"flow0 x t1 \\<in> {flow0 x t2<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> {a<--<b} &&& flow0 x t1 \\<in> {flow0 x t2<--<b}", "using i1 i2"], ["proof (prove)\nusing this:\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  0 < i2\n  i2 < i1\n\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> {a<--<b} &&& flow0 x t1 \\<in> {flow0 x t2<--<b}", "by (auto simp: line_in_subsegment line_line1)"], ["proof (state)\nthis:\n  flow0 x t2 \\<in> {a<--<b}\n  flow0 x t1 \\<in> {flow0 x t2<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have transversal': \"rev.transversal_segment a b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev.transversal_segment a b", "using \\<open>transversal_segment a b\\<close>"], ["proof (prove)\nusing this:\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. rev.transversal_segment a b", "unfolding rev_transversal_segment"], ["proof (prove)\nusing this:\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. transversal_segment a b", "."], ["proof (state)\nthis:\n  rev.transversal_segment a b\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have time': \"0 \\<le> t2 - t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t2 - t1", "using \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  t1 \\<le> t2\n\ngoal (1 subgoal):\n 1. 0 \\<le> t2 - t1", "by simp"], ["proof (state)\nthis:\n  0 \\<le> t2 - t1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have [simp, intro]: \"flow0 x t2 \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> X", "using exist \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> X", "by auto"], ["proof (state)\nthis:\n  flow0 x t2 \\<in> X\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have exivl': \"{0..t2 - t1} \\<subseteq> rev.existence_ivl0 (flow0 x t2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..t2 - t1} \\<subseteq> rev.existence_ivl0 (flow0 x t2)", "using exist \\<open>t1 \\<le> t2\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n\ngoal (1 subgoal):\n 1. {0..t2 - t1} \\<subseteq> rev.existence_ivl0 (flow0 x t2)", "by (force simp add: rev_existence_ivl_eq0 intro!: existence_ivl_trans')"], ["proof (state)\nthis:\n  {0..t2 - t1} \\<subseteq> rev.existence_ivl0 (flow0 x t2)\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "have step': \"rev.flow0 (flow0 x t2) (t2-t) \\<notin>  {a<--<rev.flow0 (flow0 x t2) (t2 - t1)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev.flow0 (flow0 x t2) (t2 - t)\n    \\<notin> {a<--<rev.flow0 (flow0 x t2) (t2 - t1)}", "apply (rule rev.flow0_transversal_segment_monotone_step[OF transversal' time' exivl'])"], ["proof (prove)\ngoal (5 subgoals):\n 1. rev.flow0 (flow0 x t2) 0 \\<in> {a<--<b}\n 2. rev.flow0 (flow0 x t2) (t2 - t1) \\<in> {rev.flow0 (flow0 x t2) 0<--<b}\n 3. \\<And>t.\n       t \\<in> {0<..<t2 - t1} \\<Longrightarrow>\n       rev.flow0 (flow0 x t2) t \\<notin> {a<--<b}\n 4. t2 - t1 < t2 - t\n 5. t2 - t \\<in> rev.existence_ivl0 (flow0 x t2)", "using exist \\<open>t1 \\<le> t2\\<close> x1 x2 t2_mem x1_mem t1t2 \\<open>t < t1\\<close> \\<open>t \\<in> existence_ivl0 x\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {a<--<flow0 x t1}\n  flow0 x t2 \\<in> {a<--<b}\n  flow0 x t1 \\<in> {flow0 x t2<--<b}\n  ?t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t \\<notin> {a<--<b}\n  t < t1\n  t \\<in> existence_ivl0 x\n\ngoal (5 subgoals):\n 1. rev.flow0 (flow0 x t2) 0 \\<in> {a<--<b}\n 2. rev.flow0 (flow0 x t2) (t2 - t1) \\<in> {rev.flow0 (flow0 x t2) 0<--<b}\n 3. \\<And>t.\n       t \\<in> {0<..<t2 - t1} \\<Longrightarrow>\n       rev.flow0 (flow0 x t2) t \\<notin> {a<--<b}\n 4. t2 - t1 < t2 - t\n 5. t2 - t \\<in> rev.existence_ivl0 (flow0 x t2)", "apply (auto simp: rev_existence_ivl_eq0 rev_eq_flow existence_ivl_trans' flow_trans[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>ta.\n       \\<lbrakk>{t1..t2} \\<subseteq> existence_ivl0 x;\n        flow0 x t1 \\<in> {a<--<b}; flow0 x t2 \\<in> {a<--<flow0 x t1};\n        flow0 x t2 \\<in> {a<--<b}; flow0 x t1 \\<in> {flow0 x t2<--<b};\n        \\<And>t.\n           t1 < t \\<and> t < t2 \\<Longrightarrow>\n           flow0 x t \\<notin> {a<--<b};\n        t < t1; t \\<in> existence_ivl0 x; 0 < ta; ta < t2 - t1;\n        flow0 (flow0 x t2) (- ta) \\<in> {a<--<b}\\<rbrakk>\n       \\<Longrightarrow> False", "by (subst (asm) flow_trans[symmetric]) (auto intro!: existence_ivl_trans')"], ["proof (state)\nthis:\n  rev.flow0 (flow0 x t2) (t2 - t)\n  \\<notin> {a<--<rev.flow0 (flow0 x t2) (t2 - t1)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "then"], ["proof (chain)\npicking this:\n  rev.flow0 (flow0 x t2) (t2 - t)\n  \\<notin> {a<--<rev.flow0 (flow0 x t2) (t2 - t1)}", "show ?thesis"], ["proof (prove)\nusing this:\n  rev.flow0 (flow0 x t2) (t2 - t)\n  \\<notin> {a<--<rev.flow0 (flow0 x t2) (t2 - t1)}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "unfolding rev_eq_flow"], ["proof (prove)\nusing this:\n  flow0 (flow0 x t2) (- (t2 - t))\n  \\<notin> {a<--<flow0 (flow0 x t2) (- (t2 - t1))}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "using \\<open>t1 \\<le> t2\\<close> exist \\<open>t < t1\\<close> \\<open>t \\<in> existence_ivl0 x\\<close>"], ["proof (prove)\nusing this:\n  flow0 (flow0 x t2) (- (t2 - t))\n  \\<notin> {a<--<flow0 (flow0 x t2) (- (t2 - t1))}\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t < t1\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t1}", "by (auto simp: flow_trans[symmetric] existence_ivl_trans')"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t1}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow0_transversal_segment_monotone_step_reverse2:\n  assumes transversal: \"transversal_segment a b\"\n  assumes time: \"t1 \\<le> t2\"\n  assumes exist: \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes t1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes t2: \"flow0 x t2 \\<in> {flow0 x t1<--<b}\"\n  assumes t1t2: \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  assumes t: \"t < t1\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {flow0 x t1<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {flow0 x t1<--<b}", "using flow0_transversal_segment_monotone_step_reverse[of b a, OF _ time exist, of t]\n    assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>transversal_segment b a; flow0 x t1 \\<in> {b<--<a};\n   flow0 x t2 \\<in> {b<--<flow0 x t1};\n   \\<And>t.\n      t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {b<--<a};\n   t < t1; t \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x t \\<notin> {b<--<flow0 x t1}\n  transversal_segment a b\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  ?t2 \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t2 \\<notin> {a<--<b}\n  t < t1\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {flow0 x t1<--<b}", "by (auto simp: open_segment_commute transversal_segment_commute)"], ["", "lemma flow0_transversal_segment_monotone_step2:\n  assumes transversal: \"transversal_segment a b\"\n  assumes time: \"t1 \\<le> t2\"\n  assumes exist: \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes t1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes t2: \"flow0 x t2 \\<in> {a<--<flow0 x t1}\"\n  assumes t1t2: \"\\<And>t. t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {a<--<b}\"\n  shows \"\\<And>t. t > t2 \\<Longrightarrow> t \\<in> existence_ivl0 x \\<Longrightarrow> flow0 x t \\<notin> {flow0 x t2<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> flow0 x t \\<notin> {flow0 x t2<--<b}", "using flow0_transversal_segment_monotone_step[of b a, OF _ time exist]\n    assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>transversal_segment b a; flow0 x t1 \\<in> {b<--<a};\n   flow0 x t2 \\<in> {flow0 x t1<--<a};\n   \\<And>t.\n      t \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x t \\<notin> {b<--<a};\n   t2 < ?t; ?t \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?t \\<notin> {b<--<flow0 x t2}\n  transversal_segment a b\n  t1 \\<le> t2\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {a<--<flow0 x t1}\n  ?t2 \\<in> {t1<..<t2} \\<Longrightarrow> flow0 x ?t2 \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<And>t.\n       \\<lbrakk>t2 < t; t \\<in> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> flow0 x t \\<notin> {flow0 x t2<--<b}", "by (auto simp: transversal_segment_commute open_segment_commute)"], ["", "lemma flow0_transversal_segment_monotone:\n  assumes \"transversal_segment a b\"\n  assumes \"t1 \\<le> t2\"\n  assumes \"{t1..t2} \\<subseteq> existence_ivl0 x\"\n  assumes x1: \"flow0 x t1 \\<in> {a<--<b}\"\n  assumes x2: \"flow0 x t2 \\<in> {flow0 x t1<--<b}\"\n  assumes \"t > t2\" \"t \\<in> existence_ivl0 x\"\n  shows \"flow0 x t \\<notin> {a<--<flow0 x t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "note exist = \\<open>{t1..t2} \\<subseteq> existence_ivl0 x\\<close>"], ["proof (state)\nthis:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "note t = \\<open>t > t2\\<close> \\<open>t \\<in> existence_ivl0 x\\<close>"], ["proof (state)\nthis:\n  t2 < t\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have x1neqx2: \"flow0 x t1 \\<noteq> flow0 x t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t1 \\<noteq> flow0 x t2", "using open_segment_def x2"], ["proof (prove)\nusing this:\n  {?a<--<?b} \\<equiv> {?a--?b} - {?a, ?b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<noteq> flow0 x t2", "by force"], ["proof (state)\nthis:\n  flow0 x t1 \\<noteq> flow0 x t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<noteq> flow0 x t2", "have t1neqt2: \"t1 \\<noteq> t2\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<noteq> flow0 x t2\n\ngoal (1 subgoal):\n 1. t1 \\<noteq> t2", "by auto"], ["proof (state)\nthis:\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "with \\<open>t1 \\<le> t2\\<close>"], ["proof (chain)\npicking this:\n  t1 \\<le> t2\n  t1 \\<noteq> t2", "have \"t1 < t2\""], ["proof (prove)\nusing this:\n  t1 \\<le> t2\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. t1 < t2", "by simp"], ["proof (state)\nthis:\n  t1 < t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from \\<open>transversal_segment a b\\<close>"], ["proof (chain)\npicking this:\n  transversal_segment a b", "have [simp]: \"a \\<noteq> b\""], ["proof (prove)\nusing this:\n  transversal_segment a b\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by (simp add: transversal_segment_def)"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from x1"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> {a<--<b}", "obtain i1 where i1: \"flow0 x t1 = line a b i1\" \"0 < i1\" \"i1 < 1\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>i1.\n        \\<lbrakk>flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>; 0 < i1;\n         i1 < 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: in_open_segment_iff_line)"], ["proof (state)\nthis:\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from x2 i1"], ["proof (chain)\npicking this:\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1", "obtain i2 where i2: \"flow0 x t2 = line a b i2\" \"i1 < i2\" \"i2 < 1\""], ["proof (prove)\nusing this:\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n\ngoal (1 subgoal):\n 1. (\\<And>i2.\n        \\<lbrakk>flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>; i1 < i2;\n         i2 < 1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: line_open_segment_iff)"], ["proof (state)\nthis:\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  i1 < i2\n  i2 < 1\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have t2_in: \"flow0 x t2 \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> {a<--<b}", "using i1 i2"], ["proof (prove)\nusing this:\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  i1 < i2\n  i2 < 1\n\ngoal (1 subgoal):\n 1. flow0 x t2 \\<in> {a<--<b}", "by simp"], ["proof (state)\nthis:\n  flow0 x t2 \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "let ?T = \"{s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}\""], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "let ?T' = \"{s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\""], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from flow_transversal_segment_finite_intersections[OF \\<open>transversal_segment a b\\<close> \\<open>t1 \\<le> t2\\<close> exist]"], ["proof (chain)\npicking this:\n  finite {s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}", "have \"finite ?T\""], ["proof (prove)\nusing this:\n  finite {s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}\n\ngoal (1 subgoal):\n 1. finite {s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}", "."], ["proof (state)\nthis:\n  finite {s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  finite {s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}", "have \"finite ?T'\""], ["proof (prove)\nusing this:\n  finite {s \\<in> {t1..t2}. flow0 x s \\<in> {a--b}}\n\ngoal (1 subgoal):\n 1. finite {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}", "by (rule finite_subset[rotated]) (auto simp: open_closed_segment)"], ["proof (state)\nthis:\n  finite {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"?T' \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}} \\<noteq> {}", "by (auto intro!: exI[where x=t1] \\<open>t1 < t2\\<close> x1)"], ["proof (state)\nthis:\n  {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "note tm_defined = \\<open>finite ?T'\\<close> \\<open>?T' \\<noteq> {}\\<close>"], ["proof (state)\nthis:\n  finite {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n  {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "define tm where \"tm = Max ?T'\""], ["proof (state)\nthis:\n  tm = Max {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"tm \\<in> ?T'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. tm \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}", "unfolding tm_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Max {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n    \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}", "using tm_defined"], ["proof (prove)\nusing this:\n  finite {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n  {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. Max {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n    \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}", "by (rule Max_in)"], ["proof (state)\nthis:\n  tm \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have tm_in: \"flow0 x tm \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x tm \\<in> {a<--<b}", "using \\<open>tm \\<in> ?T'\\<close>"], ["proof (prove)\nusing this:\n  tm \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n\ngoal (1 subgoal):\n 1. flow0 x tm \\<in> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  flow0 x tm \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have tm: \"t1 \\<le> tm\" \"tm < t2\" \"tm \\<le> t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 \\<le> tm &&& tm < t2 &&& tm \\<le> t2", "using \\<open>tm \\<in> ?T'\\<close>"], ["proof (prove)\nusing this:\n  tm \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n\ngoal (1 subgoal):\n 1. t1 \\<le> tm &&& tm < t2 &&& tm \\<le> t2", "by auto"], ["proof (state)\nthis:\n  t1 \\<le> tm\n  tm < t2\n  tm \\<le> t2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have tm_Max: \"t \\<le> tm\" if \"t \\<in> ?T'\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<le> tm", "unfolding tm_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<le> Max {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}", "using tm_defined(1) that"], ["proof (prove)\nusing this:\n  finite {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n  t \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n\ngoal (1 subgoal):\n 1. t \\<le> Max {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}", "by (rule Max_ge)"], ["proof (state)\nthis:\n  ?t2 \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}} \\<Longrightarrow>\n  ?t2 \\<le> tm\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have tm_exclude: \"flow0 x t \\<notin> {a<--<b}\" if \"t \\<in> {tm<..<t2}\" for t"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<b}", "using \\<open>tm \\<in> ?T'\\<close> tm_Max that"], ["proof (prove)\nusing this:\n  tm \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}}\n  ?t2 \\<in> {s \\<in> {t1..<t2}. flow0 x s \\<in> {a<--<b}} \\<Longrightarrow>\n  ?t2 \\<le> tm\n  t \\<in> {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<b}", "by auto (meson approximation_preproc_push_neg(2) dual_order.strict_trans2 le_cases)"], ["proof (state)\nthis:\n  ?t2 \\<in> {tm<..<t2} \\<Longrightarrow> flow0 x ?t2 \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"{tm..t2} \\<subseteq> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {tm..t2} \\<subseteq> existence_ivl0 x", "using exist tm"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> tm\n  tm < t2\n  tm \\<le> t2\n\ngoal (1 subgoal):\n 1. {tm..t2} \\<subseteq> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  {tm..t2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "from open_segment_trichotomy[OF tm_in t2_in]"], ["proof (chain)\npicking this:\n  flow0 x tm = flow0 x t2 \\<or>\n  flow0 x t2 \\<in> {flow0 x tm<--<b} \\<or>\n  flow0 x t2 \\<in> {a<--<flow0 x tm}", "consider\n    \"flow0 x t2 \\<in> {flow0 x tm<--<b}\" |\n    \"flow0 x t2 \\<in> {a<--<flow0 x tm}\" |\n    \"flow0 x tm = flow0 x t2\""], ["proof (prove)\nusing this:\n  flow0 x tm = flow0 x t2 \\<or>\n  flow0 x t2 \\<in> {flow0 x tm<--<b} \\<or>\n  flow0 x t2 \\<in> {a<--<flow0 x tm}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>flow0 x t2 \\<in> {flow0 x tm<--<b} \\<Longrightarrow> thesis;\n     flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow> thesis;\n     flow0 x tm = flow0 x t2 \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>flow0 x t2 \\<in> {flow0 x tm<--<b} \\<Longrightarrow> ?thesis2;\n   flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow> ?thesis2;\n   flow0 x tm = flow0 x t2 \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>flow0 x t2 \\<in> {flow0 x tm<--<b} \\<Longrightarrow> ?thesis2;\n   flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow> ?thesis2;\n   flow0 x tm = flow0 x t2 \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2", "show \"flow0 x t \\<notin> {a<--<flow0 x t2}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>flow0 x t2 \\<in> {flow0 x tm<--<b} \\<Longrightarrow> ?thesis2;\n   flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow> ?thesis2;\n   flow0 x tm = flow0 x t2 \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. flow0 x t2 \\<in> {flow0 x tm<--<b} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 3. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "case 1"], ["proof (state)\nthis:\n  flow0 x t2 \\<in> {flow0 x tm<--<b}\n\ngoal (3 subgoals):\n 1. flow0 x t2 \\<in> {flow0 x tm<--<b} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 3. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "from flow0_transversal_segment_monotone_step[OF \\<open>transversal_segment a b\\<close> \\<open>tm \\<le> t2\\<close>\n        \\<open>{tm..t2} \\<subseteq> existence_ivl0 x\\<close> tm_in 1 tm_exclude t]"], ["proof (chain)\npicking this:\n  (\\<And>t.\n      t \\<in> {tm<..<t2} \\<Longrightarrow>\n      t \\<in> {tm<..<t2}) \\<Longrightarrow>\n  flow0 x t \\<notin> {a<--<flow0 x t2}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>t.\n      t \\<in> {tm<..<t2} \\<Longrightarrow>\n      t \\<in> {tm<..<t2}) \\<Longrightarrow>\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "."], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "case 2"], ["proof (state)\nthis:\n  flow0 x t2 \\<in> {a<--<flow0 x tm}\n\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"t1 \\<noteq> tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 \\<noteq> tm", "using 2 x2 i1 i2"], ["proof (prove)\nusing this:\n  flow0 x t2 \\<in> {a<--<flow0 x tm}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  i1 < i2\n  i2 < 1\n\ngoal (1 subgoal):\n 1. t1 \\<noteq> tm", "by (auto simp: line_in_subsegment line_in_subsegment2)"], ["proof (state)\nthis:\n  t1 \\<noteq> tm\n\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  t1 \\<noteq> tm", "have \"t1 < tm\""], ["proof (prove)\nusing this:\n  t1 \\<noteq> tm\n\ngoal (1 subgoal):\n 1. t1 < tm", "using \\<open>t1 \\<le> tm\\<close>"], ["proof (prove)\nusing this:\n  t1 \\<noteq> tm\n  t1 \\<le> tm\n\ngoal (1 subgoal):\n 1. t1 < tm", "by simp"], ["proof (state)\nthis:\n  t1 < tm\n\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "from flow0_transversal_segment_monotone_step_reverse[OF \\<open>transversal_segment a b\\<close> \\<open>tm \\<le> t2\\<close>\n        \\<open>{tm..t2} \\<subseteq> existence_ivl0 x\\<close> tm_in 2 tm_exclude \\<open>t1 < tm\\<close>] exist \\<open>t1 \\<le> t2\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>t. t \\<in> {tm<..<t2} \\<Longrightarrow> t \\<in> {tm<..<t2};\n   t1 \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x t1 \\<notin> {a<--<flow0 x tm}\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2", "have \"flow0 x t1 \\<notin> {a<--<flow0 x tm}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>t. t \\<in> {tm<..<t2} \\<Longrightarrow> t \\<in> {tm<..<t2};\n   t1 \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> flow0 x t1 \\<notin> {a<--<flow0 x tm}\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<notin> {a<--<flow0 x tm}", "by auto"], ["proof (state)\nthis:\n  flow0 x t1 \\<notin> {a<--<flow0 x tm}\n\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<notin> {a<--<flow0 x tm}", "have False"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<notin> {a<--<flow0 x tm}\n\ngoal (1 subgoal):\n 1. False", "using x1 x2 2 i1 i2"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<notin> {a<--<flow0 x tm}\n  flow0 x t1 \\<in> {a<--<b}\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n  flow0 x t2 \\<in> {a<--<flow0 x tm}\n  flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>\n  0 < i1\n  i1 < 1\n  flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>\n  i1 < i2\n  i2 < 1\n\ngoal (1 subgoal):\n 1. False", "apply (auto simp: line_in_subsegment line_in_subsegment2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>{a -- b}\\<^bsub>i1\\<^esub> \\<notin> {a<--<flow0 x tm};\n     {a -- b}\\<^bsub>i2\\<^esub> \\<in> {a<--<flow0 x tm};\n     flow0 x t1 = {a -- b}\\<^bsub>i1\\<^esub>; 0 < i1;\n     flow0 x t2 = {a -- b}\\<^bsub>i2\\<^esub>; i1 < i2; i2 < 1\\<rbrakk>\n    \\<Longrightarrow> False", "by (smt greaterThanLessThan_iff in_open_segment_iff_line line_in_subsegment2 tm_in)"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. flow0 x t2 \\<in> {a<--<flow0 x tm} \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}\n 2. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  False", "show ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "by simp"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "case 3"], ["proof (state)\nthis:\n  flow0 x tm = flow0 x t2\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"t1 \\<noteq> tm\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 \\<noteq> tm", "using 3 x2"], ["proof (prove)\nusing this:\n  flow0 x tm = flow0 x t2\n  flow0 x t2 \\<in> {flow0 x t1<--<b}\n\ngoal (1 subgoal):\n 1. t1 \\<noteq> tm", "by (auto simp: open_segment_def)"], ["proof (state)\nthis:\n  t1 \\<noteq> tm\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  t1 \\<noteq> tm", "have \"t1 < tm\""], ["proof (prove)\nusing this:\n  t1 \\<noteq> tm\n\ngoal (1 subgoal):\n 1. t1 < tm", "using \\<open>t1 \\<le> tm\\<close>"], ["proof (prove)\nusing this:\n  t1 \\<noteq> tm\n  t1 \\<le> tm\n\ngoal (1 subgoal):\n 1. t1 < tm", "by simp"], ["proof (state)\nthis:\n  t1 < tm\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"range (flow0 x) = flow0 x ` {tm..t2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 x) = flow0 x ` {tm..t2}", "apply (rule recurrence_time_restricts_compact_flow'[OF \\<open>tm < t2\\<close> _ _ 3])"], ["proof (prove)\ngoal (2 subgoals):\n 1. tm \\<in> existence_ivl0 x\n 2. t2 \\<in> existence_ivl0 x", "using exist \\<open>t1 \\<le> t2\\<close> \\<open>t1 < tm\\<close> \\<open>tm < t2\\<close>"], ["proof (prove)\nusing this:\n  {t1..t2} \\<subseteq> existence_ivl0 x\n  t1 \\<le> t2\n  t1 < tm\n  tm < t2\n\ngoal (2 subgoals):\n 1. tm \\<in> existence_ivl0 x\n 2. t2 \\<in> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  range (flow0 x) = flow0 x ` {tm..t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "also"], ["proof (state)\nthis:\n  range (flow0 x) = flow0 x ` {tm..t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"\\<dots> = flow0 x ` (insert t2 {tm<..<t2})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x ` {tm..t2} = flow0 x ` insert t2 {tm<..<t2}", "using \\<open>tm \\<le> t2\\<close> 3"], ["proof (prove)\nusing this:\n  tm \\<le> t2\n  flow0 x tm = flow0 x t2\n\ngoal (1 subgoal):\n 1. flow0 x ` {tm..t2} = flow0 x ` insert t2 {tm<..<t2}", "apply (auto simp: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>flow0 x tm = flow0 x t2;\n        flow0 x xa \\<notin> flow0 x ` {tm<..<t2}; tm \\<le> xa;\n        xa \\<le> t2\\<rbrakk>\n       \\<Longrightarrow> flow0 x xa = flow0 x t2", "by (smt greaterThanLessThan_iff image_eqI)"], ["proof (state)\nthis:\n  flow0 x ` {tm..t2} = flow0 x ` insert t2 {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "finally"], ["proof (chain)\npicking this:\n  range (flow0 x) = flow0 x ` insert t2 {tm<..<t2}", "have \"flow0 x t1 \\<in> flow0 x ` (insert t2 {tm<..<t2})\""], ["proof (prove)\nusing this:\n  range (flow0 x) = flow0 x ` insert t2 {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> flow0 x ` insert t2 {tm<..<t2}", "by auto"], ["proof (state)\nthis:\n  flow0 x t1 \\<in> flow0 x ` insert t2 {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> flow0 x ` insert t2 {tm<..<t2}", "have \"flow0 x t1 \\<in> flow0 x ` {tm<..<t2}\""], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> flow0 x ` insert t2 {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> flow0 x ` {tm<..<t2}", "using x1neqx2"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> flow0 x ` insert t2 {tm<..<t2}\n  flow0 x t1 \\<noteq> flow0 x t2\n\ngoal (1 subgoal):\n 1. flow0 x t1 \\<in> flow0 x ` {tm<..<t2}", "by auto"], ["proof (state)\nthis:\n  flow0 x t1 \\<in> flow0 x ` {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "moreover"], ["proof (state)\nthis:\n  flow0 x t1 \\<in> flow0 x ` {tm<..<t2}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "have \"\\<dots> \\<inter> {a<--<b} = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x ` {tm<..<t2} \\<inter> {a<--<b} = {}", "using tm_exclude"], ["proof (prove)\nusing this:\n  ?t2 \\<in> {tm<..<t2} \\<Longrightarrow> flow0 x ?t2 \\<notin> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x ` {tm<..<t2} \\<inter> {a<--<b} = {}", "by auto"], ["proof (state)\nthis:\n  flow0 x ` {tm<..<t2} \\<inter> {a<--<b} = {}\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "ultimately"], ["proof (chain)\npicking this:\n  flow0 x t1 \\<in> flow0 x ` {tm<..<t2}\n  flow0 x ` {tm<..<t2} \\<inter> {a<--<b} = {}", "have False"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> flow0 x ` {tm<..<t2}\n  flow0 x ` {tm<..<t2} \\<inter> {a<--<b} = {}\n\ngoal (1 subgoal):\n 1. False", "using x1"], ["proof (prove)\nusing this:\n  flow0 x t1 \\<in> flow0 x ` {tm<..<t2}\n  flow0 x ` {tm<..<t2} \\<inter> {a<--<b} = {}\n  flow0 x t1 \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. flow0 x tm = flow0 x t2 \\<Longrightarrow>\n    flow0 x t \\<notin> {a<--<flow0 x t2}", "then"], ["proof (chain)\npicking this:\n  False", "show ?thesis"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. flow0 x t \\<notin> {a<--<flow0 x t2}", "by blast"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  flow0 x t \\<notin> {a<--<flow0 x t2}\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Straightening\\<close>"], ["", "text \\<open> This lemma uses the implicit function theorem \\<close>"], ["", "lemma cross_time_continuous:\n  assumes \"transversal_segment a b\"\n  assumes \"x \\<in> {a<--<b}\"\n  assumes \"e > 0\"\n  obtains d t where \"d > 0\" \"continuous_on (ball x d) t\"\n    \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b}\"\n    \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e\"\n    \"continuous_on (ball x d) t\"\n    \"t x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using assms segment_open_subset_closed[of a b]"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  x \\<in> {a<--<b}\n  0 < e\n  {a<--<b} \\<subseteq> {a--b}\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by (auto simp: transversal_segment_def)"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"a \\<noteq> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<noteq> b", "using assms"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  x \\<in> {a<--<b}\n  0 < e\n\ngoal (1 subgoal):\n 1. a \\<noteq> b", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define s where \"s x = (x - a) \\<bullet> rot (b - a)\" for x"], ["proof (state)\nthis:\n  s ?x = (?x - a) \\<bullet> rev.rot (b - a)\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"s x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s x = 0", "unfolding s_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x - a) \\<bullet> rev.rot (b - a) = 0", "by (subst in_segment_inner_rot) (auto intro!: assms open_closed_segment)"], ["proof (state)\nthis:\n  s x = 0\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have Ds: \"(s has_derivative blinfun_inner_left (rot (b - a))) (at x)\"\n    (is \"(_ has_derivative blinfun_apply (?Ds x)) _\")\n    for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. (s has_derivative blinfun_apply (blinfun_inner_left (rev.rot (b - a))))\n     (at x)", "unfolding s_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. (x - a) \\<bullet> rev.rot (b - a)) has_derivative\n     blinfun_apply (blinfun_inner_left (rev.rot (b - a))))\n     (at x)", "by (auto intro!: derivative_eq_intros)"], ["proof (state)\nthis:\n  (s has_derivative blinfun_apply (blinfun_inner_left (rev.rot (b - a))))\n   (at ?x2)\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have Dsc: \"isCont ?Ds x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont (\\<lambda>c. blinfun_inner_left (rev.rot (b - a))) x", "by (auto intro!: continuous_intros)"], ["proof (state)\nthis:\n  isCont (\\<lambda>c. blinfun_inner_left (rev.rot (b - a))) x\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have nz: \"?Ds x (f x) \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x) \\<noteq> 0", "using assms"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  x \\<in> {a<--<b}\n  0 < e\n\ngoal (1 subgoal):\n 1. blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x) \\<noteq> 0", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>transversal_segment a b; x \\<in> {a<--<b}; 0 < e;\n     f x \\<bullet> rev.rot (b - a) = 0\\<rbrakk>\n    \\<Longrightarrow> False", "unfolding transversal_segment_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<noteq> b \\<and>\n             {a--b} \\<subseteq> X \\<and>\n             (\\<forall>z\\<in>{a--b}.\n                 f z \\<bullet> rev.rot (a - b) \\<noteq> 0);\n     x \\<in> {a<--<b}; 0 < e; f x \\<bullet> rev.rot (b - a) = 0\\<rbrakk>\n    \\<Longrightarrow> False", "by (smt inner_minus_left nrm_reverse open_closed_segment)"], ["proof (state)\nthis:\n  blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from flow_implicit_function_at[OF \\<open>x \\<in> X\\<close>, of s, OF \\<open>s x = 0\\<close> Ds Dsc nz \\<open>e > 0\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>u d.\n      \\<lbrakk>0 < d; u x = 0;\n       \\<And>y. y \\<in> cball x d \\<Longrightarrow> s (flow0 y (u y)) = 0;\n       \\<And>y. y \\<in> cball x d \\<Longrightarrow> \\<bar>u y\\<bar> < e;\n       \\<And>y.\n          y \\<in> cball x d \\<Longrightarrow> u y \\<in> existence_ivl0 y;\n       continuous_on (cball x d) u;\n       (u has_derivative\n        blinfun_apply\n         (- blinfun_inner_left (rev.rot (b - a)) /\\<^sub>R\n          blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x)))\n        (at x)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain t d1 where \"0 < d1\"\n    and t0: \"t x = 0\"\n    and d1: \"(\\<And>y. y \\<in> cball x d1 \\<Longrightarrow> s (flow0 y (t y)) = 0)\"\n    \"(\\<And>y. y \\<in> cball x d1 \\<Longrightarrow> \\<bar>t y\\<bar> < e)\"\n    \"(\\<And>y. y \\<in> cball x d1 \\<Longrightarrow> t y \\<in> existence_ivl0 y)\"\n    and tc: \"continuous_on (cball x d1) t\"\n    and t': \"(t has_derivative\n        (- blinfun_inner_left (rot (b - a)) /\\<^sub>R (blinfun_inner_left (rot (b - a))) (f x)))\n      (at x)\""], ["proof (prove)\nusing this:\n  (\\<And>u d.\n      \\<lbrakk>0 < d; u x = 0;\n       \\<And>y. y \\<in> cball x d \\<Longrightarrow> s (flow0 y (u y)) = 0;\n       \\<And>y. y \\<in> cball x d \\<Longrightarrow> \\<bar>u y\\<bar> < e;\n       \\<And>y.\n          y \\<in> cball x d \\<Longrightarrow> u y \\<in> existence_ivl0 y;\n       continuous_on (cball x d) u;\n       (u has_derivative\n        blinfun_apply\n         (- blinfun_inner_left (rev.rot (b - a)) /\\<^sub>R\n          blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x)))\n        (at x)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d1 t.\n        \\<lbrakk>0 < d1; t x = 0;\n         \\<And>y.\n            y \\<in> cball x d1 \\<Longrightarrow> s (flow0 y (t y)) = 0;\n         \\<And>y. y \\<in> cball x d1 \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         \\<And>y.\n            y \\<in> cball x d1 \\<Longrightarrow> t y \\<in> existence_ivl0 y;\n         continuous_on (cball x d1) t;\n         (t has_derivative\n          blinfun_apply\n           (- blinfun_inner_left (rev.rot (b - a)) /\\<^sub>R\n            blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x)))\n          (at x)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < d1\n  t x = 0\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> s (flow0 ?y2 (t ?y2)) = 0\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> t ?y2 \\<in> existence_ivl0 ?y2\n  continuous_on (cball x d1) t\n  (t has_derivative\n   blinfun_apply\n    (- blinfun_inner_left (rev.rot (b - a)) /\\<^sub>R\n     blinfun_apply (blinfun_inner_left (rev.rot (b - a))) (f x)))\n   (at x)\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from tc"], ["proof (chain)\npicking this:\n  continuous_on (cball x d1) t", "have \"t \\<midarrow>x\\<rightarrow> 0\""], ["proof (prove)\nusing this:\n  continuous_on (cball x d1) t\n\ngoal (1 subgoal):\n 1. t \\<midarrow>x\\<rightarrow> 0", "using \\<open>0 < d1\\<close>"], ["proof (prove)\nusing this:\n  continuous_on (cball x d1) t\n  0 < d1\n\ngoal (1 subgoal):\n 1. t \\<midarrow>x\\<rightarrow> 0", "by (auto simp: continuous_on_def at_within_interior t0 dest!: bspec[where x=x])"], ["proof (state)\nthis:\n  t \\<midarrow>x\\<rightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  t \\<midarrow>x\\<rightarrow> 0", "have ftc: \"((\\<lambda>y. flow0 y (t y)) \\<longlongrightarrow> x) (at x)\""], ["proof (prove)\nusing this:\n  t \\<midarrow>x\\<rightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>y. flow0 y (t y)) \\<midarrow>x\\<rightarrow> x", "by (auto intro!: tendsto_eq_intros simp: \\<open>x \\<in> X\\<close>)"], ["proof (state)\nthis:\n  (\\<lambda>y. flow0 y (t y)) \\<midarrow>x\\<rightarrow> x\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define e2 where \"e2 = min (dist a x) (dist b x)\""], ["proof (state)\nthis:\n  e2 = min (dist a x) (dist b x)\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"e2 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < e2", "using assms"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  x \\<in> {a<--<b}\n  0 < e\n\ngoal (1 subgoal):\n 1. 0 < e2", "by (auto simp: e2_def open_segment_def)"], ["proof (state)\nthis:\n  0 < e2\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from tendstoD[OF ftc this]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F xa in at x. dist (flow0 xa (t xa)) x < e2", "have \"\\<forall>\\<^sub>F y in at x. dist (flow0 y (t y)) x < e2\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in at x. dist (flow0 xa (t xa)) x < e2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x. dist (flow0 y (t y)) x < e2", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x. dist (flow0 y (t y)) x < e2\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x. dist (flow0 y (t y)) x < e2\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?S = \"{x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and> x \\<bullet> (b - a) < b \\<bullet> (b - a)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"open ?S\" \"x \\<in> ?S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. open\n     {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n         x \\<bullet> (b - a) < b \\<bullet> (b - a)} &&&\n    x \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "using \\<open>x \\<in> {a<--<b}\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. open\n     {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n         x \\<bullet> (b - a) < b \\<bullet> (b - a)} &&&\n    x \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "by (auto simp add: open_segment_line_hyperplanes \\<open>a \\<noteq> b\\<close>\n        intro!: open_Collect_conj open_halfspace_component_gt open_halfspace_component_lt)"], ["proof (state)\nthis:\n  open\n   {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n       x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n  x \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n              x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from topological_tendstoD[OF ftc this]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in at x.\n     flow0 x (t x)\n     \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "have \"\\<forall>\\<^sub>F y in at x. flow0 y (t y) \\<in> ?S\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in at x.\n     flow0 x (t x)\n     \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       flow0 y (t y)\n       \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x.\n     flow0 y (t y)\n     \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x. dist (flow0 y (t y)) x < e2\n  \\<forall>\\<^sub>F y in at x.\n     flow0 y (t y)\n     \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "have \"\\<forall>\\<^sub>F y in at x. flow0 y (t y) \\<in> ball x e2 \\<inter> ?S\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x. dist (flow0 y (t y)) x < e2\n  \\<forall>\\<^sub>F y in at x.\n     flow0 y (t y)\n     \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F y in at x.\n       flow0 y (t y)\n       \\<in> ball x e2 \\<inter>\n             {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "by eventually_elim (auto simp: dist_commute)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F y in at x.\n     flow0 y (t y)\n     \\<in> ball x e2 \\<inter>\n           {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F y in at x.\n     flow0 y (t y)\n     \\<in> ball x e2 \\<inter>\n           {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "obtain d2 where \"0 < d2\" and \"\\<And>y. x \\<noteq> y \\<Longrightarrow> dist y x < d2 \\<Longrightarrow> flow0 y (t y) \\<in> ball x e2 \\<inter> ?S\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F y in at x.\n     flow0 y (t y)\n     \\<in> ball x e2 \\<inter>\n           {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n               x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>d2.\n        \\<lbrakk>0 < d2;\n         \\<And>y.\n            \\<lbrakk>x \\<noteq> y; dist y x < d2\\<rbrakk>\n            \\<Longrightarrow> flow0 y (t y)\n                              \\<in> ball x e2 \\<inter>\n                                    {x. a \\<bullet> (b - a)\n  < x \\<bullet> (b - a) \\<and>\n  x \\<bullet> (b - a) < b \\<bullet> (b - a)}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (force simp: eventually_at)"], ["proof (state)\nthis:\n  0 < d2\n  \\<lbrakk>x \\<noteq> ?y2; dist ?y2 x < d2\\<rbrakk>\n  \\<Longrightarrow> flow0 ?y2 (t ?y2)\n                    \\<in> ball x e2 \\<inter>\n                          {x. a \\<bullet> (b - a)\n                              < x \\<bullet> (b - a) \\<and>\n                              x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  0 < d2\n  \\<lbrakk>x \\<noteq> ?y2; dist ?y2 x < d2\\<rbrakk>\n  \\<Longrightarrow> flow0 ?y2 (t ?y2)\n                    \\<in> ball x e2 \\<inter>\n                          {x. a \\<bullet> (b - a)\n                              < x \\<bullet> (b - a) \\<and>\n                              x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "have d2: \"dist y x < d2 \\<Longrightarrow> flow0 y (t y) \\<in> ball x e2 \\<inter> ?S\" for y"], ["proof (prove)\nusing this:\n  0 < d2\n  \\<lbrakk>x \\<noteq> ?y2; dist ?y2 x < d2\\<rbrakk>\n  \\<Longrightarrow> flow0 ?y2 (t ?y2)\n                    \\<in> ball x e2 \\<inter>\n                          {x. a \\<bullet> (b - a)\n                              < x \\<bullet> (b - a) \\<and>\n                              x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. dist y x < d2 \\<Longrightarrow>\n    flow0 y (t y)\n    \\<in> ball x e2 \\<inter>\n          {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n              x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "using \\<open>0 < e2\\<close> \\<open>x \\<in> X\\<close> t0 \\<open>x \\<in> ?S\\<close>"], ["proof (prove)\nusing this:\n  0 < d2\n  \\<lbrakk>x \\<noteq> ?y2; dist ?y2 x < d2\\<rbrakk>\n  \\<Longrightarrow> flow0 ?y2 (t ?y2)\n                    \\<in> ball x e2 \\<inter>\n                          {x. a \\<bullet> (b - a)\n                              < x \\<bullet> (b - a) \\<and>\n                              x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n  0 < e2\n  x \\<in> X\n  t x = 0\n  x \\<in> {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n              x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. dist y x < d2 \\<Longrightarrow>\n    flow0 y (t y)\n    \\<in> ball x e2 \\<inter>\n          {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n              x \\<bullet> (b - a) < b \\<bullet> (b - a)}", "by (cases \"y = x\") auto"], ["proof (state)\nthis:\n  dist ?y2 x < d2 \\<Longrightarrow>\n  flow0 ?y2 (t ?y2)\n  \\<in> ball x e2 \\<inter>\n        {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n            x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define d where \"d = min d1 d2\""], ["proof (state)\nthis:\n  d = min d1 d2\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"d > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < d", "using \\<open>0 < d1\\<close> \\<open>0 < d2\\<close>"], ["proof (prove)\nusing this:\n  0 < d1\n  0 < d2\n\ngoal (1 subgoal):\n 1. 0 < d", "by (simp add: d_def)"], ["proof (state)\nthis:\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"continuous_on (ball x d) t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (ball x d) t", "by (auto intro!:continuous_on_subset[OF tc] simp add: d_def)"], ["proof (state)\nthis:\n  continuous_on (ball x d) t\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  continuous_on (ball x d) t\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"ball x e2 \\<inter> ?S \\<inter> {x. s x = 0} \\<subseteq> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ball x e2 \\<inter>\n    {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n        x \\<bullet> (b - a) < b \\<bullet> (b - a)} \\<inter>\n    {x. s x = 0}\n    \\<subseteq> {a<--<b}", "by (auto simp add: in_open_segment_iff_rot \\<open>a \\<noteq> b\\<close>) (auto simp: s_def e2_def in_segment)"], ["proof (state)\nthis:\n  ball x e2 \\<inter>\n  {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n      x \\<bullet> (b - a) < b \\<bullet> (b - a)} \\<inter>\n  {x. s x = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  ball x e2 \\<inter>\n  {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n      x \\<bullet> (b - a) < b \\<bullet> (b - a)} \\<inter>\n  {x. s x = 0}\n  \\<subseteq> {a<--<b}", "have \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  ball x e2 \\<inter>\n  {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n      x \\<bullet> (b - a) < b \\<bullet> (b - a)} \\<inter>\n  {x. s x = 0}\n  \\<subseteq> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b}", "apply (rule set_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> ball x d \\<Longrightarrow>\n       flow0 y (t y)\n       \\<in> ball x e2 \\<inter>\n             {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) < b \\<bullet> (b - a)} \\<inter>\n             {x. s x = 0}", "using d1 d2 \\<open>0 < d2\\<close>"], ["proof (prove)\nusing this:\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> s (flow0 ?y2 (t ?y2)) = 0\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> t ?y2 \\<in> existence_ivl0 ?y2\n  dist ?y2 x < d2 \\<Longrightarrow>\n  flow0 ?y2 (t ?y2)\n  \\<in> ball x e2 \\<inter>\n        {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n            x \\<bullet> (b - a) < b \\<bullet> (b - a)}\n  0 < d2\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       y \\<in> ball x d \\<Longrightarrow>\n       flow0 y (t y)\n       \\<in> ball x e2 \\<inter>\n             {x. a \\<bullet> (b - a) < x \\<bullet> (b - a) \\<and>\n                 x \\<bullet> (b - a) < b \\<bullet> (b - a)} \\<inter>\n             {x. s x = 0}", "by (auto simp: d_def e2_def dist_commute)"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x d \\<Longrightarrow> flow0 ?y2 (t ?y2) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x d \\<Longrightarrow> flow0 ?y2 (t ?y2) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e", "using d1"], ["proof (prove)\nusing this:\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> s (flow0 ?y2 (t ?y2)) = 0\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n  ?y2 \\<in> cball x d1 \\<Longrightarrow> t ?y2 \\<in> existence_ivl0 ?y2\n\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e", "by (auto simp: d_def)"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x d \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  ?y2 \\<in> ball x d \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"continuous_on (ball x d) t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on (ball x d) t", "using tc"], ["proof (prove)\nusing this:\n  continuous_on (cball x d1) t\n\ngoal (1 subgoal):\n 1. continuous_on (ball x d) t", "by (rule continuous_on_subset) (auto simp: d_def)"], ["proof (state)\nthis:\n  continuous_on (ball x d) t\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  continuous_on (ball x d) t\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"t x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t x = 0", "by (simp add: t0)"], ["proof (state)\nthis:\n  t x = 0\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d; continuous_on (ball x d) t;\n         \\<And>y.\n            y \\<in> ball x d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball x d \\<Longrightarrow> \\<bar>t y\\<bar> < e;\n         continuous_on (ball x d) t; t x = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  0 < d\n  continuous_on (ball x d) t\n  ?y2 \\<in> ball x d \\<Longrightarrow> flow0 ?y2 (t ?y2) \\<in> {a<--<b}\n  ?y2 \\<in> ball x d \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n  continuous_on (ball x d) t\n  t x = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < d\n  continuous_on (ball x d) t\n  ?y2 \\<in> ball x d \\<Longrightarrow> flow0 ?y2 (t ?y2) \\<in> {a<--<b}\n  ?y2 \\<in> ball x d \\<Longrightarrow> \\<bar>t ?y2\\<bar> < e\n  continuous_on (ball x d) t\n  t x = 0\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<omega>_limit_crossings:\n  assumes \"transversal_segment a b\"\n  assumes pos_ex: \"{0..} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<omega>_limit_point x p\"\n  assumes \"p \\<in> {a<--<b}\"\n  obtains s where \n    \"s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\"\n    \"(flow0 x \\<circ> s) \\<longlonglongrightarrow> p\"\n    \"\\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms"], ["proof (chain)\npicking this:\n  transversal_segment a b\n  {0..} \\<subseteq> existence_ivl0 x\n  \\<omega>_limit_point x p\n  p \\<in> {a<--<b}", "have \"p \\<in> X\""], ["proof (prove)\nusing this:\n  transversal_segment a b\n  {0..} \\<subseteq> existence_ivl0 x\n  \\<omega>_limit_point x p\n  p \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. p \\<in> X", "by (auto simp: transversal_segment_def open_closed_segment)"], ["proof (state)\nthis:\n  p \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms(3)"], ["proof (chain)\npicking this:\n  \\<omega>_limit_point x p", "obtain t where\n    \"t \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\" \"(flow0 x \\<circ> t) \\<longlonglongrightarrow> p\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_point x p\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>t \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp: \\<omega>_limit_point_def)"], ["proof (state)\nthis:\n  t \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note t = \\<open>t \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\\<close> \\<open>(flow0 x \\<circ> t) \\<longlonglongrightarrow> p\\<close>"], ["proof (state)\nthis:\n  t \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note [tendsto_intros] = t(2)"], ["proof (state)\nthis:\n  (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from cross_time_continuous[OF assms(1,4) zero_less_one\\<comment> \\<open>TODO ??\\<close>]"], ["proof (chain)\npicking this:\n  (\\<And>d t.\n      \\<lbrakk>0 < d; continuous_on (ball p d) t;\n       \\<And>y.\n          y \\<in> ball p d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n       \\<And>y. y \\<in> ball p d \\<Longrightarrow> \\<bar>t y\\<bar> < 1;\n       continuous_on (ball p d) t; t p = 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain \\<tau> \\<delta>\n    where \"0 < \\<delta>\" \"continuous_on (ball p \\<delta>) \\<tau>\" \n      \"\\<tau> p = 0\" \"(\\<And>y. y \\<in> ball p \\<delta> \\<Longrightarrow> \\<bar>\\<tau> y\\<bar> < 1)\"\n      \"(\\<And>y. y \\<in> ball p \\<delta> \\<Longrightarrow> flow0 y (\\<tau> y) \\<in> {a<--<b})\""], ["proof (prove)\nusing this:\n  (\\<And>d t.\n      \\<lbrakk>0 < d; continuous_on (ball p d) t;\n       \\<And>y.\n          y \\<in> ball p d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n       \\<And>y. y \\<in> ball p d \\<Longrightarrow> \\<bar>t y\\<bar> < 1;\n       continuous_on (ball p d) t; t p = 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>\\<delta> \\<tau>.\n        \\<lbrakk>0 < \\<delta>; continuous_on (ball p \\<delta>) \\<tau>;\n         \\<tau> p = 0;\n         \\<And>y.\n            y \\<in> ball p \\<delta> \\<Longrightarrow>\n            \\<bar>\\<tau> y\\<bar> < 1;\n         \\<And>y.\n            y \\<in> ball p \\<delta> \\<Longrightarrow>\n            flow0 y (\\<tau> y) \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < \\<delta>\n  continuous_on (ball p \\<delta>) \\<tau>\n  \\<tau> p = 0\n  ?y2 \\<in> ball p \\<delta> \\<Longrightarrow> \\<bar>\\<tau> ?y2\\<bar> < 1\n  ?y2 \\<in> ball p \\<delta> \\<Longrightarrow>\n  flow0 ?y2 (\\<tau> ?y2) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note \\<tau> =\n    \\<open>(\\<And>y. y \\<in> ball p \\<delta> \\<Longrightarrow> flow0 y (\\<tau> y) \\<in> {a<--<b})\\<close>\n    \\<open>(\\<And>y. y \\<in> ball p \\<delta> \\<Longrightarrow> \\<bar>\\<tau> y\\<bar> < 1)\\<close>\n    \\<open>continuous_on (ball p \\<delta>) \\<tau>\\<close> \\<open>\\<tau> p = 0\\<close>"], ["proof (state)\nthis:\n  ?y \\<in> ball p \\<delta> \\<Longrightarrow>\n  flow0 ?y (\\<tau> ?y) \\<in> {a<--<b}\n  ?y \\<in> ball p \\<delta> \\<Longrightarrow> \\<bar>\\<tau> ?y\\<bar> < 1\n  continuous_on (ball p \\<delta>) \\<tau>\n  \\<tau> p = 0\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define s where \"s n = t n + \\<tau> (flow0 x (t n))\" for n"], ["proof (state)\nthis:\n  s ?n = t ?n + \\<tau> (flow0 x (t ?n))\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have ev_in_ball: \"\\<forall>\\<^sub>F n in at_top. flow0 x (t n) \\<in> ball p \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>", "apply (simp add: )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. dist p (flow0 x (t n)) < \\<delta>", "apply (subst dist_commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. dist (flow0 x (t n)) p < \\<delta>", "apply (rule tendstoD)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (\\<lambda>xa. flow0 x (t xa)) \\<longlonglongrightarrow> p\n 2. 0 < \\<delta>", "apply (rule t[unfolded o_def])"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<delta>", "apply (rule \\<open>0 < \\<delta>\\<close>)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"filterlim s at_top sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>", "proof (rule filterlim_at_top_mono)"], ["proof (state)\ngoal (2 subgoals):\n 1. ?f \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n 2. \\<forall>\\<^sub>F x in sequentially. ?f x \\<le> s x", "show \"filterlim (\\<lambda>n. -1 + t n) at_top sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lambda>n.\n       - 1 + t n \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>", "by (rule filterlim_tendsto_add_at_top) (auto intro!: filterlim_tendsto_add_at_top t)"], ["proof (state)\nthis:\n  \\<lambda>n.\n     - 1 + t n \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. - 1 + t x \\<le> s x", "from ev_in_ball"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>", "show \"\\<forall>\\<^sub>F x in sequentially. -1 + t x \\<le> s x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. - 1 + t x \\<le> s x", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       flow0 x (t xa) \\<in> ball p \\<delta> \\<Longrightarrow>\n       - 1 + t xa \\<le> s xa", "using \\<tau>"], ["proof (prove)\nusing this:\n  ?y \\<in> ball p \\<delta> \\<Longrightarrow>\n  flow0 ?y (\\<tau> ?y) \\<in> {a<--<b}\n  ?y \\<in> ball p \\<delta> \\<Longrightarrow> \\<bar>\\<tau> ?y\\<bar> < 1\n  continuous_on (ball p \\<delta>) \\<tau>\n  \\<tau> p = 0\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       flow0 x (t xa) \\<in> ball p \\<delta> \\<Longrightarrow>\n       - 1 + t xa \\<le> s xa", "by (force simp : s_def)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. - 1 + t x \\<le> s x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \\<tau>_cont: \"\\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p", "using \\<tau>(3) \\<open>0 < \\<delta>\\<close>"], ["proof (prove)\nusing this:\n  continuous_on (ball p \\<delta>) \\<tau>\n  0 < \\<delta>\n\ngoal (1 subgoal):\n 1. \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p", "by (auto simp: continuous_on_def at_within_ball dest!: bspec[where x=p])"], ["proof (state)\nthis:\n  \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note [tendsto_intros] = tendsto_compose_at[OF _ this, simplified]"], ["proof (state)\nthis:\n  (?f \\<longlongrightarrow> p) ?F \\<Longrightarrow>\n  ((\\<tau> \\<circ> ?f) \\<longlongrightarrow> \\<tau> p) ?F\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have ev1: \"\\<forall>\\<^sub>F n in sequentially. t n > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < t n", "using filterlim_at_top_dense t(1)"], ["proof (prove)\nusing this:\n  filterlim ?f at_top ?F = (\\<forall>Z. \\<forall>\\<^sub>F x in ?F. Z < ?f x)\n  t \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < t n", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 1 < t n\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < t n", "have ev_eq: \"\\<forall>\\<^sub>F n in sequentially. flow0 ((flow0 x o t) n) ((\\<tau> o (flow0 x o t)) n) = (flow0 x o s) n\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < t n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       flow0 ((flow0 x \\<circ> t) n)\n        ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n       (flow0 x \\<circ> s) n", "using ev_in_ball"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < t n\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       flow0 ((flow0 x \\<circ> t) n)\n        ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n       (flow0 x \\<circ> s) n", "apply (eventually_elim)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; flow0 x (t n) \\<in> ball p \\<delta>\\<rbrakk>\n       \\<Longrightarrow> flow0 ((flow0 x \\<circ> t) n)\n                          ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n                         (flow0 x \\<circ> s) n", "apply (drule \\<tau>(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> flow0 ((flow0 x \\<circ> t) n)\n                          ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n                         (flow0 x \\<circ> s) n", "unfolding o_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> flow0 (flow0 x (t n)) (\\<tau> (flow0 x (t n))) =\n                         flow0 x (s n)", "apply (subst flow_trans[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> t n \\<in> existence_ivl0 x\n 2. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> \\<tau> (flow0 x (t n))\n                         \\<in> existence_ivl0 (flow0 x (t n))\n 3. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t n + \\<tau> (flow0 x (t n))) =\n                         flow0 x (s n)", "using pos_ex"], ["proof (prove)\nusing this:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (3 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> t n \\<in> existence_ivl0 x\n 2. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> \\<tau> (flow0 x (t n))\n                         \\<in> existence_ivl0 (flow0 x (t n))\n 3. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t n + \\<tau> (flow0 x (t n))) =\n                         flow0 x (s n)", "apply (auto simp: s_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1;\n        {0..} \\<subseteq> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> \\<tau> (flow0 x (t n))\n                         \\<in> existence_ivl0 (flow0 x (t n))", "apply (rule existence_ivl_trans')"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1;\n        {0..} \\<subseteq> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> t n + \\<tau> (flow0 x (t n)) \\<in> existence_ivl0 x\n 2. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1;\n        {0..} \\<subseteq> existence_ivl0 x\\<rbrakk>\n       \\<Longrightarrow> t n \\<in> existence_ivl0 x", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 ((flow0 x \\<circ> t) n)\n      ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n     (flow0 x \\<circ> s) n\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 ((flow0 x \\<circ> t) n)\n      ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n     (flow0 x \\<circ> s) n", "have \"\\<forall>\\<^sub>F n in sequentially.\n  (flow0 x o s) n = flow0 ((flow0 x o t) n) ((\\<tau> o (flow0 x o t)) n)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 ((flow0 x \\<circ> t) n)\n      ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n     (flow0 x \\<circ> s) n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (flow0 x \\<circ> s) n =\n       flow0 ((flow0 x \\<circ> t) n)\n        ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n)", "by (simp add: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     (flow0 x \\<circ> s) n =\n     flow0 ((flow0 x \\<circ> t) n) ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n)\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>(flow0 x \\<circ> t) \\<longlonglongrightarrow> p\\<close> and \\<open>\\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p\\<close>"], ["proof (chain)\npicking this:\n  (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\n  \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p", "have\n    \"(\\<lambda>n. flow0 ((flow0 x \\<circ> t) n) ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n  \\<longlonglongrightarrow>\n  flow0 p (\\<tau> p)\""], ["proof (prove)\nusing this:\n  (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\n  \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        flow0 ((flow0 x \\<circ> t) n)\n         ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n    \\<longlonglongrightarrow> flow0 p (\\<tau> p)", "using \\<open>\\<tau> p = 0\\<close> \\<tau>_cont \\<open>p \\<in> X\\<close>"], ["proof (prove)\nusing this:\n  (flow0 x \\<circ> t) \\<longlonglongrightarrow> p\n  \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p\n  \\<tau> p = 0\n  \\<tau> \\<midarrow>p\\<rightarrow> \\<tau> p\n  p \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        flow0 ((flow0 x \\<circ> t) n)\n         ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n    \\<longlonglongrightarrow> flow0 p (\\<tau> p)", "by (intro tendsto_eq_intros) auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      flow0 ((flow0 x \\<circ> t) n)\n       ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n  \\<longlonglongrightarrow> flow0 p (\\<tau> p)\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      flow0 ((flow0 x \\<circ> t) n)\n       ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n  \\<longlonglongrightarrow> flow0 p (\\<tau> p)", "have \"(flow0 x o s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      flow0 ((flow0 x \\<circ> t) n)\n       ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n  \\<longlonglongrightarrow> flow0 p (\\<tau> p)\n\ngoal (1 subgoal):\n 1. (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)", "using ev_eq"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      flow0 ((flow0 x \\<circ> t) n)\n       ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n))\n  \\<longlonglongrightarrow> flow0 p (\\<tau> p)\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 ((flow0 x \\<circ> t) n)\n      ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n     (flow0 x \\<circ> s) n\n\ngoal (1 subgoal):\n 1. (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)", "by (rule Lim_transform_eventually)"], ["proof (state)\nthis:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)", "have \"(flow0 x o s) \\<longlonglongrightarrow> p\""], ["proof (prove)\nusing this:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)\n\ngoal (1 subgoal):\n 1. (flow0 x \\<circ> s) \\<longlonglongrightarrow> p", "using \\<open>p \\<in> X\\<close> \\<open>\\<tau> p = 0\\<close>"], ["proof (prove)\nusing this:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 p (\\<tau> p)\n  p \\<in> X\n  \\<tau> p = 0\n\ngoal (1 subgoal):\n 1. (flow0 x \\<circ> s) \\<longlonglongrightarrow> p", "by simp"], ["proof (state)\nthis:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> p\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}", "using ev_eq ev_in_ball"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 ((flow0 x \\<circ> t) n)\n      ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n     (flow0 x \\<circ> s) n\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>flow0 ((flow0 x \\<circ> t) n)\n                 ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n) =\n                (flow0 x \\<circ> s) n;\n        flow0 x (t n) \\<in> ball p \\<delta>\\<rbrakk>\n       \\<Longrightarrow> flow0 x (s n) \\<in> {a<--<b}", "apply (drule sym)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>flow0 x (t n) \\<in> ball p \\<delta>;\n        (flow0 x \\<circ> s) n =\n        flow0 ((flow0 x \\<circ> t) n)\n         ((\\<tau> \\<circ> (flow0 x \\<circ> t)) n)\\<rbrakk>\n       \\<Longrightarrow> flow0 x (s n) \\<in> {a<--<b}", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>dist p (flow0 x (t n)) < \\<delta>;\n        flow0 x (s n) =\n        flow0 (flow0 x (t n)) (\\<tau> (flow0 x (t n)))\\<rbrakk>\n       \\<Longrightarrow> flow0 (flow0 x (t n)) (\\<tau> (flow0 x (t n)))\n                         \\<in> {a<--<b}", "apply (rule \\<tau>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>dist p (flow0 x (t n)) < \\<delta>;\n        flow0 x (s n) =\n        flow0 (flow0 x (t n)) (\\<tau> (flow0 x (t n)))\\<rbrakk>\n       \\<Longrightarrow> flow0 x (t n) \\<in> ball p \\<delta>", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F n in sequentially. s n \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. s n \\<in> existence_ivl0 x", "using ev_in_ball ev1"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (t n) \\<in> ball p \\<delta>\n  \\<forall>\\<^sub>F n in sequentially. 1 < t n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. s n \\<in> existence_ivl0 x", "apply (eventually_elim)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>flow0 x (t n) \\<in> ball p \\<delta>; 1 < t n\\<rbrakk>\n       \\<Longrightarrow> s n \\<in> existence_ivl0 x", "apply (drule \\<tau>(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> s n \\<in> existence_ivl0 x", "using pos_ex"], ["proof (prove)\nusing this:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < t n; \\<bar>\\<tau> (flow0 x (t n))\\<bar> < 1\\<rbrakk>\n       \\<Longrightarrow> s n \\<in> existence_ivl0 x", "by (auto simp: s_def)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. s n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}\n  \\<forall>\\<^sub>F n in sequentially. s n \\<in> existence_ivl0 x", "have \"\\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 x (s n) \\<in> {a<--<b}\n  \\<forall>\\<^sub>F n in sequentially. s n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (s n) \\<in> {a<--<b} \\<and> s n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "(* Obvious but frequently used step *)"], ["", "lemma filterlim_at_top_tendstoE:\n  assumes \"e > 0\"\n  assumes \"filterlim s at_top sequentially\"\n  assumes \"(flow0 x \\<circ> s) \\<longlonglongrightarrow> u\"\n  assumes \"\\<forall>\\<^sub>F n in sequentially. P (s n)\"\n  obtains m where \"m > b\" \"P m\" \"dist (flow0 x m) u < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms(2)"], ["proof (chain)\npicking this:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>", "have \"\\<forall>\\<^sub>F n in sequentially. b < s n\""], ["proof (prove)\nusing this:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. b < s n", "by (simp add: filterlim_at_top_dense)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. b < s n\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. b < s n\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F n in sequentially. norm ((flow0 x \\<circ> s) n - u) < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       norm ((flow0 x \\<circ> s) n - u) < e", "using assms(3)[THEN tendstoD, OF assms(1)]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F xa in sequentially. dist ((flow0 x \\<circ> s) xa) u < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       norm ((flow0 x \\<circ> s) n - u) < e", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. norm ((flow0 x \\<circ> s) n - u) < e\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. norm ((flow0 x \\<circ> s) n - u) < e\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note assms(4)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. P (s n)\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. b < s n\n  \\<forall>\\<^sub>F n in sequentially. norm ((flow0 x \\<circ> s) n - u) < e\n  \\<forall>\\<^sub>F n in sequentially. P (s n)", "have \"\\<forall>\\<^sub>F n in sequentially. b < s n \\<and> norm ((flow0 x \\<circ> s) n - u) < e \\<and> P (s n)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. b < s n\n  \\<forall>\\<^sub>F n in sequentially. norm ((flow0 x \\<circ> s) n - u) < e\n  \\<forall>\\<^sub>F n in sequentially. P (s n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       b < s n \\<and> norm ((flow0 x \\<circ> s) n - u) < e \\<and> P (s n)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     b < s n \\<and> norm ((flow0 x \\<circ> s) n - u) < e \\<and> P (s n)\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     b < s n \\<and> norm ((flow0 x \\<circ> s) n - u) < e \\<and> P (s n)", "obtain m where \"m > b\" \"P m\" \"dist (flow0 x m) u < e\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     b < s n \\<and> norm ((flow0 x \\<circ> s) n - u) < e \\<and> P (s n)\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: eventually_sequentially dist_norm)"], ["proof (state)\nthis:\n  b < m\n  P m\n  dist (flow0 x m) u < e\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>b < m; P m; dist (flow0 x m) u < e\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  b < m\n  P m\n  dist (flow0 x m) u < e", "show ?thesis"], ["proof (prove)\nusing this:\n  b < m\n  P m\n  dist (flow0 x m) u < e\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma open_segment_separate_left:\n  fixes u v x a b::'a\n  assumes u:\"u \\<in> {a <--< b}\"\n  assumes v:\"v \\<in> {u <--< b}\"\n  assumes x: \"dist x u < dist u v\" \"x \\<in> {a <--< b}\"\n  shows \"x \\<in> {a <--< v}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "have \"v \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<noteq> x", "by (smt dist_commute x(1))"], ["proof (state)\nthis:\n  v \\<noteq> x\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "moreover"], ["proof (state)\nthis:\n  v \\<noteq> x\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "have \"x \\<notin> {v<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> {v<--<b}", "by (smt dist_commute dist_in_open_segment open_segment_subsegment v x(1))"], ["proof (state)\nthis:\n  x \\<notin> {v<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "moreover"], ["proof (state)\nthis:\n  x \\<notin> {v<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "have \"v \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> {a<--<b}", "using v"], ["proof (prove)\nusing this:\n  v \\<in> {u<--<b}\n\ngoal (1 subgoal):\n 1. v \\<in> {a<--<b}", "by (metis ends_in_segment(1) segment_open_subset_closed subset_eq subset_segment(4) u)"], ["proof (state)\nthis:\n  v \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "ultimately"], ["proof (chain)\npicking this:\n  v \\<noteq> x\n  x \\<notin> {v<--<b}\n  v \\<in> {a<--<b}", "show ?thesis"], ["proof (prove)\nusing this:\n  v \\<noteq> x\n  x \\<notin> {v<--<b}\n  v \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "using open_segment_trichotomy[OF _ x(2)]"], ["proof (prove)\nusing this:\n  v \\<noteq> x\n  x \\<notin> {v<--<b}\n  v \\<in> {a<--<b}\n  ?x \\<in> {a<--<b} \\<Longrightarrow>\n  ?x = x \\<or> x \\<in> {?x<--<b} \\<or> x \\<in> {a<--<?x}\n\ngoal (1 subgoal):\n 1. x \\<in> {a<--<v}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {a<--<v}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma open_segment_separate_right:\n  fixes u v x a b::'a\n  assumes u:\"u \\<in> {a <--< b}\"\n  assumes v:\"v \\<in> {a <--< u}\"\n  assumes x: \"dist x u < dist u v\" \"x \\<in> {a <--< b}\"\n  shows \"x \\<in> {v <--< b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "have \"v \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<noteq> x", "by (smt dist_commute x(1))"], ["proof (state)\nthis:\n  v \\<noteq> x\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "moreover"], ["proof (state)\nthis:\n  v \\<noteq> x\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "have \"x \\<notin> {a<--<v}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> {a<--<v}", "by (smt dist_commute dist_in_open_segment open_segment_commute open_segment_subsegment v x(1))"], ["proof (state)\nthis:\n  x \\<notin> {a<--<v}\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "moreover"], ["proof (state)\nthis:\n  x \\<notin> {a<--<v}\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "have \"v \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v \\<in> {a<--<b}", "using v"], ["proof (prove)\nusing this:\n  v \\<in> {a<--<u}\n\ngoal (1 subgoal):\n 1. v \\<in> {a<--<b}", "by (metis ends_in_segment(1) segment_open_subset_closed subset_eq subset_segment(4) u)"], ["proof (state)\nthis:\n  v \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "ultimately"], ["proof (chain)\npicking this:\n  v \\<noteq> x\n  x \\<notin> {a<--<v}\n  v \\<in> {a<--<b}", "show ?thesis"], ["proof (prove)\nusing this:\n  v \\<noteq> x\n  x \\<notin> {a<--<v}\n  v \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "using open_segment_trichotomy[OF _ x(2)]"], ["proof (prove)\nusing this:\n  v \\<noteq> x\n  x \\<notin> {a<--<v}\n  v \\<in> {a<--<b}\n  ?x \\<in> {a<--<b} \\<Longrightarrow>\n  ?x = x \\<or> x \\<in> {?x<--<b} \\<or> x \\<in> {a<--<?x}\n\ngoal (1 subgoal):\n 1. x \\<in> {v<--<b}", "by blast"], ["proof (state)\nthis:\n  x \\<in> {v<--<b}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma no_two_\\<omega>_limit_points:\n  assumes transversal: \"transversal_segment a b\"\n  assumes ex_pos: \"{0..} \\<subseteq> existence_ivl0 x\"\n  assumes u: \"\\<omega>_limit_point x u\" \"u \\<in> {a<--<b}\"\n  assumes v: \"\\<omega>_limit_point x v\" \"v \\<in> {a<--<b}\"\n  assumes uv: \"v \\<in> {u<--<b}\"\n  shows False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "have unotv: \"u \\<noteq> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u \\<noteq> v", "using uv"], ["proof (prove)\nusing this:\n  v \\<in> {u<--<b}\n\ngoal (1 subgoal):\n 1. u \\<noteq> v", "using dist_in_open_segment"], ["proof (prove)\nusing this:\n  v \\<in> {u<--<b}\n  ?x \\<in> {?a<--<?b} \\<Longrightarrow>\n  dist ?x ?a < dist ?a ?b \\<and> dist ?x ?b < dist ?a ?b\n\ngoal (1 subgoal):\n 1. u \\<noteq> v", "by blast"], ["proof (state)\nthis:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. False", "define duv where \"duv = dist u v / 2\""], ["proof (state)\nthis:\n  duv = dist u v / 2\n\ngoal (1 subgoal):\n 1. False", "have duv: \"duv > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < duv", "unfolding duv_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < dist u v / 2", "using unotv"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. 0 < dist u v / 2", "by simp"], ["proof (state)\nthis:\n  0 < duv\n\ngoal (1 subgoal):\n 1. False", "from \\<omega>_limit_crossings[OF transversal ex_pos u]"], ["proof (chain)\npicking this:\n  (\\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       (flow0 x \\<circ> s) \\<longlonglongrightarrow> u;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 x (s n) \\<in> {a<--<b} \\<and>\n          s n \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain su where su: \"filterlim su at_top sequentially\"\n    \"(flow0 x \\<circ> su) \\<longlonglongrightarrow> u\"\n    \"\\<forall>\\<^sub>F n in sequentially. flow0 x (su n) \\<in> {a<--<b} \\<and> su n \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  (\\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       (flow0 x \\<circ> s) \\<longlonglongrightarrow> u;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 x (s n) \\<in> {a<--<b} \\<and>\n          s n \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>su.\n        \\<lbrakk>su \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> su) \\<longlonglongrightarrow> u;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (su n) \\<in> {a<--<b} \\<and>\n            su n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  su \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> su) \\<longlonglongrightarrow> u\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (su n) \\<in> {a<--<b} \\<and> su n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. False", "from \\<omega>_limit_crossings[OF transversal ex_pos v]"], ["proof (chain)\npicking this:\n  (\\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       (flow0 x \\<circ> s) \\<longlonglongrightarrow> v;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 x (s n) \\<in> {a<--<b} \\<and>\n          s n \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain sv where sv: \"filterlim sv at_top sequentially\"\n    \"(flow0 x \\<circ> sv) \\<longlonglongrightarrow> v\"\n    \"\\<forall>\\<^sub>F n in sequentially. flow0 x (sv n) \\<in> {a<--<b} \\<and> sv n \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  (\\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       (flow0 x \\<circ> s) \\<longlonglongrightarrow> v;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 x (s n) \\<in> {a<--<b} \\<and>\n          s n \\<in> existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>sv.\n        \\<lbrakk>sv \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 x \\<circ> sv) \\<longlonglongrightarrow> v;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (sv n) \\<in> {a<--<b} \\<and>\n            sv n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  sv \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> sv) \\<longlonglongrightarrow> v\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (sv n) \\<in> {a<--<b} \\<and> sv n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. False", "from filterlim_at_top_tendstoE[OF duv su]"], ["proof (chain)\npicking this:\n  (\\<And>m.\n      \\<lbrakk>?b < m;\n       flow0 x m \\<in> {a<--<b} \\<and> m \\<in> existence_ivl0 x;\n       dist (flow0 x m) u < duv\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain su1 where su1:\"su1 > 0\" \"flow0 x su1 \\<in> {a<--<b}\"\n    \"su1 \\<in> existence_ivl0 x\" \"dist (flow0 x su1) u < duv\""], ["proof (prove)\nusing this:\n  (\\<And>m.\n      \\<lbrakk>?b < m;\n       flow0 x m \\<in> {a<--<b} \\<and> m \\<in> existence_ivl0 x;\n       dist (flow0 x m) u < duv\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>su1.\n        \\<lbrakk>0 < su1; flow0 x su1 \\<in> {a<--<b};\n         su1 \\<in> existence_ivl0 x; dist (flow0 x su1) u < duv\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < su1\n  flow0 x su1 \\<in> {a<--<b}\n  su1 \\<in> existence_ivl0 x\n  dist (flow0 x su1) u < duv\n\ngoal (1 subgoal):\n 1. False", "from filterlim_at_top_tendstoE[OF duv sv, of su1]"], ["proof (chain)\npicking this:\n  (\\<And>m.\n      \\<lbrakk>su1 < m;\n       flow0 x m \\<in> {a<--<b} \\<and> m \\<in> existence_ivl0 x;\n       dist (flow0 x m) v < duv\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain su2 where su2:\"su2 > su1\" \"flow0 x su2 \\<in> {a<--<b}\"\n    \"su2 \\<in> existence_ivl0 x\" \"dist (flow0 x su2) v < duv\""], ["proof (prove)\nusing this:\n  (\\<And>m.\n      \\<lbrakk>su1 < m;\n       flow0 x m \\<in> {a<--<b} \\<and> m \\<in> existence_ivl0 x;\n       dist (flow0 x m) v < duv\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>su2.\n        \\<lbrakk>su1 < su2; flow0 x su2 \\<in> {a<--<b};\n         su2 \\<in> existence_ivl0 x; dist (flow0 x su2) v < duv\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  su1 < su2\n  flow0 x su2 \\<in> {a<--<b}\n  su2 \\<in> existence_ivl0 x\n  dist (flow0 x su2) v < duv\n\ngoal (1 subgoal):\n 1. False", "from filterlim_at_top_tendstoE[OF duv su, of su2]"], ["proof (chain)\npicking this:\n  (\\<And>m.\n      \\<lbrakk>su2 < m;\n       flow0 x m \\<in> {a<--<b} \\<and> m \\<in> existence_ivl0 x;\n       dist (flow0 x m) u < duv\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain su3 where su3:\"su3 > su2\" \"flow0 x su3 \\<in> {a<--<b}\"\n    \"su3 \\<in> existence_ivl0 x\" \"dist (flow0 x su3) u < duv\""], ["proof (prove)\nusing this:\n  (\\<And>m.\n      \\<lbrakk>su2 < m;\n       flow0 x m \\<in> {a<--<b} \\<and> m \\<in> existence_ivl0 x;\n       dist (flow0 x m) u < duv\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>su3.\n        \\<lbrakk>su2 < su3; flow0 x su3 \\<in> {a<--<b};\n         su3 \\<in> existence_ivl0 x; dist (flow0 x su3) u < duv\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  su2 < su3\n  flow0 x su3 \\<in> {a<--<b}\n  su3 \\<in> existence_ivl0 x\n  dist (flow0 x su3) u < duv\n\ngoal (1 subgoal):\n 1. False", "have *: \"su1 \\<le> su2\" \"{su1..su2} \\<subseteq> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. su1 \\<le> su2 &&& {su1..su2} \\<subseteq> existence_ivl0 x", "using su1 su2"], ["proof (prove)\nusing this:\n  0 < su1\n  flow0 x su1 \\<in> {a<--<b}\n  su1 \\<in> existence_ivl0 x\n  dist (flow0 x su1) u < duv\n  su1 < su2\n  flow0 x su2 \\<in> {a<--<b}\n  su2 \\<in> existence_ivl0 x\n  dist (flow0 x su2) v < duv\n\ngoal (1 subgoal):\n 1. su1 \\<le> su2 &&& {su1..su2} \\<subseteq> existence_ivl0 x", "apply linarith"], ["proof (prove)\ngoal (1 subgoal):\n 1. {su1..su2} \\<subseteq> existence_ivl0 x", "by (metis atLeastatMost_empty_iff empty_iff mvar.closed_segment_subset_domain real_Icc_closed_segment su1(3) su2(3) subset_eq)"], ["proof (state)\nthis:\n  su1 \\<le> su2\n  {su1..su2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. False", "(* by construction *)"], ["proof (state)\nthis:\n  su1 \\<le> su2\n  {su1..su2} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. False", "have d1: \"dist (flow0 x su1) v \\<ge> (dist u v)/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist u v / 2 \\<le> dist (flow0 x su1) v", "using su1(4) duv"], ["proof (prove)\nusing this:\n  dist (flow0 x su1) u < duv\n  0 < duv\n\ngoal (1 subgoal):\n 1. dist u v / 2 \\<le> dist (flow0 x su1) v", "unfolding duv_def"], ["proof (prove)\nusing this:\n  dist (flow0 x su1) u < dist u v / 2\n  0 < dist u v / 2\n\ngoal (1 subgoal):\n 1. dist u v / 2 \\<le> dist (flow0 x su1) v", "by (smt dist_triangle_half_r)"], ["proof (state)\nthis:\n  dist u v / 2 \\<le> dist (flow0 x su1) v\n\ngoal (1 subgoal):\n 1. False", "have \"dist (flow0 x su1) u < dist u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow0 x su1) u < dist u v", "using su1(4) duv"], ["proof (prove)\nusing this:\n  dist (flow0 x su1) u < duv\n  0 < duv\n\ngoal (1 subgoal):\n 1. dist (flow0 x su1) u < dist u v", "unfolding duv_def"], ["proof (prove)\nusing this:\n  dist (flow0 x su1) u < dist u v / 2\n  0 < dist u v / 2\n\ngoal (1 subgoal):\n 1. dist (flow0 x su1) u < dist u v", "by linarith"], ["proof (state)\nthis:\n  dist (flow0 x su1) u < dist u v\n\ngoal (1 subgoal):\n 1. False", "from open_segment_separate_left[OF u(2) uv this su1(2)]"], ["proof (chain)\npicking this:\n  flow0 x su1 \\<in> {a<--<v}", "have su1l:\"flow0 x su1 \\<in> {a<--<v}\""], ["proof (prove)\nusing this:\n  flow0 x su1 \\<in> {a<--<v}\n\ngoal (1 subgoal):\n 1. flow0 x su1 \\<in> {a<--<v}", "."], ["proof (state)\nthis:\n  flow0 x su1 \\<in> {a<--<v}\n\ngoal (1 subgoal):\n 1. False", "have \"dist (flow0 x su2) v < dist v (flow0 x su1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (flow0 x su2) v < dist v (flow0 x su1)", "using d1"], ["proof (prove)\nusing this:\n  dist u v / 2 \\<le> dist (flow0 x su1) v\n\ngoal (1 subgoal):\n 1. dist (flow0 x su2) v < dist v (flow0 x su1)", "by (smt dist_commute duv_def su2(4))"], ["proof (state)\nthis:\n  dist (flow0 x su2) v < dist v (flow0 x su1)\n\ngoal (1 subgoal):\n 1. False", "from open_segment_separate_right[OF v(2) su1l this su2(2)]"], ["proof (chain)\npicking this:\n  flow0 x su2 \\<in> {flow0 x su1<--<b}", "have su2l:\"flow0 x su2 \\<in> {flow0 x su1<--<b}\""], ["proof (prove)\nusing this:\n  flow0 x su2 \\<in> {flow0 x su1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x su2 \\<in> {flow0 x su1<--<b}", "."], ["proof (state)\nthis:\n  flow0 x su2 \\<in> {flow0 x su1<--<b}\n\ngoal (1 subgoal):\n 1. False", "then"], ["proof (chain)\npicking this:\n  flow0 x su2 \\<in> {flow0 x su1<--<b}", "have su2ll:\"flow0 x su2 \\<in> {u<--<b}\""], ["proof (prove)\nusing this:\n  flow0 x su2 \\<in> {flow0 x su1<--<b}\n\ngoal (1 subgoal):\n 1. flow0 x su2 \\<in> {u<--<b}", "by (smt dist_commute dist_pos_lt duv_def open_segment_subsegment pos_half_less open_segment_separate_right su2(2) su2(4) u(2) uv v(2) unotv)"], ["proof (state)\nthis:\n  flow0 x su2 \\<in> {u<--<b}\n\ngoal (1 subgoal):\n 1. False", "have \"dist (flow0 x su2) u \\<ge> (dist u v)/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist u v / 2 \\<le> dist (flow0 x su2) u", "using su2(4) duv"], ["proof (prove)\nusing this:\n  dist (flow0 x su2) v < duv\n  0 < duv\n\ngoal (1 subgoal):\n 1. dist u v / 2 \\<le> dist (flow0 x su2) u", "unfolding duv_def"], ["proof (prove)\nusing this:\n  dist (flow0 x su2) v < dist u v / 2\n  0 < dist u v / 2\n\ngoal (1 subgoal):\n 1. dist u v / 2 \\<le> dist (flow0 x su2) u", "by (smt dist_triangle_half_r)"], ["proof (state)\nthis:\n  dist u v / 2 \\<le> dist (flow0 x su2) u\n\ngoal (1 subgoal):\n 1. False", "then"], ["proof (chain)\npicking this:\n  dist u v / 2 \\<le> dist (flow0 x su2) u", "have \"dist (flow0 x su3) u < dist u (flow0 x su2)\""], ["proof (prove)\nusing this:\n  dist u v / 2 \\<le> dist (flow0 x su2) u\n\ngoal (1 subgoal):\n 1. dist (flow0 x su3) u < dist u (flow0 x su2)", "by (smt dist_commute duv_def su3(4))"], ["proof (state)\nthis:\n  dist (flow0 x su3) u < dist u (flow0 x su2)\n\ngoal (1 subgoal):\n 1. False", "from open_segment_separate_left[OF u(2) su2ll this su3(2)]"], ["proof (chain)\npicking this:\n  flow0 x su3 \\<in> {a<--<flow0 x su2}", "have su3l:\"flow0 x su3 \\<in> {a<--<flow0 x su2}\""], ["proof (prove)\nusing this:\n  flow0 x su3 \\<in> {a<--<flow0 x su2}\n\ngoal (1 subgoal):\n 1. flow0 x su3 \\<in> {a<--<flow0 x su2}", "."], ["proof (state)\nthis:\n  flow0 x su3 \\<in> {a<--<flow0 x su2}\n\ngoal (1 subgoal):\n 1. False", "from flow0_transversal_segment_monotone[OF transversal * su1(2) su2l su3(1) su3(3)]"], ["proof (chain)\npicking this:\n  flow0 x su3 \\<notin> {a<--<flow0 x su2}", "have \"flow0 x su3 \\<notin> {a <--<flow0 x su2}\""], ["proof (prove)\nusing this:\n  flow0 x su3 \\<notin> {a<--<flow0 x su2}\n\ngoal (1 subgoal):\n 1. flow0 x su3 \\<notin> {a<--<flow0 x su2}", "."], ["proof (state)\nthis:\n  flow0 x su3 \\<notin> {a<--<flow0 x su2}\n\ngoal (1 subgoal):\n 1. False", "thus False"], ["proof (prove)\nusing this:\n  flow0 x su3 \\<notin> {a<--<flow0 x su2}\n\ngoal (1 subgoal):\n 1. False", "using su3l"], ["proof (prove)\nusing this:\n  flow0 x su3 \\<notin> {a<--<flow0 x su2}\n  flow0 x su3 \\<in> {a<--<flow0 x su2}\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Unique Intersection\\<close>"], ["", "text \\<open>Perko Section 3.7 Remark 2\\<close>"], ["", "lemma unique_transversal_segment_intersection:\n  assumes \"transversal_segment a b\"\n  assumes \"{0..} \\<subseteq> existence_ivl0 x\"\n  assumes \"u \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\"\n  shows \"\\<omega>_limit_set x \\<inter> {a<--<b} = {u}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<inter> {a<--<b} = {u}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u} \\<Longrightarrow>\n    False", "assume \"\\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u}\""], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u} \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u}", "obtain v where uv: \"u \\<noteq> v\"\n    and v: \"\\<omega>_limit_point x v\" \"v \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>u \\<noteq> v; \\<omega>_limit_point x v;\n         v \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u}\n  transversal_segment a b\n  {0..} \\<subseteq> existence_ivl0 x\n  u \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>u \\<noteq> v; \\<omega>_limit_point x v;\n         v \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding \\<omega>_limit_set_def"], ["proof (prove)\nusing this:\n  Collect (\\<omega>_limit_point x) \\<inter> {a<--<b} \\<noteq> {u}\n  transversal_segment a b\n  {0..} \\<subseteq> existence_ivl0 x\n  u \\<in> Collect (\\<omega>_limit_point x) \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>u \\<noteq> v; \\<omega>_limit_point x v;\n         v \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  u \\<noteq> v\n  \\<omega>_limit_point x v\n  v \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u} \\<Longrightarrow>\n    False", "have u:\"\\<omega>_limit_point x u\" \"u \\<in> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_point x u &&& u \\<in> {a<--<b}", "using assms"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  {0..} \\<subseteq> existence_ivl0 x\n  u \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_point x u &&& u \\<in> {a<--<b}", "unfolding \\<omega>_limit_set_def"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  {0..} \\<subseteq> existence_ivl0 x\n  u \\<in> Collect (\\<omega>_limit_point x) \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_point x u &&& u \\<in> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  \\<omega>_limit_point x u\n  u \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<inter> {a<--<b} \\<noteq> {u} \\<Longrightarrow>\n    False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using no_two_\\<omega>_limit_points[OF \\<open>transversal_segment a b\\<close>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>{0..} \\<subseteq> existence_ivl0 ?x; \\<omega>_limit_point ?x ?u;\n   ?u \\<in> {a<--<b}; \\<omega>_limit_point ?x ?v; ?v \\<in> {a<--<b};\n   ?v \\<in> {?u<--<b}\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by (smt dist_commute dist_in_open_segment open_segment_trichotomy u uv v assms)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Adapted from Perko Section 3.7 Lemma 4 (+ Chicone )\\<close>"], ["", "lemma periodic_imp_\\<omega>_limit_set:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"periodic_orbit y\"\n    \"flow0 y ` UNIV \\<subseteq> \\<omega>_limit_set x\"\n  shows \"flow0 y `UNIV = \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 y) = \\<omega>_limit_set x", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "note y = \\<open>periodic_orbit y\\<close> \\<open>flow0 y ` UNIV \\<subseteq> \\<omega>_limit_set x\\<close>"], ["proof (state)\nthis:\n  periodic_orbit y\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from trapped_sol_right[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  {0..} \\<subseteq> existence_ivl0 x", "have ex_pos: \"{0..} \\<subseteq> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> existence_ivl0 x", "by blast"], ["proof (state)\nthis:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "assume \"flow0 y `UNIV \\<noteq> \\<omega>_limit_set x\""], ["proof (state)\nthis:\n  range (flow0 y) \\<noteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "obtain p where p: \"p \\<in> \\<omega>_limit_set x\" \"p \\<notin> flow0 y ` UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> \\<omega>_limit_set x;\n         p \\<notin> range (flow0 y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using y(2)"], ["proof (prove)\nusing this:\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>p \\<in> \\<omega>_limit_set x;\n         p \\<notin> range (flow0 y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>p.\n                \\<lbrakk>p \\<in> \\<omega>_limit_set x;\n                 p \\<notin> range (flow0 y)\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     range (flow0 y) \\<subseteq> \\<omega>_limit_set x\\<rbrakk>\n    \\<Longrightarrow> thesis", "using \\<open>range (flow0 y) \\<noteq> \\<omega>_limit_set x\\<close>"], ["proof (prove)\nusing this:\n  range (flow0 y) \\<noteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>p.\n                \\<lbrakk>p \\<in> \\<omega>_limit_set x;\n                 p \\<notin> range (flow0 y)\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     range (flow0 y) \\<subseteq> \\<omega>_limit_set x\\<rbrakk>\n    \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  p \\<in> \\<omega>_limit_set x\n  p \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from \\<omega>_limit_set_in_compact_connected[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  connected (\\<omega>_limit_set x)", "have\n    wcon: \"connected (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  connected (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. connected (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  connected (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from \\<omega>_limit_set_invariant"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set ?x)", "have\n    \"invariant (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set ?x)\n\ngoal (1 subgoal):\n 1. invariant (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from \\<omega>_limit_set_in_compact_compact[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  compact (\\<omega>_limit_set x)", "have\n    \"compact (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  compact (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. compact (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  compact (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  compact (\\<omega>_limit_set x)", "have sc: \"seq_compact (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  compact (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. seq_compact (\\<omega>_limit_set x)", "using compact_imp_seq_compact"], ["proof (prove)\nusing this:\n  compact (\\<omega>_limit_set x)\n  compact ?U \\<Longrightarrow> seq_compact ?U\n\ngoal (1 subgoal):\n 1. seq_compact (\\<omega>_limit_set x)", "by blast"], ["proof (state)\nthis:\n  seq_compact (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have y1:\"closed (flow0 y ` UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed (range (flow0 y))", "using closed_orbit_\\<omega>_limit_set periodic_orbit_def \\<omega>_limit_set_closed y(1)"], ["proof (prove)\nusing this:\n  closed_orbit ?x \\<Longrightarrow> range (flow0 ?x) = \\<omega>_limit_set ?x\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n  closed (\\<omega>_limit_set ?x)\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. closed (range (flow0 y))", "by auto"], ["proof (state)\nthis:\n  closed (range (flow0 y))\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have y2: \"flow0 y ` UNIV \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> {}", "by simp"], ["proof (state)\nthis:\n  range (flow0 y) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "let ?py = \"infdist p (range (flow0 y))\""], ["proof (state)\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have \"0 < ?py\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < infdist p (range (flow0 y))", "using y1 y2 p(2)"], ["proof (prove)\nusing this:\n  closed (range (flow0 y))\n  range (flow0 y) \\<noteq> {}\n  p \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. 0 < infdist p (range (flow0 y))", "by (rule infdist_pos_not_in_closed)"], ["proof (state)\nthis:\n  0 < infdist p (range (flow0 y))\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have \"\\<forall>n::nat. \\<exists>z. z \\<in> \\<omega>_limit_set x - flow0 y ` UNIV \\<and>\n    infdist z (flow0 y ` UNIV) < ?py/2^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n.\n       \\<exists>z.\n          z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n          infdist z (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "assume \" \\<not> (\\<forall>n. \\<exists>z. z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                infdist z (range (flow0 y))\n                < infdist p (range (flow0 y)) / 2 ^ n) \""], ["proof (state)\nthis:\n  \\<not> (\\<forall>n.\n             \\<exists>z.\n                z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                infdist z (range (flow0 y))\n                < infdist p (range (flow0 y)) / 2 ^ n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>n.\n             \\<exists>z.\n                z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                infdist z (range (flow0 y))\n                < infdist p (range (flow0 y)) / 2 ^ n)", "obtain n where n: \"(\\<forall>z \\<in> \\<omega>_limit_set x - range (flow0 y).\n      infdist z (range (flow0 y)) \\<ge> ?py / 2 ^ n)\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>n.\n             \\<exists>z.\n                z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                infdist z (range (flow0 y))\n                < infdist p (range (flow0 y)) / 2 ^ n)\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<forall>z\\<in>\\<omega>_limit_set x - range (flow0 y).\n           infdist p (range (flow0 y)) / 2 ^ n\n           \\<le> infdist z (range (flow0 y)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using not_less"], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>n.\n             \\<exists>z.\n                z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                infdist z (range (flow0 y))\n                < infdist p (range (flow0 y)) / 2 ^ n)\n  (\\<not> ?x < ?y) = (?y \\<le> ?x)\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<forall>z\\<in>\\<omega>_limit_set x - range (flow0 y).\n           infdist p (range (flow0 y)) / 2 ^ n\n           \\<le> infdist z (range (flow0 y)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<forall>z\\<in>\\<omega>_limit_set x - range (flow0 y).\n     infdist p (range (flow0 y)) / 2 ^ n \\<le> infdist z (range (flow0 y))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "define A where \"A = flow0 y ` UNIV\""], ["proof (state)\nthis:\n  A = range (flow0 y)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "define B where \"B = {z. infdist z (range (flow0 y)) \\<ge> ?py / 2 ^ n}\""], ["proof (state)\nthis:\n  B =\n  {z. infdist p (range (flow0 y)) / 2 ^ n \\<le> infdist z (range (flow0 y))}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "have Ac:\"closed A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed A", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed (range (flow0 y))", "using y1"], ["proof (prove)\nusing this:\n  closed (range (flow0 y))\n\ngoal (1 subgoal):\n 1. closed (range (flow0 y))", "by auto"], ["proof (state)\nthis:\n  closed A\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "have Bc:\"closed B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed B", "unfolding B_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed\n     {z. infdist p (range (flow0 y)) / 2 ^ n\n         \\<le> infdist z (range (flow0 y))}", "using infdist_closed"], ["proof (prove)\nusing this:\n  closed {z. ?e \\<le> infdist z ?S}\n\ngoal (1 subgoal):\n 1. closed\n     {z. infdist p (range (flow0 y)) / 2 ^ n\n         \\<le> infdist z (range (flow0 y))}", "by auto"], ["proof (state)\nthis:\n  closed B\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "have \"A \\<inter> B = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> B = {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "assume \"A \\<inter> B \\<noteq> {}\""], ["proof (state)\nthis:\n  A \\<inter> B \\<noteq> {}\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  A \\<inter> B \\<noteq> {}", "obtain q where q: \"q \\<in> A\" \"q \\<in> B\""], ["proof (prove)\nusing this:\n  A \\<inter> B \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>q \\<in> A; q \\<in> B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  q \\<in> A\n  q \\<in> B\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "have qz:\"infdist q (range(flow0 y)) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infdist q (range (flow0 y)) = 0", "using q(1)"], ["proof (prove)\nusing this:\n  q \\<in> A\n\ngoal (1 subgoal):\n 1. infdist q (range (flow0 y)) = 0", "unfolding A_def"], ["proof (prove)\nusing this:\n  q \\<in> range (flow0 y)\n\ngoal (1 subgoal):\n 1. infdist q (range (flow0 y)) = 0", "by simp"], ["proof (state)\nthis:\n  infdist q (range (flow0 y)) = 0\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "note \\<open>0 < ?py\\<close>"], ["proof (state)\nthis:\n  0 < infdist p (range (flow0 y))\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  0 < infdist p (range (flow0 y))\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "have \"2 ^ n > (0::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < 2 ^ n", "by auto"], ["proof (state)\nthis:\n  0 < 2 ^ n\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  0 < infdist p (range (flow0 y))\n  0 < 2 ^ n", "have \"infdist p (range (flow0 y)) / 2 ^ n > (0::real)\""], ["proof (prove)\nusing this:\n  0 < infdist p (range (flow0 y))\n  0 < 2 ^ n\n\ngoal (1 subgoal):\n 1. 0 < infdist p (range (flow0 y)) / 2 ^ n", "by simp"], ["proof (state)\nthis:\n  0 < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0 < infdist p (range (flow0 y)) / 2 ^ n", "have qnz: \"infdist q(range (flow0 y)) > 0\""], ["proof (prove)\nusing this:\n  0 < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. 0 < infdist q (range (flow0 y))", "using q(2)"], ["proof (prove)\nusing this:\n  0 < infdist p (range (flow0 y)) / 2 ^ n\n  q \\<in> B\n\ngoal (1 subgoal):\n 1. 0 < infdist q (range (flow0 y))", "unfolding B_def"], ["proof (prove)\nusing this:\n  0 < infdist p (range (flow0 y)) / 2 ^ n\n  q \\<in> {z. infdist p (range (flow0 y)) / 2 ^ n\n              \\<le> infdist z (range (flow0 y))}\n\ngoal (1 subgoal):\n 1. 0 < infdist q (range (flow0 y))", "by auto"], ["proof (state)\nthis:\n  0 < infdist q (range (flow0 y))\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<noteq> {} \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using qz qnz"], ["proof (prove)\nusing this:\n  infdist q (range (flow0 y)) = 0\n  0 < infdist q (range (flow0 y))\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A \\<inter> B = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  A \\<inter> B = {}", "have a1:\"A \\<inter> B \\<inter> \\<omega>_limit_set x = {}\""], ["proof (prove)\nusing this:\n  A \\<inter> B = {}\n\ngoal (1 subgoal):\n 1. A \\<inter> B \\<inter> \\<omega>_limit_set x = {}", "by auto"], ["proof (state)\nthis:\n  A \\<inter> B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "have \"\\<omega>_limit_set x - range(flow0 y) \\<subseteq> B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x - range (flow0 y) \\<subseteq> B", "using n B_def"], ["proof (prove)\nusing this:\n  \\<forall>z\\<in>\\<omega>_limit_set x - range (flow0 y).\n     infdist p (range (flow0 y)) / 2 ^ n \\<le> infdist z (range (flow0 y))\n  B =\n  {z. infdist p (range (flow0 y)) / 2 ^ n \\<le> infdist z (range (flow0 y))}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x - range (flow0 y) \\<subseteq> B", "by blast"], ["proof (state)\nthis:\n  \\<omega>_limit_set x - range (flow0 y) \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x - range (flow0 y) \\<subseteq> B", "have a2:\"\\<omega>_limit_set x \\<subseteq> A \\<union> B\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x - range (flow0 y) \\<subseteq> B\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> A \\<union> B", "using A_def"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x - range (flow0 y) \\<subseteq> B\n  A = range (flow0 y)\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> A \\<union> B", "by auto"], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> A \\<union> B\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "from connected_closedD[OF wcon a1 a2 Ac Bc]"], ["proof (chain)\npicking this:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}", "have \"A \\<inter> \\<omega>_limit_set x = {} \\<or> B \\<inter> \\<omega>_limit_set x = {}\""], ["proof (prove)\nusing this:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. A \\<inter> \\<omega>_limit_set x = {} \\<or>\n    B \\<inter> \\<omega>_limit_set x = {}", "."], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "{"], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "assume \"A \\<inter> \\<omega>_limit_set x = {}\""], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  A \\<inter> \\<omega>_limit_set x = {}", "have False"], ["proof (prove)\nusing this:\n  A \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. False", "unfolding A_def"], ["proof (prove)\nusing this:\n  range (flow0 y) \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. False", "using y(2)"], ["proof (prove)\nusing this:\n  range (flow0 y) \\<inter> \\<omega>_limit_set x = {}\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "}"], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "{"], ["proof (state)\nthis:\n  A \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "assume \"B \\<inter> \\<omega>_limit_set x = {}\""], ["proof (state)\nthis:\n  B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  B \\<inter> \\<omega>_limit_set x = {}", "have False"], ["proof (prove)\nusing this:\n  B \\<inter> \\<omega>_limit_set x = {}\n\ngoal (1 subgoal):\n 1. False", "unfolding B_def"], ["proof (prove)\nusing this:\n  {z. infdist p (range (flow0 y)) / 2 ^ n\n      \\<le> infdist z (range (flow0 y))} \\<inter>\n  \\<omega>_limit_set x =\n  {}\n\ngoal (1 subgoal):\n 1. False", "using p"], ["proof (prove)\nusing this:\n  {z. infdist p (range (flow0 y)) / 2 ^ n\n      \\<le> infdist z (range (flow0 y))} \\<inter>\n  \\<omega>_limit_set x =\n  {}\n  p \\<in> \\<omega>_limit_set x\n  p \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. False", "using A_def B_def a2"], ["proof (prove)\nusing this:\n  {z. infdist p (range (flow0 y)) / 2 ^ n\n      \\<le> infdist z (range (flow0 y))} \\<inter>\n  \\<omega>_limit_set x =\n  {}\n  p \\<in> \\<omega>_limit_set x\n  p \\<notin> range (flow0 y)\n  A = range (flow0 y)\n  B =\n  {z. infdist p (range (flow0 y)) / 2 ^ n \\<le> infdist z (range (flow0 y))}\n  \\<omega>_limit_set x \\<subseteq> A \\<union> B\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "}"], ["proof (state)\nthis:\n  B \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>n.\n               \\<exists>z.\n                  z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n                  infdist z (range (flow0 y))\n                  < infdist p (range (flow0 y)) / 2 ^ n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}\n  A \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n  B \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False", "show False"], ["proof (prove)\nusing this:\n  A \\<inter> \\<omega>_limit_set x = {} \\<or>\n  B \\<inter> \\<omega>_limit_set x = {}\n  A \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n  B \\<inter> \\<omega>_limit_set x = {} \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n.\n     \\<exists>z.\n        z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n        infdist z (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>n.\n     \\<exists>z.\n        z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n        infdist z (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n", "obtain s where s: \"\\<forall>n::nat. (s::nat \\<Rightarrow> _) n \\<in> \\<omega>_limit_set x - flow0 y ` UNIV \\<and>\n                      infdist (s n) (flow0 y ` UNIV) < ?py/2^n\""], ["proof (prove)\nusing this:\n  \\<forall>n.\n     \\<exists>z.\n        z \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n        infdist z (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<forall>n.\n           s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n           infdist (s n) (range (flow0 y))\n           < infdist p (range (flow0 y)) / 2 ^ n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<forall>n.\n     s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n     infdist (s n) (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>n.\n     s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n     infdist (s n) (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n", "have \"\\<forall>n. s n \\<in> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  \\<forall>n.\n     s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n     infdist (s n) (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<forall>n. s n \\<in> \\<omega>_limit_set x", "by blast"], ["proof (state)\nthis:\n  \\<forall>n. s n \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from seq_compactE[OF sc this]"], ["proof (chain)\npicking this:\n  (\\<And>l r.\n      \\<lbrakk>l \\<in> \\<omega>_limit_set x; strict_mono r;\n       (s \\<circ> r) \\<longlonglongrightarrow> l\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain l r where lr: \"l \\<in> \\<omega>_limit_set x\" \"strict_mono r\" \"(s \\<circ> r) \\<longlonglongrightarrow> l\""], ["proof (prove)\nusing this:\n  (\\<And>l r.\n      \\<lbrakk>l \\<in> \\<omega>_limit_set x; strict_mono r;\n       (s \\<circ> r) \\<longlonglongrightarrow> l\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>l r.\n        \\<lbrakk>l \\<in> \\<omega>_limit_set x; strict_mono r;\n         (s \\<circ> r) \\<longlonglongrightarrow> l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  l \\<in> \\<omega>_limit_set x\n  strict_mono r\n  (s \\<circ> r) \\<longlonglongrightarrow> l\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have \"\\<And>n. infdist (s n) (range (flow0 y)) \\<le> ?py / 2 ^ n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       infdist (s n) (range (flow0 y))\n       \\<le> infdist p (range (flow0 y)) / 2 ^ n", "using s"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n     infdist (s n) (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       infdist (s n) (range (flow0 y))\n       \\<le> infdist p (range (flow0 y)) / 2 ^ n", "using less_eq_real_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n     infdist (s n) (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       infdist (s n) (range (flow0 y))\n       \\<le> infdist p (range (flow0 y)) / 2 ^ n", "by blast"], ["proof (state)\nthis:\n  infdist (s ?n2) (range (flow0 y))\n  \\<le> infdist p (range (flow0 y)) / 2 ^ ?n2\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  infdist (s ?n2) (range (flow0 y))\n  \\<le> infdist p (range (flow0 y)) / 2 ^ ?n2", "have \"\\<And>n. norm(infdist (s n) (range (flow0 y))) \\<le> ?py / 2 ^ n\""], ["proof (prove)\nusing this:\n  infdist (s ?n2) (range (flow0 y))\n  \\<le> infdist p (range (flow0 y)) / 2 ^ ?n2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       norm (infdist (s n) (range (flow0 y)))\n       \\<le> infdist p (range (flow0 y)) / 2 ^ n", "by (auto simp add: infdist_nonneg)"], ["proof (state)\nthis:\n  norm (infdist (s ?n2) (range (flow0 y)))\n  \\<le> infdist p (range (flow0 y)) / 2 ^ ?n2\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from LIMSEQ_norm_0_pow[OF \\<open>0 < ?py\\<close> _ this]"], ["proof (chain)\npicking this:\n  1 < 2 \\<Longrightarrow>\n  (\\<lambda>n. infdist (s n) (range (flow0 y))) \\<longlonglongrightarrow> 0", "have \"((\\<lambda>z. infdist z (flow0 y ` UNIV)) \\<circ> s) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  1 < 2 \\<Longrightarrow>\n  (\\<lambda>n. infdist (s n) (range (flow0 y))) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> s)\n    \\<longlonglongrightarrow> 0", "by (auto simp add:o_def)"], ["proof (state)\nthis:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> s)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from LIMSEQ_subseq_LIMSEQ[OF this lr(2)]"], ["proof (chain)\npicking this:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> s \\<circ> r)\n  \\<longlonglongrightarrow> 0", "have \"((\\<lambda>z. infdist z (flow0 y ` UNIV)) \\<circ> (s \\<circ> r)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> s \\<circ> r)\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n    \\<longlonglongrightarrow> 0", "by (simp add: o_assoc)"], ["proof (state)\nthis:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have \"((\\<lambda>z. infdist z (flow0 y ` UNIV)) \\<circ> (s \\<circ> r)) \\<longlonglongrightarrow> infdist l (flow0 y ` UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n    \\<longlonglongrightarrow> infdist l (range (flow0 y))", "by (auto intro!: tendsto_eq_intros tendsto_compose_at[OF lr(3)])"], ["proof (state)\nthis:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> infdist l (range (flow0 y))\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> 0\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> infdist l (range (flow0 y))", "have \"infdist l (flow0 y `UNIV) = 0\""], ["proof (prove)\nusing this:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> 0\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> infdist l (range (flow0 y))\n\ngoal (1 subgoal):\n 1. infdist l (range (flow0 y)) = 0", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> 0\n  ((\\<lambda>z. infdist z (range (flow0 y))) \\<circ> (s \\<circ> r))\n  \\<longlonglongrightarrow> infdist l (range (flow0 y))\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. infdist l (range (flow0 y)) = 0", "by auto"], ["proof (state)\nthis:\n  infdist l (range (flow0 y)) = 0\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  infdist l (range (flow0 y)) = 0", "have lu: \"l \\<in> flow0 y ` UNIV\""], ["proof (prove)\nusing this:\n  infdist l (range (flow0 y)) = 0\n\ngoal (1 subgoal):\n 1. l \\<in> range (flow0 y)", "using in_closed_iff_infdist_zero[OF y1 y2]"], ["proof (prove)\nusing this:\n  infdist l (range (flow0 y)) = 0\n  (?x \\<in> range (flow0 y)) = (infdist ?x (range (flow0 y)) = 0)\n\ngoal (1 subgoal):\n 1. l \\<in> range (flow0 y)", "by auto"], ["proof (state)\nthis:\n  l \\<in> range (flow0 y)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  l \\<in> range (flow0 y)", "have l1:\"l \\<in> X\""], ["proof (prove)\nusing this:\n  l \\<in> range (flow0 y)\n\ngoal (1 subgoal):\n 1. l \\<in> X", "using closed_orbit_global_existence periodic_orbit_def y(1)"], ["proof (prove)\nusing this:\n  l \\<in> range (flow0 y)\n  closed_orbit ?x \\<Longrightarrow> existence_ivl0 ?x = UNIV\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. l \\<in> X", "by auto"], ["proof (state)\nthis:\n  l \\<in> X\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "(* TODO: factor out as periodic_orbitE *)"], ["proof (state)\nthis:\n  l \\<in> X\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have l2:\"f l \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f l \\<noteq> (0::'a)", "by (smt \\<open>l \\<in> X\\<close> \\<open>l \\<in> range (flow0 y)\\<close> closed_orbit_global_existence fixed_point_imp_closed_orbit_period_zero(2) fixpoint_sol(2) image_iff local.flows_reverse periodic_orbit_def y(1))"], ["proof (state)\nthis:\n  f l \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from transversal_segment_exists[OF l1 l2]"], ["proof (chain)\npicking this:\n  (\\<And>a b.\n      \\<lbrakk>l \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain a b where ab: \"transversal_segment a b\" \"l \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  (\\<And>a b.\n      \\<lbrakk>l \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>transversal_segment a b; l \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  transversal_segment a b\n  l \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  transversal_segment a b\n  l \\<in> {a<--<b}", "have \"l \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\""], ["proof (prove)\nusing this:\n  transversal_segment a b\n  l \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. l \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "using lr"], ["proof (prove)\nusing this:\n  transversal_segment a b\n  l \\<in> {a<--<b}\n  l \\<in> \\<omega>_limit_set x\n  strict_mono r\n  (s \\<circ> r) \\<longlonglongrightarrow> l\n\ngoal (1 subgoal):\n 1. l \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  l \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from unique_transversal_segment_intersection[OF ab(1) ex_pos this]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} = {l}", "have luniq: \"\\<omega>_limit_set x \\<inter> {a<--<b} = {l} \""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} = {l}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<inter> {a<--<b} = {l}", "."], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<inter> {a<--<b} = {l}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from cross_time_continuous[OF ab, of 1]"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < 1;\n   \\<And>d t.\n      \\<lbrakk>0 < d; continuous_on (ball l d) t;\n       \\<And>y.\n          y \\<in> ball l d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n       \\<And>y. y \\<in> ball l d \\<Longrightarrow> \\<bar>t y\\<bar> < 1;\n       continuous_on (ball l d) t; t l = 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain d t where dt: \"0 < d\"\n    \"(\\<And>y. y \\<in> ball l d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b})\"\n    \"(\\<And>y. y \\<in> ball l d \\<Longrightarrow> \\<bar>t y\\<bar> < 1)\"\n    \"continuous_on (ball l d) t\" \"t l = 0\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < 1;\n   \\<And>d t.\n      \\<lbrakk>0 < d; continuous_on (ball l d) t;\n       \\<And>y.\n          y \\<in> ball l d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n       \\<And>y. y \\<in> ball l d \\<Longrightarrow> \\<bar>t y\\<bar> < 1;\n       continuous_on (ball l d) t; t l = 0\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>d t.\n        \\<lbrakk>0 < d;\n         \\<And>y.\n            y \\<in> ball l d \\<Longrightarrow> flow0 y (t y) \\<in> {a<--<b};\n         \\<And>y. y \\<in> ball l d \\<Longrightarrow> \\<bar>t y\\<bar> < 1;\n         continuous_on (ball l d) t; t l = 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < d\n  ?y2 \\<in> ball l d \\<Longrightarrow> flow0 ?y2 (t ?y2) \\<in> {a<--<b}\n  ?y2 \\<in> ball l d \\<Longrightarrow> \\<bar>t ?y2\\<bar> < 1\n  continuous_on (ball l d) t\n  t l = 0\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "obtain n where \"(s \\<circ> r) n \\<in> ball l d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n.\n        (s \\<circ> r) n \\<in> ball l d \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using lr(3) dt(1)"], ["proof (prove)\nusing this:\n  (s \\<circ> r) \\<longlonglongrightarrow> l\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        (s \\<circ> r) n \\<in> ball l d \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding LIMSEQ_iff_nz"], ["proof (prove)\nusing this:\n  \\<forall>ra>0.\n     \\<exists>no>0. \\<forall>n\\<ge>no. dist ((s \\<circ> r) n) l < ra\n  0 < d\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        (s \\<circ> r) n \\<in> ball l d \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis dist_commute mem_ball order_refl)"], ["proof (state)\nthis:\n  (s \\<circ> r) n \\<in> ball l d\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  (s \\<circ> r) n \\<in> ball l d", "have \"flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n )) \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  (s \\<circ> r) n \\<in> ball l d\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}", "using dt"], ["proof (prove)\nusing this:\n  (s \\<circ> r) n \\<in> ball l d\n  0 < d\n  ?y2 \\<in> ball l d \\<Longrightarrow> flow0 ?y2 (t ?y2) \\<in> {a<--<b}\n  ?y2 \\<in> ball l d \\<Longrightarrow> \\<bar>t ?y2\\<bar> < 1\n  continuous_on (ball l d) t\n  t l = 0\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have sr: \"(s \\<circ> r) n \\<in> \\<omega>_limit_set x\" \"(s \\<circ> r) n \\<notin> flow0 y ` UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (s \\<circ> r) n \\<in> \\<omega>_limit_set x &&&\n    (s \\<circ> r) n \\<notin> range (flow0 y)", "using s"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     s n \\<in> \\<omega>_limit_set x - range (flow0 y) \\<and>\n     infdist (s n) (range (flow0 y)) < infdist p (range (flow0 y)) / 2 ^ n\n\ngoal (1 subgoal):\n 1. (s \\<circ> r) n \\<in> \\<omega>_limit_set x &&&\n    (s \\<circ> r) n \\<notin> range (flow0 y)", "by auto"], ["proof (state)\nthis:\n  (s \\<circ> r) n \\<in> \\<omega>_limit_set x\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  (s \\<circ> r) n \\<in> \\<omega>_limit_set x\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "have \"flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n )) \\<in> \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x", "using \\<open>invariant (\\<omega>_limit_set x)\\<close> calculation"], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}\n  (s \\<circ> r) n \\<in> \\<omega>_limit_set x\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x", "unfolding invariant_def trapped_def"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x.\n     trapped_forward xa (\\<omega>_limit_set x) \\<and>\n     trapped_backward xa (\\<omega>_limit_set x)\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}\n  (s \\<circ> r) n \\<in> \\<omega>_limit_set x\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x", "by (smt \\<omega>_limit_set_in_compact_subset \\<open>invariant (\\<omega>_limit_set x)\\<close> assms(1-4) invariant_def order_trans range_eqI subsetD trapped_iff_on_existence_ivl0 trapped_sol)"], ["proof (state)\nthis:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}\n  (s \\<circ> r) n \\<in> \\<omega>_limit_set x\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x", "have \"flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n )) \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\""], ["proof (prove)\nusing this:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> {a<--<b}\n  (s \\<circ> r) n \\<in> \\<omega>_limit_set x\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n))\n    \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n))\n  \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "from unique_transversal_segment_intersection[OF ab(1) ex_pos this]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} =\n  {flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n))}", "have \"flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n )) = l\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} =\n  {flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n))}\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l", "using luniq"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<inter> {a<--<b} =\n  {flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n))}\n  \\<omega>_limit_set x \\<inter> {a<--<b} = {l}\n\ngoal (1 subgoal):\n 1. flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l", "by auto"], ["proof (state)\nthis:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l", "have \"((s \\<circ> r) n) = flow0 l (-(t ((s \\<circ> r) n ))) \""], ["proof (prove)\nusing this:\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l\n\ngoal (1 subgoal):\n 1. (s \\<circ> r) n = flow0 l (- t ((s \\<circ> r) n))", "by (smt UNIV_I \\<open>(s \\<circ> r) n \\<in> \\<omega>_limit_set x\\<close> flows_reverse \\<omega>_limit_set_in_compact_existence assms(1-4))"], ["proof (state)\nthis:\n  (s \\<circ> r) n = flow0 l (- t ((s \\<circ> r) n))\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<noteq> \\<omega>_limit_set x \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  (s \\<circ> r) n = flow0 l (- t ((s \\<circ> r) n))\n\ngoal (1 subgoal):\n 1. False", "using sr(2) lu\n      \\<open>flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l\\<close> \\<open>flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x\\<close>\n      closed_orbit_global_existence image_iff local.flow_trans periodic_orbit_def \\<omega>_limit_set_in_compact_existence range_eqI assms y(1)"], ["proof (prove)\nusing this:\n  (s \\<circ> r) n = flow0 l (- t ((s \\<circ> r) n))\n  (s \\<circ> r) n \\<notin> range (flow0 y)\n  l \\<in> range (flow0 y)\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) = l\n  flow0 ((s \\<circ> r) n) (t ((s \\<circ> r) n)) \\<in> \\<omega>_limit_set x\n  closed_orbit ?x \\<Longrightarrow> existence_ivl0 ?x = UNIV\n  (?z \\<in> ?f ` ?A) = (\\<exists>x\\<in>?A. ?z = ?f x)\n  \\<lbrakk>?s \\<in> existence_ivl0 ?x0.0;\n   ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?s)\\<rbrakk>\n  \\<Longrightarrow> flow0 ?x0.0 (?s + ?t) = flow0 (flow0 ?x0.0 ?s) ?t\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n  \\<lbrakk>compact ?K; ?K \\<subseteq> X; ?x \\<in> X; trapped_forward ?x ?K;\n   ?y \\<in> \\<omega>_limit_set ?x\\<rbrakk>\n  \\<Longrightarrow> existence_ivl0 ?y = UNIV\n  ?b = ?f ?x \\<Longrightarrow> ?b \\<in> range ?f\n  compact K\n  K \\<subseteq> X\n  x \\<in> X\n  trapped_forward x K\n  periodic_orbit y\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. False", "by smt"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "context c1_on_open_R2 begin"], ["", "lemma \\<alpha>_limit_crossings:\n  assumes \"transversal_segment a b\"\n  assumes pos_ex: \"{..0} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<alpha>_limit_point x p\"\n  assumes \"p \\<in> {a<--<b}\"\n  obtains s where\n    \"s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\"\n    \"(flow0 x \\<circ> s) \\<longlonglongrightarrow> p\"\n    \"\\<forall>\\<^sub>F n in sequentially.\n    flow0 x (s n) \\<in> {a<--<b} \\<and>\n    s n \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from pos_ex"], ["proof (chain)\npicking this:\n  {..0} \\<subseteq> existence_ivl0 x", "have \"{0..} \\<subseteq> uminus ` existence_ivl0 x\""], ["proof (prove)\nusing this:\n  {..0} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> uminus ` existence_ivl0 x", "by force"], ["proof (state)\nthis:\n  {0..} \\<subseteq> uminus ` existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from rev.\\<omega>_limit_crossings[unfolded rev_transversal_segment rev_existence_ivl_eq0 rev_eq_flow\n      \\<alpha>_limit_point_eq_rev[symmetric], OF assms(1) this assms(3,4)]"], ["proof (chain)\npicking this:\n  (\\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       ((\\<lambda>t. flow0 x (- t)) \\<circ> s) \\<longlonglongrightarrow> p;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 x (- s n) \\<in> {a<--<b} \\<and>\n          s n \\<in> uminus ` existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain s where \"filterlim s at_top sequentially\" \"((\\<lambda>t. flow0 x (- t)) \\<circ> s) \\<longlonglongrightarrow> p\"\n    \"\\<forall>\\<^sub>F n in sequentially. flow0 x (- s n) \\<in> {a<--<b} \\<and> s n \\<in> uminus ` existence_ivl0 x\""], ["proof (prove)\nusing this:\n  (\\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       ((\\<lambda>t. flow0 x (- t)) \\<circ> s) \\<longlonglongrightarrow> p;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 x (- s n) \\<in> {a<--<b} \\<and>\n          s n \\<in> uminus ` existence_ivl0 x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         ((\\<lambda>t. flow0 x (- t)) \\<circ> s)\n         \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (- s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> uminus ` existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "."], ["proof (state)\nthis:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  ((\\<lambda>t. flow0 x (- t)) \\<circ> s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (- s n) \\<in> {a<--<b} \\<and>\n     s n \\<in> uminus ` existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  ((\\<lambda>t. flow0 x (- t)) \\<circ> s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (- s n) \\<in> {a<--<b} \\<and>\n     s n \\<in> uminus ` existence_ivl0 x", "have \"filterlim (-s) at_bot sequentially\"\n    \"(flow0 x \\<circ> (-s)) \\<longlonglongrightarrow> p\"\n    \"\\<forall>\\<^sub>F n in sequentially. flow0 x ((-s) n) \\<in> {a<--<b} \\<and> (-s) n \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  ((\\<lambda>t. flow0 x (- t)) \\<circ> s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x (- s n) \\<in> {a<--<b} \\<and>\n     s n \\<in> uminus ` existence_ivl0 x\n\ngoal (1 subgoal):\n 1. - s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity> &&&\n    (flow0 x \\<circ> - s) \\<longlonglongrightarrow> p &&&\n    \\<forall>\\<^sub>F n in sequentially.\n       flow0 x ((- s) n) \\<in> {a<--<b} \\<and>\n       (- s) n \\<in> existence_ivl0 x", "by (auto simp: fun_Compl_def o_def filterlim_uminus_at_top)"], ["proof (state)\nthis:\n  - s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\n  (flow0 x \\<circ> - s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x ((- s) n) \\<in> {a<--<b} \\<and> (- s) n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n         (flow0 x \\<circ> s) \\<longlonglongrightarrow> p;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 x (s n) \\<in> {a<--<b} \\<and>\n            s n \\<in> existence_ivl0 x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  - s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\n  (flow0 x \\<circ> - s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x ((- s) n) \\<in> {a<--<b} \\<and> (- s) n \\<in> existence_ivl0 x", "show ?thesis"], ["proof (prove)\nusing this:\n  - s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\n  (flow0 x \\<circ> - s) \\<longlonglongrightarrow> p\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 x ((- s) n) \\<in> {a<--<b} \\<and> (- s) n \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>If a positive limit point has a regular point in its positive limit set then it is periodic\\<close>"], ["", "lemma \\<omega>_limit_point_\\<omega>_limit_set_regular_imp_periodic:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes y: \"y \\<in> \\<omega>_limit_set x\" \"f y \\<noteq> 0\"\n  assumes z: \"z \\<in> \\<omega>_limit_set y \\<union> \\<alpha>_limit_set y\" \"f z \\<noteq> 0\"\n  shows \"periodic_orbit y \\<and> flow0 y ` UNIV = \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from trapped_sol_right[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  {0..} \\<subseteq> existence_ivl0 x", "have ex_pos: \"{0..} \\<subseteq> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> existence_ivl0 x", "by blast"], ["proof (state)\nthis:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from \\<omega>_limit_set_in_compact_existence[OF assms(1-4) y(1)]"], ["proof (chain)\npicking this:\n  existence_ivl0 y = UNIV", "have yex: \"existence_ivl0 y = UNIV\""], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 y = UNIV", "."], ["proof (state)\nthis:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from \\<omega>_limit_set_invariant"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set ?x)", "have \"invariant (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set ?x)\n\ngoal (1 subgoal):\n 1. invariant (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "then"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set x)", "have yinv: \"flow0 y ` UNIV \\<subseteq> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "using yex"], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "unfolding invariant_def"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x. trapped xa (\\<omega>_limit_set x)\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "using trapped_iff_on_existence_ivl0 y(1)"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x. trapped xa (\\<omega>_limit_set x)\n  existence_ivl0 y = UNIV\n  trapped ?x ?K = (flow0 ?x ` existence_ivl0 ?x \\<subseteq> ?K)\n  y \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "by blast"], ["proof (state)\nthis:\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "have zy: \"\\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z", "using z"], ["proof (prove)\nusing this:\n  z \\<in> \\<omega>_limit_set y \\<union> \\<alpha>_limit_set y\n  f z \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z", "unfolding \\<omega>_limit_set_def \\<alpha>_limit_set_def"], ["proof (prove)\nusing this:\n  z \\<in> Collect (\\<omega>_limit_point y) \\<union>\n          Collect (\\<alpha>_limit_point y)\n  f z \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z", "by auto"], ["proof (state)\nthis:\n  \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from \\<omega>_limit_set_in_compact_\\<omega>_limit_set_contained[OF assms(1-4)]\n    \\<omega>_limit_set_in_compact_\\<alpha>_limit_set_contained[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n  ?z \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  \\<alpha>_limit_set ?z \\<subseteq> \\<omega>_limit_set x", "have zx:\"z \\<in> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n  ?z \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  \\<alpha>_limit_set ?z \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. z \\<in> \\<omega>_limit_set x", "using zy y"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n  ?z \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  \\<alpha>_limit_set ?z \\<subseteq> \\<omega>_limit_set x\n  \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z\n  y \\<in> \\<omega>_limit_set x\n  f y \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. z \\<in> \\<omega>_limit_set x", "using z(1)"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n  ?z \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  \\<alpha>_limit_set ?z \\<subseteq> \\<omega>_limit_set x\n  \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z\n  y \\<in> \\<omega>_limit_set x\n  f y \\<noteq> (0::'a)\n  z \\<in> \\<omega>_limit_set y \\<union> \\<alpha>_limit_set y\n\ngoal (1 subgoal):\n 1. z \\<in> \\<omega>_limit_set x", "by blast"], ["proof (state)\nthis:\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "then"], ["proof (chain)\npicking this:\n  z \\<in> \\<omega>_limit_set x", "have \"z \\<in> X\""], ["proof (prove)\nusing this:\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. z \\<in> X", "by (metis UNIV_I local.existence_ivl_initial_time_iff \\<omega>_limit_set_in_compact_existence assms(1-4))"], ["proof (state)\nthis:\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from transversal_segment_exists[OF this z(2)]"], ["proof (chain)\npicking this:\n  (\\<And>a b.\n      \\<lbrakk>z \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain a b where ab: \"transversal_segment a b\" \"z \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  (\\<And>a b.\n      \\<lbrakk>z \\<in> {a<--<b}; transversal_segment a b\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>a b.\n        \\<lbrakk>transversal_segment a b; z \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  transversal_segment a b\n  z \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from zy"], ["proof (chain)\npicking this:\n  \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z", "obtain t1 t2 where t1: \"flow0 y t1 \\<in> {a<--<b}\" and t2: \"flow0 y t2 \\<in> {a<--<b}\" and \"t1 \\<noteq> t2\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_point y z \\<or> \\<alpha>_limit_point y z\n\ngoal (1 subgoal):\n 1. (\\<And>t1 t2.\n        \\<lbrakk>flow0 y t1 \\<in> {a<--<b}; flow0 y t2 \\<in> {a<--<b};\n         t1 \\<noteq> t2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume zy: \"\\<omega>_limit_point y z\""], ["proof (state)\nthis:\n  \\<omega>_limit_point y z\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from \\<omega>_limit_crossings[OF ab(1) _ zy ab(2), unfolded yex]"], ["proof (chain)\npicking this:\n  \\<lbrakk>{0..} \\<subseteq> UNIV;\n   \\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       (flow0 y \\<circ> s) \\<longlonglongrightarrow> z;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 y (s n) \\<in> {a<--<b} \\<and> s n \\<in> UNIV\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain s where s: \"filterlim s at_top sequentially\"\n      \"(flow0 y \\<circ> s) \\<longlonglongrightarrow> z\"\n      \"\\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>{0..} \\<subseteq> UNIV;\n   \\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n       (flow0 y \\<circ> s) \\<longlonglongrightarrow> z;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 y (s n) \\<in> {a<--<b} \\<and> s n \\<in> UNIV\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>;\n         (flow0 y \\<circ> s) \\<longlonglongrightarrow> z;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 y (s n) \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 y \\<circ> s) \\<longlonglongrightarrow> z\n  \\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from eventually_happens[OF this(3)]"], ["proof (chain)\npicking this:\n  sequentially = bot \\<or> (\\<exists>x. flow0 y (s x) \\<in> {a<--<b})", "obtain t1 where t1: \"flow0 y t1 \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  sequentially = bot \\<or> (\\<exists>x. flow0 y (s x) \\<in> {a<--<b})\n\ngoal (1 subgoal):\n 1. (\\<And>t1.\n        flow0 y t1 \\<in> {a<--<b} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  flow0 y t1 \\<in> {a<--<b}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "have \"\\<forall>\\<^sub>F n in sequentially. s n > t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. t1 < s n", "using filterlim_at_top_dense s(1)"], ["proof (prove)\nusing this:\n  filterlim ?f at_top ?F = (\\<forall>Z. \\<forall>\\<^sub>F x in ?F. Z < ?f x)\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. t1 < s n", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. t1 < s n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "with s(3)"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\n  \\<forall>\\<^sub>F n in sequentially. t1 < s n", "have \"\\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b} \\<and> s n > t1\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\n  \\<forall>\\<^sub>F n in sequentially. t1 < s n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       flow0 y (s n) \\<in> {a<--<b} \\<and> t1 < s n", "by eventually_elim simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 y (s n) \\<in> {a<--<b} \\<and> t1 < s n\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from eventually_happens[OF this]"], ["proof (chain)\npicking this:\n  sequentially = bot \\<or>\n  (\\<exists>x. flow0 y (s x) \\<in> {a<--<b} \\<and> t1 < s x)", "obtain t2 where t2: \"flow0 y t2 \\<in> {a<--<b}\" and \"t1 \\<noteq> t2\""], ["proof (prove)\nusing this:\n  sequentially = bot \\<or>\n  (\\<exists>x. flow0 y (s x) \\<in> {a<--<b} \\<and> t1 < s x)\n\ngoal (1 subgoal):\n 1. (\\<And>t2.\n        \\<lbrakk>flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<omega>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis\n 2. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from t1 this"], ["proof (chain)\npicking this:\n  flow0 y t1 \\<in> {a<--<b}\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 y t1 \\<in> {a<--<b}\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume zy: \"\\<alpha>_limit_point y z\""], ["proof (state)\nthis:\n  \\<alpha>_limit_point y z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from \\<alpha>_limit_crossings[OF ab(1) _ zy ab(2), unfolded yex]"], ["proof (chain)\npicking this:\n  \\<lbrakk>{..0} \\<subseteq> UNIV;\n   \\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n       (flow0 y \\<circ> s) \\<longlonglongrightarrow> z;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 y (s n) \\<in> {a<--<b} \\<and> s n \\<in> UNIV\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "obtain s where s: \"filterlim s at_bot sequentially\"\n      \"(flow0 y \\<circ> s) \\<longlonglongrightarrow> z\"\n      \"\\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>{..0} \\<subseteq> UNIV;\n   \\<And>s.\n      \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n       (flow0 y \\<circ> s) \\<longlonglongrightarrow> z;\n       \\<forall>\\<^sub>F n in sequentially.\n          flow0 y (s n) \\<in> {a<--<b} \\<and> s n \\<in> UNIV\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>;\n         (flow0 y \\<circ> s) \\<longlonglongrightarrow> z;\n         \\<forall>\\<^sub>F n in sequentially.\n            flow0 y (s n) \\<in> {a<--<b}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\n  (flow0 y \\<circ> s) \\<longlonglongrightarrow> z\n  \\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from eventually_happens[OF this(3)]"], ["proof (chain)\npicking this:\n  sequentially = bot \\<or> (\\<exists>x. flow0 y (s x) \\<in> {a<--<b})", "obtain t1 where t1: \"flow0 y t1 \\<in> {a<--<b}\""], ["proof (prove)\nusing this:\n  sequentially = bot \\<or> (\\<exists>x. flow0 y (s x) \\<in> {a<--<b})\n\ngoal (1 subgoal):\n 1. (\\<And>t1.\n        flow0 y t1 \\<in> {a<--<b} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  flow0 y t1 \\<in> {a<--<b}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "have \"\\<forall>\\<^sub>F n in sequentially. s n < t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. s n < t1", "using filterlim_at_bot_dense s(1)"], ["proof (prove)\nusing this:\n  filterlim ?f at_bot ?F = (\\<forall>Z. \\<forall>\\<^sub>F x in ?F. ?f x < Z)\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> -\\<infinity>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. s n < t1", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. s n < t1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "with s(3)"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\n  \\<forall>\\<^sub>F n in sequentially. s n < t1", "have \"\\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b} \\<and> s n < t1\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. flow0 y (s n) \\<in> {a<--<b}\n  \\<forall>\\<^sub>F n in sequentially. s n < t1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       flow0 y (s n) \\<in> {a<--<b} \\<and> s n < t1", "by eventually_elim simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     flow0 y (s n) \\<in> {a<--<b} \\<and> s n < t1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from eventually_happens[OF this]"], ["proof (chain)\npicking this:\n  sequentially = bot \\<or>\n  (\\<exists>x. flow0 y (s x) \\<in> {a<--<b} \\<and> s x < t1)", "obtain t2 where t2: \"flow0 y t2 \\<in> {a<--<b}\" and \"t1 \\<noteq> t2\""], ["proof (prove)\nusing this:\n  sequentially = bot \\<or>\n  (\\<exists>x. flow0 y (s x) \\<in> {a<--<b} \\<and> s x < t1)\n\ngoal (1 subgoal):\n 1. (\\<And>t2.\n        \\<lbrakk>flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>t1 t2.\n                \\<lbrakk>flow0 y t1 \\<in> {a<--<b};\n                 flow0 y t2 \\<in> {a<--<b}; t1 \\<noteq> t2\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<alpha>_limit_point y z\\<rbrakk>\n    \\<Longrightarrow> thesis", "from t1 this"], ["proof (chain)\npicking this:\n  flow0 y t1 \\<in> {a<--<b}\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2", "show ?thesis"], ["proof (prove)\nusing this:\n  flow0 y t1 \\<in> {a<--<b}\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  flow0 y t1 \\<in> {a<--<b}\n  flow0 y t2 \\<in> {a<--<b}\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "have \"flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "using t1 UNIV_I yinv"], ["proof (prove)\nusing this:\n  flow0 y t1 \\<in> {a<--<b}\n  ?x \\<in> UNIV\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "moreover"], ["proof (state)\nthis:\n  flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "have \"flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "using t2 UNIV_I yinv"], ["proof (prove)\nusing this:\n  flow0 y t2 \\<in> {a<--<b}\n  ?x \\<in> UNIV\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "by auto"], ["proof (state)\nthis:\n  flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "ultimately"], ["proof (chain)\npicking this:\n  flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n  flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}", "have feq:\"flow0 y t1 = flow0 y t2\""], ["proof (prove)\nusing this:\n  flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n  flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n\ngoal (1 subgoal):\n 1. flow0 y t1 = flow0 y t2", "using unique_transversal_segment_intersection[OF \\<open>transversal_segment a b\\<close> ex_pos]"], ["proof (prove)\nusing this:\n  flow0 y t1 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n  flow0 y t2 \\<in> \\<omega>_limit_set x \\<inter> {a<--<b}\n  ?u \\<in> \\<omega>_limit_set x \\<inter> {a<--<b} \\<Longrightarrow>\n  \\<omega>_limit_set x \\<inter> {a<--<b} = {?u}\n\ngoal (1 subgoal):\n 1. flow0 y t1 = flow0 y t2", "by blast"], ["proof (state)\nthis:\n  flow0 y t1 = flow0 y t2\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "have \"t1 \\<noteq> t2\" \"t1 \\<in> existence_ivl0 y\" \"t2 \\<in> existence_ivl0 y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 \\<noteq> t2 &&&\n    t1 \\<in> existence_ivl0 y &&& t2 \\<in> existence_ivl0 y", "using \\<open>t1 \\<noteq>  t2\\<close>"], ["proof (prove)\nusing this:\n  t1 \\<noteq> t2\n\ngoal (1 subgoal):\n 1. t1 \\<noteq> t2 &&&\n    t1 \\<in> existence_ivl0 y &&& t2 \\<in> existence_ivl0 y", "apply blast"], ["proof (prove)\ngoal (2 subgoals):\n 1. t1 \\<in> existence_ivl0 y\n 2. t2 \\<in> existence_ivl0 y", "apply (simp add: yex)"], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 \\<in> existence_ivl0 y", "by (simp add: yex)"], ["proof (state)\nthis:\n  t1 \\<noteq> t2\n  t1 \\<in> existence_ivl0 y\n  t2 \\<in> existence_ivl0 y\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from periodic_orbitI[OF this feq y(2)]"], ["proof (chain)\npicking this:\n  periodic_orbit y", "have 1: \"periodic_orbit y\""], ["proof (prove)\nusing this:\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. periodic_orbit y", "."], ["proof (state)\nthis:\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "from periodic_imp_\\<omega>_limit_set[OF assms(1-4) this yinv]"], ["proof (chain)\npicking this:\n  range (flow0 y) = \\<omega>_limit_set x", "have 2: \"flow0 y` UNIV = \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) = \\<omega>_limit_set x", "."], ["proof (state)\nthis:\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "using 1 2"], ["proof (prove)\nusing this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Poincare Bendixson Theorems\\<close>"], ["", "text \\<open>Perko Section 3.7 Theorem 1\\<close>"], ["", "theorem poincare_bendixson:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"0 \\<notin> f ` (\\<omega>_limit_set x)\"\n  obtains y where \"periodic_orbit y\"\n    \"flow0 y ` UNIV = \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note f = \\<open>0 \\<notin> f ` (\\<omega>_limit_set x)\\<close>"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_set_in_compact_nonempty[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<noteq> {}", "obtain y where y: \"y \\<in> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        y \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  y \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_set_in_compact_existence[OF  assms(1-4) y]"], ["proof (chain)\npicking this:\n  existence_ivl0 y = UNIV", "have yex: \"existence_ivl0 y = UNIV\""], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 y = UNIV", "."], ["proof (state)\nthis:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_set_invariant"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set ?x)", "have \"invariant (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set ?x)\n\ngoal (1 subgoal):\n 1. invariant (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set x)", "have yinv: \"flow0 y ` UNIV \\<subseteq> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "using yex"], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "unfolding invariant_def"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x. trapped xa (\\<omega>_limit_set x)\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "using trapped_iff_on_existence_ivl0 y"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x. trapped xa (\\<omega>_limit_set x)\n  existence_ivl0 y = UNIV\n  trapped ?x ?K = (flow0 ?x ` existence_ivl0 ?x \\<subseteq> ?K)\n  y \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> \\<omega>_limit_set x", "by blast"], ["proof (state)\nthis:\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_set_in_compact_subset[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<subseteq> K", "have \"\\<omega>_limit_set x \\<subseteq> K\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> K", "."], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<subseteq> K", "have \"flow0 y ` UNIV \\<subseteq> K\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> K", "using yinv"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n  range (flow0 y) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> K", "by auto"], ["proof (state)\nthis:\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  range (flow0 y) \\<subseteq> K", "have yk:\"trapped_forward y K\""], ["proof (prove)\nusing this:\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. trapped_forward y K", "by (simp add: image_subsetI range_subsetD trapped_forward_def)"], ["proof (state)\nthis:\n  trapped_forward y K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"y \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> X", "by (simp add: local.mem_existence_ivl_iv_defined(2) yex)"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_set_in_compact_nonempty[OF assms(1-2) this _]"], ["proof (chain)\npicking this:\n  trapped_forward y K \\<Longrightarrow> \\<omega>_limit_set y \\<noteq> {}", "obtain z where z: \"z \\<in> \\<omega>_limit_set y\""], ["proof (prove)\nusing this:\n  trapped_forward y K \\<Longrightarrow> \\<omega>_limit_set y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        z \\<in> \\<omega>_limit_set y \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using yk"], ["proof (prove)\nusing this:\n  trapped_forward y K \\<Longrightarrow> \\<omega>_limit_set y \\<noteq> {}\n  trapped_forward y K\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        z \\<in> \\<omega>_limit_set y \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  z \\<in> \\<omega>_limit_set y\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_set_in_compact_\\<omega>_limit_set_contained[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x", "have zx:\"z \\<in> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. z \\<in> \\<omega>_limit_set x", "using \\<open>z \\<in> \\<omega>_limit_set y\\<close> y"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set y\n  y \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. z \\<in> \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have yreg : \"f y \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a)", "using f y"], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n  y \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a)", "by (metis rev_image_eqI)"], ["proof (state)\nthis:\n  f y \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have zreg : \"f z \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a)", "using f zx"], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a)", "by (metis rev_image_eqI)"], ["proof (state)\nthis:\n  f z \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<omega>_limit_point_\\<omega>_limit_set_regular_imp_periodic[OF assms(1-4) y yreg _ zreg] z"], ["proof (chain)\npicking this:\n  z \\<in> \\<omega>_limit_set y \\<union>\n          \\<alpha>_limit_set y \\<Longrightarrow>\n  periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set y", "show ?thesis"], ["proof (prove)\nusing this:\n  z \\<in> \\<omega>_limit_set y \\<union>\n          \\<alpha>_limit_set y \\<Longrightarrow>\n  periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set y\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  z \\<in> \\<omega>_limit_set y \\<union>\n          \\<alpha>_limit_set y \\<Longrightarrow>\n  periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set y\n  \\<lbrakk>periodic_orbit ?y2;\n   range (flow0 ?y2) = \\<omega>_limit_set x\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fixed_point_in_\\<omega>_limit_set_imp_\\<omega>_limit_set_singleton_fixed_point:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes fp: \"yfp \\<in> \\<omega>_limit_set x\" \"f yfp = 0\"\n  assumes zpx: \"z \\<in> \\<omega>_limit_set x\"\n  assumes finite_fp: \"finite {y \\<in> K. f y = 0}\" (is \"finite ?S\")\n  shows \"(\\<exists>p1 \\<in> \\<omega>_limit_set x. f p1 = 0 \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2 \\<in> \\<omega>_limit_set x. f p2 = 0 \\<and> \\<alpha>_limit_set z = {p2})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "let ?weq = \"{y \\<in> \\<omega>_limit_set x. f y = 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from \\<omega>_limit_set_in_compact_subset[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<subseteq> K", "have wxK: \"\\<omega>_limit_set x \\<subseteq> K\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> K", "."], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from \\<omega>_limit_set_in_compact_\\<omega>_limit_set_contained[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x", "have zx: \"\\<omega>_limit_set z \\<subseteq> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set z \\<subseteq> \\<omega>_limit_set x", "using zpx"], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>\\<omega>_limit_set x.\n     \\<omega>_limit_set y \\<subseteq> \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set z \\<subseteq> \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  \\<omega>_limit_set z \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "have zX: \"z \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<in> X", "using subset_trans[OF wxK assms(2)]"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> X\n\ngoal (1 subgoal):\n 1. z \\<in> X", "by (metis subset_iff zpx)"], ["proof (state)\nthis:\n  z \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from \\<omega>_limit_set_in_compact_subset[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<subseteq> K", "have \"?weq \\<subseteq> ?S\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n    \\<subseteq> {y \\<in> K. f y = (0::'a)}", "by (smt Collect_mono_iff Int_iff inf.absorb_iff1)"], ["proof (state)\nthis:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n  \\<subseteq> {y \\<in> K. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n  \\<subseteq> {y \\<in> K. f y = (0::'a)}", "have \"finite ?weq\""], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n  \\<subseteq> {y \\<in> K. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. finite {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "using \\<open>finite ?S\\<close>"], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n  \\<subseteq> {y \\<in> K. f y = (0::'a)}\n  finite {y \\<in> K. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. finite {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "by (blast intro: rev_finite_subset)"], ["proof (state)\nthis:\n  finite {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "consider \"f z = 0\" | \"f z \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>f z = (0::'a) \\<Longrightarrow> thesis;\n     f z \\<noteq> (0::'a) \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>f z = (0::'a) \\<Longrightarrow> ?thesis2;\n   f z \\<noteq> (0::'a) \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>f z = (0::'a) \\<Longrightarrow> ?thesis2;\n   f z \\<noteq> (0::'a) \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>f z = (0::'a) \\<Longrightarrow> ?thesis2;\n   f z \\<noteq> (0::'a) \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. f z = (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})\n 2. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "assume \"f z = 0\""], ["proof (state)\nthis:\n  f z = (0::'a)\n\ngoal (2 subgoals):\n 1. f z = (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})\n 2. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from fixed_point_imp_\\<omega>_limit_set[OF zX this]\n      fixed_point_imp_\\<alpha>_limit_set[OF zX this]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set z = {z}\n  \\<alpha>_limit_set z = {z}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set z = {z}\n  \\<alpha>_limit_set z = {z}\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "by (metis (mono_tags) \\<open>f z = 0\\<close> zpx)"], ["proof (state)\nthis:\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "assume \"f z \\<noteq> 0\""], ["proof (state)\nthis:\n  f z \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "have zweq: \"\\<omega>_limit_set z \\<subseteq> ?weq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set z\n    \\<subseteq> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> \\<omega>_limit_set z \\<Longrightarrow>\n       xa \\<in> \\<omega>_limit_set x \\<and> f xa = (0::'a)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<omega>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<omega>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "assume k: \"k \\<in> \\<omega>_limit_set z\" \"\\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = 0)\""], ["proof (state)\nthis:\n  k \\<in> \\<omega>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<omega>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  k \\<in> \\<omega>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))", "have \"f k \\<noteq> 0\""], ["proof (prove)\nusing this:\n  k \\<in> \\<omega>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n\ngoal (1 subgoal):\n 1. f k \\<noteq> (0::'a)", "using zx k"], ["proof (prove)\nusing this:\n  k \\<in> \\<omega>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n  \\<omega>_limit_set z \\<subseteq> \\<omega>_limit_set x\n  k \\<in> \\<omega>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n\ngoal (1 subgoal):\n 1. f k \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  f k \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<omega>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "from \\<omega>_limit_point_\\<omega>_limit_set_regular_imp_periodic[OF assms(1-4) zpx \\<open>f z \\<noteq> 0\\<close> _ this] k(1)"], ["proof (chain)\npicking this:\n  k \\<in> \\<omega>_limit_set z \\<union>\n          \\<alpha>_limit_set z \\<Longrightarrow>\n  periodic_orbit z \\<and> range (flow0 z) = \\<omega>_limit_set x\n  k \\<in> \\<omega>_limit_set z", "have \"periodic_orbit z\" \"range(flow0 z) = \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  k \\<in> \\<omega>_limit_set z \\<union>\n          \\<alpha>_limit_set z \\<Longrightarrow>\n  periodic_orbit z \\<and> range (flow0 z) = \\<omega>_limit_set x\n  k \\<in> \\<omega>_limit_set z\n\ngoal (1 subgoal):\n 1. periodic_orbit z &&& range (flow0 z) = \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  periodic_orbit z\n  range (flow0 z) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<omega>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  periodic_orbit z\n  range (flow0 z) = \\<omega>_limit_set x", "have \"0 \\<notin> f ` (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  periodic_orbit z\n  range (flow0 z) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (0::'a) \\<notin> f ` \\<omega>_limit_set x", "by (metis image_iff periodic_orbit_imp_flow0_regular)"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<omega>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. False", "using fp"], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n  yfp \\<in> \\<omega>_limit_set x\n  f yfp = (0::'a)\n\ngoal (1 subgoal):\n 1. False", "by (metis (mono_tags, lifting) empty_Collect_eq image_eqI)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<omega>_limit_set z\n  \\<subseteq> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "have zweq0: \"\\<alpha>_limit_set z \\<subseteq> ?weq\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>_limit_set z\n    \\<subseteq> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> \\<alpha>_limit_set z \\<Longrightarrow>\n       xa \\<in> \\<omega>_limit_set x \\<and> f xa = (0::'a)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<alpha>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<alpha>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "assume k: \"k \\<in> \\<alpha>_limit_set z\" \"\\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = 0)\""], ["proof (state)\nthis:\n  k \\<in> \\<alpha>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<alpha>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  k \\<in> \\<alpha>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))", "have \"f k \\<noteq> 0\""], ["proof (prove)\nusing this:\n  k \\<in> \\<alpha>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n\ngoal (1 subgoal):\n 1. f k \\<noteq> (0::'a)", "using zx k\n          \\<omega>_limit_set_in_compact_\\<alpha>_limit_set_contained[OF assms(1-4), of z] zpx"], ["proof (prove)\nusing this:\n  k \\<in> \\<alpha>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n  \\<omega>_limit_set z \\<subseteq> \\<omega>_limit_set x\n  k \\<in> \\<alpha>_limit_set z\n  \\<not> (k \\<in> \\<omega>_limit_set x \\<and> f k = (0::'a))\n  z \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  \\<alpha>_limit_set z \\<subseteq> \\<omega>_limit_set x\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. f k \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  f k \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<alpha>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "from \\<omega>_limit_point_\\<omega>_limit_set_regular_imp_periodic[OF assms(1-4) zpx \\<open>f z \\<noteq> 0\\<close> _ this] k(1)"], ["proof (chain)\npicking this:\n  k \\<in> \\<omega>_limit_set z \\<union>\n          \\<alpha>_limit_set z \\<Longrightarrow>\n  periodic_orbit z \\<and> range (flow0 z) = \\<omega>_limit_set x\n  k \\<in> \\<alpha>_limit_set z", "have \"periodic_orbit z\" \"range(flow0 z) = \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  k \\<in> \\<omega>_limit_set z \\<union>\n          \\<alpha>_limit_set z \\<Longrightarrow>\n  periodic_orbit z \\<and> range (flow0 z) = \\<omega>_limit_set x\n  k \\<in> \\<alpha>_limit_set z\n\ngoal (1 subgoal):\n 1. periodic_orbit z &&& range (flow0 z) = \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  periodic_orbit z\n  range (flow0 z) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<alpha>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  periodic_orbit z\n  range (flow0 z) = \\<omega>_limit_set x", "have \"0 \\<notin> f ` (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  periodic_orbit z\n  range (flow0 z) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (0::'a) \\<notin> f ` \\<omega>_limit_set x", "by (metis image_iff periodic_orbit_imp_flow0_regular)"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>xa \\<in> \\<alpha>_limit_set z;\n        \\<not> (xa \\<in> \\<omega>_limit_set x \\<and>\n                f xa = (0::'a))\\<rbrakk>\n       \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. False", "using fp"], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n  yfp \\<in> \\<omega>_limit_set x\n  f yfp = (0::'a)\n\ngoal (1 subgoal):\n 1. False", "by (metis (mono_tags, lifting) empty_Collect_eq image_eqI)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<alpha>_limit_set z\n  \\<subseteq> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from \\<omega>_limit_set_in_compact_existence[OF assms(1-4) zpx]"], ["proof (chain)\npicking this:\n  existence_ivl0 z = UNIV", "have zex: \"existence_ivl0 z = UNIV\""], ["proof (prove)\nusing this:\n  existence_ivl0 z = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 z = UNIV", "."], ["proof (state)\nthis:\n  existence_ivl0 z = UNIV\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from \\<omega>_limit_set_invariant"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set ?x)", "have \"invariant (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set ?x)\n\ngoal (1 subgoal):\n 1. invariant (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set x)", "have zinv: \"flow0 z ` UNIV \\<subseteq> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. range (flow0 z) \\<subseteq> \\<omega>_limit_set x", "using zex"], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n  existence_ivl0 z = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 z) \\<subseteq> \\<omega>_limit_set x", "unfolding invariant_def"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x. trapped xa (\\<omega>_limit_set x)\n  existence_ivl0 z = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 z) \\<subseteq> \\<omega>_limit_set x", "using trapped_iff_on_existence_ivl0 zpx"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x. trapped xa (\\<omega>_limit_set x)\n  existence_ivl0 z = UNIV\n  trapped ?x ?K = (flow0 ?x ` existence_ivl0 ?x \\<subseteq> ?K)\n  z \\<in> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 z) \\<subseteq> \\<omega>_limit_set x", "by blast"], ["proof (state)\nthis:\n  range (flow0 z) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  range (flow0 z) \\<subseteq> \\<omega>_limit_set x", "have \"flow0 z ` UNIV \\<subseteq> K\""], ["proof (prove)\nusing this:\n  range (flow0 z) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 z) \\<subseteq> K", "using wxK"], ["proof (prove)\nusing this:\n  range (flow0 z) \\<subseteq> \\<omega>_limit_set x\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. range (flow0 z) \\<subseteq> K", "by auto"], ["proof (state)\nthis:\n  range (flow0 z) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  range (flow0 z) \\<subseteq> K", "have a2: \"trapped_forward z K\" \"trapped_backward z K\""], ["proof (prove)\nusing this:\n  range (flow0 z) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. trapped_forward z K &&& trapped_backward z K", "using trapped_def trapped_iff_on_existence_ivl0"], ["proof (prove)\nusing this:\n  range (flow0 z) \\<subseteq> K\n  trapped ?x ?K = (trapped_forward ?x ?K \\<and> trapped_backward ?x ?K)\n  trapped ?x ?K = (flow0 ?x ` existence_ivl0 ?x \\<subseteq> ?K)\n\ngoal (1 subgoal):\n 1. trapped_forward z K &&& trapped_backward z K", "apply fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. trapped_backward z K", "using \\<open>range (flow0 z) \\<subseteq> K\\<close> trapped_def trapped_iff_on_existence_ivl0"], ["proof (prove)\nusing this:\n  range (flow0 z) \\<subseteq> K\n  trapped ?x ?K = (trapped_forward ?x ?K \\<and> trapped_backward ?x ?K)\n  trapped ?x ?K = (flow0 ?x ` existence_ivl0 ?x \\<subseteq> ?K)\n\ngoal (1 subgoal):\n 1. trapped_backward z K", "by blast"], ["proof (state)\nthis:\n  trapped_forward z K\n  trapped_backward z K\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "have a3: \"finite (\\<omega>_limit_set z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<omega>_limit_set z)", "by (metis \\<open>finite ?weq\\<close> finite_subset zweq)"], ["proof (state)\nthis:\n  finite (\\<omega>_limit_set z)\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from finite_\\<omega>_limit_set_in_compact_imp_unique_fixed_point[OF assms(1-2) zX a2(1) a3]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>\\<omega>_limit_set z = {y}; f y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain p1 where p1: \"\\<omega>_limit_set z = {p1}\" \"f p1 = 0\""], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>\\<omega>_limit_set z = {y}; f y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>p1.\n        \\<lbrakk>\\<omega>_limit_set z = {p1}; f p1 = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<omega>_limit_set z = {p1}\n  f p1 = (0::'a)\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set z = {p1}\n  f p1 = (0::'a)", "have \"p1 \\<in> ?weq\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set z = {p1}\n  f p1 = (0::'a)\n\ngoal (1 subgoal):\n 1. p1 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "using zweq"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set z = {p1}\n  f p1 = (0::'a)\n  \\<omega>_limit_set z\n  \\<subseteq> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. p1 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "by blast"], ["proof (state)\nthis:\n  p1 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "moreover"], ["proof (state)\nthis:\n  p1 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "have \"finite (\\<alpha>_limit_set z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<alpha>_limit_set z)", "by (metis \\<open>finite ?weq\\<close> finite_subset zweq0)"], ["proof (state)\nthis:\n  finite (\\<alpha>_limit_set z)\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "from finite_\\<alpha>_limit_set_in_compact_imp_unique_fixed_point[OF assms(1-2) zX a2(2) this]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>\\<alpha>_limit_set z = {y}; f y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain p2 where p2: \"\\<alpha>_limit_set z = {p2}\" \"f p2 = 0\""], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>\\<alpha>_limit_set z = {y}; f y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>p2.\n        \\<lbrakk>\\<alpha>_limit_set z = {p2}; f p2 = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<alpha>_limit_set z = {p2}\n  f p2 = (0::'a)\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "then"], ["proof (chain)\npicking this:\n  \\<alpha>_limit_set z = {p2}\n  f p2 = (0::'a)", "have \"p2 \\<in> ?weq\""], ["proof (prove)\nusing this:\n  \\<alpha>_limit_set z = {p2}\n  f p2 = (0::'a)\n\ngoal (1 subgoal):\n 1. p2 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "using zweq0"], ["proof (prove)\nusing this:\n  \\<alpha>_limit_set z = {p2}\n  f p2 = (0::'a)\n  \\<alpha>_limit_set z\n  \\<subseteq> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. p2 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "by blast"], ["proof (state)\nthis:\n  p2 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. f z \\<noteq> (0::'a) \\<Longrightarrow>\n    (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "ultimately"], ["proof (chain)\npicking this:\n  p1 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n  p2 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "show ?thesis"], ["proof (prove)\nusing this:\n  p1 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n  p2 \\<in> {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "by (simp add: p1 p2)"], ["proof (state)\nthis:\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "context c1_on_open_R2 begin"], ["", "text \\<open>Perko Section 3.7 Theorem 2\\<close>"], ["", "theorem poincare_bendixson_general:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"S = {y \\<in> K. f y = 0}\" \"finite S\"\n  shows\n    \"(\\<exists>y \\<in> S. \\<omega>_limit_set x = {y}) \\<or>\n  (\\<exists>y. periodic_orbit y \\<and>\n    flow0 y ` UNIV = \\<omega>_limit_set x) \\<or>\n  (\\<exists>P R. \\<omega>_limit_set x = P \\<union> R \\<and>\n    P \\<subseteq> S \\<and> 0 \\<notin> f ` R \\<and> R \\<noteq> {} \\<and>\n    (\\<forall>z \\<in> R.\n      (\\<exists>p1 \\<in> P. \\<omega>_limit_set z = {p1}) \\<and>\n      (\\<exists>p2 \\<in> P. \\<alpha>_limit_set z = {p2})))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "note S = \\<open>S = {y \\<in> K. f y = 0}\\<close>"], ["proof (state)\nthis:\n  S = {y \\<in> K. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "let ?wreg = \"{y \\<in> \\<omega>_limit_set x. f y \\<noteq> 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "let ?weq = \"{y \\<in> \\<omega>_limit_set x. f y = 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "have wreqweq: \"?wreg \\<union> ?weq = \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<union>\n    {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} =\n    \\<omega>_limit_set x", "by (smt Collect_cong Collect_disj_eq mem_Collect_eq \\<omega>_limit_set_def)"], ["proof (state)\nthis:\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} =\n  \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "from trapped_sol_right[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  {0..} \\<subseteq> existence_ivl0 x", "have ex_pos: \"{0..} \\<subseteq> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> existence_ivl0 x", "by blast"], ["proof (state)\nthis:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "from \\<omega>_limit_set_in_compact_subset[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<subseteq> K", "have wxK: \"\\<omega>_limit_set x \\<subseteq> K\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> K", "."], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<subseteq> K", "have \"?weq \\<subseteq> S\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S", "using S"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> K\n  S = {y \\<in> K. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S", "by (smt Collect_mono_iff Int_iff inf.absorb_iff1)"], ["proof (state)\nthis:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S", "have \"finite ?weq\""], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S\n\ngoal (1 subgoal):\n 1. finite {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "using \\<open>finite S\\<close>"], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S\n  finite S\n\ngoal (1 subgoal):\n 1. finite {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}", "by (metis rev_finite_subset)"], ["proof (state)\nthis:\n  finite {y \\<in> \\<omega>_limit_set x. f y = (0::'a)}\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "from \\<omega>_limit_set_invariant"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set ?x)", "have xinv: \"invariant (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set ?x)\n\ngoal (1 subgoal):\n 1. invariant (\\<omega>_limit_set x)", "."], ["proof (state)\nthis:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "from \\<omega>_limit_set_in_compact_nonempty[OF assms(1-4)] wreqweq"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x \\<noteq> {}\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} =\n  \\<omega>_limit_set x", "consider \"?wreg = {}\" |\n    \"?weq = {}\" |\n    \"?weq \\<noteq> {}\" \"?wreg \\<noteq> {}\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<noteq> {}\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} =\n  \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n             {} \\<Longrightarrow>\n             thesis;\n     {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n     thesis;\n     \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n      {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n      {}\\<rbrakk>\n     \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n           {} \\<Longrightarrow>\n           ?thesis2;\n   {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n   ?thesis2;\n   \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n    {}\\<rbrakk>\n   \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n           {} \\<Longrightarrow>\n           ?thesis2;\n   {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n   ?thesis2;\n   \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n    {}\\<rbrakk>\n   \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n           {} \\<Longrightarrow>\n           ?thesis2;\n   {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n   ?thesis2;\n   \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n    {}\\<rbrakk>\n   \\<Longrightarrow> ?thesis2\\<rbrakk>\n  \\<Longrightarrow> ?thesis2\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n    {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 3. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "(* If w has no regular points then it is equal to a single unique fixed point *)"], ["proof (state)\ngoal (3 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n    {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 3. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "assume \"?wreg = {}\""], ["proof (state)\nthis:\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} = {}\n\ngoal (3 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n    {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 3. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} = {}", "have \"finite (\\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} = {}\n\ngoal (1 subgoal):\n 1. finite (\\<omega>_limit_set x)", "by (metis (mono_tags, lifting) \\<open>{y \\<in> \\<omega>_limit_set x. f y = 0} \\<subseteq> S\\<close> \\<open>finite S\\<close> rev_finite_subset sup_bot.left_neutral wreqweq)"], ["proof (state)\nthis:\n  finite (\\<omega>_limit_set x)\n\ngoal (3 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n    {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 3. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "from finite_\\<omega>_limit_set_in_compact_imp_unique_fixed_point[OF assms(1-4) this]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y where y: \"\\<omega>_limit_set x = {y}\" \"f y = 0\""], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<omega>_limit_set x = {y}\n  f y = (0::'a)\n\ngoal (3 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n    {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 3. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x = {y}\n  f y = (0::'a)", "have \"y \\<in> S\""], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x = {y}\n  f y = (0::'a)\n\ngoal (1 subgoal):\n 1. y \\<in> S", "by (metis Un_empty_left \\<open>?weq \\<subseteq> S\\<close> \\<open>?wreg = {}\\<close> insert_subset wreqweq)"], ["proof (state)\nthis:\n  y \\<in> S\n\ngoal (3 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} =\n    {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 3. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  y \\<in> S", "show ?thesis"], ["proof (prove)\nusing this:\n  y \\<in> S\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "using y"], ["proof (prove)\nusing this:\n  y \\<in> S\n  \\<omega>_limit_set x = {y}\n  f y = (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n  (\\<exists>y.\n      periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x) \\<or>\n  (\\<exists>P R.\n      \\<omega>_limit_set x = P \\<union> R \\<and>\n      P \\<subseteq> S \\<and>\n      (0::'a) \\<notin> f ` R \\<and>\n      R \\<noteq> {} \\<and>\n      (\\<forall>z\\<in>R.\n          (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n          (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n\ngoal (2 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "(* If w has no fixed points, then the Poincare Bendixson theorem applies *)"], ["proof (state)\ngoal (2 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "assume \"?weq = {}\""], ["proof (state)\nthis:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {}\n\ngoal (2 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {}", "have \" 0 \\<notin> f ` \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {}\n\ngoal (1 subgoal):\n 1. (0::'a) \\<notin> f ` \\<omega>_limit_set x", "by (smt empty_Collect_eq imageE)"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (2 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "from poincare_bendixson[OF assms(1-4) this]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>periodic_orbit y;\n       range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "have \"(\\<exists>y. periodic_orbit y \\<and> flow0 y ` UNIV = \\<omega>_limit_set x)\""], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>periodic_orbit y;\n       range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. \\<exists>y.\n       periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "by metis"], ["proof (state)\nthis:\n  \\<exists>y. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x\n\ngoal (2 subgoals):\n 1. {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} = {} \\<Longrightarrow>\n    (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n 2. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  \\<exists>y. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>y. periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n  (\\<exists>y.\n      periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x) \\<or>\n  (\\<exists>P R.\n      \\<omega>_limit_set x = P \\<union> R \\<and>\n      P \\<subseteq> S \\<and>\n      (0::'a) \\<notin> f ` R \\<and>\n      R \\<noteq> {} \\<and>\n      (\\<forall>z\\<in>R.\n          (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n          (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "(* Otherwise, all points in the limit set converge to a finite subset of the fixed points *)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "assume \"?weq \\<noteq> {}\" \"?wreg \\<noteq> {}\""], ["proof (state)\nthis:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {}\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {}\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {}", "obtain yfp where yfp: \"yfp \\<in> \\<omega>_limit_set x\" \"f yfp = 0\""], ["proof (prove)\nusing this:\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {}\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>yfp.\n        \\<lbrakk>yfp \\<in> \\<omega>_limit_set x; f yfp = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  yfp \\<in> \\<omega>_limit_set x\n  f yfp = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "have \"0 \\<notin> f ` ?wreg\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0::'a)\n    \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}", "by auto"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "have \"(\\<exists>p1\\<in>\\<omega>_limit_set x. f p1 = 0 \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n      (\\<exists>p2\\<in>\\<omega>_limit_set x. f p2 = 0 \\<and> \\<alpha>_limit_set z = {p2})\"\n      if zpx: \"z \\<in> \\<omega>_limit_set x\" for z"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "using fixed_point_in_\\<omega>_limit_set_imp_\\<omega>_limit_set_singleton_fixed_point[\n          OF assms(1-4) yfp zpx \\<open>finite S\\<close>[unfolded S]]"], ["proof (prove)\nusing this:\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})\n\ngoal (1 subgoal):\n 1. (\\<exists>p1\\<in>\\<omega>_limit_set x.\n        f p1 = (0::'a) \\<and> \\<omega>_limit_set z = {p1}) \\<and>\n    (\\<exists>p2\\<in>\\<omega>_limit_set x.\n        f p2 = (0::'a) \\<and> \\<alpha>_limit_set z = {p2})", "by auto"], ["proof (state)\nthis:\n  ?z2 \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set ?z2 = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set ?z2 = {p2})\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  ?z2 \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set ?z2 = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set ?z2 = {p2})", "have \"\\<omega>_limit_set x = ?weq \\<union> ?wreg \\<and>\n        ?weq \\<subseteq> S \\<and> 0 \\<notin> f ` ?wreg \\<and> ?wreg \\<noteq> {} \\<and>\n        (\\<forall>z \\<in> ?wreg.\n         (\\<exists>p1 \\<in> ?weq. \\<omega>_limit_set z = {p1}) \\<and>\n         (\\<exists>p2 \\<in> ?weq. \\<alpha>_limit_set z = {p2}))\""], ["proof (prove)\nusing this:\n  ?z2 \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set ?z2 = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set ?z2 = {p2})\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x =\n    {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<union>\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n    {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S \\<and>\n    (0::'a)\n    \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {} \\<and>\n    (\\<forall>z\\<in>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}.\n        (\\<exists>p1\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n            \\<omega>_limit_set z = {p1}) \\<and>\n        (\\<exists>p2\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n            \\<alpha>_limit_set z = {p2}))", "using wreqweq \\<open>?weq \\<subseteq> S\\<close> \\<open>?wreg \\<noteq> {}\\<close> \\<open>0 \\<notin> f ` ?wreg\\<close>"], ["proof (prove)\nusing this:\n  ?z2 \\<in> \\<omega>_limit_set x \\<Longrightarrow>\n  (\\<exists>p1\\<in>\\<omega>_limit_set x.\n      f p1 = (0::'a) \\<and> \\<omega>_limit_set ?z2 = {p1}) \\<and>\n  (\\<exists>p2\\<in>\\<omega>_limit_set x.\n      f p2 = (0::'a) \\<and> \\<alpha>_limit_set ?z2 = {p2})\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} =\n  \\<omega>_limit_set x\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {}\n  (0::'a) \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x =\n    {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<union>\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n    {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S \\<and>\n    (0::'a)\n    \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n    {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {} \\<and>\n    (\\<forall>z\\<in>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}.\n        (\\<exists>p1\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n            \\<omega>_limit_set z = {p1}) \\<and>\n        (\\<exists>p2\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n            \\<alpha>_limit_set z = {p2}))", "by blast"], ["proof (state)\nthis:\n  \\<omega>_limit_set x =\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S \\<and>\n  (0::'a)\n  \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {} \\<and>\n  (\\<forall>z\\<in>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}.\n      (\\<exists>p1\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n          \\<omega>_limit_set z = {p1}) \\<and>\n      (\\<exists>p2\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n          \\<alpha>_limit_set z = {p2}))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<noteq> {};\n     {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq>\n     {}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n                      (\\<exists>y.\n                          periodic_orbit y \\<and>\n                          range (flow0 y) = \\<omega>_limit_set x) \\<or>\n                      (\\<exists>P R.\n                          \\<omega>_limit_set x = P \\<union> R \\<and>\n                          P \\<subseteq> S \\<and>\n                          (0::'a) \\<notin> f ` R \\<and>\n                          R \\<noteq> {} \\<and>\n                          (\\<forall>z\\<in>R.\n                              (\\<exists>p1\\<in>P.\n                                  \\<omega>_limit_set z = {p1}) \\<and>\n                              (\\<exists>p2\\<in>P.\n                                  \\<alpha>_limit_set z = {p2})))", "then"], ["proof (chain)\npicking this:\n  \\<omega>_limit_set x =\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S \\<and>\n  (0::'a)\n  \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {} \\<and>\n  (\\<forall>z\\<in>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}.\n      (\\<exists>p1\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n          \\<omega>_limit_set z = {p1}) \\<and>\n      (\\<exists>p2\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n          \\<alpha>_limit_set z = {p2}))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x =\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<union>\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n  {y \\<in> \\<omega>_limit_set x. f y = (0::'a)} \\<subseteq> S \\<and>\n  (0::'a)\n  \\<notin> f ` {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<and>\n  {y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)} \\<noteq> {} \\<and>\n  (\\<forall>z\\<in>{y \\<in> \\<omega>_limit_set x. f y \\<noteq> (0::'a)}.\n      (\\<exists>p1\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n          \\<omega>_limit_set z = {p1}) \\<and>\n      (\\<exists>p2\\<in>{y \\<in> \\<omega>_limit_set x. f y = (0::'a)}.\n          \\<alpha>_limit_set z = {p2}))\n\ngoal (1 subgoal):\n 1. (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n    (\\<exists>y.\n        periodic_orbit y \\<and>\n        range (flow0 y) = \\<omega>_limit_set x) \\<or>\n    (\\<exists>P R.\n        \\<omega>_limit_set x = P \\<union> R \\<and>\n        P \\<subseteq> S \\<and>\n        (0::'a) \\<notin> f ` R \\<and>\n        R \\<noteq> {} \\<and>\n        (\\<forall>z\\<in>R.\n            (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n            (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n  (\\<exists>y.\n      periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x) \\<or>\n  (\\<exists>P R.\n      \\<omega>_limit_set x = P \\<union> R \\<and>\n      P \\<subseteq> S \\<and>\n      (0::'a) \\<notin> f ` R \\<and>\n      R \\<noteq> {} \\<and>\n      (\\<forall>z\\<in>R.\n          (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n          (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<exists>y\\<in>S. \\<omega>_limit_set x = {y}) \\<or>\n  (\\<exists>y.\n      periodic_orbit y \\<and> range (flow0 y) = \\<omega>_limit_set x) \\<or>\n  (\\<exists>P R.\n      \\<omega>_limit_set x = P \\<union> R \\<and>\n      P \\<subseteq> S \\<and>\n      (0::'a) \\<notin> f ` R \\<and>\n      R \\<noteq> {} \\<and>\n      (\\<forall>z\\<in>R.\n          (\\<exists>p1\\<in>P. \\<omega>_limit_set z = {p1}) \\<and>\n          (\\<exists>p2\\<in>P. \\<alpha>_limit_set z = {p2})))\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary poincare_bendixson_applied:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"K \\<noteq> {}\" \"positively_invariant K\"\n  assumes \"0 \\<notin> f ` K\"\n  obtains y where \"periodic_orbit y\" \"flow0 y ` UNIV \\<subseteq> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms(1-4)"], ["proof (chain)\npicking this:\n  compact K\n  K \\<subseteq> X\n  K \\<noteq> {}\n  positively_invariant K", "obtain x where \"x \\<in> K\" \"x \\<in> X\""], ["proof (prove)\nusing this:\n  compact K\n  K \\<subseteq> X\n  K \\<noteq> {}\n  positively_invariant K\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> K; x \\<in> X\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> K\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have *: \"trapped_forward x K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trapped_forward x K", "using assms(4) \\<open>x \\<in> K\\<close>"], ["proof (prove)\nusing this:\n  positively_invariant K\n  x \\<in> K\n\ngoal (1 subgoal):\n 1. trapped_forward x K", "by (auto simp: positively_invariant_def)"], ["proof (state)\nthis:\n  trapped_forward x K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have subs: \"\\<omega>_limit_set x \\<subseteq> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> K", "by (rule \\<omega>_limit_set_in_compact_subset[OF assms(1-2) \\<open>x \\<in> X\\<close> *])"], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with assms(5)"], ["proof (chain)\npicking this:\n  (0::'a) \\<notin> f ` K\n  \\<omega>_limit_set x \\<subseteq> K", "have \"0 \\<notin> f ` \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` K\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (0::'a) \\<notin> f ` \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from poincare_bendixson[OF assms(1-2) \\<open>x \\<in> X\\<close> * this]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>periodic_orbit y;\n       range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y where \"periodic_orbit y\" \"range (flow0 y) = \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>periodic_orbit y;\n       range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x", "have \"periodic_orbit y\" \"flow0 y ` UNIV \\<subseteq> K\""], ["proof (prove)\nusing this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. periodic_orbit y &&& range (flow0 y) \\<subseteq> K", "using subs"], ["proof (prove)\nusing this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. periodic_orbit y &&& range (flow0 y) \\<subseteq> K", "by auto"], ["proof (state)\nthis:\n  periodic_orbit y\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  periodic_orbit y\n  range (flow0 y) \\<subseteq> K", "show ?thesis"], ["proof (prove)\nusing this:\n  periodic_orbit y\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "(*\n  Limit cycles are periodic orbits that is the \\<omega> (or \\<alpha>)-limit set of some point not in the cycle.\n  As with periodic_orbit, limit_cycles are defined for a representative point y\n*)"], ["", "definition \"limit_cycle y \\<longleftrightarrow>\n  periodic_orbit y \\<and>\n  (\\<exists>x. x \\<notin> flow0 y ` UNIV \\<and>\n  (flow0 y ` UNIV = \\<omega>_limit_set x \\<or> flow0 y ` UNIV = \\<alpha>_limit_set x))\""], ["", "corollary poincare_bendixson_limit_cycle:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> K\" \"positively_invariant K\"\n  assumes \"0 \\<notin> f ` K\"\n  assumes \"rev.flow0 x t \\<notin> K\"\n  obtains y where \"limit_cycle y\" \"flow0 y ` UNIV \\<subseteq> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using assms(2-3)"], ["proof (prove)\nusing this:\n  K \\<subseteq> X\n  x \\<in> K\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by blast"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have *: \"trapped_forward x K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trapped_forward x K", "using assms(3-4)"], ["proof (prove)\nusing this:\n  x \\<in> K\n  positively_invariant K\n\ngoal (1 subgoal):\n 1. trapped_forward x K", "by (auto simp: positively_invariant_def)"], ["proof (state)\nthis:\n  trapped_forward x K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have subs: \"\\<omega>_limit_set x \\<subseteq> K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> K", "by (rule \\<omega>_limit_set_in_compact_subset[OF assms(1-2) \\<open>x \\<in> X\\<close> *])"], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with assms(5)"], ["proof (chain)\npicking this:\n  (0::'a) \\<notin> f ` K\n  \\<omega>_limit_set x \\<subseteq> K", "have \"0 \\<notin> f ` \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  (0::'a) \\<notin> f ` K\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (0::'a) \\<notin> f ` \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  (0::'a) \\<notin> f ` \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from poincare_bendixson[OF assms(1-2) \\<open>x \\<in> X\\<close> * this]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>periodic_orbit y;\n       range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y where y: \"periodic_orbit y\" \"range (flow0 y) = \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>periodic_orbit y;\n       range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>periodic_orbit y;\n         range (flow0 y) = \\<omega>_limit_set x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by force"], ["proof (state)\nthis:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x", "have c2: \"flow0 y ` UNIV \\<subseteq> K\""], ["proof (prove)\nusing this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> K", "using subs"], ["proof (prove)\nusing this:\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n  \\<omega>_limit_set x \\<subseteq> K\n\ngoal (1 subgoal):\n 1. range (flow0 y) \\<subseteq> K", "by auto"], ["proof (state)\nthis:\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have exy: \"existence_ivl0 y = UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl0 y = UNIV", "using closed_orbit_global_existence periodic_orbit_def y(1)"], ["proof (prove)\nusing this:\n  closed_orbit ?x \\<Longrightarrow> existence_ivl0 ?x = UNIV\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. existence_ivl0 y = UNIV", "by blast"], ["proof (state)\nthis:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x \\<notin> flow0 y ` UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<notin> range (flow0 y)", "proof clarsimp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa. x = flow0 y xa \\<Longrightarrow> False", "fix tt"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa. x = flow0 y xa \\<Longrightarrow> False", "assume \"x = flow0 y tt\""], ["proof (state)\nthis:\n  x = flow0 y tt\n\ngoal (1 subgoal):\n 1. \\<And>xa. x = flow0 y xa \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  x = flow0 y tt", "have \"rev.flow0 (flow0 y tt) t \\<notin> K\""], ["proof (prove)\nusing this:\n  x = flow0 y tt\n\ngoal (1 subgoal):\n 1. rev.flow0 (flow0 y tt) t \\<notin> K", "using assms(6)"], ["proof (prove)\nusing this:\n  x = flow0 y tt\n  rev.flow0 x t \\<notin> K\n\ngoal (1 subgoal):\n 1. rev.flow0 (flow0 y tt) t \\<notin> K", "by auto"], ["proof (state)\nthis:\n  rev.flow0 (flow0 y tt) t \\<notin> K\n\ngoal (1 subgoal):\n 1. \\<And>xa. x = flow0 y xa \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  rev.flow0 (flow0 y tt) t \\<notin> K\n\ngoal (1 subgoal):\n 1. \\<And>xa. x = flow0 y xa \\<Longrightarrow> False", "have \"rev.flow0 (flow0 y tt) t \\<in> flow0 y ` UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rev.flow0 (flow0 y tt) t \\<in> range (flow0 y)", "using exy"], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. rev.flow0 (flow0 y tt) t \\<in> range (flow0 y)", "unfolding rev_eq_flow"], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. flow0 (flow0 y tt) (- t) \\<in> range (flow0 y)", "using UNIV_I \\<open>x = flow0 y tt\\<close> closed_orbit_\\<omega>_limit_set closed_orbit_flow0 periodic_orbit_def y"], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n  ?x \\<in> UNIV\n  x = flow0 y tt\n  closed_orbit ?x \\<Longrightarrow> range (flow0 ?x) = \\<omega>_limit_set ?x\n  closed_orbit ?x \\<Longrightarrow> closed_orbit (flow0 ?x ?t)\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. flow0 (flow0 y tt) (- t) \\<in> range (flow0 y)", "by auto"], ["proof (state)\nthis:\n  rev.flow0 (flow0 y tt) t \\<in> range (flow0 y)\n\ngoal (1 subgoal):\n 1. \\<And>xa. x = flow0 y xa \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  rev.flow0 (flow0 y tt) t \\<notin> K\n  rev.flow0 (flow0 y tt) t \\<in> range (flow0 y)", "show False"], ["proof (prove)\nusing this:\n  rev.flow0 (flow0 y tt) t \\<notin> K\n  rev.flow0 (flow0 y tt) t \\<in> range (flow0 y)\n\ngoal (1 subgoal):\n 1. False", "using c2"], ["proof (prove)\nusing this:\n  rev.flow0 (flow0 y tt) t \\<notin> K\n  rev.flow0 (flow0 y tt) t \\<in> range (flow0 y)\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<notin> range (flow0 y)", "have \"limit_cycle y\" \"flow0 y ` UNIV \\<subseteq> K\""], ["proof (prove)\nusing this:\n  x \\<notin> range (flow0 y)\n\ngoal (1 subgoal):\n 1. limit_cycle y &&& range (flow0 y) \\<subseteq> K", "using y c2"], ["proof (prove)\nusing this:\n  x \\<notin> range (flow0 y)\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. limit_cycle y &&& range (flow0 y) \\<subseteq> K", "unfolding limit_cycle_def"], ["proof (prove)\nusing this:\n  x \\<notin> range (flow0 y)\n  periodic_orbit y\n  range (flow0 y) = \\<omega>_limit_set x\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. periodic_orbit y \\<and>\n    (\\<exists>x.\n        x \\<notin> range (flow0 y) \\<and>\n        (range (flow0 y) = \\<omega>_limit_set x \\<or>\n         range (flow0 y) = \\<alpha>_limit_set x)) &&&\n    range (flow0 y) \\<subseteq> K", "by auto"], ["proof (state)\nthis:\n  limit_cycle y\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>limit_cycle y; range (flow0 y) \\<subseteq> K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  limit_cycle y\n  range (flow0 y) \\<subseteq> K", "show ?thesis"], ["proof (prove)\nusing this:\n  limit_cycle y\n  range (flow0 y) \\<subseteq> K\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}