{"file_name": "/home/qj213/afp-2021-10-22/thys/Poincare_Bendixson/Periodic_Orbit.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Poincare_Bendixson", "problem_names": ["lemma recurrence_time_flip_sign:\n  assumes \"T \\<in> existence_ivl0 x\" \"flow0 x T = x\"\n  shows \"-T \\<in> existence_ivl0 x\" \"flow0 x (-T) = x\"", "lemma closed_orbit_recurrence_times_nonempty:\n  assumes \"closed_orbit x\"\n  shows \" {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x} \\<noteq> {}\"", "lemma closed_orbit_recurrence_times_bdd_below:\n  shows \"bdd_below {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x}\"", "lemma closed_orbit_period_nonneg:\n  assumes \"closed_orbit x\"\n  shows \"period x \\<ge> 0\"", "lemma closed_orbit_in_domain:\n  assumes \"closed_orbit x\"\n  shows \"x \\<in> X\"", "lemma closed_orbit_global_existence:\n  assumes \"closed_orbit x\"\n  shows \"existence_ivl0 x = UNIV\"", "lemma recurrence_time_multiples:\n  fixes n::nat\n  assumes \"T \\<in> existence_ivl0 x\" \"T \\<noteq> 0\" \"flow0 x T = x\"\n  shows \"\\<And>t. flow0 x (t+T*n) = flow0 x t\"", "lemma nasty_arithmetic1:\n  fixes t T::real\n  assumes \"T > 0\" \"t \\<ge> 0\"\n  obtains q r where \"t = (q::nat) * T + r\" \"0 \\<le> r\" \"r < T\"", "lemma nasty_arithmetic2:\n  fixes t T::real\n  assumes \"T > 0\" \"t \\<le> 0\"\n  obtains q r where \"t = (q::nat) * (-T) + r\" \"0 \\<le> r\" \"r < T\"", "lemma recurrence_time_restricts_compact_flow:\n  assumes \"T \\<in> existence_ivl0 x\" \"T > 0\" \"flow0 x T = x\"\n  shows \"flow0 x ` UNIV = flow0 x ` {0..T}\"", "lemma closed_orbitI:\n  assumes \"t \\<noteq> t'\" \"t \\<in> existence_ivl0 y\" \"t' \\<in> existence_ivl0 y\"\n  assumes \"flow0 y t = flow0 y t'\"\n  shows \"closed_orbit y\"", "lemma flow0_image_UNIV:\n  assumes \"existence_ivl0 x = UNIV\"\n  shows \"flow0 (flow0 x t) ` S = flow0 x ` (\\<lambda>s. s + t) ` S\"", "lemma recurrence_time_restricts_compact_flow':\n  assumes \"t < t'\" \"t \\<in> existence_ivl0 y\" \"t' \\<in> existence_ivl0 y\"\n  assumes \"flow0 y t = flow0 y t'\"\n  shows \"flow0 y ` UNIV = flow0 y ` {t..t'}\"", "lemma closed_orbitE':\n  assumes \"closed_orbit x\"\n  obtains T where \"T > 0\" \"\\<And>t (n::nat). flow0 x (t+T*n) = flow0 x t\"", "lemma closed_orbitE:\n  assumes \"closed_orbit x\"\n  obtains T where \"T > 0\" \"\\<And>t. flow0 x (t+T) = flow0 x t\"", "lemma closed_orbit_flow_compact:\n  assumes \"closed_orbit x\"\n  shows \"compact(flow0 x ` UNIV)\"", "lemma fixed_point_imp_closed_orbit_period_zero:\n  assumes \"x \\<in> X\"\n  assumes \"f x = 0\"\n  shows \"closed_orbit x\" \"period x = 0\"", "lemma closed_orbit_period_zero_fixed_point:\n  assumes \"closed_orbit x\" \"period x = 0\"\n  shows \"f x = 0\"", "lemma closed_orbit_subset_\\<omega>_limit_set:\n  assumes \"closed_orbit x\"\n  shows \"flow0 x ` UNIV \\<subseteq> \\<omega>_limit_set x\"", "lemma closed_orbit_\\<omega>_limit_set:\n  assumes \"closed_orbit x\"\n  shows \"flow0 x ` UNIV = \\<omega>_limit_set x\"", "lemma flow0_inj_on:\n  assumes \"t \\<le> t'\"\n  assumes \"{t..t'} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<And>s. t < s \\<Longrightarrow> s \\<le> t' \\<Longrightarrow> flow0 x s \\<noteq> flow0 x t\"\n  shows \"inj_on (flow0 x) {t..t'}\"", "lemma finite_\\<omega>_limit_set_in_compact_imp_unique_fixed_point:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"finite (\\<omega>_limit_set x)\"\n  obtains y where \"\\<omega>_limit_set x = {y}\" \"f y = 0\"", "lemma closed_orbit_periodic:\n  assumes \"closed_orbit x\" \"f x \\<noteq> 0\"\n  shows \"periodic_orbit x\"", "lemma periodic_orbitI:\n  assumes \"t \\<noteq> t'\" \"t \\<in> existence_ivl0 y\" \"t' \\<in> existence_ivl0 y\"\n  assumes \"flow0 y t = flow0 y t'\"\n  assumes \"f y \\<noteq> 0\"\n  shows \"periodic_orbit y\"", "lemma periodic_orbit_recurrence_times_closed:\n  assumes \"periodic_orbit x\"\n  shows \"closed {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x}\"", "lemma periodic_orbit_period:\n  assumes \"periodic_orbit x\"\n  shows \"period x > 0\" \"flow0 x (period x) = x\"", "lemma closed_orbit_flow0:\n  assumes \"closed_orbit x\"\n  shows \"closed_orbit (flow0 x t)\"", "lemma periodic_orbit_imp_flow0_regular:\n  assumes \"periodic_orbit x\"\n  shows \"f (flow0 x t) \\<noteq> 0\"", "lemma fixed_point_imp_\\<omega>_limit_set:\n  assumes \"x \\<in> X\" \"f x = 0\"\n  shows \"\\<omega>_limit_set x = {x}\"", "lemma closed_orbit_eq_rev: \"closed_orbit x = rev.closed_orbit x\"", "lemma closed_orbit_\\<alpha>_limit_set:\n  assumes \"closed_orbit x\"\n  shows \"flow0 x ` UNIV = \\<alpha>_limit_set x\"", "lemma fixed_point_imp_\\<alpha>_limit_set:\n  assumes \"x \\<in> X\" \"f x = 0\"\n  shows \"\\<alpha>_limit_set x = {x}\"", "lemma finite_\\<alpha>_limit_set_in_compact_imp_unique_fixed_point:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\"  \"trapped_backward x K\"\n  assumes \"finite (\\<alpha>_limit_set x)\"\n  obtains y where \"\\<alpha>_limit_set x = {y}\" \"f y = 0\""], "translations": [["", "lemma recurrence_time_flip_sign:\n  assumes \"T \\<in> existence_ivl0 x\" \"flow0 x T = x\"\n  shows \"-T \\<in> existence_ivl0 x\" \"flow0 x (-T) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - T \\<in> existence_ivl0 x &&& flow0 x (- T) = x", "using assms existence_ivl_reverse"], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  0 - ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?t)\n\ngoal (1 subgoal):\n 1. - T \\<in> existence_ivl0 x &&& flow0 x (- T) = x", "apply fastforce"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (- T) = x", "using assms flows_reverse"], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow>\n  flow0 (flow0 ?x0.0 ?t) (0 - ?t) = ?x0.0\n\ngoal (1 subgoal):\n 1. flow0 x (- T) = x", "by fastforce"], ["", "lemma closed_orbit_recurrence_times_nonempty:\n  assumes \"closed_orbit x\"\n  shows \" {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x} \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<noteq> {}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>xa>0. xa \\<in> existence_ivl0 x \\<and> flow0 x xa = x", "using assms(1)"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. \\<exists>xa>0. xa \\<in> existence_ivl0 x \\<and> flow0 x xa = x", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n\ngoal (1 subgoal):\n 1. \\<exists>xa>0. xa \\<in> existence_ivl0 x \\<and> flow0 x xa = x", "by (smt recurrence_time_flip_sign)"], ["", "lemma closed_orbit_recurrence_times_bdd_below:\n  shows \"bdd_below {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_below {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "unfolding bdd_below_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>m.\n       Ball {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n        ((\\<le>) m)", "by (auto) (meson le_cases not_le)"], ["", "lemma closed_orbit_period_nonneg:\n  assumes \"closed_orbit x\"\n  shows \"period x \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> period x", "unfolding period_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "using assms(1)"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. 0 \\<le> Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n\ngoal (1 subgoal):\n 1. 0 \\<le> Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "apply (auto intro!:cInf_greatest)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T.\n       \\<lbrakk>T \\<in> existence_ivl0 x; T \\<noteq> 0; flow0 x T = x;\n        \\<forall>xa>0.\n           xa \\<in> existence_ivl0 x \\<longrightarrow>\n           flow0 x xa \\<noteq> x\\<rbrakk>\n       \\<Longrightarrow> False", "by (smt recurrence_time_flip_sign)"], ["", "lemma closed_orbit_in_domain:\n  assumes \"closed_orbit x\"\n  shows \"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using assms"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. x \\<in> X", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n\ngoal (1 subgoal):\n 1. x \\<in> X", "using local.mem_existence_ivl_iv_defined(2)"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by blast"], ["", "lemma closed_orbit_global_existence:\n  assumes \"closed_orbit x\"\n  shows \"existence_ivl0 x = UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "obtain Tp where \"Tp \\<noteq> 0\" \"Tp \\<in> existence_ivl0 x\" \"flow0 x Tp = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "then"], ["proof (chain)\npicking this:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x", "obtain T where T: \"T > 0\" \"T \\<in> existence_ivl0 x\" \"flow0 x T = x\""], ["proof (prove)\nusing this:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; T \\<in> existence_ivl0 x; flow0 x T = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (smt recurrence_time_flip_sign)"], ["proof (state)\nthis:\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "have apos: \"real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x", "proof (induction n)"], ["proof (state)\ngoal (2 subgoals):\n 1. real 0 * T \\<in> existence_ivl0 x \\<and> flow0 x (real 0 * T) = x\n 2. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. real 0 * T \\<in> existence_ivl0 x \\<and> flow0 x (real 0 * T) = x\n 2. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. real 0 * T \\<in> existence_ivl0 x \\<and> flow0 x (real 0 * T) = x", "using closed_orbit_in_domain assms"], ["proof (prove)\nusing this:\n  closed_orbit ?x \\<Longrightarrow> ?x \\<in> X\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. real 0 * T \\<in> existence_ivl0 x \\<and> flow0 x (real 0 * T) = x", "by auto"], ["proof (state)\nthis:\n  real 0 * T \\<in> existence_ivl0 x \\<and> flow0 x (real 0 * T) = x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "case (Suc n)"], ["proof (state)\nthis:\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "assume ih:\"real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\""], ["proof (state)\nthis:\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "then"], ["proof (chain)\npicking this:\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x", "have \"T \\<in> existence_ivl0 (flow0 x (real n * T))\""], ["proof (prove)\nusing this:\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n\ngoal (1 subgoal):\n 1. T \\<in> existence_ivl0 (flow0 x (real n * T))", "using T"], ["proof (prove)\nusing this:\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. T \\<in> existence_ivl0 (flow0 x (real n * T))", "by metis"], ["proof (state)\nthis:\n  T \\<in> existence_ivl0 (flow0 x (real n * T))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "then"], ["proof (chain)\npicking this:\n  T \\<in> existence_ivl0 (flow0 x (real n * T))", "have l:\"real n * T + T \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 (flow0 x (real n * T))\n\ngoal (1 subgoal):\n 1. real n * T + T \\<in> existence_ivl0 x", "using ih"], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 (flow0 x (real n * T))\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n\ngoal (1 subgoal):\n 1. real n * T + T \\<in> existence_ivl0 x", "using existence_ivl_trans"], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 (flow0 x (real n * T))\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n  \\<lbrakk>?s \\<in> existence_ivl0 ?x0.0;\n   ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?s)\\<rbrakk>\n  \\<Longrightarrow> ?s + ?t \\<in> existence_ivl0 ?x0.0\n\ngoal (1 subgoal):\n 1. real n * T + T \\<in> existence_ivl0 x", "by blast"], ["proof (state)\nthis:\n  real n * T + T \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "have \"flow0 (flow0 x (real n * T)) T = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x (real n * T)) T = x", "using ih T"], ["proof (prove)\nusing this:\n  real n * T \\<in> existence_ivl0 x \\<and> flow0 x (real n * T) = x\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (real n * T)) T = x", "by metis"], ["proof (state)\nthis:\n  flow0 (flow0 x (real n * T)) T = x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "then"], ["proof (chain)\npicking this:\n  flow0 (flow0 x (real n * T)) T = x", "have r: \"flow0 x (real n * T + T) = x\""], ["proof (prove)\nusing this:\n  flow0 (flow0 x (real n * T)) T = x\n\ngoal (1 subgoal):\n 1. flow0 x (real n * T + T) = x", "by (simp add: T(2) ih local.flow_trans)"], ["proof (state)\nthis:\n  flow0 x (real n * T + T) = x\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real n * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real n * T) = x \\<Longrightarrow>\n       real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n       flow0 x (real (Suc n) * T) = x", "show \"real (Suc n) * T \\<in> existence_ivl0 x \\<and> flow0 x (real (Suc n) * T) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n    flow0 x (real (Suc n) * T) = x", "using l r"], ["proof (prove)\nusing this:\n  real n * T + T \\<in> existence_ivl0 x\n  flow0 x (real n * T + T) = x\n\ngoal (1 subgoal):\n 1. real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n    flow0 x (real (Suc n) * T) = x", "by (simp add: add.commute distrib_left mult.commute)"], ["proof (state)\nthis:\n  real (Suc n) * T \\<in> existence_ivl0 x \\<and>\n  flow0 x (real (Suc n) * T) = x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real ?n * T \\<in> existence_ivl0 x \\<and> flow0 x (real ?n * T) = x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "then"], ["proof (chain)\npicking this:\n  real ?n * T \\<in> existence_ivl0 x \\<and> flow0 x (real ?n * T) = x", "have aneg: \"-real n * T \\<in> existence_ivl0 x \\<and> flow0 x (-real n * T) = x\" for n"], ["proof (prove)\nusing this:\n  real ?n * T \\<in> existence_ivl0 x \\<and> flow0 x (real ?n * T) = x\n\ngoal (1 subgoal):\n 1. - real n * T \\<in> existence_ivl0 x \\<and> flow0 x (- real n * T) = x", "by (simp add: recurrence_time_flip_sign)"], ["proof (state)\nthis:\n  - real ?n * T \\<in> existence_ivl0 x \\<and> flow0 x (- real ?n * T) = x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "have \"\\<forall>t. t \\<in> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>t. t \\<in> existence_ivl0 x", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "have \"t \\<ge> 0 \\<or> t \\<le> (0::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t \\<or> t \\<le> 0", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "moreover"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "{"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "assume \"t \\<ge> 0\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "obtain k where \"real k * T > t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k. t < real k * T \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using T(1) ex_less_of_nat_mult"], ["proof (prove)\nusing this:\n  0 < T\n  (0::?'a) < ?x \\<Longrightarrow> \\<exists>n. ?y < of_nat n * ?x\n\ngoal (1 subgoal):\n 1. (\\<And>k. t < real k * T \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t < real k * T\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "then"], ["proof (chain)\npicking this:\n  t < real k * T", "have \"t \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  t < real k * T\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "using apos"], ["proof (prove)\nusing this:\n  t < real k * T\n  real ?n * T \\<in> existence_ivl0 x \\<and> flow0 x (real ?n * T) = x\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "by (meson \\<open>0 \\<le> t\\<close> atLeastAtMost_iff less_eq_real_def local.ivl_subset_existence_ivl subset_eq)"], ["proof (state)\nthis:\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "}"], ["proof (state)\nthis:\n  0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "moreover"], ["proof (state)\nthis:\n  0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "{"], ["proof (state)\nthis:\n  0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "assume \"t \\<le> 0\""], ["proof (state)\nthis:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "obtain k where \"- real k * T < t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k. - real k * T < t \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis T(1) add.inverse_inverse ex_less_of_nat_mult mult.commute mult_minus_right neg_less_iff_less)"], ["proof (state)\nthis:\n  - real k * T < t\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "then"], ["proof (chain)\npicking this:\n  - real k * T < t", "have \"t \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  - real k * T < t\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "using aneg"], ["proof (prove)\nusing this:\n  - real k * T < t\n  - real ?n * T \\<in> existence_ivl0 x \\<and> flow0 x (- real ?n * T) = x\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "by (smt apos atLeastAtMost_iff calculation(2) local.existence_ivl_trans' local.ivl_subset_existence_ivl mult_minus_left subset_eq)"], ["proof (state)\nthis:\n  t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "}"], ["proof (state)\nthis:\n  t \\<le> 0 \\<Longrightarrow> t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>t. t \\<in> existence_ivl0 x", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> t \\<or> t \\<le> 0\n  0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x\n  t \\<le> 0 \\<Longrightarrow> t \\<in> existence_ivl0 x", "show \"t \\<in> existence_ivl0 x\""], ["proof (prove)\nusing this:\n  0 \\<le> t \\<or> t \\<le> 0\n  0 \\<le> t \\<Longrightarrow> t \\<in> existence_ivl0 x\n  t \\<le> 0 \\<Longrightarrow> t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. t \\<in> existence_ivl0 x", "by blast"], ["proof (state)\nthis:\n  t \\<in> existence_ivl0 x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>t. t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>t. t \\<in> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "by auto"], ["proof (state)\nthis:\n  existence_ivl0 x = UNIV\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma recurrence_time_multiples:\n  fixes n::nat\n  assumes \"T \\<in> existence_ivl0 x\" \"T \\<noteq> 0\" \"flow0 x T = x\"\n  shows \"\\<And>t. flow0 x (t+T*n) = flow0 x t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>t. flow0 x (t + T * real n) = flow0 x t", "proof (induction n)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t. flow0 x (t + T * real 0) = flow0 x t\n 2. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>t. flow0 x (t + T * real 0) = flow0 x t\n 2. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (t + T * real 0) = flow0 x t", "by auto"], ["proof (state)\nthis:\n  flow0 x (t + T * real 0) = flow0 x t\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "case (Suc n)"], ["proof (state)\nthis:\n  flow0 x (?t + T * real n) = flow0 x ?t\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "fix n t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "assume ih : \"(\\<And>t. flow0 x (t + T * real n) = flow0 x t)\""], ["proof (state)\nthis:\n  flow0 x (?t + T * real n) = flow0 x ?t\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "have \"closed_orbit x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x", "using assms"], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 x\n  T \\<noteq> 0\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. closed_orbit x", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  T \\<in> existence_ivl0 x\n  T \\<noteq> 0\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x", "by auto"], ["proof (state)\nthis:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "from closed_orbit_global_existence[OF this]"], ["proof (chain)\npicking this:\n  existence_ivl0 x = UNIV", "have ex:\"existence_ivl0 x = UNIV\""], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "."], ["proof (state)\nthis:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "have \"flow0 x (t + T * real (Suc n)) = flow0 x (t+T*real n + T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (t + T * real (Suc n)) = flow0 x (t + T * real n + T)", "by (simp add: Groups.add_ac(3) add.commute distrib_left)"], ["proof (state)\nthis:\n  flow0 x (t + T * real (Suc n)) = flow0 x (t + T * real n + T)\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "also"], ["proof (state)\nthis:\n  flow0 x (t + T * real (Suc n)) = flow0 x (t + T * real n + T)\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "have \"... = flow0 (flow0 x (t+ T*real n)) T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x (t + T * real n + T) = flow0 (flow0 x (t + T * real n)) T", "using ex"], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. flow0 x (t + T * real n + T) = flow0 (flow0 x (t + T * real n)) T", "by (simp add: local.existence_ivl_trans' local.flow_trans)"], ["proof (state)\nthis:\n  flow0 x (t + T * real n + T) = flow0 (flow0 x (t + T * real n)) T\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "also"], ["proof (state)\nthis:\n  flow0 x (t + T * real n + T) = flow0 (flow0 x (t + T * real n)) T\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "have \"... = flow0 (flow0 x t) T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t + T * real n)) T = flow0 (flow0 x t) T", "using ih"], ["proof (prove)\nusing this:\n  flow0 x (?t + T * real n) = flow0 x ?t\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x (t + T * real n)) T = flow0 (flow0 x t) T", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 x (t + T * real n)) T = flow0 (flow0 x t) T\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "also"], ["proof (state)\nthis:\n  flow0 (flow0 x (t + T * real n)) T = flow0 (flow0 x t) T\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "have \"... = flow0 (flow0 x T) t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x t) T = flow0 (flow0 x T) t", "using ex"], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. flow0 (flow0 x t) T = flow0 (flow0 x T) t", "by (metis UNIV_I add.commute local.existence_ivl_trans' local.flow_trans)"], ["proof (state)\nthis:\n  flow0 (flow0 x t) T = flow0 (flow0 x T) t\n\ngoal (1 subgoal):\n 1. \\<And>n t.\n       (\\<And>t. flow0 x (t + T * real n) = flow0 x t) \\<Longrightarrow>\n       flow0 x (t + T * real (Suc n)) = flow0 x t", "finally"], ["proof (chain)\npicking this:\n  flow0 x (t + T * real (Suc n)) = flow0 (flow0 x T) t", "show \"flow0 x (t + T * real (Suc n)) = flow0 x t\""], ["proof (prove)\nusing this:\n  flow0 x (t + T * real (Suc n)) = flow0 (flow0 x T) t\n\ngoal (1 subgoal):\n 1. flow0 x (t + T * real (Suc n)) = flow0 x t", "using assms(3)"], ["proof (prove)\nusing this:\n  flow0 x (t + T * real (Suc n)) = flow0 (flow0 x T) t\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. flow0 x (t + T * real (Suc n)) = flow0 x t", "by simp"], ["proof (state)\nthis:\n  flow0 x (t + T * real (Suc n)) = flow0 x t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nasty_arithmetic1:\n  fixes t T::real\n  assumes \"T > 0\" \"t \\<ge> 0\"\n  obtains q r where \"t = (q::nat) * T + r\" \"0 \\<le> r\" \"r < T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define q where \"q = floor (t / T)\""], ["proof (state)\nthis:\n  q = \\<lfloor>t / T\\<rfloor>\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have q:\"q \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> q", "using assms"], ["proof (prove)\nusing this:\n  0 < T\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. 0 \\<le> q", "unfolding q_def"], ["proof (prove)\nusing this:\n  0 < T\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. 0 \\<le> \\<lfloor>t / T\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  0 \\<le> q\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from floor_divide_lower[OF assms(1), of t]"], ["proof (chain)\npicking this:\n  real_of_int \\<lfloor>t / T\\<rfloor> * T \\<le> t", "have ql: \"q * T \\<le> t\""], ["proof (prove)\nusing this:\n  real_of_int \\<lfloor>t / T\\<rfloor> * T \\<le> t\n\ngoal (1 subgoal):\n 1. real_of_int q * T \\<le> t", "unfolding q_def"], ["proof (prove)\nusing this:\n  real_of_int \\<lfloor>t / T\\<rfloor> * T \\<le> t\n\ngoal (1 subgoal):\n 1. real_of_int \\<lfloor>t / T\\<rfloor> * T \\<le> t", "."], ["proof (state)\nthis:\n  real_of_int q * T \\<le> t\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from floor_divide_upper[OF assms(1), of t]"], ["proof (chain)\npicking this:\n  t < (real_of_int \\<lfloor>t / T\\<rfloor> + 1) * T", "have qu: \"t < (q + 1)* T\""], ["proof (prove)\nusing this:\n  t < (real_of_int \\<lfloor>t / T\\<rfloor> + 1) * T\n\ngoal (1 subgoal):\n 1. t < real_of_int (q + 1) * T", "unfolding q_def"], ["proof (prove)\nusing this:\n  t < (real_of_int \\<lfloor>t / T\\<rfloor> + 1) * T\n\ngoal (1 subgoal):\n 1. t < real_of_int (\\<lfloor>t / T\\<rfloor> + 1) * T", "by auto"], ["proof (state)\nthis:\n  t < real_of_int (q + 1) * T\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define r where \"r = t - q * T\""], ["proof (state)\nthis:\n  r = t - real_of_int q * T\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have rl:\"0 \\<le> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> r", "using ql"], ["proof (prove)\nusing this:\n  real_of_int q * T \\<le> t\n\ngoal (1 subgoal):\n 1. 0 \\<le> r", "unfolding r_def"], ["proof (prove)\nusing this:\n  real_of_int q * T \\<le> t\n\ngoal (1 subgoal):\n 1. 0 \\<le> t - real_of_int q * T", "by auto"], ["proof (state)\nthis:\n  0 \\<le> r\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have ru:\"r < T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. r < T", "using qu"], ["proof (prove)\nusing this:\n  t < real_of_int (q + 1) * T\n\ngoal (1 subgoal):\n 1. r < T", "unfolding r_def"], ["proof (prove)\nusing this:\n  t < real_of_int (q + 1) * T\n\ngoal (1 subgoal):\n 1. t - real_of_int q * T < T", "by (simp add: distrib_right)"], ["proof (state)\nthis:\n  r < T\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using q r_def rl ru"], ["proof (prove)\nusing this:\n  0 \\<le> q\n  r = t - real_of_int q * T\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. thesis", "by (metis le_add_diff_inverse of_int_of_nat_eq plus_int_code(2) ql that zle_iff_zadd)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nasty_arithmetic2:\n  fixes t T::real\n  assumes \"T > 0\" \"t \\<le> 0\"\n  obtains q r where \"t = (q::nat) * (-T) + r\" \"0 \\<le> r\" \"r < T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"-t \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> - t", "using assms(2)"], ["proof (prove)\nusing this:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> - t", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> - t\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from nasty_arithmetic1[OF assms(1) this]"], ["proof (chain)\npicking this:\n  (\\<And>q r.\n      \\<lbrakk>- t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain q r where qr: \"-t = (q::nat) * T + r\" \"0 \\<le> r\" \"r < T\""], ["proof (prove)\nusing this:\n  (\\<And>q r.\n      \\<lbrakk>- t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>- t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  - t = real q * T + r\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  - t = real q * T + r\n  0 \\<le> r\n  r < T", "have \"t = q * (-T) - r\""], ["proof (prove)\nusing this:\n  - t = real q * T + r\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. t = real q * - T - r", "by auto"], ["proof (state)\nthis:\n  t = real q * - T - r\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  t = real q * - T - r", "have \"t = (q+(1::nat)) * (-T) + (T-r)\""], ["proof (prove)\nusing this:\n  t = real q * - T - r\n\ngoal (1 subgoal):\n 1. t = real (q + 1) * - T + (T - r)", "by (simp add: distrib_right)"], ["proof (state)\nthis:\n  t = real (q + 1) * - T + (T - r)\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  t = real (q + 1) * - T + (T - r)\n\ngoal (1 subgoal):\n 1. thesis", "using qr(2-3)"], ["proof (prove)\nusing this:\n  t = real (q + 1) * - T + (T - r)\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. thesis", "by (smt \\<open>t = real q * - T - r\\<close> that)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma recurrence_time_restricts_compact_flow:\n  assumes \"T \\<in> existence_ivl0 x\" \"T > 0\" \"flow0 x T = x\"\n  shows \"flow0 x ` UNIV = flow0 x ` {0..T}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 x) = flow0 x ` {0..T}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "have \"t \\<ge> 0 \\<or> t \\<le> (0::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> t \\<or> t \\<le> 0", "by linarith"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "moreover"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "{"], ["proof (state)\nthis:\n  0 \\<le> t \\<or> t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "assume \"t \\<ge> 0\""], ["proof (state)\nthis:\n  0 \\<le> t\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "from nasty_arithmetic1[OF assms(2) this]"], ["proof (chain)\npicking this:\n  (\\<And>q r.\n      \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain q r where qr:\"t = (q::nat) * T + r\" \"0 \\<le> r\" \"r < T\""], ["proof (prove)\nusing this:\n  (\\<And>q r.\n      \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t = real q * T + r\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "have \"T \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<noteq> 0", "using assms(2)"], ["proof (prove)\nusing this:\n  0 < T\n\ngoal (1 subgoal):\n 1. T \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  T \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "from recurrence_time_multiples[OF assms(1) this assms(3),of \"r\" \"q\"]"], ["proof (chain)\npicking this:\n  flow0 x (r + T * real q) = flow0 x r", "have \"flow0 x t = flow0 x r\""], ["proof (prove)\nusing this:\n  flow0 x (r + T * real q) = flow0 x r\n\ngoal (1 subgoal):\n 1. flow0 x t = flow0 x r", "by (simp add: qr(1) add.commute mult.commute)"], ["proof (state)\nthis:\n  flow0 x t = flow0 x r\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "then"], ["proof (chain)\npicking this:\n  flow0 x t = flow0 x r", "have \"flow0 x t \\<in> flow0 x ` {0..<T}\""], ["proof (prove)\nusing this:\n  flow0 x t = flow0 x r\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {0..<T}", "using qr"], ["proof (prove)\nusing this:\n  flow0 x t = flow0 x r\n  t = real q * T + r\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {0..<T}", "by auto"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "}"], ["proof (state)\nthis:\n  0 \\<le> t \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "moreover"], ["proof (state)\nthis:\n  0 \\<le> t \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "{"], ["proof (state)\nthis:\n  0 \\<le> t \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "assume \"t \\<le> 0\""], ["proof (state)\nthis:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "from nasty_arithmetic2[OF assms(2) this]"], ["proof (chain)\npicking this:\n  (\\<And>q r.\n      \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain q r where qr:\"t = (q::nat) * (-T) + r\" \"0 \\<le> r\" \"r < T\""], ["proof (prove)\nusing this:\n  (\\<And>q r.\n      \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>q r.\n        \\<lbrakk>t = real q * - T + r; 0 \\<le> r; r < T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  t = real q * - T + r\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "have \"-T \\<in> existence_ivl0 x\" \"-T \\<noteq> 0\" \"flow0 x (-T) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - T \\<in> existence_ivl0 x &&& - T \\<noteq> 0 &&& flow0 x (- T) = x", "using recurrence_time_flip_sign assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?T \\<in> existence_ivl0 ?x; flow0 ?x ?T = ?x\\<rbrakk>\n  \\<Longrightarrow> - ?T \\<in> existence_ivl0 ?x\n  \\<lbrakk>?T \\<in> existence_ivl0 ?x; flow0 ?x ?T = ?x\\<rbrakk>\n  \\<Longrightarrow> flow0 ?x (- ?T) = ?x\n  T \\<in> existence_ivl0 x\n  0 < T\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. - T \\<in> existence_ivl0 x &&& - T \\<noteq> 0 &&& flow0 x (- T) = x", "by auto"], ["proof (state)\nthis:\n  - T \\<in> existence_ivl0 x\n  - T \\<noteq> 0\n  flow0 x (- T) = x\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "from recurrence_time_multiples[OF this, of r q]"], ["proof (chain)\npicking this:\n  flow0 x (r + - T * real q) = flow0 x r", "have \"flow0 x t = flow0 x r\""], ["proof (prove)\nusing this:\n  flow0 x (r + - T * real q) = flow0 x r\n\ngoal (1 subgoal):\n 1. flow0 x t = flow0 x r", "by (simp add: mult.commute qr(1))"], ["proof (state)\nthis:\n  flow0 x t = flow0 x r\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "then"], ["proof (chain)\npicking this:\n  flow0 x t = flow0 x r", "have \"flow0 x t \\<in> flow0 x ` {0..<T}\""], ["proof (prove)\nusing this:\n  flow0 x t = flow0 x r\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {0..<T}", "using qr"], ["proof (prove)\nusing this:\n  flow0 x t = flow0 x r\n  t = real q * - T + r\n  0 \\<le> r\n  r < T\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {0..<T}", "by auto"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "}"], ["proof (state)\nthis:\n  t \\<le> 0 \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. \\<And>xa. flow0 x xa \\<in> flow0 x ` {0..T}", "ultimately"], ["proof (chain)\npicking this:\n  0 \\<le> t \\<or> t \\<le> 0\n  0 \\<le> t \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n  t \\<le> 0 \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}", "show \"flow0 x t \\<in> flow0 x ` {0..T}\""], ["proof (prove)\nusing this:\n  0 \\<le> t \\<or> t \\<le> 0\n  0 \\<le> t \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n  t \\<le> 0 \\<Longrightarrow> flow0 x t \\<in> flow0 x ` {0..<T}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {0..T}", "by auto"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {0..T}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbitI:\n  assumes \"t \\<noteq> t'\" \"t \\<in> existence_ivl0 y\" \"t' \\<in> existence_ivl0 y\"\n  assumes \"flow0 y t = flow0 y t'\"\n  shows \"closed_orbit y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit y", "unfolding closed_orbit_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>T\\<in>existence_ivl0 y. T \\<noteq> 0 \\<and> flow0 y T = y", "by (smt assms local.existence_ivl_reverse local.existence_ivl_trans local.flow_trans local.flows_reverse)"], ["", "(* TODO: can be considerably generalized *)"], ["", "lemma flow0_image_UNIV:\n  assumes \"existence_ivl0 x = UNIV\"\n  shows \"flow0 (flow0 x t) ` S = flow0 x ` (\\<lambda>s. s + t) ` S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 x t) ` S = flow0 x ` (\\<lambda>s. s + t) ` S", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       flow0 (flow0 x t) xa \\<in> flow0 x ` (\\<lambda>s. s + t) ` S\n 2. \\<And>s.\n       s \\<in> S \\<Longrightarrow>\n       flow0 x (s + t) \\<in> flow0 (flow0 x t) ` S", "apply (metis UNIV_I add.commute assms image_eqI local.existence_ivl_trans' local.flow_trans)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       s \\<in> S \\<Longrightarrow>\n       flow0 x (s + t) \\<in> flow0 (flow0 x t) ` S", "by (metis UNIV_I add.commute assms imageI local.existence_ivl_trans' local.flow_trans)"], ["", "lemma recurrence_time_restricts_compact_flow':\n  assumes \"t < t'\" \"t \\<in> existence_ivl0 y\" \"t' \\<in> existence_ivl0 y\"\n  assumes \"flow0 y t = flow0 y t'\"\n  shows \"flow0 y ` UNIV = flow0 y ` {t..t'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "have \"closed_orbit y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit y", "using assms(1-4) closed_orbitI inf.strict_order_iff"], ["proof (prove)\nusing this:\n  t < t'\n  t \\<in> existence_ivl0 y\n  t' \\<in> existence_ivl0 y\n  flow0 y t = flow0 y t'\n  \\<lbrakk>?t \\<noteq> ?t'; ?t \\<in> existence_ivl0 ?y;\n   ?t' \\<in> existence_ivl0 ?y; flow0 ?y ?t = flow0 ?y ?t'\\<rbrakk>\n  \\<Longrightarrow> closed_orbit ?y\n  (?a < ?b) = (?a = inf ?a ?b \\<and> ?a \\<noteq> ?b)\n\ngoal (1 subgoal):\n 1. closed_orbit y", "by blast"], ["proof (state)\nthis:\n  closed_orbit y\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "from closed_orbit_global_existence[OF this]"], ["proof (chain)\npicking this:\n  existence_ivl0 y = UNIV", "have yex: \"existence_ivl0 y = UNIV\""], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 y = UNIV", "."], ["proof (state)\nthis:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "have a1:\"t'- t \\<in> existence_ivl0 (flow0 y t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t' - t \\<in> existence_ivl0 (flow0 y t)", "by (simp add: assms(2-3) local.existence_ivl_trans')"], ["proof (state)\nthis:\n  t' - t \\<in> existence_ivl0 (flow0 y t)\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "have a2:\"t' -t > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < t' - t", "using assms(1)"], ["proof (prove)\nusing this:\n  t < t'\n\ngoal (1 subgoal):\n 1. 0 < t' - t", "by auto"], ["proof (state)\nthis:\n  0 < t' - t\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "have a3:\"flow0 (flow0 y t) (t' - t) = flow0 y t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 (flow0 y t) (t' - t) = flow0 y t", "using a1 assms(2) assms(4) local.flow_trans"], ["proof (prove)\nusing this:\n  t' - t \\<in> existence_ivl0 (flow0 y t)\n  t \\<in> existence_ivl0 y\n  flow0 y t = flow0 y t'\n  \\<lbrakk>?s \\<in> existence_ivl0 ?x0.0;\n   ?t \\<in> existence_ivl0 (flow0 ?x0.0 ?s)\\<rbrakk>\n  \\<Longrightarrow> flow0 ?x0.0 (?s + ?t) = flow0 (flow0 ?x0.0 ?s) ?t\n\ngoal (1 subgoal):\n 1. flow0 (flow0 y t) (t' - t) = flow0 y t", "by fastforce"], ["proof (state)\nthis:\n  flow0 (flow0 y t) (t' - t) = flow0 y t\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "from recurrence_time_restricts_compact_flow[OF a1 a2 a3]"], ["proof (chain)\npicking this:\n  range (flow0 (flow0 y t)) = flow0 (flow0 y t) ` {0..t' - t}", "have eq:\"flow0 (flow0 y t) ` UNIV = flow0 (flow0 y t) ` {0.. t'-t}\""], ["proof (prove)\nusing this:\n  range (flow0 (flow0 y t)) = flow0 (flow0 y t) ` {0..t' - t}\n\ngoal (1 subgoal):\n 1. range (flow0 (flow0 y t)) = flow0 (flow0 y t) ` {0..t' - t}", "."], ["proof (state)\nthis:\n  range (flow0 (flow0 y t)) = flow0 (flow0 y t) ` {0..t' - t}\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "from flow0_image_UNIV[OF yex, of _ \"UNIV\"]"], ["proof (chain)\npicking this:\n  range (flow0 (flow0 y ?t)) = flow0 y ` range (\\<lambda>s. s + ?t)", "have eql:\"flow0 (flow0 y t) ` UNIV = flow0 y ` UNIV\""], ["proof (prove)\nusing this:\n  range (flow0 (flow0 y ?t)) = flow0 y ` range (\\<lambda>s. s + ?t)\n\ngoal (1 subgoal):\n 1. range (flow0 (flow0 y t)) = range (flow0 y)", "by (metis (no_types) add.commute surj_def surj_plus)"], ["proof (state)\nthis:\n  range (flow0 (flow0 y t)) = range (flow0 y)\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "from flow0_image_UNIV[OF yex, of _ \"{0..t'-t}\"]"], ["proof (chain)\npicking this:\n  flow0 (flow0 y ?t) ` {0..t' - t} =\n  flow0 y ` (\\<lambda>s. s + ?t) ` {0..t' - t}", "have eqr:\"flow0 (flow0 y t) ` {0.. t'-t} = flow0 y ` {t..t'}\""], ["proof (prove)\nusing this:\n  flow0 (flow0 y ?t) ` {0..t' - t} =\n  flow0 y ` (\\<lambda>s. s + ?t) ` {0..t' - t}\n\ngoal (1 subgoal):\n 1. flow0 (flow0 y t) ` {0..t' - t} = flow0 y ` {t..t'}", "by auto"], ["proof (state)\nthis:\n  flow0 (flow0 y t) ` {0..t' - t} = flow0 y ` {t..t'}\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "using eq eql eqr"], ["proof (prove)\nusing this:\n  range (flow0 (flow0 y t)) = flow0 (flow0 y t) ` {0..t' - t}\n  range (flow0 (flow0 y t)) = range (flow0 y)\n  flow0 (flow0 y t) ` {0..t' - t} = flow0 y ` {t..t'}\n\ngoal (1 subgoal):\n 1. range (flow0 y) = flow0 y ` {t..t'}", "by auto"], ["proof (state)\nthis:\n  range (flow0 y) = flow0 y ` {t..t'}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbitE':\n  assumes \"closed_orbit x\"\n  obtains T where \"T > 0\" \"\\<And>t (n::nat). flow0 x (t+T*n) = flow0 x t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T;\n         \\<And>t xa. flow0 x (t + T * real xa) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T;\n         \\<And>t xa. flow0 x (t + T * real xa) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain Tp where \"Tp \\<noteq> 0\" \"Tp \\<in> existence_ivl0 x\" \"flow0 x Tp = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T;\n         \\<And>t xa. flow0 x (t + T * real xa) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x", "obtain T where T: \"T > 0\" \"T \\<in> existence_ivl0 x\" \"flow0 x T = x\""], ["proof (prove)\nusing this:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; T \\<in> existence_ivl0 x; flow0 x T = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (smt recurrence_time_flip_sign)"], ["proof (state)\nthis:\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T;\n         \\<And>t xa. flow0 x (t + T * real xa) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. thesis", "using  recurrence_time_multiples T that"], ["proof (prove)\nusing this:\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n  \\<lbrakk>?T \\<in> existence_ivl0 ?x; ?T \\<noteq> 0;\n   flow0 ?x ?T = ?x\\<rbrakk>\n  \\<Longrightarrow> flow0 ?x (?t + ?T * real ?n) = flow0 ?x ?t\n  0 < T\n  T \\<in> existence_ivl0 x\n  flow0 x T = x\n  \\<lbrakk>0 < ?T;\n   \\<And>t xa. flow0 x (t + ?T * real xa) = flow0 x t\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbitE:\n  assumes \"closed_orbit x\"\n  obtains T where \"T > 0\" \"\\<And>t. flow0 x (t+T) = flow0 x t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; \\<And>t. flow0 x (t + T) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using closed_orbitE'"], ["proof (prove)\nusing this:\n  \\<lbrakk>closed_orbit ?x;\n   \\<And>T.\n      \\<lbrakk>0 < T;\n       \\<And>t x. flow0 ?x (t + T * real x) = flow0 ?x t\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; \\<And>t. flow0 x (t + T) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis assms mult.commute reals_Archimedean3)"], ["", "lemma closed_orbit_flow_compact:\n  assumes \"closed_orbit x\"\n  shows \"compact(flow0 x ` UNIV)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "obtain Tp where \"Tp \\<noteq> 0\" \"Tp \\<in> existence_ivl0 x\" \"flow0 x Tp = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x\n\ngoal (1 subgoal):\n 1. (\\<And>Tp.\n        \\<lbrakk>Tp \\<noteq> 0; Tp \\<in> existence_ivl0 x;\n         flow0 x Tp = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "then"], ["proof (chain)\npicking this:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x", "obtain T where T: \"T \\<in> existence_ivl0 x\" \"T > 0\" \"flow0 x T = x\""], ["proof (prove)\nusing this:\n  Tp \\<noteq> 0\n  Tp \\<in> existence_ivl0 x\n  flow0 x Tp = x\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>T \\<in> existence_ivl0 x; 0 < T; flow0 x T = x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (smt recurrence_time_flip_sign)"], ["proof (state)\nthis:\n  T \\<in> existence_ivl0 x\n  0 < T\n  flow0 x T = x\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "from recurrence_time_restricts_compact_flow[OF this]"], ["proof (chain)\npicking this:\n  range (flow0 x) = flow0 x ` {0..T}", "have feq: \"flow0 x ` UNIV = flow0 x ` {0..T}\""], ["proof (prove)\nusing this:\n  range (flow0 x) = flow0 x ` {0..T}\n\ngoal (1 subgoal):\n 1. range (flow0 x) = flow0 x ` {0..T}", "."], ["proof (state)\nthis:\n  range (flow0 x) = flow0 x ` {0..T}\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "have \"continuous_on {0..T} (flow0 x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. continuous_on {0..T} (flow0 x)", "by (meson T(1) continuous_on_sequentially in_mono local.flow_continuous_on local.ivl_subset_existence_ivl)"], ["proof (state)\nthis:\n  continuous_on {0..T} (flow0 x)\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "from compact_continuous_image[OF this]"], ["proof (chain)\npicking this:\n  compact {0..T} \\<Longrightarrow> compact (flow0 x ` {0..T})", "have \"compact (flow0 x ` {0..T})\""], ["proof (prove)\nusing this:\n  compact {0..T} \\<Longrightarrow> compact (flow0 x ` {0..T})\n\ngoal (1 subgoal):\n 1. compact (flow0 x ` {0..T})", "by auto"], ["proof (state)\nthis:\n  compact (flow0 x ` {0..T})\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "thus ?thesis"], ["proof (prove)\nusing this:\n  compact (flow0 x ` {0..T})\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "using feq"], ["proof (prove)\nusing this:\n  compact (flow0 x ` {0..T})\n  range (flow0 x) = flow0 x ` {0..T}\n\ngoal (1 subgoal):\n 1. compact (range (flow0 x))", "by auto"], ["proof (state)\nthis:\n  compact (range (flow0 x))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fixed_point_imp_closed_orbit_period_zero:\n  assumes \"x \\<in> X\"\n  assumes \"f x = 0\"\n  shows \"closed_orbit x\" \"period x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x &&& period x = 0", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "from fixpoint_sol[OF assms]"], ["proof (chain)\npicking this:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x", "have fp:\"existence_ivl0 x = UNIV\" \"\\<And>t. flow0 x t = x\""], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV &&& (\\<And>t. flow0 x t = x)", "by auto"], ["proof (state)\nthis:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x\n\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "then"], ["proof (chain)\npicking this:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x", "have co:\"closed_orbit x\""], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x\n\ngoal (1 subgoal):\n 1. closed_orbit x", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x\n\ngoal (1 subgoal):\n 1. \\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x", "by blast"], ["proof (state)\nthis:\n  closed_orbit x\n\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "have a: \"\\<forall>y>0. \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}. a < y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y>0.\n       \\<exists>a\\<in>{T \\<in> existence_ivl0 x.\n                       0 < T \\<and> flow0 x T = x}.\n          a < y", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y.\n       0 < y \\<Longrightarrow>\n       \\<exists>a.\n          a \\<in> existence_ivl0 x \\<and>\n          0 < a \\<and> flow0 x a = x \\<and> a < y", "using fp"], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n  flow0 x ?t = x\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       0 < y \\<Longrightarrow>\n       \\<exists>a.\n          a \\<in> existence_ivl0 x \\<and>\n          0 < a \\<and> flow0 x a = x \\<and> a < y", "by (simp add: dense)"], ["proof (state)\nthis:\n  \\<forall>y>0.\n     \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}.\n        a < y\n\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "from cInf_le_iff[OF closed_orbit_recurrence_times_nonempty[OF co]\n      closed_orbit_recurrence_times_bdd_below , of 0]"], ["proof (chain)\npicking this:\n  (Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<le> 0) =\n  (\\<forall>y>0.\n      \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}.\n         a < y)", "have \"period x \\<le> 0\""], ["proof (prove)\nusing this:\n  (Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<le> 0) =\n  (\\<forall>y>0.\n      \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}.\n         a < y)\n\ngoal (1 subgoal):\n 1. period x \\<le> 0", "unfolding period_def"], ["proof (prove)\nusing this:\n  (Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<le> 0) =\n  (\\<forall>y>0.\n      \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}.\n         a < y)\n\ngoal (1 subgoal):\n 1. Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<le> 0", "using a"], ["proof (prove)\nusing this:\n  (Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<le> 0) =\n  (\\<forall>y>0.\n      \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}.\n         a < y)\n  \\<forall>y>0.\n     \\<exists>a\\<in>{T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}.\n        a < y\n\ngoal (1 subgoal):\n 1. Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x} \\<le> 0", "by auto"], ["proof (state)\nthis:\n  period x \\<le> 0\n\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "from closed_orbit_period_nonneg[OF co]"], ["proof (chain)\npicking this:\n  0 \\<le> period x", "have \"period x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> period x\n\ngoal (1 subgoal):\n 1. 0 \\<le> period x", "."], ["proof (state)\nthis:\n  0 \\<le> period x\n\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "then"], ["proof (chain)\npicking this:\n  0 \\<le> period x", "have \"period x = 0\""], ["proof (prove)\nusing this:\n  0 \\<le> period x\n\ngoal (1 subgoal):\n 1. period x = 0", "using \\<open>period x \\<le> 0\\<close>"], ["proof (prove)\nusing this:\n  0 \\<le> period x\n  period x \\<le> 0\n\ngoal (1 subgoal):\n 1. period x = 0", "by linarith"], ["proof (state)\nthis:\n  period x = 0\n\ngoal (2 subgoals):\n 1. closed_orbit x\n 2. period x = 0", "thus \"closed_orbit x\" \"period x = 0\""], ["proof (prove)\nusing this:\n  period x = 0\n\ngoal (1 subgoal):\n 1. closed_orbit x &&& period x = 0", "using co"], ["proof (prove)\nusing this:\n  period x = 0\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. closed_orbit x &&& period x = 0", "by auto"], ["proof (state)\nthis:\n  closed_orbit x\n  period x = 0\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbit_period_zero_fixed_point:\n  assumes \"closed_orbit x\" \"period x = 0\"\n  shows \"f x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x = (0::'a)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a) \\<Longrightarrow> False", "assume \"f x \\<noteq> 0\""], ["proof (state)\nthis:\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a) \\<Longrightarrow> False", "from regular_locally_noteq[OF closed_orbit_in_domain[OF assms(1)] this]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x", "have \"\\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x \""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x", "obtain r where \"r>0\" \"\\<forall>t. t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 x t \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_at"], ["proof (prove)\nusing this:\n  \\<exists>d>0.\n     \\<forall>xa\\<in>UNIV.\n        xa \\<noteq> 0 \\<and> dist xa 0 < d \\<longrightarrow>\n        flow0 x xa \\<noteq> x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 x t \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x", "have \"period x \\<ge> r\""], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. r \\<le> period x", "unfolding period_def"], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. r \\<le> Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "apply (auto intro!:cInf_greatest)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>0 < r;\n     \\<forall>t.\n        t \\<noteq> 0 \\<and> \\<bar>t\\<bar> < r \\<longrightarrow>\n        flow0 x t \\<noteq> x;\n     \\<forall>xa>0.\n        xa \\<in> existence_ivl0 x \\<longrightarrow>\n        flow0 x xa \\<noteq> x\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<And>xa.\n       \\<lbrakk>0 < r;\n        \\<forall>t.\n           t \\<noteq> 0 \\<and> \\<bar>t\\<bar> < r \\<longrightarrow>\n           flow0 x t \\<noteq> x;\n        xa \\<in> existence_ivl0 x; 0 < xa; flow0 x xa = x\\<rbrakk>\n       \\<Longrightarrow> r \\<le> xa", "apply (meson assms(1) closed_orbit_def linorder_neqE_linordered_idom neg_0_less_iff_less recurrence_time_flip_sign)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 < r;\n        \\<forall>t.\n           t \\<noteq> 0 \\<and> \\<bar>t\\<bar> < r \\<longrightarrow>\n           flow0 x t \\<noteq> x;\n        xa \\<in> existence_ivl0 x; 0 < xa; flow0 x xa = x\\<rbrakk>\n       \\<Longrightarrow> r \\<le> xa", "using not_le"], ["proof (prove)\nusing this:\n  (\\<not> ?x \\<le> ?y) = (?y < ?x)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       \\<lbrakk>0 < r;\n        \\<forall>t.\n           t \\<noteq> 0 \\<and> \\<bar>t\\<bar> < r \\<longrightarrow>\n           flow0 x t \\<noteq> x;\n        xa \\<in> existence_ivl0 x; 0 < xa; flow0 x xa = x\\<rbrakk>\n       \\<Longrightarrow> r \\<le> xa", "by force"], ["proof (state)\nthis:\n  r \\<le> period x\n\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a) \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  r \\<le> period x\n\ngoal (1 subgoal):\n 1. False", "using assms(2) \\<open>r >0\\<close>"], ["proof (prove)\nusing this:\n  r \\<le> period x\n  period x = 0\n  0 < r\n\ngoal (1 subgoal):\n 1. False", "by linarith"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbit_subset_\\<omega>_limit_set:\n  assumes \"closed_orbit x\"\n  shows \"flow0 x ` UNIV \\<subseteq> \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 x) \\<subseteq> \\<omega>_limit_set x", "unfolding \\<omega>_limit_set_def \\<omega>_limit_point_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 x)\n    \\<subseteq> {p. {0..} \\<subseteq> existence_ivl0 x \\<and>\n                    (\\<exists>s.\n                        s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n                        (flow0 x \\<circ> s) \\<longlonglongrightarrow> p)}", "proof clarsimp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "fix t"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "from closed_orbitE'[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>T.\n      \\<lbrakk>0 < T;\n       \\<And>t xa. flow0 x (t + T * real xa) = flow0 x t\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain T where T: \"0 < T\" \"\\<And>t n. flow0 x (t + T* real n) = flow0 x t\""], ["proof (prove)\nusing this:\n  (\\<And>T.\n      \\<lbrakk>0 < T;\n       \\<And>t xa. flow0 x (t + T * real xa) = flow0 x t\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T;\n         \\<And>t n. flow0 x (t + T * real n) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  0 < T\n  flow0 x (?t + T * real ?n) = flow0 x ?t\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "define s where \"s = (\\<lambda>n::nat. t + T * real n)\""], ["proof (state)\nthis:\n  s = (\\<lambda>n. t + T * real n)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "have exist: \"{0..} \\<subseteq> existence_ivl0 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> existence_ivl0 x", "by (simp add: assms closed_orbit_global_existence)"], ["proof (state)\nthis:\n  {0..} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "have l:\"filterlim s at_top sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>", "unfolding s_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lambda>n.\n       t + T * real n \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>", "using T(1)"], ["proof (prove)\nusing this:\n  0 < T\n\ngoal (1 subgoal):\n 1. \\<lambda>n.\n       t + T * real n \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>", "by (auto intro!:filterlim_tendsto_add_at_top filterlim_tendsto_pos_mult_at_top\n        simp add: filterlim_real_sequentially)"], ["proof (state)\nthis:\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "have \"flow0 x \\<circ> s = (\\<lambda>n. flow0 x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. flow0 x \\<circ> s = (\\<lambda>n. flow0 x t)", "unfolding o_def s_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>xa. flow0 x (t + T * real xa)) = (\\<lambda>n. flow0 x t)", "using T(2)"], ["proof (prove)\nusing this:\n  flow0 x (?t + T * real ?n) = flow0 x ?t\n\ngoal (1 subgoal):\n 1. (\\<lambda>xa. flow0 x (t + T * real xa)) = (\\<lambda>n. flow0 x t)", "by simp"], ["proof (state)\nthis:\n  flow0 x \\<circ> s = (\\<lambda>n. flow0 x t)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "then"], ["proof (chain)\npicking this:\n  flow0 x \\<circ> s = (\\<lambda>n. flow0 x t)", "have r:\"(flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t\""], ["proof (prove)\nusing this:\n  flow0 x \\<circ> s = (\\<lambda>n. flow0 x t)\n\ngoal (1 subgoal):\n 1. (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t", "by auto"], ["proof (state)\nthis:\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       {0..} \\<subseteq> existence_ivl0 x \\<and>\n       (\\<exists>s.\n           s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n           (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x xa)", "show \"{0..} \\<subseteq> existence_ivl0 x \\<and> (\\<exists>s. s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and> (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> existence_ivl0 x \\<and>\n    (\\<exists>s.\n        s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n        (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t)", "using exist l r"], ["proof (prove)\nusing this:\n  {0..} \\<subseteq> existence_ivl0 x\n  s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity>\n  (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t\n\ngoal (1 subgoal):\n 1. {0..} \\<subseteq> existence_ivl0 x \\<and>\n    (\\<exists>s.\n        s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n        (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t)", "by blast"], ["proof (state)\nthis:\n  {0..} \\<subseteq> existence_ivl0 x \\<and>\n  (\\<exists>s.\n      s \\<longlonglongrightarrow>\\<^bsub>\\<^esub> \\<infinity> \\<and>\n      (flow0 x \\<circ> s) \\<longlonglongrightarrow> flow0 x t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbit_\\<omega>_limit_set:\n  assumes \"closed_orbit x\"\n  shows \"flow0 x ` UNIV = \\<omega>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<omega>_limit_set x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<omega>_limit_set x", "have \"\\<omega>_limit_set x \\<subseteq> flow0 x ` UNIV\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> range (flow0 x)", "using closed_orbit_global_existence[OF assms]"], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x \\<subseteq> range (flow0 x)", "by (intro \\<omega>_limit_set_in_compact_subset)\n      (auto intro!: flow_in_domain\n        simp add: assms closed_orbit_in_domain image_subset_iff trapped_forward_def\n        closed_orbit_flow_compact)"], ["proof (state)\nthis:\n  \\<omega>_limit_set x \\<subseteq> range (flow0 x)\n\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<omega>_limit_set x", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> range (flow0 x)\n\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<omega>_limit_set x", "using closed_orbit_subset_\\<omega>_limit_set[OF assms]"], ["proof (prove)\nusing this:\n  \\<omega>_limit_set x \\<subseteq> range (flow0 x)\n  range (flow0 x) \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  range (flow0 x) = \\<omega>_limit_set x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma flow0_inj_on:\n  assumes \"t \\<le> t'\"\n  assumes \"{t..t'} \\<subseteq> existence_ivl0 x\"\n  assumes \"\\<And>s. t < s \\<Longrightarrow> s \\<le> t' \\<Longrightarrow> flow0 x s \\<noteq> flow0 x t\"\n  shows \"inj_on (flow0 x) {t..t'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (flow0 x) {t..t'}", "apply (rule inj_onI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'};\n        flow0 x xa = flow0 x y\\<rbrakk>\n       \\<Longrightarrow> xa = y", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "fix u v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "assume uv: \"u \\<in> {t..t'}\" \"v \\<in> {t..t'}\" \"flow0 x u = flow0 x v\" \"u \\<noteq> v\""], ["proof (state)\nthis:\n  u \\<in> {t..t'}\n  v \\<in> {t..t'}\n  flow0 x u = flow0 x v\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "have \"u < v \\<or> v < u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u < v \\<or> v < u", "using uv(4)"], ["proof (prove)\nusing this:\n  u \\<noteq> v\n\ngoal (1 subgoal):\n 1. u < v \\<or> v < u", "by linarith"], ["proof (state)\nthis:\n  u < v \\<or> v < u\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  u < v \\<or> v < u\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  u < v \\<or> v < u\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"u < v\""], ["proof (state)\nthis:\n  u < v\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "from recurrence_time_restricts_compact_flow'[OF this _ _ uv(3)]"], ["proof (chain)\npicking this:\n  \\<lbrakk>u \\<in> existence_ivl0 x; v \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> range (flow0 x) = flow0 x ` {u..v}", "have \"flow0 x ` UNIV = flow0 x ` {u..v}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>u \\<in> existence_ivl0 x; v \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> range (flow0 x) = flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. range (flow0 x) = flow0 x ` {u..v}", "using uv(1-2) assms(2)"], ["proof (prove)\nusing this:\n  \\<lbrakk>u \\<in> existence_ivl0 x; v \\<in> existence_ivl0 x\\<rbrakk>\n  \\<Longrightarrow> range (flow0 x) = flow0 x ` {u..v}\n  u \\<in> {t..t'}\n  v \\<in> {t..t'}\n  {t..t'} \\<subseteq> existence_ivl0 x\n\ngoal (1 subgoal):\n 1. range (flow0 x) = flow0 x ` {u..v}", "by blast"], ["proof (state)\nthis:\n  range (flow0 x) = flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  range (flow0 x) = flow0 x ` {u..v}", "have \"flow0 x t \\<in> flow0 x ` {u..v}\""], ["proof (prove)\nusing this:\n  range (flow0 x) = flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {u..v}", "by auto"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "have \"u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}", "using assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>t < ?s; ?s \\<le> t'\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?s \\<noteq> flow0 x t\n\ngoal (1 subgoal):\n 1. u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}", "by (smt atLeastAtMost_iff image_iff uv(1) uv(2))"], ["proof (state)\nthis:\n  u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 x t \\<in> flow0 x ` {u..v}\n  u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}", "have False"], ["proof (prove)\nusing this:\n  flow0 x t \\<in> flow0 x ` {u..v}\n  u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}\n\ngoal (1 subgoal):\n 1. False", "using uv assms(3)"], ["proof (prove)\nusing this:\n  flow0 x t \\<in> flow0 x ` {u..v}\n  u = t \\<or> flow0 x t \\<notin> flow0 x ` {u..v}\n  u \\<in> {t..t'}\n  v \\<in> {t..t'}\n  flow0 x u = flow0 x v\n  u \\<noteq> v\n  \\<lbrakk>t < ?s; ?s \\<le> t'\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?s \\<noteq> flow0 x t\n\ngoal (1 subgoal):\n 1. False", "by force"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  u < v \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  u < v \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "{"], ["proof (state)\nthis:\n  u < v \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"v < u\""], ["proof (state)\nthis:\n  v < u\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "from recurrence_time_restricts_compact_flow'[OF this _ _ ]"], ["proof (chain)\npicking this:\n  \\<lbrakk>v \\<in> existence_ivl0 ?y; u \\<in> existence_ivl0 ?y;\n   flow0 ?y v = flow0 ?y u\\<rbrakk>\n  \\<Longrightarrow> range (flow0 ?y) = flow0 ?y ` {v..u}", "have \"flow0 x ` UNIV = flow0 x ` {v..u}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>v \\<in> existence_ivl0 ?y; u \\<in> existence_ivl0 ?y;\n   flow0 ?y v = flow0 ?y u\\<rbrakk>\n  \\<Longrightarrow> range (flow0 ?y) = flow0 ?y ` {v..u}\n\ngoal (1 subgoal):\n 1. range (flow0 x) = flow0 x ` {v..u}", "by (metis assms(2) subset_iff uv(1) uv(2) uv(3))"], ["proof (state)\nthis:\n  range (flow0 x) = flow0 x ` {v..u}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  range (flow0 x) = flow0 x ` {v..u}", "have \"flow0 x t \\<in> flow0 x ` {v..u}\""], ["proof (prove)\nusing this:\n  range (flow0 x) = flow0 x ` {v..u}\n\ngoal (1 subgoal):\n 1. flow0 x t \\<in> flow0 x ` {v..u}", "by auto"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {v..u}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  flow0 x t \\<in> flow0 x ` {v..u}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "have \"v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}", "using assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>t < ?s; ?s \\<le> t'\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?s \\<noteq> flow0 x t\n\ngoal (1 subgoal):\n 1. v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}", "by (smt atLeastAtMost_iff image_iff uv(1) uv(2))"], ["proof (state)\nthis:\n  v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  flow0 x t \\<in> flow0 x ` {v..u}\n  v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}", "have False"], ["proof (prove)\nusing this:\n  flow0 x t \\<in> flow0 x ` {v..u}\n  v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}\n\ngoal (1 subgoal):\n 1. False", "using uv assms(3)"], ["proof (prove)\nusing this:\n  flow0 x t \\<in> flow0 x ` {v..u}\n  v = t \\<or> flow0 x t \\<notin> flow0 x ` {v..u}\n  u \\<in> {t..t'}\n  v \\<in> {t..t'}\n  flow0 x u = flow0 x v\n  u \\<noteq> v\n  \\<lbrakk>t < ?s; ?s \\<le> t'\\<rbrakk>\n  \\<Longrightarrow> flow0 x ?s \\<noteq> flow0 x t\n\ngoal (1 subgoal):\n 1. False", "by force"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "}"], ["proof (state)\nthis:\n  v < u \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> {t..t'}; y \\<in> {t..t'}; flow0 x xa = flow0 x y;\n        xa \\<noteq> y\\<rbrakk>\n       \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  u < v \\<or> v < u\n  u < v \\<Longrightarrow> False\n  v < u \\<Longrightarrow> False", "show False"], ["proof (prove)\nusing this:\n  u < v \\<or> v < u\n  u < v \\<Longrightarrow> False\n  v < u \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "(* TODO: Probably has a simpler proof *)"], ["", "lemma finite_\\<omega>_limit_set_in_compact_imp_unique_fixed_point:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\" \"trapped_forward x K\"\n  assumes \"finite (\\<omega>_limit_set x)\"\n  obtains y where \"\\<omega>_limit_set x = {y}\" \"f y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from connected_finite_iff_sing[OF \\<omega>_limit_set_in_compact_connected]"], ["proof (chain)\npicking this:\n  \\<lbrakk>compact ?K1; ?K1 \\<subseteq> X; ?x1 \\<in> X;\n   trapped_forward ?x1 ?K1\\<rbrakk>\n  \\<Longrightarrow> finite (\\<omega>_limit_set ?x1) =\n                    (\\<omega>_limit_set ?x1 = {} \\<or>\n                     (\\<exists>a. \\<omega>_limit_set ?x1 = {a}))", "obtain y where y: \"\\<omega>_limit_set x = {y}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>compact ?K1; ?K1 \\<subseteq> X; ?x1 \\<in> X;\n   trapped_forward ?x1 ?K1\\<rbrakk>\n  \\<Longrightarrow> finite (\\<omega>_limit_set ?x1) =\n                    (\\<omega>_limit_set ?x1 = {} \\<or>\n                     (\\<exists>a. \\<omega>_limit_set ?x1 = {a}))\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<omega>_limit_set x = {y} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \\<omega>_limit_set_in_compact_nonempty assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>compact ?K1; ?K1 \\<subseteq> X; ?x1 \\<in> X;\n   trapped_forward ?x1 ?K1\\<rbrakk>\n  \\<Longrightarrow> finite (\\<omega>_limit_set ?x1) =\n                    (\\<omega>_limit_set ?x1 = {} \\<or>\n                     (\\<exists>a. \\<omega>_limit_set ?x1 = {a}))\n  \\<lbrakk>compact ?K; ?K \\<subseteq> X; ?x \\<in> X;\n   trapped_forward ?x ?K\\<rbrakk>\n  \\<Longrightarrow> \\<omega>_limit_set ?x \\<noteq> {}\n  compact K\n  K \\<subseteq> X\n  x \\<in> X\n  trapped_forward x K\n  finite (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<omega>_limit_set x = {y} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<omega>_limit_set x = {y}\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"f y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f y = (0::'a)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "assume fy:\"f y \\<noteq> 0\""], ["proof (state)\nthis:\n  f y \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "from \\<omega>_limit_set_in_compact_existence[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  ?y \\<in> \\<omega>_limit_set x \\<Longrightarrow> existence_ivl0 ?y = UNIV", "have yex: \"existence_ivl0 y = UNIV\""], ["proof (prove)\nusing this:\n  ?y \\<in> \\<omega>_limit_set x \\<Longrightarrow> existence_ivl0 ?y = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 y = UNIV", "by (simp add: y)"], ["proof (state)\nthis:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  existence_ivl0 y = UNIV", "have \"y \\<in> X\""], ["proof (prove)\nusing this:\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by (simp add: local.mem_existence_ivl_iv_defined(2))"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "from regular_locally_noteq[OF this fy]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y", "have \"\\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y", "obtain r where r: \"r>0\" \"\\<forall>t. t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 y t \\<noteq> flow0 y 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 y t \\<noteq> y\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 y t \\<noteq> flow0 y 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_at"], ["proof (prove)\nusing this:\n  \\<exists>d>0.\n     \\<forall>x\\<in>UNIV.\n        x \\<noteq> 0 \\<and> dist x 0 < d \\<longrightarrow>\n        flow0 y x \\<noteq> y\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 y t \\<noteq> flow0 y 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<open>y \\<in> X\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>d>0.\n     \\<forall>x\\<in>UNIV.\n        x \\<noteq> 0 \\<and> dist x 0 < d \\<longrightarrow>\n        flow0 y x \\<noteq> y\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 y t \\<noteq> flow0 y 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n     flow0 y t \\<noteq> flow0 y 0\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n     flow0 y t \\<noteq> flow0 y 0", "have \"\\<And>s. 0 < s \\<Longrightarrow> s \\<le> r/2 \\<Longrightarrow> flow0 y s \\<noteq> flow0 y 0\""], ["proof (prove)\nusing this:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n     flow0 y t \\<noteq> flow0 y 0\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk>\n       \\<Longrightarrow> flow0 y s \\<noteq> flow0 y 0", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?s; ?s \\<le> r / 2\\<rbrakk>\n  \\<Longrightarrow> flow0 y ?s \\<noteq> flow0 y 0\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "from flow0_inj_on[OF _ _ this, of \"r/2\"]"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 \\<le> r / 2; {0..r / 2} \\<subseteq> existence_ivl0 y;\n   \\<And>s. \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk> \\<Longrightarrow> 0 < s;\n   \\<And>s.\n      \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk>\n      \\<Longrightarrow> s \\<le> r / 2\\<rbrakk>\n  \\<Longrightarrow> inj_on (flow0 y) {0..r / 2}", "obtain \"inj_on(flow0 y) {0..r/2}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> r / 2; {0..r / 2} \\<subseteq> existence_ivl0 y;\n   \\<And>s. \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk> \\<Longrightarrow> 0 < s;\n   \\<And>s.\n      \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk>\n      \\<Longrightarrow> s \\<le> r / 2\\<rbrakk>\n  \\<Longrightarrow> inj_on (flow0 y) {0..r / 2}\n\ngoal (1 subgoal):\n 1. (inj_on (flow0 y) {0..r / 2} \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using r yex"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> r / 2; {0..r / 2} \\<subseteq> existence_ivl0 y;\n   \\<And>s. \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk> \\<Longrightarrow> 0 < s;\n   \\<And>s.\n      \\<lbrakk>0 < s; s \\<le> r / 2\\<rbrakk>\n      \\<Longrightarrow> s \\<le> r / 2\\<rbrakk>\n  \\<Longrightarrow> inj_on (flow0 y) {0..r / 2}\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n     flow0 y t \\<noteq> flow0 y 0\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. (inj_on (flow0 y) {0..r / 2} \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by simp"], ["proof (state)\nthis:\n  inj_on (flow0 y) {0..r / 2}\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  inj_on (flow0 y) {0..r / 2}", "have \"infinite (flow0 y`{0..r/2})\""], ["proof (prove)\nusing this:\n  inj_on (flow0 y) {0..r / 2}\n\ngoal (1 subgoal):\n 1. infinite (flow0 y ` {0..r / 2})", "by (simp add: finite_image_iff r(1))"], ["proof (state)\nthis:\n  infinite (flow0 y ` {0..r / 2})\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  infinite (flow0 y ` {0..r / 2})\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "from \\<omega>_limit_set_invariant[of x]"], ["proof (chain)\npicking this:\n  invariant (\\<omega>_limit_set x)", "have \"flow0 y `{0..r/2} \\<subseteq> \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n\ngoal (1 subgoal):\n 1. flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x", "using y yex"], ["proof (prove)\nusing this:\n  invariant (\\<omega>_limit_set x)\n  \\<omega>_limit_set x = {y}\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x", "unfolding invariant_def trapped_iff_on_existence_ivl0"], ["proof (prove)\nusing this:\n  \\<forall>xa\\<in>\\<omega>_limit_set x.\n     flow0 xa ` existence_ivl0 xa \\<subseteq> \\<omega>_limit_set x\n  \\<omega>_limit_set x = {y}\n  existence_ivl0 y = UNIV\n\ngoal (1 subgoal):\n 1. flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x", "by auto"], ["proof (state)\nthis:\n  flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. f y \\<noteq> (0::'a) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  infinite (flow0 y ` {0..r / 2})\n  flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x", "show False"], ["proof (prove)\nusing this:\n  infinite (flow0 y ` {0..r / 2})\n  flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. False", "using y"], ["proof (prove)\nusing this:\n  infinite (flow0 y ` {0..r / 2})\n  flow0 y ` {0..r / 2} \\<subseteq> \\<omega>_limit_set x\n  \\<omega>_limit_set x = {y}\n\ngoal (1 subgoal):\n 1. False", "by (metis assms(5) finite.emptyI subset_singleton_iff)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f y = (0::'a)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<omega>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "thus ?thesis"], ["proof (prove)\nusing this:\n  f y = (0::'a)\n\ngoal (1 subgoal):\n 1. thesis", "using that y"], ["proof (prove)\nusing this:\n  f y = (0::'a)\n  \\<lbrakk>\\<omega>_limit_set x = {?y}; f ?y = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<omega>_limit_set x = {y}\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbit_periodic:\n  assumes \"closed_orbit x\" \"f x \\<noteq> 0\"\n  shows \"periodic_orbit x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. periodic_orbit x", "unfolding periodic_orbit_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x \\<and> 0 < period x", "using assms(1)"], ["proof (prove)\nusing this:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. closed_orbit x \\<and> 0 < period x", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x \\<Longrightarrow> 0 < period x", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>closed_orbit x; \\<not> 0 < period x\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"closed_orbit x\""], ["proof (state)\nthis:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>closed_orbit x; \\<not> 0 < period x\\<rbrakk>\n    \\<Longrightarrow> False", "from closed_orbit_period_nonneg[OF assms(1)]"], ["proof (chain)\npicking this:\n  0 \\<le> period x", "have nneg: \"period x \\<ge> 0\""], ["proof (prove)\nusing this:\n  0 \\<le> period x\n\ngoal (1 subgoal):\n 1. 0 \\<le> period x", "."], ["proof (state)\nthis:\n  0 \\<le> period x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>closed_orbit x; \\<not> 0 < period x\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"\\<not> 0 < period x\""], ["proof (state)\nthis:\n  \\<not> 0 < period x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>closed_orbit x; \\<not> 0 < period x\\<rbrakk>\n    \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> 0 < period x", "have \"period x = 0\""], ["proof (prove)\nusing this:\n  \\<not> 0 < period x\n\ngoal (1 subgoal):\n 1. period x = 0", "using nneg"], ["proof (prove)\nusing this:\n  \\<not> 0 < period x\n  0 \\<le> period x\n\ngoal (1 subgoal):\n 1. period x = 0", "by linarith"], ["proof (state)\nthis:\n  period x = 0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>closed_orbit x; \\<not> 0 < period x\\<rbrakk>\n    \\<Longrightarrow> False", "from closed_orbit_period_zero_fixed_point[OF assms(1) this]"], ["proof (chain)\npicking this:\n  f x = (0::'a)", "have \"f x = 0\""], ["proof (prove)\nusing this:\n  f x = (0::'a)\n\ngoal (1 subgoal):\n 1. f x = (0::'a)", "."], ["proof (state)\nthis:\n  f x = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>closed_orbit x; \\<not> 0 < period x\\<rbrakk>\n    \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  f x = (0::'a)\n\ngoal (1 subgoal):\n 1. False", "using assms(2)"], ["proof (prove)\nusing this:\n  f x = (0::'a)\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. False", "by linarith"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma periodic_orbitI:\n  assumes \"t \\<noteq> t'\" \"t \\<in> existence_ivl0 y\" \"t' \\<in> existence_ivl0 y\"\n  assumes \"flow0 y t = flow0 y t'\"\n  assumes \"f y \\<noteq> 0\"\n  shows \"periodic_orbit y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. periodic_orbit y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. periodic_orbit y", "have y:\"y \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<in> X", "using assms(3) local.mem_existence_ivl_iv_defined(2)"], ["proof (prove)\nusing this:\n  t' \\<in> existence_ivl0 y\n  ?t \\<in> existence_ivl0 ?x0.0 \\<Longrightarrow> ?x0.0 \\<in> X\n\ngoal (1 subgoal):\n 1. y \\<in> X", "by blast"], ["proof (state)\nthis:\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. periodic_orbit y", "from closed_orbitI[OF assms(1-4)]"], ["proof (chain)\npicking this:\n  closed_orbit y", "have \"closed_orbit y\""], ["proof (prove)\nusing this:\n  closed_orbit y\n\ngoal (1 subgoal):\n 1. closed_orbit y", "."], ["proof (state)\nthis:\n  closed_orbit y\n\ngoal (1 subgoal):\n 1. periodic_orbit y", "from closed_orbit_periodic[OF this assms(5)]"], ["proof (chain)\npicking this:\n  periodic_orbit y", "show ?thesis"], ["proof (prove)\nusing this:\n  periodic_orbit y\n\ngoal (1 subgoal):\n 1. periodic_orbit y", "."], ["proof (state)\nthis:\n  periodic_orbit y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma periodic_orbit_recurrence_times_closed:\n  assumes \"periodic_orbit x\"\n  shows \"closed {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "have a1:\"x \\<in> X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> X", "using assms closed_orbit_in_domain periodic_orbit_def"], ["proof (prove)\nusing this:\n  periodic_orbit x\n  closed_orbit ?x \\<Longrightarrow> ?x \\<in> X\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "have a2:\"f x \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a)", "using assms closed_orbit_in_domain fixed_point_imp_closed_orbit_period_zero(2) periodic_orbit_def"], ["proof (prove)\nusing this:\n  periodic_orbit x\n  closed_orbit ?x \\<Longrightarrow> ?x \\<in> X\n  \\<lbrakk>?x \\<in> X; f ?x = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> period ?x = 0\n  periodic_orbit ?x = (closed_orbit ?x \\<and> 0 < period ?x)\n\ngoal (1 subgoal):\n 1. f x \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  f x \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "from regular_locally_noteq[OF a1 a2]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x", "have\n    \"\\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x", "obtain r where r:\"r>0\" \"\\<forall>t. t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F t in at 0. flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 x t \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_at"], ["proof (prove)\nusing this:\n  \\<exists>d>0.\n     \\<forall>xa\\<in>UNIV.\n        xa \\<noteq> 0 \\<and> dist xa 0 < d \\<longrightarrow>\n        flow0 x xa \\<noteq> x\n\ngoal (1 subgoal):\n 1. (\\<And>r.\n        \\<lbrakk>0 < r;\n         \\<forall>t.\n            t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow>\n            flow0 x t \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\n\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "proof (auto intro!:discrete_imp_closed[OF r(1)])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> existence_ivl0 x; y \\<in> existence_ivl0 x; 0 < xa;\n        flow0 x xa = x; 0 < y; flow0 x y = x; dist y xa < r\\<rbrakk>\n       \\<Longrightarrow> y = xa", "fix t1 t2"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> existence_ivl0 x; y \\<in> existence_ivl0 x; 0 < xa;\n        flow0 x xa = x; 0 < y; flow0 x y = x; dist y xa < r\\<rbrakk>\n       \\<Longrightarrow> y = xa", "assume t12: \"t1 > 0\" \"flow0 x t1 = x\" \"t2 > 0\" \"flow0 x t2 = x\" \"dist t2 t1 < r\""], ["proof (state)\nthis:\n  0 < t1\n  flow0 x t1 = x\n  0 < t2\n  flow0 x t2 = x\n  dist t2 t1 < r\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> existence_ivl0 x; y \\<in> existence_ivl0 x; 0 < xa;\n        flow0 x xa = x; 0 < y; flow0 x y = x; dist y xa < r\\<rbrakk>\n       \\<Longrightarrow> y = xa", "then"], ["proof (chain)\npicking this:\n  0 < t1\n  flow0 x t1 = x\n  0 < t2\n  flow0 x t2 = x\n  dist t2 t1 < r", "have fx: \"flow0 x (t1-t2) = x\""], ["proof (prove)\nusing this:\n  0 < t1\n  flow0 x t1 = x\n  0 < t2\n  flow0 x t2 = x\n  dist t2 t1 < r\n\ngoal (1 subgoal):\n 1. flow0 x (t1 - t2) = x", "by (smt a1 assms closed_orbit_global_existence existence_ivl_zero general.existence_ivl_initial_time_iff local.flow_trans periodic_orbit_def)"], ["proof (state)\nthis:\n  flow0 x (t1 - t2) = x\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> existence_ivl0 x; y \\<in> existence_ivl0 x; 0 < xa;\n        flow0 x xa = x; 0 < y; flow0 x y = x; dist y xa < r\\<rbrakk>\n       \\<Longrightarrow> y = xa", "have \"dist (t1-t2) 0 < r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dist (t1 - t2) 0 < r", "using t12(5)"], ["proof (prove)\nusing this:\n  dist t2 t1 < r\n\ngoal (1 subgoal):\n 1. dist (t1 - t2) 0 < r", "by (simp add: dist_norm)"], ["proof (state)\nthis:\n  dist (t1 - t2) 0 < r\n\ngoal (1 subgoal):\n 1. \\<And>xa y.\n       \\<lbrakk>xa \\<in> existence_ivl0 x; y \\<in> existence_ivl0 x; 0 < xa;\n        flow0 x xa = x; 0 < y; flow0 x y = x; dist y xa < r\\<rbrakk>\n       \\<Longrightarrow> y = xa", "thus \"t2 = t1\""], ["proof (prove)\nusing this:\n  dist (t1 - t2) 0 < r\n\ngoal (1 subgoal):\n 1. t2 = t1", "using r fx"], ["proof (prove)\nusing this:\n  dist (t1 - t2) 0 < r\n  0 < r\n  \\<forall>t.\n     t \\<noteq> 0 \\<and> dist t 0 < r \\<longrightarrow> flow0 x t \\<noteq> x\n  flow0 x (t1 - t2) = x\n\ngoal (1 subgoal):\n 1. t2 = t1", "by smt"], ["proof (state)\nthis:\n  t2 = t1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma periodic_orbit_period:\n  assumes \"periodic_orbit x\"\n  shows \"period x > 0\" \"flow0 x (period x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < period x &&& flow0 x (period x) = x", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < period x\n 2. flow0 x (period x) = x", "from periodic_orbit_recurrence_times_closed[OF assms(1)]"], ["proof (chain)\npicking this:\n  closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "have cl: \"closed {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x}\""], ["proof (prove)\nusing this:\n  closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal (1 subgoal):\n 1. closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "."], ["proof (state)\nthis:\n  closed {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal (2 subgoals):\n 1. 0 < period x\n 2. flow0 x (period x) = x", "have \"closed_orbit x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x", "using assms(1)"], ["proof (prove)\nusing this:\n  periodic_orbit x\n\ngoal (1 subgoal):\n 1. closed_orbit x", "unfolding periodic_orbit_def"], ["proof (prove)\nusing this:\n  closed_orbit x \\<and> 0 < period x\n\ngoal (1 subgoal):\n 1. closed_orbit x", "by auto"], ["proof (state)\nthis:\n  closed_orbit x\n\ngoal (2 subgoals):\n 1. 0 < period x\n 2. flow0 x (period x) = x", "from closed_contains_Inf[OF closed_orbit_recurrence_times_nonempty[OF this]\n      closed_orbit_recurrence_times_bdd_below cl]"], ["proof (chain)\npicking this:\n  Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n  \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "have \"period x \\<in>  {T \\<in> existence_ivl0 x. T > 0 \\<and> flow0 x T = x}\""], ["proof (prove)\nusing this:\n  Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n  \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal (1 subgoal):\n 1. period x \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "unfolding period_def"], ["proof (prove)\nusing this:\n  Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n  \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal (1 subgoal):\n 1. Inf {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n    \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}", "."], ["proof (state)\nthis:\n  period x \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal (2 subgoals):\n 1. 0 < period x\n 2. flow0 x (period x) = x", "thus \"period x > 0\" \"flow0 x (period x) = x\""], ["proof (prove)\nusing this:\n  period x \\<in> {T \\<in> existence_ivl0 x. 0 < T \\<and> flow0 x T = x}\n\ngoal (1 subgoal):\n 1. 0 < period x &&& flow0 x (period x) = x", "by auto"], ["proof (state)\nthis:\n  0 < period x\n  flow0 x (period x) = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma closed_orbit_flow0:\n  assumes \"closed_orbit x\"\n  shows \"closed_orbit (flow0 x t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit (flow0 x t)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. closed_orbit (flow0 x t)", "from closed_orbit_global_existence[OF assms]"], ["proof (chain)\npicking this:\n  existence_ivl0 x = UNIV", "have \"existence_ivl0 x = UNIV\""], ["proof (prove)\nusing this:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. existence_ivl0 x = UNIV", "."], ["proof (state)\nthis:\n  existence_ivl0 x = UNIV\n\ngoal (1 subgoal):\n 1. closed_orbit (flow0 x t)", "from closed_orbitE[OF assms]"], ["proof (chain)\npicking this:\n  (\\<And>T.\n      \\<lbrakk>0 < T; \\<And>t. flow0 x (t + T) = flow0 x t\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain T where \"T > 0\" \"flow0 x (t+T) = flow0 x t\""], ["proof (prove)\nusing this:\n  (\\<And>T.\n      \\<lbrakk>0 < T; \\<And>t. flow0 x (t + T) = flow0 x t\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>T.\n        \\<lbrakk>0 < T; flow0 x (t + T) = flow0 x t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  0 < T\n  flow0 x (t + T) = flow0 x t\n\ngoal (1 subgoal):\n 1. closed_orbit (flow0 x t)", "thus ?thesis"], ["proof (prove)\nusing this:\n  0 < T\n  flow0 x (t + T) = flow0 x t\n\ngoal (1 subgoal):\n 1. closed_orbit (flow0 x t)", "unfolding closed_orbit_def"], ["proof (prove)\nusing this:\n  0 < T\n  flow0 x (t + T) = flow0 x t\n\ngoal (1 subgoal):\n 1. \\<exists>T\\<in>existence_ivl0 (flow0 x t).\n       T \\<noteq> 0 \\<and> flow0 (flow0 x t) T = flow0 x t", "by (metis UNIV_I \\<open>existence_ivl0 x = UNIV\\<close> less_irrefl local.existence_ivl_trans' local.flow_trans)"], ["proof (state)\nthis:\n  closed_orbit (flow0 x t)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma periodic_orbit_imp_flow0_regular:\n  assumes \"periodic_orbit x\"\n  shows \"f (flow0 x t) \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (flow0 x t) \\<noteq> (0::'a)", "by (metis UNIV_I assms closed_orbit_flow0 closed_orbit_global_existence closed_orbit_in_domain fixed_point_imp_closed_orbit_period_zero(2) fixpoint_sol(2) less_irrefl local.flows_reverse periodic_orbit_def)"], ["", "lemma fixed_point_imp_\\<omega>_limit_set:\n  assumes \"x \\<in> X\" \"f x = 0\"\n  shows \"\\<omega>_limit_set x = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x = {x}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x = {x}", "have \"closed_orbit x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x", "by (metis assms fixed_point_imp_closed_orbit_period_zero(1))"], ["proof (state)\nthis:\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x = {x}", "from closed_orbit_\\<omega>_limit_set[OF this]"], ["proof (chain)\npicking this:\n  range (flow0 x) = \\<omega>_limit_set x", "have \"flow0 x ` UNIV = \\<omega>_limit_set x\""], ["proof (prove)\nusing this:\n  range (flow0 x) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<omega>_limit_set x", "."], ["proof (state)\nthis:\n  range (flow0 x) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x = {x}", "thus ?thesis"], ["proof (prove)\nusing this:\n  range (flow0 x) = \\<omega>_limit_set x\n\ngoal (1 subgoal):\n 1. \\<omega>_limit_set x = {x}", "by (metis assms(1) assms(2) fixpoint_sol(2) image_empty image_insert image_subset_iff insertI1 rangeI subset_antisym)"], ["proof (state)\nthis:\n  \\<omega>_limit_set x = {x}\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "context auto_ll_on_open begin"], ["", "lemma closed_orbit_eq_rev: \"closed_orbit x = rev.closed_orbit x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. closed_orbit x = rev.closed_orbit x", "unfolding closed_orbit_def rev.closed_orbit_def rev_eq_flow rev_existence_ivl_eq0"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>T\\<in>existence_ivl0 x. T \\<noteq> 0 \\<and> flow0 x T = x) =\n    (\\<exists>T\\<in>uminus ` existence_ivl0 x.\n        T \\<noteq> 0 \\<and> flow0 x (- T) = x)", "by auto"], ["", "lemma closed_orbit_\\<alpha>_limit_set:\n  assumes \"closed_orbit x\"\n  shows \"flow0 x ` UNIV = \\<alpha>_limit_set x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<alpha>_limit_set x", "using rev.closed_orbit_\\<omega>_limit_set assms"], ["proof (prove)\nusing this:\n  rev.closed_orbit ?x \\<Longrightarrow>\n  range (rev.flow0 ?x) = rev.\\<omega>_limit_set ?x\n  closed_orbit x\n\ngoal (1 subgoal):\n 1. range (flow0 x) = \\<alpha>_limit_set x", "unfolding closed_orbit_eq_rev \\<alpha>_limit_set_eq_rev flow_image_eq_rev range_uminus"], ["proof (prove)\nusing this:\n  rev.closed_orbit ?x \\<Longrightarrow>\n  range (rev.flow0 ?x) = rev.\\<omega>_limit_set ?x\n  rev.closed_orbit x\n\ngoal (1 subgoal):\n 1. range (rev.flow0 x) = rev.\\<omega>_limit_set x", "."], ["", "lemma fixed_point_imp_\\<alpha>_limit_set:\n  assumes \"x \\<in> X\" \"f x = 0\"\n  shows \"\\<alpha>_limit_set x = {x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<alpha>_limit_set x = {x}", "using rev.fixed_point_imp_\\<omega>_limit_set assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> X; (- f) ?x = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> rev.\\<omega>_limit_set ?x = {?x}\n  x \\<in> X\n  f x = (0::'a)\n\ngoal (1 subgoal):\n 1. \\<alpha>_limit_set x = {x}", "unfolding \\<alpha>_limit_set_eq_rev"], ["proof (prove)\nusing this:\n  \\<lbrakk>?x \\<in> X; (- f) ?x = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> rev.\\<omega>_limit_set ?x = {?x}\n  x \\<in> X\n  f x = (0::'a)\n\ngoal (1 subgoal):\n 1. rev.\\<omega>_limit_set x = {x}", "by auto"], ["", "lemma finite_\\<alpha>_limit_set_in_compact_imp_unique_fixed_point:\n  assumes \"compact K\" \"K \\<subseteq> X\"\n  assumes \"x \\<in> X\"  \"trapped_backward x K\"\n  assumes \"finite (\\<alpha>_limit_set x)\"\n  obtains y where \"\\<alpha>_limit_set x = {y}\" \"f y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<alpha>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>\\<alpha>_limit_set x = {y}; f y = (0::'a)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from rev.finite_\\<omega>_limit_set_in_compact_imp_unique_fixed_point[OF\n      assms(1-5)[unfolded trapped_backward_iff_rev_trapped_forward \\<alpha>_limit_set_eq_rev]]"], ["proof (chain)\npicking this:\n  (\\<And>y.\n      \\<lbrakk>rev.\\<omega>_limit_set x = {y}; (- f) y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>rev.\\<omega>_limit_set x = {y}; (- f) y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>rev.\\<omega>_limit_set x = {y}; (- f) y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  \\<lbrakk>\\<alpha>_limit_set x = {?y}; f ?y = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "unfolding \\<alpha>_limit_set_eq_rev"], ["proof (prove)\nusing this:\n  (\\<And>y.\n      \\<lbrakk>rev.\\<omega>_limit_set x = {y}; (- f) y = (0::'a)\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n  \\<lbrakk>rev.\\<omega>_limit_set x = {?y}; f ?y = (0::'a)\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}