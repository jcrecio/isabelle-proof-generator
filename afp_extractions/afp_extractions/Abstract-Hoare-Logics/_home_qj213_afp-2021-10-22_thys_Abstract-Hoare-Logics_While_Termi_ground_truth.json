{"file_name": "/home/qj213/afp-2021-10-22/thys/Abstract-Hoare-Logics/While/Termi.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Abstract-Hoare-Logics", "problem_names": ["lemma [iff]: \"Do f \\<down> s = (f s \\<noteq> {})\"", "lemma [iff]: \"((c\\<^sub>1;c\\<^sub>2) \\<down> s\\<^sub>0) = (c\\<^sub>1 \\<down> s\\<^sub>0 \\<and> (\\<forall>s\\<^sub>1. s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow> c\\<^sub>2 \\<down> s\\<^sub>1))\"", "lemma [iff]: \"(IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) =\n              ((if b s then c\\<^sub>1 else c\\<^sub>2) \\<down> s)\"", "lemma [iff]: \"(LOCAL f;c;g \\<down> s) = (c \\<down> f s)\"", "lemma termi_while_lemma[rule_format]:\n \"w\\<down>fk \\<Longrightarrow>\n (\\<forall>k b c. fk = f k \\<and> w = WHILE b DO c \\<and> (\\<forall>i. f i -c\\<rightarrow> f(Suc i))\n          \\<longrightarrow> (\\<exists>i. \\<not>b(f i)))\"", "lemma termi_while:\n \"\\<lbrakk> (WHILE b DO c) \\<down> f k;  \\<forall>i. f i -c\\<rightarrow> f(Suc i) \\<rbrakk> \\<Longrightarrow> \\<exists>i. \\<not>b(f i)\"", "lemma wf_termi: \"wf {(t,s). WHILE b DO c \\<down> s \\<and> b s \\<and> s -c\\<rightarrow> t}\""], "translations": [["", "lemma [iff]: \"Do f \\<down> s = (f s \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Do f \\<down> s) = (f s \\<noteq> {})", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. Do f \\<down> s \\<Longrightarrow> f s \\<noteq> {}\n 2. f s \\<noteq> {} \\<Longrightarrow> Do f \\<down> s", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. f s \\<noteq> {} \\<Longrightarrow> Do f \\<down> s\n 2. Do f \\<down> s \\<Longrightarrow> f s \\<noteq> {}", "apply(best intro:termi.intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Do f \\<down> s \\<Longrightarrow> f s \\<noteq> {}", "apply(erule termi.cases)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>fa sa.\n       \\<lbrakk>Do f = Do fa; s = sa; fa sa \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 2. \\<And>c\\<^sub>1 s\\<^sub>0 c\\<^sub>2.\n       \\<lbrakk>Do f = (c\\<^sub>1; c\\<^sub>2); s = s\\<^sub>0;\n        c\\<^sub>1 \\<down> s\\<^sub>0;\n        \\<forall>s\\<^sub>1.\n           s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n           c\\<^sub>2 \\<down> s\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 3. \\<And>b sa c\\<^sub>1 c\\<^sub>2.\n       \\<lbrakk>Do f = IF b THEN c\\<^sub>1 ELSE c\\<^sub>2; s = sa; b sa;\n        c\\<^sub>1 \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 4. \\<And>b sa c\\<^sub>2 c\\<^sub>1.\n       \\<lbrakk>Do f = IF b THEN c\\<^sub>1 ELSE c\\<^sub>2; s = sa;\n        \\<not> b sa; c\\<^sub>2 \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 5. \\<And>b sa c.\n       \\<lbrakk>Do f = WHILE b DO c; s = sa; \\<not> b sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 6. \\<And>b sa c.\n       \\<lbrakk>Do f = WHILE b DO c; s = sa; b sa; c \\<down> sa;\n        \\<forall>t.\n           sa -c\\<rightarrow> t \\<longrightarrow>\n           WHILE b DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 7. \\<And>c fa sa g.\n       \\<lbrakk>Do f = LOCAL fa; c; g; s = sa; c \\<down> fa sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}", "apply blast+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma [iff]: \"((c\\<^sub>1;c\\<^sub>2) \\<down> s\\<^sub>0) = (c\\<^sub>1 \\<down> s\\<^sub>0 \\<and> (\\<forall>s\\<^sub>1. s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow> c\\<^sub>2 \\<down> s\\<^sub>1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((c\\<^sub>1; c\\<^sub>2) \\<down> s\\<^sub>0) =\n    (c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n     (\\<forall>s\\<^sub>1.\n         s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n         c\\<^sub>2 \\<down> s\\<^sub>1))", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (c\\<^sub>1; c\\<^sub>2) \\<down> s\\<^sub>0 \\<Longrightarrow>\n    c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n    (\\<forall>s\\<^sub>1.\n        s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n        c\\<^sub>2 \\<down> s\\<^sub>1)\n 2. c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n    (\\<forall>s\\<^sub>1.\n        s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n        c\\<^sub>2 \\<down> s\\<^sub>1) \\<Longrightarrow>\n    (c\\<^sub>1; c\\<^sub>2) \\<down> s\\<^sub>0", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n    (\\<forall>s\\<^sub>1.\n        s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n        c\\<^sub>2 \\<down> s\\<^sub>1) \\<Longrightarrow>\n    (c\\<^sub>1; c\\<^sub>2) \\<down> s\\<^sub>0\n 2. (c\\<^sub>1; c\\<^sub>2) \\<down> s\\<^sub>0 \\<Longrightarrow>\n    c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n    (\\<forall>s\\<^sub>1.\n        s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n        c\\<^sub>2 \\<down> s\\<^sub>1)", "apply(best intro:termi.intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c\\<^sub>1; c\\<^sub>2) \\<down> s\\<^sub>0 \\<Longrightarrow>\n    c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n    (\\<forall>s\\<^sub>1.\n        s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n        c\\<^sub>2 \\<down> s\\<^sub>1)", "apply(erule termi.cases)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>f s.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) = Do f; s\\<^sub>0 = s;\n        f s \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)\n 2. \\<And>c\\<^sub>1' s\\<^sub>0' c\\<^sub>2'.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) = (c\\<^sub>1'; c\\<^sub>2');\n        s\\<^sub>0 = s\\<^sub>0'; c\\<^sub>1' \\<down> s\\<^sub>0';\n        \\<forall>s\\<^sub>1.\n           s\\<^sub>0' -c\\<^sub>1'\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n           c\\<^sub>2' \\<down> s\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)\n 3. \\<And>b s c\\<^sub>1' c\\<^sub>2'.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) =\n                IF b THEN c\\<^sub>1' ELSE c\\<^sub>2';\n        s\\<^sub>0 = s; b s; c\\<^sub>1' \\<down> s\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)\n 4. \\<And>b s c\\<^sub>2' c\\<^sub>1'.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) =\n                IF b THEN c\\<^sub>1' ELSE c\\<^sub>2';\n        s\\<^sub>0 = s; \\<not> b s; c\\<^sub>2' \\<down> s\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)\n 5. \\<And>b s c.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) = WHILE b DO c; s\\<^sub>0 = s;\n        \\<not> b s\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)\n 6. \\<And>b s c.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) = WHILE b DO c; s\\<^sub>0 = s; b s;\n        c \\<down> s;\n        \\<forall>t.\n           s -c\\<rightarrow> t \\<longrightarrow>\n           WHILE b DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)\n 7. \\<And>c f s g.\n       \\<lbrakk>(c\\<^sub>1; c\\<^sub>2) = LOCAL f; c; g; s\\<^sub>0 = s;\n        c \\<down> f s\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\\<^sub>0 \\<and>\n                         (\\<forall>s\\<^sub>1.\n                             s\\<^sub>0 -c\\<^sub>1\\<rightarrow>\n                             s\\<^sub>1 \\<longrightarrow>\n                             c\\<^sub>2 \\<down> s\\<^sub>1)", "apply blast+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma [iff]: \"(IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) =\n              ((if b s then c\\<^sub>1 else c\\<^sub>2) \\<down> s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) =\n    ((if b s then c\\<^sub>1 else c\\<^sub>2) \\<down> s)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (b s \\<longrightarrow>\n     (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) =\n     (c\\<^sub>1 \\<down> s)) \\<and>\n    (\\<not> b s \\<longrightarrow>\n     (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s))", "apply(rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>1 \\<down> s)\n 2. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply(rule impI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. b s \\<Longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>1 \\<down> s)\n 2. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply(rule iffI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 2. \\<lbrakk>b s; c\\<^sub>1 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\n 3. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>b s; c\\<^sub>1 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\n 2. \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 3. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply(blast intro:termi.intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 2. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply(erule termi.cases)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>f sa.\n       \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = Do f; s = sa;\n        f sa \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 2. \\<And>c\\<^sub>1' s\\<^sub>0 c\\<^sub>2'.\n       \\<lbrakk>b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = (c\\<^sub>1'; c\\<^sub>2');\n        s = s\\<^sub>0; c\\<^sub>1' \\<down> s\\<^sub>0;\n        \\<forall>s\\<^sub>1.\n           s\\<^sub>0 -c\\<^sub>1'\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n           c\\<^sub>2' \\<down> s\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 3. \\<And>ba sa c\\<^sub>1' c\\<^sub>2'.\n       \\<lbrakk>b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 =\n        IF ba THEN c\\<^sub>1' ELSE c\\<^sub>2';\n        s = sa; ba sa; c\\<^sub>1' \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 4. \\<And>ba sa c\\<^sub>2' c\\<^sub>1'.\n       \\<lbrakk>b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 =\n        IF ba THEN c\\<^sub>1' ELSE c\\<^sub>2';\n        s = sa; \\<not> ba sa; c\\<^sub>2' \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 5. \\<And>ba sa c.\n       \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = WHILE ba DO c;\n        s = sa; \\<not> ba sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 6. \\<And>ba sa c.\n       \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = WHILE ba DO c;\n        s = sa; ba sa; c \\<down> sa;\n        \\<forall>t.\n           sa -c\\<rightarrow> t \\<longrightarrow>\n           WHILE ba DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 7. \\<And>c f sa g.\n       \\<lbrakk>b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = LOCAL f; c; g;\n        s = sa; c \\<down> f sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>1 \\<down> s\n 8. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply blast+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> b s \\<longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply(rule impI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> b s \\<Longrightarrow>\n    (IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s) = (c\\<^sub>2 \\<down> s)", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> b s;\n     IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 2. \\<lbrakk>\\<not> b s; c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> b s; c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\n 2. \\<lbrakk>\\<not> b s;\n     IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c\\<^sub>2 \\<down> s", "apply(blast intro:termi.intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> b s;\n     IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c\\<^sub>2 \\<down> s", "apply(erule termi.cases)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>f sa.\n       \\<lbrakk>\\<not> b s; IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = Do f;\n        s = sa; f sa \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 2. \\<And>c\\<^sub>1' s\\<^sub>0 c\\<^sub>2'.\n       \\<lbrakk>\\<not> b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = (c\\<^sub>1'; c\\<^sub>2');\n        s = s\\<^sub>0; c\\<^sub>1' \\<down> s\\<^sub>0;\n        \\<forall>s\\<^sub>1.\n           s\\<^sub>0 -c\\<^sub>1'\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n           c\\<^sub>2' \\<down> s\\<^sub>1\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 3. \\<And>ba sa c\\<^sub>1' c\\<^sub>2'.\n       \\<lbrakk>\\<not> b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 =\n        IF ba THEN c\\<^sub>1' ELSE c\\<^sub>2';\n        s = sa; ba sa; c\\<^sub>1' \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 4. \\<And>ba sa c\\<^sub>2' c\\<^sub>1'.\n       \\<lbrakk>\\<not> b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 =\n        IF ba THEN c\\<^sub>1' ELSE c\\<^sub>2';\n        s = sa; \\<not> ba sa; c\\<^sub>2' \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 5. \\<And>ba sa c.\n       \\<lbrakk>\\<not> b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = WHILE ba DO c; s = sa;\n        \\<not> ba sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 6. \\<And>ba sa c.\n       \\<lbrakk>\\<not> b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = WHILE ba DO c; s = sa; ba sa;\n        c \\<down> sa;\n        \\<forall>t.\n           sa -c\\<rightarrow> t \\<longrightarrow>\n           WHILE ba DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s\n 7. \\<And>c f sa g.\n       \\<lbrakk>\\<not> b s;\n        IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 = LOCAL f; c; g; s = sa;\n        c \\<down> f sa\\<rbrakk>\n       \\<Longrightarrow> c\\<^sub>2 \\<down> s", "apply blast+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma [iff]: \"(LOCAL f;c;g \\<down> s) = (c \\<down> f s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (LOCAL f; c; g \\<down> s) = (c \\<down> f s)", "by(fast elim: termi.cases intro:termi.intros)"], ["", "lemma termi_while_lemma[rule_format]:\n \"w\\<down>fk \\<Longrightarrow>\n (\\<forall>k b c. fk = f k \\<and> w = WHILE b DO c \\<and> (\\<forall>i. f i -c\\<rightarrow> f(Suc i))\n          \\<longrightarrow> (\\<exists>i. \\<not>b(f i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<down> fk \\<Longrightarrow>\n    \\<forall>k b c.\n       fk = f k \\<and>\n       w = WHILE b DO c \\<and>\n       (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n       (\\<exists>i. \\<not> b (f i))", "apply(erule termi.induct)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>fa s.\n       fa s \\<noteq> {} \\<Longrightarrow>\n       \\<forall>k b c.\n          s = f k \\<and>\n          Do fa = WHILE b DO c \\<and>\n          (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n          (\\<exists>i. \\<not> b (f i))\n 2. \\<And>c\\<^sub>1 s\\<^sub>0 c\\<^sub>2.\n       \\<lbrakk>c\\<^sub>1 \\<down> s\\<^sub>0;\n        \\<forall>k b c.\n           s\\<^sub>0 = f k \\<and>\n           c\\<^sub>1 = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<forall>s\\<^sub>1.\n           s\\<^sub>0 -c\\<^sub>1\\<rightarrow> s\\<^sub>1 \\<longrightarrow>\n           c\\<^sub>2 \\<down> s\\<^sub>1 \\<and>\n           (\\<forall>k b c.\n               s\\<^sub>1 = f k \\<and>\n               c\\<^sub>2 = WHILE b DO c \\<and>\n               (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n               (\\<exists>i. \\<not> b (f i)))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k b c.\n                            s\\<^sub>0 = f k \\<and>\n                            (c\\<^sub>1; c\\<^sub>2) = WHILE b DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> b (f i))\n 3. \\<And>b s c\\<^sub>1 c\\<^sub>2.\n       \\<lbrakk>b s; c\\<^sub>1 \\<down> s;\n        \\<forall>k b c.\n           s = f k \\<and>\n           c\\<^sub>1 = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k ba c.\n                            s = f k \\<and>\n                            IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 =\n                            WHILE ba DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> ba (f i))\n 4. \\<And>b s c\\<^sub>2 c\\<^sub>1.\n       \\<lbrakk>\\<not> b s; c\\<^sub>2 \\<down> s;\n        \\<forall>k b c.\n           s = f k \\<and>\n           c\\<^sub>2 = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k ba c.\n                            s = f k \\<and>\n                            IF b THEN c\\<^sub>1 ELSE c\\<^sub>2 =\n                            WHILE ba DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> ba (f i))\n 5. \\<And>b s c.\n       \\<not> b s \\<Longrightarrow>\n       \\<forall>k ba ca.\n          s = f k \\<and>\n          WHILE b DO c = WHILE ba DO ca \\<and>\n          (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n          (\\<exists>i. \\<not> ba (f i))\n 6. \\<And>b s c.\n       \\<lbrakk>b s; c \\<down> s;\n        \\<forall>k b ca.\n           s = f k \\<and>\n           c = WHILE b DO ca \\<and>\n           (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<forall>t.\n           s -c\\<rightarrow> t \\<longrightarrow>\n           WHILE b DO c \\<down> t \\<and>\n           (\\<forall>k ba ca.\n               t = f k \\<and>\n               WHILE b DO c = WHILE ba DO ca \\<and>\n               (\\<forall>i. f i -ca\\<rightarrow>\n                   f (Suc i)) \\<longrightarrow>\n               (\\<exists>i. \\<not> ba (f i)))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k ba ca.\n                            s = f k \\<and>\n                            WHILE b DO c = WHILE ba DO ca \\<and>\n                            (\\<forall>i. f i -ca\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> ba (f i))\n 7. \\<And>c fa s g.\n       \\<lbrakk>c \\<down> fa s;\n        \\<forall>k b ca.\n           fa s = f k \\<and>\n           c = WHILE b DO ca \\<and>\n           (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k b ca.\n                            s = f k \\<and>\n                            LOCAL fa; c; g = WHILE b DO ca \\<and>\n                            (\\<forall>i. f i -ca\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> b (f i))", "apply simp_all"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>b s c.\n       \\<not> b s \\<Longrightarrow>\n       (\\<exists>k. s = f k) \\<and>\n       (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n       (\\<exists>i. \\<not> b (f i))\n 2. \\<And>b s c.\n       \\<lbrakk>b s; c \\<down> s;\n        \\<forall>k b.\n           s = f k \\<and>\n           (\\<exists>ca.\n               c = WHILE b DO ca \\<and>\n               (\\<forall>i. f i -ca\\<rightarrow>\n                   f (Suc i))) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<forall>t.\n           s -c\\<rightarrow> t \\<longrightarrow>\n           WHILE b DO c \\<down> t \\<and>\n           ((\\<exists>k. t = f k) \\<and>\n            (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n            (\\<exists>i. \\<not> b (f i)))\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>k. s = f k) \\<and>\n                         (\\<forall>i. f i -c\\<rightarrow>\n                             f (Suc i)) \\<longrightarrow>\n                         (\\<exists>i. \\<not> b (f i))", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>b s c.\n       \\<lbrakk>b s; c \\<down> s;\n        \\<forall>k b.\n           s = f k \\<and>\n           (\\<exists>ca.\n               c = WHILE b DO ca \\<and>\n               (\\<forall>i. f i -ca\\<rightarrow>\n                   f (Suc i))) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<forall>t.\n           s -c\\<rightarrow> t \\<longrightarrow>\n           WHILE b DO c \\<down> t \\<and>\n           ((\\<exists>k. t = f k) \\<and>\n            (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n            (\\<exists>i. \\<not> b (f i)))\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>k. s = f k) \\<and>\n                         (\\<forall>i. f i -c\\<rightarrow>\n                             f (Suc i)) \\<longrightarrow>\n                         (\\<exists>i. \\<not> b (f i))", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma termi_while:\n \"\\<lbrakk> (WHILE b DO c) \\<down> f k;  \\<forall>i. f i -c\\<rightarrow> f(Suc i) \\<rbrakk> \\<Longrightarrow> \\<exists>i. \\<not>b(f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>WHILE b DO c \\<down> f k;\n     \\<forall>i. f i -c\\<rightarrow> f (Suc i)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>i. \\<not> b (f i)", "by(blast intro:termi_while_lemma)"], ["", "lemma wf_termi: \"wf {(t,s). WHILE b DO c \\<down> s \\<and> b s \\<and> s -c\\<rightarrow> t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf {(t, s).\n        WHILE b DO c \\<down> s \\<and> b s \\<and> s -c\\<rightarrow> t}", "apply(subst wf_iff_no_infinite_down_chain)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>f.\n       \\<forall>i.\n          (f (Suc i), f i)\n          \\<in> {(t, s).\n                 WHILE b DO c \\<down> s \\<and>\n                 b s \\<and> s -c\\<rightarrow> t}", "apply(rule notI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>f.\n       \\<forall>i.\n          (f (Suc i), f i)\n          \\<in> {(t, s).\n                 WHILE b DO c \\<down> s \\<and>\n                 b s \\<and> s -c\\<rightarrow> t} \\<Longrightarrow>\n    False", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<forall>i.\n          WHILE b DO c \\<down> f i \\<and>\n          b (f i) \\<and> f i -c\\<rightarrow> f (Suc i) \\<Longrightarrow>\n       False", "apply(insert termi_while)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>i.\n                   WHILE b DO c \\<down> f i \\<and>\n                   b (f i) \\<and> f i -c\\<rightarrow> f (Suc i);\n        \\<And>b c f k.\n           \\<lbrakk>WHILE b DO c \\<down> f k;\n            \\<forall>i. f i -c\\<rightarrow> f (Suc i)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i. \\<not> b (f i)\\<rbrakk>\n       \\<Longrightarrow> False", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}