{"file_name": "/home/qj213/afp-2021-10-22/thys/Abstract-Hoare-Logics/Procs/PsTermi.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Abstract-Hoare-Logics", "problem_names": ["lemma [iff]: \"(Do f \\<down> s) = (f s \\<noteq> {})\"", "lemma [iff]: \"((c1;c2) \\<down> s0) = (c1 \\<down> s0 \\<and> (\\<forall>s1. s0 -c1\\<rightarrow> s1 \\<longrightarrow> c2 \\<down> s1))\"", "lemma [iff]: \"(IF b THEN c1 ELSE c2 \\<down> s) =\n              ((if b s then c1 else c2) \\<down> s)\"", "lemma [iff]: \"(CALL p \\<down> s) = (body p \\<down> s)\"", "lemma [iff]: \"(LOCAL f;c;g \\<down> s) = (c \\<down> f s)\"", "lemma termi_while_lemma[rule_format]:\n \"w\\<down>fk \\<Longrightarrow>\n (\\<forall>k b c. fk = f k \\<and> w = WHILE b DO c \\<and> (\\<forall>i. f i -c\\<rightarrow> f(Suc i))\n          \\<longrightarrow> (\\<exists>i. \\<not>b(f i)))\"", "lemma termi_while:\n \"\\<lbrakk> (WHILE b DO c) \\<down> f k;  \\<forall>i. f i -c\\<rightarrow> f(Suc i) \\<rbrakk> \\<Longrightarrow> \\<exists>i. \\<not>b(f i)\"", "lemma wf_termi: \"wf {(t,s). WHILE b DO c \\<down> s \\<and> b s \\<and> s -c\\<rightarrow> t}\""], "translations": [["", "lemma [iff]: \"(Do f \\<down> s) = (f s \\<noteq> {})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Do f \\<down> s) = (f s \\<noteq> {})", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. Do f \\<down> s \\<Longrightarrow> f s \\<noteq> {}\n 2. f s \\<noteq> {} \\<Longrightarrow> Do f \\<down> s", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. f s \\<noteq> {} \\<Longrightarrow> Do f \\<down> s\n 2. Do f \\<down> s \\<Longrightarrow> f s \\<noteq> {}", "apply(best intro:termi.intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. Do f \\<down> s \\<Longrightarrow> f s \\<noteq> {}", "apply(erule termi.cases)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>fa sa.\n       \\<lbrakk>Do f = Do fa; s = sa; fa sa \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 2. \\<And>c1 s0 c2.\n       \\<lbrakk>Do f = (c1; c2); s = s0; c1 \\<down> s0;\n        \\<And>s1.\n           s0 -c1\\<rightarrow> s1 \\<Longrightarrow> c2 \\<down> s1\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 3. \\<And>b sa c1 c2.\n       \\<lbrakk>Do f = IF b THEN c1 ELSE c2; s = sa; b sa;\n        c1 \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 4. \\<And>b sa c2 c1.\n       \\<lbrakk>Do f = IF b THEN c1 ELSE c2; s = sa; \\<not> b sa;\n        c2 \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 5. \\<And>b sa c.\n       \\<lbrakk>Do f = WHILE b DO c; s = sa; \\<not> b sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 6. \\<And>b sa c.\n       \\<lbrakk>Do f = WHILE b DO c; s = sa; b sa; c \\<down> sa;\n        \\<And>t.\n           sa -c\\<rightarrow> t \\<Longrightarrow>\n           WHILE b DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 7. \\<And>p sa.\n       \\<lbrakk>Do f = CALL p; s = sa; body p \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}\n 8. \\<And>c fa sa g.\n       \\<lbrakk>Do f = LOCAL fa; c; g; s = sa; c \\<down> fa sa\\<rbrakk>\n       \\<Longrightarrow> f s \\<noteq> {}", "apply blast+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma [iff]: \"((c1;c2) \\<down> s0) = (c1 \\<down> s0 \\<and> (\\<forall>s1. s0 -c1\\<rightarrow> s1 \\<longrightarrow> c2 \\<down> s1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((c1; c2) \\<down> s0) =\n    (c1 \\<down> s0 \\<and>\n     (\\<forall>s1. s0 -c1\\<rightarrow> s1 \\<longrightarrow> c2 \\<down> s1))", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (c1; c2) \\<down> s0 \\<Longrightarrow>\n    c1 \\<down> s0 \\<and>\n    (\\<forall>s1. s0 -c1\\<rightarrow> s1 \\<longrightarrow> c2 \\<down> s1)\n 2. c1 \\<down> s0 \\<and>\n    (\\<forall>s1.\n        s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n        c2 \\<down> s1) \\<Longrightarrow>\n    (c1; c2) \\<down> s0", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. c1 \\<down> s0 \\<and>\n    (\\<forall>s1.\n        s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n        c2 \\<down> s1) \\<Longrightarrow>\n    (c1; c2) \\<down> s0\n 2. (c1; c2) \\<down> s0 \\<Longrightarrow>\n    c1 \\<down> s0 \\<and>\n    (\\<forall>s1. s0 -c1\\<rightarrow> s1 \\<longrightarrow> c2 \\<down> s1)", "apply(best intro:termi.intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (c1; c2) \\<down> s0 \\<Longrightarrow>\n    c1 \\<down> s0 \\<and>\n    (\\<forall>s1. s0 -c1\\<rightarrow> s1 \\<longrightarrow> c2 \\<down> s1)", "apply(erule termi.cases)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>f s.\n       \\<lbrakk>(c1; c2) = Do f; s0 = s; f s \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 2. \\<And>c1a s0a c2a.\n       \\<lbrakk>(c1; c2) = (c1a; c2a); s0 = s0a; c1a \\<down> s0a;\n        \\<And>s1.\n           s0a -c1a\\<rightarrow> s1 \\<Longrightarrow>\n           c2a \\<down> s1\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 3. \\<And>b s c1a c2a.\n       \\<lbrakk>(c1; c2) = IF b THEN c1a ELSE c2a; s0 = s; b s;\n        c1a \\<down> s\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 4. \\<And>b s c2a c1a.\n       \\<lbrakk>(c1; c2) = IF b THEN c1a ELSE c2a; s0 = s; \\<not> b s;\n        c2a \\<down> s\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 5. \\<And>b s c.\n       \\<lbrakk>(c1; c2) = WHILE b DO c; s0 = s; \\<not> b s\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 6. \\<And>b s c.\n       \\<lbrakk>(c1; c2) = WHILE b DO c; s0 = s; b s; c \\<down> s;\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow>\n           WHILE b DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 7. \\<And>p s.\n       \\<lbrakk>(c1; c2) = CALL p; s0 = s; body p \\<down> s\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)\n 8. \\<And>c f s g.\n       \\<lbrakk>(c1; c2) = LOCAL f; c; g; s0 = s; c \\<down> f s\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s0 \\<and>\n                         (\\<forall>s1.\n                             s0 -c1\\<rightarrow> s1 \\<longrightarrow>\n                             c2 \\<down> s1)", "apply blast+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma [iff]: \"(IF b THEN c1 ELSE c2 \\<down> s) =\n              ((if b s then c1 else c2) \\<down> s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (IF b THEN c1 ELSE c2 \\<down> s) = ((if b s then c1 else c2) \\<down> s)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. (b s \\<longrightarrow>\n     (IF b THEN c1 ELSE c2 \\<down> s) = (c1 \\<down> s)) \\<and>\n    (\\<not> b s \\<longrightarrow>\n     (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s))", "apply(rule conjI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. b s \\<longrightarrow> (IF b THEN c1 ELSE c2 \\<down> s) = (c1 \\<down> s)\n 2. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply(rule impI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. b s \\<Longrightarrow> (IF b THEN c1 ELSE c2 \\<down> s) = (c1 \\<down> s)\n 2. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply(rule iffI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>b s; IF b THEN c1 ELSE c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c1 \\<down> s\n 2. \\<lbrakk>b s; c1 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c1 ELSE c2 \\<down> s\n 3. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>b s; c1 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c1 ELSE c2 \\<down> s\n 2. \\<lbrakk>b s; IF b THEN c1 ELSE c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c1 \\<down> s\n 3. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply(blast intro:termi.intros)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>b s; IF b THEN c1 ELSE c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c1 \\<down> s\n 2. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply(erule termi.cases)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>f sa.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = Do f; s = sa;\n        f sa \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 2. \\<And>c1a s0 c2a.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = (c1a; c2a); s = s0;\n        c1a \\<down> s0;\n        \\<And>s1.\n           s0 -c1a\\<rightarrow> s1 \\<Longrightarrow> c2a \\<down> s1\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 3. \\<And>ba sa c1a c2a.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = IF ba THEN c1a ELSE c2a; s = sa;\n        ba sa; c1a \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 4. \\<And>ba sa c2a c1a.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = IF ba THEN c1a ELSE c2a; s = sa;\n        \\<not> ba sa; c2a \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 5. \\<And>ba sa c.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = WHILE ba DO c; s = sa;\n        \\<not> ba sa\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 6. \\<And>ba sa c.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = WHILE ba DO c; s = sa; ba sa;\n        c \\<down> sa;\n        \\<And>t.\n           sa -c\\<rightarrow> t \\<Longrightarrow>\n           WHILE ba DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 7. \\<And>p sa.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = CALL p; s = sa;\n        body p \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 8. \\<And>c f sa g.\n       \\<lbrakk>b s; IF b THEN c1 ELSE c2 = LOCAL f; c; g; s = sa;\n        c \\<down> f sa\\<rbrakk>\n       \\<Longrightarrow> c1 \\<down> s\n 9. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply blast+"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> b s \\<longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply(rule impI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> b s \\<Longrightarrow>\n    (IF b THEN c1 ELSE c2 \\<down> s) = (c2 \\<down> s)", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c2 \\<down> s\n 2. \\<lbrakk>\\<not> b s; c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c1 ELSE c2 \\<down> s", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<not> b s; c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> IF b THEN c1 ELSE c2 \\<down> s\n 2. \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c2 \\<down> s", "apply(blast intro:termi.intros)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 \\<down> s\\<rbrakk>\n    \\<Longrightarrow> c2 \\<down> s", "apply(erule termi.cases)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>f sa.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = Do f; s = sa;\n        f sa \\<noteq> {}\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 2. \\<And>c1a s0 c2a.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = (c1a; c2a); s = s0;\n        c1a \\<down> s0;\n        \\<And>s1.\n           s0 -c1a\\<rightarrow> s1 \\<Longrightarrow> c2a \\<down> s1\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 3. \\<And>ba sa c1a c2a.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = IF ba THEN c1a ELSE c2a;\n        s = sa; ba sa; c1a \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 4. \\<And>ba sa c2a c1a.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = IF ba THEN c1a ELSE c2a;\n        s = sa; \\<not> ba sa; c2a \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 5. \\<And>ba sa c.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = WHILE ba DO c; s = sa;\n        \\<not> ba sa\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 6. \\<And>ba sa c.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = WHILE ba DO c; s = sa;\n        ba sa; c \\<down> sa;\n        \\<And>t.\n           sa -c\\<rightarrow> t \\<Longrightarrow>\n           WHILE ba DO c \\<down> t\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 7. \\<And>p sa.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = CALL p; s = sa;\n        body p \\<down> sa\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s\n 8. \\<And>c f sa g.\n       \\<lbrakk>\\<not> b s; IF b THEN c1 ELSE c2 = LOCAL f; c; g; s = sa;\n        c \\<down> f sa\\<rbrakk>\n       \\<Longrightarrow> c2 \\<down> s", "apply blast+"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma [iff]: \"(CALL p \\<down> s) = (body p \\<down> s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (CALL p \\<down> s) = (body p \\<down> s)", "by(fast elim: termi.cases intro:termi.intros)"], ["", "lemma [iff]: \"(LOCAL f;c;g \\<down> s) = (c \\<down> f s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (LOCAL f; c; g \\<down> s) = (c \\<down> f s)", "by(fast elim: termi.cases intro:termi.intros)"], ["", "lemma termi_while_lemma[rule_format]:\n \"w\\<down>fk \\<Longrightarrow>\n (\\<forall>k b c. fk = f k \\<and> w = WHILE b DO c \\<and> (\\<forall>i. f i -c\\<rightarrow> f(Suc i))\n          \\<longrightarrow> (\\<exists>i. \\<not>b(f i)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<down> fk \\<Longrightarrow>\n    \\<forall>k b c.\n       fk = f k \\<and>\n       w = WHILE b DO c \\<and>\n       (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n       (\\<exists>i. \\<not> b (f i))", "apply(erule termi.induct)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>fa s.\n       fa s \\<noteq> {} \\<Longrightarrow>\n       \\<forall>k b c.\n          s = f k \\<and>\n          Do fa = WHILE b DO c \\<and>\n          (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n          (\\<exists>i. \\<not> b (f i))\n 2. \\<And>c1 s0 c2.\n       \\<lbrakk>c1 \\<down> s0;\n        \\<forall>k b c.\n           s0 = f k \\<and>\n           c1 = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<And>s1. s0 -c1\\<rightarrow> s1 \\<Longrightarrow> c2 \\<down> s1;\n        \\<And>s1.\n           s0 -c1\\<rightarrow> s1 \\<Longrightarrow>\n           \\<forall>k b c.\n              s1 = f k \\<and>\n              c2 = WHILE b DO c \\<and>\n              (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n              (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k b c.\n                            s0 = f k \\<and>\n                            (c1; c2) = WHILE b DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> b (f i))\n 3. \\<And>b s c1 c2.\n       \\<lbrakk>b s; c1 \\<down> s;\n        \\<forall>k b c.\n           s = f k \\<and>\n           c1 = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k ba c.\n                            s = f k \\<and>\n                            IF b THEN c1 ELSE c2 = WHILE ba DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> ba (f i))\n 4. \\<And>b s c2 c1.\n       \\<lbrakk>\\<not> b s; c2 \\<down> s;\n        \\<forall>k b c.\n           s = f k \\<and>\n           c2 = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k ba c.\n                            s = f k \\<and>\n                            IF b THEN c1 ELSE c2 = WHILE ba DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> ba (f i))\n 5. \\<And>b s c.\n       \\<not> b s \\<Longrightarrow>\n       \\<forall>k ba ca.\n          s = f k \\<and>\n          WHILE b DO c = WHILE ba DO ca \\<and>\n          (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n          (\\<exists>i. \\<not> ba (f i))\n 6. \\<And>b s c.\n       \\<lbrakk>b s; c \\<down> s;\n        \\<forall>k b ca.\n           s = f k \\<and>\n           c = WHILE b DO ca \\<and>\n           (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow> WHILE b DO c \\<down> t;\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow>\n           \\<forall>k ba ca.\n              t = f k \\<and>\n              WHILE b DO c = WHILE ba DO ca \\<and>\n              (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n              (\\<exists>i. \\<not> ba (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k ba ca.\n                            s = f k \\<and>\n                            WHILE b DO c = WHILE ba DO ca \\<and>\n                            (\\<forall>i. f i -ca\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> ba (f i))\n 7. \\<And>p s.\n       \\<lbrakk>body p \\<down> s;\n        \\<forall>k b c.\n           s = f k \\<and>\n           body p = WHILE b DO c \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k b c.\n                            s = f k \\<and>\n                            CALL p = WHILE b DO c \\<and>\n                            (\\<forall>i. f i -c\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> b (f i))\n 8. \\<And>c fa s g.\n       \\<lbrakk>c \\<down> fa s;\n        \\<forall>k b ca.\n           fa s = f k \\<and>\n           c = WHILE b DO ca \\<and>\n           (\\<forall>i. f i -ca\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>k b ca.\n                            s = f k \\<and>\n                            LOCAL fa; c; g = WHILE b DO ca \\<and>\n                            (\\<forall>i. f i -ca\\<rightarrow>\n                                f (Suc i)) \\<longrightarrow>\n                            (\\<exists>i. \\<not> b (f i))", "apply simp_all"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>b s c.\n       \\<not> b s \\<Longrightarrow>\n       (\\<exists>k. s = f k) \\<and>\n       (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n       (\\<exists>i. \\<not> b (f i))\n 2. \\<And>b s c.\n       \\<lbrakk>b s; c \\<down> s;\n        \\<forall>k b.\n           s = f k \\<and>\n           (\\<exists>ca.\n               c = WHILE b DO ca \\<and>\n               (\\<forall>i. f i -ca\\<rightarrow>\n                   f (Suc i))) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow> WHILE b DO c \\<down> t;\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow>\n           (\\<exists>k. t = f k) \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>k. s = f k) \\<and>\n                         (\\<forall>i. f i -c\\<rightarrow>\n                             f (Suc i)) \\<longrightarrow>\n                         (\\<exists>i. \\<not> b (f i))", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>b s c.\n       \\<lbrakk>b s; c \\<down> s;\n        \\<forall>k b.\n           s = f k \\<and>\n           (\\<exists>ca.\n               c = WHILE b DO ca \\<and>\n               (\\<forall>i. f i -ca\\<rightarrow>\n                   f (Suc i))) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i));\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow> WHILE b DO c \\<down> t;\n        \\<And>t.\n           s -c\\<rightarrow> t \\<Longrightarrow>\n           (\\<exists>k. t = f k) \\<and>\n           (\\<forall>i. f i -c\\<rightarrow> f (Suc i)) \\<longrightarrow>\n           (\\<exists>i. \\<not> b (f i))\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>k. s = f k) \\<and>\n                         (\\<forall>i. f i -c\\<rightarrow>\n                             f (Suc i)) \\<longrightarrow>\n                         (\\<exists>i. \\<not> b (f i))", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma termi_while:\n \"\\<lbrakk> (WHILE b DO c) \\<down> f k;  \\<forall>i. f i -c\\<rightarrow> f(Suc i) \\<rbrakk> \\<Longrightarrow> \\<exists>i. \\<not>b(f i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>WHILE b DO c \\<down> f k;\n     \\<forall>i. f i -c\\<rightarrow> f (Suc i)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>i. \\<not> b (f i)", "by(blast intro:termi_while_lemma)"], ["", "lemma wf_termi: \"wf {(t,s). WHILE b DO c \\<down> s \\<and> b s \\<and> s -c\\<rightarrow> t}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf {(t, s).\n        WHILE b DO c \\<down> s \\<and> b s \\<and> s -c\\<rightarrow> t}", "apply(subst wf_iff_no_infinite_down_chain)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>f.\n       \\<forall>i.\n          (f (Suc i), f i)\n          \\<in> {(t, s).\n                 WHILE b DO c \\<down> s \\<and>\n                 b s \\<and> s -c\\<rightarrow> t}", "apply(rule notI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>f.\n       \\<forall>i.\n          (f (Suc i), f i)\n          \\<in> {(t, s).\n                 WHILE b DO c \\<down> s \\<and>\n                 b s \\<and> s -c\\<rightarrow> t} \\<Longrightarrow>\n    False", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<forall>i.\n          WHILE b DO c \\<down> f i \\<and>\n          b (f i) \\<and> f i -c\\<rightarrow> f (Suc i) \\<Longrightarrow>\n       False", "apply(insert termi_while)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<lbrakk>\\<forall>i.\n                   WHILE b DO c \\<down> f i \\<and>\n                   b (f i) \\<and> f i -c\\<rightarrow> f (Suc i);\n        \\<And>b c f k.\n           \\<lbrakk>WHILE b DO c \\<down> f k;\n            \\<forall>i. f i -c\\<rightarrow> f (Suc i)\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i. \\<not> b (f i)\\<rbrakk>\n       \\<Longrightarrow> False", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "end"]]}