{"file_name": "/home/qj213/afp-2021-10-22/thys/Propositional_Proof_Systems/Tseytin.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Propositional_Proof_Systems", "problem_names": ["lemma fold_pair_upd_triv: \"A \\<notin> fst ` set U \\<Longrightarrow> foldl pair_fun_upd F U A = F A\"", "lemma distinct_pair_update_one: \"(k,v) \\<in> set U \\<Longrightarrow> distinct (map fst U) \\<Longrightarrow> foldl pair_fun_upd F U k = v\"", "lemma distinct_zipunzip: \"distinct xs \\<Longrightarrow> distinct (map fst (zip xs ys))\"", "lemma foldl_pair_fun_upd_map_of: \"distinct (map fst U) \\<Longrightarrow> foldl pair_fun_upd F U = (\\<lambda>k. case map_of U k of Some v \\<Rightarrow> v | None \\<Rightarrow> F k)\"", "lemma map_of_map_apsnd: \"map_of (map (apsnd t) M) = map_option t \\<circ> (map_of M)\"", "lemma atoms_biimp[simp]: \"atoms (F \\<^bold>\\<leftrightarrow> G) = atoms F \\<union> atoms G\"", "lemma biimp_size[simp]: \"size (F \\<^bold>\\<leftrightarrow> G) = (2 * (size F + size G)) + 3\"", "lemma length_nfresh: \"length (nfresh S n) = n\"", "lemma nfresh_isfresh: \"finite S \\<Longrightarrow> set (nfresh S n) \\<inter> S = {}\"", "lemma nfresh_distinct: \"finite S \\<Longrightarrow> distinct (nfresh S n)\"", "lemma tseytin_assmt_distinct: \"distinct (map fst (tseytin_assmt F))\"", "lemma tseytin_assmt_has: \"G \\<in> set (subformulae F) \\<Longrightarrow> \\<exists>n. (n,G) \\<in> set (tseytin_assmt F)\"", "lemma tseytin_assmt_new_atoms: \"(k,l) \\<in> set (tseytin_assmt F) \\<Longrightarrow> k \\<notin> atoms F\"", "lemma distinct_snd_tseytin_assmt: \"distinct (map snd (tseytin_assmt F))\"", "lemma tseytin_assmt_backlookup: assumes \"J \\<in> set (subformulae F)\" \n  shows \"(the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J) \\<in> set (tseytin_assmt F)\"", "lemma tseytin_tran_small_clauses: \"\\<forall>C \\<in> cnf (nnf (tseytin_tran F)). card C \\<le> 3\"", "lemma tseytin_tran_few_clauses: \"card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1\"", "lemma tseytin_tran_new_atom_count: \"card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)\"", "lemma [code_unfold]: \"freshnats.nfresh = nfresh_natcode\"", "lemmas freshnats_code[code_unfold] = freshnats.tseytin_tran_def freshnats.tseytin_toatom_def freshnats.tseytin_assmt_def freshnats.nfresh.simps", "lemma \"freshnats.tseytin_tran (Atom 0 \\<^bold>\\<rightarrow> (\\<^bold>\\<not> (Atom 1))) = \\<^bold>\\<And>[\n  Atom 2,\n  Atom 2 \\<^bold>\\<leftrightarrow> Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n  Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n  Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n  Atom 1 \\<^bold>\\<leftrightarrow> Atom 5\n]\" (is \"?l = ?r\")"], "translations": [["", "lemma fold_pair_upd_triv: \"A \\<notin> fst ` set U \\<Longrightarrow> foldl pair_fun_upd F U A = F A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<notin> fst ` set U \\<Longrightarrow> foldl pair_fun_upd F U A = F A", "by(induction U arbitrary: F; simp)\n    (metis fun_upd_apply pair_fun_upd_def prod.simps(2) surjective_pairing)"], ["", "lemma distinct_pair_update_one: \"(k,v) \\<in> set U \\<Longrightarrow> distinct (map fst U) \\<Longrightarrow> foldl pair_fun_upd F U k = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(k, v) \\<in> set U; distinct (map fst U)\\<rbrakk>\n    \\<Longrightarrow> foldl pair_fun_upd F U k = v", "by(induction U arbitrary: F; clarsimp simp add: pair_fun_upd_def fold_pair_upd_triv split: prod.splits) \n    (insert fold_pair_upd_triv, fastforce)"], ["", "lemma distinct_zipunzip: \"distinct xs \\<Longrightarrow> distinct (map fst (zip xs ys))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct xs \\<Longrightarrow> distinct (map fst (zip xs ys))", "by (simp add: distinct_conv_nth)"], ["", "(* hm, this foldl pair_fun_upd business might have been a bad idea. *)"], ["", "lemma foldl_pair_fun_upd_map_of: \"distinct (map fst U) \\<Longrightarrow> foldl pair_fun_upd F U = (\\<lambda>k. case map_of U k of Some v \\<Rightarrow> v | None \\<Rightarrow> F k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (map fst U) \\<Longrightarrow>\n    foldl pair_fun_upd F U =\n    (\\<lambda>k.\n        case map_of U k of None \\<Rightarrow> F k | Some v \\<Rightarrow> v)", "by(unfold fun_eq_iff; induction U arbitrary: F; clarsimp split: option.splits simp: pair_fun_upd_def rev_image_eqI)"], ["", "lemma map_of_map_apsnd: \"map_of (map (apsnd t) M) = map_option t \\<circ> (map_of M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. map_of (map (apsnd t) M) = map_option t \\<circ> map_of M", "by(unfold fun_eq_iff comp_def; induction M; simp)"], ["", "definition biimp (infix \"\\<^bold>\\<leftrightarrow>\" 67) where \"F \\<^bold>\\<leftrightarrow> G \\<equiv> (F \\<^bold>\\<rightarrow> G) \\<^bold>\\<and> (G \\<^bold>\\<rightarrow> F)\""], ["", "lemma atoms_biimp[simp]: \"atoms (F \\<^bold>\\<leftrightarrow> G) = atoms F \\<union> atoms G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms (F \\<^bold>\\<leftrightarrow> G) = atoms F \\<union> atoms G", "unfolding biimp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms\n     ((F \\<^bold>\\<rightarrow> G) \\<^bold>\\<and>\n      (G \\<^bold>\\<rightarrow> F)) =\n    atoms F \\<union> atoms G", "by auto"], ["", "lemma biimp_size[simp]: \"size (F \\<^bold>\\<leftrightarrow> G) = (2 * (size F + size G)) + 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size (F \\<^bold>\\<leftrightarrow> G) = 2 * (size F + size G) + 3", "by(simp add: biimp_def)"], ["", "locale freshstuff =\n  fixes fresh :: \"'a set \\<Rightarrow> 'a\"\n  assumes isfresh: \"finite S \\<Longrightarrow> fresh S \\<notin> S\"\nbegin"], ["", "primrec nfresh where\n\"nfresh S 0 = []\" |\n\"nfresh S (Suc n) = (let f = fresh S in f # nfresh (f \\<triangleright> S) n)\""], ["", "lemma length_nfresh: \"length (nfresh S n) = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (nfresh S n) = n", "by(induction n arbitrary: S; simp add: Let_def)"], ["", "lemma nfresh_isfresh: \"finite S \\<Longrightarrow> set (nfresh S n) \\<inter> S = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite S \\<Longrightarrow> set (nfresh S n) \\<inter> S = {}", "by(induction n arbitrary: S; auto simp add: Let_def isfresh)"], ["", "lemma nfresh_distinct: \"finite S \\<Longrightarrow> distinct (nfresh S n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite S \\<Longrightarrow> distinct (nfresh S n)", "by(induction n arbitrary: S; simp add: Let_def; meson disjoint_iff_not_equal finite_insert insertI1 nfresh_isfresh)"], ["", "definition \"tseytin_assmt F \\<equiv> let SF = remdups (subformulae F) in zip (nfresh (atoms F) (length SF)) SF\""], ["", "lemma tseytin_assmt_distinct: \"distinct (map fst (tseytin_assmt F))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (map fst (tseytin_assmt F))", "unfolding tseytin_assmt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct\n     (map fst\n       (let SF = remdups (subformulae F)\n        in zip (nfresh (atoms F) (length SF)) SF))", "using nfresh_distinct"], ["proof (prove)\nusing this:\n  finite ?S \\<Longrightarrow> distinct (nfresh ?S ?n)\n\ngoal (1 subgoal):\n 1. distinct\n     (map fst\n       (let SF = remdups (subformulae F)\n        in zip (nfresh (atoms F) (length SF)) SF))", "by (simp add: Let_def length_nfresh)"], ["", "lemma tseytin_assmt_has: \"G \\<in> set (subformulae F) \\<Longrightarrow> \\<exists>n. (n,G) \\<in> set (tseytin_assmt F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. G \\<in> set (subformulae F) \\<Longrightarrow>\n    \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. G \\<in> set (subformulae F) \\<Longrightarrow>\n    \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)", "assume \"G \\<in> set (subformulae F)\""], ["proof (state)\nthis:\n  G \\<in> set (subformulae F)\n\ngoal (1 subgoal):\n 1. G \\<in> set (subformulae F) \\<Longrightarrow>\n    \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)", "then"], ["proof (chain)\npicking this:\n  G \\<in> set (subformulae F)", "have \"\\<exists>n. G = subformulae F ! n \\<and> n < length (subformulae F)\""], ["proof (prove)\nusing this:\n  G \\<in> set (subformulae F)\n\ngoal (1 subgoal):\n 1. \\<exists>n. G = subformulae F ! n \\<and> n < length (subformulae F)", "by (simp add: set_conv_nth)"], ["proof (state)\nthis:\n  \\<exists>n. G = subformulae F ! n \\<and> n < length (subformulae F)\n\ngoal (1 subgoal):\n 1. G \\<in> set (subformulae F) \\<Longrightarrow>\n    \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)", "then"], ["proof (chain)\npicking this:\n  \\<exists>n. G = subformulae F ! n \\<and> n < length (subformulae F)", "have \"\\<exists>a. (a, G) \\<in> set (zip (nfresh (atoms F) (length (subformulae F))) (subformulae F))\""], ["proof (prove)\nusing this:\n  \\<exists>n. G = subformulae F ! n \\<and> n < length (subformulae F)\n\ngoal (1 subgoal):\n 1. \\<exists>a.\n       (a, G)\n       \\<in> set (zip (nfresh (atoms F) (length (subformulae F)))\n                   (subformulae F))", "by (metis (no_types) in_set_zip length_nfresh prod.sel(1) prod.sel(2))"], ["proof (state)\nthis:\n  \\<exists>a.\n     (a, G)\n     \\<in> set (zip (nfresh (atoms F) (length (subformulae F)))\n                 (subformulae F))\n\ngoal (1 subgoal):\n 1. G \\<in> set (subformulae F) \\<Longrightarrow>\n    \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>a.\n     (a, G)\n     \\<in> set (zip (nfresh (atoms F) (length (subformulae F)))\n                 (subformulae F))\n\ngoal (1 subgoal):\n 1. \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)", "by(simp add: tseytin_assmt_def Let_def) (metis fst_conv in_set_conv_nth in_set_zip length_nfresh set_remdups snd_conv)"], ["proof (state)\nthis:\n  \\<exists>n. (n, G) \\<in> set (tseytin_assmt F)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tseytin_assmt_new_atoms: \"(k,l) \\<in> set (tseytin_assmt F) \\<Longrightarrow> k \\<notin> atoms F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (k, l) \\<in> set (tseytin_assmt F) \\<Longrightarrow> k \\<notin> atoms F", "unfolding tseytin_assmt_def Let_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (k, l)\n    \\<in> set (zip (nfresh (atoms F) (length (remdups (subformulae F))))\n                (remdups (subformulae F))) \\<Longrightarrow>\n    k \\<notin> atoms F", "using nfresh_isfresh"], ["proof (prove)\nusing this:\n  finite ?S \\<Longrightarrow> set (nfresh ?S ?n) \\<inter> ?S = {}\n\ngoal (1 subgoal):\n 1. (k, l)\n    \\<in> set (zip (nfresh (atoms F) (length (remdups (subformulae F))))\n                (remdups (subformulae F))) \\<Longrightarrow>\n    k \\<notin> atoms F", "by (fastforce dest: set_zip_leftD)"], ["", "primrec tseytin_tran1 where\n\"tseytin_tran1 S (Atom k) = [Atom k \\<^bold>\\<leftrightarrow> S (Atom k)]\" |\n\"tseytin_tran1 S \\<bottom> = [\\<bottom> \\<^bold>\\<leftrightarrow> S \\<bottom>]\" |\n\"tseytin_tran1 S (Not F) = [S (Not F) \\<^bold>\\<leftrightarrow> Not (S F)] @ tseytin_tran1 S F\" |\n\"tseytin_tran1 S (And F G) = [S (And F G) \\<^bold>\\<leftrightarrow> And (S F) (S G)] @ tseytin_tran1 S F @ tseytin_tran1 S G\" |\n\"tseytin_tran1 S (Or F G) = [S (Or F G) \\<^bold>\\<leftrightarrow> Or (S F) (S G)] @ tseytin_tran1 S F @ tseytin_tran1 S G\" |\n\"tseytin_tran1 S (Imp F G) = [S (Imp F G) \\<^bold>\\<leftrightarrow> Imp (S F) (S G)] @ tseytin_tran1 S F @ tseytin_tran1 S G\""], ["", "definition \"tseytin_toatom F \\<equiv> Atom \\<circ> the \\<circ> map_of (map (\\<lambda>(a,b). (b,a)) (tseytin_assmt F))\""], ["", "definition \"tseytin_tran F \\<equiv> \\<^bold>\\<And>(let S = tseytin_toatom F in S F # tseytin_tran1 S F)\""], ["", "lemma distinct_snd_tseytin_assmt: \"distinct (map snd (tseytin_assmt F))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (map snd (tseytin_assmt F))", "unfolding tseytin_assmt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct\n     (map snd\n       (let SF = remdups (subformulae F)\n        in zip (nfresh (atoms F) (length SF)) SF))", "by(simp add: Let_def length_nfresh)"], ["", "lemma tseytin_assmt_backlookup: assumes \"J \\<in> set (subformulae F)\" \n  shows \"(the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J) \\<in> set (tseytin_assmt F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n    \\<in> set (tseytin_assmt F)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n    \\<in> set (tseytin_assmt F)", "have 1: \"distinct (map snd M) \\<Longrightarrow> J \\<in> snd ` set M \\<Longrightarrow> (the (map_of (map (\\<lambda>(a, b). (b, a)) M) J), J) \\<in> set M\" for J M"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct (map snd M); J \\<in> snd ` set M\\<rbrakk>\n    \\<Longrightarrow> (the (map_of (map (\\<lambda>(a, b). (b, a)) M) J), J)\n                      \\<in> set M", "by(induction M; clarsimp split: prod.splits)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct (map snd ?M1); ?J1 \\<in> snd ` set ?M1\\<rbrakk>\n  \\<Longrightarrow> (the (map_of (map (\\<lambda>(a, b). (b, a)) ?M1) ?J1),\n                     ?J1)\n                    \\<in> set ?M1\n\ngoal (1 subgoal):\n 1. (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n    \\<in> set (tseytin_assmt F)", "have 2: \"J \\<in> set (subformulae F) \\<Longrightarrow> J \\<in> snd ` set (tseytin_assmt F)\" for J"], ["proof (prove)\ngoal (1 subgoal):\n 1. J \\<in> set (subformulae F) \\<Longrightarrow>\n    J \\<in> snd ` set (tseytin_assmt F)", "using image_iff tseytin_assmt_has"], ["proof (prove)\nusing this:\n  (?z \\<in> ?f ` ?A) = (\\<exists>x\\<in>?A. ?z = ?f x)\n  ?G \\<in> set (subformulae ?F) \\<Longrightarrow>\n  \\<exists>n. (n, ?G) \\<in> set (tseytin_assmt ?F)\n\ngoal (1 subgoal):\n 1. J \\<in> set (subformulae F) \\<Longrightarrow>\n    J \\<in> snd ` set (tseytin_assmt F)", "by fastforce"], ["proof (state)\nthis:\n  ?J1 \\<in> set (subformulae F) \\<Longrightarrow>\n  ?J1 \\<in> snd ` set (tseytin_assmt F)\n\ngoal (1 subgoal):\n 1. (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n    \\<in> set (tseytin_assmt F)", "from 1[OF distinct_snd_tseytin_assmt 2, OF assms]"], ["proof (chain)\npicking this:\n  (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n  \\<in> set (tseytin_assmt F)", "show ?thesis"], ["proof (prove)\nusing this:\n  (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n  \\<in> set (tseytin_assmt F)\n\ngoal (1 subgoal):\n 1. (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n    \\<in> set (tseytin_assmt F)", "."], ["proof (state)\nthis:\n  (the (map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)) J), J)\n  \\<in> set (tseytin_assmt F)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tseytin_tran_small_clauses: \"\\<forall>C \\<in> cnf (nnf (tseytin_tran F)). card C \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "have 3: \"card S \\<le> 2 \\<Longrightarrow> card (a \\<triangleright> S) \\<le> 3\" for a S"], ["proof (prove)\ngoal (1 subgoal):\n 1. card S \\<le> 2 \\<Longrightarrow> card (a \\<triangleright> S) \\<le> 3", "by(cases \"finite S\"; simp add: card_insert_le_m1)"], ["proof (state)\nthis:\n  card ?S1 \\<le> 2 \\<Longrightarrow> card (?a1 \\<triangleright> ?S1) \\<le> 3\n\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "have 2: \"card S \\<le> 1 \\<Longrightarrow> card (a \\<triangleright> S) \\<le> 2\" for a S"], ["proof (prove)\ngoal (1 subgoal):\n 1. card S \\<le> 1 \\<Longrightarrow> card (a \\<triangleright> S) \\<le> 2", "by(cases \"finite S\"; simp add: card_insert_le_m1)"], ["proof (state)\nthis:\n  card ?S2 \\<le> 1 \\<Longrightarrow> card (?a2 \\<triangleright> ?S2) \\<le> 2\n\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "have 1: \"card S \\<le> 0 \\<Longrightarrow> card (a \\<triangleright> S) \\<le> 1\" for a S"], ["proof (prove)\ngoal (1 subgoal):\n 1. card S \\<le> 0 \\<Longrightarrow> card (a \\<triangleright> S) \\<le> 1", "by(cases \"finite S\"; simp add: card_insert_le_m1)"], ["proof (state)\nthis:\n  card ?S3 \\<le> 0 \\<Longrightarrow> card (?a3 \\<triangleright> ?S3) \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "have *: \"\\<lbrakk>G \\<in> set (tseytin_tran1 (Atom \\<circ> S) F); C \\<in> cnf (nnf G)\\<rbrakk> \\<Longrightarrow> card C \\<le> 3\" for G C S"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>G \\<in> set (tseytin_tran1 (Atom \\<circ> S) F);\n     C \\<in> cnf (nnf G)\\<rbrakk>\n    \\<Longrightarrow> card C \\<le> 3", "by(induction F arbitrary: G; simp add: biimp_def; (elim disjE exE conjE | intro 1 2 3 | simp)+)"], ["proof (state)\nthis:\n  \\<lbrakk>?G3 \\<in> set (tseytin_tran1 (Atom \\<circ> ?S3) F);\n   ?C3 \\<in> cnf (nnf ?G3)\\<rbrakk>\n  \\<Longrightarrow> card ?C3 \\<le> 3\n\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3", "unfolding tseytin_tran_def  tseytin_toatom_def Let_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>C\\<in>cnf (nnf \\<^bold>\\<And>(Atom \\<circ> the \\<circ>\n     map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)))\n     F #\n    tseytin_tran1\n     (Atom \\<circ> the \\<circ>\n      map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)))\n     F).\n       card C \\<le> 3", "by(clarsimp simp add: cnf_BigAnd nnf_BigAnd comp_assoc *)"], ["proof (state)\nthis:\n  \\<forall>C\\<in>cnf (nnf (tseytin_tran F)). card C \\<le> 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tseytin_tran_few_clauses: \"card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "have \"size Bot = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size \\<bottom> = 1", "by simp"], ["proof (state)\nthis:\n  size \\<bottom> = 1\n\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "(* just a thing to keep in mind. *)"], ["proof (state)\nthis:\n  size \\<bottom> = 1\n\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "have ws: \"{c \\<triangleright> D |D. D = {c1} \\<or> D = {c2}} = {{c,c1},{c,c2}}\" for c1 c2 c"], ["proof (prove)\ngoal (1 subgoal):\n 1. {c \\<triangleright> D |D. D = {c1} \\<or> D = {c2}} = {{c, c1}, {c, c2}}", "by auto"], ["proof (state)\nthis:\n  {?c2 \\<triangleright> D |D. D = {?c1.2} \\<or> D = {?c2.2}} =\n  {{?c2, ?c1.2}, {?c2, ?c2.2}}\n\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "have grr: \"Suc (card S) \\<le> c \\<Longrightarrow> card (a \\<triangleright> S) \\<le> c\" for a S c"], ["proof (prove)\ngoal (1 subgoal):\n 1. Suc (card S) \\<le> c \\<Longrightarrow>\n    card (a \\<triangleright> S) \\<le> c", "by(cases \"finite S\"; simp add: card_insert_le_m1)"], ["proof (state)\nthis:\n  Suc (card ?S3) \\<le> ?c3 \\<Longrightarrow>\n  card (?a3 \\<triangleright> ?S3) \\<le> ?c3\n\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "have *: \"card (\\<Union>a\\<in>set (tseytin_tran1 (Atom \\<circ> S) F). cnf (nnf a)) \\<le> 3 * size F\" for S"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union>a\\<in>set (tseytin_tran1 (Atom \\<circ> S) F). cnf (nnf a))\n    \\<le> 3 * size F", "by(induction F; simp add: biimp_def; ((intro grr card_Un_le[THEN le_trans] | simp add: ws)+)?)"], ["proof (state)\nthis:\n  card (\\<Union>a\\<in>set (tseytin_tran1 (Atom \\<circ> ?S3) F). cnf (nnf a))\n  \\<le> 3 * size F\n\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1", "unfolding tseytin_tran_def tseytin_toatom_def Let_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. card\n     (cnf (nnf \\<^bold>\\<And>(Atom \\<circ> the \\<circ>\n                              map_of\n                               (map (\\<lambda>(a, b). (b, a))\n                                 (tseytin_assmt F)))\n                              F #\n                             tseytin_tran1\n                              (Atom \\<circ> the \\<circ>\n                               map_of\n                                (map (\\<lambda>(a, b). (b, a))\n                                  (tseytin_assmt F)))\n                              F))\n    \\<le> 3 * size F + 1", "by(clarsimp simp: nnf_BigAnd cnf_BigAnd; intro grr; simp add: comp_assoc *)"], ["proof (state)\nthis:\n  card (cnf (nnf (tseytin_tran F))) \\<le> 3 * size F + 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tseytin_tran_new_atom_count: \"card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have tseytin_tran1_atoms: \"H \\<in> set (tseytin_tran1 (tseytin_toatom F) G) \\<Longrightarrow> G \\<in> set (subformulae F) \\<Longrightarrow>\n    atoms H \\<subseteq> atoms F \\<union> (\\<Union>I \\<in> set (subformulae F). atoms (tseytin_toatom F I))\" for G H"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G);\n     G \\<in> set (subformulae F)\\<rbrakk>\n    \\<Longrightarrow> atoms H\n                      \\<subseteq> atoms F \\<union>\n                                  (\\<Union>I\\<in>set (subformulae F).\natoms (tseytin_toatom F I))", "proof(induction G arbitrary: H)"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom x));\n        Atom x \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>);\n        \\<bottom> \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 5. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 6. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "case (Atom k)"], ["proof (state)\nthis:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom k))\n  Atom k \\<in> set (subformulae F)\n\ngoal (6 subgoals):\n 1. \\<And>x H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom x));\n        Atom x \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>);\n        \\<bottom> \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 5. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 6. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "hence \"k \\<in> atoms F\""], ["proof (prove)\nusing this:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom k))\n  Atom k \\<in> set (subformulae F)\n\ngoal (1 subgoal):\n 1. k \\<in> atoms F", "by simp (meson formula.set_intros(1) rev_subsetD subformula_atoms)"], ["proof (state)\nthis:\n  k \\<in> atoms F\n\ngoal (6 subgoals):\n 1. \\<And>x H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom x));\n        Atom x \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>);\n        \\<bottom> \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 5. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 6. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "with Atom"], ["proof (chain)\npicking this:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom k))\n  Atom k \\<in> set (subformulae F)\n  k \\<in> atoms F", "show ?case"], ["proof (prove)\nusing this:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (Atom k))\n  Atom k \\<in> set (subformulae F)\n  k \\<in> atoms F\n\ngoal (1 subgoal):\n 1. atoms H\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by simp blast"], ["proof (state)\nthis:\n  atoms H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (5 subgoals):\n 1. \\<And>H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>);\n        \\<bottom> \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 5. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>);\n        \\<bottom> \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 5. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "case Bot"], ["proof (state)\nthis:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>)\n  \\<bottom> \\<in> set (subformulae F)\n\ngoal (5 subgoals):\n 1. \\<And>H.\n       \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>);\n        \\<bottom> \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 5. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "then"], ["proof (chain)\npicking this:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>)\n  \\<bottom> \\<in> set (subformulae F)", "show ?case"], ["proof (prove)\nusing this:\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) \\<bottom>)\n  \\<bottom> \\<in> set (subformulae F)\n\ngoal (1 subgoal):\n 1. atoms H\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by simp blast"], ["proof (state)\nthis:\n  atoms H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (4 subgoals):\n 1. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "case (Not G)"], ["proof (state)\nthis:\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G);\n   G \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G))\n  \\<^bold>\\<not> G \\<in> set (subformulae F)\n\ngoal (4 subgoals):\n 1. \\<And>G H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G);\n                    G \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F) (\\<^bold>\\<not> G));\n        \\<^bold>\\<not> G \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 4. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms H\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by(insert Not.prems(1,2); \n         frule subformulas_in_subformulas; simp; elim disjE; (elim Not.IH | force))"], ["proof (state)\nthis:\n  atoms H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (3 subgoals):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "case (And G1 G2)"], ["proof (state)\nthis:\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G1);\n   G1 \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n   G2 \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (G1 \\<^bold>\\<and> G2))\n  G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\n\ngoal (3 subgoals):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<and> G2));\n        G1 \\<^bold>\\<and> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 3. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms H\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by(insert And.prems(1,2); \n         frule subformulas_in_subformulas; simp; elim disjE; (elim And.IH; simp | force))"], ["proof (state)\nthis:\n  atoms H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (2 subgoals):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "case (Or G1 G2)"], ["proof (state)\nthis:\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G1);\n   G1 \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n   G2 \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F) (G1 \\<^bold>\\<or> G2))\n  G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\n\ngoal (2 subgoals):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<or> G2));\n        G1 \\<^bold>\\<or> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))\n 2. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms H\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by(insert Or.prems(1,2); \n         frule subformulas_in_subformulas; simp; elim disjE; (elim Or.IH; simp | force))"], ["proof (state)\nthis:\n  atoms H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (1 subgoal):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "case (Imp G1 G2)"], ["proof (state)\nthis:\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G1);\n   G1 \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n   G2 \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n  H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                (G1 \\<^bold>\\<rightarrow> G2))\n  G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\n\ngoal (1 subgoal):\n 1. \\<And>G1 G2 H.\n       \\<lbrakk>\\<And>H.\n                   \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n    G1);\n                    G1 \\<in> set (subformulae F)\\<rbrakk>\n                   \\<Longrightarrow> atoms H\n                                     \\<subseteq> atoms F \\<union>\n           (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        \\<And>H.\n           \\<lbrakk>H \\<in> set (tseytin_tran1 (tseytin_toatom F) G2);\n            G2 \\<in> set (subformulae F)\\<rbrakk>\n           \\<Longrightarrow> atoms H\n                             \\<subseteq> atoms F \\<union>\n   (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I));\n        H \\<in> set (tseytin_tran1 (tseytin_toatom F)\n                      (G1 \\<^bold>\\<rightarrow> G2));\n        G1 \\<^bold>\\<rightarrow> G2 \\<in> set (subformulae F)\\<rbrakk>\n       \\<Longrightarrow> atoms H\n                         \\<subseteq> atoms F \\<union>\n                                     (\\<Union>I\\<in>set (subformulae F).\n   atoms (tseytin_toatom F I))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms H\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by(insert Imp.prems(1,2); \n         frule subformulas_in_subformulas; simp; elim disjE; (elim Imp.IH; simp | force))"], ["proof (state)\nthis:\n  atoms H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?H \\<in> set (tseytin_tran1 (tseytin_toatom F) ?G);\n   ?G \\<in> set (subformulae F)\\<rbrakk>\n  \\<Longrightarrow> atoms ?H\n                    \\<subseteq> atoms F \\<union>\n                                (\\<Union>I\\<in>set (subformulae F).\n                                    atoms (tseytin_toatom F I))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have tseytin_tran1_atoms: \"(\\<Union>G\\<in>set (tseytin_tran1 (tseytin_toatom F) F). atoms G) \\<subseteq>\n      atoms F \\<union> (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "using tseytin_tran1_atoms[OF _ subformulae_self]"], ["proof (prove)\nusing this:\n  ?H \\<in> set (tseytin_tran1 (tseytin_toatom F) F) \\<Longrightarrow>\n  atoms ?H\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (1 subgoal):\n 1. \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by blast"], ["proof (state)\nthis:\n  \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have 1: \"card (atoms (tseytin_tran F)) \\<le>\n  card (atoms (tseytin_toatom F F) \\<union> (\\<Union>x\\<in>set (tseytin_tran1 (tseytin_toatom F) F). atoms x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F))\n    \\<le> card\n           (atoms (tseytin_toatom F F) \\<union>\n            \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F)))", "unfolding tseytin_tran_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. card\n     (atoms\n       \\<^bold>\\<And>let S = tseytin_toatom F in S F # tseytin_tran1 S F)\n    \\<le> card\n           (atoms (tseytin_toatom F F) \\<union>\n            \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F)))", "by(simp add: Let_def tseytin_tran1_atoms)"], ["proof (state)\nthis:\n  card (atoms (tseytin_tran F))\n  \\<le> card\n         (atoms (tseytin_toatom F F) \\<union>\n          \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F)))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have 2: \"atoms (tseytin_toatom F F) \\<union> (\\<Union>x\\<in>set (tseytin_tran1 (tseytin_toatom F) F). atoms x) \\<subseteq>\n     (atoms F \\<union> (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atoms (tseytin_toatom F F) \\<union>\n    \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "using tseytin_tran1_atoms"], ["proof (prove)\nusing this:\n  \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (1 subgoal):\n 1. atoms (tseytin_toatom F F) \\<union>\n    \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n    \\<subseteq> atoms F \\<union>\n                (\\<Union>I\\<in>set (subformulae F).\n                    atoms (tseytin_toatom F I))", "by blast"], ["proof (state)\nthis:\n  atoms (tseytin_toatom F F) \\<union>\n  \\<Union> (atoms ` set (tseytin_tran1 (tseytin_toatom F) F))\n  \\<subseteq> atoms F \\<union>\n              (\\<Union>I\\<in>set (subformulae F).\n                  atoms (tseytin_toatom F I))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have twofin: \"finite (atoms F \\<union> (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     (atoms F \\<union>\n      (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I)))", "by simp"], ["proof (state)\nthis:\n  finite\n   (atoms F \\<union>\n    (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I)))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have card_subformulae: \"card (set (subformulae F)) \\<le> size F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (set (subformulae F)) \\<le> size F", "using length_subformulae"], ["proof (prove)\nusing this:\n  length (subformulae ?F) = size ?F\n\ngoal (1 subgoal):\n 1. card (set (subformulae F)) \\<le> size F", "by (metis card_length)"], ["proof (state)\nthis:\n  card (set (subformulae F)) \\<le> size F\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have card_singleton_union: \"finite S \\<Longrightarrow> card (\\<Union>x\\<in>S. {f x}) \\<le> card S\" for f S"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite S \\<Longrightarrow> card (\\<Union>x\\<in>S. {f x}) \\<le> card S", "by(induction S rule: finite_induct; simp add: card_insert_if)"], ["proof (state)\nthis:\n  finite ?S1 \\<Longrightarrow>\n  card (\\<Union>x\\<in>?S1. {?f1 x}) \\<le> card ?S1\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have 3: \"card (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I)) \\<le> size F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I))\n    \\<le> size F", "unfolding tseytin_toatom_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. card\n     (\\<Union>I\\<in>set (subformulae F).\n         atoms\n          ((Atom \\<circ> the \\<circ>\n            map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)))\n            I))\n    \\<le> size F", "using le_trans[OF card_singleton_union card_subformulae]"], ["proof (prove)\nusing this:\n  finite (set (subformulae F)) \\<Longrightarrow>\n  card (\\<Union>x\\<in>set (subformulae F). {?f2 x}) \\<le> size F\n\ngoal (1 subgoal):\n 1. card\n     (\\<Union>I\\<in>set (subformulae F).\n         atoms\n          ((Atom \\<circ> the \\<circ>\n            map_of (map (\\<lambda>(a, b). (b, a)) (tseytin_assmt F)))\n            I))\n    \\<le> size F", "by simp fast"], ["proof (state)\nthis:\n  card (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I))\n  \\<le> size F\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "have 4: \"card (atoms (tseytin_tran F)) \\<le> card (atoms F) + card (\\<Union>f\\<in>set (subformulae F). atoms (tseytin_toatom F f))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F))\n    \\<le> card (atoms F) +\n          card\n           (\\<Union>f\\<in>set (subformulae F). atoms (tseytin_toatom F f))", "using le_trans[OF 1 card_mono[OF twofin 2]] card_Un_le le_trans"], ["proof (prove)\nusing this:\n  card (atoms (tseytin_tran F))\n  \\<le> card\n         (atoms F \\<union>\n          (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I)))\n  card (?A \\<union> ?B) \\<le> card ?A + card ?B\n  \\<lbrakk>?i \\<le> ?j; ?j \\<le> ?k\\<rbrakk> \\<Longrightarrow> ?i \\<le> ?k\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F))\n    \\<le> card (atoms F) +\n          card\n           (\\<Union>f\\<in>set (subformulae F). atoms (tseytin_toatom F f))", "by blast"], ["proof (state)\nthis:\n  card (atoms (tseytin_tran F))\n  \\<le> card (atoms F) +\n        card (\\<Union>f\\<in>set (subformulae F). atoms (tseytin_toatom F f))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "using 3 4"], ["proof (prove)\nusing this:\n  card (\\<Union>I\\<in>set (subformulae F). atoms (tseytin_toatom F I))\n  \\<le> size F\n  card (atoms (tseytin_tran F))\n  \\<le> card (atoms F) +\n        card (\\<Union>f\\<in>set (subformulae F). atoms (tseytin_toatom F f))\n\ngoal (1 subgoal):\n 1. card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)", "by linarith"], ["proof (state)\nthis:\n  card (atoms (tseytin_tran F)) \\<le> size F + card (atoms F)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "definition \"freshnat S \\<equiv>  Suc (Max (0 \\<triangleright> S))\""], ["", "primrec nfresh_natcode where\n\"nfresh_natcode S 0 = []\" |\n\"nfresh_natcode S (Suc n) = (let f = freshnat S in f # nfresh_natcode (f \\<triangleright> S) n)\""], ["", "interpretation freshnats: freshstuff freshnat"], ["proof (prove)\ngoal (1 subgoal):\n 1. freshstuff freshnat", "unfolding freshnat_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. freshstuff (\\<lambda>S. Suc (Max (0 \\<triangleright> S)))", "by standard (meson Max_ge Suc_n_not_le_n finite_insert insertCI)"], ["", "(* interpreting the locale is easy. making it executable\\<dots> not so. *)"], ["", "lemma [code_unfold]: \"freshnats.nfresh = nfresh_natcode\""], ["proof (prove)\ngoal (1 subgoal):\n 1. freshnats.nfresh = nfresh_natcode", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. freshnats.nfresh = nfresh_natcode", "have \"freshnats.nfresh S n  = nfresh_natcode S n\" for S n"], ["proof (prove)\ngoal (1 subgoal):\n 1. freshnats.nfresh S n = nfresh_natcode S n", "by(induction n arbitrary: S; simp)"], ["proof (state)\nthis:\n  freshnats.nfresh ?S ?n = nfresh_natcode ?S ?n\n\ngoal (1 subgoal):\n 1. freshnats.nfresh = nfresh_natcode", "thus ?thesis"], ["proof (prove)\nusing this:\n  freshnats.nfresh ?S ?n = nfresh_natcode ?S ?n\n\ngoal (1 subgoal):\n 1. freshnats.nfresh = nfresh_natcode", "by auto"], ["proof (state)\nthis:\n  freshnats.nfresh = nfresh_natcode\n\ngoal:\nNo subgoals!", "qed"], ["", "lemmas freshnats_code[code_unfold] = freshnats.tseytin_tran_def freshnats.tseytin_toatom_def freshnats.tseytin_assmt_def freshnats.nfresh.simps"], ["", "lemma \"freshnats.tseytin_tran (Atom 0 \\<^bold>\\<rightarrow> (\\<^bold>\\<not> (Atom 1))) = \\<^bold>\\<And>[\n  Atom 2,\n  Atom 2 \\<^bold>\\<leftrightarrow> Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n  Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n  Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n  Atom 1 \\<^bold>\\<leftrightarrow> Atom 5\n]\" (is \"?l = ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. freshnats.tseytin_tran\n     (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n    \\<^bold>\\<And>[Atom 2,\n                   Atom 2 \\<^bold>\\<leftrightarrow>\n                   Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                   Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                   Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                   Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. freshnats.tseytin_tran\n     (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n    \\<^bold>\\<And>[Atom 2,\n                   Atom 2 \\<^bold>\\<leftrightarrow>\n                   Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                   Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                   Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                   Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]", "have \"cnf (nnf ?r) =\n    {{Pos 2},\n     {Neg 4, Pos 2}, {Pos 3, Pos 2}, {Neg 2, Neg 3, Pos 4},\n     {Neg 3, Pos 0}, {Neg 0, Pos 3},\n     {Pos 5, Pos 4}, {Neg 4, Neg 5},\n     {Neg 5, Pos 1}, {Neg 1, Pos 5}}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cnf (nnf \\<^bold>\\<And>[Atom 2,\n                            Atom 2 \\<^bold>\\<leftrightarrow>\n                            Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                            Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                            Atom 4 \\<^bold>\\<leftrightarrow>\n                            \\<^bold>\\<not> (Atom 5),\n                            Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]) =\n    {{2\\<^sup>+}, {4\\<inverse>, 2\\<^sup>+}, {3\\<^sup>+, 2\\<^sup>+},\n     {2\\<inverse>, 3\\<inverse>, 4\\<^sup>+}, {3\\<inverse>, 0\\<^sup>+},\n     {0\\<inverse>, 3\\<^sup>+}, {5\\<^sup>+, 4\\<^sup>+},\n     {4\\<inverse>, 5\\<inverse>}, {5\\<inverse>, 1\\<^sup>+},\n     {1\\<inverse>, 5\\<^sup>+}}", "by eval"], ["proof (state)\nthis:\n  cnf (nnf \\<^bold>\\<And>[Atom 2,\n                          Atom 2 \\<^bold>\\<leftrightarrow>\n                          Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                          Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                          Atom 4 \\<^bold>\\<leftrightarrow>\n                          \\<^bold>\\<not> (Atom 5),\n                          Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]) =\n  {{2\\<^sup>+}, {4\\<inverse>, 2\\<^sup>+}, {3\\<^sup>+, 2\\<^sup>+},\n   {2\\<inverse>, 3\\<inverse>, 4\\<^sup>+}, {3\\<inverse>, 0\\<^sup>+},\n   {0\\<inverse>, 3\\<^sup>+}, {5\\<^sup>+, 4\\<^sup>+},\n   {4\\<inverse>, 5\\<inverse>}, {5\\<inverse>, 1\\<^sup>+},\n   {1\\<inverse>, 5\\<^sup>+}}\n\ngoal (1 subgoal):\n 1. freshnats.tseytin_tran\n     (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n    \\<^bold>\\<And>[Atom 2,\n                   Atom 2 \\<^bold>\\<leftrightarrow>\n                   Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                   Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                   Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                   Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]", "have ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. freshnats.tseytin_tran\n     (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n    \\<^bold>\\<And>[Atom 2,\n                   Atom 2 \\<^bold>\\<leftrightarrow>\n                   Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                   Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                   Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                   Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]", "by eval"], ["proof (state)\nthis:\n  freshnats.tseytin_tran\n   (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n  \\<^bold>\\<And>[Atom 2,\n                 Atom 2 \\<^bold>\\<leftrightarrow>\n                 Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                 Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                 Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                 Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]\n\ngoal (1 subgoal):\n 1. freshnats.tseytin_tran\n     (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n    \\<^bold>\\<And>[Atom 2,\n                   Atom 2 \\<^bold>\\<leftrightarrow>\n                   Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                   Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                   Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                   Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. freshnats.tseytin_tran\n     (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n    \\<^bold>\\<And>[Atom 2,\n                   Atom 2 \\<^bold>\\<leftrightarrow>\n                   Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                   Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                   Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                   Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]", "by code_simp"], ["proof (state)\nthis:\n  freshnats.tseytin_tran\n   (Atom 0 \\<^bold>\\<rightarrow> \\<^bold>\\<not> (Atom 1)) =\n  \\<^bold>\\<And>[Atom 2,\n                 Atom 2 \\<^bold>\\<leftrightarrow>\n                 Atom 3 \\<^bold>\\<rightarrow> Atom 4,\n                 Atom 0 \\<^bold>\\<leftrightarrow> Atom 3,\n                 Atom 4 \\<^bold>\\<leftrightarrow> \\<^bold>\\<not> (Atom 5),\n                 Atom 1 \\<^bold>\\<leftrightarrow> Atom 5]\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}