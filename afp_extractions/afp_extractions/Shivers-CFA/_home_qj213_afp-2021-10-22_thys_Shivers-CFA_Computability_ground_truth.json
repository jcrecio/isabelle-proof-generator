{"file_name": "/home/qj213/afp-2021-10-22/thys/Shivers-CFA/Computability.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Shivers-CFA", "problem_names": ["lemma insert_greaterThan:\n  \"insert (n::nat) {n<..} = {n..}\"", "lemma theorem10:\n  fixes g :: \"'a::cpo \\<rightarrow> 'b::type set\" and r :: \"'a \\<rightarrow> 'a\"\n  shows \"fix\\<cdot>(\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x)) = (\\<Lambda> x. (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)))\"", "lemma powerset_lift_singleton[simp]:\n  \"\\<^ps>f\\<cdot>{x} = f\\<cdot>x\"", "lemma powerset_lift_union[simp]:\n  \"\\<^ps>f\\<cdot>(A \\<union> B) = \\<^ps>f\\<cdot>A \\<union> \\<^ps>f\\<cdot>B\"", "lemma UNION_commute:\"(\\<Union>x\\<in>A. \\<Union>y\\<in>B . P x y) = (\\<Union>y\\<in>B. \\<Union>x\\<in>A . P x y)\"", "lemma powerset_lift_UNION:\n  \"(\\<Union>x\\<in>S. \\<^ps>g\\<cdot>(A x)) = \\<^ps>g\\<cdot>(\\<Union>x\\<in>S. A x)\"", "lemma powerset_lift_iterate_UNION:\n  \"(\\<Union>x\\<in>S. (\\<^ps>g)\\<^bsup>i\\<^esup>\\<cdot>(A x)) = (\\<^ps>g)\\<^bsup>i\\<^esup>\\<cdot>(\\<Union>x\\<in>S. A x)\"", "lemmas powerset_distr = powerset_lift_UNION powerset_lift_iterate_UNION", "lemma lemma11:\n  fixes f :: \"'a \\<rightarrow> 'b set\" and g :: \"'a \\<rightarrow> 'b set\" and R :: \"'a \\<rightarrow> 'a set\"\n  assumes \"\\<And>x. f\\<cdot>x = g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y)\"\n  shows \"\\<^ps>f\\<cdot>S = \\<^ps>g\\<cdot>S \\<union> \\<^ps>f\\<cdot>(\\<^ps>R\\<cdot>S)\"", "lemmas theorem10ps = theorem10[of \"\\<^ps>g\" \"\\<^ps>r\"] for g r", "lemma theorem12':\n  fixes g :: \"'a::discrete_cpo \\<rightarrow> 'b::type set\" and R :: \"'a \\<rightarrow> 'a set\"\n  assumes F_fix: \"F = fix\\<cdot>(\\<Lambda> F x. \\<^ps>g\\<cdot>x \\<union> F\\<cdot>(\\<^ps>R\\<cdot>x))\"\n  shows \"fix\\<cdot>(\\<Lambda> f x. g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y)) = (\\<Lambda> x. F\\<cdot>{x})\"", "lemma theorem12:\n  fixes g :: \"'a::discrete_cpo \\<rightarrow> 'b::type set\" and R :: \"'a \\<rightarrow> 'a set\"\n  shows \"fix\\<cdot>(\\<Lambda> f x. g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y))\\<cdot>x =  \\<^ps>g\\<cdot>(\\<Union>i.((\\<^ps>R)\\<^bsup>i\\<^esup>\\<cdot>{x}))\""], "translations": [["", "lemma insert_greaterThan:\n  \"insert (n::nat) {n<..} = {n..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert n {n<..} = {n..}", "by auto"], ["", "lemma theorem10:\n  fixes g :: \"'a::cpo \\<rightarrow> 'b::type set\" and r :: \"'a \\<rightarrow> 'a\"\n  shows \"fix\\<cdot>(\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x)) = (\\<Lambda> x. (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu> f. \\<Lambda> x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x)) =\n    (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))", "proof(induct rule:fix_eqI[OF cfun_eqI cfun_belowI, case_names fp least])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "case (fp x)"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "have \"g\\<cdot>x \\<union> (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>(r\\<cdot>x))) = g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union> (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>x \\<union>\n    (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>(r\\<cdot>x))) =\n    g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n    (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x))", "by (simp add: iterate_Suc2 del: iterate_Suc)"], ["proof (state)\nthis:\n  g\\<cdot>x \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>(r\\<cdot>x))) =\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "also"], ["proof (state)\nthis:\n  g\\<cdot>x \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>(r\\<cdot>x))) =\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "have \"\\<dots> = g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union> (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n    (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x)) =\n    g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n    (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))", "using less_iff_Suc_add"], ["proof (prove)\nusing this:\n  (?m < ?n) = (\\<exists>k. ?n = Suc (?m + k))\n\ngoal (1 subgoal):\n 1. g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n    (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x)) =\n    g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n    (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))", "by auto"], ["proof (state)\nthis:\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x)) =\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "also"], ["proof (state)\nthis:\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x)) =\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "have \"\\<dots>  = (\\<Union>i\\<in>insert 0 {0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n    (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) =\n    (\\<Union>i\\<in>insert 0 {0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))", "by simp"], ["proof (state)\nthis:\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) =\n  (\\<Union>i\\<in>insert 0 {0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "also"], ["proof (state)\nthis:\n  g\\<cdot>(r\\<^bsup>0\\<^esup>\\<cdot>x) \\<union>\n  (\\<Union>i\\<in>{0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) =\n  (\\<Union>i\\<in>insert 0 {0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "have \"... = (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i\\<in>insert 0 {0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) =\n    (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))", "by (simp only: insert_greaterThan atLeast_0 )"], ["proof (state)\nthis:\n  (\\<Union>i\\<in>insert 0 {0<..}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) =\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x =\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x\n 2. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "finally"], ["proof (chain)\npicking this:\n  g\\<cdot>x \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>(r\\<cdot>x))) =\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))", "show ?case"], ["proof (prove)\nusing this:\n  g\\<cdot>x \\<union>\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>(r\\<cdot>x))) =\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (1 subgoal):\n 1. (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n    (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n    x =\n    (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>x", "by auto"], ["proof (state)\nthis:\n  (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>\n  (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n  x =\n  (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>x\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "case (least f x)"], ["proof (state)\nthis:\n  (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>f = f\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "hence expand: \"\\<And>x. f\\<cdot>x = (g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\""], ["proof (prove)\nusing this:\n  (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>f = f\n\ngoal (1 subgoal):\n 1. \\<And>x. f\\<cdot>x = g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x)", "by (auto simp:cfun_eq_iff)"], ["proof (state)\nthis:\n  f\\<cdot>?x = g\\<cdot>?x \\<union> f\\<cdot>(r\\<cdot>?x)\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "{"], ["proof (state)\nthis:\n  f\\<cdot>?x = g\\<cdot>?x \\<union> f\\<cdot>(r\\<cdot>?x)\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "have \"f\\<cdot>x = (\\<Union>i\\<in>{..n}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union> f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<cdot>x =\n    (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)", "proof(induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. f\\<cdot>x =\n    (\\<Union>i\\<le>0. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc 0\\<^esup>\\<cdot>x)\n 2. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. f\\<cdot>x =\n    (\\<Union>i\\<le>0. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc 0\\<^esup>\\<cdot>x)\n 2. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "thus ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<cdot>x =\n    (\\<Union>i\\<le>0. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc 0\\<^esup>\\<cdot>x)", "by (auto simp add:expand[of x])"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>0. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc 0\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "case (Suc n)"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "then"], ["proof (chain)\npicking this:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)", "have \"f\\<cdot>x = (\\<Union>i\\<in>{..n}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union> f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\""], ["proof (prove)\nusing this:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. f\\<cdot>x =\n    (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)", "by simp"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "also"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "have \"\\<dots> = (\\<Union>i\\<in>{..n}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n                 \\<union> g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union> f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) =\n    (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "by(subst expand[of \"r\\<^bsup>Suc n\\<^esup>\\<cdot>x\"], auto)"], ["proof (state)\nthis:\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "also"], ["proof (state)\nthis:\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "have \"\\<dots> = (\\<Union>i\\<in>insert (Suc n) {..n}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union> f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x) =\n    (\\<Union>i\\<in>insert (Suc n) {..n}.\n        g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "by auto"], ["proof (state)\nthis:\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x) =\n  (\\<Union>i\\<in>insert (Suc n) {..n}.\n      g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "also"], ["proof (state)\nthis:\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  g\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x) =\n  (\\<Union>i\\<in>insert (Suc n) {..n}.\n      g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "have \"\\<dots> = (\\<Union>i\\<in>{..Suc n}. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union> f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i\\<in>insert (Suc n) {..n}.\n        g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x) =\n    (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "by (simp add:atMost_Suc)"], ["proof (state)\nthis:\n  (\\<Union>i\\<in>insert (Suc n) {..n}.\n      g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x) =\n  (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       f\\<cdot>x =\n       (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x) \\<Longrightarrow>\n       f\\<cdot>x =\n       (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n       f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "finally"], ["proof (chain)\npicking this:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "show ?case"], ["proof (prove)\nusing this:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. f\\<cdot>x =\n    (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n    f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)", "."], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>Suc n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc (Suc n)\\<^esup>\\<cdot>x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>n. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc n\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "}"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>?n2. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc ?n2\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "note fin = this"], ["proof (state)\nthis:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>?n2. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc ?n2\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "have \"(\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<subseteq> f\\<cdot>x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<subseteq> f\\<cdot>x", "proof(rule UN_least)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> UNIV \\<Longrightarrow>\n       g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x) \\<subseteq> f\\<cdot>x", "fix i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> UNIV \\<Longrightarrow>\n       g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x) \\<subseteq> f\\<cdot>x", "show \"g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x) \\<subseteq> f\\<cdot>x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x) \\<subseteq> f\\<cdot>x", "using fin[of i]"], ["proof (prove)\nusing this:\n  f\\<cdot>x =\n  (\\<Union>i\\<le>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<union>\n  f\\<cdot>(r\\<^bsup>Suc i\\<^esup>\\<cdot>x)\n\ngoal (1 subgoal):\n 1. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x) \\<subseteq> f\\<cdot>x", "by auto"], ["proof (state)\nthis:\n  g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x) \\<subseteq> f\\<cdot>x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<subseteq> f\\<cdot>x\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x. g\\<cdot>x \\<union> f\\<cdot>(r\\<cdot>x))\\<cdot>z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n       x \\<sqsubseteq>\n       z\\<cdot>x", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x)) \\<subseteq> f\\<cdot>x\n\ngoal (1 subgoal):\n 1. (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n    x \\<sqsubseteq>\n    f\\<cdot>x", "apply (subst sqsubset_is_subset)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\n    \\<subseteq> f\\<cdot>x \\<Longrightarrow>\n    (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>x\n    \\<subseteq> f\\<cdot>x", "by auto"], ["proof (state)\nthis:\n  (\\<Lambda> x. \\<Union>i. g\\<cdot>(r\\<^bsup>i\\<^esup>\\<cdot>x))\\<cdot>\n  x \\<sqsubseteq>\n  f\\<cdot>x\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Branching case\\<close>"], ["", "text \\<open>\nActually, our functions are more complicated than the one above: The abstract semantics functions recurse with multiple arguments. So we have to handle a recursive equation of the kind\n\\[\nf\\ x = g\\ x \\cup \\bigcup_{a \\in R\\ x} f\\ r.\n\\]\nBy moving to the power-set relatives of our function, e.g.\n\\[\n{\\uline g}Y = \\bigcup_{a\\in A} g\\ a \\quad \\text{and} {\\uline R}Y = \\bigcup_{a\\in R} R\\ a\n\\]\nthe equation becomes\n\\[\n{\\uline f}Y ={\\uline g}Y \\cup {\\uline f}\\ ({\\uline R}Y)\n\\]\n(which is shown in Lemma 11) and we can apply Theorem 10 to obtain Theorem 12.\n\nWe define the power-set relative for a function together with some properties.\n\\<close>"], ["", "definition powerset_lift :: \"('a::cpo \\<rightarrow> 'b::type set) \\<Rightarrow> 'a set \\<rightarrow> 'b set\" (\"\\<^ps>\")\n  where \"\\<^ps>f = (\\<Lambda> S. (\\<Union>y\\<in>S . f\\<cdot>y))\""], ["", "lemma powerset_lift_singleton[simp]:\n  \"\\<^ps>f\\<cdot>{x} = f\\<cdot>x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>{x} = f\\<cdot>x", "unfolding powerset_lift_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Lambda> S. \\<Union> (Rep_cfun f ` S))\\<cdot>{x} = f\\<cdot>x", "by simp"], ["", "lemma powerset_lift_union[simp]:\n  \"\\<^ps>f\\<cdot>(A \\<union> B) = \\<^ps>f\\<cdot>A \\<union> \\<^ps>f\\<cdot>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>(A \\<union> B) =\n    \\<^ps> f\\<cdot>A \\<union> \\<^ps> f\\<cdot>B", "unfolding powerset_lift_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Lambda> S. \\<Union> (Rep_cfun f ` S))\\<cdot>(A \\<union> B) =\n    (\\<Lambda> S. \\<Union> (Rep_cfun f ` S))\\<cdot>A \\<union>\n    (\\<Lambda> S. \\<Union> (Rep_cfun f ` S))\\<cdot>B", "by auto"], ["", "lemma UNION_commute:\"(\\<Union>x\\<in>A. \\<Union>y\\<in>B . P x y) = (\\<Union>y\\<in>B. \\<Union>x\\<in>A . P x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>A. \\<Union> (P x ` B)) =\n    (\\<Union>y\\<in>B. \\<Union>x\\<in>A. P x y)", "by auto"], ["", "lemma powerset_lift_UNION:\n  \"(\\<Union>x\\<in>S. \\<^ps>g\\<cdot>(A x)) = \\<^ps>g\\<cdot>(\\<Union>x\\<in>S. A x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>S. \\<^ps> g\\<cdot>(A x)) =\n    \\<^ps> g\\<cdot>(\\<Union> (A ` S))", "unfolding powerset_lift_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>S.\n        (\\<Lambda> S. \\<Union> (Rep_cfun g ` S))\\<cdot>(A x)) =\n    (\\<Lambda> S. \\<Union> (Rep_cfun g ` S))\\<cdot>(\\<Union> (A ` S))", "by auto"], ["", "lemma powerset_lift_iterate_UNION:\n  \"(\\<Union>x\\<in>S. (\\<^ps>g)\\<^bsup>i\\<^esup>\\<cdot>(A x)) = (\\<^ps>g)\\<^bsup>i\\<^esup>\\<cdot>(\\<Union>x\\<in>S. A x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>S. (\\<^ps> g)\\<^bsup>i\\<^esup>\\<cdot>(A x)) =\n    (\\<^ps> g)\\<^bsup>i\\<^esup>\\<cdot>(\\<Union> (A ` S))", "by (induct i, auto simp add:powerset_lift_UNION)"], ["", "lemmas powerset_distr = powerset_lift_UNION powerset_lift_iterate_UNION"], ["", "text \\<open>\nLemma 11 shows that if a function satisfies the relation with the branching $R$, its power-set function satisfies the powerset variant of the equation.\n\n\\<close>"], ["", "lemma lemma11:\n  fixes f :: \"'a \\<rightarrow> 'b set\" and g :: \"'a \\<rightarrow> 'b set\" and R :: \"'a \\<rightarrow> 'a set\"\n  assumes \"\\<And>x. f\\<cdot>x = g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y)\"\n  shows \"\\<^ps>f\\<cdot>S = \\<^ps>g\\<cdot>S \\<union> \\<^ps>f\\<cdot>(\\<^ps>R\\<cdot>S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "have \"\\<^ps>f\\<cdot>S = (\\<Union>x\\<in>S . f\\<cdot>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S = \\<Union> (Rep_cfun f ` S)", "unfolding powerset_lift_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Lambda> S. \\<Union> (Rep_cfun f ` S))\\<cdot>S =\n    \\<Union> (Rep_cfun f ` S)", "by auto"], ["proof (state)\nthis:\n  \\<^ps> f\\<cdot>S = \\<Union> (Rep_cfun f ` S)\n\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "also"], ["proof (state)\nthis:\n  \\<^ps> f\\<cdot>S = \\<Union> (Rep_cfun f ` S)\n\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "have \"\\<dots> = (\\<Union>x\\<in>S . g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (Rep_cfun f ` S) =\n    (\\<Union>x\\<in>S. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))", "apply (subst assms)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>S.\n        g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x)) =\n    (\\<Union>x\\<in>S. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))", "by simp"], ["proof (state)\nthis:\n  \\<Union> (Rep_cfun f ` S) =\n  (\\<Union>x\\<in>S. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\n\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "also"], ["proof (state)\nthis:\n  \\<Union> (Rep_cfun f ` S) =\n  (\\<Union>x\\<in>S. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\n\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "have \"\\<dots> = \\<^ps>g\\<cdot>S \\<union> \\<^ps>f\\<cdot>(\\<^ps>R\\<cdot>S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>x\\<in>S.\n        g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x)) =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "by (auto simp add:powerset_lift_def)"], ["proof (state)\nthis:\n  (\\<Union>x\\<in>S. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x)) =\n  \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)\n\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "finally"], ["proof (chain)\npicking this:\n  \\<^ps> f\\<cdot>S =\n  \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<^ps> f\\<cdot>S =\n  \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)\n\ngoal (1 subgoal):\n 1. \\<^ps> f\\<cdot>S =\n    \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)", "."], ["proof (state)\nthis:\n  \\<^ps> f\\<cdot>S =\n  \\<^ps> g\\<cdot>S \\<union> \\<^ps> f\\<cdot>(\\<^ps> R\\<cdot>S)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>\nTheorem 10 as it will be used in Theorem 12.\n\\<close>"], ["", "lemmas theorem10ps = theorem10[of \"\\<^ps>g\" \"\\<^ps>r\"] for g r"], ["", "text \\<open>\nNow we can show Lemma 12: If $F$ is the least solution to the recursive power-set equation, then $x \\mapsto F\\ {x}$ is the least solution to the equation with branching $R$.\n\nWe fix the type variable \\<open>'a\\<close> to be a discrete cpo, as otherwise $x \\mapsto \\{x\\}$ is not continuous.\n\\<close>"], ["", "(* discrete_cpo, otherwise x \\<mapsto> {x} not continuous *)"], ["", "lemma theorem12':\n  fixes g :: \"'a::discrete_cpo \\<rightarrow> 'b::type set\" and R :: \"'a \\<rightarrow> 'a set\"\n  assumes F_fix: \"F = fix\\<cdot>(\\<Lambda> F x. \\<^ps>g\\<cdot>x \\<union> F\\<cdot>(\\<^ps>R\\<cdot>x))\"\n  shows \"fix\\<cdot>(\\<Lambda> f x. g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y)) = (\\<Lambda> x. F\\<cdot>{x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu> f.\n        \\<Lambda> x. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x)) =\n    (\\<Lambda> x. F\\<cdot>{x})", "proof(induct rule:fix_eqI[OF cfun_eqI cfun_belowI, case_names fp least])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n       x =\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n 2. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "have F_union: \"F = (\\<Lambda> x. \\<Union>i. \\<^ps>g\\<cdot>((\\<^ps>R)\\<^bsup>i\\<^esup>\\<cdot>x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F =\n    (\\<Lambda> x.\n        \\<Union>i. \\<^ps> g\\<cdot>((\\<^ps> R)\\<^bsup>i\\<^esup>\\<cdot>x))", "using F_fix"], ["proof (prove)\nusing this:\n  F =\n  (\\<mu> F.\n      \\<Lambda> x. \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x))\n\ngoal (1 subgoal):\n 1. F =\n    (\\<Lambda> x.\n        \\<Union>i. \\<^ps> g\\<cdot>((\\<^ps> R)\\<^bsup>i\\<^esup>\\<cdot>x))", "by(simp)(rule theorem10ps)"], ["proof (state)\nthis:\n  F =\n  (\\<Lambda> x.\n      \\<Union>i. \\<^ps> g\\<cdot>((\\<^ps> R)\\<^bsup>i\\<^esup>\\<cdot>x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n       x =\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n 2. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "case (fp x)"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n       x =\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n 2. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "have \"g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) = \\<^ps>g\\<cdot>{x} \\<union> F\\<cdot>(\\<^ps>R\\<cdot>{x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) =\n    \\<^ps> g\\<cdot>{x} \\<union> F\\<cdot>(\\<^ps> R\\<cdot>{x})", "unfolding powerset_lift_singleton"], ["proof (prove)\ngoal (1 subgoal):\n 1. g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) =\n    g\\<cdot>x \\<union> F\\<cdot>(R\\<cdot>x)", "by (auto simp add: powerset_distr UNION_commute F_union)"], ["proof (state)\nthis:\n  g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) =\n  \\<^ps> g\\<cdot>{x} \\<union> F\\<cdot>(\\<^ps> R\\<cdot>{x})\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n       x =\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n 2. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "also"], ["proof (state)\nthis:\n  g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) =\n  \\<^ps> g\\<cdot>{x} \\<union> F\\<cdot>(\\<^ps> R\\<cdot>{x})\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n       x =\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n 2. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "have \"\\<dots> = F\\<cdot>{x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^ps> g\\<cdot>{x} \\<union> F\\<cdot>(\\<^ps> R\\<cdot>{x}) = F\\<cdot>{x}", "by (subst (2) fix_eq4[OF F_fix], auto)"], ["proof (state)\nthis:\n  \\<^ps> g\\<cdot>{x} \\<union> F\\<cdot>(\\<^ps> R\\<cdot>{x}) = F\\<cdot>{x}\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n       x =\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n 2. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "finally"], ["proof (chain)\npicking this:\n  g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) = F\\<cdot>{x}", "show ?case"], ["proof (prove)\nusing this:\n  g\\<cdot>x \\<union> (\\<Union>x'\\<in>R\\<cdot>x. F\\<cdot>{x'}) = F\\<cdot>{x}\n\ngoal (1 subgoal):\n 1. (\\<Lambda> f x.\n        g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n    (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n    x =\n    (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x", "by simp"], ["proof (state)\nthis:\n  (\\<Lambda> f x.\n      g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n  (\\<Lambda> x. F\\<cdot>{x})\\<cdot>\n  x =\n  (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "case (least f' x)"], ["proof (state)\nthis:\n  (\\<Lambda> f x.\n      g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n  f' =\n  f'\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "hence expand: \"f' = (\\<Lambda> x. g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f'\\<cdot>y))\""], ["proof (prove)\nusing this:\n  (\\<Lambda> f x.\n      g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n  f' =\n  f'\n\ngoal (1 subgoal):\n 1. f' =\n    (\\<Lambda> x. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f' ` R\\<cdot>x))", "by simp"], ["proof (state)\nthis:\n  f' = (\\<Lambda> x. g\\<cdot>x \\<union> \\<Union> (Rep_cfun f' ` R\\<cdot>x))\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "have \"\\<^ps>f' = (\\<Lambda> S. \\<^ps>g\\<cdot>S \\<union> \\<^ps>f'\\<cdot>(\\<^ps>R\\<cdot>S))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<^ps> f' =\n    (\\<Lambda> S.\n        \\<^ps> g\\<cdot>S \\<union> \\<^ps> f'\\<cdot>(\\<^ps> R\\<cdot>S))", "by (subst expand, rule cfun_eqI, auto simp add:powerset_lift_def)"], ["proof (state)\nthis:\n  \\<^ps> f' =\n  (\\<Lambda> S.\n      \\<^ps> g\\<cdot>S \\<union> \\<^ps> f'\\<cdot>(\\<^ps> R\\<cdot>S))\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "hence \"(\\<Lambda> F. \\<Lambda> x. \\<^ps>g\\<cdot>x \\<union> F\\<cdot>(\\<^ps>R\\<cdot>x))\\<cdot>(\\<^ps>f') = \\<^ps>f'\""], ["proof (prove)\nusing this:\n  \\<^ps> f' =\n  (\\<Lambda> S.\n      \\<^ps> g\\<cdot>S \\<union> \\<^ps> f'\\<cdot>(\\<^ps> R\\<cdot>S))\n\ngoal (1 subgoal):\n 1. (\\<Lambda> F x.\n        \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x))\\<cdot>\n    (\\<^ps> f') =\n    \\<^ps> f'", "by simp"], ["proof (state)\nthis:\n  (\\<Lambda> F x.\n      \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x))\\<cdot>\n  (\\<^ps> f') =\n  \\<^ps> f'\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "from fix_least[OF this] and F_fix"], ["proof (chain)\npicking this:\n  (\\<mu> F.\n      \\<Lambda> x.\n         \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x)) \\<sqsubseteq>\n  \\<^ps> f'\n  F =\n  (\\<mu> F.\n      \\<Lambda> x. \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x))", "have  \"F \\<sqsubseteq> \\<^ps>f'\""], ["proof (prove)\nusing this:\n  (\\<mu> F.\n      \\<Lambda> x.\n         \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x)) \\<sqsubseteq>\n  \\<^ps> f'\n  F =\n  (\\<mu> F.\n      \\<Lambda> x. \\<^ps> g\\<cdot>x \\<union> F\\<cdot>(\\<^ps> R\\<cdot>x))\n\ngoal (1 subgoal):\n 1. F \\<sqsubseteq> \\<^ps> f'", "by simp"], ["proof (state)\nthis:\n  F \\<sqsubseteq> \\<^ps> f'\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "hence  \"F\\<cdot>{x} \\<sqsubseteq> \\<^ps>f'\\<cdot>{x}\""], ["proof (prove)\nusing this:\n  F \\<sqsubseteq> \\<^ps> f'\n\ngoal (1 subgoal):\n 1. F\\<cdot>{x} \\<sqsubseteq> \\<^ps> f'\\<cdot>{x}", "by (subst (asm)cfun_below_iff, auto simp del:powerset_lift_singleton)"], ["proof (state)\nthis:\n  F\\<cdot>{x} \\<sqsubseteq> \\<^ps> f'\\<cdot>{x}\n\ngoal (1 subgoal):\n 1. \\<And>z x.\n       (\\<Lambda> f x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n       z =\n       z \\<Longrightarrow>\n       (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> z\\<cdot>x", "thus ?case"], ["proof (prove)\nusing this:\n  F\\<cdot>{x} \\<sqsubseteq> \\<^ps> f'\\<cdot>{x}\n\ngoal (1 subgoal):\n 1. (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> f'\\<cdot>x", "by (auto simp add:sqsubset_is_subset)"], ["proof (state)\nthis:\n  (\\<Lambda> x. F\\<cdot>{x})\\<cdot>x \\<sqsubseteq> f'\\<cdot>x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma theorem12:\n  fixes g :: \"'a::discrete_cpo \\<rightarrow> 'b::type set\" and R :: \"'a \\<rightarrow> 'a set\"\n  shows \"fix\\<cdot>(\\<Lambda> f x. g\\<cdot>x \\<union> (\\<Union>y\\<in>R\\<cdot>x. f\\<cdot>y))\\<cdot>x =  \\<^ps>g\\<cdot>(\\<Union>i.((\\<^ps>R)\\<^bsup>i\\<^esup>\\<cdot>{x}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<mu> f.\n        \\<Lambda> x.\n           g\\<cdot>x \\<union> \\<Union> (Rep_cfun f ` R\\<cdot>x))\\<cdot>\n    x =\n    \\<^ps> g\\<cdot>(\\<Union>i. (\\<^ps> R)\\<^bsup>i\\<^esup>\\<cdot>{x})", "by(subst theorem12'[OF theorem10ps[THEN sym]], auto simp add:powerset_distr)"], ["", "end"]]}