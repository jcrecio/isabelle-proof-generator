{"file_name": "/home/qj213/afp-2021-10-22/thys/UTP/utp/utp_usedby.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/UTP", "problem_names": ["lemma usedBy_lit [unrest]: \"x \\<natural> \\<guillemotleft>v\\<guillemotright>\"", "lemma usedBy_sublens:\n  fixes P :: \"('a, '\\<alpha>) uexpr\"\n  assumes \"x \\<natural> P\" \"x \\<subseteq>\\<^sub>L y\" \"vwb_lens y\"\n  shows \"y \\<natural> P\"", "lemma usedBy_svar [unrest]: \"x \\<natural> P \\<Longrightarrow> &x \\<natural> P\"", "lemma usedBy_lens_plus_1 [unrest]: \"x \\<natural> P \\<Longrightarrow> x;y \\<natural> P\"", "lemma usedBy_lens_plus_2 [unrest]: \"\\<lbrakk> x \\<bowtie> y; y \\<natural> P \\<rbrakk> \\<Longrightarrow> x;y \\<natural> P\"", "lemma usedBy_indep_uses:\n  fixes P :: \"('a, '\\<alpha>) uexpr\"\n  assumes \"x \\<natural> P\" \"x \\<bowtie> y\"\n  shows \"y \\<sharp> P\"", "lemma usedBy_var [unrest]:\n  assumes \"vwb_lens x\" \"y \\<subseteq>\\<^sub>L x\"\n  shows \"x \\<natural> var y\"", "lemma usedBy_uop [unrest]: \"x \\<natural> e \\<Longrightarrow> x \\<natural> uop f e\"", "lemma usedBy_bop [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> bop f u v\"", "lemma usedBy_trop [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v; x \\<natural> w \\<rbrakk> \\<Longrightarrow> x \\<natural> trop f u v w\"", "lemma usedBy_qtop [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v; x \\<natural> w; x \\<natural> y \\<rbrakk> \\<Longrightarrow> x \\<natural> qtop f u v w y\"", "lemma usedBy_eq [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u =\\<^sub>u v\"", "lemma usedBy_zero [unrest]: \"x \\<natural> 0\"", "lemma usedBy_one [unrest]: \"x \\<natural> 1\"", "lemma usedBy_numeral [unrest]: \"x \\<natural> (numeral n)\"", "lemma usedBy_sgn [unrest]: \"x \\<natural> u \\<Longrightarrow> x \\<natural> sgn u\"", "lemma usedBy_abs [unrest]: \"x \\<natural> u \\<Longrightarrow> x \\<natural> abs u\"", "lemma usedBy_plus [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u + v\"", "lemma usedBy_uminus [unrest]: \"x \\<natural> u \\<Longrightarrow> x \\<natural> - u\"", "lemma usedBy_minus [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u - v\"", "lemma usedBy_times [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u * v\"", "lemma usedBy_divide [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u / v\"", "lemma usedBy_ulambda [unrest]:\n  \"\\<lbrakk> \\<And> x. v \\<natural> F x \\<rbrakk> \\<Longrightarrow> v \\<natural> (\\<lambda> x \\<bullet> F x)\"", "lemma unrest_var_sep [unrest]:\n  \"vwb_lens x \\<Longrightarrow> x \\<natural> &x:y\""], "translations": [["", "lemma usedBy_lit [unrest]: \"x \\<natural> \\<guillemotleft>v\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> \\<guillemotleft>v\\<guillemotright>", "by (transfer, simp)"], ["", "lemma usedBy_sublens:\n  fixes P :: \"('a, '\\<alpha>) uexpr\"\n  assumes \"x \\<natural> P\" \"x \\<subseteq>\\<^sub>L y\" \"vwb_lens y\"\n  shows \"y \\<natural> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<natural> P", "using assms"], ["proof (prove)\nusing this:\n  x \\<natural> P\n  x \\<subseteq>\\<^sub>L y\n  vwb_lens y\n\ngoal (1 subgoal):\n 1. y \\<natural> P", "by (transfer, auto, metis Lens_Order.lens_override_idem lens_override_def sublens_obs_get vwb_lens_mwb)"], ["", "lemma usedBy_svar [unrest]: \"x \\<natural> P \\<Longrightarrow> &x \\<natural> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> P \\<Longrightarrow> &x \\<natural> P", "by (transfer, simp add: lens_defs)"], ["", "lemma usedBy_lens_plus_1 [unrest]: \"x \\<natural> P \\<Longrightarrow> x;y \\<natural> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> P \\<Longrightarrow> {x, y} \\<natural> P", "by (transfer, simp add: lens_defs)"], ["", "lemma usedBy_lens_plus_2 [unrest]: \"\\<lbrakk> x \\<bowtie> y; y \\<natural> P \\<rbrakk> \\<Longrightarrow> x;y \\<natural> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<bowtie> y; y \\<natural> P\\<rbrakk>\n    \\<Longrightarrow> {x, y} \\<natural> P", "by (transfer, auto simp add: lens_defs lens_indep_comm)"], ["", "text \\<open> Linking used-by to unrestriction: if x is used-by P, and x is independent of y, then\n  P cannot depend on any variable in y. \\<close>"], ["", "lemma usedBy_indep_uses:\n  fixes P :: \"('a, '\\<alpha>) uexpr\"\n  assumes \"x \\<natural> P\" \"x \\<bowtie> y\"\n  shows \"y \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<sharp> P", "using assms"], ["proof (prove)\nusing this:\n  x \\<natural> P\n  x \\<bowtie> y\n\ngoal (1 subgoal):\n 1. y \\<sharp> P", "by (transfer, auto, metis lens_indep_get lens_override_def)"], ["", "lemma usedBy_var [unrest]:\n  assumes \"vwb_lens x\" \"y \\<subseteq>\\<^sub>L x\"\n  shows \"x \\<natural> var y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> y", "using assms"], ["proof (prove)\nusing this:\n  vwb_lens x\n  y \\<subseteq>\\<^sub>L x\n\ngoal (1 subgoal):\n 1. x \\<natural> y", "by (transfer, simp add: uexpr_defs pr_var_def)\n     (metis lens_override_def sublens_obs_get vwb_lens_def wb_lens.get_put)"], ["", "lemma usedBy_uop [unrest]: \"x \\<natural> e \\<Longrightarrow> x \\<natural> uop f e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> e \\<Longrightarrow> x \\<natural> uop f e", "by (transfer, simp)"], ["", "lemma usedBy_bop [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> bop f u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> bop f u v", "by (transfer, simp)"], ["", "lemma usedBy_trop [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v; x \\<natural> w \\<rbrakk> \\<Longrightarrow> x \\<natural> trop f u v w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v; x \\<natural> w\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> trop f u v w", "by (transfer, simp)"], ["", "lemma usedBy_qtop [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v; x \\<natural> w; x \\<natural> y \\<rbrakk> \\<Longrightarrow> x \\<natural> qtop f u v w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v; x \\<natural> w;\n     x \\<natural> y\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> qtop f u v w y", "by (transfer, simp)"], ["", "text \\<open> For convenience, we also prove used-by rules for the bespoke operators on equality,\n  numbers, arithmetic etc. \\<close>"], ["", "lemma usedBy_eq [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u =\\<^sub>u v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> u =\\<^sub>u v", "by (simp add: eq_upred_def, transfer, simp)"], ["", "lemma usedBy_zero [unrest]: \"x \\<natural> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> 0", "by (simp add: usedBy_lit zero_uexpr_def)"], ["", "lemma usedBy_one [unrest]: \"x \\<natural> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> 1", "by (simp add: one_uexpr_def usedBy_lit)"], ["", "lemma usedBy_numeral [unrest]: \"x \\<natural> (numeral n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> numeral n", "by (simp add: numeral_uexpr_simp usedBy_lit)"], ["", "lemma usedBy_sgn [unrest]: \"x \\<natural> u \\<Longrightarrow> x \\<natural> sgn u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> u \\<Longrightarrow> x \\<natural> sgn u", "by (simp add: sgn_uexpr_def usedBy_uop)"], ["", "lemma usedBy_abs [unrest]: \"x \\<natural> u \\<Longrightarrow> x \\<natural> abs u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> u \\<Longrightarrow> x \\<natural> \\<bar>u\\<bar>", "by (simp add: abs_uexpr_def usedBy_uop)"], ["", "lemma usedBy_plus [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u + v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> u + v", "by (simp add: plus_uexpr_def unrest)"], ["", "lemma usedBy_uminus [unrest]: \"x \\<natural> u \\<Longrightarrow> x \\<natural> - u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<natural> u \\<Longrightarrow> x \\<natural> - u", "by (simp add: uminus_uexpr_def unrest)"], ["", "lemma usedBy_minus [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u - v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> u - v", "by (simp add: minus_uexpr_def unrest)"], ["", "lemma usedBy_times [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u * v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> u * v", "by (simp add: times_uexpr_def unrest)"], ["", "lemma usedBy_divide [unrest]: \"\\<lbrakk> x \\<natural> u; x \\<natural> v \\<rbrakk> \\<Longrightarrow> x \\<natural> u / v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<natural> u; x \\<natural> v\\<rbrakk>\n    \\<Longrightarrow> x \\<natural> u / v", "by (simp add: divide_uexpr_def unrest)"], ["", "lemma usedBy_ulambda [unrest]:\n  \"\\<lbrakk> \\<And> x. v \\<natural> F x \\<rbrakk> \\<Longrightarrow> v \\<natural> (\\<lambda> x \\<bullet> F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. v \\<natural> F x) \\<Longrightarrow> v \\<natural> ulambda F", "by (transfer, simp)"], ["", "lemma unrest_var_sep [unrest]:\n  \"vwb_lens x \\<Longrightarrow> x \\<natural> &x:y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vwb_lens x \\<Longrightarrow> x \\<natural> &x:y", "by (transfer, simp add: lens_defs)"], ["", "end"]]}