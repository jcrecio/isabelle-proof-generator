{"file_name": "/home/qj213/afp-2021-10-22/thys/Lambda_Free_RPOs/Lambda_Free_RPO_Optim.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Lambda_Free_RPOs", "problem_names": ["lemmas extf_snoc = ext_snoc.snoc[OF extf_ext_snoc]", "lemma chkargs_mono[mono]: \"gt \\<le> gt' \\<Longrightarrow> chkargs gt \\<le> chkargs gt'\"", "lemma gt_in_args_imp: \"ti \\<in> set (args t) \\<Longrightarrow> ti >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t s\"", "lemma gt_imp_vars: \"t >\\<^sub>t s \\<Longrightarrow> vars t \\<supseteq> vars s\"", "lemma gt_trans: \"u >\\<^sub>t t \\<Longrightarrow> t >\\<^sub>t s \\<Longrightarrow> u >\\<^sub>t s\"", "lemma gt_sub_fun: \"App s t >\\<^sub>t s\"", "lemma rpo_optim: \"rpo_optim ground_heads_var (>\\<^sub>s) extf arity_sym arity_var\"", "theorem gt_iff_optim: \"t >\\<^sub>t s \\<longleftrightarrow> t >\\<^sub>t\\<^sub>o s\""], "translations": [["", "lemmas extf_snoc = ext_snoc.snoc[OF extf_ext_snoc]"], ["", "subsection \\<open>Definition of the Order\\<close>"], ["", "definition\n  chkargs :: \"(('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool) \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool\"\nwhere\n  [simp]: \"chkargs gt t s \\<longleftrightarrow> (\\<forall>s' \\<in> set (args s). gt t s')\""], ["", "lemma chkargs_mono[mono]: \"gt \\<le> gt' \\<Longrightarrow> chkargs gt \\<le> chkargs gt'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gt \\<le> gt' \\<Longrightarrow> chkargs gt \\<le> chkargs gt'", "by force"], ["", "inductive gt :: \"('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool\" (infix \">\\<^sub>t\" 50) where\n  gt_arg: \"ti \\<in> set (args t) \\<Longrightarrow> ti >\\<^sub>t s \\<or> ti = s \\<Longrightarrow> t >\\<^sub>t s\"\n| gt_diff: \"head t >\\<^sub>h\\<^sub>d head s \\<Longrightarrow> chkvar t s \\<Longrightarrow> chkargs (>\\<^sub>t) t s \\<Longrightarrow> t >\\<^sub>t s\"\n| gt_same: \"head t = head s \\<Longrightarrow> chkargs (>\\<^sub>t) t s \\<Longrightarrow>\n    (\\<forall>f \\<in> ground_heads (head t). extf f (>\\<^sub>t) (args t) (args s)) \\<Longrightarrow> t >\\<^sub>t s\""], ["", "abbreviation ge :: \"('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool\" (infix \"\\<ge>\\<^sub>t\" 50) where\n  \"t \\<ge>\\<^sub>t s \\<equiv> t >\\<^sub>t s \\<or> t = s\""], ["", "subsection \\<open>Transitivity\\<close>"], ["", "lemma gt_in_args_imp: \"ti \\<in> set (args t) \\<Longrightarrow> ti >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>ti \\<in> set (args t); ti >\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t s", "by (cases t) (auto intro: gt_arg)"], ["", "lemma gt_imp_vars: \"t >\\<^sub>t s \\<Longrightarrow> vars t \\<supseteq> vars s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s \\<Longrightarrow> vars s \\<subseteq> vars t", "proof (simp only: atomize_imp,\n    rule measure_induct_rule[of \"\\<lambda>(t, s). size t + size s\"\n      \"\\<lambda>(t, s). t >\\<^sub>t s \\<longrightarrow> vars t \\<supseteq> vars s\" \"(t, s)\", simplified prod.case],\n    simp only: split_paired_all prod.case atomize_imp[symmetric])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>\\<And>aa ba.\n                   \\<lbrakk>size aa + size ba < size a + size b;\n                    aa >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> vars ba \\<subseteq> vars aa;\n        a >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> vars b \\<subseteq> vars a", "fix t s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>\\<And>aa ba.\n                   \\<lbrakk>size aa + size ba < size a + size b;\n                    aa >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> vars ba \\<subseteq> vars aa;\n        a >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> vars b \\<subseteq> vars a", "assume\n    ih: \"\\<And>ta sa. size ta + size sa < size t + size s \\<Longrightarrow> ta >\\<^sub>t sa \\<Longrightarrow> vars ta \\<supseteq> vars sa\" and\n    t_gt_s: \"t >\\<^sub>t s\""], ["proof (state)\nthis:\n  \\<lbrakk>size ?ta + size ?sa < size t + size s; ?ta >\\<^sub>t ?sa\\<rbrakk>\n  \\<Longrightarrow> vars ?sa \\<subseteq> vars ?ta\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       \\<lbrakk>\\<And>aa ba.\n                   \\<lbrakk>size aa + size ba < size a + size b;\n                    aa >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> vars ba \\<subseteq> vars aa;\n        a >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> vars b \\<subseteq> vars a", "show \"vars t \\<supseteq> vars s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "using t_gt_s"], ["proof (prove)\nusing this:\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args t); ti \\<ge>\\<^sub>t s\\<rbrakk>\n       \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t\n 3. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "case (gt_arg ti)"], ["proof (state)\nthis:\n  ti \\<in> set (args t)\n  ti \\<ge>\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args t); ti \\<ge>\\<^sub>t s\\<rbrakk>\n       \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t\n 3. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "thus ?thesis"], ["proof (prove)\nusing this:\n  ti \\<in> set (args t)\n  ti \\<ge>\\<^sub>t s\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "using ih[of ti s]"], ["proof (prove)\nusing this:\n  ti \\<in> set (args t)\n  ti \\<ge>\\<^sub>t s\n  \\<lbrakk>size ti + size s < size t + size s; ti >\\<^sub>t s\\<rbrakk>\n  \\<Longrightarrow> vars s \\<subseteq> vars ti\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "by (metis size_in_args vars_args_subseteq add_mono_thms_linordered_field(1) order_trans)"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "case gt_diff"], ["proof (state)\nthis:\n  head t >\\<^sub>h\\<^sub>d head s\n  chkvar t s\n  chkargs (>\\<^sub>t) t s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "proof (cases s)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x1. s = Hd x1 \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<And>x21 x22.\n       s = App x21 x22 \\<Longrightarrow> vars s \\<subseteq> vars t", "case Hd"], ["proof (state)\nthis:\n  s = Hd x1_\n\ngoal (2 subgoals):\n 1. \\<And>x1. s = Hd x1 \\<Longrightarrow> vars s \\<subseteq> vars t\n 2. \\<And>x21 x22.\n       s = App x21 x22 \\<Longrightarrow> vars s \\<subseteq> vars t", "thus ?thesis"], ["proof (prove)\nusing this:\n  s = Hd x1_\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "using gt_diff(2)"], ["proof (prove)\nusing this:\n  s = Hd x1_\n  chkvar t s\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "by (auto elim: hd.set_cases(2))"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22.\n       s = App x21 x22 \\<Longrightarrow> vars s \\<subseteq> vars t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x21 x22.\n       s = App x21 x22 \\<Longrightarrow> vars s \\<subseteq> vars t", "case (App s1 s2)"], ["proof (state)\nthis:\n  s = App s1 s2\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22.\n       s = App x21 x22 \\<Longrightarrow> vars s \\<subseteq> vars t", "thus ?thesis"], ["proof (prove)\nusing this:\n  s = App s1 s2\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "using gt_diff ih"], ["proof (prove)\nusing this:\n  s = App s1 s2\n  head t >\\<^sub>h\\<^sub>d head s\n  chkvar t s\n  chkargs (>\\<^sub>t) t s\n  \\<lbrakk>size ?ta + size ?sa < size t + size s; ?ta >\\<^sub>t ?sa\\<rbrakk>\n  \\<Longrightarrow> vars ?sa \\<subseteq> vars ?ta\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "by simp (metis (no_types) add.assoc gt.simps[unfolded chkargs_def chkvar_def] less_add_Suc1)"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "case gt_same"], ["proof (state)\nthis:\n  head t = head s\n  chkargs (>\\<^sub>t) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> vars s \\<subseteq> vars t", "thus ?thesis"], ["proof (prove)\nusing this:\n  head t = head s\n  chkargs (>\\<^sub>t) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "proof (cases s rule: tm_exhaust_apps)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<zeta> ss.\n       \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t) (args t) (args s);\n        s = apps (Hd \\<zeta>) ss\\<rbrakk>\n       \\<Longrightarrow> vars s \\<subseteq> vars t", "case s: (apps \\<zeta> ss)"], ["proof (state)\nthis:\n  s = apps (Hd \\<zeta>) ss\n\ngoal (1 subgoal):\n 1. \\<And>\\<zeta> ss.\n       \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t) (args t) (args s);\n        s = apps (Hd \\<zeta>) ss\\<rbrakk>\n       \\<Longrightarrow> vars s \\<subseteq> vars t", "thus ?thesis"], ["proof (prove)\nusing this:\n  s = apps (Hd \\<zeta>) ss\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "using gt_same"], ["proof (prove)\nusing this:\n  s = apps (Hd \\<zeta>) ss\n  head t = head s\n  chkargs (>\\<^sub>t) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. vars s \\<subseteq> vars t", "unfolding chkargs_def s"], ["proof (prove)\nusing this:\n  apps (Hd \\<zeta>) ss = apps (Hd \\<zeta>) ss\n  head t = head (apps (Hd \\<zeta>) ss)\n  Ball (set (args (apps (Hd \\<zeta>) ss))) ((>\\<^sub>t) t)\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args (apps (Hd \\<zeta>) ss))\n\ngoal (1 subgoal):\n 1. vars (apps (Hd \\<zeta>) ss) \\<subseteq> vars t", "by (auto intro!: vars_head_subseteq)\n          (metis ih[of t] insert_absorb insert_subset nat_add_left_cancel_less s size_in_args\n            tm_collapse_apps tm_inject_apps)"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  vars s \\<subseteq> vars t\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma gt_trans: \"u >\\<^sub>t t \\<Longrightarrow> t >\\<^sub>t s \\<Longrightarrow> u >\\<^sub>t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>u >\\<^sub>t t; t >\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "proof (simp only: atomize_imp,\n    rule measure_induct_rule[of \"\\<lambda>(u, t, s). {#size u, size t, size s#}\"\n        \"\\<lambda>(u, t, s). u >\\<^sub>t t \\<longrightarrow> t >\\<^sub>t s \\<longrightarrow> u >\\<^sub>t s\" \"(u, t, s)\",\n      simplified prod.case],\n    simp only: split_paired_all prod.case atomize_imp[symmetric])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       \\<lbrakk>\\<And>ab ac ba.\n                   \\<lbrakk>{#size ab, size ac, size ba#}\n                            < {#size a, size aa, size b#};\n                    ab >\\<^sub>t ac; ac >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> ab >\\<^sub>t ba;\n        a >\\<^sub>t aa; aa >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> a >\\<^sub>t b", "fix u t s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       \\<lbrakk>\\<And>ab ac ba.\n                   \\<lbrakk>{#size ab, size ac, size ba#}\n                            < {#size a, size aa, size b#};\n                    ab >\\<^sub>t ac; ac >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> ab >\\<^sub>t ba;\n        a >\\<^sub>t aa; aa >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> a >\\<^sub>t b", "assume\n    ih: \"\\<And>ua ta sa. {#size ua, size ta, size sa#} < {#size u, size t, size s#} \\<Longrightarrow>\n      ua >\\<^sub>t ta \\<Longrightarrow> ta >\\<^sub>t sa \\<Longrightarrow> ua >\\<^sub>t sa\" and\n    u_gt_t: \"u >\\<^sub>t t\" and t_gt_s: \"t >\\<^sub>t s\""], ["proof (state)\nthis:\n  \\<lbrakk>{#size ?ua, size ?ta, size ?sa#} < {#size u, size t, size s#};\n   ?ua >\\<^sub>t ?ta; ?ta >\\<^sub>t ?sa\\<rbrakk>\n  \\<Longrightarrow> ?ua >\\<^sub>t ?sa\n  u >\\<^sub>t t\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       \\<lbrakk>\\<And>ab ac ba.\n                   \\<lbrakk>{#size ab, size ac, size ba#}\n                            < {#size a, size aa, size b#};\n                    ab >\\<^sub>t ac; ac >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> ab >\\<^sub>t ba;\n        a >\\<^sub>t aa; aa >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> a >\\<^sub>t b", "have chkvar: \"chkvar u s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chkvar u s", "by clarsimp (meson u_gt_t t_gt_s gt_imp_vars hd.set_sel(2) vars_head_subseteq subsetCE)"], ["proof (state)\nthis:\n  chkvar u s\n\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       \\<lbrakk>\\<And>ab ac ba.\n                   \\<lbrakk>{#size ab, size ac, size ba#}\n                            < {#size a, size aa, size b#};\n                    ab >\\<^sub>t ac; ac >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> ab >\\<^sub>t ba;\n        a >\\<^sub>t aa; aa >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> a >\\<^sub>t b", "have chk_u_s_if: \"chkargs (>\\<^sub>t) u s\" if chk_t_s: \"chkargs (>\\<^sub>t) t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chkargs (>\\<^sub>t) u s", "proof (clarsimp simp only: chkargs_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s'. s' \\<in> set (args s) \\<Longrightarrow> u >\\<^sub>t s'", "fix s'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s'. s' \\<in> set (args s) \\<Longrightarrow> u >\\<^sub>t s'", "assume \"s' \\<in> set (args s)\""], ["proof (state)\nthis:\n  s' \\<in> set (args s)\n\ngoal (1 subgoal):\n 1. \\<And>s'. s' \\<in> set (args s) \\<Longrightarrow> u >\\<^sub>t s'", "thus \"u >\\<^sub>t s'\""], ["proof (prove)\nusing this:\n  s' \\<in> set (args s)\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s'", "using chk_t_s"], ["proof (prove)\nusing this:\n  s' \\<in> set (args s)\n  chkargs (>\\<^sub>t) t s\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s'", "by (auto intro!: ih[of _ _ s', OF _ u_gt_t] size_in_args)"], ["proof (state)\nthis:\n  u >\\<^sub>t s'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  chkargs (>\\<^sub>t) t s \\<Longrightarrow> chkargs (>\\<^sub>t) u s\n\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       \\<lbrakk>\\<And>ab ac ba.\n                   \\<lbrakk>{#size ab, size ac, size ba#}\n                            < {#size a, size aa, size b#};\n                    ab >\\<^sub>t ac; ac >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> ab >\\<^sub>t ba;\n        a >\\<^sub>t aa; aa >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> a >\\<^sub>t b", "have u_gt_s_if_ui: \"ui \\<ge>\\<^sub>t t \\<Longrightarrow> u >\\<^sub>t s\" if ui_in: \"ui \\<in> set (args u)\" for ui"], ["proof (prove)\ngoal (1 subgoal):\n 1. ui \\<ge>\\<^sub>t t \\<Longrightarrow> u >\\<^sub>t s", "using ih[of ui t s, simplified, OF size_in_args[OF ui_in] _ t_gt_s]\n      gt_in_args_imp[OF ui_in, of s] t_gt_s"], ["proof (prove)\nusing this:\n  ui >\\<^sub>t t \\<Longrightarrow> ui >\\<^sub>t s\n  ui >\\<^sub>t s \\<Longrightarrow> u >\\<^sub>t s\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. ui \\<ge>\\<^sub>t t \\<Longrightarrow> u >\\<^sub>t s", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>?ui \\<in> set (args u); ?ui \\<ge>\\<^sub>t t\\<rbrakk>\n  \\<Longrightarrow> u >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       \\<lbrakk>\\<And>ab ac ba.\n                   \\<lbrakk>{#size ab, size ac, size ba#}\n                            < {#size a, size aa, size b#};\n                    ab >\\<^sub>t ac; ac >\\<^sub>t ba\\<rbrakk>\n                   \\<Longrightarrow> ab >\\<^sub>t ba;\n        a >\\<^sub>t aa; aa >\\<^sub>t b\\<rbrakk>\n       \\<Longrightarrow> a >\\<^sub>t b", "show \"u >\\<^sub>t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "using t_gt_s"], ["proof (prove)\nusing this:\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args t); ti \\<ge>\\<^sub>t s\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_arg_t_s: (gt_arg ti)"], ["proof (state)\nthis:\n  ti \\<in> set (args t)\n  ti \\<ge>\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args t); ti \\<ge>\\<^sub>t s\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have u_gt_s_if_chk_u_t: ?thesis if chk_u_t: \"chkargs (>\\<^sub>t) u t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "using ih[of u ti s] gt_arg_t_s chk_u_t size_in_args"], ["proof (prove)\nusing this:\n  \\<lbrakk>{#size u, size ti, size s#} < {#size u, size t, size s#};\n   u >\\<^sub>t ti; ti >\\<^sub>t s\\<rbrakk>\n  \\<Longrightarrow> u >\\<^sub>t s\n  ti \\<in> set (args t)\n  ti \\<ge>\\<^sub>t s\n  chkargs (>\\<^sub>t) u t\n  ?s \\<in> set (args ?t) \\<Longrightarrow> size ?s < size ?t\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "by force"], ["proof (state)\nthis:\n  chkargs (>\\<^sub>t) u t \\<Longrightarrow> u >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args t); ti \\<ge>\\<^sub>t s\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "using u_gt_t"], ["proof (prove)\nusing this:\n  u >\\<^sub>t t\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "by cases (auto intro: u_gt_s_if_ui u_gt_s_if_chk_u_t)"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_diff_t_s: gt_diff"], ["proof (state)\nthis:\n  head t >\\<^sub>h\\<^sub>d head s\n  chkvar t s\n  chkargs (>\\<^sub>t) t s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chkargs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "using u_gt_t"], ["proof (prove)\nusing this:\n  u >\\<^sub>t t\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u >\\<^sub>h\\<^sub>d head t; chkvar u t;\n     chkargs (>\\<^sub>t) u t\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_diff_u_t: gt_diff"], ["proof (state)\nthis:\n  head u >\\<^sub>h\\<^sub>d head t\n  chkvar u t\n  chkargs (>\\<^sub>t) u t\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u >\\<^sub>h\\<^sub>d head t; chkvar u t;\n     chkargs (>\\<^sub>t) u t\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have \"head u >\\<^sub>h\\<^sub>d head s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. head u >\\<^sub>h\\<^sub>d head s", "using gt_diff_u_t(1) gt_diff_t_s(1)"], ["proof (prove)\nusing this:\n  head u >\\<^sub>h\\<^sub>d head t\n  head t >\\<^sub>h\\<^sub>d head s\n\ngoal (1 subgoal):\n 1. head u >\\<^sub>h\\<^sub>d head s", "by (auto intro: gt_hd_trans)"], ["proof (state)\nthis:\n  head u >\\<^sub>h\\<^sub>d head s\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u >\\<^sub>h\\<^sub>d head t; chkvar u t;\n     chkargs (>\\<^sub>t) u t\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "thus ?thesis"], ["proof (prove)\nusing this:\n  head u >\\<^sub>h\\<^sub>d head s\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "by (rule gt_diff[OF _ chkvar chk_u_s_if[OF gt_diff_t_s(3)]])"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_same_u_t: gt_same"], ["proof (state)\nthis:\n  head u = head t\n  chkargs (>\\<^sub>t) u t\n  \\<forall>f\\<in>local.ground_heads (head u).\n     extf f (>\\<^sub>t) (args u) (args t)\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have \"head u >\\<^sub>h\\<^sub>d head s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. head u >\\<^sub>h\\<^sub>d head s", "using gt_diff_t_s(1) gt_same_u_t(1)"], ["proof (prove)\nusing this:\n  head t >\\<^sub>h\\<^sub>d head s\n  head u = head t\n\ngoal (1 subgoal):\n 1. head u >\\<^sub>h\\<^sub>d head s", "by auto"], ["proof (state)\nthis:\n  head u >\\<^sub>h\\<^sub>d head s\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "thus ?thesis"], ["proof (prove)\nusing this:\n  head u >\\<^sub>h\\<^sub>d head s\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "by (rule gt_diff[OF _ chkvar chk_u_s_if[OF gt_diff_t_s(3)]])"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s", "qed (auto intro: u_gt_s_if_ui)"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_same_t_s: gt_same"], ["proof (state)\nthis:\n  head t = head s\n  chkargs (>\\<^sub>t) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chkargs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "using u_gt_t"], ["proof (prove)\nusing this:\n  u >\\<^sub>t t\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u >\\<^sub>h\\<^sub>d head t; chkvar u t;\n     chkargs (>\\<^sub>t) u t\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_diff_u_t: gt_diff"], ["proof (state)\nthis:\n  head u >\\<^sub>h\\<^sub>d head t\n  chkvar u t\n  chkargs (>\\<^sub>t) u t\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u >\\<^sub>h\\<^sub>d head t; chkvar u t;\n     chkargs (>\\<^sub>t) u t\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have \"head u >\\<^sub>h\\<^sub>d head s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. head u >\\<^sub>h\\<^sub>d head s", "using gt_diff_u_t(1) gt_same_t_s(1)"], ["proof (prove)\nusing this:\n  head u >\\<^sub>h\\<^sub>d head t\n  head t = head s\n\ngoal (1 subgoal):\n 1. head u >\\<^sub>h\\<^sub>d head s", "by simp"], ["proof (state)\nthis:\n  head u >\\<^sub>h\\<^sub>d head s\n\ngoal (3 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u >\\<^sub>h\\<^sub>d head t; chkvar u t;\n     chkargs (>\\<^sub>t) u t\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s\n 3. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "thus ?thesis"], ["proof (prove)\nusing this:\n  head u >\\<^sub>h\\<^sub>d head s\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "by (rule gt_diff[OF _ chkvar chk_u_s_if[OF gt_same_t_s(2)]])"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "case gt_same_u_t: gt_same"], ["proof (state)\nthis:\n  head u = head t\n  chkargs (>\\<^sub>t) u t\n  \\<forall>f\\<in>local.ground_heads (head u).\n     extf f (>\\<^sub>t) (args u) (args t)\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have hd_u_s: \"head u = head s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. head u = head s", "using gt_same_u_t(1) gt_same_t_s(1)"], ["proof (prove)\nusing this:\n  head u = head t\n  head t = head s\n\ngoal (1 subgoal):\n 1. head u = head s", "by simp"], ["proof (state)\nthis:\n  head u = head s\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "let ?S = \"set (args u) \\<union> set (args t) \\<union> set (args s)\""], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have gt_trans_args: \"\\<forall>ua \\<in> ?S. \\<forall>ta \\<in> ?S. \\<forall>sa \\<in> ?S. ua >\\<^sub>t ta \\<longrightarrow> ta >\\<^sub>t sa \\<longrightarrow> ua >\\<^sub>t sa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>uaa\\<in>set (args u) \\<union> set (args t) \\<union>\n                     set (args s).\n       \\<forall>taa\\<in>set (args u) \\<union> set (args t) \\<union>\n                        set (args s).\n          \\<forall>sa\\<in>set (args u) \\<union> set (args t) \\<union>\n                          set (args s).\n             uaa >\\<^sub>t taa \\<longrightarrow>\n             taa >\\<^sub>t sa \\<longrightarrow> uaa >\\<^sub>t sa", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>uaa taa saa.\n       \\<lbrakk>uaa\n                \\<in> set (args u) \\<union> set (args t) \\<union>\n                      set (args s);\n        taa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s);\n        saa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s);\n        uaa >\\<^sub>t taa; taa >\\<^sub>t saa\\<rbrakk>\n       \\<Longrightarrow> uaa >\\<^sub>t saa", "fix sa ta ua"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>uaa taa saa.\n       \\<lbrakk>uaa\n                \\<in> set (args u) \\<union> set (args t) \\<union>\n                      set (args s);\n        taa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s);\n        saa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s);\n        uaa >\\<^sub>t taa; taa >\\<^sub>t saa\\<rbrakk>\n       \\<Longrightarrow> uaa >\\<^sub>t saa", "assume\n          ua_in: \"ua \\<in> ?S\" and ta_in: \"ta \\<in> ?S\" and sa_in: \"sa \\<in> ?S\" and\n          ua_gt_ta: \"ua >\\<^sub>t ta\" and ta_gt_sa: \"ta >\\<^sub>t sa\""], ["proof (state)\nthis:\n  ua \\<in> set (args u) \\<union> set (args t) \\<union> set (args s)\n  ta \\<in> set (args u) \\<union> set (args t) \\<union> set (args s)\n  sa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s)\n  ua >\\<^sub>t ta\n  ta >\\<^sub>t sa\n\ngoal (1 subgoal):\n 1. \\<And>uaa taa saa.\n       \\<lbrakk>uaa\n                \\<in> set (args u) \\<union> set (args t) \\<union>\n                      set (args s);\n        taa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s);\n        saa \\<in> set (args u) \\<union> set (args t) \\<union> set (args s);\n        uaa >\\<^sub>t taa; taa >\\<^sub>t saa\\<rbrakk>\n       \\<Longrightarrow> uaa >\\<^sub>t saa", "show \"ua >\\<^sub>t sa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ua >\\<^sub>t sa", "by (auto intro!: ih[OF Max_lt_imp_lt_mset ua_gt_ta ta_gt_sa])\n            (meson ua_in ta_in sa_in Un_iff max.strict_coboundedI1 max.strict_coboundedI2\n               size_in_args)+"], ["proof (state)\nthis:\n  ua >\\<^sub>t sa\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>uaa\\<in>set (args u) \\<union> set (args t) \\<union> set (args s).\n     \\<forall>taa\\<in>set (args u) \\<union> set (args t) \\<union>\n                      set (args s).\n        \\<forall>sa\\<in>set (args u) \\<union> set (args t) \\<union>\n                        set (args s).\n           uaa >\\<^sub>t taa \\<longrightarrow>\n           taa >\\<^sub>t sa \\<longrightarrow> uaa >\\<^sub>t sa\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "have \"\\<forall>f \\<in> ground_heads (head u). extf f (>\\<^sub>t) (args u) (args s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>local.ground_heads (head u).\n       extf f (>\\<^sub>t) (args u) (args s)", "proof (clarify, rule extf_trans[OF _ _ _ gt_trans_args])"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args u\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       ?ys1 f\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 3. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args s\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 4. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args u) (?ys1 f)\n 5. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (?ys1 f) (args s)", "fix f"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args u\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       ?ys1 f\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 3. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args s\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 4. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args u) (?ys1 f)\n 5. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (?ys1 f) (args s)", "assume f_in_grounds: \"f \\<in> ground_heads (head u)\""], ["proof (state)\nthis:\n  f \\<in> local.ground_heads (head u)\n\ngoal (5 subgoals):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args u\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       ?ys1 f\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 3. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args s\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 4. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args u) (?ys1 f)\n 5. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (?ys1 f) (args s)", "show \"extf f (>\\<^sub>t) (args u) (args t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args u) (args t)", "using f_in_grounds gt_same_u_t(3)"], ["proof (prove)\nusing this:\n  f \\<in> local.ground_heads (head u)\n  \\<forall>f\\<in>local.ground_heads (head u).\n     extf f (>\\<^sub>t) (args u) (args t)\n\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args u) (args t)", "by blast"], ["proof (state)\nthis:\n  extf f (>\\<^sub>t) (args u) (args t)\n\ngoal (4 subgoals):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args u\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args t\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 3. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args s\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 4. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "show \"extf f (>\\<^sub>t) (args t) (args s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args t) (args s)", "using f_in_grounds gt_same_t_s(3)"], ["proof (prove)\nusing this:\n  f \\<in> local.ground_heads (head u)\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args t) (args s)", "unfolding gt_same_u_t(1)"], ["proof (prove)\nusing this:\n  f \\<in> local.ground_heads (head t)\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args t) (args s)", "by blast"], ["proof (state)\nthis:\n  extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (3 subgoals):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args u\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args t\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))\n 3. \\<And>f.\n       f \\<in> local.ground_heads (head u) \\<Longrightarrow>\n       args s\n       \\<in> lists\n              (set (args u) \\<union> set (args t) \\<union> set (args s))", "qed auto"], ["proof (state)\nthis:\n  \\<forall>f\\<in>local.ground_heads (head u).\n     extf f (>\\<^sub>t) (args u) (args s)\n\ngoal (2 subgoals):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s\n 2. \\<lbrakk>head u = head t; chkargs (>\\<^sub>t) u t;\n     \\<forall>f\\<in>local.ground_heads (head u).\n        extf f (>\\<^sub>t) (args u) (args t)\\<rbrakk>\n    \\<Longrightarrow> u >\\<^sub>t s", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>f\\<in>local.ground_heads (head u).\n     extf f (>\\<^sub>t) (args u) (args s)\n\ngoal (1 subgoal):\n 1. u >\\<^sub>t s", "by (rule gt_same[OF hd_u_s chk_u_s_if[OF gt_same_t_s(2)]])"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<And>ti.\n       \\<lbrakk>ti \\<in> set (args u); ti \\<ge>\\<^sub>t t\\<rbrakk>\n       \\<Longrightarrow> u >\\<^sub>t s", "qed (auto intro: u_gt_s_if_ui)"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  u >\\<^sub>t s\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma gt_sub_fun: \"App s t >\\<^sub>t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. App s t >\\<^sub>t s", "by (rule gt_same) (auto intro: extf_snoc gt_arg[of _ \"App s t\"])"], ["", "end"], ["", "subsection \\<open>Conditional Equivalence with Unoptimized Version\\<close>"], ["", "context rpo\nbegin"], ["", "context\n  assumes extf_ext_snoc: \"\\<And>f. ext_snoc (extf f)\"\nbegin"], ["", "lemma rpo_optim: \"rpo_optim ground_heads_var (>\\<^sub>s) extf arity_sym arity_var\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rpo_optim ground_heads_var (>\\<^sub>s) extf arity_sym arity_var", "unfolding rpo_optim_def rpo_optim_axioms_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. rpo_basis ground_heads_var (>\\<^sub>s) arity_sym arity_var extf \\<and>\n    (\\<forall>f. ext_snoc (extf f))", "using rpo_basis_axioms extf_ext_snoc"], ["proof (prove)\nusing this:\n  rpo_basis ground_heads_var (>\\<^sub>s) arity_sym arity_var extf\n  ext_snoc (extf ?f)\n\ngoal (1 subgoal):\n 1. rpo_basis ground_heads_var (>\\<^sub>s) arity_sym arity_var extf \\<and>\n    (\\<forall>f. ext_snoc (extf f))", "by auto"], ["", "abbreviation\n  chkargs :: \"(('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool) \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool\"\nwhere\n  \"chkargs \\<equiv> rpo_optim.chkargs\""], ["", "abbreviation gt_optim :: \"('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool\" (infix \">\\<^sub>t\\<^sub>o\" 50) where\n  \"(>\\<^sub>t\\<^sub>o) \\<equiv> rpo_optim.gt ground_heads_var (>\\<^sub>s) extf\""], ["", "abbreviation ge_optim :: \"('s, 'v) tm \\<Rightarrow> ('s, 'v) tm \\<Rightarrow> bool\" (infix \"\\<ge>\\<^sub>t\\<^sub>o\" 50) where\n  \"(\\<ge>\\<^sub>t\\<^sub>o) \\<equiv> rpo_optim.ge ground_heads_var (>\\<^sub>s) extf\""], ["", "theorem gt_iff_optim: \"t >\\<^sub>t s \\<longleftrightarrow> t >\\<^sub>t\\<^sub>o s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t >\\<^sub>t s) = (t >\\<^sub>t\\<^sub>o s)", "proof (rule measure_induct_rule[of \"\\<lambda>(t, s). size t + size s\"\n      \"\\<lambda>(t, s). t >\\<^sub>t s \\<longleftrightarrow> t >\\<^sub>t\\<^sub>o s\" \"(t, s)\", simplified prod.case],\n    simp only: split_paired_all prod.case)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (\\<And>aa ba.\n           size aa + size ba < size a + size b \\<Longrightarrow>\n           (aa >\\<^sub>t ba) = (aa >\\<^sub>t\\<^sub>o ba)) \\<Longrightarrow>\n       (a >\\<^sub>t b) = (a >\\<^sub>t\\<^sub>o b)", "fix t s :: \"('s, 'v) tm\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (\\<And>aa ba.\n           size aa + size ba < size a + size b \\<Longrightarrow>\n           (aa >\\<^sub>t ba) = (aa >\\<^sub>t\\<^sub>o ba)) \\<Longrightarrow>\n       (a >\\<^sub>t b) = (a >\\<^sub>t\\<^sub>o b)", "assume ih: \"\\<And>ta sa. size ta + size sa < size t + size s \\<Longrightarrow> ta >\\<^sub>t sa \\<longleftrightarrow> ta >\\<^sub>t\\<^sub>o sa\""], ["proof (state)\nthis:\n  size ?ta + size ?sa < size t + size s \\<Longrightarrow>\n  (?ta >\\<^sub>t ?sa) = (?ta >\\<^sub>t\\<^sub>o ?sa)\n\ngoal (1 subgoal):\n 1. \\<And>a b.\n       (\\<And>aa ba.\n           size aa + size ba < size a + size b \\<Longrightarrow>\n           (aa >\\<^sub>t ba) = (aa >\\<^sub>t\\<^sub>o ba)) \\<Longrightarrow>\n       (a >\\<^sub>t b) = (a >\\<^sub>t\\<^sub>o b)", "show \"t >\\<^sub>t s \\<longleftrightarrow> t >\\<^sub>t\\<^sub>o s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t >\\<^sub>t s) = (t >\\<^sub>t\\<^sub>o s)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. t >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "assume t_gt_s: \"t >\\<^sub>t s\""], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal (2 subgoals):\n 1. t >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "have chkargs_if_chksubs: \"chkargs (>\\<^sub>t\\<^sub>o) t s\" if chksubs: \"chksubs (>\\<^sub>t) t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chkargs (>\\<^sub>t\\<^sub>o) t s", "unfolding rpo_optim.chkargs_def[OF rpo_optim]"], ["proof (prove)\ngoal (1 subgoal):\n 1. Ball (set (args s)) ((>\\<^sub>t\\<^sub>o) t)", "proof (cases s, simp_all, intro conjI ballI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x22\n 2. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "fix s1 s2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x22\n 2. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "assume s: \"s = App s1 s2\""], ["proof (state)\nthis:\n  s = App s1 s2\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x22\n 2. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "have t_gt_s2: \"t >\\<^sub>t s2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s2", "using chksubs s"], ["proof (prove)\nusing this:\n  chksubs (>\\<^sub>t) t s\n  s = App s1 s2\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s2", "by simp"], ["proof (state)\nthis:\n  t >\\<^sub>t s2\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x22\n 2. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "show \"t >\\<^sub>t\\<^sub>o s2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s2", "by (rule ih[THEN iffD1, OF _ t_gt_s2]) (simp add: s)"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s2\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "{"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s2\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "fix s1i"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "assume s1i_in: \"s1i \\<in> set (args s1)\""], ["proof (state)\nthis:\n  s1i \\<in> set (args s1)\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "have \"t >\\<^sub>t s1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s1", "using chksubs s"], ["proof (prove)\nusing this:\n  chksubs (>\\<^sub>t) t s\n  s = App s1 s2\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s1", "by simp"], ["proof (state)\nthis:\n  t >\\<^sub>t s1\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "moreover"], ["proof (state)\nthis:\n  t >\\<^sub>t s1\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "have \"s1 >\\<^sub>t s1i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s1 >\\<^sub>t s1i", "using s1i_in gt_proper_sub size_in_args sub_args"], ["proof (prove)\nusing this:\n  s1i \\<in> set (args s1)\n  proper_sub ?s ?t \\<Longrightarrow> ?t >\\<^sub>t ?s\n  ?s \\<in> set (args ?t) \\<Longrightarrow> size ?s < size ?t\n  ?s \\<in> set (args ?t) \\<Longrightarrow> sub ?s ?t\n\ngoal (1 subgoal):\n 1. s1 >\\<^sub>t s1i", "by fastforce"], ["proof (state)\nthis:\n  s1 >\\<^sub>t s1i\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "ultimately"], ["proof (chain)\npicking this:\n  t >\\<^sub>t s1\n  s1 >\\<^sub>t s1i", "have t_gt_s1i: \"t >\\<^sub>t s1i\""], ["proof (prove)\nusing this:\n  t >\\<^sub>t s1\n  s1 >\\<^sub>t s1i\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s1i", "by (rule gt_trans)"], ["proof (state)\nthis:\n  t >\\<^sub>t s1i\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "have sz_s1i: \"size s1i < size s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. size s1i < size s", "using size_in_args[OF s1i_in] s"], ["proof (prove)\nusing this:\n  size s1i < size s1\n  s = App s1 s2\n\ngoal (1 subgoal):\n 1. size s1i < size s", "by simp"], ["proof (state)\nthis:\n  size s1i < size s\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22 x.\n       \\<lbrakk>s = App x21 x22; x \\<in> set (args x21)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t\\<^sub>o x", "show \"t >\\<^sub>t\\<^sub>o s1i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s1i", "by (rule ih[THEN iffD1, OF _ t_gt_s1i]) (simp add: sz_s1i)"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s1i\n\ngoal:\nNo subgoals!", "}"], ["proof (state)\nthis:\n  ?s1i2 \\<in> set (args s1) \\<Longrightarrow> t >\\<^sub>t\\<^sub>o ?s1i2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  chksubs (>\\<^sub>t) t s \\<Longrightarrow> chkargs (>\\<^sub>t\\<^sub>o) t s\n\ngoal (2 subgoals):\n 1. t >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "show \"t >\\<^sub>t\\<^sub>o s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "using t_gt_s"], ["proof (prove)\nusing this:\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "proof cases"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "case gt_sub"], ["proof (state)\nthis:\n  is_App t\n  fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "note t_app = this(1) and ti_geo_s = this(2)"], ["proof (state)\nthis:\n  is_App t\n  fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "obtain t1 t2 where t: \"t = App t1 t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t1 t2. t = App t1 t2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using t_app"], ["proof (prove)\nusing this:\n  is_App t\n\ngoal (1 subgoal):\n 1. (\\<And>t1 t2. t = App t1 t2 \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis tm.collapse(2))"], ["proof (state)\nthis:\n  t = App t1 t2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "have t_gto_t1: \"t >\\<^sub>t\\<^sub>o t1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o t1", "unfolding t"], ["proof (prove)\ngoal (1 subgoal):\n 1. App t1 t2 >\\<^sub>t\\<^sub>o t1", "by (rule rpo_optim.gt_sub_fun[OF rpo_optim])"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o t1\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "have t_gto_t2: \"t >\\<^sub>t\\<^sub>o t2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o t2", "unfolding t"], ["proof (prove)\ngoal (1 subgoal):\n 1. App t1 t2 >\\<^sub>t\\<^sub>o t2", "by (rule rpo_optim.gt_arg[OF rpo_optim, of t2]) simp+"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o t2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "{"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o t2\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "assume t1_gt_s: \"t1 >\\<^sub>t s\""], ["proof (state)\nthis:\n  t1 >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "have \"t1 >\\<^sub>t\\<^sub>o s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t1 >\\<^sub>t\\<^sub>o s", "by (rule ih[THEN iffD1, OF _ t1_gt_s]) (simp add: t)"], ["proof (state)\nthis:\n  t1 >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "hence ?thesis"], ["proof (prove)\nusing this:\n  t1 >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "by (rule rpo_optim.gt_trans[OF rpo_optim t_gto_t1])"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "}"], ["proof (state)\nthis:\n  t1 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "moreover"], ["proof (state)\nthis:\n  t1 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "{"], ["proof (state)\nthis:\n  t1 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "assume t2_gt_s: \"t2 >\\<^sub>t s\""], ["proof (state)\nthis:\n  t2 >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "have \"t2 >\\<^sub>t\\<^sub>o s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t2 >\\<^sub>t\\<^sub>o s", "by (rule ih[THEN iffD1, OF _ t2_gt_s]) (simp add: t)"], ["proof (state)\nthis:\n  t2 >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "hence ?thesis"], ["proof (prove)\nusing this:\n  t2 >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "by (rule rpo_optim.gt_trans[OF rpo_optim t_gto_t2])"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "}"], ["proof (state)\nthis:\n  t2 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<lbrakk>is_App t;\n     fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 3. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "ultimately"], ["proof (chain)\npicking this:\n  t1 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n  t2 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "show ?thesis"], ["proof (prove)\nusing this:\n  t1 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n  t2 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "using t ti_geo_s t_gto_t1 t_gto_t2"], ["proof (prove)\nusing this:\n  t1 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n  t2 >\\<^sub>t s \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n  t = App t1 t2\n  fun t \\<ge>\\<^sub>t s \\<or> arg t \\<ge>\\<^sub>t s\n  t >\\<^sub>t\\<^sub>o t1\n  t >\\<^sub>t\\<^sub>o t2\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "by auto"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "case gt_diff"], ["proof (state)\nthis:\n  head t >\\<^sub>h\\<^sub>d head s\n  chkvar t s\n  chksubs (>\\<^sub>t) t s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "note hd_t_gt_s = this(1) and chkvar = this(2) and chksubs = this(3)"], ["proof (state)\nthis:\n  head t >\\<^sub>h\\<^sub>d head s\n  chkvar t s\n  chksubs (>\\<^sub>t) t s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n     chksubs (>\\<^sub>t) t s\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s\n 2. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "by (rule rpo_optim.gt_diff[OF rpo_optim hd_t_gt_s chkvar chkargs_if_chksubs[OF chksubs]])"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "case gt_same"], ["proof (state)\nthis:\n  head t = head s\n  chksubs (>\\<^sub>t) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "note hd_t_eq_s = this(1) and chksubs = this(2) and extf = this(3)"], ["proof (state)\nthis:\n  head t = head s\n  chksubs (>\\<^sub>t) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "have extf_gto: \"\\<forall>f \\<in> ground_heads (head t). extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>local.ground_heads (head t).\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "proof (rule ballI, rule extf_mono_strong[of _ _ \"(>\\<^sub>t)\", rule_format])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t\\<^sub>o x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "fix f"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t\\<^sub>o x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "assume f_in_ground: \"f \\<in> ground_heads (head t)\""], ["proof (state)\nthis:\n  f \\<in> local.ground_heads (head t)\n\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t\\<^sub>o x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "{"], ["proof (state)\nthis:\n  f \\<in> local.ground_heads (head t)\n\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t\\<^sub>o x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "fix ta sa"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t\\<^sub>o x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "assume ta_in: \"ta \\<in> set (args t)\" and sa_in: \"sa \\<in> set (args s)\" and ta_gt_sa: \"ta >\\<^sub>t sa\""], ["proof (state)\nthis:\n  ta \\<in> set (args t)\n  sa \\<in> set (args s)\n  ta >\\<^sub>t sa\n\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t\\<^sub>o x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "show \"ta >\\<^sub>t\\<^sub>o sa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ta >\\<^sub>t\\<^sub>o sa", "by (rule ih[THEN iffD1, OF _ ta_gt_sa])\n              (simp add: ta_in sa_in add_less_mono size_in_args)"], ["proof (state)\nthis:\n  ta >\\<^sub>t\\<^sub>o sa\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?taa2 \\<in> set (args t); ?saa2 \\<in> set (args s);\n   ?taa2 >\\<^sub>t ?saa2\\<rbrakk>\n  \\<Longrightarrow> ?taa2 >\\<^sub>t\\<^sub>o ?saa2\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t) (args t) (args s)", "show \"extf f (>\\<^sub>t) (args t) (args s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args t) (args s)", "using f_in_ground extf"], ["proof (prove)\nusing this:\n  f \\<in> local.ground_heads (head t)\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t) (args t) (args s)", "by simp"], ["proof (state)\nthis:\n  extf f (>\\<^sub>t) (args t) (args s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>head t = head s; chksubs (>\\<^sub>t) t s;\n     \\<forall>f\\<in>local.ground_heads (head t).\n        extf f (>\\<^sub>t) (args t) (args s)\\<rbrakk>\n    \\<Longrightarrow> t >\\<^sub>t\\<^sub>o s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s", "by (rule rpo_optim.gt_same[OF rpo_optim hd_t_eq_s chkargs_if_chksubs[OF chksubs] extf_gto])"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "assume t_gto_s: \"t >\\<^sub>t\\<^sub>o s\""], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "have chksubs_if_chkargs: \"chksubs (>\\<^sub>t) t s\" if chkargs: \"chkargs (>\\<^sub>t\\<^sub>o) t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chksubs (>\\<^sub>t) t s", "unfolding chksubs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. case s of Hd hd \\<Rightarrow> True\n    | App s1 s2 \\<Rightarrow> t >\\<^sub>t s1 \\<and> t >\\<^sub>t s2", "proof (cases s, simp_all, rule conjI)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x21\n 2. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "fix s1 s2"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x21\n 2. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "assume s: \"s = App s1 s2\""], ["proof (state)\nthis:\n  s = App s1 s2\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x21\n 2. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "have \"s >\\<^sub>t\\<^sub>o s1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s >\\<^sub>t\\<^sub>o s1", "unfolding s"], ["proof (prove)\ngoal (1 subgoal):\n 1. App s1 s2 >\\<^sub>t\\<^sub>o s1", "by (rule rpo_optim.gt_sub_fun[OF rpo_optim])"], ["proof (state)\nthis:\n  s >\\<^sub>t\\<^sub>o s1\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x21\n 2. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "hence t_gto_s1: \"t >\\<^sub>t\\<^sub>o s1\""], ["proof (prove)\nusing this:\n  s >\\<^sub>t\\<^sub>o s1\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s1", "by (rule rpo_optim.gt_trans[OF rpo_optim t_gto_s])"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s1\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x21\n 2. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "show \"t >\\<^sub>t s1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s1", "by (rule ih[THEN iffD2, OF _ t_gto_s1]) (simp add: s)"], ["proof (state)\nthis:\n  t >\\<^sub>t s1\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "have t_gto_s2: \"t >\\<^sub>t\\<^sub>o s2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s2", "using chkargs"], ["proof (prove)\nusing this:\n  chkargs (>\\<^sub>t\\<^sub>o) t s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s2", "unfolding rpo_optim.chkargs_def[OF rpo_optim] s"], ["proof (prove)\nusing this:\n  Ball (set (args (App s1 s2))) ((>\\<^sub>t\\<^sub>o) t)\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s2", "by simp"], ["proof (state)\nthis:\n  t >\\<^sub>t\\<^sub>o s2\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22. s = App x21 x22 \\<Longrightarrow> t >\\<^sub>t x22", "show \"t >\\<^sub>t s2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s2", "by (rule ih[THEN iffD2, OF _ t_gto_s2]) (simp add: s)"], ["proof (state)\nthis:\n  t >\\<^sub>t s2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  chkargs (>\\<^sub>t\\<^sub>o) t s \\<Longrightarrow> chksubs (>\\<^sub>t) t s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s", "show \"t >\\<^sub>t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "proof (cases rule: rpo_optim.gt.cases[OF rpo_optim t_gto_s,\n        case_names gto_arg gto_diff gto_same])"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "case (gto_arg ti)"], ["proof (state)\nthis:\n  t = t_\n  s = s_\n  ti \\<in> set (args t_)\n  ti \\<ge>\\<^sub>t\\<^sub>o s_\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "hence ti_in: \"ti \\<in> set (args t)\" and ti_geo_s: \"ti \\<ge>\\<^sub>t\\<^sub>o s\""], ["proof (prove)\nusing this:\n  t = t_\n  s = s_\n  ti \\<in> set (args t_)\n  ti \\<ge>\\<^sub>t\\<^sub>o s_\n\ngoal (1 subgoal):\n 1. ti \\<in> set (args t) &&& ti \\<ge>\\<^sub>t\\<^sub>o s", "by auto"], ["proof (state)\nthis:\n  ti \\<in> set (args t)\n  ti \\<ge>\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "obtain \\<zeta> ts where t: \"t = apps (Hd \\<zeta>) ts\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<zeta> ts.\n        t = apps (Hd \\<zeta>) ts \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (fact tm_exhaust_apps)"], ["proof (state)\nthis:\n  t = apps (Hd \\<zeta>) ts\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "{"], ["proof (state)\nthis:\n  t = apps (Hd \\<zeta>) ts\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "assume ti_gto_s: \"ti >\\<^sub>t\\<^sub>o s\""], ["proof (state)\nthis:\n  ti >\\<^sub>t\\<^sub>o s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "hence ti_gt_s: \"ti >\\<^sub>t s\""], ["proof (prove)\nusing this:\n  ti >\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. ti >\\<^sub>t s", "using ih[of ti s] size_in_args ti_in"], ["proof (prove)\nusing this:\n  ti >\\<^sub>t\\<^sub>o s\n  size ti + size s < size t + size s \\<Longrightarrow>\n  (ti >\\<^sub>t s) = (ti >\\<^sub>t\\<^sub>o s)\n  ?s \\<in> set (args ?t) \\<Longrightarrow> size ?s < size ?t\n  ti \\<in> set (args t)\n\ngoal (1 subgoal):\n 1. ti >\\<^sub>t s", "by auto"], ["proof (state)\nthis:\n  ti >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "moreover"], ["proof (state)\nthis:\n  ti >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "have \"t >\\<^sub>t ti\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t ti", "using sub_args[OF ti_in] gt_proper_sub size_in_args[OF ti_in]"], ["proof (prove)\nusing this:\n  sub ti t\n  proper_sub ?s ?t \\<Longrightarrow> ?t >\\<^sub>t ?s\n  size ti < size t\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t ti", "by blast"], ["proof (state)\nthis:\n  t >\\<^sub>t ti\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "ultimately"], ["proof (chain)\npicking this:\n  ti >\\<^sub>t s\n  t >\\<^sub>t ti", "have ?thesis"], ["proof (prove)\nusing this:\n  ti >\\<^sub>t s\n  t >\\<^sub>t ti\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "using gt_trans"], ["proof (prove)\nusing this:\n  ti >\\<^sub>t s\n  t >\\<^sub>t ti\n  \\<lbrakk>?u >\\<^sub>t ?t; ?t >\\<^sub>t ?s\\<rbrakk>\n  \\<Longrightarrow> ?u >\\<^sub>t ?s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "by blast"], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "}"], ["proof (state)\nthis:\n  ti >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "moreover"], ["proof (state)\nthis:\n  ti >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "{"], ["proof (state)\nthis:\n  ti >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "assume \"ti = s\""], ["proof (state)\nthis:\n  ti = s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "hence ?thesis"], ["proof (prove)\nusing this:\n  ti = s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "using sub_args[OF ti_in] gt_proper_sub size_in_args[OF ti_in]"], ["proof (prove)\nusing this:\n  ti = s\n  sub ti t\n  proper_sub ?s ?t \\<Longrightarrow> ?t >\\<^sub>t ?s\n  size ti < size t\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "by blast"], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "}"], ["proof (state)\nthis:\n  ti = s \\<Longrightarrow> t >\\<^sub>t s\n\ngoal (3 subgoals):\n 1. \\<And>ti t s.\n       \\<lbrakk>t = t; s = s; ti \\<in> set (args t);\n        ti \\<ge>\\<^sub>t\\<^sub>o s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 3. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "ultimately"], ["proof (chain)\npicking this:\n  ti >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s\n  ti = s \\<Longrightarrow> t >\\<^sub>t s", "show ?thesis"], ["proof (prove)\nusing this:\n  ti >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s\n  ti = s \\<Longrightarrow> t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "using ti_geo_s"], ["proof (prove)\nusing this:\n  ti >\\<^sub>t\\<^sub>o s \\<Longrightarrow> t >\\<^sub>t s\n  ti = s \\<Longrightarrow> t >\\<^sub>t s\n  ti \\<ge>\\<^sub>t\\<^sub>o s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "by blast"], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal (2 subgoals):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "case gto_diff"], ["proof (state)\nthis:\n  t = t_\n  s = s_\n  head t_ >\\<^sub>h\\<^sub>d head s_\n  chkvar t_ s_\n  chkargs (>\\<^sub>t\\<^sub>o) t_ s_\n\ngoal (2 subgoals):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "hence hd_t_gt_s: \"head t >\\<^sub>h\\<^sub>d head s\" and chkvar: \"chkvar t s\" and\n        chkargs: \"chkargs (>\\<^sub>t\\<^sub>o) t s\""], ["proof (prove)\nusing this:\n  t = t_\n  s = s_\n  head t_ >\\<^sub>h\\<^sub>d head s_\n  chkvar t_ s_\n  chkargs (>\\<^sub>t\\<^sub>o) t_ s_\n\ngoal (1 subgoal):\n 1. head t >\\<^sub>h\\<^sub>d head s &&&\n    chkvar t s &&& chkargs (>\\<^sub>t\\<^sub>o) t s", "by blast+"], ["proof (state)\nthis:\n  head t >\\<^sub>h\\<^sub>d head s\n  chkvar t s\n  chkargs (>\\<^sub>t\\<^sub>o) t s\n\ngoal (2 subgoals):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "have \"chksubs (>\\<^sub>t) t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chksubs (>\\<^sub>t) t s", "by (rule chksubs_if_chkargs[OF chkargs])"], ["proof (state)\nthis:\n  chksubs (>\\<^sub>t) t s\n\ngoal (2 subgoals):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t >\\<^sub>h\\<^sub>d head s; chkvar t s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s\n 2. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "thus ?thesis"], ["proof (prove)\nusing this:\n  chksubs (>\\<^sub>t) t s\n\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "by (rule gt_diff[OF hd_t_gt_s chkvar])"], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal (1 subgoal):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "case gto_same"], ["proof (state)\nthis:\n  t = t_\n  s = s_\n  head t_ = head s_\n  chkargs (>\\<^sub>t\\<^sub>o) t_ s_\n  \\<forall>f\\<in>local.ground_heads (head t_).\n     extf f (>\\<^sub>t\\<^sub>o) (args t_) (args s_)\n\ngoal (1 subgoal):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "hence hd_t_eq_s: \"head t = head s\" and chkargs: \"chkargs (>\\<^sub>t\\<^sub>o) t s\" and\n        extf_gto: \"\\<forall>f \\<in> ground_heads (head t). extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\""], ["proof (prove)\nusing this:\n  t = t_\n  s = s_\n  head t_ = head s_\n  chkargs (>\\<^sub>t\\<^sub>o) t_ s_\n  \\<forall>f\\<in>local.ground_heads (head t_).\n     extf f (>\\<^sub>t\\<^sub>o) (args t_) (args s_)\n\ngoal (1 subgoal):\n 1. head t = head s &&&\n    chkargs (>\\<^sub>t\\<^sub>o) t s &&&\n    \\<forall>f\\<in>local.ground_heads (head t).\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "by blast+"], ["proof (state)\nthis:\n  head t = head s\n  chkargs (>\\<^sub>t\\<^sub>o) t s\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "have chksubs: \"chksubs (>\\<^sub>t) t s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. chksubs (>\\<^sub>t) t s", "by (rule chksubs_if_chkargs[OF chkargs])"], ["proof (state)\nthis:\n  chksubs (>\\<^sub>t) t s\n\ngoal (1 subgoal):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "have extf: \"\\<forall>f \\<in> ground_heads (head t). extf f (>\\<^sub>t) (args t) (args s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>local.ground_heads (head t).\n       extf f (>\\<^sub>t) (args t) (args s)", "proof (rule ballI, rule extf_mono_strong[of _ _ \"(>\\<^sub>t\\<^sub>o)\", rule_format])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t\\<^sub>o x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "fix f"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t\\<^sub>o x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "assume f_in_ground: \"f \\<in> ground_heads (head t)\""], ["proof (state)\nthis:\n  f \\<in> local.ground_heads (head t)\n\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t\\<^sub>o x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "{"], ["proof (state)\nthis:\n  f \\<in> local.ground_heads (head t)\n\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t\\<^sub>o x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "fix ta sa"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t\\<^sub>o x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "assume ta_in: \"ta \\<in> set (args t)\" and sa_in: \"sa \\<in> set (args s)\" and ta_gto_sa: \"ta >\\<^sub>t\\<^sub>o sa\""], ["proof (state)\nthis:\n  ta \\<in> set (args t)\n  sa \\<in> set (args s)\n  ta >\\<^sub>t\\<^sub>o sa\n\ngoal (2 subgoals):\n 1. \\<And>f y x.\n       \\<lbrakk>f \\<in> local.ground_heads (head t); y \\<in> set (args t);\n        x \\<in> set (args s); y >\\<^sub>t\\<^sub>o x\\<rbrakk>\n       \\<Longrightarrow> y >\\<^sub>t x\n 2. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "show \"ta >\\<^sub>t sa\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ta >\\<^sub>t sa", "by (rule ih[THEN iffD2, OF _ ta_gto_sa])\n              (simp add: ta_in sa_in add_less_mono size_in_args)"], ["proof (state)\nthis:\n  ta >\\<^sub>t sa\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?taa2 \\<in> set (args t); ?saa2 \\<in> set (args s);\n   ?taa2 >\\<^sub>t\\<^sub>o ?saa2\\<rbrakk>\n  \\<Longrightarrow> ?taa2 >\\<^sub>t ?saa2\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       f \\<in> local.ground_heads (head t) \\<Longrightarrow>\n       extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "show \"extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "using f_in_ground extf_gto"], ["proof (prove)\nusing this:\n  f \\<in> local.ground_heads (head t)\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\n\ngoal (1 subgoal):\n 1. extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)", "by simp"], ["proof (state)\nthis:\n  extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>f\\<in>local.ground_heads (head t).\n     extf f (>\\<^sub>t) (args t) (args s)\n\ngoal (1 subgoal):\n 1. \\<And>t s.\n       \\<lbrakk>t = t; s = s; head t = head s;\n        chkargs (>\\<^sub>t\\<^sub>o) t s;\n        \\<forall>f\\<in>local.ground_heads (head t).\n           extf f (>\\<^sub>t\\<^sub>o) (args t) (args s)\\<rbrakk>\n       \\<Longrightarrow> t >\\<^sub>t s", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. t >\\<^sub>t s", "by (rule gt_same[OF hd_t_eq_s chksubs extf])"], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t >\\<^sub>t s\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (t >\\<^sub>t s) = (t >\\<^sub>t\\<^sub>o s)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"], ["", "end"]]}