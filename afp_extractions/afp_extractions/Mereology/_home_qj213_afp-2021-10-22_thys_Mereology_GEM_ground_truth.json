{"file_name": "/home/qj213/afp-2021-10-22/thys/Mereology/GEM.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Mereology", "problem_names": ["lemma fusion_intro: \n\"(\\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x)) \\<Longrightarrow> (\\<sigma> x. F x) = z\"", "lemma fusion_idempotence: \"(\\<sigma> x. z = x) = z\"", "lemma fusion_absorption: \"(\\<sigma> x. P x z) = z\"", "lemma part_fusion: \"P w (\\<sigma> v. P v x) \\<Longrightarrow> P w x\"", "lemma fusion_character: \n  \"\\<exists>x. F x \\<Longrightarrow> (\\<forall>y. O y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x))\"", "lemma fusion_part_character: \"\\<exists>x. F x \\<Longrightarrow> \n  (\\<forall>y. P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)))\"", "lemma fusion_part: \"F x \\<Longrightarrow> P x (\\<sigma> x. F x)\"", "lemma common_part_fusion: \n  \"O x y \\<Longrightarrow> (\\<forall>w. P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> (P w x \\<and> P w y))\"", "theorem product_closure: \n  \"O x y \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y))\"", "lemma disjoint_fusion:\n  \"\\<exists>w. \\<not> O w x \\<Longrightarrow> (\\<forall>w. P w (\\<sigma> z. \\<not> O z x) \\<longleftrightarrow> \\<not> O w x)\"", "theorem complement_closure: \n  \"\\<exists>w. \\<not> O w x \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\"", "theorem strong_fusion: \"\\<exists>x. F x \\<Longrightarrow>\n  \\<exists>x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\"", "theorem strong_fusion_eq: \"\\<exists>x. F x \\<Longrightarrow> (\\<sigma> x. F x) = \n  (THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\"", "lemma strong_sum_eq: \"x \\<oplus> y = (THE z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\"", "lemma general_product_intro: \"(\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)) \\<Longrightarrow> (\\<pi> x. F x) = x\"", "lemma general_product_idempotence: \"(\\<pi> z. z = x) = x\"", "lemma general_product_absorption: \"(\\<pi> z. P x z) = x\"", "lemma general_product_character: \"\\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow> \n  \\<forall>y. O y (\\<pi> x. F x) \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\"", "theorem fusion: \n  \"\\<exists>x. \\<phi> x \\<Longrightarrow> (\\<exists>z. \\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. \\<phi> x \\<and> O y x))\"", "lemma pair: \"\\<exists>v. (\\<forall>w. (w = x \\<or> w = y) \\<longrightarrow> P w v) \\<and> (\\<forall>w. P w v \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))\"", "lemma or_id: \"(v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y\"", "lemma strong_sum_closure: \n  \"\\<exists>z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\"", "lemma least_upper_bound:\n  assumes sf: \n    \"((\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\"\n  shows lub: \n      \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\"", "lemma strong_fusion_character: \"\\<exists>x. F x \\<Longrightarrow> ((\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)) \\<and> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\"", "lemma F_in: \"\\<exists>x. F x \\<Longrightarrow> (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x))\"", "lemma parts_overlap_Fs:\n  \"\\<exists>x. F x \\<Longrightarrow> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\"", "lemma in_strong_fusion: \"P z (\\<sigma> x. z = x)\"", "lemma strong_fusion_in: \"P (\\<sigma> x. z = x) z\"", "lemma strong_fusion_idempotence: \"(\\<sigma> x. z = x) = z\"", "lemma pair_fusion: \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y) \\<longrightarrow> (\\<sigma> z. z = x \\<or> z = y) = z\"", "lemma strong_sum_absorption: \"y = (x \\<oplus> y) \\<Longrightarrow> P x y\"", "theorem strong_supplementation: \"\\<not> P x y \\<Longrightarrow> (\\<exists>z. P z x \\<and> \\<not> O z y)\"", "lemma sum_character: \"\\<forall>v. O v (x \\<oplus> y) \\<longleftrightarrow> (O v x \\<or> O v y)\"", "lemma sum_eq: \"x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\"", "theorem fusion_eq: \"\\<exists>x. F x \\<Longrightarrow>\n  (\\<sigma> x. F x) = (THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z))\""], "translations": [["", "lemma fusion_intro: \n\"(\\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x)) \\<Longrightarrow> (\\<sigma> x. F x) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "assume antecedent: \"(\\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x))\""], ["proof (state)\nthis:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "hence \"(THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)) = z\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) = z", "proof (rule the_equality)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>y. O y za = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       za = z", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>y. O y za = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       za = z", "assume a: \"(\\<forall>y. O y a \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x))\""], ["proof (state)\nthis:\n  \\<forall>y. O y a = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>y. O y za = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       za = z", "have \"\\<forall>x. O x a \\<longleftrightarrow> O x z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. O x a = O x z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. O x a = O x z", "fix b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. O x a = O x z", "from antecedent"], ["proof (chain)\npicking this:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)", "have \"O b z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O b x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. O b z = (\\<exists>x. F x \\<and> O b x)", ".."], ["proof (state)\nthis:\n  O b z = (\\<exists>x. F x \\<and> O b x)\n\ngoal (1 subgoal):\n 1. \\<And>x. O x a = O x z", "moreover"], ["proof (state)\nthis:\n  O b z = (\\<exists>x. F x \\<and> O b x)\n\ngoal (1 subgoal):\n 1. \\<And>x. O x a = O x z", "from a"], ["proof (chain)\npicking this:\n  \\<forall>y. O y a = (\\<exists>x. F x \\<and> O y x)", "have \"O b a \\<longleftrightarrow> (\\<exists>x. F x \\<and> O b x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y a = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. O b a = (\\<exists>x. F x \\<and> O b x)", ".."], ["proof (state)\nthis:\n  O b a = (\\<exists>x. F x \\<and> O b x)\n\ngoal (1 subgoal):\n 1. \\<And>x. O x a = O x z", "ultimately"], ["proof (chain)\npicking this:\n  O b z = (\\<exists>x. F x \\<and> O b x)\n  O b a = (\\<exists>x. F x \\<and> O b x)", "show \"O b a \\<longleftrightarrow> O b z\""], ["proof (prove)\nusing this:\n  O b z = (\\<exists>x. F x \\<and> O b x)\n  O b a = (\\<exists>x. F x \\<and> O b x)\n\ngoal (1 subgoal):\n 1. O b a = O b z", "by (rule ssubst)"], ["proof (state)\nthis:\n  O b a = O b z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x. O x a = O x z\n\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>y. O y za = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       za = z", "with overlap_extensionality"], ["proof (chain)\npicking this:\n  (?x = ?y) = (\\<forall>z. O z ?x = O z ?y)\n  \\<forall>x. O x a = O x z", "show \"a = z\""], ["proof (prove)\nusing this:\n  (?x = ?y) = (\\<forall>z. O z ?x = O z ?y)\n  \\<forall>x. O x a = O x z\n\ngoal (1 subgoal):\n 1. a = z", ".."], ["proof (state)\nthis:\n  a = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) = z\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "moreover"], ["proof (state)\nthis:\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) = z\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "from antecedent"], ["proof (chain)\npicking this:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)", "have \"O z z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O z x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. O z z = (\\<exists>x. F x \\<and> O z x)", ".."], ["proof (state)\nthis:\n  O z z = (\\<exists>x. F x \\<and> O z x)\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "hence \"\\<exists>x. F x \\<and> O z x\""], ["proof (prove)\nusing this:\n  O z z = (\\<exists>x. F x \\<and> O z x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<and> O z x", "using overlap_reflexivity"], ["proof (prove)\nusing this:\n  O z z = (\\<exists>x. F x \\<and> O z x)\n  O ?x ?x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<and> O z x", ".."], ["proof (state)\nthis:\n  \\<exists>x. F x \\<and> O z x\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "hence \"\\<exists>x. F x\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x \\<and> O z x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x", "by auto"], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "hence \"(\\<sigma> x. F x) = (THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "by (rule fusion_eq)"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) =\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n    (\\<sigma>x. F x) = z", "ultimately"], ["proof (chain)\npicking this:\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) = z\n  (\\<sigma>x. F x) =\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "show \"(\\<sigma> v. F v) = z\""], ["proof (prove)\nusing this:\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) = z\n  (\\<sigma>x. F x) =\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<sigma>v. F v) = z", "by (rule subst)"], ["proof (state)\nthis:\n  (\\<sigma>v. F v) = z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fusion_idempotence: \"(\\<sigma> x. z = x) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<sigma>x. z = x) = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<sigma>x. z = x) = z", "have \"\\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. z = x \\<and> O y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. z = x \\<and> O y x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y z = (\\<exists>x. z = x \\<and> O y x)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y z = (\\<exists>x. z = x \\<and> O y x)", "show \"O y z \\<longleftrightarrow> (\\<exists>x. z = x \\<and> O y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O y z = (\\<exists>x. z = x \\<and> O y x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O y z \\<Longrightarrow> \\<exists>x. z = x \\<and> O y x\n 2. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "assume \"O y z\""], ["proof (state)\nthis:\n  O y z\n\ngoal (2 subgoals):\n 1. O y z \\<Longrightarrow> \\<exists>x. z = x \\<and> O y x\n 2. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "with refl"], ["proof (chain)\npicking this:\n  ?t = ?t\n  O y z", "have \"z = z \\<and> O y z\""], ["proof (prove)\nusing this:\n  ?t = ?t\n  O y z\n\ngoal (1 subgoal):\n 1. z = z \\<and> O y z", ".."], ["proof (state)\nthis:\n  z = z \\<and> O y z\n\ngoal (2 subgoals):\n 1. O y z \\<Longrightarrow> \\<exists>x. z = x \\<and> O y x\n 2. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "thus \"\\<exists>x. z = x \\<and> O y x\""], ["proof (prove)\nusing this:\n  z = z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x", ".."], ["proof (state)\nthis:\n  \\<exists>x. z = x \\<and> O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "assume \"\\<exists>x. z = x \\<and> O y x\""], ["proof (state)\nthis:\n  \\<exists>x. z = x \\<and> O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "then"], ["proof (chain)\npicking this:\n  \\<exists>x. z = x \\<and> O y x", "obtain x where x: \"z = x \\<and> O y x\""], ["proof (prove)\nusing this:\n  \\<exists>x. z = x \\<and> O y x\n\ngoal (1 subgoal):\n 1. (\\<And>x. z = x \\<and> O y x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  z = x \\<and> O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "hence \"z = x\""], ["proof (prove)\nusing this:\n  z = x \\<and> O y x\n\ngoal (1 subgoal):\n 1. z = x", ".."], ["proof (state)\nthis:\n  z = x\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "moreover"], ["proof (state)\nthis:\n  z = x\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "from x"], ["proof (chain)\npicking this:\n  z = x \\<and> O y x", "have \"O y x\""], ["proof (prove)\nusing this:\n  z = x \\<and> O y x\n\ngoal (1 subgoal):\n 1. O y x", ".."], ["proof (state)\nthis:\n  O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. z = x \\<and> O y x \\<Longrightarrow> O y z", "ultimately"], ["proof (chain)\npicking this:\n  z = x\n  O y x", "show \"O y z\""], ["proof (prove)\nusing this:\n  z = x\n  O y x\n\ngoal (1 subgoal):\n 1. O y z", "by (rule ssubst)"], ["proof (state)\nthis:\n  O y z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O y z = (\\<exists>x. z = x \\<and> O y x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. O y z = (\\<exists>x. z = x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. z = x) = z", "thus \"(\\<sigma> x. z = x) = z\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y z = (\\<exists>x. z = x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. z = x) = z", "by (rule fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>x. z = x) = z\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open> The whole is the sum of its parts. \\<close>"], ["", "lemma fusion_absorption: \"(\\<sigma> x. P x z) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<sigma>x. P x z) = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<sigma>x. P x z) = z", "have \"(\\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. P x z \\<and> O y x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y z = (\\<exists>x. P x z \\<and> O y x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y z = (\\<exists>x. P x z \\<and> O y x)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y z = (\\<exists>x. P x z \\<and> O y x)", "show \"O y z \\<longleftrightarrow> (\\<exists>x. P x z \\<and> O y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O y z = (\\<exists>x. P x z \\<and> O y x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O y z \\<Longrightarrow> \\<exists>x. P x z \\<and> O y x\n 2. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "assume \"O y z\""], ["proof (state)\nthis:\n  O y z\n\ngoal (2 subgoals):\n 1. O y z \\<Longrightarrow> \\<exists>x. P x z \\<and> O y x\n 2. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "with part_reflexivity"], ["proof (chain)\npicking this:\n  P ?x ?x\n  O y z", "have \"P z z \\<and> O y z\""], ["proof (prove)\nusing this:\n  P ?x ?x\n  O y z\n\ngoal (1 subgoal):\n 1. P z z \\<and> O y z", ".."], ["proof (state)\nthis:\n  P z z \\<and> O y z\n\ngoal (2 subgoals):\n 1. O y z \\<Longrightarrow> \\<exists>x. P x z \\<and> O y x\n 2. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "thus \"\\<exists>x. P x z \\<and> O y x\""], ["proof (prove)\nusing this:\n  P z z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x", ".."], ["proof (state)\nthis:\n  \\<exists>x. P x z \\<and> O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "assume \"\\<exists>x. P x z \\<and> O y x\""], ["proof (state)\nthis:\n  \\<exists>x. P x z \\<and> O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "then"], ["proof (chain)\npicking this:\n  \\<exists>x. P x z \\<and> O y x", "obtain x where x: \"P x z \\<and> O y x\""], ["proof (prove)\nusing this:\n  \\<exists>x. P x z \\<and> O y x\n\ngoal (1 subgoal):\n 1. (\\<And>x. P x z \\<and> O y x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P x z \\<and> O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "hence \"P x z\""], ["proof (prove)\nusing this:\n  P x z \\<and> O y x\n\ngoal (1 subgoal):\n 1. P x z", ".."], ["proof (state)\nthis:\n  P x z\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "moreover"], ["proof (state)\nthis:\n  P x z\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "from x"], ["proof (chain)\npicking this:\n  P x z \\<and> O y x", "have \"O y x\""], ["proof (prove)\nusing this:\n  P x z \\<and> O y x\n\ngoal (1 subgoal):\n 1. O y x", ".."], ["proof (state)\nthis:\n  O y x\n\ngoal (1 subgoal):\n 1. \\<exists>x. P x z \\<and> O y x \\<Longrightarrow> O y z", "ultimately"], ["proof (chain)\npicking this:\n  P x z\n  O y x", "show \"O y z\""], ["proof (prove)\nusing this:\n  P x z\n  O y x\n\ngoal (1 subgoal):\n 1. O y z", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O y z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O y z = (\\<exists>x. P x z \\<and> O y x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. O y z = (\\<exists>x. P x z \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. P x z) = z", "thus \"(\\<sigma> x. P x z) = z\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y z = (\\<exists>x. P x z \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. P x z) = z", "by (rule fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>x. P x z) = z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma part_fusion: \"P w (\\<sigma> v. P v x) \\<Longrightarrow> P w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. P v x) \\<Longrightarrow> P w x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. P v x) \\<Longrightarrow> P w x", "assume \"P w (\\<sigma> v. P v x)\""], ["proof (state)\nthis:\n  P w (\\<sigma>v. P v x)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. P v x) \\<Longrightarrow> P w x", "with fusion_absorption"], ["proof (chain)\npicking this:\n  (\\<sigma>x. P x ?z) = ?z\n  P w (\\<sigma>v. P v x)", "show \"P w x\""], ["proof (prove)\nusing this:\n  (\\<sigma>x. P x ?z) = ?z\n  P w (\\<sigma>v. P v x)\n\ngoal (1 subgoal):\n 1. P w x", "by (rule subst)"], ["proof (state)\nthis:\n  P w x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fusion_character: \n  \"\\<exists>x. F x \\<Longrightarrow> (\\<forall>y. O y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "hence \"\\<exists>z. \\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x)\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)", "by (rule fusion)"], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)", "obtain z where z: \"\\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x)\""], ["proof (prove)\nusing this:\n  \\<exists>z. \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "hence \"(\\<sigma> v. F v) = z \""], ["proof (prove)\nusing this:\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>v. F v) = z", "by (rule fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>v. F v) = z\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "thus \"\\<forall>y. O y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x)\""], ["proof (prove)\nusing this:\n  (\\<sigma>v. F v) = z\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "using z"], ["proof (prove)\nusing this:\n  (\\<sigma>v. F v) = z\n  \\<forall>y. O y z = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open> The next lemma characterises fusions in terms of parthood.\\footnote{See @{cite \"pontow_note_2004\"} pp. 202-9.} \\<close>"], ["", "lemma fusion_part_character: \"\\<exists>x. F x \\<Longrightarrow> \n  (\\<forall>y. P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "assume \"(\\<exists>x. F x)\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "hence F: \"\\<forall>y. O y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<exists>x. F x \\<and> O y x)\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "by (rule fusion_character)"], ["proof (state)\nthis:\n  \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "show \"\\<forall>y. P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "show \"P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (\\<sigma>v. F v) =\n    (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P y (\\<sigma>v. F v) \\<Longrightarrow>\n    \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n 2. \\<forall>w.\n       P w y \\<longrightarrow>\n       (\\<exists>v. F v \\<and> O w v) \\<Longrightarrow>\n    P y (\\<sigma>v. F v)", "assume \"P y (\\<sigma> v. F v)\""], ["proof (state)\nthis:\n  P y (\\<sigma>v. F v)\n\ngoal (2 subgoals):\n 1. P y (\\<sigma>v. F v) \\<Longrightarrow>\n    \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n 2. \\<forall>w.\n       P w y \\<longrightarrow>\n       (\\<exists>v. F v \\<and> O w v) \\<Longrightarrow>\n    P y (\\<sigma>v. F v)", "show \"\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "from F"], ["proof (chain)\npicking this:\n  \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "have w: \"O w (\\<sigma> v. F v) \\<longleftrightarrow> (\\<exists>x. F x \\<and> O w x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. O w (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O w x)", ".."], ["proof (state)\nthis:\n  O w (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "show \"P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w y \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "assume \"P w y\""], ["proof (state)\nthis:\n  P w y\n\ngoal (1 subgoal):\n 1. P w y \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "hence \"P w (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  P w y\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. F v)", "using `P y (\\<sigma> v. F v)`"], ["proof (prove)\nusing this:\n  P w y\n  P y (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. F v)", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P w (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. P w y \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "hence \"O w (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  P w (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. O w (\\<sigma>v. F v)", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O w (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. P w y \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "with w"], ["proof (chain)\npicking this:\n  O w (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O w x)\n  O w (\\<sigma>v. F v)", "show \"\\<exists>x. F x \\<and> O w x\""], ["proof (prove)\nusing this:\n  O w (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O w x)\n  O w (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<and> O w x", ".."], ["proof (state)\nthis:\n  \\<exists>x. F x \\<and> O w x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w y \\<longrightarrow>\n       (\\<exists>v. F v \\<and> O w v) \\<Longrightarrow>\n    P y (\\<sigma>v. F v)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w y \\<longrightarrow>\n       (\\<exists>v. F v \\<and> O w v) \\<Longrightarrow>\n    P y (\\<sigma>v. F v)", "assume right: \"\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (state)\nthis:\n  \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w y \\<longrightarrow>\n       (\\<exists>v. F v \\<and> O w v) \\<Longrightarrow>\n    P y (\\<sigma>v. F v)", "show \"P y (\\<sigma> v. F v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (\\<sigma>v. F v)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "assume \"\\<not> P y (\\<sigma> v. F v)\""], ["proof (state)\nthis:\n  \\<not> P y (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "hence \"\\<exists>v. P v y \\<and> \\<not> O v (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  \\<not> P y (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v y \\<and> \\<not> O v (\\<sigma>v. F v)", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>v. P v y \\<and> \\<not> O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v y \\<and> \\<not> O v (\\<sigma>v. F v)", "obtain v where v: \"P v y \\<and> \\<not> O v (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v y \\<and> \\<not> O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v y \\<and> \\<not> O v (\\<sigma>v. F v) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v y \\<and> \\<not> O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "hence \"\\<not> O v (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  P v y \\<and> \\<not> O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<not> O v (\\<sigma>v. F v)", ".."], ["proof (state)\nthis:\n  \\<not> O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "from right"], ["proof (chain)\npicking this:\n  \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "have \"P v y \\<longrightarrow> (\\<exists>w. F w \\<and> O v w)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P v y \\<longrightarrow> (\\<exists>w. F w \\<and> O v w)", ".."], ["proof (state)\nthis:\n  P v y \\<longrightarrow> (\\<exists>w. F w \\<and> O v w)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P v y \\<longrightarrow> (\\<exists>w. F w \\<and> O v w)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> \\<not> O v (\\<sigma>v. F v)", "have \"P v y\""], ["proof (prove)\nusing this:\n  P v y \\<and> \\<not> O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P v y \\<longrightarrow> (\\<exists>w. F w \\<and> O v w)\n  P v y", "have \"\\<exists>w. F w \\<and> O v w\""], ["proof (prove)\nusing this:\n  P v y \\<longrightarrow> (\\<exists>w. F w \\<and> O v w)\n  P v y\n\ngoal (1 subgoal):\n 1. \\<exists>w. F w \\<and> O v w", ".."], ["proof (state)\nthis:\n  \\<exists>w. F w \\<and> O v w\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "from F"], ["proof (chain)\npicking this:\n  \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)", "have \"O v (\\<sigma> v. F v) \\<longleftrightarrow> (\\<exists>x. F x \\<and> O v x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. O v (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O v x)", ".."], ["proof (state)\nthis:\n  O v (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O v x)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "hence \"O v (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  O v (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O v x)\n\ngoal (1 subgoal):\n 1. O v (\\<sigma>v. F v)", "using `\\<exists>w. F w \\<and> O v w`"], ["proof (prove)\nusing this:\n  O v (\\<sigma>v. F v) = (\\<exists>x. F x \\<and> O v x)\n  \\<exists>w. F w \\<and> O v w\n\ngoal (1 subgoal):\n 1. O v (\\<sigma>v. F v)", ".."], ["proof (state)\nthis:\n  O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<sigma>v. F v) \\<Longrightarrow> False", "with `\\<not> O v (\\<sigma> v. F v)`"], ["proof (chain)\npicking this:\n  \\<not> O v (\\<sigma>v. F v)\n  O v (\\<sigma>v. F v)", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O v (\\<sigma>v. F v)\n  O v (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y (\\<sigma>v. F v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y (\\<sigma>v. F v) =\n  (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fusion_part: \"F x \\<Longrightarrow> P x (\\<sigma> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "assume \"F x\""], ["proof (state)\nthis:\n  F x\n\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "hence \"\\<exists>x. F x\""], ["proof (prove)\nusing this:\n  F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x", ".."], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "hence \"\\<forall>y. P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "by (rule fusion_part_character)"], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "hence \"P x (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. P x (\\<sigma>v. F v) =\n    (\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", ".."], ["proof (state)\nthis:\n  P x (\\<sigma>v. F v) =\n  (\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "moreover"], ["proof (state)\nthis:\n  P x (\\<sigma>v. F v) =\n  (\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "have \"\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "show \"P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w x \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "assume \"P w x\""], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. P w x \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "hence \"O w x\""], ["proof (prove)\nusing this:\n  P w x\n\ngoal (1 subgoal):\n 1. O w x", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O w x\n\ngoal (1 subgoal):\n 1. P w x \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "with `F x`"], ["proof (chain)\npicking this:\n  F x\n  O w x", "have \"F x \\<and> O w x\""], ["proof (prove)\nusing this:\n  F x\n  O w x\n\ngoal (1 subgoal):\n 1. F x \\<and> O w x", ".."], ["proof (state)\nthis:\n  F x \\<and> O w x\n\ngoal (1 subgoal):\n 1. P w x \\<Longrightarrow> \\<exists>v. F v \\<and> O w v", "thus \"\\<exists>v. F v \\<and> O w v\""], ["proof (prove)\nusing this:\n  F x \\<and> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>v. F v \\<and> O w v", ".."], ["proof (state)\nthis:\n  \\<exists>v. F v \\<and> O w v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. F x \\<Longrightarrow> P x (\\<sigma>x. F x)", "ultimately"], ["proof (chain)\npicking this:\n  P x (\\<sigma>v. F v) =\n  (\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n  \\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "show \"P x (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  P x (\\<sigma>v. F v) =\n  (\\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n  \\<forall>w. P w x \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P x (\\<sigma>v. F v)", ".."], ["proof (state)\nthis:\n  P x (\\<sigma>v. F v)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma common_part_fusion: \n  \"O x y \\<Longrightarrow> (\\<forall>w. P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> (P w x \\<and> P w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O x y", "have \"\\<exists>z. (P z x \\<and> P z y)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O x y\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> P z y", ".."], ["proof (state)\nthis:\n  \\<exists>z. P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "hence sum: \"(\\<forall>w. P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> \n    (\\<forall>z. P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)))\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (\\<sigma>v. P v x \\<and> P v y) =\n       (\\<forall>z.\n           P z w \\<longrightarrow>\n           (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))", "by (rule fusion_part_character)"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (\\<sigma>v. P v x \\<and> P v y) =\n     (\\<forall>z.\n         P z w \\<longrightarrow>\n         (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "show \"\\<forall>w. P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "from sum"], ["proof (chain)\npicking this:\n  \\<forall>w.\n     P w (\\<sigma>v. P v x \\<and> P v y) =\n     (\\<forall>z.\n         P z w \\<longrightarrow>\n         (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))", "have w: \"P w (\\<sigma> v. (P v x \\<and> P v y)) \n      \\<longleftrightarrow> (\\<forall>z. P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w (\\<sigma>v. P v x \\<and> P v y) =\n     (\\<forall>z.\n         P z w \\<longrightarrow>\n         (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. P v x \\<and> P v y) =\n    (\\<forall>z.\n        P z w \\<longrightarrow>\n        (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))", ".."], ["proof (state)\nthis:\n  P w (\\<sigma>v. P v x \\<and> P v y) =\n  (\\<forall>z.\n      P z w \\<longrightarrow>\n      (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "show \"P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w (\\<sigma>v. P v x \\<and> P v y) \\<Longrightarrow> P w x \\<and> P w y\n 2. P w x \\<and> P w y \\<Longrightarrow> P w (\\<sigma>v. P v x \\<and> P v y)", "assume \"P w (\\<sigma> v. (P v x \\<and> P v y))\""], ["proof (state)\nthis:\n  P w (\\<sigma>v. P v x \\<and> P v y)\n\ngoal (2 subgoals):\n 1. P w (\\<sigma>v. P v x \\<and> P v y) \\<Longrightarrow> P w x \\<and> P w y\n 2. P w x \\<and> P w y \\<Longrightarrow> P w (\\<sigma>v. P v x \\<and> P v y)", "with w"], ["proof (chain)\npicking this:\n  P w (\\<sigma>v. P v x \\<and> P v y) =\n  (\\<forall>z.\n      P z w \\<longrightarrow>\n      (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\n  P w (\\<sigma>v. P v x \\<and> P v y)", "have bla: \n        \"(\\<forall>z. P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\""], ["proof (prove)\nusing this:\n  P w (\\<sigma>v. P v x \\<and> P v y) =\n  (\\<forall>z.\n      P z w \\<longrightarrow>\n      (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v))\n  P w (\\<sigma>v. P v x \\<and> P v y)\n\ngoal (1 subgoal):\n 1. \\<forall>z.\n       P z w \\<longrightarrow>\n       (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)", ".."], ["proof (state)\nthis:\n  \\<forall>z.\n     P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (2 subgoals):\n 1. P w (\\<sigma>v. P v x \\<and> P v y) \\<Longrightarrow> P w x \\<and> P w y\n 2. P w x \\<and> P w y \\<Longrightarrow> P w (\\<sigma>v. P v x \\<and> P v y)", "show \"P w x \\<and> P w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w x \\<and> P w y", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w x\n 2. P w y", "show \"P w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w x", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "assume \"\\<not> P w x\""], ["proof (state)\nthis:\n  \\<not> P w x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "hence \"\\<exists>z. P z w \\<and> \\<not> O z x\""], ["proof (prove)\nusing this:\n  \\<not> P w x\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z w \\<and> \\<not> O z x", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>z. P z w \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. P z w \\<and> \\<not> O z x", "obtain z where z: \"P z w \\<and> \\<not> O z x\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z w \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        P z w \\<and> \\<not> O z x \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P z w \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "hence \"\\<not> O z x\""], ["proof (prove)\nusing this:\n  P z w \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> O z x", ".."], ["proof (state)\nthis:\n  \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "from bla"], ["proof (chain)\npicking this:\n  \\<forall>z.\n     P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)", "have \"P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\""], ["proof (prove)\nusing this:\n  \\<forall>z.\n     P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)", ".."], ["proof (state)\nthis:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "from z"], ["proof (chain)\npicking this:\n  P z w \\<and> \\<not> O z x", "have \"P z w\""], ["proof (prove)\nusing this:\n  P z w \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. P z w", ".."], ["proof (state)\nthis:\n  P z w\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n  P z w", "have \"\\<exists>v. (P v x \\<and> P v y) \\<and> O z v\""], ["proof (prove)\nusing this:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n  P z w\n\ngoal (1 subgoal):\n 1. \\<exists>v. (P v x \\<and> P v y) \\<and> O z v", ".."], ["proof (state)\nthis:\n  \\<exists>v. (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. (P v x \\<and> P v y) \\<and> O z v", "obtain v where v: \"(P v x \\<and> P v y) \\<and> O z v\""], ["proof (prove)\nusing this:\n  \\<exists>v. (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        (P v x \\<and> P v y) \\<and> O z v \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "hence \"P v x \\<and> P v y\""], ["proof (prove)\nusing this:\n  (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. P v x \\<and> P v y", ".."], ["proof (state)\nthis:\n  P v x \\<and> P v y\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "hence \"P v x\""], ["proof (prove)\nusing this:\n  P v x \\<and> P v y\n\ngoal (1 subgoal):\n 1. P v x", ".."], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  (P v x \\<and> P v y) \\<and> O z v", "have \"O z v\""], ["proof (prove)\nusing this:\n  (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. O z v", ".."], ["proof (state)\nthis:\n  O z v\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P v x\n  O z v", "have \"O z x\""], ["proof (prove)\nusing this:\n  P v x\n  O z v\n\ngoal (1 subgoal):\n 1. O z x", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O z x\n\ngoal (1 subgoal):\n 1. \\<not> P w x \\<Longrightarrow> False", "with `\\<not> O z x`"], ["proof (chain)\npicking this:\n  \\<not> O z x\n  O z x", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O z x\n  O z x\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. P w y", "show \"P w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w y", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "assume \"\\<not> P w y\""], ["proof (state)\nthis:\n  \\<not> P w y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "hence \"\\<exists>z. P z w \\<and> \\<not> O z y\""], ["proof (prove)\nusing this:\n  \\<not> P w y\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z w \\<and> \\<not> O z y", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>z. P z w \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. P z w \\<and> \\<not> O z y", "obtain z where z: \"P z w \\<and> \\<not> O z y\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z w \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        P z w \\<and> \\<not> O z y \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P z w \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "hence \"\\<not> O z y\""], ["proof (prove)\nusing this:\n  P z w \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<not> O z y", ".."], ["proof (state)\nthis:\n  \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "from bla"], ["proof (chain)\npicking this:\n  \\<forall>z.\n     P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)", "have \"P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\""], ["proof (prove)\nusing this:\n  \\<forall>z.\n     P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)", ".."], ["proof (state)\nthis:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "from z"], ["proof (chain)\npicking this:\n  P z w \\<and> \\<not> O z y", "have \"P z w\""], ["proof (prove)\nusing this:\n  P z w \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. P z w", ".."], ["proof (state)\nthis:\n  P z w\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n  P z w", "have \"\\<exists>v. (P v x \\<and> P v y) \\<and> O z v\""], ["proof (prove)\nusing this:\n  P z w \\<longrightarrow> (\\<exists>v. (P v x \\<and> P v y) \\<and> O z v)\n  P z w\n\ngoal (1 subgoal):\n 1. \\<exists>v. (P v x \\<and> P v y) \\<and> O z v", ".."], ["proof (state)\nthis:\n  \\<exists>v. (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. (P v x \\<and> P v y) \\<and> O z v", "obtain v where v: \"(P v x \\<and> P v y) \\<and> O z v\""], ["proof (prove)\nusing this:\n  \\<exists>v. (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        (P v x \\<and> P v y) \\<and> O z v \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "hence \"P v x \\<and> P v y\""], ["proof (prove)\nusing this:\n  (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. P v x \\<and> P v y", ".."], ["proof (state)\nthis:\n  P v x \\<and> P v y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "hence \"P v y\""], ["proof (prove)\nusing this:\n  P v x \\<and> P v y\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  (P v x \\<and> P v y) \\<and> O z v", "have \"O z v\""], ["proof (prove)\nusing this:\n  (P v x \\<and> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. O z v", ".."], ["proof (state)\nthis:\n  O z v\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P v y\n  O z v", "have \"O z y\""], ["proof (prove)\nusing this:\n  P v y\n  O z v\n\ngoal (1 subgoal):\n 1. O z y", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O z y\n\ngoal (1 subgoal):\n 1. \\<not> P w y \\<Longrightarrow> False", "with `\\<not> O z y`"], ["proof (chain)\npicking this:\n  \\<not> O z y\n  O z y", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O z y\n  O z y\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w y \\<Longrightarrow> P w (\\<sigma>v. P v x \\<and> P v y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P w x \\<and> P w y \\<Longrightarrow> P w (\\<sigma>v. P v x \\<and> P v y)", "assume \"P w x \\<and> P w y\""], ["proof (state)\nthis:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w y \\<Longrightarrow> P w (\\<sigma>v. P v x \\<and> P v y)", "thus \"P w (\\<sigma> v. (P v x \\<and> P v y))\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>v. P v x \\<and> P v y)", "by (rule fusion_part)"], ["proof (state)\nthis:\n  P w (\\<sigma>v. P v x \\<and> P v y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem product_closure: \n  \"O x y \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "hence \"(\\<forall>w. P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> (P w x \\<and> P w y))\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "by (rule common_part_fusion)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "thus \"\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", ".."], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "sublocale GEM \\<subseteq> CEM"], ["proof (prove)\ngoal (1 subgoal):\n 1. CEM", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n 2. \\<And>x y. \\<exists>z. \\<forall>v. O v z = (O v x \\<or> O v y)\n 3. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 4. \\<And>x y.\n       O x y \\<Longrightarrow>\n       \\<exists>z. \\<forall>v. P v z = (P v x \\<and> P v y)", "fix x y"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n 2. \\<And>x y. \\<exists>z. \\<forall>v. O v z = (O v x \\<or> O v y)\n 3. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 4. \\<And>x y.\n       O x y \\<Longrightarrow>\n       \\<exists>z. \\<forall>v. P v z = (P v x \\<and> P v y)", "show \"\\<exists>z. \\<forall>w. O w z = (O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. O w z = (O w x \\<or> O w y)", "using sum_closure"], ["proof (prove)\nusing this:\n  \\<exists>z. \\<forall>w. O w z = (O w ?a \\<or> O w ?b)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. O w z = (O w x \\<or> O w y)", "."], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. O w z = (O w x \\<or> O w y)\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n 2. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 3. \\<And>x y.\n       O x y \\<Longrightarrow>\n       \\<exists>z. \\<forall>v. P v z = (P v x \\<and> P v y)", "show \"x \\<oplus> y = (THE z. \\<forall>v. O v z \\<longleftrightarrow> O v x \\<or> O v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "using sum_eq"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y = (THE z. \\<forall>v. O v z = (O v ?x \\<or> O v ?y))\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "."], ["proof (state)\nthis:\n  x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 2. \\<And>x y.\n       O x y \\<Longrightarrow>\n       \\<exists>z. \\<forall>v. P v z = (P v x \\<and> P v y)", "show \"x \\<otimes> y = (THE z. \\<forall>v. P v z \\<longleftrightarrow> P v x \\<and> P v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))", "using product_eq"], ["proof (prove)\nusing this:\n  ?x \\<otimes> ?y = (THE z. \\<forall>v. P v z = (P v ?x \\<and> P v ?y))\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))", "."], ["proof (state)\nthis:\n  x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       O x y \\<Longrightarrow>\n       \\<exists>z. \\<forall>v. P v z = (P v x \\<and> P v y)", "show \"O x y \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "using product_closure"], ["proof (prove)\nusing this:\n  O ?x ?y \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (P w ?x \\<and> P w ?y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "."], ["proof (state)\nthis:\n  O x y \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "context GEM\nbegin"], ["", "corollary \"O x y \\<Longrightarrow> x \\<otimes> y = (\\<sigma> v. P v x \\<and> P v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = (\\<sigma>v. P v x \\<and> P v y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = (\\<sigma>v. P v x \\<and> P v y)", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = (\\<sigma>v. P v x \\<and> P v y)", "hence \"(\\<forall>w. P w (\\<sigma> v. (P v x \\<and> P v y)) \\<longleftrightarrow> (P w x \\<and> P w y))\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)", "by (rule common_part_fusion)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = (\\<sigma>v. P v x \\<and> P v y)", "thus \"x \\<otimes> y = (\\<sigma> v. P v x \\<and> P v y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<sigma>v. P v x \\<and> P v y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = (\\<sigma>v. P v x \\<and> P v y)", "by (rule product_intro)"], ["proof (state)\nthis:\n  x \\<otimes> y = (\\<sigma>v. P v x \\<and> P v y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma disjoint_fusion:\n  \"\\<exists>w. \\<not> O w x \\<Longrightarrow> (\\<forall>w. P w (\\<sigma> z. \\<not> O z x) \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "assume antecedent: \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "hence \"\\<forall>y. O y (\\<sigma> v. \\<not> O v x) \\<longleftrightarrow> (\\<exists>v. \\<not> O v x \\<and> O y v)\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y (\\<sigma>v. \\<not> O v x) =\n       (\\<exists>v. \\<not> O v x \\<and> O y v)", "by (rule fusion_character)"], ["proof (state)\nthis:\n  \\<forall>y.\n     O y (\\<sigma>v. \\<not> O v x) = (\\<exists>v. \\<not> O v x \\<and> O y v)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "hence x: \"O x (\\<sigma> v. \\<not> O v x) \\<longleftrightarrow> (\\<exists>v. \\<not> O v x \\<and> O x v)\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     O y (\\<sigma>v. \\<not> O v x) = (\\<exists>v. \\<not> O v x \\<and> O y v)\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>v. \\<not> O v x) = (\\<exists>v. \\<not> O v x \\<and> O x v)", ".."], ["proof (state)\nthis:\n  O x (\\<sigma>v. \\<not> O v x) = (\\<exists>v. \\<not> O v x \\<and> O x v)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "show \"\\<forall>w. P w (\\<sigma> z. \\<not> O z x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "show \"P y (\\<sigma> z. \\<not> O z x) \\<longleftrightarrow> \\<not> O y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. \\<not> O z x) = (\\<not> O y x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P y (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> \\<not> O y x\n 2. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "assume \"P y (\\<sigma> z. \\<not> O z x)\""], ["proof (state)\nthis:\n  P y (\\<sigma>z. \\<not> O z x)\n\ngoal (2 subgoals):\n 1. P y (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> \\<not> O y x\n 2. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "moreover"], ["proof (state)\nthis:\n  P y (\\<sigma>z. \\<not> O z x)\n\ngoal (2 subgoals):\n 1. P y (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> \\<not> O y x\n 2. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "have \"\\<not> O x (\\<sigma> z. \\<not> O z x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O x (\\<sigma>z. \\<not> O z x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "assume \"O x (\\<sigma> z. \\<not> O z x)\""], ["proof (state)\nthis:\n  O x (\\<sigma>z. \\<not> O z x)\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "with x"], ["proof (chain)\npicking this:\n  O x (\\<sigma>v. \\<not> O v x) = (\\<exists>v. \\<not> O v x \\<and> O x v)\n  O x (\\<sigma>z. \\<not> O z x)", "have \"(\\<exists>v. \\<not> O v x \\<and> O x v)\""], ["proof (prove)\nusing this:\n  O x (\\<sigma>v. \\<not> O v x) = (\\<exists>v. \\<not> O v x \\<and> O x v)\n  O x (\\<sigma>z. \\<not> O z x)\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<not> O v x \\<and> O x v", ".."], ["proof (state)\nthis:\n  \\<exists>v. \\<not> O v x \\<and> O x v\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. \\<not> O v x \\<and> O x v", "obtain v where v: \"\\<not> O v x \\<and> O x v\""], ["proof (prove)\nusing this:\n  \\<exists>v. \\<not> O v x \\<and> O x v\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<not> O v x \\<and> O x v \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<not> O v x \\<and> O x v\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "hence \"\\<not> O v x\""], ["proof (prove)\nusing this:\n  \\<not> O v x \\<and> O x v\n\ngoal (1 subgoal):\n 1. \\<not> O v x", ".."], ["proof (state)\nthis:\n  \\<not> O v x\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  \\<not> O v x \\<and> O x v", "have \"O x v\""], ["proof (prove)\nusing this:\n  \\<not> O v x \\<and> O x v\n\ngoal (1 subgoal):\n 1. O x v", ".."], ["proof (state)\nthis:\n  O x v\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "hence \"O v x\""], ["proof (prove)\nusing this:\n  O x v\n\ngoal (1 subgoal):\n 1. O v x", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O v x\n\ngoal (1 subgoal):\n 1. O x (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> False", "with `\\<not> O v x`"], ["proof (chain)\npicking this:\n  \\<not> O v x\n  O v x", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O v x\n  O v x\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> O x (\\<sigma>z. \\<not> O z x)\n\ngoal (2 subgoals):\n 1. P y (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> \\<not> O y x\n 2. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "ultimately"], ["proof (chain)\npicking this:\n  P y (\\<sigma>z. \\<not> O z x)\n  \\<not> O x (\\<sigma>z. \\<not> O z x)", "have \"\\<not> O x y\""], ["proof (prove)\nusing this:\n  P y (\\<sigma>z. \\<not> O z x)\n  \\<not> O x (\\<sigma>z. \\<not> O z x)\n\ngoal (1 subgoal):\n 1. \\<not> O x y", "by (rule disjoint_demonotonicity)"], ["proof (state)\nthis:\n  \\<not> O x y\n\ngoal (2 subgoals):\n 1. P y (\\<sigma>z. \\<not> O z x) \\<Longrightarrow> \\<not> O y x\n 2. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "thus \"\\<not> O y x\""], ["proof (prove)\nusing this:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. \\<not> O y x", "by (rule disjoint_symmetry)"], ["proof (state)\nthis:\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "assume \"\\<not> O y x\""], ["proof (state)\nthis:\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> P y (\\<sigma>z. \\<not> O z x)", "thus \"P y (\\<sigma> v. \\<not> O v x)\""], ["proof (prove)\nusing this:\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>v. \\<not> O v x)", "by (rule fusion_part)"], ["proof (state)\nthis:\n  P y (\\<sigma>v. \\<not> O v x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y (\\<sigma>z. \\<not> O z x) = (\\<not> O y x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem complement_closure: \n  \"\\<exists>w. \\<not> O w x \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "assume \"(\\<exists>w. \\<not> O w x)\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "hence \"\\<forall>w. P w (\\<sigma> z. \\<not> O z x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "by (rule disjoint_fusion)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "thus \"\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", ".."], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "sublocale GEM \\<subseteq> CEMC"], ["proof (prove)\ngoal (1 subgoal):\n 1. CEMC", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 2. \\<And>x.\n       \\<exists>w. \\<not> O w x \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 4. u = (THE x. \\<forall>y. P y x)", "fix x y"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 2. \\<And>x.\n       \\<exists>w. \\<not> O w x \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 4. u = (THE x. \\<forall>y. P y x)", "show \"\\<midarrow> x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "using complement_eq"], ["proof (prove)\nusing this:\n  \\<midarrow> ?x = (THE z. \\<forall>w. P w z = (\\<not> O w ?x))\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "."], ["proof (state)\nthis:\n  \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       \\<exists>w. \\<not> O w x \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n 2. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 3. u = (THE x. \\<forall>y. P y x)", "show \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z = (\\<not> O w x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "using complement_closure"], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w ?x \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w ?x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "."], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 2. u = (THE x. \\<forall>y. P y x)", "show \"x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "using difference_eq"], ["proof (prove)\nusing this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "."], ["proof (state)\nthis:\n  x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "show \"u = (THE x. \\<forall>y. P y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "using universe_eq"], ["proof (prove)\nusing this:\n  u = (THE x. \\<forall>y. P y x)\n\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "."], ["proof (state)\nthis:\n  u = (THE x. \\<forall>y. P y x)\n\ngoal:\nNo subgoals!", "qed"], ["", "context GEM\nbegin"], ["", "corollary complement_is_disjoint_fusion: \n  \"\\<exists>w. \\<not> O w x \\<Longrightarrow> \\<midarrow> x = (\\<sigma> z. \\<not> O z x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<midarrow> x = (\\<sigma>z. \\<not> O z x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<midarrow> x = (\\<sigma>z. \\<not> O z x)", "assume \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<midarrow> x = (\\<sigma>z. \\<not> O z x)", "hence \"\\<forall>w. P w (\\<sigma> z. \\<not> O z x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)", "by (rule disjoint_fusion)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<midarrow> x = (\\<sigma>z. \\<not> O z x)", "thus \"\\<midarrow> x = (\\<sigma> z. \\<not> O z x)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<sigma>z. \\<not> O z x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = (\\<sigma>z. \\<not> O z x)", "by (rule complement_intro)"], ["proof (state)\nthis:\n  \\<midarrow> x = (\\<sigma>z. \\<not> O z x)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem strong_fusion: \"\\<exists>x. F x \\<Longrightarrow>\n  \\<exists>x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have \"(\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> v. F v)) \\<and>\n     (\\<forall>y. P y (\\<sigma> v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>v. F v) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)\n 2. \\<forall>y.\n       P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> v. F v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)", "show \"F y \\<longrightarrow> P y (\\<sigma> v. F v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F y \\<longrightarrow> P y (\\<sigma>v. F v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. F y \\<Longrightarrow> P y (\\<sigma>v. F v)", "assume \"F y\""], ["proof (state)\nthis:\n  F y\n\ngoal (1 subgoal):\n 1. F y \\<Longrightarrow> P y (\\<sigma>v. F v)", "thus \"P y (\\<sigma> v. F v)\""], ["proof (prove)\nusing this:\n  F y\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>v. F v)", "by (rule fusion_part)"], ["proof (state)\nthis:\n  P y (\\<sigma>v. F v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  F y \\<longrightarrow> P y (\\<sigma>v. F v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "have \"(\\<forall>y. P y (\\<sigma> v. F v) \\<longleftrightarrow> \n      (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "using `\\<exists>x. F x`"], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "by (rule fusion_part_character)"], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "hence \"P (\\<sigma> v. F v) (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w (\\<sigma> v. F v) \\<longrightarrow> \n      (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. P (\\<sigma>v. F v) (\\<sigma>v. F v) =\n    (\\<forall>w.\n        P w (\\<sigma>v. F v) \\<longrightarrow>\n        (\\<exists>v. F v \\<and> O w v))", ".."], ["proof (state)\nthis:\n  P (\\<sigma>v. F v) (\\<sigma>v. F v) =\n  (\\<forall>w.\n      P w (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "thus \"\\<forall>w. P w (\\<sigma> v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (prove)\nusing this:\n  P (\\<sigma>v. F v) (\\<sigma>v. F v) =\n  (\\<forall>w.\n      P w (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", "using part_reflexivity"], ["proof (prove)\nusing this:\n  P (\\<sigma>v. F v) (\\<sigma>v. F v) =\n  (\\<forall>w.\n      P w (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n  P ?x ?x\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", ".."], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>v. F v)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>v. F v) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", ".."], ["proof (state)\nthis:\n  \\<exists>x.\n     (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem strong_fusion_eq: \"\\<exists>x. F x \\<Longrightarrow> (\\<sigma> x. F x) = \n  (THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "have \"(THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) = (\\<sigma> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n    (\\<sigma>x. F x)", "proof (rule the_equality)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))\n 2. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "show \"(\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)) \\<and> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)\n 2. \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "show \"F y \\<longrightarrow> P y (\\<sigma> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. F y \\<Longrightarrow> P y (\\<sigma>x. F x)", "assume \"F y\""], ["proof (state)\nthis:\n  F y\n\ngoal (1 subgoal):\n 1. F y \\<Longrightarrow> P y (\\<sigma>x. F x)", "thus \"P y (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  F y\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x)", "by (rule fusion_part)"], ["proof (state)\nthis:\n  P y (\\<sigma>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  F y \\<longrightarrow> P y (\\<sigma>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"(\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "have  \"\\<forall>y. P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "using `\\<exists>x. F x`"], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>v. F v) =\n       (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", "by (rule fusion_part_character)"], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "hence \"P y (\\<sigma> v. F v) \\<longleftrightarrow> (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     P y (\\<sigma>v. F v) =\n     (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>v. F v) =\n    (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))", ".."], ["proof (state)\nthis:\n  P y (\\<sigma>v. F v) =\n  (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "moreover"], ["proof (state)\nthis:\n  P y (\\<sigma>v. F v) =\n  (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "assume \"P y (\\<sigma> x. F x)\""], ["proof (state)\nthis:\n  P y (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "ultimately"], ["proof (chain)\npicking this:\n  P y (\\<sigma>v. F v) =\n  (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n  P y (\\<sigma>x. F x)", "have \"\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\""], ["proof (prove)\nusing this:\n  P y (\\<sigma>v. F v) =\n  (\\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v))\n  P y (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)", ".."], ["proof (state)\nthis:\n  \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "hence \"P y y \\<longrightarrow> (\\<exists>v. F v \\<and> O y v)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w y \\<longrightarrow> (\\<exists>v. F v \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P y y \\<longrightarrow> (\\<exists>v. F v \\<and> O y v)", ".."], ["proof (state)\nthis:\n  P y y \\<longrightarrow> (\\<exists>v. F v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "thus \"\\<exists>v. F v \\<and> O y v\""], ["proof (prove)\nusing this:\n  P y y \\<longrightarrow> (\\<exists>v. F v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. \\<exists>v. F v \\<and> O y v", "using part_reflexivity"], ["proof (prove)\nusing this:\n  P y y \\<longrightarrow> (\\<exists>v. F v \\<and> O y v)\n  P ?x ?x\n\ngoal (1 subgoal):\n 1. \\<exists>v. F v \\<and> O y v", ".."], ["proof (state)\nthis:\n  \\<exists>v. F v \\<and> O y v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "assume x: \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "have \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y x = (\\<exists>z. F z \\<and> O y z)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y x = (\\<exists>z. F z \\<and> O y z)", "show \"O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O y x = (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "assume \"O y x\""], ["proof (state)\nthis:\n  O y x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y x", "have \"\\<exists>v. P v y \\<and> P v x\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y x\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v y \\<and> P v x", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v y \\<and> P v x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v y \\<and> P v x", "obtain v where v: \"P v y \\<and> P v x\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v y \\<and> P v x\n\ngoal (1 subgoal):\n 1. (\\<And>v. P v y \\<and> P v x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v y \\<and> P v x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from x"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have \"\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", ".."], ["proof (state)\nthis:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "hence \"P v x \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\""], ["proof (prove)\nusing this:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. P v x \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)", ".."], ["proof (state)\nthis:\n  P v x \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  P v x \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> P v x", "have \"P v x\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v x\n\ngoal (1 subgoal):\n 1. P v x", ".."], ["proof (state)\nthis:\n  P v x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  P v x \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n  P v x", "have \"\\<exists>z. F z \\<and> O v z\""], ["proof (prove)\nusing this:\n  P v x \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n  P v x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O v z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O v z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. F z \\<and> O v z", "obtain z where z: \"F z \\<and> O v z\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z \\<and> O v z\n\ngoal (1 subgoal):\n 1. (\\<And>z. F z \\<and> O v z \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  F z \\<and> O v z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "hence \"F z\""], ["proof (prove)\nusing this:\n  F z \\<and> O v z\n\ngoal (1 subgoal):\n 1. F z", ".."], ["proof (state)\nthis:\n  F z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> P v x", "have \"P v y\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v x\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  P v y\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from z"], ["proof (chain)\npicking this:\n  F z \\<and> O v z", "have \"O v z\""], ["proof (prove)\nusing this:\n  F z \\<and> O v z\n\ngoal (1 subgoal):\n 1. O v z", ".."], ["proof (state)\nthis:\n  O v z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "hence \"O z v\""], ["proof (prove)\nusing this:\n  O v z\n\ngoal (1 subgoal):\n 1. O z v", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O z v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  P v y\n  O z v", "have \"O z y\""], ["proof (prove)\nusing this:\n  P v y\n  O z v\n\ngoal (1 subgoal):\n 1. O z y", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O z y\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "hence \"O y z\""], ["proof (prove)\nusing this:\n  O z y\n\ngoal (1 subgoal):\n 1. O y z", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O y z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "with `F z`"], ["proof (chain)\npicking this:\n  F z\n  O y z", "have \"F z \\<and> O y z\""], ["proof (prove)\nusing this:\n  F z\n  O y z\n\ngoal (1 subgoal):\n 1. F z \\<and> O y z", ".."], ["proof (state)\nthis:\n  F z \\<and> O y z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "thus \"\\<exists>z. F z \\<and> O y z\""], ["proof (prove)\nusing this:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "assume \"\\<exists>z. F z \\<and> O y z\""], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. F z \\<and> O y z", "obtain z where z: \"F z \\<and> O y z\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. (\\<And>z. F z \\<and> O y z \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from x"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have \"\\<forall>y. F y \\<longrightarrow> P y x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y x", ".."], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "hence \"F z \\<longrightarrow> P z x\""], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. F z \\<longrightarrow> P z x", ".."], ["proof (state)\nthis:\n  F z \\<longrightarrow> P z x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  F z \\<longrightarrow> P z x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from z"], ["proof (chain)\npicking this:\n  F z \\<and> O y z", "have \"F z\""], ["proof (prove)\nusing this:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. F z", ".."], ["proof (state)\nthis:\n  F z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  F z \\<longrightarrow> P z x\n  F z", "have \"P z x\""], ["proof (prove)\nusing this:\n  F z \\<longrightarrow> P z x\n  F z\n\ngoal (1 subgoal):\n 1. P z x", ".."], ["proof (state)\nthis:\n  P z x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  P z x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "from z"], ["proof (chain)\npicking this:\n  F z \\<and> O y z", "have \"O y z\""], ["proof (prove)\nusing this:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. O y z", ".."], ["proof (state)\nthis:\n  O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  P z x\n  O y z", "show \"O y x\""], ["proof (prove)\nusing this:\n  P z x\n  O y z\n\ngoal (1 subgoal):\n 1. O y x", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O y x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O y x = (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "hence \"(\\<sigma> x. F x) = x\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) = x", "by (rule fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) = x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "thus \"x = (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  (\\<sigma>x. F x) = x\n\ngoal (1 subgoal):\n 1. x = (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  x = (\\<sigma>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y.\n          P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n  (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y.\n          P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n  (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", ".."], ["proof (state)\nthis:\n  (\\<sigma>x. F x) =\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strong_sum_eq: \"x \\<oplus> y = (THE z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<oplus> y =\n    (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<oplus> y =\n    (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))", "have \"(THE z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) = x \\<oplus> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n    x \\<oplus> y", "proof (rule the_equality)"], ["proof (state)\ngoal (2 subgoals):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)\n 2. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "show \"(P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and> (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)\n 2. \\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "show \"P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x (x \\<oplus> y)\n 2. P y (x \\<oplus> y)", "show \"P x (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y)", "using first_summand_in_sum"], ["proof (prove)\nusing this:\n  P ?x (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y)", "."], ["proof (state)\nthis:\n  P x (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P y (x \\<oplus> y)", "show \"P y (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (x \\<oplus> y)", "using second_summand_in_sum"], ["proof (prove)\nusing this:\n  P ?y (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P y (x \\<oplus> y)", "."], ["proof (state)\nthis:\n  P y (x \\<oplus> y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "show \"\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "show \"P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y) \\<Longrightarrow> O w x \\<or> O w y", "assume \"P w (x \\<oplus> y)\""], ["proof (state)\nthis:\n  P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y) \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O w (x \\<oplus> y)", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y) \\<Longrightarrow> O w x \\<or> O w y", "with sum_overlap"], ["proof (chain)\npicking this:\n  O ?w (?x \\<oplus> ?y) = (O ?w ?x \\<or> O ?w ?y)\n  O w (x \\<oplus> y)", "show \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O ?w (?x \\<oplus> ?y) = (O ?w ?x \\<or> O ?w ?y)\n  O w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n  (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "assume z: \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "hence \"P x z \\<and> P y z\""], ["proof (prove)\nusing this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. P x z \\<and> P y z", ".."], ["proof (state)\nthis:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "have \"\\<forall>w. O w z \\<longleftrightarrow> (O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. O w z = (O w x \\<or> O w y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. O w z = (O w x \\<or> O w y)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. O w z = (O w x \\<or> O w y)", "show \"O w z \\<longleftrightarrow> (O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O w z = (O w x \\<or> O w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "assume \"O w z\""], ["proof (state)\nthis:\n  O w z\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O w z", "have \"\\<exists>v. P v w \\<and> P v z\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O w z\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v w \\<and> P v z", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v w \\<and> P v z\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v w \\<and> P v z", "obtain v where v: \"P v w \\<and> P v z\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v w \\<and> P v z\n\ngoal (1 subgoal):\n 1. (\\<And>v. P v w \\<and> P v z \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v w \\<and> P v z\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "hence \"P v w\""], ["proof (prove)\nusing this:\n  P v w \\<and> P v z\n\ngoal (1 subgoal):\n 1. P v w", ".."], ["proof (state)\nthis:\n  P v w\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "from z"], ["proof (chain)\npicking this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "hence \"P v z \\<longrightarrow> O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. P v z \\<longrightarrow> O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "moreover"], ["proof (state)\nthis:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "from v"], ["proof (chain)\npicking this:\n  P v w \\<and> P v z", "have \"P v z\""], ["proof (prove)\nusing this:\n  P v w \\<and> P v z\n\ngoal (1 subgoal):\n 1. P v z", ".."], ["proof (state)\nthis:\n  P v z\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "ultimately"], ["proof (chain)\npicking this:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n  P v z", "have \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n  P v z\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (2 subgoals):\n 1. O w z \\<Longrightarrow> O w x \\<or> O w y\n 2. O w x \\<or> O w y \\<Longrightarrow> O w z", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O w x \\<or> O w y\n 2. O v y \\<Longrightarrow> O w x \\<or> O w y", "assume \"O v x\""], ["proof (state)\nthis:\n  O v x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O w x \\<or> O w y\n 2. O v y \\<Longrightarrow> O w x \\<or> O w y", "hence \"O x v\""], ["proof (prove)\nusing this:\n  O v x\n\ngoal (1 subgoal):\n 1. O x v", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O x v\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O w x \\<or> O w y\n 2. O v y \\<Longrightarrow> O w x \\<or> O w y", "with `P v w`"], ["proof (chain)\npicking this:\n  P v w\n  O x v", "have \"O x w\""], ["proof (prove)\nusing this:\n  P v w\n  O x v\n\ngoal (1 subgoal):\n 1. O x w", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O x w\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O w x \\<or> O w y\n 2. O v y \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w x\""], ["proof (prove)\nusing this:\n  O x w\n\ngoal (1 subgoal):\n 1. O w x", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O w x \\<or> O w y\n 2. O v y \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O w x\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O w x \\<or> O w y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O w x \\<or> O w y", "assume \"O v y\""], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O w x \\<or> O w y", "hence \"O y v\""], ["proof (prove)\nusing this:\n  O v y\n\ngoal (1 subgoal):\n 1. O y v", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O y v\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O w x \\<or> O w y", "with `P v w`"], ["proof (chain)\npicking this:\n  P v w\n  O y v", "have \"O y w\""], ["proof (prove)\nusing this:\n  P v w\n  O y v\n\ngoal (1 subgoal):\n 1. O y w", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O y w\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w y\""], ["proof (prove)\nusing this:\n  O y w\n\ngoal (1 subgoal):\n 1. O w y", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O w y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O w y\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y \\<Longrightarrow> O w z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O w x \\<or> O w y \\<Longrightarrow> O w z", "assume \"O w x \\<or> O w y\""], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y \\<Longrightarrow> O w z", "thus \"O w z\""], ["proof (prove)\nusing this:\n  O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. O w z", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O w z\n 2. O w y \\<Longrightarrow> O w z", "from `P x z \\<and> P y z`"], ["proof (chain)\npicking this:\n  P x z \\<and> P y z", "have \"P x z\""], ["proof (prove)\nusing this:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. P x z", ".."], ["proof (state)\nthis:\n  P x z\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O w z\n 2. O w y \\<Longrightarrow> O w z", "moreover"], ["proof (state)\nthis:\n  P x z\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O w z\n 2. O w y \\<Longrightarrow> O w z", "assume \"O w x\""], ["proof (state)\nthis:\n  O w x\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O w z\n 2. O w y \\<Longrightarrow> O w z", "ultimately"], ["proof (chain)\npicking this:\n  P x z\n  O w x", "show \"O w z\""], ["proof (prove)\nusing this:\n  P x z\n  O w x\n\ngoal (1 subgoal):\n 1. O w z", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O w z\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O w z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O w z", "from `P x z \\<and> P y z`"], ["proof (chain)\npicking this:\n  P x z \\<and> P y z", "have \"P y z\""], ["proof (prove)\nusing this:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. P y z", ".."], ["proof (state)\nthis:\n  P y z\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O w z", "moreover"], ["proof (state)\nthis:\n  P y z\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O w z", "assume \"O w y\""], ["proof (state)\nthis:\n  O w y\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O w z", "ultimately"], ["proof (chain)\npicking this:\n  P y z\n  O w y", "show \"O w z\""], ["proof (prove)\nusing this:\n  P y z\n  O w y\n\ngoal (1 subgoal):\n 1. O w z", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O w z = (O w x \\<or> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. O w z = (O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "hence \"x \\<oplus> y = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. O w z = (O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = z", "by (rule sum_intro)"], ["proof (state)\nthis:\n  x \\<oplus> y = z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = x \\<oplus> y", "thus \"z = x \\<oplus> y\""], ["proof (prove)\nusing this:\n  x \\<oplus> y = z\n\ngoal (1 subgoal):\n 1. z = x \\<oplus> y", ".."], ["proof (state)\nthis:\n  z = x \\<oplus> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n  x \\<oplus> y\n\ngoal (1 subgoal):\n 1. x \\<oplus> y =\n    (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n  x \\<oplus> y\n\ngoal (1 subgoal):\n 1. x \\<oplus> y =\n    (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))", ".."], ["proof (state)\nthis:\n  x \\<oplus> y =\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open> General Products \\<close>"], ["", "lemma general_product_intro: \"(\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)) \\<Longrightarrow> (\\<pi> x. F x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y x =\n       (\\<exists>z.\n           (\\<forall>y. F y \\<longrightarrow> P z y) \\<and>\n           O y z) \\<Longrightarrow>\n    (\\<pi>x. F x) = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y x =\n       (\\<exists>z.\n           (\\<forall>y. F y \\<longrightarrow> P z y) \\<and>\n           O y z) \\<Longrightarrow>\n    (\\<pi>x. F x) = x", "assume \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\""], ["proof (state)\nthis:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y x =\n       (\\<exists>z.\n           (\\<forall>y. F y \\<longrightarrow> P z y) \\<and>\n           O y z) \\<Longrightarrow>\n    (\\<pi>x. F x) = x", "hence \"(\\<sigma> x. \\<forall>y. F y \\<longrightarrow> P x y) = x\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y) = x", "by (rule fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y) = x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y x =\n       (\\<exists>z.\n           (\\<forall>y. F y \\<longrightarrow> P z y) \\<and>\n           O y z) \\<Longrightarrow>\n    (\\<pi>x. F x) = x", "with general_product_eq"], ["proof (chain)\npicking this:\n  (\\<pi>x. ?F x) = (\\<sigma>x. \\<forall>y. ?F y \\<longrightarrow> P x y)\n  (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y) = x", "show \"(\\<pi> x. F x) = x\""], ["proof (prove)\nusing this:\n  (\\<pi>x. ?F x) = (\\<sigma>x. \\<forall>y. ?F y \\<longrightarrow> P x y)\n  (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y) = x\n\ngoal (1 subgoal):\n 1. (\\<pi>x. F x) = x", "by (rule ssubst)"], ["proof (state)\nthis:\n  (\\<pi>x. F x) = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma general_product_idempotence: \"(\\<pi> z. z = x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<pi>z. z = x) = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<pi>z. z = x) = x", "have \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. y = x \\<longrightarrow> P z y) \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y x =\n       (\\<exists>z.\n           (\\<forall>y. y = x \\<longrightarrow> P z y) \\<and> O y z)", "by (meson overlap_eq part_reflexivity part_transitivity)"], ["proof (state)\nthis:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. y = x \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<pi>z. z = x) = x", "thus \"(\\<pi> z. z = x) = x\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. y = x \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<pi>z. z = x) = x", "by (rule general_product_intro)"], ["proof (state)\nthis:\n  (\\<pi>z. z = x) = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma general_product_absorption: \"(\\<pi> z. P x z) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<pi>z. P x z) = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<pi>z. P x z) = x", "have \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. P x y \\<longrightarrow> P z y) \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y x =\n       (\\<exists>z.\n           (\\<forall>y. P x y \\<longrightarrow> P z y) \\<and> O y z)", "by (meson overlap_eq part_reflexivity part_transitivity)"], ["proof (state)\nthis:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. P x y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<pi>z. P x z) = x", "thus \"(\\<pi> z. P x z) = x\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. P x y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<pi>z. P x z) = x", "by (rule general_product_intro)"], ["proof (state)\nthis:\n  (\\<pi>z. P x z) = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma general_product_character: \"\\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow> \n  \\<forall>y. O y (\\<pi> x. F x) \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow>\n    \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow>\n    \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "assume \"(\\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y)\""], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow>\n    \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "hence \"(\\<exists>x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z))\""], ["proof (prove)\nusing this:\n  \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y.\n          O y x =\n          (\\<exists>z.\n              (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "by (rule fusion)"], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y.\n        O y x =\n        (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow>\n    \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "then"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     \\<forall>y.\n        O y x =\n        (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "obtain x where x: \n    \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     \\<forall>y.\n        O y x =\n        (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<forall>y.\n           O y x =\n           (\\<exists>z.\n               (\\<forall>y. F y \\<longrightarrow> P z y) \\<and>\n               O y z) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow>\n    \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "hence \"(\\<pi> x. F x) = x\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<pi>x. F x) = x", "by (rule general_product_intro)"], ["proof (state)\nthis:\n  (\\<pi>x. F x) = x\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. F y \\<longrightarrow> P z y \\<Longrightarrow>\n    \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "thus \"(\\<forall>y. O y (\\<pi> x. F x) \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z))\""], ["proof (prove)\nusing this:\n  (\\<pi>x. F x) = x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "using x"], ["proof (prove)\nusing this:\n  (\\<pi>x. F x) = x\n  \\<forall>y.\n     O y x =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<forall>y.\n     O y (\\<pi>x. F x) =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary \"\\<not> (\\<exists>x. F x) \\<Longrightarrow> u = (\\<pi> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>x. F x \\<Longrightarrow> u = (\\<pi>x. F x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<nexists>x. F x \\<Longrightarrow> u = (\\<pi>x. F x)", "assume antecedent: \"\\<not> (\\<exists>x. F x)\""], ["proof (state)\nthis:\n  \\<nexists>x. F x\n\ngoal (1 subgoal):\n 1. \\<nexists>x. F x \\<Longrightarrow> u = (\\<pi>x. F x)", "have \"\\<forall>y. P y (\\<pi> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. P y (\\<pi>x. F x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. P y (\\<pi>x. F x)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. P y (\\<pi>x. F x)", "show \"P y (\\<pi> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (\\<pi>x. F x)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "assume \"\\<not> P y (\\<pi> x. F x)\""], ["proof (state)\nthis:\n  \\<not> P y (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "hence \"\\<exists>z. P z y \\<and> \\<not> O z (\\<pi> x. F x)\""], ["proof (prove)\nusing this:\n  \\<not> P y (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z y \\<and> \\<not> O z (\\<pi>x. F x)", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>z. P z y \\<and> \\<not> O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. P z y \\<and> \\<not> O z (\\<pi>x. F x)", "obtain z where z: \"P z y \\<and> \\<not> O z (\\<pi> x. F x)\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z y \\<and> \\<not> O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        P z y \\<and> \\<not> O z (\\<pi>x. F x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P z y \\<and> \\<not> O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "hence \"\\<not> O z (\\<pi> x. F x)\""], ["proof (prove)\nusing this:\n  P z y \\<and> \\<not> O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<not> O z (\\<pi>x. F x)", ".."], ["proof (state)\nthis:\n  \\<not> O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "from antecedent"], ["proof (chain)\npicking this:\n  \\<nexists>x. F x", "have bla: \"\\<forall> y. F y \\<longrightarrow> P z y\""], ["proof (prove)\nusing this:\n  \\<nexists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P z y", "by simp"], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P z y\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "hence \"\\<exists> v. \\<forall> y. F y \\<longrightarrow> P v y\""], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P z y\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<forall>y. F y \\<longrightarrow> P v y", ".."], ["proof (state)\nthis:\n  \\<exists>v. \\<forall>y. F y \\<longrightarrow> P v y\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "hence \"(\\<forall>y. O y (\\<pi> x. F x) \\<longleftrightarrow> (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z))\""], ["proof (prove)\nusing this:\n  \\<exists>v. \\<forall>y. F y \\<longrightarrow> P v y\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       O y (\\<pi>x. F x) =\n       (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)", "by (rule general_product_character)"], ["proof (state)\nthis:\n  \\<forall>y.\n     O y (\\<pi>x. F x) =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "hence \"O z (\\<pi> x. F x) \\<longleftrightarrow> (\\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v)\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     O y (\\<pi>x. F x) =\n     (\\<exists>z. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O y z)\n\ngoal (1 subgoal):\n 1. O z (\\<pi>x. F x) =\n    (\\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v)", ".."], ["proof (state)\nthis:\n  O z (\\<pi>x. F x) =\n  (\\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  O z (\\<pi>x. F x) =\n  (\\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "from bla"], ["proof (chain)\npicking this:\n  \\<forall>y. F y \\<longrightarrow> P z y", "have  \"(\\<forall> y. F y \\<longrightarrow> P z y) \\<and> O z z\""], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P z y\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O z z", "using overlap_reflexivity"], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P z y\n  O ?x ?x\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O z z", ".."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O z z\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "hence \"\\<exists> v. (\\<forall> y. F y \\<longrightarrow> P v y) \\<and> O z v\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P z y) \\<and> O z z\n\ngoal (1 subgoal):\n 1. \\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v", ".."], ["proof (state)\nthis:\n  \\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  O z (\\<pi>x. F x) =\n  (\\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v)\n  \\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v", "have \"O z (\\<pi> x. F x)\""], ["proof (prove)\nusing this:\n  O z (\\<pi>x. F x) =\n  (\\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v)\n  \\<exists>v. (\\<forall>y. F y \\<longrightarrow> P v y) \\<and> O z v\n\ngoal (1 subgoal):\n 1. O z (\\<pi>x. F x)", ".."], ["proof (state)\nthis:\n  O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<not> P y (\\<pi>x. F x) \\<Longrightarrow> False", "with `\\<not> O z (\\<pi> x. F x)`"], ["proof (chain)\npicking this:\n  \\<not> O z (\\<pi>x. F x)\n  O z (\\<pi>x. F x)", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O z (\\<pi>x. F x)\n  O z (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y (\\<pi>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. P y (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. \\<nexists>x. F x \\<Longrightarrow> u = (\\<pi>x. F x)", "thus \"u = (\\<pi> x. F x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. P y (\\<pi>x. F x)\n\ngoal (1 subgoal):\n 1. u = (\\<pi>x. F x)", "by (rule universe_intro)"], ["proof (state)\nthis:\n  u = (\\<pi>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open> Strong Fusion \\<close>"], ["", "text \\<open> An alternative axiomatization of general extensional mereology adds a stronger version of the\nfusion axiom to minimal mereology, with correspondingly stronger definitions of sums and general\nsums.\\footnote{See @{cite \"tarski_foundations_1983\"} p. 25. The proofs in this section are adapted\nfrom @{cite \"hovda_what_2009\"}.} \\<close>"], ["", "locale GEM1 = MM + \n  assumes strong_fusion: \"\\<exists>x. F x \\<Longrightarrow> \\<exists>x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\"\n  assumes strong_sum_eq: \"x \\<oplus> y = (THE z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\"\n  assumes product_eq: \n    \"x \\<otimes> y = (THE z. \\<forall>v. P v z \\<longleftrightarrow> P v x \\<and> P v y)\"\n  assumes difference_eq: \n    \"x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\"\n  assumes complement_eq: \"\\<midarrow> x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\"\n  assumes universe_eq: \"u = (THE x. \\<forall>y. P y x)\"\n  assumes strong_fusion_eq:  \"\\<exists>x. F x \\<Longrightarrow> (\\<sigma> x. F x) = (THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\"\n  assumes general_product_eq: \"(\\<pi> x. F x) = (\\<sigma> x. \\<forall>y. F y \\<longrightarrow> P x y)\"\nbegin"], ["", "theorem fusion: \n  \"\\<exists>x. \\<phi> x \\<Longrightarrow> (\\<exists>z. \\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. \\<phi> x \\<and> O y x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "assume \"\\<exists>x. \\<phi> x\""], ["proof (state)\nthis:\n  \\<exists>x. \\<phi> x\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "hence \"\\<exists>x. (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  \\<exists>x. \\<phi> x\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y.\n           P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))", "by (rule strong_fusion)"], ["proof (state)\nthis:\n  \\<exists>x.\n     (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y.\n         P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y.\n         P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))", "obtain x where x: \n    \"(\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y.\n         P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow>\n            (\\<exists>z. \\<phi> z \\<and> O y z)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "have \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>v. \\<phi> v \\<and> O y v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y x = (\\<exists>v. \\<phi> v \\<and> O y v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y x = (\\<exists>v. \\<phi> v \\<and> O y v)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y x = (\\<exists>v. \\<phi> v \\<and> O y v)", "show \"O y x \\<longleftrightarrow> (\\<exists>v. \\<phi> v \\<and> O y v)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O y x = (\\<exists>v. \\<phi> v \\<and> O y v)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "assume \"O y x\""], ["proof (state)\nthis:\n  O y x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y x", "have \"\\<exists>z. P z y \\<and> P z x\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y x\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z y \\<and> P z x", ".."], ["proof (state)\nthis:\n  \\<exists>z. P z y \\<and> P z x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. P z y \\<and> P z x", "obtain z where z: \"P z y \\<and> P z x\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z y \\<and> P z x\n\ngoal (1 subgoal):\n 1. (\\<And>z. P z y \\<and> P z x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P z y \\<and> P z x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"P z x\""], ["proof (prove)\nusing this:\n  P z y \\<and> P z x\n\ngoal (1 subgoal):\n 1. P z x", ".."], ["proof (state)\nthis:\n  P z x\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from x"], ["proof (chain)\npicking this:\n  (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))", "have \"\\<forall>y. P y x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O y v)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. P y x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O y v)", ".."], ["proof (state)\nthis:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O y v)\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"P z x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O z v)\""], ["proof (prove)\nusing this:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. P z x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O z v)", ".."], ["proof (state)\nthis:\n  P z x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O z v)\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"\\<exists>v. \\<phi> v \\<and> O z v\""], ["proof (prove)\nusing this:\n  P z x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O z v", "using `P z x`"], ["proof (prove)\nusing this:\n  P z x \\<longrightarrow> (\\<exists>v. \\<phi> v \\<and> O z v)\n  P z x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O z v", ".."], ["proof (state)\nthis:\n  \\<exists>v. \\<phi> v \\<and> O z v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. \\<phi> v \\<and> O z v", "obtain v where v: \"\\<phi> v \\<and> O z v\""], ["proof (prove)\nusing this:\n  \\<exists>v. \\<phi> v \\<and> O z v\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<phi> v \\<and> O z v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<phi> v \\<and> O z v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"O z v\""], ["proof (prove)\nusing this:\n  \\<phi> v \\<and> O z v\n\ngoal (1 subgoal):\n 1. O z v", ".."], ["proof (state)\nthis:\n  O z v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O z v", "have \"\\<exists>w. P w z \\<and> P w v\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O z v\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w z \\<and> P w v", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w z \\<and> P w v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w z \\<and> P w v", "obtain w where w: \"P w z \\<and> P w v\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w z \\<and> P w v\n\ngoal (1 subgoal):\n 1. (\\<And>w. P w z \\<and> P w v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w z \\<and> P w v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"P w z\""], ["proof (prove)\nusing this:\n  P w z \\<and> P w v\n\ngoal (1 subgoal):\n 1. P w z", ".."], ["proof (state)\nthis:\n  P w z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  P w z\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from z"], ["proof (chain)\npicking this:\n  P z y \\<and> P z x", "have \"P z y\""], ["proof (prove)\nusing this:\n  P z y \\<and> P z x\n\ngoal (1 subgoal):\n 1. P z y", ".."], ["proof (state)\nthis:\n  P z y\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  P w z\n  P z y", "have \"P w y\""], ["proof (prove)\nusing this:\n  P w z\n  P z y\n\ngoal (1 subgoal):\n 1. P w y", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P w y\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  P w y\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from w"], ["proof (chain)\npicking this:\n  P w z \\<and> P w v", "have \"P w v\""], ["proof (prove)\nusing this:\n  P w z \\<and> P w v\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  P w y\n  P w v", "have \"P w y \\<and> P w v\""], ["proof (prove)\nusing this:\n  P w y\n  P w v\n\ngoal (1 subgoal):\n 1. P w y \\<and> P w v", ".."], ["proof (state)\nthis:\n  P w y \\<and> P w v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"\\<exists>w. P w y \\<and> P w v\""], ["proof (prove)\nusing this:\n  P w y \\<and> P w v\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w y \\<and> P w v", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w y \\<and> P w v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w y \\<and> P w v", "have \"O y v\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w y \\<and> P w v\n\ngoal (1 subgoal):\n 1. O y v", ".."], ["proof (state)\nthis:\n  O y v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from v"], ["proof (chain)\npicking this:\n  \\<phi> v \\<and> O z v", "have \"\\<phi> v\""], ["proof (prove)\nusing this:\n  \\<phi> v \\<and> O z v\n\ngoal (1 subgoal):\n 1. \\<phi> v", ".."], ["proof (state)\nthis:\n  \\<phi> v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"\\<phi> v \\<and> O y v\""], ["proof (prove)\nusing this:\n  \\<phi> v\n\ngoal (1 subgoal):\n 1. \\<phi> v \\<and> O y v", "using `O y v`"], ["proof (prove)\nusing this:\n  \\<phi> v\n  O y v\n\ngoal (1 subgoal):\n 1. \\<phi> v \\<and> O y v", ".."], ["proof (state)\nthis:\n  \\<phi> v \\<and> O y v\n\ngoal (2 subgoals):\n 1. O y x \\<Longrightarrow> \\<exists>v. \\<phi> v \\<and> O y v\n 2. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "thus \"\\<exists>v. \\<phi> v \\<and> O y v\""], ["proof (prove)\nusing this:\n  \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v", ".."], ["proof (state)\nthis:\n  \\<exists>v. \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "assume \"\\<exists>v. \\<phi> v \\<and> O y v\""], ["proof (state)\nthis:\n  \\<exists>v. \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. \\<phi> v \\<and> O y v", "obtain v where v: \"\\<phi> v \\<and> O y v\""], ["proof (prove)\nusing this:\n  \\<exists>v. \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<phi> v \\<and> O y v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"O y v\""], ["proof (prove)\nusing this:\n  \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. O y v", ".."], ["proof (state)\nthis:\n  O y v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y v", "have \"\\<exists>z. P z y \\<and> P z v\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y v\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z y \\<and> P z v", ".."], ["proof (state)\nthis:\n  \\<exists>z. P z y \\<and> P z v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. P z y \\<and> P z v", "obtain z where z: \"P z y \\<and> P z v\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z y \\<and> P z v\n\ngoal (1 subgoal):\n 1. (\\<And>z. P z y \\<and> P z v \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P z y \\<and> P z v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"P z v\""], ["proof (prove)\nusing this:\n  P z y \\<and> P z v\n\ngoal (1 subgoal):\n 1. P z v", ".."], ["proof (state)\nthis:\n  P z v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from x"], ["proof (chain)\npicking this:\n  (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))", "have \"\\<forall>y. \\<phi> y \\<longrightarrow> P y x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. \\<phi> y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. \\<phi> z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. \\<phi> y \\<longrightarrow> P y x", ".."], ["proof (state)\nthis:\n  \\<forall>y. \\<phi> y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "hence \"\\<phi> v \\<longrightarrow> P v x\""], ["proof (prove)\nusing this:\n  \\<forall>y. \\<phi> y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. \\<phi> v \\<longrightarrow> P v x", ".."], ["proof (state)\nthis:\n  \\<phi> v \\<longrightarrow> P v x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "moreover"], ["proof (state)\nthis:\n  \\<phi> v \\<longrightarrow> P v x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from v"], ["proof (chain)\npicking this:\n  \\<phi> v \\<and> O y v", "have \"\\<phi> v\""], ["proof (prove)\nusing this:\n  \\<phi> v \\<and> O y v\n\ngoal (1 subgoal):\n 1. \\<phi> v", ".."], ["proof (state)\nthis:\n  \\<phi> v\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "ultimately"], ["proof (chain)\npicking this:\n  \\<phi> v \\<longrightarrow> P v x\n  \\<phi> v", "have \"P v x\""], ["proof (prove)\nusing this:\n  \\<phi> v \\<longrightarrow> P v x\n  \\<phi> v\n\ngoal (1 subgoal):\n 1. P v x", ".."], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "with `P z v`"], ["proof (chain)\npicking this:\n  P z v\n  P v x", "have \"P z x\""], ["proof (prove)\nusing this:\n  P z v\n  P v x\n\ngoal (1 subgoal):\n 1. P z x", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P z x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "from z"], ["proof (chain)\npicking this:\n  P z y \\<and> P z v", "have \"P z y\""], ["proof (prove)\nusing this:\n  P z y \\<and> P z v\n\ngoal (1 subgoal):\n 1. P z y", ".."], ["proof (state)\nthis:\n  P z y\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<phi> v \\<and> O y v \\<Longrightarrow> O y x", "thus \"O y x\""], ["proof (prove)\nusing this:\n  P z y\n\ngoal (1 subgoal):\n 1. O y x", "using `P z x`"], ["proof (prove)\nusing this:\n  P z y\n  P z x\n\ngoal (1 subgoal):\n 1. O y x", "by (rule overlap_intro)"], ["proof (state)\nthis:\n  O y x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O y x = (\\<exists>v. \\<phi> v \\<and> O y v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. O y x = (\\<exists>v. \\<phi> v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "thus \"(\\<exists>z. \\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. \\<phi> x \\<and> O y x))\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y x = (\\<exists>v. \\<phi> v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", ".."], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma pair: \"\\<exists>v. (\\<forall>w. (w = x \\<or> w = y) \\<longrightarrow> P w v) \\<and> (\\<forall>w. P w v \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>v.\n       (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n       (\\<forall>w.\n           P w v \\<longrightarrow>\n           (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>v.\n       (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n       (\\<forall>w.\n           P w v \\<longrightarrow>\n           (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))", "have \"x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = x", ".."], ["proof (state)\nthis:\n  x = x\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n       (\\<forall>w.\n           P w v \\<longrightarrow>\n           (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))", "hence \"x = x \\<or> x = y\""], ["proof (prove)\nusing this:\n  x = x\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = y\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n       (\\<forall>w.\n           P w v \\<longrightarrow>\n           (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))", "hence \"\\<exists>v. v = x \\<or> v = y\""], ["proof (prove)\nusing this:\n  x = x \\<or> x = y\n\ngoal (1 subgoal):\n 1. \\<exists>v. v = x \\<or> v = y", ".."], ["proof (state)\nthis:\n  \\<exists>v. v = x \\<or> v = y\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n       (\\<forall>w.\n           P w v \\<longrightarrow>\n           (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>v. v = x \\<or> v = y\n\ngoal (1 subgoal):\n 1. \\<exists>v.\n       (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n       (\\<forall>w.\n           P w v \\<longrightarrow>\n           (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))", "by (rule strong_fusion)"], ["proof (state)\nthis:\n  \\<exists>v.\n     (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w v) \\<and>\n     (\\<forall>w.\n         P w v \\<longrightarrow>\n         (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma or_id: \"(v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y", "assume v: \"(v = x \\<or> v = y) \\<and> O w v\""], ["proof (state)\nthis:\n  (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. (v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w v\""], ["proof (prove)\nusing this:\n  (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. O w v", ".."], ["proof (state)\nthis:\n  O w v\n\ngoal (1 subgoal):\n 1. (v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y", "from v"], ["proof (chain)\npicking this:\n  (v = x \\<or> v = y) \\<and> O w v", "have \"v = x \\<or> v = y\""], ["proof (prove)\nusing this:\n  (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. v = x \\<or> v = y", ".."], ["proof (state)\nthis:\n  v = x \\<or> v = y\n\ngoal (1 subgoal):\n 1. (v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  v = x \\<or> v = y\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. v = x \\<Longrightarrow> O w x \\<or> O w y\n 2. v = y \\<Longrightarrow> O w x \\<or> O w y", "assume \"v = x\""], ["proof (state)\nthis:\n  v = x\n\ngoal (2 subgoals):\n 1. v = x \\<Longrightarrow> O w x \\<or> O w y\n 2. v = y \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w x\""], ["proof (prove)\nusing this:\n  v = x\n\ngoal (1 subgoal):\n 1. O w x", "using `O w v`"], ["proof (prove)\nusing this:\n  v = x\n  O w v\n\ngoal (1 subgoal):\n 1. O w x", "by (rule subst)"], ["proof (state)\nthis:\n  O w x\n\ngoal (2 subgoals):\n 1. v = x \\<Longrightarrow> O w x \\<or> O w y\n 2. v = y \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O w x\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. v = y \\<Longrightarrow> O w x \\<or> O w y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. v = y \\<Longrightarrow> O w x \\<or> O w y", "assume \"v = y\""], ["proof (state)\nthis:\n  v = y\n\ngoal (1 subgoal):\n 1. v = y \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w y\""], ["proof (prove)\nusing this:\n  v = y\n\ngoal (1 subgoal):\n 1. O w y", "using `O w v`"], ["proof (prove)\nusing this:\n  v = y\n  O w v\n\ngoal (1 subgoal):\n 1. O w y", "by (rule subst)"], ["proof (state)\nthis:\n  O w y\n\ngoal (1 subgoal):\n 1. v = y \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O w y\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strong_sum_closure: \n  \"\\<exists>z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "from pair"], ["proof (chain)\npicking this:\n  \\<exists>v.\n     (\\<forall>w. w = ?x \\<or> w = ?y \\<longrightarrow> P w v) \\<and>\n     (\\<forall>w.\n         P w v \\<longrightarrow>\n         (\\<exists>z. (z = ?x \\<or> z = ?y) \\<and> O w z))", "obtain z where z: \"(\\<forall>w. (w = x \\<or> w = y) \\<longrightarrow> P w z) \\<and> (\\<forall>w. P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v))\""], ["proof (prove)\nusing this:\n  \\<exists>v.\n     (\\<forall>w. w = ?x \\<or> w = ?y \\<longrightarrow> P w v) \\<and>\n     (\\<forall>w.\n         P w v \\<longrightarrow>\n         (\\<exists>z. (z = ?x \\<or> z = ?y) \\<and> O w z))\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z) \\<and>\n        (\\<forall>w.\n            P w z \\<longrightarrow>\n            (\\<exists>v.\n                (v = x \\<or> v = y) \\<and> O w v)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z) \\<and>\n  (\\<forall>w.\n      P w z \\<longrightarrow>\n      (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v))\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "from z"], ["proof (chain)\npicking this:\n  (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z) \\<and>\n  (\\<forall>w.\n      P w z \\<longrightarrow>\n      (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v))", "have allw: \"\\<forall>w. (w = x \\<or> w = y) \\<longrightarrow> P w z\""], ["proof (prove)\nusing this:\n  (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z) \\<and>\n  (\\<forall>w.\n      P w z \\<longrightarrow>\n      (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v))\n\ngoal (1 subgoal):\n 1. \\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z", ".."], ["proof (state)\nthis:\n  \\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "hence \"x = x \\<or> x = y \\<longrightarrow> P x z\""], ["proof (prove)\nusing this:\n  \\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = y \\<longrightarrow> P x z", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = y \\<longrightarrow> P x z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "moreover"], ["proof (state)\nthis:\n  x = x \\<or> x = y \\<longrightarrow> P x z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "have \"x = x \\<or> x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = y\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "ultimately"], ["proof (chain)\npicking this:\n  x = x \\<or> x = y \\<longrightarrow> P x z\n  x = x \\<or> x = y", "have \"P x z\""], ["proof (prove)\nusing this:\n  x = x \\<or> x = y \\<longrightarrow> P x z\n  x = x \\<or> x = y\n\ngoal (1 subgoal):\n 1. P x z", ".."], ["proof (state)\nthis:\n  P x z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "from allw"], ["proof (chain)\npicking this:\n  \\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z", "have \"y = x \\<or> y = y \\<longrightarrow> P y z\""], ["proof (prove)\nusing this:\n  \\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z\n\ngoal (1 subgoal):\n 1. y = x \\<or> y = y \\<longrightarrow> P y z", ".."], ["proof (state)\nthis:\n  y = x \\<or> y = y \\<longrightarrow> P y z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "moreover"], ["proof (state)\nthis:\n  y = x \\<or> y = y \\<longrightarrow> P y z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "have \"y = x \\<or> y = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = x \\<or> y = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. y = x \\<or> y = y", ".."], ["proof (state)\nthis:\n  y = x \\<or> y = y\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "ultimately"], ["proof (chain)\npicking this:\n  y = x \\<or> y = y \\<longrightarrow> P y z\n  y = x \\<or> y = y", "have \"P y z\""], ["proof (prove)\nusing this:\n  y = x \\<or> y = y \\<longrightarrow> P y z\n  y = x \\<or> y = y\n\ngoal (1 subgoal):\n 1. P y z", ".."], ["proof (state)\nthis:\n  P y z\n\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "with `P x z`"], ["proof (chain)\npicking this:\n  P x z\n  P y z", "show \"P x z \\<and> P y z\""], ["proof (prove)\nusing this:\n  P x z\n  P y z\n\ngoal (1 subgoal):\n 1. P x z \\<and> P y z", ".."], ["proof (state)\nthis:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "show \"\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w z \\<longrightarrow> O w x \\<or> O w y", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w z \\<longrightarrow> O w x \\<or> O w y", "show \"P w z \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w z \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "assume \"P w z\""], ["proof (state)\nthis:\n  P w z\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "from z"], ["proof (chain)\npicking this:\n  (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z) \\<and>\n  (\\<forall>w.\n      P w z \\<longrightarrow>\n      (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v))", "have \"\\<forall>w. P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\""], ["proof (prove)\nusing this:\n  (\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w z) \\<and>\n  (\\<forall>w.\n      P w z \\<longrightarrow>\n      (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v))\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w z \\<longrightarrow>\n       (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)", ".."], ["proof (state)\nthis:\n  \\<forall>w.\n     P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "hence \"P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)", ".."], ["proof (state)\nthis:\n  P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "hence \"\\<exists>v. (v = x \\<or> v = y) \\<and> O w v\""], ["proof (prove)\nusing this:\n  P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\n\ngoal (1 subgoal):\n 1. \\<exists>v. (v = x \\<or> v = y) \\<and> O w v", "using `P w z`"], ["proof (prove)\nusing this:\n  P w z \\<longrightarrow> (\\<exists>v. (v = x \\<or> v = y) \\<and> O w v)\n  P w z\n\ngoal (1 subgoal):\n 1. \\<exists>v. (v = x \\<or> v = y) \\<and> O w v", ".."], ["proof (state)\nthis:\n  \\<exists>v. (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. (v = x \\<or> v = y) \\<and> O w v", "obtain v where v: \"(v = x \\<or> v = y) \\<and> O w v\""], ["proof (prove)\nusing this:\n  \\<exists>v. (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        (v = x \\<or> v = y) \\<and> O w v \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  (v = x \\<or> v = y) \\<and> O w v\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", "by (rule or_id)"], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", ".."], ["proof (state)\nthis:\n  \\<exists>z.\n     (P x z \\<and> P y z) \\<and>\n     (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "sublocale GEM1 \\<subseteq> GMM"], ["proof (prove)\ngoal (1 subgoal):\n 1. GMM", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<exists>x. \\<phi> x \\<Longrightarrow>\n       \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "fix x y \\<phi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       \\<exists>x. \\<phi> x \\<Longrightarrow>\n       \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "show \"(\\<exists>x. \\<phi> x) \\<Longrightarrow> (\\<exists>z. \\<forall>y. O y z \\<longleftrightarrow> (\\<exists>x. \\<phi> x \\<and> O y x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "using fusion"], ["proof (prove)\nusing this:\n  \\<exists>x. ?\\<phi> x \\<Longrightarrow>\n  \\<exists>z. \\<forall>y. O y z = (\\<exists>x. ?\\<phi> x \\<and> O y x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<phi> x \\<Longrightarrow>\n    \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)", "."], ["proof (state)\nthis:\n  \\<exists>x. \\<phi> x \\<Longrightarrow>\n  \\<exists>z. \\<forall>y. O y z = (\\<exists>x. \\<phi> x \\<and> O y x)\n\ngoal:\nNo subgoals!", "qed"], ["", "context GEM1\nbegin"], ["", "lemma least_upper_bound:\n  assumes sf: \n    \"((\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\"\n  shows lub: \n      \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>z.\n        (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>y. F y \\<longrightarrow> P y x\n 2. \\<forall>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "from sf"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "show \"\\<forall>y. F y \\<longrightarrow> P y x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y x", ".."], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. \\<forall>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "show \"(\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "show \"(\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "assume z: \"\\<forall>y. F y \\<longrightarrow> P y z\""], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y z\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "from pair"], ["proof (chain)\npicking this:\n  \\<exists>v.\n     (\\<forall>w. w = ?x \\<or> w = ?y \\<longrightarrow> P w v) \\<and>\n     (\\<forall>w.\n         P w v \\<longrightarrow>\n         (\\<exists>z. (z = ?x \\<or> z = ?y) \\<and> O w z))", "obtain v where v: \"(\\<forall>w. (w = x \\<or> w = z) \\<longrightarrow> P w v) \\<and> (\\<forall>w. P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y))\""], ["proof (prove)\nusing this:\n  \\<exists>v.\n     (\\<forall>w. w = ?x \\<or> w = ?y \\<longrightarrow> P w v) \\<and>\n     (\\<forall>w.\n         P w v \\<longrightarrow>\n         (\\<exists>z. (z = ?x \\<or> z = ?y) \\<and> O w z))\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        (\\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v) \\<and>\n        (\\<forall>w.\n            P w v \\<longrightarrow>\n            (\\<exists>y.\n                (y = x \\<or> y = z) \\<and> O w y)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (\\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v) \\<and>\n  (\\<forall>w.\n      P w v \\<longrightarrow>\n      (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y))\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "hence left: \"(\\<forall>w. (w = x \\<or> w = z) \\<longrightarrow> P w v)\""], ["proof (prove)\nusing this:\n  (\\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v) \\<and>\n  (\\<forall>w.\n      P w v \\<longrightarrow>\n      (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y))\n\ngoal (1 subgoal):\n 1. \\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v", ".."], ["proof (state)\nthis:\n  \\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "hence \"(x = x \\<or> x = z) \\<longrightarrow> P x v\""], ["proof (prove)\nusing this:\n  \\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = z \\<longrightarrow> P x v", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = z \\<longrightarrow> P x v\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "moreover"], ["proof (state)\nthis:\n  x = x \\<or> x = z \\<longrightarrow> P x v\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "have \"x = x \\<or> x = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = x \\<or> x = z", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = z", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = z\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "ultimately"], ["proof (chain)\npicking this:\n  x = x \\<or> x = z \\<longrightarrow> P x v\n  x = x \\<or> x = z", "have \"P x v\""], ["proof (prove)\nusing this:\n  x = x \\<or> x = z \\<longrightarrow> P x v\n  x = x \\<or> x = z\n\ngoal (1 subgoal):\n 1. P x v", ".."], ["proof (state)\nthis:\n  P x v\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "have \"z = v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z = v", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "assume \"z \\<noteq> v\""], ["proof (state)\nthis:\n  z \\<noteq> v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "from left"], ["proof (chain)\npicking this:\n  \\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v", "have \"z = x \\<or> z = z \\<longrightarrow> P z v\""], ["proof (prove)\nusing this:\n  \\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v\n\ngoal (1 subgoal):\n 1. z = x \\<or> z = z \\<longrightarrow> P z v", ".."], ["proof (state)\nthis:\n  z = x \\<or> z = z \\<longrightarrow> P z v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  z = x \\<or> z = z \\<longrightarrow> P z v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "have \"z = x \\<or> z = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z = x \\<or> z = z", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. z = x \\<or> z = z", ".."], ["proof (state)\nthis:\n  z = x \\<or> z = z\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  z = x \\<or> z = z \\<longrightarrow> P z v\n  z = x \\<or> z = z", "have \"P z v\""], ["proof (prove)\nusing this:\n  z = x \\<or> z = z \\<longrightarrow> P z v\n  z = x \\<or> z = z\n\ngoal (1 subgoal):\n 1. P z v", ".."], ["proof (state)\nthis:\n  P z v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "hence \"P z v \\<and> z \\<noteq> v\""], ["proof (prove)\nusing this:\n  P z v\n\ngoal (1 subgoal):\n 1. P z v \\<and> z \\<noteq> v", "using `z \\<noteq> v`"], ["proof (prove)\nusing this:\n  P z v\n  z \\<noteq> v\n\ngoal (1 subgoal):\n 1. P z v \\<and> z \\<noteq> v", ".."], ["proof (state)\nthis:\n  P z v \\<and> z \\<noteq> v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "with nip_eq"], ["proof (chain)\npicking this:\n  PP ?x ?y = (P ?x ?y \\<and> ?x \\<noteq> ?y)\n  P z v \\<and> z \\<noteq> v", "have \"PP z v\""], ["proof (prove)\nusing this:\n  PP ?x ?y = (P ?x ?y \\<and> ?x \\<noteq> ?y)\n  P z v \\<and> z \\<noteq> v\n\ngoal (1 subgoal):\n 1. PP z v", ".."], ["proof (state)\nthis:\n  PP z v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "hence \"\\<exists>w. P w v \\<and> \\<not> O w z\""], ["proof (prove)\nusing this:\n  PP z v\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w v \\<and> \\<not> O w z", "by (rule weak_supplementation)"], ["proof (state)\nthis:\n  \\<exists>w. P w v \\<and> \\<not> O w z\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w v \\<and> \\<not> O w z", "obtain w where w: \"P w v \\<and> \\<not> O w z\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w v \\<and> \\<not> O w z\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        P w v \\<and> \\<not> O w z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w v \\<and> \\<not> O w z\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "hence \"P w v\""], ["proof (prove)\nusing this:\n  P w v \\<and> \\<not> O w z\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  (\\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v) \\<and>\n  (\\<forall>w.\n      P w v \\<longrightarrow>\n      (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y))", "have right: \n      \"\\<forall>w. P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\""], ["proof (prove)\nusing this:\n  (\\<forall>w. w = x \\<or> w = z \\<longrightarrow> P w v) \\<and>\n  (\\<forall>w.\n      P w v \\<longrightarrow>\n      (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y))\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w v \\<longrightarrow>\n       (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)", ".."], ["proof (state)\nthis:\n  \\<forall>w.\n     P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "hence \"P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\n\ngoal (1 subgoal):\n 1. P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)", ".."], ["proof (state)\nthis:\n  P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "hence \"\\<exists>y. (y = x \\<or> y = z) \\<and> O w y\""], ["proof (prove)\nusing this:\n  P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>y. (y = x \\<or> y = z) \\<and> O w y", "using `P w v`"], ["proof (prove)\nusing this:\n  P w v \\<longrightarrow> (\\<exists>y. (y = x \\<or> y = z) \\<and> O w y)\n  P w v\n\ngoal (1 subgoal):\n 1. \\<exists>y. (y = x \\<or> y = z) \\<and> O w y", ".."], ["proof (state)\nthis:\n  \\<exists>y. (y = x \\<or> y = z) \\<and> O w y\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>y. (y = x \\<or> y = z) \\<and> O w y", "obtain s where s: \"(s = x \\<or> s = z) \\<and> O w s\""], ["proof (prove)\nusing this:\n  \\<exists>y. (y = x \\<or> y = z) \\<and> O w y\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        (s = x \\<or> s = z) \\<and> O w s \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (s = x \\<or> s = z) \\<and> O w s\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "hence \"s = x \\<or> s = z\""], ["proof (prove)\nusing this:\n  (s = x \\<or> s = z) \\<and> O w s\n\ngoal (1 subgoal):\n 1. s = x \\<or> s = z", ".."], ["proof (state)\nthis:\n  s = x \\<or> s = z\n\ngoal (1 subgoal):\n 1. z \\<noteq> v \\<Longrightarrow> False", "thus \"False\""], ["proof (prove)\nusing this:\n  s = x \\<or> s = z\n\ngoal (1 subgoal):\n 1. False", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "assume \"s = x\""], ["proof (state)\nthis:\n  s = x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  s = x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "from s"], ["proof (chain)\npicking this:\n  (s = x \\<or> s = z) \\<and> O w s", "have \"O w s\""], ["proof (prove)\nusing this:\n  (s = x \\<or> s = z) \\<and> O w s\n\ngoal (1 subgoal):\n 1. O w s", ".."], ["proof (state)\nthis:\n  O w s\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  s = x\n  O w s", "have \"O w x\""], ["proof (prove)\nusing this:\n  s = x\n  O w s\n\ngoal (1 subgoal):\n 1. O w x", "by (rule subst)"], ["proof (state)\nthis:\n  O w x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O w x", "have \"\\<exists>t. P t w \\<and> P t x\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O w x\n\ngoal (1 subgoal):\n 1. \\<exists>t. P t w \\<and> P t x", ".."], ["proof (state)\nthis:\n  \\<exists>t. P t w \\<and> P t x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>t. P t w \\<and> P t x", "obtain t where t: \"P t w \\<and> P t x\""], ["proof (prove)\nusing this:\n  \\<exists>t. P t w \\<and> P t x\n\ngoal (1 subgoal):\n 1. (\\<And>t. P t w \\<and> P t x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P t w \\<and> P t x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"P t x\""], ["proof (prove)\nusing this:\n  P t w \\<and> P t x\n\ngoal (1 subgoal):\n 1. P t x", ".."], ["proof (state)\nthis:\n  P t x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "from sf"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have \"(\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", ".."], ["proof (state)\nthis:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"P t x \\<longrightarrow> (\\<exists>z. F z \\<and> O t z)\""], ["proof (prove)\nusing this:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. P t x \\<longrightarrow> (\\<exists>z. F z \\<and> O t z)", ".."], ["proof (state)\nthis:\n  P t x \\<longrightarrow> (\\<exists>z. F z \\<and> O t z)\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"\\<exists>z. F z \\<and> O t z\""], ["proof (prove)\nusing this:\n  P t x \\<longrightarrow> (\\<exists>z. F z \\<and> O t z)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O t z", "using `P t x`"], ["proof (prove)\nusing this:\n  P t x \\<longrightarrow> (\\<exists>z. F z \\<and> O t z)\n  P t x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O t z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O t z\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. F z \\<and> O t z", "obtain a where a: \"F a \\<and> O t a\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z \\<and> O t z\n\ngoal (1 subgoal):\n 1. (\\<And>a. F a \\<and> O t a \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  F a \\<and> O t a\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"F a\""], ["proof (prove)\nusing this:\n  F a \\<and> O t a\n\ngoal (1 subgoal):\n 1. F a", ".."], ["proof (state)\nthis:\n  F a\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "from sf"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have ub: \"\\<forall>y. F y \\<longrightarrow> P y x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y x", ".."], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"F a \\<longrightarrow> P a x\""], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. F a \\<longrightarrow> P a x", ".."], ["proof (state)\nthis:\n  F a \\<longrightarrow> P a x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"P a x\""], ["proof (prove)\nusing this:\n  F a \\<longrightarrow> P a x\n\ngoal (1 subgoal):\n 1. P a x", "using `F a`"], ["proof (prove)\nusing this:\n  F a \\<longrightarrow> P a x\n  F a\n\ngoal (1 subgoal):\n 1. P a x", ".."], ["proof (state)\nthis:\n  P a x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P a x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "from a"], ["proof (chain)\npicking this:\n  F a \\<and> O t a", "have \"O t a\""], ["proof (prove)\nusing this:\n  F a \\<and> O t a\n\ngoal (1 subgoal):\n 1. O t a", ".."], ["proof (state)\nthis:\n  O t a\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P a x\n  O t a", "have \"O t x\""], ["proof (prove)\nusing this:\n  P a x\n  O t a\n\ngoal (1 subgoal):\n 1. O t x", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O t x\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "from t"], ["proof (chain)\npicking this:\n  P t w \\<and> P t x", "have \"P t w\""], ["proof (prove)\nusing this:\n  P t w \\<and> P t x\n\ngoal (1 subgoal):\n 1. P t w", ".."], ["proof (state)\nthis:\n  P t w\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P t w\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "have \"O z t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O z t", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O z t", "from z"], ["proof (chain)\npicking this:\n  \\<forall>y. F y \\<longrightarrow> P y z", "have \"F a \\<longrightarrow> P a z\""], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P y z\n\ngoal (1 subgoal):\n 1. F a \\<longrightarrow> P a z", ".."], ["proof (state)\nthis:\n  F a \\<longrightarrow> P a z\n\ngoal (1 subgoal):\n 1. O z t", "moreover"], ["proof (state)\nthis:\n  F a \\<longrightarrow> P a z\n\ngoal (1 subgoal):\n 1. O z t", "from a"], ["proof (chain)\npicking this:\n  F a \\<and> O t a", "have \"F a\""], ["proof (prove)\nusing this:\n  F a \\<and> O t a\n\ngoal (1 subgoal):\n 1. F a", ".."], ["proof (state)\nthis:\n  F a\n\ngoal (1 subgoal):\n 1. O z t", "ultimately"], ["proof (chain)\npicking this:\n  F a \\<longrightarrow> P a z\n  F a", "have \"P a z\""], ["proof (prove)\nusing this:\n  F a \\<longrightarrow> P a z\n  F a\n\ngoal (1 subgoal):\n 1. P a z", ".."], ["proof (state)\nthis:\n  P a z\n\ngoal (1 subgoal):\n 1. O z t", "moreover"], ["proof (state)\nthis:\n  P a z\n\ngoal (1 subgoal):\n 1. O z t", "from a"], ["proof (chain)\npicking this:\n  F a \\<and> O t a", "have \"O t a\""], ["proof (prove)\nusing this:\n  F a \\<and> O t a\n\ngoal (1 subgoal):\n 1. O t a", ".."], ["proof (state)\nthis:\n  O t a\n\ngoal (1 subgoal):\n 1. O z t", "ultimately"], ["proof (chain)\npicking this:\n  P a z\n  O t a", "have \"O t z\""], ["proof (prove)\nusing this:\n  P a z\n  O t a\n\ngoal (1 subgoal):\n 1. O t z", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O t z\n\ngoal (1 subgoal):\n 1. O z t", "thus \"O z t\""], ["proof (prove)\nusing this:\n  O t z\n\ngoal (1 subgoal):\n 1. O z t", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O z t\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O z t\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P t w\n  O z t", "have \"O z w\""], ["proof (prove)\nusing this:\n  P t w\n  O z t\n\ngoal (1 subgoal):\n 1. O z w", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O z w\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "hence \"O w z\""], ["proof (prove)\nusing this:\n  O z w\n\ngoal (1 subgoal):\n 1. O w z", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O w z\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> \\<not> O w z", "have \"\\<not> O w z\""], ["proof (prove)\nusing this:\n  P w v \\<and> \\<not> O w z\n\ngoal (1 subgoal):\n 1. \\<not> O w z", ".."], ["proof (state)\nthis:\n  \\<not> O w z\n\ngoal (2 subgoals):\n 1. s = x \\<Longrightarrow> False\n 2. s = z \\<Longrightarrow> False", "thus \"False\""], ["proof (prove)\nusing this:\n  \\<not> O w z\n\ngoal (1 subgoal):\n 1. False", "using `O w z`"], ["proof (prove)\nusing this:\n  \\<not> O w z\n  O w z\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "assume \"s = z\""], ["proof (state)\nthis:\n  s = z\n\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  s = z\n\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "from s"], ["proof (chain)\npicking this:\n  (s = x \\<or> s = z) \\<and> O w s", "have \"O w s\""], ["proof (prove)\nusing this:\n  (s = x \\<or> s = z) \\<and> O w s\n\ngoal (1 subgoal):\n 1. O w s", ".."], ["proof (state)\nthis:\n  O w s\n\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  s = z\n  O w s", "have \"O w z\""], ["proof (prove)\nusing this:\n  s = z\n  O w s\n\ngoal (1 subgoal):\n 1. O w z", "by (rule subst)"], ["proof (state)\nthis:\n  O w z\n\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> \\<not> O w z", "have \"\\<not> O w z\""], ["proof (prove)\nusing this:\n  P w v \\<and> \\<not> O w z\n\ngoal (1 subgoal):\n 1. \\<not> O w z", ".."], ["proof (state)\nthis:\n  \\<not> O w z\n\ngoal (1 subgoal):\n 1. s = z \\<Longrightarrow> False", "thus \"False\""], ["proof (prove)\nusing this:\n  \\<not> O w z\n\ngoal (1 subgoal):\n 1. False", "using `O w z`"], ["proof (prove)\nusing this:\n  \\<not> O w z\n  O w z\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  z = v\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y z \\<Longrightarrow> P x z", "thus \"P x z\""], ["proof (prove)\nusing this:\n  z = v\n\ngoal (1 subgoal):\n 1. P x z", "using `P x v`"], ["proof (prove)\nusing this:\n  z = v\n  P x v\n\ngoal (1 subgoal):\n 1. P x z", "by (rule ssubst)"], ["proof (state)\nthis:\n  P x z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>z.\n     (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary strong_fusion_intro:  \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow> (\\<sigma> x. F x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "assume antecedent: \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "with least_upper_bound"], ["proof (chain)\npicking this:\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>y.\n      P y ?x \\<longrightarrow>\n      (\\<exists>z. ?F z \\<and> O y z)) \\<Longrightarrow>\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. ?F y \\<longrightarrow> P y z) \\<longrightarrow> P ?x z)\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have lubx: \n    \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>y.\n      P y ?x \\<longrightarrow>\n      (\\<exists>z. ?F z \\<and> O y z)) \\<Longrightarrow>\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. ?F y \\<longrightarrow> P y z) \\<longrightarrow> P ?x z)\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>z.\n        (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)", "."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "from antecedent"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have \"\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", ".."], ["proof (state)\nthis:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "hence \"P x x \\<longrightarrow> (\\<exists>z. F z \\<and> O x z)\""], ["proof (prove)\nusing this:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. P x x \\<longrightarrow> (\\<exists>z. F z \\<and> O x z)", ".."], ["proof (state)\nthis:\n  P x x \\<longrightarrow> (\\<exists>z. F z \\<and> O x z)\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "hence \"\\<exists>z. F z \\<and> O x z\""], ["proof (prove)\nusing this:\n  P x x \\<longrightarrow> (\\<exists>z. F z \\<and> O x z)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O x z", "using part_reflexivity"], ["proof (prove)\nusing this:\n  P x x \\<longrightarrow> (\\<exists>z. F z \\<and> O x z)\n  P ?x ?x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O x z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O x z\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. F z \\<and> O x z", "obtain z where z: \"F z \\<and> O x z\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z \\<and> O x z\n\ngoal (1 subgoal):\n 1. (\\<And>z. F z \\<and> O x z \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  F z \\<and> O x z\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "hence \"F z\""], ["proof (prove)\nusing this:\n  F z \\<and> O x z\n\ngoal (1 subgoal):\n 1. F z", ".."], ["proof (state)\nthis:\n  F z\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "hence \"\\<exists>z. F z\""], ["proof (prove)\nusing this:\n  F z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "hence \"(\\<sigma> x. F x) = (THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "by (rule strong_fusion_eq)"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) =\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "moreover"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) =\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "have \"(THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n    x", "proof (rule the_equality)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n 2. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "show \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "using antecedent"], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "assume w: \n      \"(\\<forall>y. F y \\<longrightarrow> P y w) \\<and> (\\<forall>y. P y w \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>y. P y w \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "with least_upper_bound"], ["proof (chain)\npicking this:\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>y.\n      P y ?x \\<longrightarrow>\n      (\\<exists>z. ?F z \\<and> O y z)) \\<Longrightarrow>\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. ?F y \\<longrightarrow> P y z) \\<longrightarrow> P ?x z)\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>y. P y w \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have lubw:\n      \"(\\<forall>y. F y \\<longrightarrow> P y w) \\<and> (\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>y.\n      P y ?x \\<longrightarrow>\n      (\\<exists>z. ?F z \\<and> O y z)) \\<Longrightarrow>\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. ?F y \\<longrightarrow> P y z) \\<longrightarrow> P ?x z)\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>y. P y w \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n    (\\<forall>z.\n        (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)", "."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "hence \"(\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)\n\ngoal (1 subgoal):\n 1. \\<forall>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z", ".."], ["proof (state)\nthis:\n  \\<forall>z.\n     (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "hence \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<longrightarrow> P w x\""], ["proof (prove)\nusing this:\n  \\<forall>z.\n     (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<longrightarrow> P w x", ".."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<longrightarrow> P w x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "moreover"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<longrightarrow> P w x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "from antecedent"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "have \"\\<forall>y. F y \\<longrightarrow> P y x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y x", ".."], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<longrightarrow> P w x\n  \\<forall>y. F y \\<longrightarrow> P y x", "have \"P w x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<longrightarrow> P w x\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "from lubx"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)", "have \"(\\<forall>z. (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z)\n\ngoal (1 subgoal):\n 1. \\<forall>z.\n       (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z", ".."], ["proof (state)\nthis:\n  \\<forall>z.\n     (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "hence \"(\\<forall>y. F y \\<longrightarrow> P y w) \\<longrightarrow> P x w\""], ["proof (prove)\nusing this:\n  \\<forall>z.\n     (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P x z\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y w) \\<longrightarrow> P x w", ".."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<longrightarrow> P x w\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "moreover"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<longrightarrow> P x w\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "from lubw"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)", "have \"(\\<forall>y. F y \\<longrightarrow> P y w)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. F y \\<longrightarrow> P y z) \\<longrightarrow> P w z)\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y w", ".."], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y w\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<longrightarrow> P x w\n  \\<forall>y. F y \\<longrightarrow> P y w", "have \"P x w\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y w) \\<longrightarrow> P x w\n  \\<forall>y. F y \\<longrightarrow> P y w\n\ngoal (1 subgoal):\n 1. P x w", ".."], ["proof (state)\nthis:\n  P x w\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       (\\<forall>y. F y \\<longrightarrow> P y xa) \\<and>\n       (\\<forall>y.\n           P y xa \\<longrightarrow>\n           (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n       xa = x", "with `P w x`"], ["proof (chain)\npicking this:\n  P w x\n  P x w", "show \"w = x\""], ["proof (prove)\nusing this:\n  P w x\n  P x w\n\ngoal (1 subgoal):\n 1. w = x", "by (rule part_antisymmetry)"], ["proof (state)\nthis:\n  w = x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y.\n          P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n  x\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y.\n        P y x \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n    (\\<sigma>x. F x) = x", "ultimately"], ["proof (chain)\npicking this:\n  (\\<sigma>x. F x) =\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y.\n          P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n  x", "show \"(\\<sigma> x. F x) = x\""], ["proof (prove)\nusing this:\n  (\\<sigma>x. F x) =\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y.\n          P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))) =\n  x\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) = x", "by (rule ssubst)"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strong_fusion_character: \"\\<exists>x. F x \\<Longrightarrow> ((\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)) \\<and> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "hence \"(\\<exists>x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "by (rule strong_fusion)"], ["proof (state)\nthis:\n  \\<exists>x.\n     (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "then"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "obtain x where x: \n    \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow>\n            (\\<exists>z. F z \\<and> O y z)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "hence \"(\\<sigma> x. F x) = x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) = x", "by (rule strong_fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) = x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<sigma>x. F x) = x\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "using x"], ["proof (prove)\nusing this:\n  (\\<sigma>x. F x) = x\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "by (rule ssubst)"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma F_in: \"\\<exists>x. F x \\<Longrightarrow> (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "hence \"((\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)) \\<and> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "by (rule strong_fusion_character)"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "thus \"\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma parts_overlap_Fs:\n  \"\\<exists>x. F x \\<Longrightarrow> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "hence \"((\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x)) \\<and> (\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. F x) \\<longrightarrow>\n        (\\<exists>z. F z \\<and> O y z))", "by (rule strong_fusion_character)"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "thus \"(\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", ".."], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma in_strong_fusion: \"P z (\\<sigma> x. z = x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", "have \"\\<exists>y. z = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y. z = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. \\<exists>y. z = y", ".."], ["proof (state)\nthis:\n  \\<exists>y. z = y\n\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", "hence \"\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma> x. z = x)\""], ["proof (prove)\nusing this:\n  \\<exists>y. z = y\n\ngoal (1 subgoal):\n 1. \\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)", "by (rule F_in)"], ["proof (state)\nthis:\n  \\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)\n\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", "hence \"z = z \\<longrightarrow> P z (\\<sigma> x. z = x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)\n\ngoal (1 subgoal):\n 1. z = z \\<longrightarrow> P z (\\<sigma>x. z = x)", ".."], ["proof (state)\nthis:\n  z = z \\<longrightarrow> P z (\\<sigma>x. z = x)\n\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", "thus \"P z (\\<sigma> x. z = x)\""], ["proof (prove)\nusing this:\n  z = z \\<longrightarrow> P z (\\<sigma>x. z = x)\n\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", "using refl"], ["proof (prove)\nusing this:\n  z = z \\<longrightarrow> P z (\\<sigma>x. z = x)\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. z = x)", ".."], ["proof (state)\nthis:\n  P z (\\<sigma>x. z = x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strong_fusion_in: \"P (\\<sigma> x. z = x) z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "have \"\\<exists>y. z = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y. z = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. \\<exists>y. z = y", ".."], ["proof (state)\nthis:\n  \\<exists>y. z = y\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "hence sf:\n    \"(\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma> x. z = x)) \\<and> (\\<forall>y. P y (\\<sigma> x. z = x) \\<longrightarrow> (\\<exists>v. z = v \\<and> O y v))\""], ["proof (prove)\nusing this:\n  \\<exists>y. z = y\n\ngoal (1 subgoal):\n 1. (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n    (\\<forall>y.\n        P y (\\<sigma>x. z = x) \\<longrightarrow>\n        (\\<exists>v. z = v \\<and> O y v))", "by (rule strong_fusion_character)"], ["proof (state)\nthis:\n  (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. z = x) \\<longrightarrow>\n      (\\<exists>v. z = v \\<and> O y v))\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "with least_upper_bound"], ["proof (chain)\npicking this:\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>y.\n      P y ?x \\<longrightarrow>\n      (\\<exists>z. ?F z \\<and> O y z)) \\<Longrightarrow>\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. ?F y \\<longrightarrow> P y z) \\<longrightarrow> P ?x z)\n  (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. z = x) \\<longrightarrow>\n      (\\<exists>v. z = v \\<and> O y v))", "have lub: \"(\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma> x. z = x)) \\<and> (\\<forall>v. (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow> P (\\<sigma> x. z = x) v)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>y.\n      P y ?x \\<longrightarrow>\n      (\\<exists>z. ?F z \\<and> O y z)) \\<Longrightarrow>\n  (\\<forall>y. ?F y \\<longrightarrow> P y ?x) \\<and>\n  (\\<forall>z.\n      (\\<forall>y. ?F y \\<longrightarrow> P y z) \\<longrightarrow> P ?x z)\n  (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n  (\\<forall>y.\n      P y (\\<sigma>x. z = x) \\<longrightarrow>\n      (\\<exists>v. z = v \\<and> O y v))\n\ngoal (1 subgoal):\n 1. (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n    (\\<forall>v.\n        (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow>\n        P (\\<sigma>x. z = x) v)", "."], ["proof (state)\nthis:\n  (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n  (\\<forall>v.\n      (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow>\n      P (\\<sigma>x. z = x) v)\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "hence \"(\\<forall>v. (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow> P (\\<sigma> x. z = x) v)\""], ["proof (prove)\nusing this:\n  (\\<forall>y. z = y \\<longrightarrow> P y (\\<sigma>x. z = x)) \\<and>\n  (\\<forall>v.\n      (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow>\n      P (\\<sigma>x. z = x) v)\n\ngoal (1 subgoal):\n 1. \\<forall>v.\n       (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow>\n       P (\\<sigma>x. z = x) v", ".."], ["proof (state)\nthis:\n  \\<forall>v.\n     (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow>\n     P (\\<sigma>x. z = x) v\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "hence \"(\\<forall>y. z = y \\<longrightarrow> P y z) \\<longrightarrow> P (\\<sigma> x. z = x) z\""], ["proof (prove)\nusing this:\n  \\<forall>v.\n     (\\<forall>y. z = y \\<longrightarrow> P y v) \\<longrightarrow>\n     P (\\<sigma>x. z = x) v\n\ngoal (1 subgoal):\n 1. (\\<forall>y. z = y \\<longrightarrow> P y z) \\<longrightarrow>\n    P (\\<sigma>x. z = x) z", ".."], ["proof (state)\nthis:\n  (\\<forall>y. z = y \\<longrightarrow> P y z) \\<longrightarrow>\n  P (\\<sigma>x. z = x) z\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "moreover"], ["proof (state)\nthis:\n  (\\<forall>y. z = y \\<longrightarrow> P y z) \\<longrightarrow>\n  P (\\<sigma>x. z = x) z\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "have \"(\\<forall>y. z = y \\<longrightarrow> P y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. z = y \\<longrightarrow> P y z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. z = y \\<longrightarrow> P y z", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. z = y \\<longrightarrow> P y z", "show \"z = y \\<longrightarrow> P y z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z = y \\<longrightarrow> P y z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. z = y \\<Longrightarrow> P y z", "assume \"z = y\""], ["proof (state)\nthis:\n  z = y\n\ngoal (1 subgoal):\n 1. z = y \\<Longrightarrow> P y z", "thus \"P y z\""], ["proof (prove)\nusing this:\n  z = y\n\ngoal (1 subgoal):\n 1. P y z", "using part_reflexivity"], ["proof (prove)\nusing this:\n  z = y\n  P ?x ?x\n\ngoal (1 subgoal):\n 1. P y z", "by (rule subst)"], ["proof (state)\nthis:\n  P y z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  z = y \\<longrightarrow> P y z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. z = y \\<longrightarrow> P y z\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", "ultimately"], ["proof (chain)\npicking this:\n  (\\<forall>y. z = y \\<longrightarrow> P y z) \\<longrightarrow>\n  P (\\<sigma>x. z = x) z\n  \\<forall>y. z = y \\<longrightarrow> P y z", "show \"P (\\<sigma> x. z = x) z\""], ["proof (prove)\nusing this:\n  (\\<forall>y. z = y \\<longrightarrow> P y z) \\<longrightarrow>\n  P (\\<sigma>x. z = x) z\n  \\<forall>y. z = y \\<longrightarrow> P y z\n\ngoal (1 subgoal):\n 1. P (\\<sigma>x. z = x) z", ".."], ["proof (state)\nthis:\n  P (\\<sigma>x. z = x) z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strong_fusion_idempotence: \"(\\<sigma> x. z = x) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<sigma>x. z = x) = z", "using strong_fusion_in in_strong_fusion"], ["proof (prove)\nusing this:\n  P (\\<sigma>x. ?z = x) ?z\n  P ?z (\\<sigma>x. ?z = x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. z = x) = z", "by (rule part_antisymmetry)"], ["", "subsection \\<open> Strong Sums \\<close>"], ["", "lemma pair_fusion: \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y) \\<longrightarrow> (\\<sigma> z. z = x \\<or> z = y) = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<longrightarrow>\n    (\\<sigma>z. z = x \\<or> z = y) = z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n    (\\<sigma>z. z = x \\<or> z = y) = z", "assume z: \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n    (\\<sigma>z. z = x \\<or> z = y) = z", "have \"(\\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z) \\<and> (\\<forall>v. P v z \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z) \\<and>\n    (\\<forall>v.\n        P v z \\<longrightarrow>\n        (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z\n 2. \\<forall>v.\n       P v z \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "show \"\\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. v = x \\<or> v = y \\<longrightarrow> P v z", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. v = x \\<or> v = y \\<longrightarrow> P v z", "from z"], ["proof (chain)\npicking this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"P x z \\<and> P y z\""], ["proof (prove)\nusing this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. P x z \\<and> P y z", ".."], ["proof (state)\nthis:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. \\<And>v. v = x \\<or> v = y \\<longrightarrow> P v z", "show \"w = x \\<or> w = y \\<longrightarrow> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w = x \\<or> w = y \\<longrightarrow> P w z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. w = x \\<or> w = y \\<Longrightarrow> P w z", "assume \"w = x \\<or> w = y\""], ["proof (state)\nthis:\n  w = x \\<or> w = y\n\ngoal (1 subgoal):\n 1. w = x \\<or> w = y \\<Longrightarrow> P w z", "thus \"P w z\""], ["proof (prove)\nusing this:\n  w = x \\<or> w = y\n\ngoal (1 subgoal):\n 1. P w z", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w = x \\<Longrightarrow> P w z\n 2. w = y \\<Longrightarrow> P w z", "assume \"w = x\""], ["proof (state)\nthis:\n  w = x\n\ngoal (2 subgoals):\n 1. w = x \\<Longrightarrow> P w z\n 2. w = y \\<Longrightarrow> P w z", "moreover"], ["proof (state)\nthis:\n  w = x\n\ngoal (2 subgoals):\n 1. w = x \\<Longrightarrow> P w z\n 2. w = y \\<Longrightarrow> P w z", "from `P x z \\<and> P y z`"], ["proof (chain)\npicking this:\n  P x z \\<and> P y z", "have \"P x z\""], ["proof (prove)\nusing this:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. P x z", ".."], ["proof (state)\nthis:\n  P x z\n\ngoal (2 subgoals):\n 1. w = x \\<Longrightarrow> P w z\n 2. w = y \\<Longrightarrow> P w z", "ultimately"], ["proof (chain)\npicking this:\n  w = x\n  P x z", "show \"P w z\""], ["proof (prove)\nusing this:\n  w = x\n  P x z\n\ngoal (1 subgoal):\n 1. P w z", "by (rule ssubst)"], ["proof (state)\nthis:\n  P w z\n\ngoal (1 subgoal):\n 1. w = y \\<Longrightarrow> P w z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w = y \\<Longrightarrow> P w z", "assume \"w = y\""], ["proof (state)\nthis:\n  w = y\n\ngoal (1 subgoal):\n 1. w = y \\<Longrightarrow> P w z", "moreover"], ["proof (state)\nthis:\n  w = y\n\ngoal (1 subgoal):\n 1. w = y \\<Longrightarrow> P w z", "from `P x z \\<and> P y z`"], ["proof (chain)\npicking this:\n  P x z \\<and> P y z", "have \"P y z\""], ["proof (prove)\nusing this:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. P y z", ".."], ["proof (state)\nthis:\n  P y z\n\ngoal (1 subgoal):\n 1. w = y \\<Longrightarrow> P w z", "ultimately"], ["proof (chain)\npicking this:\n  w = y\n  P y z", "show \"P w z\""], ["proof (prove)\nusing this:\n  w = y\n  P y z\n\ngoal (1 subgoal):\n 1. P w z", "by (rule ssubst)"], ["proof (state)\nthis:\n  P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  w = x \\<or> w = y \\<longrightarrow> P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z\n\ngoal (1 subgoal):\n 1. \\<forall>v.\n       P v z \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "show \"\\<forall>v. P v z \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v.\n       P v z \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       P v z \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       P v z \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "show \"P v z \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P v z \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P v z \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "assume \"P v z\""], ["proof (state)\nthis:\n  P v z\n\ngoal (1 subgoal):\n 1. P v z \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "from z"], ["proof (chain)\npicking this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. P v z \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "hence \"P v z \\<longrightarrow> O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. P v z \\<longrightarrow> O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. P v z \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "hence \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", "using `P v z`"], ["proof (prove)\nusing this:\n  P v z \\<longrightarrow> O v x \\<or> O v y\n  P v z\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. P v z \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "thus \"\\<exists>z. (z = x \\<or> z = y) \\<and> O v z\""], ["proof (prove)\nusing this:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n 2. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "assume \"O v x\""], ["proof (state)\nthis:\n  O v x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n 2. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "have \"x = x \\<or> x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n 2. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "hence \"(x = x \\<or> x = y) \\<and> O v x\""], ["proof (prove)\nusing this:\n  x = x \\<or> x = y\n\ngoal (1 subgoal):\n 1. (x = x \\<or> x = y) \\<and> O v x", "using `O v x`"], ["proof (prove)\nusing this:\n  x = x \\<or> x = y\n  O v x\n\ngoal (1 subgoal):\n 1. (x = x \\<or> x = y) \\<and> O v x", ".."], ["proof (state)\nthis:\n  (x = x \\<or> x = y) \\<and> O v x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n 2. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "thus \"\\<exists>z. (z = x \\<or> z = y) \\<and> O v z\""], ["proof (prove)\nusing this:\n  (x = x \\<or> x = y) \\<and> O v x\n\ngoal (1 subgoal):\n 1. \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", ".."], ["proof (state)\nthis:\n  \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "assume \"O v y\""], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "have \"y = x \\<or> y = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = x \\<or> y = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. y = x \\<or> y = y", ".."], ["proof (state)\nthis:\n  y = x \\<or> y = y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "hence \"(y = x \\<or> y = y) \\<and> O v y\""], ["proof (prove)\nusing this:\n  y = x \\<or> y = y\n\ngoal (1 subgoal):\n 1. (y = x \\<or> y = y) \\<and> O v y", "using `O v y`"], ["proof (prove)\nusing this:\n  y = x \\<or> y = y\n  O v y\n\ngoal (1 subgoal):\n 1. (y = x \\<or> y = y) \\<and> O v y", ".."], ["proof (state)\nthis:\n  (y = x \\<or> y = y) \\<and> O v y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", "thus \"\\<exists>z. (z = x \\<or> z = y) \\<and> O v z\""], ["proof (prove)\nusing this:\n  (y = x \\<or> y = y) \\<and> O v y\n\ngoal (1 subgoal):\n 1. \\<exists>z. (z = x \\<or> z = y) \\<and> O v z", ".."], ["proof (state)\nthis:\n  \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>z. (z = x \\<or> z = y) \\<and> O v z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P v z \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v.\n     P v z \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z) \\<and>\n  (\\<forall>v.\n      P v z \\<longrightarrow>\n      (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z))\n\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n    (\\<sigma>z. z = x \\<or> z = y) = z", "thus \"(\\<sigma> z. z = x \\<or> z = y) = z\""], ["proof (prove)\nusing this:\n  (\\<forall>v. v = x \\<or> v = y \\<longrightarrow> P v z) \\<and>\n  (\\<forall>v.\n      P v z \\<longrightarrow>\n      (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z))\n\ngoal (1 subgoal):\n 1. (\\<sigma>z. z = x \\<or> z = y) = z", "by (rule strong_fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>z. z = x \\<or> z = y) = z\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary strong_sum_fusion: \"x \\<oplus> y = (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<oplus> y = (\\<sigma>z. z = x \\<or> z = y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<oplus> y = (\\<sigma>z. z = x \\<or> z = y)", "have \"(THE z. (P x z \\<and> P y z) \\<and> \n    (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) = (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n    (\\<sigma>z. z = x \\<or> z = y)", "proof (rule the_equality)"], ["proof (state)\ngoal (2 subgoals):\n 1. (P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n     P y (\\<sigma>z. z = x \\<or> z = y)) \\<and>\n    (\\<forall>w.\n        P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n        O w x \\<or> O w y)\n 2. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "have \"x = x \\<or> x = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = y", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = y\n\ngoal (2 subgoals):\n 1. (P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n     P y (\\<sigma>z. z = x \\<or> z = y)) \\<and>\n    (\\<forall>w.\n        P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n        O w x \\<or> O w y)\n 2. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "hence exz: \"\\<exists>z. z = x \\<or> z = y\""], ["proof (prove)\nusing this:\n  x = x \\<or> x = y\n\ngoal (1 subgoal):\n 1. \\<exists>z. z = x \\<or> z = y", ".."], ["proof (state)\nthis:\n  \\<exists>z. z = x \\<or> z = y\n\ngoal (2 subgoals):\n 1. (P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n     P y (\\<sigma>z. z = x \\<or> z = y)) \\<and>\n    (\\<forall>w.\n        P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n        O w x \\<or> O w y)\n 2. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "hence allw: \"(\\<forall>w. w = x \\<or> w = y \\<longrightarrow> P w (\\<sigma> z. z = x \\<or> z = y))\""], ["proof (prove)\nusing this:\n  \\<exists>z. z = x \\<or> z = y\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       w = x \\<or> w = y \\<longrightarrow>\n       P w (\\<sigma>z. z = x \\<or> z = y)", "by (rule F_in)"], ["proof (state)\nthis:\n  \\<forall>w.\n     w = x \\<or> w = y \\<longrightarrow> P w (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (2 subgoals):\n 1. (P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n     P y (\\<sigma>z. z = x \\<or> z = y)) \\<and>\n    (\\<forall>w.\n        P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n        O w x \\<or> O w y)\n 2. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "show \"(P x (\\<sigma> z. z = x \\<or> z = y) \\<and> P y (\\<sigma> z. z = x \\<or> z = y)) \\<and> \n      (\\<forall>w. P w (\\<sigma> z. z = x \\<or> z = y) \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n     P y (\\<sigma>z. z = x \\<or> z = y)) \\<and>\n    (\\<forall>w.\n        P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n        O w x \\<or> O w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n    P y (\\<sigma>z. z = x \\<or> z = y)\n 2. \\<forall>w.\n       P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       O w x \\<or> O w y", "show \"(P x (\\<sigma> z. z = x \\<or> z = y) \\<and> P y (\\<sigma> z. z = x \\<or> z = y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n    P y (\\<sigma>z. z = x \\<or> z = y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x (\\<sigma>z. z = x \\<or> z = y)\n 2. P y (\\<sigma>z. z = x \\<or> z = y)", "from allw"], ["proof (chain)\npicking this:\n  \\<forall>w.\n     w = x \\<or> w = y \\<longrightarrow> P w (\\<sigma>z. z = x \\<or> z = y)", "have \"x = x \\<or> x = y \\<longrightarrow> P x (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w = x \\<or> w = y \\<longrightarrow> P w (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. x = x \\<or> x = y \\<longrightarrow> P x (\\<sigma>z. z = x \\<or> z = y)", ".."], ["proof (state)\nthis:\n  x = x \\<or> x = y \\<longrightarrow> P x (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (2 subgoals):\n 1. P x (\\<sigma>z. z = x \\<or> z = y)\n 2. P y (\\<sigma>z. z = x \\<or> z = y)", "thus \"P x (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\nusing this:\n  x = x \\<or> x = y \\<longrightarrow> P x (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. P x (\\<sigma>z. z = x \\<or> z = y)", "using `x = x \\<or> x = y`"], ["proof (prove)\nusing this:\n  x = x \\<or> x = y \\<longrightarrow> P x (\\<sigma>z. z = x \\<or> z = y)\n  x = x \\<or> x = y\n\ngoal (1 subgoal):\n 1. P x (\\<sigma>z. z = x \\<or> z = y)", ".."], ["proof (state)\nthis:\n  P x (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. z = x \\<or> z = y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. z = x \\<or> z = y)", "from allw"], ["proof (chain)\npicking this:\n  \\<forall>w.\n     w = x \\<or> w = y \\<longrightarrow> P w (\\<sigma>z. z = x \\<or> z = y)", "have \"y = x \\<or> y = y \\<longrightarrow> P y (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     w = x \\<or> w = y \\<longrightarrow> P w (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. y = x \\<or> y = y \\<longrightarrow> P y (\\<sigma>z. z = x \\<or> z = y)", ".."], ["proof (state)\nthis:\n  y = x \\<or> y = y \\<longrightarrow> P y (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. z = x \\<or> z = y)", "moreover"], ["proof (state)\nthis:\n  y = x \\<or> y = y \\<longrightarrow> P y (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. z = x \\<or> z = y)", "have \"y = x \\<or> y = y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = x \\<or> y = y", "using refl"], ["proof (prove)\nusing this:\n  ?t = ?t\n\ngoal (1 subgoal):\n 1. y = x \\<or> y = y", ".."], ["proof (state)\nthis:\n  y = x \\<or> y = y\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. z = x \\<or> z = y)", "ultimately"], ["proof (chain)\npicking this:\n  y = x \\<or> y = y \\<longrightarrow> P y (\\<sigma>z. z = x \\<or> z = y)\n  y = x \\<or> y = y", "show \"P y (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\nusing this:\n  y = x \\<or> y = y \\<longrightarrow> P y (\\<sigma>z. z = x \\<or> z = y)\n  y = x \\<or> y = y\n\ngoal (1 subgoal):\n 1. P y (\\<sigma>z. z = x \\<or> z = y)", ".."], ["proof (state)\nthis:\n  P y (\\<sigma>z. z = x \\<or> z = y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n  P y (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       O w x \\<or> O w y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       O w x \\<or> O w y", "show \"\\<forall>w. P w (\\<sigma> z. z = x \\<or> z = y) \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       O w x \\<or> O w y", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       O w x \\<or> O w y", "show \"P w (\\<sigma> z. z = x \\<or> z = y) \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "have \"\\<forall>v. P v (\\<sigma> z. z = x \\<or> z = y) \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v.\n       P v (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "using exz"], ["proof (prove)\nusing this:\n  \\<exists>z. z = x \\<or> z = y\n\ngoal (1 subgoal):\n 1. \\<forall>v.\n       P v (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n       (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)", "by (rule parts_overlap_Fs)"], ["proof (state)\nthis:\n  \\<forall>v.\n     P v (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n     (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "hence \"P w (\\<sigma> z. z = x \\<or> z = y) \\<longrightarrow> (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)\""], ["proof (prove)\nusing this:\n  \\<forall>v.\n     P v (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n     (\\<exists>z. (z = x \\<or> z = y) \\<and> O v z)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n    (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)", ".."], ["proof (state)\nthis:\n  P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n  (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "moreover"], ["proof (state)\nthis:\n  P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n  (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "assume \"P w (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (state)\nthis:\n  P w (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "ultimately"], ["proof (chain)\npicking this:\n  P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n  (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)\n  P w (\\<sigma>z. z = x \\<or> z = y)", "have \"(\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)\""], ["proof (prove)\nusing this:\n  P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n  (\\<exists>z. (z = x \\<or> z = y) \\<and> O w z)\n  P w (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. \\<exists>z. (z = x \\<or> z = y) \\<and> O w z", ".."], ["proof (state)\nthis:\n  \\<exists>z. (z = x \\<or> z = y) \\<and> O w z\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. (z = x \\<or> z = y) \\<and> O w z", "obtain z where z: \"(z = x \\<or> z = y) \\<and> O w z\""], ["proof (prove)\nusing this:\n  \\<exists>z. (z = x \\<or> z = y) \\<and> O w z\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        (z = x \\<or> z = y) \\<and> O w z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (z = x \\<or> z = y) \\<and> O w z\n\ngoal (1 subgoal):\n 1. P w (\\<sigma>z. z = x \\<or> z = y) \\<Longrightarrow> O w x \\<or> O w y", "thus \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  (z = x \\<or> z = y) \\<and> O w z\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", "by (rule or_id)"], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (P x (\\<sigma>z. z = x \\<or> z = y) \\<and>\n   P y (\\<sigma>z. z = x \\<or> z = y)) \\<and>\n  (\\<forall>w.\n      P w (\\<sigma>z. z = x \\<or> z = y) \\<longrightarrow>\n      O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "assume z: \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "with pair_fusion"], ["proof (chain)\npicking this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  (\\<sigma>z. z = ?x \\<or> z = ?y) = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"(\\<sigma> z. z = x \\<or> z = y) = z\""], ["proof (prove)\nusing this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  (\\<sigma>z. z = ?x \\<or> z = ?y) = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. (\\<sigma>z. z = x \\<or> z = y) = z", ".."], ["proof (state)\nthis:\n  (\\<sigma>z. z = x \\<or> z = y) = z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       (P x z \\<and> P y z) \\<and>\n       (\\<forall>w.\n           P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n       z = (\\<sigma>z. z = x \\<or> z = y)", "thus \"z = (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\nusing this:\n  (\\<sigma>z. z = x \\<or> z = y) = z\n\ngoal (1 subgoal):\n 1. z = (\\<sigma>z. z = x \\<or> z = y)", ".."], ["proof (state)\nthis:\n  z = (\\<sigma>z. z = x \\<or> z = y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n  (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = (\\<sigma>z. z = x \\<or> z = y)", "with strong_sum_eq"], ["proof (chain)\npicking this:\n  ?x \\<oplus> ?y =\n  (THE z.\n      (P ?x z \\<and> P ?y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w ?x \\<or> O w ?y))\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n  (\\<sigma>z. z = x \\<or> z = y)", "show \"x \\<oplus> y = (\\<sigma> z. z = x \\<or> z = y)\""], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y =\n  (THE z.\n      (P ?x z \\<and> P ?y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w ?x \\<or> O w ?y))\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)) =\n  (\\<sigma>z. z = x \\<or> z = y)\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = (\\<sigma>z. z = x \\<or> z = y)", "by (rule ssubst)"], ["proof (state)\nthis:\n  x \\<oplus> y = (\\<sigma>z. z = x \\<or> z = y)\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary strong_sum_intro: \n  \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y) \\<longrightarrow> x \\<oplus> y = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<longrightarrow>\n    x \\<oplus> y = z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n    x \\<oplus> y = z", "assume z: \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n    x \\<oplus> y = z", "with pair_fusion"], ["proof (chain)\npicking this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  (\\<sigma>z. z = ?x \\<or> z = ?y) = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"(\\<sigma> z. z = x \\<or> z = y) = z\""], ["proof (prove)\nusing this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  (\\<sigma>z. z = ?x \\<or> z = ?y) = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. (\\<sigma>z. z = x \\<or> z = y) = z", ".."], ["proof (state)\nthis:\n  (\\<sigma>z. z = x \\<or> z = y) = z\n\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w.\n        P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n    x \\<oplus> y = z", "with strong_sum_fusion"], ["proof (chain)\npicking this:\n  ?x \\<oplus> ?y = (\\<sigma>z. z = ?x \\<or> z = ?y)\n  (\\<sigma>z. z = x \\<or> z = y) = z", "show \"(x \\<oplus> y) = z\""], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y = (\\<sigma>z. z = ?x \\<or> z = ?y)\n  (\\<sigma>z. z = x \\<or> z = y) = z\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = z", "by (rule ssubst)"], ["proof (state)\nthis:\n  x \\<oplus> y = z\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary strong_sum_character: \"(P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and> (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "from strong_sum_closure"], ["proof (chain)\npicking this:\n  \\<exists>z.\n     (P ?x z \\<and> P ?y z) \\<and>\n     (\\<forall>w. P w z \\<longrightarrow> O w ?x \\<or> O w ?y)", "obtain z where z: \n    \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\nusing this:\n  \\<exists>z.\n     (P ?x z \\<and> P ?y z) \\<and>\n     (\\<forall>w. P w z \\<longrightarrow> O w ?x \\<or> O w ?y)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w.\n            P w z \\<longrightarrow> O w x \\<or> O w y) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "with strong_sum_intro"], ["proof (chain)\npicking this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  ?x \\<oplus> ?y = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"x \\<oplus> y = z\""], ["proof (prove)\nusing this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  ?x \\<oplus> ?y = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = z", ".."], ["proof (state)\nthis:\n  x \\<oplus> y = z\n\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<oplus> y = z\n\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "using z"], ["proof (prove)\nusing this:\n  x \\<oplus> y = z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n    (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)", "by (rule ssubst)"], ["proof (state)\nthis:\n  (P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)) \\<and>\n  (\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary summands_in: \"(P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)", "using strong_sum_character"], ["proof (prove)\nusing this:\n  (P ?x (?x \\<oplus> ?y) \\<and> P ?y (?x \\<oplus> ?y)) \\<and>\n  (\\<forall>w. P w (?x \\<oplus> ?y) \\<longrightarrow> O w ?x \\<or> O w ?y)\n\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y) \\<and> P y (x \\<oplus> y)", ".."], ["", "corollary first_summand_in: \"P x (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y)", "using summands_in"], ["proof (prove)\nusing this:\n  P ?x (?x \\<oplus> ?y) \\<and> P ?y (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P x (x \\<oplus> y)", ".."], ["", "corollary second_summand_in: \"P y (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y (x \\<oplus> y)", "using summands_in"], ["proof (prove)\nusing this:\n  P ?x (?x \\<oplus> ?y) \\<and> P ?y (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P y (x \\<oplus> y)", ".."], ["", "corollary sum_part_overlap: \"(\\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "using strong_sum_character"], ["proof (prove)\nusing this:\n  (P ?x (?x \\<oplus> ?y) \\<and> P ?y (?x \\<oplus> ?y)) \\<and>\n  (\\<forall>w. P w (?x \\<oplus> ?y) \\<longrightarrow> O w ?x \\<or> O w ?y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", ".."], ["", "lemma strong_sum_absorption: \"y = (x \\<oplus> y) \\<Longrightarrow> P x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = x \\<oplus> y \\<Longrightarrow> P x y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. y = x \\<oplus> y \\<Longrightarrow> P x y", "assume \"y = (x \\<oplus> y)\""], ["proof (state)\nthis:\n  y = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. y = x \\<oplus> y \\<Longrightarrow> P x y", "thus \"P x y\""], ["proof (prove)\nusing this:\n  y = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. P x y", "using first_summand_in"], ["proof (prove)\nusing this:\n  y = x \\<oplus> y\n  P ?x (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P x y", "by (rule ssubst)"], ["proof (state)\nthis:\n  P x y\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem strong_supplementation: \"\\<not> P x y \\<Longrightarrow> (\\<exists>z. P z x \\<and> \\<not> O z y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y", "assume \"\\<not> P x y\""], ["proof (state)\nthis:\n  \\<not> P x y\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y", "have \"\\<not> (\\<forall>z. P z x \\<longrightarrow> O z y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>z. P z x \\<longrightarrow> O z y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>z. P z x \\<longrightarrow> O z y \\<Longrightarrow> False", "assume z: \"\\<forall>z. P z x \\<longrightarrow> O z y\""], ["proof (state)\nthis:\n  \\<forall>z. P z x \\<longrightarrow> O z y\n\ngoal (1 subgoal):\n 1. \\<forall>z. P z x \\<longrightarrow> O z y \\<Longrightarrow> False", "have \"(\\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)) \\<and> \n    (\\<forall>v. P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)) \\<and>\n    (\\<forall>v.\n        P v (x \\<oplus> y) \\<longrightarrow>\n        (\\<exists>z. y = z \\<and> O v z))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)\n 2. \\<forall>v.\n       P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)", "show \"\\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. y = v \\<longrightarrow> P v (x \\<oplus> y)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. y = v \\<longrightarrow> P v (x \\<oplus> y)", "show \"y = v \\<longrightarrow> P v (x \\<oplus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y = v \\<longrightarrow> P v (x \\<oplus> y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. y = v \\<Longrightarrow> P v (x \\<oplus> y)", "assume \"y = v\""], ["proof (state)\nthis:\n  y = v\n\ngoal (1 subgoal):\n 1. y = v \\<Longrightarrow> P v (x \\<oplus> y)", "thus \"P v (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  y = v\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y)", "using second_summand_in"], ["proof (prove)\nusing this:\n  y = v\n  P ?y (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y)", "by (rule subst)"], ["proof (state)\nthis:\n  P v (x \\<oplus> y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y = v \\<longrightarrow> P v (x \\<oplus> y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. \\<forall>v.\n       P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)", "show \"\\<forall>v. P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v.\n       P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)", "show \"P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "assume \"P v (x \\<oplus> y)\""], ["proof (state)\nthis:\n  P v (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "moreover"], ["proof (state)\nthis:\n  P v (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "from sum_part_overlap"], ["proof (chain)\npicking this:\n  \\<forall>w. P w (?x \\<oplus> ?y) \\<longrightarrow> O w ?x \\<or> O w ?y", "have\n       \"P v (x \\<oplus> y) \\<longrightarrow> O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (?x \\<oplus> ?y) \\<longrightarrow> O w ?x \\<or> O w ?y\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<longrightarrow> O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  P v (x \\<oplus> y) \\<longrightarrow> O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "ultimately"], ["proof (chain)\npicking this:\n  P v (x \\<oplus> y)\n  P v (x \\<oplus> y) \\<longrightarrow> O v x \\<or> O v y", "have \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  P v (x \\<oplus> y)\n  P v (x \\<oplus> y) \\<longrightarrow> O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", "by (rule rev_mp)"], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "hence \"O v y\""], ["proof (prove)\nusing this:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v y", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "assume \"O v x\""], ["proof (state)\nthis:\n  O v x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v x", "have \"\\<exists>w. P w v \\<and> P w x\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v x\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w v \\<and> P w x", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w v \\<and> P w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w v \\<and> P w x", "obtain w where w: \"P w v \\<and> P w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w v \\<and> P w x\n\ngoal (1 subgoal):\n 1. (\\<And>w. P w v \\<and> P w x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w v \\<and> P w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "from z"], ["proof (chain)\npicking this:\n  \\<forall>z. P z x \\<longrightarrow> O z y", "have \"P w x \\<longrightarrow> O w y\""], ["proof (prove)\nusing this:\n  \\<forall>z. P z x \\<longrightarrow> O z y\n\ngoal (1 subgoal):\n 1. P w x \\<longrightarrow> O w y", ".."], ["proof (state)\nthis:\n  P w x \\<longrightarrow> O w y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "moreover"], ["proof (state)\nthis:\n  P w x \\<longrightarrow> O w y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> P w x", "have \"P w x\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "ultimately"], ["proof (chain)\npicking this:\n  P w x \\<longrightarrow> O w y\n  P w x", "have \"O w y\""], ["proof (prove)\nusing this:\n  P w x \\<longrightarrow> O w y\n  P w x\n\ngoal (1 subgoal):\n 1. O w y", ".."], ["proof (state)\nthis:\n  O w y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O w y", "have \"\\<exists>t. P t w \\<and> P t y\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O w y\n\ngoal (1 subgoal):\n 1. \\<exists>t. P t w \\<and> P t y", ".."], ["proof (state)\nthis:\n  \\<exists>t. P t w \\<and> P t y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "then"], ["proof (chain)\npicking this:\n  \\<exists>t. P t w \\<and> P t y", "obtain t where t: \"P t w \\<and> P t y\""], ["proof (prove)\nusing this:\n  \\<exists>t. P t w \\<and> P t y\n\ngoal (1 subgoal):\n 1. (\\<And>t. P t w \\<and> P t y \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P t w \\<and> P t y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "hence \"P t w\""], ["proof (prove)\nusing this:\n  P t w \\<and> P t y\n\ngoal (1 subgoal):\n 1. P t w", ".."], ["proof (state)\nthis:\n  P t w\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "moreover"], ["proof (state)\nthis:\n  P t w\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> P w x", "have \"P w v\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "ultimately"], ["proof (chain)\npicking this:\n  P t w\n  P w v", "have \"P t v\""], ["proof (prove)\nusing this:\n  P t w\n  P w v\n\ngoal (1 subgoal):\n 1. P t v", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P t v\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "moreover"], ["proof (state)\nthis:\n  P t v\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "from t"], ["proof (chain)\npicking this:\n  P t w \\<and> P t y", "have \"P t y\""], ["proof (prove)\nusing this:\n  P t w \\<and> P t y\n\ngoal (1 subgoal):\n 1. P t y", ".."], ["proof (state)\nthis:\n  P t y\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v y\n 2. O v y \\<Longrightarrow> O v y", "ultimately"], ["proof (chain)\npicking this:\n  P t v\n  P t y", "show \"O v y\""], ["proof (prove)\nusing this:\n  P t v\n  P t y\n\ngoal (1 subgoal):\n 1. O v y", "by (rule overlap_intro)"], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v y", "assume \"O v y\""], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v y", "thus \"O v y\""], ["proof (prove)\nusing this:\n  O v y\n\ngoal (1 subgoal):\n 1. O v y", "."], ["proof (state)\nthis:\n  O v y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "with refl"], ["proof (chain)\npicking this:\n  ?t = ?t\n  O v y", "have \"y = y \\<and> O v y\""], ["proof (prove)\nusing this:\n  ?t = ?t\n  O v y\n\ngoal (1 subgoal):\n 1. y = y \\<and> O v y", ".."], ["proof (state)\nthis:\n  y = y \\<and> O v y\n\ngoal (1 subgoal):\n 1. P v (x \\<oplus> y) \\<Longrightarrow> \\<exists>z. y = z \\<and> O v z", "thus \"\\<exists>z. y = z \\<and> O v z\""], ["proof (prove)\nusing this:\n  y = y \\<and> O v y\n\ngoal (1 subgoal):\n 1. \\<exists>z. y = z \\<and> O v z", ".."], ["proof (state)\nthis:\n  \\<exists>z. y = z \\<and> O v z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>v.\n     P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)) \\<and>\n  (\\<forall>v.\n      P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z))\n\ngoal (1 subgoal):\n 1. \\<forall>z. P z x \\<longrightarrow> O z y \\<Longrightarrow> False", "hence  \"(\\<sigma> z. y = z) = (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  (\\<forall>v. y = v \\<longrightarrow> P v (x \\<oplus> y)) \\<and>\n  (\\<forall>v.\n      P v (x \\<oplus> y) \\<longrightarrow> (\\<exists>z. y = z \\<and> O v z))\n\ngoal (1 subgoal):\n 1. (\\<sigma>z. y = z) = x \\<oplus> y", "by (rule strong_fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>z. y = z) = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. \\<forall>z. P z x \\<longrightarrow> O z y \\<Longrightarrow> False", "with strong_fusion_idempotence"], ["proof (chain)\npicking this:\n  (\\<sigma>x. ?z = x) = ?z\n  (\\<sigma>z. y = z) = x \\<oplus> y", "have \"y = x \\<oplus> y\""], ["proof (prove)\nusing this:\n  (\\<sigma>x. ?z = x) = ?z\n  (\\<sigma>z. y = z) = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. y = x \\<oplus> y", "by (rule subst)"], ["proof (state)\nthis:\n  y = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. \\<forall>z. P z x \\<longrightarrow> O z y \\<Longrightarrow> False", "hence \"P x y\""], ["proof (prove)\nusing this:\n  y = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. P x y", "by (rule strong_sum_absorption)"], ["proof (state)\nthis:\n  P x y\n\ngoal (1 subgoal):\n 1. \\<forall>z. P z x \\<longrightarrow> O z y \\<Longrightarrow> False", "with `\\<not> P x y`"], ["proof (chain)\npicking this:\n  \\<not> P x y\n  P x y", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> P x y\n  P x y\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> (\\<forall>z. P z x \\<longrightarrow> O z y)\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y", "thus \"\\<exists>z. P z x \\<and> \\<not> O z y\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>z. P z x \\<longrightarrow> O z y)\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> \\<not> O z y", "by simp"], ["proof (state)\nthis:\n  \\<exists>z. P z x \\<and> \\<not> O z y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sum_character: \"\\<forall>v. O v (x \\<oplus> y) \\<longleftrightarrow> (O v x \\<or> O v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)", "show \"O v (x \\<oplus> y) \\<longleftrightarrow> (O v x \\<or> O v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O v (x \\<oplus> y) = (O v x \\<or> O v y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "assume \"O v (x \\<oplus> y)\""], ["proof (state)\nthis:\n  O v (x \\<oplus> y)\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v (x \\<oplus> y)", "have \"\\<exists>w. P w v \\<and> P w (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w v \\<and> P w (x \\<oplus> y)", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w v \\<and> P w (x \\<oplus> y)\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w v \\<and> P w (x \\<oplus> y)", "obtain w where w: \"P w v \\<and> P w (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w v \\<and> P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        P w v \\<and> P w (x \\<oplus> y) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w v \\<and> P w (x \\<oplus> y)\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "hence \"P w v\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "have \"P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", "using sum_part_overlap"], ["proof (prove)\nusing this:\n  \\<forall>w. P w (?x \\<oplus> ?y) \\<longrightarrow> O w ?x \\<or> O w ?y\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "moreover"], ["proof (state)\nthis:\n  P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> P w (x \\<oplus> y)", "have \"P w (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y)", ".."], ["proof (state)\nthis:\n  P w (x \\<oplus> y)\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "ultimately"], ["proof (chain)\npicking this:\n  P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\n  P w (x \\<oplus> y)", "have \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  P w (x \\<oplus> y) \\<longrightarrow> O w x \\<or> O w y\n  P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal (2 subgoals):\n 1. O v (x \\<oplus> y) \\<Longrightarrow> O v x \\<or> O v y\n 2. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "thus \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  O w x \\<or> O w y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O v x \\<or> O v y\n 2. O w y \\<Longrightarrow> O v x \\<or> O v y", "assume \"O w x\""], ["proof (state)\nthis:\n  O w x\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O v x \\<or> O v y\n 2. O w y \\<Longrightarrow> O v x \\<or> O v y", "hence \"O x w\""], ["proof (prove)\nusing this:\n  O w x\n\ngoal (1 subgoal):\n 1. O x w", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O x w\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O v x \\<or> O v y\n 2. O w y \\<Longrightarrow> O v x \\<or> O v y", "with `P w v`"], ["proof (chain)\npicking this:\n  P w v\n  O x w", "have \"O x v\""], ["proof (prove)\nusing this:\n  P w v\n  O x w\n\ngoal (1 subgoal):\n 1. O x v", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O x v\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O v x \\<or> O v y\n 2. O w y \\<Longrightarrow> O v x \\<or> O v y", "hence \"O v x\""], ["proof (prove)\nusing this:\n  O x v\n\ngoal (1 subgoal):\n 1. O v x", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O v x\n\ngoal (2 subgoals):\n 1. O w x \\<Longrightarrow> O v x \\<or> O v y\n 2. O w y \\<Longrightarrow> O v x \\<or> O v y", "thus \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  O v x\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O v x \\<or> O v y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O v x \\<or> O v y", "assume \"O w y\""], ["proof (state)\nthis:\n  O w y\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O v x \\<or> O v y", "hence \"O y w\""], ["proof (prove)\nusing this:\n  O w y\n\ngoal (1 subgoal):\n 1. O y w", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O y w\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O v x \\<or> O v y", "with `P w v`"], ["proof (chain)\npicking this:\n  P w v\n  O y w", "have \"O y v\""], ["proof (prove)\nusing this:\n  P w v\n  O y w\n\ngoal (1 subgoal):\n 1. O y v", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O y v\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O v x \\<or> O v y", "hence \"O v y\""], ["proof (prove)\nusing this:\n  O y v\n\ngoal (1 subgoal):\n 1. O v y", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O w y \\<Longrightarrow> O v x \\<or> O v y", "thus \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  O v y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "assume \"O v x \\<or> O v y\""], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y \\<Longrightarrow> O v (x \\<oplus> y)", "thus \"O v (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v (x \\<oplus> y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "assume \"O v x\""], ["proof (state)\nthis:\n  O v x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v x", "have \"\\<exists>w. P w v \\<and> P w x\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v x\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w v \\<and> P w x", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w v \\<and> P w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w v \\<and> P w x", "obtain w where w: \"P w v \\<and> P w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w v \\<and> P w x\n\ngoal (1 subgoal):\n 1. (\\<And>w. P w v \\<and> P w x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w v \\<and> P w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "hence \"P w v\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "moreover"], ["proof (state)\nthis:\n  P w v\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> P w x", "have \"P w x\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "hence \"P w (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  P w x\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y)", "using first_summand_in"], ["proof (prove)\nusing this:\n  P w x\n  P ?x (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y)", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P w (x \\<oplus> y)\n\ngoal (2 subgoals):\n 1. O v x \\<Longrightarrow> O v (x \\<oplus> y)\n 2. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "ultimately"], ["proof (chain)\npicking this:\n  P w v\n  P w (x \\<oplus> y)", "show \"O v (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  P w v\n  P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O v (x \\<oplus> y)", "by (rule overlap_intro)"], ["proof (state)\nthis:\n  O v (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "assume \"O v y\""], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v y", "have \"\\<exists>w. P w v \\<and> P w y\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O v y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w v \\<and> P w y", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w v \\<and> P w y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w v \\<and> P w y", "obtain w where w: \"P w v \\<and> P w y\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w v \\<and> P w y\n\ngoal (1 subgoal):\n 1. (\\<And>w. P w v \\<and> P w y \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w v \\<and> P w y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "hence \"P w v\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "moreover"], ["proof (state)\nthis:\n  P w v\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "from w"], ["proof (chain)\npicking this:\n  P w v \\<and> P w y", "have \"P w y\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w y", ".."], ["proof (state)\nthis:\n  P w y\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "hence \"P w (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  P w y\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y)", "using second_summand_in"], ["proof (prove)\nusing this:\n  P w y\n  P ?y (?x \\<oplus> ?y)\n\ngoal (1 subgoal):\n 1. P w (x \\<oplus> y)", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O v y \\<Longrightarrow> O v (x \\<oplus> y)", "ultimately"], ["proof (chain)\npicking this:\n  P w v\n  P w (x \\<oplus> y)", "show \"O v (x \\<oplus> y)\""], ["proof (prove)\nusing this:\n  P w v\n  P w (x \\<oplus> y)\n\ngoal (1 subgoal):\n 1. O v (x \\<oplus> y)", "by (rule overlap_intro)"], ["proof (state)\nthis:\n  O v (x \\<oplus> y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O v (x \\<oplus> y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O v (x \\<oplus> y) = (O v x \\<or> O v y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sum_eq: \"x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "have \"(THE z. \\<forall>v. O v z \\<longleftrightarrow> (O v x \\<or> O v y)) = x \\<oplus> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE z. \\<forall>v. O v z = (O v x \\<or> O v y)) = x \\<oplus> y", "proof (rule the_equality)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)\n 2. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "show \"\\<forall>v. O v (x \\<oplus> y) \\<longleftrightarrow> (O v x \\<or> O v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)", "using sum_character"], ["proof (prove)\nusing this:\n  \\<forall>v. O v (?x \\<oplus> ?y) = (O v ?x \\<or> O v ?y)\n\ngoal (1 subgoal):\n 1. \\<forall>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)", "."], ["proof (state)\nthis:\n  \\<forall>v. O v (x \\<oplus> y) = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "fix z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "assume z: \"\\<forall>v. O v z \\<longleftrightarrow> (O v x \\<or> O v y)\""], ["proof (state)\nthis:\n  \\<forall>v. O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "have \"(P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P x z \\<and> P y z) \\<and>\n    (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x z \\<and> P y z\n 2. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "show \"P x z \\<and> P y z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x z \\<and> P y z", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P x z\n 2. P y z", "show \"P x z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x z", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "assume \"\\<not> P x z\""], ["proof (state)\nthis:\n  \\<not> P x z\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "hence \"\\<exists>v. P v x \\<and> \\<not> O v z\""], ["proof (prove)\nusing this:\n  \\<not> P x z\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v x \\<and> \\<not> O v z", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>v. P v x \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v x \\<and> \\<not> O v z", "obtain v where v: \"P v x \\<and> \\<not> O v z\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v x \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v x \\<and> \\<not> O v z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v x \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "hence \"\\<not> O v z\""], ["proof (prove)\nusing this:\n  P v x \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> O v z", ".."], ["proof (state)\nthis:\n  \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "from z"], ["proof (chain)\npicking this:\n  \\<forall>v. O v z = (O v x \\<or> O v y)", "have \"O v z \\<longleftrightarrow> (O v x \\<or> O v y)\""], ["proof (prove)\nusing this:\n  \\<forall>v. O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. O v z = (O v x \\<or> O v y)", ".."], ["proof (state)\nthis:\n  O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v x \\<and> \\<not> O v z", "have \"P v x\""], ["proof (prove)\nusing this:\n  P v x \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. P v x", ".."], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "hence \"O v x\""], ["proof (prove)\nusing this:\n  P v x\n\ngoal (1 subgoal):\n 1. O v x", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O v x\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "hence \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  O v x\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  O v z = (O v x \\<or> O v y)\n  O v x \\<or> O v y", "have \"O v z\""], ["proof (prove)\nusing this:\n  O v z = (O v x \\<or> O v y)\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v z", ".."], ["proof (state)\nthis:\n  O v z\n\ngoal (1 subgoal):\n 1. \\<not> P x z \\<Longrightarrow> False", "with `\\<not> O v z`"], ["proof (chain)\npicking this:\n  \\<not> O v z\n  O v z", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O v z\n  O v z\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P x z\n\ngoal (1 subgoal):\n 1. P y z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P y z", "show \"P y z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y z", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "assume \"\\<not> P y z\""], ["proof (state)\nthis:\n  \\<not> P y z\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "hence \"\\<exists>v. P v y \\<and> \\<not> O v z\""], ["proof (prove)\nusing this:\n  \\<not> P y z\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v y \\<and> \\<not> O v z", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>v. P v y \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v y \\<and> \\<not> O v z", "obtain v where v: \"P v y \\<and> \\<not> O v z\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v y \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v y \\<and> \\<not> O v z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v y \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "hence \"\\<not> O v z\""], ["proof (prove)\nusing this:\n  P v y \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> O v z", ".."], ["proof (state)\nthis:\n  \\<not> O v z\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "from z"], ["proof (chain)\npicking this:\n  \\<forall>v. O v z = (O v x \\<or> O v y)", "have \"O v z \\<longleftrightarrow> (O v x \\<or> O v y)\""], ["proof (prove)\nusing this:\n  \\<forall>v. O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. O v z = (O v x \\<or> O v y)", ".."], ["proof (state)\nthis:\n  O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> \\<not> O v z", "have \"P v y\""], ["proof (prove)\nusing this:\n  P v y \\<and> \\<not> O v z\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "hence \"O v y\""], ["proof (prove)\nusing this:\n  P v y\n\ngoal (1 subgoal):\n 1. O v y", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "hence \"O v x \\<or> O v y\""], ["proof (prove)\nusing this:\n  O v y\n\ngoal (1 subgoal):\n 1. O v x \\<or> O v y", ".."], ["proof (state)\nthis:\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  O v z = (O v x \\<or> O v y)\n  O v x \\<or> O v y", "have \"O v z\""], ["proof (prove)\nusing this:\n  O v z = (O v x \\<or> O v y)\n  O v x \\<or> O v y\n\ngoal (1 subgoal):\n 1. O v z", ".."], ["proof (state)\nthis:\n  O v z\n\ngoal (1 subgoal):\n 1. \\<not> P y z \\<Longrightarrow> False", "with `\\<not> O v z`"], ["proof (chain)\npicking this:\n  \\<not> O v z\n  O v z", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O v z\n  O v z\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P x z \\<and> P y z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "show \"\\<forall>w. P w z \\<longrightarrow> (O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w z \\<longrightarrow> O w x \\<or> O w y", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w z \\<longrightarrow> O w x \\<or> O w y", "show \"P w z \\<longrightarrow> (O w x \\<or> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w z \\<longrightarrow> O w x \\<or> O w y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "from z"], ["proof (chain)\npicking this:\n  \\<forall>v. O v z = (O v x \\<or> O v y)", "have \"O w z \\<longleftrightarrow> O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  \\<forall>v. O v z = (O v x \\<or> O v y)\n\ngoal (1 subgoal):\n 1. O w z = (O w x \\<or> O w y)", ".."], ["proof (state)\nthis:\n  O w z = (O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "moreover"], ["proof (state)\nthis:\n  O w z = (O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "assume \"P w z\""], ["proof (state)\nthis:\n  P w z\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "hence \"O w z\""], ["proof (prove)\nusing this:\n  P w z\n\ngoal (1 subgoal):\n 1. O w z", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O w z\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> O w x \\<or> O w y", "ultimately"], ["proof (chain)\npicking this:\n  O w z = (O w x \\<or> O w y)\n  O w z", "show \"O w x \\<or> O w y\""], ["proof (prove)\nusing this:\n  O w z = (O w x \\<or> O w y)\n  O w z\n\ngoal (1 subgoal):\n 1. O w x \\<or> O w y", ".."], ["proof (state)\nthis:\n  O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "with strong_sum_intro"], ["proof (chain)\npicking this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  ?x \\<oplus> ?y = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)", "have \"x \\<oplus> y = z\""], ["proof (prove)\nusing this:\n  (P ?x ?z \\<and> P ?y ?z) \\<and>\n  (\\<forall>w.\n      P w ?z \\<longrightarrow> O w ?x \\<or> O w ?y) \\<longrightarrow>\n  ?x \\<oplus> ?y = ?z\n  (P x z \\<and> P y z) \\<and>\n  (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y)\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = z", ".."], ["proof (state)\nthis:\n  x \\<oplus> y = z\n\ngoal (1 subgoal):\n 1. \\<And>z.\n       \\<forall>v. O v z = (O v x \\<or> O v y) \\<Longrightarrow>\n       z = x \\<oplus> y", "thus \"z = x \\<oplus> y\""], ["proof (prove)\nusing this:\n  x \\<oplus> y = z\n\ngoal (1 subgoal):\n 1. z = x \\<oplus> y", ".."], ["proof (state)\nthis:\n  z = x \\<oplus> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE z. \\<forall>v. O v z = (O v x \\<or> O v y)) = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (THE z. \\<forall>v. O v z = (O v x \\<or> O v y)) = x \\<oplus> y\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", ".."], ["proof (state)\nthis:\n  x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem fusion_eq: \"\\<exists>x. F x \\<Longrightarrow>\n  (\\<sigma> x. F x) = (THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "assume \"\\<exists>x. F x\""], ["proof (state)\nthis:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "hence bla: \"\\<forall>y. P y (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "by (rule parts_overlap_Fs)"], ["proof (state)\nthis:\n  \\<forall>y.\n     P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "have \"(THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)) = (\\<sigma> x. F x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) =\n    (\\<sigma>x. F x)", "proof (rule the_equality)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>y. O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)\n 2. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "show \"\\<forall>y. O y (\\<sigma> x. F x) \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)", "show \"O y (\\<sigma> x. F x) \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "assume \"O y (\\<sigma> x. F x)\""], ["proof (state)\nthis:\n  O y (\\<sigma>x. F x)\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y (\\<sigma>x. F x)", "have \"\\<exists>v. P v y \\<and> P v (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v y \\<and> P v (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v y \\<and> P v (\\<sigma>x. F x)\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v y \\<and> P v (\\<sigma>x. F x)", "obtain v where v: \"P v y \\<and> P v (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v y \\<and> P v (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v y \\<and> P v (\\<sigma>x. F x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v y \\<and> P v (\\<sigma>x. F x)\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "hence \"P v y\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "from bla"], ["proof (chain)\npicking this:\n  \\<forall>y.\n     P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "have \"P v (\\<sigma> x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\""], ["proof (prove)\nusing this:\n  \\<forall>y.\n     P y (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. P v (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)", ".."], ["proof (state)\nthis:\n  P v (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "moreover"], ["proof (state)\nthis:\n  P v (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> P v (\\<sigma>x. F x)", "have \"P v (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. P v (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  P v (\\<sigma>x. F x)\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "ultimately"], ["proof (chain)\npicking this:\n  P v (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n  P v (\\<sigma>x. F x)", "have \"(\\<exists>z. F z \\<and> O v z)\""], ["proof (prove)\nusing this:\n  P v (\\<sigma>x. F x) \\<longrightarrow> (\\<exists>z. F z \\<and> O v z)\n  P v (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O v z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O v z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. F z \\<and> O v z", "obtain z where z: \"F z \\<and> O v z\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z \\<and> O v z\n\ngoal (1 subgoal):\n 1. (\\<And>z. F z \\<and> O v z \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  F z \\<and> O v z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "hence \"F z\""], ["proof (prove)\nusing this:\n  F z \\<and> O v z\n\ngoal (1 subgoal):\n 1. F z", ".."], ["proof (state)\nthis:\n  F z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "moreover"], ["proof (state)\nthis:\n  F z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "from z"], ["proof (chain)\npicking this:\n  F z \\<and> O v z", "have \"O v z\""], ["proof (prove)\nusing this:\n  F z \\<and> O v z\n\ngoal (1 subgoal):\n 1. O v z", ".."], ["proof (state)\nthis:\n  O v z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "hence \"O z v\""], ["proof (prove)\nusing this:\n  O v z\n\ngoal (1 subgoal):\n 1. O z v", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O z v\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "with `P v y`"], ["proof (chain)\npicking this:\n  P v y\n  O z v", "have \"O z y\""], ["proof (prove)\nusing this:\n  P v y\n  O z v\n\ngoal (1 subgoal):\n 1. O z y", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O z y\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "hence \"O y z\""], ["proof (prove)\nusing this:\n  O z y\n\ngoal (1 subgoal):\n 1. O y z", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O y z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "ultimately"], ["proof (chain)\npicking this:\n  F z\n  O y z", "have \"F z \\<and> O y z\""], ["proof (prove)\nusing this:\n  F z\n  O y z\n\ngoal (1 subgoal):\n 1. F z \\<and> O y z", ".."], ["proof (state)\nthis:\n  F z \\<and> O y z\n\ngoal (2 subgoals):\n 1. O y (\\<sigma>x. F x) \\<Longrightarrow> \\<exists>z. F z \\<and> O y z\n 2. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "thus \"(\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\nusing this:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "assume \"\\<exists>z. F z \\<and> O y z\""], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. F z \\<and> O y z", "obtain z where z: \"F z \\<and> O y z\""], ["proof (prove)\nusing this:\n  \\<exists>z. F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. (\\<And>z. F z \\<and> O y z \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "from`\\<exists>x. F x`"], ["proof (chain)\npicking this:\n  \\<exists>x. F x", "have \"(\\<forall>y. F y \\<longrightarrow> P y (\\<sigma> x. F x))\""], ["proof (prove)\nusing this:\n  \\<exists>x. F x\n\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)", "by (rule F_in)"], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "hence \"F z \\<longrightarrow>  P z (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  \\<forall>y. F y \\<longrightarrow> P y (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. F z \\<longrightarrow> P z (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  F z \\<longrightarrow> P z (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "moreover"], ["proof (state)\nthis:\n  F z \\<longrightarrow> P z (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "from z"], ["proof (chain)\npicking this:\n  F z \\<and> O y z", "have \"F z\""], ["proof (prove)\nusing this:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. F z", ".."], ["proof (state)\nthis:\n  F z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "ultimately"], ["proof (chain)\npicking this:\n  F z \\<longrightarrow> P z (\\<sigma>x. F x)\n  F z", "have \"P z (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  F z \\<longrightarrow> P z (\\<sigma>x. F x)\n  F z\n\ngoal (1 subgoal):\n 1. P z (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  P z (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "moreover"], ["proof (state)\nthis:\n  P z (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "from z"], ["proof (chain)\npicking this:\n  F z \\<and> O y z", "have \"O y z\""], ["proof (prove)\nusing this:\n  F z \\<and> O y z\n\ngoal (1 subgoal):\n 1. O y z", ".."], ["proof (state)\nthis:\n  O y z\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z \\<Longrightarrow> O y (\\<sigma>x. F x)", "ultimately"], ["proof (chain)\npicking this:\n  P z (\\<sigma>x. F x)\n  O y z", "show \"O y (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  P z (\\<sigma>x. F x)\n  O y z\n\ngoal (1 subgoal):\n 1. O y (\\<sigma>x. F x)", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O y (\\<sigma>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. O y (\\<sigma>x. F x) = (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "assume x: \"\\<forall>y. O y x \\<longleftrightarrow> (\\<exists>v. F v \\<and> O y v)\""], ["proof (state)\nthis:\n  \\<forall>y. O y x = (\\<exists>v. F v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "have \"(\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n    (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>y. F y \\<longrightarrow> P y x\n 2. \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"\\<forall>y. F y \\<longrightarrow> P y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. F y \\<longrightarrow> P y x", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. F y \\<longrightarrow> P y x", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. F y \\<longrightarrow> P y x", "show \"F y \\<longrightarrow> P y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F y \\<longrightarrow> P y x", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. F y \\<Longrightarrow> P y x", "assume \"F y\""], ["proof (state)\nthis:\n  F y\n\ngoal (1 subgoal):\n 1. F y \\<Longrightarrow> P y x", "show \"P y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y x", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "assume \"\\<not> P y x\""], ["proof (state)\nthis:\n  \\<not> P y x\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "hence \"\\<exists>z. P z y \\<and> \\<not> O z x\""], ["proof (prove)\nusing this:\n  \\<not> P y x\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z y \\<and> \\<not> O z x", "by (rule strong_supplementation)"], ["proof (state)\nthis:\n  \\<exists>z. P z y \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. P z y \\<and> \\<not> O z x", "obtain z where z: \"P z y \\<and> \\<not> O z x\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z y \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        P z y \\<and> \\<not> O z x \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P z y \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "hence \"\\<not> O z x\""], ["proof (prove)\nusing this:\n  P z y \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> O z x", ".."], ["proof (state)\nthis:\n  \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "from x"], ["proof (chain)\npicking this:\n  \\<forall>y. O y x = (\\<exists>v. F v \\<and> O y v)", "have \"O z x \\<longleftrightarrow> (\\<exists>v. F v \\<and> O z v)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y x = (\\<exists>v. F v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. O z x = (\\<exists>v. F v \\<and> O z v)", ".."], ["proof (state)\nthis:\n  O z x = (\\<exists>v. F v \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  O z x = (\\<exists>v. F v \\<and> O z v)\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "from z"], ["proof (chain)\npicking this:\n  P z y \\<and> \\<not> O z x", "have \"P z y\""], ["proof (prove)\nusing this:\n  P z y \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. P z y", ".."], ["proof (state)\nthis:\n  P z y\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "hence \"O z y\""], ["proof (prove)\nusing this:\n  P z y\n\ngoal (1 subgoal):\n 1. O z y", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O z y\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "with `F y`"], ["proof (chain)\npicking this:\n  F y\n  O z y", "have \"F y \\<and> O z y\""], ["proof (prove)\nusing this:\n  F y\n  O z y\n\ngoal (1 subgoal):\n 1. F y \\<and> O z y", ".."], ["proof (state)\nthis:\n  F y \\<and> O z y\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "hence \"\\<exists>y. F y \\<and> O z y\""], ["proof (prove)\nusing this:\n  F y \\<and> O z y\n\ngoal (1 subgoal):\n 1. \\<exists>y. F y \\<and> O z y", ".."], ["proof (state)\nthis:\n  \\<exists>y. F y \\<and> O z y\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  O z x = (\\<exists>v. F v \\<and> O z v)\n  \\<exists>y. F y \\<and> O z y", "have \"O z x\""], ["proof (prove)\nusing this:\n  O z x = (\\<exists>v. F v \\<and> O z v)\n  \\<exists>y. F y \\<and> O z y\n\ngoal (1 subgoal):\n 1. O z x", ".."], ["proof (state)\nthis:\n  O z x\n\ngoal (1 subgoal):\n 1. \\<not> P y x \\<Longrightarrow> False", "with `\\<not> O z x`"], ["proof (chain)\npicking this:\n  \\<not> O z x\n  O z x", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O z x\n  O z x\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  F y \\<longrightarrow> P y x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. F y \\<longrightarrow> P y x\n\ngoal (1 subgoal):\n 1. \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "show \"P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "from x"], ["proof (chain)\npicking this:\n  \\<forall>y. O y x = (\\<exists>v. F v \\<and> O y v)", "have \"O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z)\""], ["proof (prove)\nusing this:\n  \\<forall>y. O y x = (\\<exists>v. F v \\<and> O y v)\n\ngoal (1 subgoal):\n 1. O y x = (\\<exists>z. F z \\<and> O y z)", ".."], ["proof (state)\nthis:\n  O y x = (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. P y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "moreover"], ["proof (state)\nthis:\n  O y x = (\\<exists>z. F z \\<and> O y z)\n\ngoal (1 subgoal):\n 1. P y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "assume \"P y x\""], ["proof (state)\nthis:\n  P y x\n\ngoal (1 subgoal):\n 1. P y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "hence \"O y x\""], ["proof (prove)\nusing this:\n  P y x\n\ngoal (1 subgoal):\n 1. O y x", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O y x\n\ngoal (1 subgoal):\n 1. P y x \\<Longrightarrow> \\<exists>z. F z \\<and> O y z", "ultimately"], ["proof (chain)\npicking this:\n  O y x = (\\<exists>z. F z \\<and> O y z)\n  O y x", "show \"\\<exists>z. F z \\<and> O y z\""], ["proof (prove)\nusing this:\n  O y x = (\\<exists>z. F z \\<and> O y z)\n  O y x\n\ngoal (1 subgoal):\n 1. \\<exists>z. F z \\<and> O y z", ".."], ["proof (state)\nthis:\n  \\<exists>z. F z \\<and> O y z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "hence \"(\\<sigma> x. F x) = x\""], ["proof (prove)\nusing this:\n  (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n  (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) = x", "by (rule strong_fusion_intro)"], ["proof (state)\nthis:\n  (\\<sigma>x. F x) = x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z) \\<Longrightarrow>\n       x = (\\<sigma>x. F x)", "thus \"x = (\\<sigma> x. F x)\""], ["proof (prove)\nusing this:\n  (\\<sigma>x. F x) = x\n\ngoal (1 subgoal):\n 1. x = (\\<sigma>x. F x)", ".."], ["proof (state)\nthis:\n  x = (\\<sigma>x. F x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) =\n  (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "thus \"(\\<sigma> x. F x) = (THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\nusing this:\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z)) =\n  (\\<sigma>x. F x)\n\ngoal (1 subgoal):\n 1. (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", ".."], ["proof (state)\nthis:\n  (\\<sigma>x. F x) =\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "sublocale GEM1 \\<subseteq> GEM"], ["proof (prove)\ngoal (1 subgoal):\n 1. GEM", "proof"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x y.\n       \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y\n 2. \\<And>x y.\n       x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n 3. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 4. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 5. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 6. u = (THE x. \\<forall>y. P y x)\n 7. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 8. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "fix x y F"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>x y.\n       \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y\n 2. \\<And>x y.\n       x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n 3. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 4. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 5. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 6. u = (THE x. \\<forall>y. P y x)\n 7. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 8. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"\\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y", "using strong_supplementation"], ["proof (prove)\nusing this:\n  \\<not> P ?x ?y \\<Longrightarrow> \\<exists>z. P z ?x \\<and> \\<not> O z ?y\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y", "."], ["proof (state)\nthis:\n  \\<not> P x y \\<Longrightarrow> \\<exists>z. P z x \\<and> \\<not> O z y\n\ngoal (7 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n 2. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 4. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 5. u = (THE x. \\<forall>y. P y x)\n 6. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 7. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"x \\<oplus> y = (THE z. \\<forall>v. O v z \\<longleftrightarrow> (O v x \\<or> O v y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "using sum_eq"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y = (THE z. \\<forall>v. O v z = (O v ?x \\<or> O v ?y))\n\ngoal (1 subgoal):\n 1. x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))", "."], ["proof (state)\nthis:\n  x \\<oplus> y = (THE z. \\<forall>v. O v z = (O v x \\<or> O v y))\n\ngoal (6 subgoals):\n 1. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 2. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 3. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 4. u = (THE x. \\<forall>y. P y x)\n 5. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 6. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"x \\<otimes> y = (THE z. \\<forall>v. P v z \\<longleftrightarrow> P v x \\<and> P v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))", "using product_eq"], ["proof (prove)\nusing this:\n  ?x \\<otimes> ?y = (THE z. \\<forall>v. P v z = (P v ?x \\<and> P v ?y))\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))", "."], ["proof (state)\nthis:\n  x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n\ngoal (5 subgoals):\n 1. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 2. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 3. u = (THE x. \\<forall>y. P y x)\n 4. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 5. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "using difference_eq"], ["proof (prove)\nusing this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "."], ["proof (state)\nthis:\n  x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n\ngoal (4 subgoals):\n 1. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 2. u = (THE x. \\<forall>y. P y x)\n 3. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 4. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"\\<midarrow> x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "using complement_eq"], ["proof (prove)\nusing this:\n  \\<midarrow> ?x = (THE z. \\<forall>w. P w z = (\\<not> O w ?x))\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "."], ["proof (state)\nthis:\n  \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n\ngoal (3 subgoals):\n 1. u = (THE x. \\<forall>y. P y x)\n 2. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 3. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"u = (THE x. \\<forall>y. P y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "using universe_eq"], ["proof (prove)\nusing this:\n  u = (THE x. \\<forall>y. P y x)\n\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "."], ["proof (state)\nthis:\n  u = (THE x. \\<forall>y. P y x)\n\ngoal (2 subgoals):\n 1. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n 2. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"\\<exists>x. F x \\<Longrightarrow> (\\<sigma> x. F x) = (THE x. \\<forall>y. O y x \\<longleftrightarrow> (\\<exists>z. F z \\<and> O y z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "using fusion_eq"], ["proof (prove)\nusing this:\n  \\<exists>x. ?F x \\<Longrightarrow>\n  (\\<sigma>x. ?F x) =\n  (THE x. \\<forall>y. O y x = (\\<exists>z. ?F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))", "."], ["proof (state)\nthis:\n  \\<exists>x. F x \\<Longrightarrow>\n  (\\<sigma>x. F x) =\n  (THE x. \\<forall>y. O y x = (\\<exists>z. F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"(\\<pi> x. F x) = (\\<sigma> x. \\<forall>y. F y \\<longrightarrow> P x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "using general_product_eq"], ["proof (prove)\nusing this:\n  (\\<pi>x. ?F x) = (\\<sigma>x. \\<forall>y. ?F y \\<longrightarrow> P x y)\n\ngoal (1 subgoal):\n 1. (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "."], ["proof (state)\nthis:\n  (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)\n\ngoal:\nNo subgoals!", "qed"], ["", "sublocale GEM \\<subseteq> GEM1"], ["proof (prove)\ngoal (1 subgoal):\n 1. GEM1", "proof"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       \\<exists>x.\n          (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n          (\\<forall>y.\n              P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n 2. \\<And>x y.\n       x \\<oplus> y =\n       (THE z.\n           (P x z \\<and> P y z) \\<and>\n           (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n 3. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 4. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 5. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 6. u = (THE x. \\<forall>y. P y x)\n 7. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x.\n           (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n           (\\<forall>y.\n               P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n 8. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "fix x y F"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       \\<exists>x.\n          (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n          (\\<forall>y.\n              P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n 2. \\<And>x y.\n       x \\<oplus> y =\n       (THE z.\n           (P x z \\<and> P y z) \\<and>\n           (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n 3. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 4. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 5. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 6. u = (THE x. \\<forall>y. P y x)\n 7. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x.\n           (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n           (\\<forall>y.\n               P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n 8. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"\\<exists>x. F x \\<Longrightarrow> (\\<exists>x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "using strong_fusion"], ["proof (prove)\nusing this:\n  \\<exists>x. ?F x \\<Longrightarrow>\n  \\<exists>x.\n     (\\<forall>y. ?F y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. ?F z \\<and> O y z))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    \\<exists>x.\n       (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n       (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))", "."], ["proof (state)\nthis:\n  \\<exists>x. F x \\<Longrightarrow>\n  \\<exists>x.\n     (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n     (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z))\n\ngoal (7 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y =\n       (THE z.\n           (P x z \\<and> P y z) \\<and>\n           (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n 2. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 4. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 5. u = (THE x. \\<forall>y. P y x)\n 6. \\<And>F.\n       \\<exists>x. F x \\<Longrightarrow>\n       (\\<sigma>x. F x) =\n       (THE x.\n           (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n           (\\<forall>y.\n               P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n 7. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"\\<exists>x. F x \\<Longrightarrow> (\\<sigma> x. F x) = (THE x. (\\<forall>y. F y \\<longrightarrow> P y x) \\<and> (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "using strong_fusion_eq"], ["proof (prove)\nusing this:\n  \\<exists>x. ?F x \\<Longrightarrow>\n  (\\<sigma>x. ?F x) =\n  (THE x.\n      (\\<forall>y. ?F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. ?F z \\<and> O y z)))\n\ngoal (1 subgoal):\n 1. \\<exists>x. F x \\<Longrightarrow>\n    (\\<sigma>x. F x) =\n    (THE x.\n        (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n        (\\<forall>y.\n            P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))", "."], ["proof (state)\nthis:\n  \\<exists>x. F x \\<Longrightarrow>\n  (\\<sigma>x. F x) =\n  (THE x.\n      (\\<forall>y. F y \\<longrightarrow> P y x) \\<and>\n      (\\<forall>y. P y x \\<longrightarrow> (\\<exists>z. F z \\<and> O y z)))\n\ngoal (6 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y =\n       (THE z.\n           (P x z \\<and> P y z) \\<and>\n           (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n 2. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 4. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 5. u = (THE x. \\<forall>y. P y x)\n 6. \\<And>F.\n       (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "show \"(\\<pi> x. F x) = (\\<sigma> x. \\<forall>y. F y \\<longrightarrow> P x y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "using general_product_eq"], ["proof (prove)\nusing this:\n  (\\<pi>x. ?F x) = (\\<sigma>x. \\<forall>y. ?F y \\<longrightarrow> P x y)\n\ngoal (1 subgoal):\n 1. (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)", "."], ["proof (state)\nthis:\n  (\\<pi>x. F x) = (\\<sigma>x. \\<forall>y. F y \\<longrightarrow> P x y)\n\ngoal (5 subgoals):\n 1. \\<And>x y.\n       x \\<oplus> y =\n       (THE z.\n           (P x z \\<and> P y z) \\<and>\n           (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n 2. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 4. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 5. u = (THE x. \\<forall>y. P y x)", "show \"x \\<oplus> y = (THE z. (P x z \\<and> P y z) \\<and> (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<oplus> y =\n    (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))", "using strong_sum_eq"], ["proof (prove)\nusing this:\n  ?x \\<oplus> ?y =\n  (THE z.\n      (P ?x z \\<and> P ?y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w ?x \\<or> O w ?y))\n\ngoal (1 subgoal):\n 1. x \\<oplus> y =\n    (THE z.\n        (P x z \\<and> P y z) \\<and>\n        (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))", "."], ["proof (state)\nthis:\n  x \\<oplus> y =\n  (THE z.\n      (P x z \\<and> P y z) \\<and>\n      (\\<forall>w. P w z \\<longrightarrow> O w x \\<or> O w y))\n\ngoal (4 subgoals):\n 1. \\<And>x y.\n       x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n 2. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 3. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 4. u = (THE x. \\<forall>y. P y x)", "show \"x \\<otimes> y = (THE z. \\<forall>v. P v z \\<longleftrightarrow> P v x \\<and> P v y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))", "using product_eq"], ["proof (prove)\nusing this:\n  ?x \\<otimes> ?y = (THE z. \\<forall>v. P v z = (P v ?x \\<and> P v ?y))\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))", "."], ["proof (state)\nthis:\n  x \\<otimes> y = (THE z. \\<forall>v. P v z = (P v x \\<and> P v y))\n\ngoal (3 subgoals):\n 1. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 2. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 3. u = (THE x. \\<forall>y. P y x)", "show \"x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "using difference_eq"], ["proof (prove)\nusing this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "."], ["proof (state)\nthis:\n  x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n\ngoal (2 subgoals):\n 1. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 2. u = (THE x. \\<forall>y. P y x)", "show \"\\<midarrow> x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "using complement_eq"], ["proof (prove)\nusing this:\n  \\<midarrow> ?x = (THE z. \\<forall>w. P w z = (\\<not> O w ?x))\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "."], ["proof (state)\nthis:\n  \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "show \"u = (THE x. \\<forall>y. P y x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "using universe_eq"], ["proof (prove)\nusing this:\n  u = (THE x. \\<forall>y. P y x)\n\ngoal (1 subgoal):\n 1. u = (THE x. \\<forall>y. P y x)", "."], ["proof (state)\nthis:\n  u = (THE x. \\<forall>y. P y x)\n\ngoal:\nNo subgoals!", "qed"], ["", "(*<*)"], ["", "end"], ["", "(*>*)"]]}