{"file_name": "/home/qj213/afp-2021-10-22/thys/Mereology/CM.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Mereology", "problem_names": ["lemma product_intro: \n  \"(\\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y)) \\<Longrightarrow> x \\<otimes> y = z\"", "lemma product_idempotence: \"x \\<otimes> x = x\"", "lemma product_character: \n  \"O x y \\<Longrightarrow> (\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> (P w x \\<and> P w y))\"", "lemma product_commutativity: \"O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x\"", "lemma product_in_factors: \"O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\"", "lemma product_in_first_factor: \"O x y \\<Longrightarrow> P (x \\<otimes> y) x\"", "lemma product_in_second_factor: \"O x y \\<Longrightarrow> P (x \\<otimes> y) y\"", "lemma nonpart_implies_proper_product: \n  \"\\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x\"", "lemma common_part_in_product: \"P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)\"", "lemma product_part_in_factors: \n  \"O x y \\<Longrightarrow> P z (x \\<otimes> y) \\<Longrightarrow> P z x \\<and> P z y\"", "lemma part_product_identity: \"P x y \\<Longrightarrow> x \\<otimes> y = x\"", "lemma product_overlap: \"P z x \\<Longrightarrow> O z y \\<Longrightarrow> O z (x \\<otimes> y)\"", "lemma disjoint_from_second_factor: \n  \"P x y \\<and> \\<not> O x (y \\<otimes> z) \\<Longrightarrow> \\<not> O x z\"", "lemma converse_product_overlap: \n  \"O x y \\<Longrightarrow> O z (x \\<otimes> y) \\<Longrightarrow> O z y\"", "lemma part_product_in_whole_product:\n  \"O x y \\<Longrightarrow> P x v \\<and> P y z \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)\"", "lemma right_associated_product: \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z) \\<Longrightarrow>\n  (\\<forall>w. P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> (P w y \\<and> P w z))\"", "lemma left_associated_product: \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z) \\<Longrightarrow>\n  (\\<forall>w. P w ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> (P w x \\<and> P w y) \\<and> P w z)\"", "theorem product_associativity:\n  \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z) \\<Longrightarrow> x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z\"", "lemma difference_intro: \n  \"(\\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y) \\<Longrightarrow> x \\<ominus> y = z\"", "lemma difference_idempotence: \"\\<not> O x y \\<Longrightarrow> (x \\<ominus> y) = x\"", "lemma difference_character: \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n  (\\<forall>w. P w (x \\<ominus> y) \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\"", "lemma difference_disjointness: \n  \"(\\<exists>z. P z x \\<and> \\<not> O z y) \\<Longrightarrow> \\<not> O y (x \\<ominus> y)\"", "lemma universe_intro: \"(\\<forall>w. P w z) \\<Longrightarrow> u = z\"", "lemma universe_character: \"P x u\"", "lemma \"\\<not> PP u x\"", "lemma product_universe_implies_factor_universe: \n  \"O x y \\<Longrightarrow> x \\<otimes> y = u \\<Longrightarrow> x = u\"", "lemma complement_intro:\n  \"(\\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x) \\<Longrightarrow> \\<midarrow>x = z\"", "lemma complement_character:\n  \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<forall>w. P w (\\<midarrow>x) \\<longleftrightarrow> \\<not> O w x)\"", "lemma not_complement_part: \"\\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow>x)\"", "lemma complement_part: \"\\<not> O x y \\<Longrightarrow> P x (\\<midarrow>y)\"", "lemma complement_overlap: \"\\<not> O x y \\<Longrightarrow> O x (\\<midarrow>y)\"", "lemma or_complement_overlap: \"\\<forall>y. O y x \\<or> O y (\\<midarrow>x)\"", "lemma complement_disjointness: \"\\<exists>v. \\<not> O v x \\<Longrightarrow> \\<not> O x (\\<midarrow>x)\"", "lemma part_disjoint_from_complement:\n  \"\\<exists>v. \\<not> O v x \\<Longrightarrow> P y x \\<Longrightarrow> \\<not> O y (\\<midarrow>x)\"", "lemma product_complement_character: \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n  (\\<forall>w. P w (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> (P w x \\<and> (\\<not> O w y)))\"", "theorem difference_closure: \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n  (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\"", "lemma universe_difference:\n  \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<forall>w. P w (u \\<ominus> x) \\<longleftrightarrow> \\<not> O w x)\"", "theorem complement_closure: \n  \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], "translations": [["", "lemma product_intro: \n  \"(\\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y)) \\<Longrightarrow> x \\<otimes> y = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> P w y) \\<Longrightarrow>\n    x \\<otimes> y = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> P w y) \\<Longrightarrow>\n    x \\<otimes> y = z", "assume z: \"\\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (state)\nthis:\n  \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> P w y) \\<Longrightarrow>\n    x \\<otimes> y = z", "hence \"(THE v. \\<forall>w. P w v \\<longleftrightarrow> P w x \\<and> P w y) = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. (THE v. \\<forall>w. P w v = (P w x \\<and> P w y)) = z", "proof (rule the_equality)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<forall>w. P w v = (P w x \\<and> P w y) \\<Longrightarrow> v = z", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<forall>w. P w v = (P w x \\<and> P w y) \\<Longrightarrow> v = z", "assume v: \"\\<forall>w. P w v \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (state)\nthis:\n  \\<forall>w. P w v = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<forall>w. P w v = (P w x \\<and> P w y) \\<Longrightarrow> v = z", "have \"\\<forall>w. P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w v = P w z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "from z"], ["proof (chain)\npicking this:\n  \\<forall>w. P w z = (P w x \\<and> P w y)", "have \"P w z \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P w z = (P w x \\<and> P w y)", ".."], ["proof (state)\nthis:\n  P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "moreover"], ["proof (state)\nthis:\n  P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "from v"], ["proof (chain)\npicking this:\n  \\<forall>w. P w v = (P w x \\<and> P w y)", "have \"P w v \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w v = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P w v = (P w x \\<and> P w y)", ".."], ["proof (state)\nthis:\n  P w v = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "ultimately"], ["proof (chain)\npicking this:\n  P w z = (P w x \\<and> P w y)\n  P w v = (P w x \\<and> P w y)", "show \"P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\nusing this:\n  P w z = (P w x \\<and> P w y)\n  P w v = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P w v = P w z", "by (rule ssubst)"], ["proof (state)\nthis:\n  P w v = P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. \\<And>v.\n       \\<forall>w. P w v = (P w x \\<and> P w y) \\<Longrightarrow> v = z", "with part_extensionality"], ["proof (chain)\npicking this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z", "show \"v = z\""], ["proof (prove)\nusing this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. v = z", ".."], ["proof (state)\nthis:\n  v = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE v. \\<forall>w. P w v = (P w x \\<and> P w y)) = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> P w y) \\<Longrightarrow>\n    x \\<otimes> y = z", "thus \"x \\<otimes> y = z\""], ["proof (prove)\nusing this:\n  (THE v. \\<forall>w. P w v = (P w x \\<and> P w y)) = z\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = z", "using product_eq"], ["proof (prove)\nusing this:\n  (THE v. \\<forall>w. P w v = (P w x \\<and> P w y)) = z\n  ?x \\<otimes> ?y = (THE z. \\<forall>v. P v z = (P v ?x \\<and> P v ?y))\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = z", "by (rule subst)"], ["proof (state)\nthis:\n  x \\<otimes> y = z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_idempotence: \"x \\<otimes> x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> x = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<otimes> x = x", "have \"\\<forall>w. P w x \\<longleftrightarrow> P w x \\<and> P w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w x = (P w x \\<and> P w x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w x = (P w x \\<and> P w x)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w x = (P w x \\<and> P w x)", "show \"P w x \\<longleftrightarrow> P w x \\<and> P w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w x = (P w x \\<and> P w x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w x \\<Longrightarrow> P w x \\<and> P w x\n 2. P w x \\<and> P w x \\<Longrightarrow> P w x", "assume \"P w x\""], ["proof (state)\nthis:\n  P w x\n\ngoal (2 subgoals):\n 1. P w x \\<Longrightarrow> P w x \\<and> P w x\n 2. P w x \\<and> P w x \\<Longrightarrow> P w x", "thus \"P w x \\<and> P w x\""], ["proof (prove)\nusing this:\n  P w x\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w x", "using `P w x`"], ["proof (prove)\nusing this:\n  P w x\n  P w x\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w x", ".."], ["proof (state)\nthis:\n  P w x \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w x \\<Longrightarrow> P w x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P w x \\<and> P w x \\<Longrightarrow> P w x", "assume \"P w x \\<and> P w x\""], ["proof (state)\nthis:\n  P w x \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w x \\<Longrightarrow> P w x", "thus \"P w x\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w x\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w x = (P w x \\<and> P w x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w x = (P w x \\<and> P w x)\n\ngoal (1 subgoal):\n 1. x \\<otimes> x = x", "thus \"x \\<otimes> x = x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w x = (P w x \\<and> P w x)\n\ngoal (1 subgoal):\n 1. x \\<otimes> x = x", "by (rule product_intro)"], ["proof (state)\nthis:\n  x \\<otimes> x = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_character: \n  \"O x y \\<Longrightarrow> (\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> (P w x \\<and> P w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "hence \"\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "by (rule product_closure)"], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)", "obtain z where z: \"\\<forall>w. P w z \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<forall>w. P w z = (P w x \\<and> P w y) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "hence \"x \\<otimes> y = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = z", "by (rule product_intro)"], ["proof (state)\nthis:\n  x \\<otimes> y = z\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "thus \"\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> P w x \\<and> P w y\""], ["proof (prove)\nusing this:\n  x \\<otimes> y = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "using z"], ["proof (prove)\nusing this:\n  x \\<otimes> y = z\n  \\<forall>w. P w z = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_commutativity: \"O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x", "hence \"O y x\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. O y x", "by (rule overlap_symmetry)"], ["proof (state)\nthis:\n  O y x\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x", "hence \"\\<forall>w. P w (y \\<otimes> x) \\<longleftrightarrow> (P w y \\<and> P w x)\""], ["proof (prove)\nusing this:\n  O y x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (y \\<otimes> x) = (P w y \\<and> P w x)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (y \\<otimes> x) = (P w y \\<and> P w x)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x", "hence \"\\<forall>w. P w (y \\<otimes> x) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (y \\<otimes> x) = (P w y \\<and> P w x)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (y \\<otimes> x) = (P w x \\<and> P w y)", "by auto"], ["proof (state)\nthis:\n  \\<forall>w. P w (y \\<otimes> x) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> x \\<otimes> y = y \\<otimes> x", "thus \"x \\<otimes> y = y \\<otimes> x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (y \\<otimes> x) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = y \\<otimes> x", "by (rule product_intro)"], ["proof (state)\nthis:\n  x \\<otimes> y = y \\<otimes> x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_in_factors: \"O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "hence \"\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> P w x \\<and> P w y\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "hence \"P (x \\<otimes> y) (x \\<otimes> y) \\<longleftrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) (x \\<otimes> y) =\n    (P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y)", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) (x \\<otimes> y) =\n  (P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "moreover"], ["proof (state)\nthis:\n  P (x \\<otimes> y) (x \\<otimes> y) =\n  (P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "have \"P (x \\<otimes> y) (x \\<otimes> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) (x \\<otimes> y)", "by (rule part_reflexivity)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "ultimately"], ["proof (chain)\npicking this:\n  P (x \\<otimes> y) (x \\<otimes> y) =\n  (P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y)\n  P (x \\<otimes> y) (x \\<otimes> y)", "show \"P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) (x \\<otimes> y) =\n  (P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y)\n  P (x \\<otimes> y) (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_in_first_factor: \"O x y \\<Longrightarrow> P (x \\<otimes> y) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x", "hence \"P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "by (rule product_in_factors)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) x", "thus \"P (x \\<otimes> y) x\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_in_second_factor: \"O x y \\<Longrightarrow> P (x \\<otimes> y) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) y", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) y", "hence \"P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y", "by (rule product_in_factors)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. O x y \\<Longrightarrow> P (x \\<otimes> y) y", "thus \"P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) x \\<and> P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) y", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nonpart_implies_proper_product: \n  \"\\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "assume antecedent: \"\\<not> P x y \\<and> O x y\""], ["proof (state)\nthis:\n  \\<not> P x y \\<and> O x y\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "hence \"\\<not> P x y\""], ["proof (prove)\nusing this:\n  \\<not> P x y \\<and> O x y\n\ngoal (1 subgoal):\n 1. \\<not> P x y", ".."], ["proof (state)\nthis:\n  \\<not> P x y\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "from antecedent"], ["proof (chain)\npicking this:\n  \\<not> P x y \\<and> O x y", "have \"O x y\""], ["proof (prove)\nusing this:\n  \\<not> P x y \\<and> O x y\n\ngoal (1 subgoal):\n 1. O x y", ".."], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "hence \"P (x \\<otimes> y) x\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x", "by (rule product_in_first_factor)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) x\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "moreover"], ["proof (state)\nthis:\n  P (x \\<otimes> y) x\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "have \"(x \\<otimes> y) \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<otimes> y \\<noteq> x", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<otimes> y = x \\<Longrightarrow> False", "assume \"(x \\<otimes> y) = x\""], ["proof (state)\nthis:\n  x \\<otimes> y = x\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = x \\<Longrightarrow> False", "hence \"\\<not> P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  x \\<otimes> y = x\n\ngoal (1 subgoal):\n 1. \\<not> P (x \\<otimes> y) y", "using `\\<not> P x y`"], ["proof (prove)\nusing this:\n  x \\<otimes> y = x\n  \\<not> P x y\n\ngoal (1 subgoal):\n 1. \\<not> P (x \\<otimes> y) y", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<not> P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = x \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<not> P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = x \\<Longrightarrow> False", "have \"P (x \\<otimes> y) y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) y", "using `O x y`"], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) y", "by (rule product_in_second_factor)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = x \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> P (x \\<otimes> y) y\n  P (x \\<otimes> y) y", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> P (x \\<otimes> y) y\n  P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<otimes> y \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "ultimately"], ["proof (chain)\npicking this:\n  P (x \\<otimes> y) x\n  x \\<otimes> y \\<noteq> x", "have \"P (x \\<otimes> y) x \\<and> x \\<otimes> y \\<noteq> x\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) x\n  x \\<otimes> y \\<noteq> x\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x \\<and> x \\<otimes> y \\<noteq> x", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) x \\<and> x \\<otimes> y \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<not> P x y \\<and> O x y \\<Longrightarrow> PP (x \\<otimes> y) x", "with nip_eq"], ["proof (chain)\npicking this:\n  PP ?x ?y = (P ?x ?y \\<and> ?x \\<noteq> ?y)\n  P (x \\<otimes> y) x \\<and> x \\<otimes> y \\<noteq> x", "show \"PP (x \\<otimes> y) x\""], ["proof (prove)\nusing this:\n  PP ?x ?y = (P ?x ?y \\<and> ?x \\<noteq> ?y)\n  P (x \\<otimes> y) x \\<and> x \\<otimes> y \\<noteq> x\n\ngoal (1 subgoal):\n 1. PP (x \\<otimes> y) x", ".."], ["proof (state)\nthis:\n  PP (x \\<otimes> y) x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma common_part_in_product: \"P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "assume antecedent: \"P z x \\<and> P z y\""], ["proof (state)\nthis:\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "hence \"\\<exists>z. P z x \\<and> P z y\""], ["proof (prove)\nusing this:\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> P z y", ".."], ["proof (state)\nthis:\n  \\<exists>z. P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>z. P z x \\<and> P z y", "have \"O x y\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>z. P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. O x y", ".."], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "hence \"\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "hence \"P z (x \\<otimes> y) \\<longleftrightarrow> (P z x \\<and> P z y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P z (x \\<otimes> y) = (P z x \\<and> P z y)", ".."], ["proof (state)\nthis:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y \\<Longrightarrow> P z (x \\<otimes> y)", "thus \"P z (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n\ngoal (1 subgoal):\n 1. P z (x \\<otimes> y)", "using `P z x \\<and> P z y`"], ["proof (prove)\nusing this:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. P z (x \\<otimes> y)", ".."], ["proof (state)\nthis:\n  P z (x \\<otimes> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_part_in_factors: \n  \"O x y \\<Longrightarrow> P z (x \\<otimes> y) \\<Longrightarrow> P z x \\<and> P z y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "hence \"\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "hence \"P z (x \\<otimes> y) \\<longleftrightarrow> (P z x \\<and> P z y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P z (x \\<otimes> y) = (P z x \\<and> P z y)", ".."], ["proof (state)\nthis:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "moreover"], ["proof (state)\nthis:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "assume \"P z (x \\<otimes> y)\""], ["proof (state)\nthis:\n  P z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk>\n    \\<Longrightarrow> P z x \\<and> P z y", "ultimately"], ["proof (chain)\npicking this:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n  P z (x \\<otimes> y)", "show \"P z x \\<and> P z y\""], ["proof (prove)\nusing this:\n  P z (x \\<otimes> y) = (P z x \\<and> P z y)\n  P z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y", ".."], ["proof (state)\nthis:\n  P z x \\<and> P z y\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary product_part_in_first_factor: \n  \"O x y \\<Longrightarrow> P z (x \\<otimes> y) \\<Longrightarrow> P z x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z x", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z x", "moreover"], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z x", "assume \"P z (x \\<otimes> y)\""], ["proof (state)\nthis:\n  P z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z x", "ultimately"], ["proof (chain)\npicking this:\n  O x y\n  P z (x \\<otimes> y)", "have \"P z x \\<and> P z y\""], ["proof (prove)\nusing this:\n  O x y\n  P z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y", "by (rule product_part_in_factors)"], ["proof (state)\nthis:\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z x", "thus \"P z x\""], ["proof (prove)\nusing this:\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. P z x", ".."], ["proof (state)\nthis:\n  P z x\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary product_part_in_second_factor: \n  \"O x y \\<Longrightarrow> P z (x \\<otimes> y) \\<Longrightarrow> P z y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z y", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z y", "moreover"], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z y", "assume \"P z (x \\<otimes> y)\""], ["proof (state)\nthis:\n  P z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z y", "ultimately"], ["proof (chain)\npicking this:\n  O x y\n  P z (x \\<otimes> y)", "have \"P z x \\<and> P z y\""], ["proof (prove)\nusing this:\n  O x y\n  P z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P z x \\<and> P z y", "by (rule product_part_in_factors)"], ["proof (state)\nthis:\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> P z y", "thus \"P z y\""], ["proof (prove)\nusing this:\n  P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. P z y", ".."], ["proof (state)\nthis:\n  P z y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma part_product_identity: \"P x y \\<Longrightarrow> x \\<otimes> y = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "assume \"P x y\""], ["proof (state)\nthis:\n  P x y\n\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "with part_reflexivity"], ["proof (chain)\npicking this:\n  P ?x ?x\n  P x y", "have \"P x x \\<and> P x y\""], ["proof (prove)\nusing this:\n  P ?x ?x\n  P x y\n\ngoal (1 subgoal):\n 1. P x x \\<and> P x y", ".."], ["proof (state)\nthis:\n  P x x \\<and> P x y\n\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "hence \"P x (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  P x x \\<and> P x y\n\ngoal (1 subgoal):\n 1. P x (x \\<otimes> y)", "by (rule common_part_in_product)"], ["proof (state)\nthis:\n  P x (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "have \"O x y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O x y", "using `P x y`"], ["proof (prove)\nusing this:\n  P x y\n\ngoal (1 subgoal):\n 1. O x y", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "hence  \"P (x \\<otimes> y) x\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x", "by (rule product_in_first_factor)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) x\n\ngoal (1 subgoal):\n 1. P x y \\<Longrightarrow> x \\<otimes> y = x", "thus \"x \\<otimes> y = x\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) x\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = x", "using `P x (x \\<otimes> y)`"], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) x\n  P x (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. x \\<otimes> y = x", "by (rule part_antisymmetry)"], ["proof (state)\nthis:\n  x \\<otimes> y = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_overlap: \"P z x \\<Longrightarrow> O z y \\<Longrightarrow> O z (x \\<otimes> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "assume \"P z x\""], ["proof (state)\nthis:\n  P z x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "assume \"O z y\""], ["proof (state)\nthis:\n  O z y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O z y", "have \"\\<exists>v. P v z \\<and> P v y\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O z y\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v z \\<and> P v y", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v z \\<and> P v y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v z \\<and> P v y", "obtain v where v: \"P v z \\<and> P v y\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v z \\<and> P v y\n\ngoal (1 subgoal):\n 1. (\\<And>v. P v z \\<and> P v y \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v z \\<and> P v y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "hence \"P v y\""], ["proof (prove)\nusing this:\n  P v z \\<and> P v y\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "from v"], ["proof (chain)\npicking this:\n  P v z \\<and> P v y", "have \"P v z\""], ["proof (prove)\nusing this:\n  P v z \\<and> P v y\n\ngoal (1 subgoal):\n 1. P v z", ".."], ["proof (state)\nthis:\n  P v z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "hence \"P v x\""], ["proof (prove)\nusing this:\n  P v z\n\ngoal (1 subgoal):\n 1. P v x", "using `P z x`"], ["proof (prove)\nusing this:\n  P v z\n  P z x\n\ngoal (1 subgoal):\n 1. P v x", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "hence \"P v x \\<and> P v y\""], ["proof (prove)\nusing this:\n  P v x\n\ngoal (1 subgoal):\n 1. P v x \\<and> P v y", "using `P v y`"], ["proof (prove)\nusing this:\n  P v x\n  P v y\n\ngoal (1 subgoal):\n 1. P v x \\<and> P v y", ".."], ["proof (state)\nthis:\n  P v x \\<and> P v y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "hence \"P v (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  P v x \\<and> P v y\n\ngoal (1 subgoal):\n 1. P v (x \\<otimes> y)", "by (rule common_part_in_product)"], ["proof (state)\nthis:\n  P v (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "with `P v z`"], ["proof (chain)\npicking this:\n  P v z\n  P v (x \\<otimes> y)", "have \"P v z \\<and> P v (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  P v z\n  P v (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P v z \\<and> P v (x \\<otimes> y)", ".."], ["proof (state)\nthis:\n  P v z \\<and> P v (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "hence \"\\<exists>v. P v z \\<and> P v (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  P v z \\<and> P v (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v z \\<and> P v (x \\<otimes> y)", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v z \\<and> P v (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>P z x; O z y\\<rbrakk> \\<Longrightarrow> O z (x \\<otimes> y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>v. P v z \\<and> P v (x \\<otimes> y)", "show \"O z (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>v. P v z \\<and> P v (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. O z (x \\<otimes> y)", ".."], ["proof (state)\nthis:\n  O z (x \\<otimes> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma disjoint_from_second_factor: \n  \"P x y \\<and> \\<not> O x (y \\<otimes> z) \\<Longrightarrow> \\<not> O x z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x y \\<and> \\<not> O x (y \\<otimes> z) \\<Longrightarrow> \\<not> O x z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P x y \\<and> \\<not> O x (y \\<otimes> z) \\<Longrightarrow> \\<not> O x z", "assume antecedent: \"P x y \\<and> \\<not> O x (y \\<otimes> z)\""], ["proof (state)\nthis:\n  P x y \\<and> \\<not> O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. P x y \\<and> \\<not> O x (y \\<otimes> z) \\<Longrightarrow> \\<not> O x z", "hence \"\\<not> O x (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P x y \\<and> \\<not> O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<not> O x (y \\<otimes> z)", ".."], ["proof (state)\nthis:\n  \\<not> O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. P x y \\<and> \\<not> O x (y \\<otimes> z) \\<Longrightarrow> \\<not> O x z", "show \"\\<not> O x z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O x z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. O x z \\<Longrightarrow> False", "from antecedent"], ["proof (chain)\npicking this:\n  P x y \\<and> \\<not> O x (y \\<otimes> z)", "have \"P x y\""], ["proof (prove)\nusing this:\n  P x y \\<and> \\<not> O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. P x y", ".."], ["proof (state)\nthis:\n  P x y\n\ngoal (1 subgoal):\n 1. O x z \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P x y\n\ngoal (1 subgoal):\n 1. O x z \\<Longrightarrow> False", "assume \"O x z\""], ["proof (state)\nthis:\n  O x z\n\ngoal (1 subgoal):\n 1. O x z \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P x y\n  O x z", "have \"O x (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P x y\n  O x z\n\ngoal (1 subgoal):\n 1. O x (y \\<otimes> z)", "by (rule product_overlap)"], ["proof (state)\nthis:\n  O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. O x z \\<Longrightarrow> False", "with `\\<not> O x (y \\<otimes> z)`"], ["proof (chain)\npicking this:\n  \\<not> O x (y \\<otimes> z)\n  O x (y \\<otimes> z)", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O x (y \\<otimes> z)\n  O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> O x z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma converse_product_overlap: \n  \"O x y \\<Longrightarrow> O z (x \\<otimes> y) \\<Longrightarrow> O z y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; O z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> O z y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; O z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> O z y", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; O z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> O z y", "hence \"P (x \\<otimes> y) y\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) y", "by (rule product_in_second_factor)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; O z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> O z y", "moreover"], ["proof (state)\nthis:\n  P (x \\<otimes> y) y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; O z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> O z y", "assume \"O z (x \\<otimes> y)\""], ["proof (state)\nthis:\n  O z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; O z (x \\<otimes> y)\\<rbrakk> \\<Longrightarrow> O z y", "ultimately"], ["proof (chain)\npicking this:\n  P (x \\<otimes> y) y\n  O z (x \\<otimes> y)", "show \"O z y\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) y\n  O z (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. O z y", "by (rule overlap_monotonicity)"], ["proof (state)\nthis:\n  O z y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma part_product_in_whole_product:\n  \"O x y \\<Longrightarrow> P x v \\<and> P y z \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "assume \"P x v \\<and> P y z\""], ["proof (state)\nthis:\n  P x v \\<and> P y z\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "have \"\\<forall>w. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)", "show \"P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<Longrightarrow> P w (v \\<otimes> z)", "assume \"P w (x \\<otimes> y)\""], ["proof (state)\nthis:\n  P w (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<Longrightarrow> P w (v \\<otimes> z)", "with `O x y`"], ["proof (chain)\npicking this:\n  O x y\n  P w (x \\<otimes> y)", "have \"P w x \\<and> P w y\""], ["proof (prove)\nusing this:\n  O x y\n  P w (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w y", "by (rule product_part_in_factors)"], ["proof (state)\nthis:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<Longrightarrow> P w (v \\<otimes> z)", "have \"P w v \\<and> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w v \\<and> P w z", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w v\n 2. P w z", "from `P w x \\<and> P w y`"], ["proof (chain)\npicking this:\n  P w x \\<and> P w y", "have \"P w x\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (2 subgoals):\n 1. P w v\n 2. P w z", "moreover"], ["proof (state)\nthis:\n  P w x\n\ngoal (2 subgoals):\n 1. P w v\n 2. P w z", "from `P x v \\<and> P y z`"], ["proof (chain)\npicking this:\n  P x v \\<and> P y z", "have \"P x v\""], ["proof (prove)\nusing this:\n  P x v \\<and> P y z\n\ngoal (1 subgoal):\n 1. P x v", ".."], ["proof (state)\nthis:\n  P x v\n\ngoal (2 subgoals):\n 1. P w v\n 2. P w z", "ultimately"], ["proof (chain)\npicking this:\n  P w x\n  P x v", "show \"P w v\""], ["proof (prove)\nusing this:\n  P w x\n  P x v\n\ngoal (1 subgoal):\n 1. P w v", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P w v\n\ngoal (1 subgoal):\n 1. P w z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P w z", "from `P w x \\<and> P w y`"], ["proof (chain)\npicking this:\n  P w x \\<and> P w y", "have \"P w y\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w y", ".."], ["proof (state)\nthis:\n  P w y\n\ngoal (1 subgoal):\n 1. P w z", "moreover"], ["proof (state)\nthis:\n  P w y\n\ngoal (1 subgoal):\n 1. P w z", "from `P x v \\<and> P y z`"], ["proof (chain)\npicking this:\n  P x v \\<and> P y z", "have \"P y z\""], ["proof (prove)\nusing this:\n  P x v \\<and> P y z\n\ngoal (1 subgoal):\n 1. P y z", ".."], ["proof (state)\nthis:\n  P y z\n\ngoal (1 subgoal):\n 1. P w z", "ultimately"], ["proof (chain)\npicking this:\n  P w y\n  P y z", "show \"P w z\""], ["proof (prove)\nusing this:\n  P w y\n  P y z\n\ngoal (1 subgoal):\n 1. P w z", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w v \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<Longrightarrow> P w (v \\<otimes> z)", "thus \"P w (v \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P w v \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w (v \\<otimes> z)", "by (rule common_part_in_product)"], ["proof (state)\nthis:\n  P w (v \\<otimes> z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "hence \"P (x \\<otimes> y) (x \\<otimes> y) \\<longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> y) \\<longrightarrow> P w (v \\<otimes> z)\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) (x \\<otimes> y) \\<longrightarrow>\n    P (x \\<otimes> y) (v \\<otimes> z)", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) (x \\<otimes> y) \\<longrightarrow>\n  P (x \\<otimes> y) (v \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "moreover"], ["proof (state)\nthis:\n  P (x \\<otimes> y) (x \\<otimes> y) \\<longrightarrow>\n  P (x \\<otimes> y) (v \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "have \"P (x \\<otimes> y) (x \\<otimes> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) (x \\<otimes> y)", "by (rule part_reflexivity)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; P x v \\<and> P y z\\<rbrakk>\n    \\<Longrightarrow> P (x \\<otimes> y) (v \\<otimes> z)", "ultimately"], ["proof (chain)\npicking this:\n  P (x \\<otimes> y) (x \\<otimes> y) \\<longrightarrow>\n  P (x \\<otimes> y) (v \\<otimes> z)\n  P (x \\<otimes> y) (x \\<otimes> y)", "show \"P (x \\<otimes> y) (v \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P (x \\<otimes> y) (x \\<otimes> y) \\<longrightarrow>\n  P (x \\<otimes> y) (v \\<otimes> z)\n  P (x \\<otimes> y) (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) (v \\<otimes> z)", ".."], ["proof (state)\nthis:\n  P (x \\<otimes> y) (v \\<otimes> z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma right_associated_product: \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z) \\<Longrightarrow>\n  (\\<forall>w. P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> (P w y \\<and> P w z))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "assume antecedent: \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z)\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z", "obtain w where w: \"P w x \\<and> P w y \\<and> P w z\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence \"P w x\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "from w"], ["proof (chain)\npicking this:\n  P w x \\<and> P w y \\<and> P w z", "have \"P w y \\<and> P w z\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w y \\<and> P w z", ".."], ["proof (state)\nthis:\n  P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence \"\\<exists>w. P w y \\<and> P w z\""], ["proof (prove)\nusing this:\n  P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w y \\<and> P w z", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w y \\<and> P w z", "have \"O y z\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. O y z", ".."], ["proof (state)\nthis:\n  O y z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence yz: \"\\<forall>w. P w (y \\<otimes> z) \\<longleftrightarrow> (P w y \\<and> P w z)\""], ["proof (prove)\nusing this:\n  O y z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (y \\<otimes> z) = (P w y \\<and> P w z)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence \"P w (y \\<otimes> z) \\<longleftrightarrow> (P w y \\<and> P w z)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. P w (y \\<otimes> z) = (P w y \\<and> P w z)", ".."], ["proof (state)\nthis:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence \"P w (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. P w (y \\<otimes> z)", "using `P w y \\<and> P w z`"], ["proof (prove)\nusing this:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n  P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w (y \\<otimes> z)", ".."], ["proof (state)\nthis:\n  P w (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "with `P w x`"], ["proof (chain)\npicking this:\n  P w x\n  P w (y \\<otimes> z)", "have \"P w x \\<and> P w (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P w x\n  P w (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w (y \\<otimes> z)", ".."], ["proof (state)\nthis:\n  P w x \\<and> P w (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence \"\\<exists>w. P w x \\<and> P w (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w (y \\<otimes> z)", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> P w (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w x \\<and> P w (y \\<otimes> z)", "have \"O x (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w x \\<and> P w (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. O x (y \\<otimes> z)", ".."], ["proof (state)\nthis:\n  O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "hence xyz: \"\\<forall>w. P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> P w (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  O x (y \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) =\n       (P w x \\<and> P w (y \\<otimes> z))", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "show \"\\<forall>w. P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> (P w y \\<and> P w z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "from yz"], ["proof (chain)\npicking this:\n  \\<forall>w. P w (y \\<otimes> z) = (P w y \\<and> P w z)", "have wyz: \"P w (y \\<otimes> z) \\<longleftrightarrow> (P w y \\<and> P w z)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. P w (y \\<otimes> z) = (P w y \\<and> P w z)", ".."], ["proof (state)\nthis:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "moreover"], ["proof (state)\nthis:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "from xyz"], ["proof (chain)\npicking this:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))", "have \n      \"P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> P w (y \\<otimes> z)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))", ".."], ["proof (state)\nthis:\n  P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "ultimately"], ["proof (chain)\npicking this:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n  P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))", "show \n      \"P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> (P w y \\<and> P w z)\""], ["proof (prove)\nusing this:\n  P w (y \\<otimes> z) = (P w y \\<and> P w z)\n  P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w (y \\<otimes> z))\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "by (rule subst)"], ["proof (state)\nthis:\n  P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma left_associated_product: \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z) \\<Longrightarrow>\n  (\\<forall>w. P w ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> (P w x \\<and> P w y) \\<and> P w z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "assume antecedent: \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z)\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z", "obtain w where w: \"P w x \\<and> P w y \\<and> P w z\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"P w y \\<and> P w z\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w y \\<and> P w z", ".."], ["proof (state)\nthis:\n  P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"P w y\""], ["proof (prove)\nusing this:\n  P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w y", ".."], ["proof (state)\nthis:\n  P w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "have \"P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w z", "using `P w y \\<and> P w z`"], ["proof (prove)\nusing this:\n  P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w z", ".."], ["proof (state)\nthis:\n  P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "from w"], ["proof (chain)\npicking this:\n  P w x \\<and> P w y \\<and> P w z", "have \"P w x\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"P w x \\<and> P w y\""], ["proof (prove)\nusing this:\n  P w x\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w y", "using `P w y`"], ["proof (prove)\nusing this:\n  P w x\n  P w y\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w y", ".."], ["proof (state)\nthis:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"\\<exists>z. P z x \\<and> P z y\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> P z y", ".."], ["proof (state)\nthis:\n  \\<exists>z. P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>z. P z x \\<and> P z y", "have \"O x y\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>z. P z x \\<and> P z y\n\ngoal (1 subgoal):\n 1. O x y", ".."], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence xy: \"\\<forall>w. P w (x \\<otimes> y) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"P w (x \\<otimes> y) \\<longleftrightarrow> (P w x \\<and> P w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) = (P w x \\<and> P w y)", ".."], ["proof (state)\nthis:\n  P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"P w (x \\<otimes> y)\""], ["proof (prove)\nusing this:\n  P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y)", "using `P w x \\<and> P w y`"], ["proof (prove)\nusing this:\n  P w (x \\<otimes> y) = (P w x \\<and> P w y)\n  P w x \\<and> P w y\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y)", ".."], ["proof (state)\nthis:\n  P w (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"P w (x \\<otimes> y) \\<and> P w z\""], ["proof (prove)\nusing this:\n  P w (x \\<otimes> y)\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<and> P w z", "using `P w z`"], ["proof (prove)\nusing this:\n  P w (x \\<otimes> y)\n  P w z\n\ngoal (1 subgoal):\n 1. P w (x \\<otimes> y) \\<and> P w z", ".."], ["proof (state)\nthis:\n  P w (x \\<otimes> y) \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence \"\\<exists>w. P w (x \\<otimes> y) \\<and> P w z\""], ["proof (prove)\nusing this:\n  P w (x \\<otimes> y) \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w (x \\<otimes> y) \\<and> P w z", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w (x \\<otimes> y) \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w (x \\<otimes> y) \\<and> P w z", "have \"O (x \\<otimes> y) z\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w (x \\<otimes> y) \\<and> P w z\n\ngoal (1 subgoal):\n 1. O (x \\<otimes> y) z", ".."], ["proof (state)\nthis:\n  O (x \\<otimes> y) z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "hence xyz: \"\\<forall>w. P w ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> P w (x \\<otimes> y) \\<and> P w z\""], ["proof (prove)\nusing this:\n  O (x \\<otimes> y) z\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       (P w (x \\<otimes> y) \\<and> P w z)", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = (P w (x \\<otimes> y) \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "show \"\\<forall>w. P w ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> (P w x \\<and> P w y) \\<and> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "from xy"], ["proof (chain)\npicking this:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)", "have vxy: \"P v (x \\<otimes> y) \\<longleftrightarrow> (P v x \\<and> P v y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> y) = (P w x \\<and> P w y)\n\ngoal (1 subgoal):\n 1. P v (x \\<otimes> y) = (P v x \\<and> P v y)", ".."], ["proof (state)\nthis:\n  P v (x \\<otimes> y) = (P v x \\<and> P v y)\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "moreover"], ["proof (state)\nthis:\n  P v (x \\<otimes> y) = (P v x \\<and> P v y)\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "from xyz"], ["proof (chain)\npicking this:\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = (P w (x \\<otimes> y) \\<and> P w z)", "have \n      \"P v ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> P v (x \\<otimes> y) \\<and> P v z\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = (P w (x \\<otimes> y) \\<and> P w z)\n\ngoal (1 subgoal):\n 1. P v ((x \\<otimes> y) \\<otimes> z) = (P v (x \\<otimes> y) \\<and> P v z)", ".."], ["proof (state)\nthis:\n  P v ((x \\<otimes> y) \\<otimes> z) = (P v (x \\<otimes> y) \\<and> P v z)\n\ngoal (1 subgoal):\n 1. \\<And>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "ultimately"], ["proof (chain)\npicking this:\n  P v (x \\<otimes> y) = (P v x \\<and> P v y)\n  P v ((x \\<otimes> y) \\<otimes> z) = (P v (x \\<otimes> y) \\<and> P v z)", "show \"P v ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> (P v x \\<and> P v y) \\<and> P v z\""], ["proof (prove)\nusing this:\n  P v (x \\<otimes> y) = (P v x \\<and> P v y)\n  P v ((x \\<otimes> y) \\<otimes> z) = (P v (x \\<otimes> y) \\<and> P v z)\n\ngoal (1 subgoal):\n 1. P v ((x \\<otimes> y) \\<otimes> z) = ((P v x \\<and> P v y) \\<and> P v z)", "by (rule subst)"], ["proof (state)\nthis:\n  P v ((x \\<otimes> y) \\<otimes> z) = ((P v x \\<and> P v y) \\<and> P v z)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = ((P w x \\<and> P w y) \\<and> P w z)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem product_associativity:\n  \"(\\<exists>w. P w x \\<and> P w y \\<and> P w z) \\<Longrightarrow> x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "assume ante:\"(\\<exists>w. P w x \\<and> P w y \\<and> P w z)\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "hence \"(\\<forall>w. P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w x \\<and> (P w y \\<and> P w z))\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)", "by (rule right_associated_product)"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "moreover"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "from ante"], ["proof (chain)\npicking this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z", "have \n    \"(\\<forall>w. P w ((x \\<otimes> y) \\<otimes> z) \\<longleftrightarrow> (P w x \\<and> P w y) \\<and> P w z)\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> P w y \\<and> P w z\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w ((x \\<otimes> y) \\<otimes> z) =\n       ((P w x \\<and> P w y) \\<and> P w z)", "by (rule left_associated_product)"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = ((P w x \\<and> P w y) \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = ((P w x \\<and> P w y) \\<and> P w z)", "have \"\\<forall>w. P w (x \\<otimes> (y \\<otimes> z)) \\<longleftrightarrow> P w ((x \\<otimes> y) \\<otimes> z)\""], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = (P w x \\<and> P w y \\<and> P w z)\n  \\<forall>w.\n     P w ((x \\<otimes> y) \\<otimes> z) = ((P w x \\<and> P w y) \\<and> P w z)\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> (y \\<otimes> z)) = P w ((x \\<otimes> y) \\<otimes> z)", "by simp"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = P w ((x \\<otimes> y) \\<otimes> z)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w y \\<and> P w z \\<Longrightarrow>\n    x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", "with part_extensionality"], ["proof (chain)\npicking this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = P w ((x \\<otimes> y) \\<otimes> z)", "show \"x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z\""], ["proof (prove)\nusing this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w.\n     P w (x \\<otimes> (y \\<otimes> z)) = P w ((x \\<otimes> y) \\<otimes> z)\n\ngoal (1 subgoal):\n 1. x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z", ".."], ["proof (state)\nthis:\n  x \\<otimes> (y \\<otimes> z) = (x \\<otimes> y) \\<otimes> z\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open> Differences  \\<close>"], ["", "text \\<open> Some writers also add to closed mereology the axiom of difference closure.\\footnote{See, for example,\n@{cite \"varzi_parts_1996\"} p. 263 and @{cite \"masolo_atomicity_1999\"} p. 238.} \\<close>"], ["", "locale CMD = CM +\n  assumes difference_eq: \n    \"x \\<ominus> y = (THE z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\"\n  assumes difference_closure:\n    \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\"\nbegin"], ["", "lemma difference_intro: \n  \"(\\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y) \\<Longrightarrow> x \\<ominus> y = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n    x \\<ominus> y = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n    x \\<ominus> y = z", "assume antecedent: \"(\\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\""], ["proof (state)\nthis:\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n    x \\<ominus> y = z", "hence \"(THE z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y) = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)) = z", "proof (rule the_equality)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>w. P w za = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n       za = z", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>w. P w za = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n       za = z", "assume v: \"(\\<forall>w. P w v \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\""], ["proof (state)\nthis:\n  \\<forall>w. P w v = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>w. P w za = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n       za = z", "have \"\\<forall>w. P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w v = P w z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "from antecedent"], ["proof (chain)\npicking this:\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "have \"P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. P w z = (P w x \\<and> \\<not> O w y)", ".."], ["proof (state)\nthis:\n  P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "moreover"], ["proof (state)\nthis:\n  P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "from v"], ["proof (chain)\npicking this:\n  \\<forall>w. P w v = (P w x \\<and> \\<not> O w y)", "have \"P w v \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w v = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. P w v = (P w x \\<and> \\<not> O w y)", ".."], ["proof (state)\nthis:\n  P w v = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "ultimately"], ["proof (chain)\npicking this:\n  P w z = (P w x \\<and> \\<not> O w y)\n  P w v = (P w x \\<and> \\<not> O w y)", "show \"P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\nusing this:\n  P w z = (P w x \\<and> \\<not> O w y)\n  P w v = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. P w v = P w z", "by (rule ssubst)"], ["proof (state)\nthis:\n  P w v = P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. \\<And>za.\n       \\<forall>w. P w za = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n       za = z", "with part_extensionality"], ["proof (chain)\npicking this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z", "show \"v = z\""], ["proof (prove)\nusing this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. v = z", ".."], ["proof (state)\nthis:\n  v = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)) = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n    x \\<ominus> y = z", "with difference_eq"], ["proof (chain)\npicking this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n  (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)) = z", "show \"x \\<ominus> y = z\""], ["proof (prove)\nusing this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n  (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)) = z\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = z", "by (rule ssubst)"], ["proof (state)\nthis:\n  x \\<ominus> y = z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma difference_idempotence: \"\\<not> O x y \\<Longrightarrow> (x \\<ominus> y) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> x \\<ominus> y = x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> x \\<ominus> y = x", "assume \"\\<not> O x y\""], ["proof (state)\nthis:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> x \\<ominus> y = x", "hence \"\\<not> O y x\""], ["proof (prove)\nusing this:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. \\<not> O y x", "by (rule disjoint_symmetry)"], ["proof (state)\nthis:\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> x \\<ominus> y = x", "have \"\\<forall>w. P w x \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w x = (P w x \\<and> \\<not> O w y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w x = (P w x \\<and> \\<not> O w y)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w x = (P w x \\<and> \\<not> O w y)", "show \"P w x \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w x = (P w x \\<and> \\<not> O w y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w x \\<Longrightarrow> P w x \\<and> \\<not> O w y\n 2. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "assume \"P w x\""], ["proof (state)\nthis:\n  P w x\n\ngoal (2 subgoals):\n 1. P w x \\<Longrightarrow> P w x \\<and> \\<not> O w y\n 2. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "hence \"\\<not> O y w\""], ["proof (prove)\nusing this:\n  P w x\n\ngoal (1 subgoal):\n 1. \\<not> O y w", "using `\\<not> O y x`"], ["proof (prove)\nusing this:\n  P w x\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. \\<not> O y w", "by (rule disjoint_demonotonicity)"], ["proof (state)\nthis:\n  \\<not> O y w\n\ngoal (2 subgoals):\n 1. P w x \\<Longrightarrow> P w x \\<and> \\<not> O w y\n 2. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "hence \"\\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<not> O y w\n\ngoal (1 subgoal):\n 1. \\<not> O w y", "by (rule disjoint_symmetry)"], ["proof (state)\nthis:\n  \\<not> O w y\n\ngoal (2 subgoals):\n 1. P w x \\<Longrightarrow> P w x \\<and> \\<not> O w y\n 2. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "with `P w x`"], ["proof (chain)\npicking this:\n  P w x\n  \\<not> O w y", "show \"P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  P w x\n  \\<not> O w y\n\ngoal (1 subgoal):\n 1. P w x \\<and> \\<not> O w y", ".."], ["proof (state)\nthis:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "assume \"P w x \\<and> \\<not> O w y\""], ["proof (state)\nthis:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. P w x \\<and> \\<not> O w y \\<Longrightarrow> P w x", "thus \"P w x\""], ["proof (prove)\nusing this:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w x = (P w x \\<and> \\<not> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w x = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> x \\<ominus> y = x", "thus \"(x \\<ominus> y) = x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w x = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = x", "by (rule difference_intro)"], ["proof (state)\nthis:\n  x \\<ominus> y = x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma difference_character: \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n  (\\<forall>w. P w (x \\<ominus> y) \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "assume \"\\<exists>w. P w x \\<and> \\<not> O w y\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "hence \"\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "by (rule difference_closure)"], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "obtain z where z: \"\\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<forall>w. P w z = (P w x \\<and> \\<not> O w y) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "hence \"(x \\<ominus> y) = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = z", "by (rule difference_intro)"], ["proof (state)\nthis:\n  x \\<ominus> y = z\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "thus \"\\<forall>w. P w (x \\<ominus> y) \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  x \\<ominus> y = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "using z"], ["proof (prove)\nusing this:\n  x \\<ominus> y = z\n  \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma difference_disjointness: \n  \"(\\<exists>z. P z x \\<and> \\<not> O z y) \\<Longrightarrow> \\<not> O y (x \\<ominus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> \\<not> O z y \\<Longrightarrow>\n    \\<not> O y (x \\<ominus> y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> \\<not> O z y \\<Longrightarrow>\n    \\<not> O y (x \\<ominus> y)", "assume \"\\<exists>z. P z x \\<and> \\<not> O z y\""], ["proof (state)\nthis:\n  \\<exists>z. P z x \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> \\<not> O z y \\<Longrightarrow>\n    \\<not> O y (x \\<ominus> y)", "hence xmy: \"\\<forall>w. P w (x \\<ominus> y) \\<longleftrightarrow> (P w x \\<and> \\<not> O w y)\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z x \\<and> \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "by (rule difference_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z x \\<and> \\<not> O z y \\<Longrightarrow>\n    \\<not> O y (x \\<ominus> y)", "show \"\\<not> O y (x \\<ominus> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O y (x \\<ominus> y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "assume \"O y (x \\<ominus> y)\""], ["proof (state)\nthis:\n  O y (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y (x \\<ominus> y)", "have \"\\<exists>v. P v y \\<and> P v (x \\<ominus> y)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v y \\<and> P v (x \\<ominus> y)", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v y \\<and> P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v y \\<and> P v (x \\<ominus> y)", "obtain v where v: \"P v y \\<and> P v (x \\<ominus> y)\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v y \\<and> P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v y \\<and> P v (x \\<ominus> y) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v y \\<and> P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "from xmy"], ["proof (chain)\npicking this:\n  \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)", "have \"P v (x \\<ominus> y) \\<longleftrightarrow> (P v x \\<and> \\<not> O v y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<ominus> y) = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. P v (x \\<ominus> y) = (P v x \\<and> \\<not> O v y)", ".."], ["proof (state)\nthis:\n  P v (x \\<ominus> y) = (P v x \\<and> \\<not> O v y)\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P v (x \\<ominus> y) = (P v x \\<and> \\<not> O v y)\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> P v (x \\<ominus> y)", "have \"P v (x \\<ominus> y)\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. P v (x \\<ominus> y)", ".."], ["proof (state)\nthis:\n  P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P v (x \\<ominus> y) = (P v x \\<and> \\<not> O v y)\n  P v (x \\<ominus> y)", "have \"P v x \\<and> \\<not> O v y\""], ["proof (prove)\nusing this:\n  P v (x \\<ominus> y) = (P v x \\<and> \\<not> O v y)\n  P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. P v x \\<and> \\<not> O v y", ".."], ["proof (state)\nthis:\n  P v x \\<and> \\<not> O v y\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "hence \"\\<not> O v y\""], ["proof (prove)\nusing this:\n  P v x \\<and> \\<not> O v y\n\ngoal (1 subgoal):\n 1. \\<not> O v y", ".."], ["proof (state)\nthis:\n  \\<not> O v y\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<not> O v y\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> P v (x \\<ominus> y)", "have \"P v y\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v (x \\<ominus> y)\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "hence \"O v y\""], ["proof (prove)\nusing this:\n  P v y\n\ngoal (1 subgoal):\n 1. O v y", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O v y\n\ngoal (1 subgoal):\n 1. O y (x \\<ominus> y) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> O v y\n  O v y", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O v y\n  O v y\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> O y (x \\<ominus> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open> The Universe \\<close>"], ["", "text \\<open> Another closure condition sometimes considered is the existence of the universe.\\footnote{\nSee, for example, @{cite \"varzi_parts_1996\"} p. 264 and @{cite \"casati_parts_1999\"} p. 45.}  \\<close>"], ["", "locale CMU = CM +\n  assumes universe_eq: \"u = (THE z. \\<forall>w. P w z)\" \n  assumes universe_closure: \"\\<exists>y. \\<forall>x. P x y\"\nbegin"], ["", "lemma universe_intro: \"(\\<forall>w. P w z) \\<Longrightarrow> u = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<Longrightarrow> u = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<Longrightarrow> u = z", "assume z: \"\\<forall>w. P w z\""], ["proof (state)\nthis:\n  \\<forall>w. P w z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<Longrightarrow> u = z", "hence \"(THE z. \\<forall>w. P w z) = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z\n\ngoal (1 subgoal):\n 1. (THE z. \\<forall>w. P w z) = z", "proof (rule the_equality)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za \\<Longrightarrow> za = z", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za \\<Longrightarrow> za = z", "assume v: \"\\<forall>w. P w v\""], ["proof (state)\nthis:\n  \\<forall>w. P w v\n\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za \\<Longrightarrow> za = z", "have \"\\<forall>w. P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w v = P w z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "show \"P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w v = P w z", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w v \\<Longrightarrow> P w z\n 2. P w z \\<Longrightarrow> P w v", "assume \"P w v\""], ["proof (state)\nthis:\n  P w v\n\ngoal (2 subgoals):\n 1. P w v \\<Longrightarrow> P w z\n 2. P w z \\<Longrightarrow> P w v", "from z"], ["proof (chain)\npicking this:\n  \\<forall>w. P w z", "show \"P w z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z\n\ngoal (1 subgoal):\n 1. P w z", ".."], ["proof (state)\nthis:\n  P w z\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> P w v", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> P w v", "assume \"P w z\""], ["proof (state)\nthis:\n  P w z\n\ngoal (1 subgoal):\n 1. P w z \\<Longrightarrow> P w v", "from v"], ["proof (chain)\npicking this:\n  \\<forall>w. P w v", "show \"P w v\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w v\n\ngoal (1 subgoal):\n 1. P w v", ".."], ["proof (state)\nthis:\n  P w v\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w v = P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za \\<Longrightarrow> za = z", "with part_extensionality"], ["proof (chain)\npicking this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z", "show \"v = z\""], ["proof (prove)\nusing this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. v = z", ".."], ["proof (state)\nthis:\n  v = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE z. \\<forall>w. P w z) = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z \\<Longrightarrow> u = z", "thus \"u = z\""], ["proof (prove)\nusing this:\n  (THE z. \\<forall>w. P w z) = z\n\ngoal (1 subgoal):\n 1. u = z", "using universe_eq"], ["proof (prove)\nusing this:\n  (THE z. \\<forall>w. P w z) = z\n  u = (THE z. \\<forall>w. P w z)\n\ngoal (1 subgoal):\n 1. u = z", "by (rule subst)"], ["proof (state)\nthis:\n  u = z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma universe_character: \"P x u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P x u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P x u", "from universe_closure"], ["proof (chain)\npicking this:\n  \\<exists>y. \\<forall>x. P x y", "obtain y where y: \"\\<forall>x. P x y\""], ["proof (prove)\nusing this:\n  \\<exists>y. \\<forall>x. P x y\n\ngoal (1 subgoal):\n 1. (\\<And>y. \\<forall>x. P x y \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>x. P x y\n\ngoal (1 subgoal):\n 1. P x u", "hence \"u = y\""], ["proof (prove)\nusing this:\n  \\<forall>x. P x y\n\ngoal (1 subgoal):\n 1. u = y", "by (rule universe_intro)"], ["proof (state)\nthis:\n  u = y\n\ngoal (1 subgoal):\n 1. P x u", "hence \"\\<forall>x. P x u\""], ["proof (prove)\nusing this:\n  u = y\n\ngoal (1 subgoal):\n 1. \\<forall>x. P x u", "using y"], ["proof (prove)\nusing this:\n  u = y\n  \\<forall>x. P x y\n\ngoal (1 subgoal):\n 1. \\<forall>x. P x u", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<forall>x. P x u\n\ngoal (1 subgoal):\n 1. P x u", "thus \"P x u\""], ["proof (prove)\nusing this:\n  \\<forall>x. P x u\n\ngoal (1 subgoal):\n 1. P x u", ".."], ["proof (state)\nthis:\n  P x u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \"\\<not> PP u x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> PP u x", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. PP u x \\<Longrightarrow> False", "assume \"PP u x\""], ["proof (state)\nthis:\n  PP u x\n\ngoal (1 subgoal):\n 1. PP u x \\<Longrightarrow> False", "hence \"\\<not> P x u\""], ["proof (prove)\nusing this:\n  PP u x\n\ngoal (1 subgoal):\n 1. \\<not> P x u", "by (rule proper_implies_not_part)"], ["proof (state)\nthis:\n  \\<not> P x u\n\ngoal (1 subgoal):\n 1. PP u x \\<Longrightarrow> False", "thus \"False\""], ["proof (prove)\nusing this:\n  \\<not> P x u\n\ngoal (1 subgoal):\n 1. False", "using universe_character"], ["proof (prove)\nusing this:\n  \\<not> P x u\n  P ?x u\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_universe_implies_factor_universe: \n  \"O x y \\<Longrightarrow> x \\<otimes> y = u \\<Longrightarrow> x = u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "assume \"x \\<otimes> y = u\""], ["proof (state)\nthis:\n  x \\<otimes> y = u\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "moreover"], ["proof (state)\nthis:\n  x \\<otimes> y = u\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "assume \"O x y\""], ["proof (state)\nthis:\n  O x y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "hence \"P (x \\<otimes> y) x\""], ["proof (prove)\nusing this:\n  O x y\n\ngoal (1 subgoal):\n 1. P (x \\<otimes> y) x", "by (rule product_in_first_factor)"], ["proof (state)\nthis:\n  P (x \\<otimes> y) x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "ultimately"], ["proof (chain)\npicking this:\n  x \\<otimes> y = u\n  P (x \\<otimes> y) x", "have \"P u x\""], ["proof (prove)\nusing this:\n  x \\<otimes> y = u\n  P (x \\<otimes> y) x\n\ngoal (1 subgoal):\n 1. P u x", "by (rule subst)"], ["proof (state)\nthis:\n  P u x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>O x y; x \\<otimes> y = u\\<rbrakk> \\<Longrightarrow> x = u", "with universe_character"], ["proof (chain)\npicking this:\n  P ?x u\n  P u x", "show \"x = u\""], ["proof (prove)\nusing this:\n  P ?x u\n  P u x\n\ngoal (1 subgoal):\n 1. x = u", "by (rule part_antisymmetry)"], ["proof (state)\nthis:\n  x = u\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open> Complements \\<close>"], ["", "text \\<open> As is a condition ensuring the existence of complements.\\footnote{See, for example, \n @{cite \"varzi_parts_1996\"} p. 264 and @{cite \"casati_parts_1999\"} p. 45.} \\<close>"], ["", "locale CMC = CM +\n  assumes complement_eq: \"\\<midarrow>x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\"\n  assumes complement_closure: \n    \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\"\n  assumes difference_eq: \n    \"x \\<ominus> y = (THE z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\"\nbegin"], ["", "lemma complement_intro:\n  \"(\\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x) \\<Longrightarrow> \\<midarrow>x = z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (\\<not> O w x) \\<Longrightarrow> \\<midarrow> x = z", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (\\<not> O w x) \\<Longrightarrow> \\<midarrow> x = z", "assume antecedent: \"\\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x\""], ["proof (state)\nthis:\n  \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (\\<not> O w x) \\<Longrightarrow> \\<midarrow> x = z", "hence \"(THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x) = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. (THE z. \\<forall>w. P w z = (\\<not> O w x)) = z", "proof (rule the_equality)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za = (\\<not> O w x) \\<Longrightarrow> za = z", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za = (\\<not> O w x) \\<Longrightarrow> za = z", "assume v: \"\\<forall>w. P w v \\<longleftrightarrow> \\<not> O w x\""], ["proof (state)\nthis:\n  \\<forall>w. P w v = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za = (\\<not> O w x) \\<Longrightarrow> za = z", "have \"\\<forall>w. P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w v = P w z", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "from antecedent"], ["proof (chain)\npicking this:\n  \\<forall>w. P w z = (\\<not> O w x)", "have \"P w z \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. P w z = (\\<not> O w x)", ".."], ["proof (state)\nthis:\n  P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "moreover"], ["proof (state)\nthis:\n  P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "from v"], ["proof (chain)\npicking this:\n  \\<forall>w. P w v = (\\<not> O w x)", "have \"P w v \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w v = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. P w v = (\\<not> O w x)", ".."], ["proof (state)\nthis:\n  P w v = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w v = P w z", "ultimately"], ["proof (chain)\npicking this:\n  P w z = (\\<not> O w x)\n  P w v = (\\<not> O w x)", "show \"P w v \\<longleftrightarrow> P w z\""], ["proof (prove)\nusing this:\n  P w z = (\\<not> O w x)\n  P w v = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. P w v = P w z", "by (rule ssubst)"], ["proof (state)\nthis:\n  P w v = P w z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. \\<And>za. \\<forall>w. P w za = (\\<not> O w x) \\<Longrightarrow> za = z", "with part_extensionality"], ["proof (chain)\npicking this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z", "show \"v = z\""], ["proof (prove)\nusing this:\n  (?x = ?y) = (\\<forall>z. P z ?x = P z ?y)\n  \\<forall>w. P w v = P w z\n\ngoal (1 subgoal):\n 1. v = z", ".."], ["proof (state)\nthis:\n  v = z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (THE z. \\<forall>w. P w z = (\\<not> O w x)) = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w z = (\\<not> O w x) \\<Longrightarrow> \\<midarrow> x = z", "with complement_eq"], ["proof (chain)\npicking this:\n  \\<midarrow> ?x = (THE z. \\<forall>w. P w z = (\\<not> O w ?x))\n  (THE z. \\<forall>w. P w z = (\\<not> O w x)) = z", "show \"\\<midarrow>x = z\""], ["proof (prove)\nusing this:\n  \\<midarrow> ?x = (THE z. \\<forall>w. P w z = (\\<not> O w ?x))\n  (THE z. \\<forall>w. P w z = (\\<not> O w x)) = z\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = z", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<midarrow> x = z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma complement_character:\n  \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<forall>w. P w (\\<midarrow>x) \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "assume \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "hence \"(\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "by (rule complement_closure)"], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "obtain z where z: \"\\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. (\\<And>z.\n        \\<forall>w. P w z = (\\<not> O w x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "hence \"\\<midarrow>x = z\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = z", "by (rule complement_intro)"], ["proof (state)\nthis:\n  \\<midarrow> x = z\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "thus \"\\<forall>w. P w (\\<midarrow>x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<midarrow> x = z\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "using z"], ["proof (prove)\nusing this:\n  \\<midarrow> x = z\n  \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "by (rule ssubst)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma not_complement_part: \"\\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow> x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow> x)", "assume \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow> x)", "hence \"\\<forall>w. P w (\\<midarrow>x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "by (rule complement_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow> x)", "hence \"P x (\\<midarrow>x) \\<longleftrightarrow> \\<not> O x x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> x) = (\\<not> O x x)", ".."], ["proof (state)\nthis:\n  P x (\\<midarrow> x) = (\\<not> O x x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow> \\<not> P x (\\<midarrow> x)", "show \"\\<not> P x (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> P x (\\<midarrow> x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. P x (\\<midarrow> x) \\<Longrightarrow> False", "assume \"P x (\\<midarrow>x)\""], ["proof (state)\nthis:\n  P x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> x) \\<Longrightarrow> False", "with `P x (\\<midarrow>x) \\<longleftrightarrow> \\<not> O x x`"], ["proof (chain)\npicking this:\n  P x (\\<midarrow> x) = (\\<not> O x x)\n  P x (\\<midarrow> x)", "have \"\\<not> O x x\""], ["proof (prove)\nusing this:\n  P x (\\<midarrow> x) = (\\<not> O x x)\n  P x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<not> O x x", ".."], ["proof (state)\nthis:\n  \\<not> O x x\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> x) \\<Longrightarrow> False", "thus \"False\""], ["proof (prove)\nusing this:\n  \\<not> O x x\n\ngoal (1 subgoal):\n 1. False", "using overlap_reflexivity"], ["proof (prove)\nusing this:\n  \\<not> O x x\n  O ?x ?x\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> P x (\\<midarrow> x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma complement_part: \"\\<not> O x y \\<Longrightarrow> P x (\\<midarrow>y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> P x (\\<midarrow> y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> P x (\\<midarrow> y)", "assume \"\\<not> O x y\""], ["proof (state)\nthis:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> P x (\\<midarrow> y)", "hence \"\\<exists>z. \\<not> O z y\""], ["proof (prove)\nusing this:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<not> O z y", ".."], ["proof (state)\nthis:\n  \\<exists>z. \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> P x (\\<midarrow> y)", "hence \"\\<forall>w. P w (\\<midarrow>y) \\<longleftrightarrow> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>z. \\<not> O z y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<midarrow> y) = (\\<not> O w y)", "by (rule complement_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<midarrow> y) = (\\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> P x (\\<midarrow> y)", "hence \"P x (\\<midarrow>y) \\<longleftrightarrow> \\<not> O x y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<midarrow> y) = (\\<not> O w y)\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> y) = (\\<not> O x y)", ".."], ["proof (state)\nthis:\n  P x (\\<midarrow> y) = (\\<not> O x y)\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> P x (\\<midarrow> y)", "thus \"P x (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  P x (\\<midarrow> y) = (\\<not> O x y)\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> y)", "using `\\<not> O x y`"], ["proof (prove)\nusing this:\n  P x (\\<midarrow> y) = (\\<not> O x y)\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> y)", ".."], ["proof (state)\nthis:\n  P x (\\<midarrow> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma complement_overlap: \"\\<not> O x y \\<Longrightarrow> O x (\\<midarrow>y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> O x (\\<midarrow> y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> O x (\\<midarrow> y)", "assume \"\\<not> O x y\""], ["proof (state)\nthis:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> O x (\\<midarrow> y)", "hence \"P x (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  \\<not> O x y\n\ngoal (1 subgoal):\n 1. P x (\\<midarrow> y)", "by (rule complement_part)"], ["proof (state)\nthis:\n  P x (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<not> O x y \\<Longrightarrow> O x (\\<midarrow> y)", "thus \"O x (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  P x (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> y)", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O x (\\<midarrow> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma or_complement_overlap: \"\\<forall>y. O y x \\<or> O y (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y. O y x \\<or> O y (\\<midarrow> x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y x \\<or> O y (\\<midarrow> x)", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. O y x \\<or> O y (\\<midarrow> x)", "show \"O y x \\<or> O y (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. O y x \\<or> O y (\\<midarrow> x)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)\n 2. \\<not> ?P \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)", "assume \"O y x\""], ["proof (state)\nthis:\n  O y x\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)\n 2. \\<not> ?P \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)", "thus \"O y x \\<or> O y (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  O y x\n\ngoal (1 subgoal):\n 1. O y x \\<or> O y (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  O y x \\<or> O y (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)", "assume \"\\<not> O y x\""], ["proof (state)\nthis:\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)", "hence \"O y (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  \\<not> O y x\n\ngoal (1 subgoal):\n 1. O y (\\<midarrow> x)", "by (rule complement_overlap)"], ["proof (state)\nthis:\n  O y (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<not> O y x \\<Longrightarrow> O y x \\<or> O y (\\<midarrow> x)", "thus \"O y x \\<or> O y (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  O y (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. O y x \\<or> O y (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  O y x \\<or> O y (\\<midarrow> x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  O y x \\<or> O y (\\<midarrow> x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma complement_disjointness: \"\\<exists>v. \\<not> O v x \\<Longrightarrow> \\<not> O x (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>v. \\<not> O v x \\<Longrightarrow> \\<not> O x (\\<midarrow> x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>v. \\<not> O v x \\<Longrightarrow> \\<not> O x (\\<midarrow> x)", "assume \"\\<exists>v. \\<not> O v x\""], ["proof (state)\nthis:\n  \\<exists>v. \\<not> O v x\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<not> O v x \\<Longrightarrow> \\<not> O x (\\<midarrow> x)", "hence w: \"\\<forall>w. P w (\\<midarrow>x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>v. \\<not> O v x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "by (rule complement_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>v. \\<not> O v x \\<Longrightarrow> \\<not> O x (\\<midarrow> x)", "show \"\\<not> O x (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> O x (\\<midarrow> x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "assume \"O x (\\<midarrow>x)\""], ["proof (state)\nthis:\n  O x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O x (\\<midarrow> x)", "have \"\\<exists>v. P v x \\<and> P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v x \\<and> P v (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v x \\<and> P v (\\<midarrow> x)", "obtain v where v: \"P v x \\<and> P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v x \\<and> P v (\\<midarrow> x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "from w"], ["proof (chain)\npicking this:\n  \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)", "have \"P v (\\<midarrow>x) \\<longleftrightarrow> \\<not> O v x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<midarrow> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. P v (\\<midarrow> x) = (\\<not> O v x)", ".."], ["proof (state)\nthis:\n  P v (\\<midarrow> x) = (\\<not> O v x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P v (\\<midarrow> x) = (\\<not> O v x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v x \\<and> P v (\\<midarrow> x)", "have  \"P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. P v (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P v (\\<midarrow> x) = (\\<not> O v x)\n  P v (\\<midarrow> x)", "have \"\\<not> O v x\""], ["proof (prove)\nusing this:\n  P v (\\<midarrow> x) = (\\<not> O v x)\n  P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<not> O v x", ".."], ["proof (state)\nthis:\n  \\<not> O v x\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<not> O v x\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v x \\<and> P v (\\<midarrow> x)", "have \"P v x\""], ["proof (prove)\nusing this:\n  P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. P v x", ".."], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "hence \"O v x\""], ["proof (prove)\nusing this:\n  P v x\n\ngoal (1 subgoal):\n 1. O v x", "by (rule part_implies_overlap)"], ["proof (state)\nthis:\n  O v x\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> O v x\n  O v x", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O v x\n  O v x\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> O x (\\<midarrow> x)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma part_disjoint_from_complement:\n  \"\\<exists>v. \\<not> O v x \\<Longrightarrow> P y x \\<Longrightarrow> \\<not> O y (\\<midarrow>x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x\\<rbrakk>\n    \\<Longrightarrow> \\<not> O y (\\<midarrow> x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"\\<exists>v. \\<not> O v x\""], ["proof (state)\nthis:\n  \\<exists>v. \\<not> O v x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "hence \"\\<not> O x (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  \\<exists>v. \\<not> O v x\n\ngoal (1 subgoal):\n 1. \\<not> O x (\\<midarrow> x)", "by (rule complement_disjointness)"], ["proof (state)\nthis:\n  \\<not> O x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"P y x\""], ["proof (state)\nthis:\n  P y x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "assume \"O y (\\<midarrow>x)\""], ["proof (state)\nthis:\n  O y (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y (\\<midarrow> x)", "have \"\\<exists>v. P v y \\<and> P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  O y (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v y \\<and> P v (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v y \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>v. P v y \\<and> P v (\\<midarrow> x)", "obtain v where v: \"P v y \\<and> P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  \\<exists>v. P v y \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        P v y \\<and> P v (\\<midarrow> x) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P v y \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "hence \"P v y\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. P v y", ".."], ["proof (state)\nthis:\n  P v y\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "hence \"P v x\""], ["proof (prove)\nusing this:\n  P v y\n\ngoal (1 subgoal):\n 1. P v x", "using `P y x`"], ["proof (prove)\nusing this:\n  P v y\n  P y x\n\ngoal (1 subgoal):\n 1. P v x", "by (rule part_transitivity)"], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  P v x\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "from v"], ["proof (chain)\npicking this:\n  P v y \\<and> P v (\\<midarrow> x)", "have \"P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  P v y \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. P v (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  P v x\n  P v (\\<midarrow> x)", "have \"P v x \\<and> P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  P v x\n  P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. P v x \\<and> P v (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "hence \"\\<exists>v. P v x \\<and> P v (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<exists>v. P v x \\<and> P v (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  \\<exists>v. P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>v. P v x \\<and> P v (\\<midarrow> x)", "have \"O x (\\<midarrow>x)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>v. P v x \\<and> P v (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> x)", ".."], ["proof (state)\nthis:\n  O x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<exists>v. \\<not> O v x; P y x; O y (\\<midarrow> x)\\<rbrakk>\n    \\<Longrightarrow> False", "with `\\<not> O x (\\<midarrow>x)`"], ["proof (chain)\npicking this:\n  \\<not> O x (\\<midarrow> x)\n  O x (\\<midarrow> x)", "show \"False\""], ["proof (prove)\nusing this:\n  \\<not> O x (\\<midarrow> x)\n  O x (\\<midarrow> x)\n\ngoal (1 subgoal):\n 1. False", ".."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma product_complement_character: \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n  (\\<forall>w. P w (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> (P w x \\<and> (\\<not> O w y)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "assume antecedent: \"\\<exists>w. P w x \\<and> \\<not> O w y\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. P w x \\<and> \\<not> O w y", "obtain w where w: \"P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. (\\<And>w.\n        P w x \\<and> \\<not> O w y \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence \"P w x\""], ["proof (prove)\nusing this:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. P w x", ".."], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "moreover"], ["proof (state)\nthis:\n  P w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "from w"], ["proof (chain)\npicking this:\n  P w x \\<and> \\<not> O w y", "have \"\\<not> O w y\""], ["proof (prove)\nusing this:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<not> O w y", ".."], ["proof (state)\nthis:\n  \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence \"P w (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  \\<not> O w y\n\ngoal (1 subgoal):\n 1. P w (\\<midarrow> y)", "by (rule complement_part)"], ["proof (state)\nthis:\n  P w (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "ultimately"], ["proof (chain)\npicking this:\n  P w x\n  P w (\\<midarrow> y)", "have  \"P w x \\<and> P w (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  P w x\n  P w (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. P w x \\<and> P w (\\<midarrow> y)", ".."], ["proof (state)\nthis:\n  P w x \\<and> P w (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence \"\\<exists>w. P w x \\<and> P w (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  P w x \\<and> P w (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> P w (\\<midarrow> y)", ".."], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> P w (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "with overlap_eq"], ["proof (chain)\npicking this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w x \\<and> P w (\\<midarrow> y)", "have \"O x (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  O ?x ?y = (\\<exists>z. P z ?x \\<and> P z ?y)\n  \\<exists>w. P w x \\<and> P w (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. O x (\\<midarrow> y)", ".."], ["proof (state)\nthis:\n  O x (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence prod: \"(\\<forall>w. P w (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> (P w x \\<and> P w (\\<midarrow>y)))\""], ["proof (prove)\nusing this:\n  O x (\\<midarrow> y)\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> P w (\\<midarrow> y))", "by (rule product_character)"], ["proof (state)\nthis:\n  \\<forall>w.\n     P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> P w (\\<midarrow> y))\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "show \"\\<forall>w. P w (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> (P w x \\<and> (\\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "fix v"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "from w"], ["proof (chain)\npicking this:\n  P w x \\<and> \\<not> O w y", "have \"\\<not> O w y\""], ["proof (prove)\nusing this:\n  P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<not> O w y", ".."], ["proof (state)\nthis:\n  \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence \"\\<exists>w. \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w y", ".."], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence \"\\<forall>w. P w (\\<midarrow>y) \\<longleftrightarrow> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (\\<midarrow> y) = (\\<not> O w y)", "by (rule complement_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (\\<midarrow> y) = (\\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "hence \"P v (\\<midarrow>y) \\<longleftrightarrow> \\<not> O v y\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (\\<midarrow> y) = (\\<not> O w y)\n\ngoal (1 subgoal):\n 1. P v (\\<midarrow> y) = (\\<not> O v y)", ".."], ["proof (state)\nthis:\n  P v (\\<midarrow> y) = (\\<not> O v y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "moreover"], ["proof (state)\nthis:\n  P v (\\<midarrow> y) = (\\<not> O v y)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "have \"P v (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> (P v x \\<and> P v (\\<midarrow>y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> P v (\\<midarrow> y))", "using prod"], ["proof (prove)\nusing this:\n  \\<forall>w.\n     P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> P w (\\<midarrow> y))\n\ngoal (1 subgoal):\n 1. P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> P v (\\<midarrow> y))", ".."], ["proof (state)\nthis:\n  P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> P v (\\<midarrow> y))\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "ultimately"], ["proof (chain)\npicking this:\n  P v (\\<midarrow> y) = (\\<not> O v y)\n  P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> P v (\\<midarrow> y))", "show \"P v (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> (P v x \\<and> (\\<not> O v y))\""], ["proof (prove)\nusing this:\n  P v (\\<midarrow> y) = (\\<not> O v y)\n  P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> P v (\\<midarrow> y))\n\ngoal (1 subgoal):\n 1. P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> \\<not> O v y)", "by (rule subst)"], ["proof (state)\nthis:\n  P v (x \\<otimes> \\<midarrow> y) = (P v x \\<and> \\<not> O v y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem difference_closure: \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n  (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "assume \"\\<exists>w. P w x \\<and> \\<not> O w y\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "hence \"\\<forall>w. P w (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "by (rule product_complement_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "thus \"(\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> P w x \\<and> \\<not> O w y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "by (rule exI)"], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "sublocale CMC \\<subseteq> CMD"], ["proof (prove)\ngoal (1 subgoal):\n 1. CMD", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 2. \\<And>x y.\n       \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "fix x y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n 2. \\<And>x y.\n       \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "show \"x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "using difference_eq"], ["proof (prove)\nusing this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "."], ["proof (state)\nthis:\n  x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "show \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> \n    (\\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "using difference_closure"], ["proof (prove)\nusing this:\n  \\<exists>w. P w ?x \\<and> \\<not> O w ?y \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)", "."], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y)\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary (in CMC) difference_is_product_of_complement:\n  \"(\\<exists>w. P w x \\<and> \\<not> O w y) \\<Longrightarrow> (x \\<ominus> y) = x \\<otimes> (\\<midarrow>y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    x \\<ominus> y = x \\<otimes> \\<midarrow> y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    x \\<ominus> y = x \\<otimes> \\<midarrow> y", "assume antecedent: \"\\<exists>w. P w x \\<and> \\<not> O w y\""], ["proof (state)\nthis:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    x \\<ominus> y = x \\<otimes> \\<midarrow> y", "hence \"\\<forall>w. P w (x \\<otimes> (\\<midarrow>y)) \\<longleftrightarrow> P w x \\<and> \\<not> O w y\""], ["proof (prove)\nusing this:\n  \\<exists>w. P w x \\<and> \\<not> O w y\n\ngoal (1 subgoal):\n 1. \\<forall>w.\n       P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)", "by (rule product_complement_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. \\<exists>w. P w x \\<and> \\<not> O w y \\<Longrightarrow>\n    x \\<ominus> y = x \\<otimes> \\<midarrow> y", "thus \"(x \\<ominus> y) = x \\<otimes> (\\<midarrow>y)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (x \\<otimes> \\<midarrow> y) = (P w x \\<and> \\<not> O w y)\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = x \\<otimes> \\<midarrow> y", "by (rule difference_intro)"], ["proof (state)\nthis:\n  x \\<ominus> y = x \\<otimes> \\<midarrow> y\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open> Universe and difference closure entail complement closure, since the difference of an individual\nand the universe is the individual's complement. \\<close>"], ["", "locale CMUD = CMU + CMD +\n  assumes complement_eq: \"\\<midarrow>x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\"\nbegin"], ["", "lemma universe_difference:\n  \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<forall>w. P w (u \\<ominus> x) \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "assume \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "then"], ["proof (chain)\npicking this:\n  \\<exists>w. \\<not> O w x", "obtain w where w: \"\\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. (\\<And>w. \\<not> O w x \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "from universe_character"], ["proof (chain)\npicking this:\n  P ?x u", "have \"P w u\""], ["proof (prove)\nusing this:\n  P ?x u\n\ngoal (1 subgoal):\n 1. P w u", "."], ["proof (state)\nthis:\n  P w u\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "hence \"P w u \\<and> \\<not> O w x\""], ["proof (prove)\nusing this:\n  P w u\n\ngoal (1 subgoal):\n 1. P w u \\<and> \\<not> O w x", "using `\\<not> O w x`"], ["proof (prove)\nusing this:\n  P w u\n  \\<not> O w x\n\ngoal (1 subgoal):\n 1. P w u \\<and> \\<not> O w x", ".."], ["proof (state)\nthis:\n  P w u \\<and> \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "hence \"\\<exists>z. P z u \\<and> \\<not> O z x\""], ["proof (prove)\nusing this:\n  P w u \\<and> \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>z. P z u \\<and> \\<not> O z x", ".."], ["proof (state)\nthis:\n  \\<exists>z. P z u \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "hence ux: \"\\<forall>w. P w (u \\<ominus> x) \\<longleftrightarrow> (P w u \\<and> \\<not> O w x)\""], ["proof (prove)\nusing this:\n  \\<exists>z. P z u \\<and> \\<not> O z x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)", "by (rule difference_character)"], ["proof (state)\nthis:\n  \\<forall>w. P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "show \"\\<forall>w. P w (u \\<ominus> x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (u \\<ominus> x) = (\\<not> O w x)", "fix w"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>w. P w (u \\<ominus> x) = (\\<not> O w x)", "from ux"], ["proof (chain)\npicking this:\n  \\<forall>w. P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)", "have wux: \"P w (u \\<ominus> x) \\<longleftrightarrow> (P w u \\<and> \\<not> O w x)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n\ngoal (1 subgoal):\n 1. P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)", ".."], ["proof (state)\nthis:\n  P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>w. P w (u \\<ominus> x) = (\\<not> O w x)", "show \"P w (u \\<ominus> x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P w (u \\<ominus> x) = (\\<not> O w x)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. P w (u \\<ominus> x) \\<Longrightarrow> \\<not> O w x\n 2. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "assume \"P w (u \\<ominus> x)\""], ["proof (state)\nthis:\n  P w (u \\<ominus> x)\n\ngoal (2 subgoals):\n 1. P w (u \\<ominus> x) \\<Longrightarrow> \\<not> O w x\n 2. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "with wux"], ["proof (chain)\npicking this:\n  P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n  P w (u \\<ominus> x)", "have \"P w u \\<and> \\<not> O w x\""], ["proof (prove)\nusing this:\n  P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n  P w (u \\<ominus> x)\n\ngoal (1 subgoal):\n 1. P w u \\<and> \\<not> O w x", ".."], ["proof (state)\nthis:\n  P w u \\<and> \\<not> O w x\n\ngoal (2 subgoals):\n 1. P w (u \\<ominus> x) \\<Longrightarrow> \\<not> O w x\n 2. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "thus \"\\<not> O w x\""], ["proof (prove)\nusing this:\n  P w u \\<and> \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<not> O w x", ".."], ["proof (state)\nthis:\n  \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "assume \"\\<not> O w x\""], ["proof (state)\nthis:\n  \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "from universe_character"], ["proof (chain)\npicking this:\n  P ?x u", "have \"P w u\""], ["proof (prove)\nusing this:\n  P ?x u\n\ngoal (1 subgoal):\n 1. P w u", "."], ["proof (state)\nthis:\n  P w u\n\ngoal (1 subgoal):\n 1. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "hence \"P w u \\<and> \\<not> O w x\""], ["proof (prove)\nusing this:\n  P w u\n\ngoal (1 subgoal):\n 1. P w u \\<and> \\<not> O w x", "using `\\<not> O w x`"], ["proof (prove)\nusing this:\n  P w u\n  \\<not> O w x\n\ngoal (1 subgoal):\n 1. P w u \\<and> \\<not> O w x", ".."], ["proof (state)\nthis:\n  P w u \\<and> \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<not> O w x \\<Longrightarrow> P w (u \\<ominus> x)", "with wux"], ["proof (chain)\npicking this:\n  P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n  P w u \\<and> \\<not> O w x", "show \"P w (u \\<ominus> x)\""], ["proof (prove)\nusing this:\n  P w (u \\<ominus> x) = (P w u \\<and> \\<not> O w x)\n  P w u \\<and> \\<not> O w x\n\ngoal (1 subgoal):\n 1. P w (u \\<ominus> x)", ".."], ["proof (state)\nthis:\n  P w (u \\<ominus> x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P w (u \\<ominus> x) = (\\<not> O w x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem complement_closure: \n  \"(\\<exists>w. \\<not> O w x) \\<Longrightarrow> (\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "assume \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "hence \"\\<forall>w. P w (u \\<ominus> x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "by (rule universe_difference)"], ["proof (state)\nthis:\n  \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "thus \"\\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", ".."], ["proof (state)\nthis:\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "sublocale CMUD \\<subseteq> CMC"], ["proof (prove)\ngoal (1 subgoal):\n 1. CMC", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 2. \\<And>x.\n       \\<exists>w. \\<not> O w x \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "fix x y"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n 2. \\<And>x.\n       \\<exists>w. \\<not> O w x \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n 3. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "show \"\\<midarrow>x = (THE z. \\<forall>w. P w z \\<longleftrightarrow> (\\<not> O w x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "using complement_eq"], ["proof (prove)\nusing this:\n  \\<midarrow> ?x = (THE z. \\<forall>w. P w z = (\\<not> O w ?x))\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))", "."], ["proof (state)\nthis:\n  \\<midarrow> x = (THE z. \\<forall>w. P w z = (\\<not> O w x))\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<exists>w. \\<not> O w x \\<Longrightarrow>\n       \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n 2. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "show \"\\<exists>w. \\<not> O w x \\<Longrightarrow> \\<exists>z. \\<forall>w. P w z \\<longleftrightarrow> (\\<not> O w x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "using complement_closure"], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w ?x \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w ?x)\n\ngoal (1 subgoal):\n 1. \\<exists>w. \\<not> O w x \\<Longrightarrow>\n    \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)", "."], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x \\<Longrightarrow>\n  \\<exists>z. \\<forall>w. P w z = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       x \\<ominus> y =\n       (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "show \"x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "using difference_eq"], ["proof (prove)\nusing this:\n  ?x \\<ominus> ?y =\n  (THE z. \\<forall>w. P w z = (P w ?x \\<and> \\<not> O w ?y))\n\ngoal (1 subgoal):\n 1. x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))", "."], ["proof (state)\nthis:\n  x \\<ominus> y = (THE z. \\<forall>w. P w z = (P w x \\<and> \\<not> O w y))\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary (in CMUD) complement_universe_difference: \n  \"(\\<exists>y. \\<not> O y x) \\<Longrightarrow> \\<midarrow>x = (u \\<ominus> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y. \\<not> O y x \\<Longrightarrow> \\<midarrow> x = u \\<ominus> x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>y. \\<not> O y x \\<Longrightarrow> \\<midarrow> x = u \\<ominus> x", "assume \"\\<exists>w. \\<not> O w x\""], ["proof (state)\nthis:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<exists>y. \\<not> O y x \\<Longrightarrow> \\<midarrow> x = u \\<ominus> x", "hence \"\\<forall>w. P w (u \\<ominus> x) \\<longleftrightarrow> \\<not> O w x\""], ["proof (prove)\nusing this:\n  \\<exists>w. \\<not> O w x\n\ngoal (1 subgoal):\n 1. \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)", "by (rule universe_difference)"], ["proof (state)\nthis:\n  \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<exists>y. \\<not> O y x \\<Longrightarrow> \\<midarrow> x = u \\<ominus> x", "thus \" \\<midarrow>x = (u \\<ominus> x)\""], ["proof (prove)\nusing this:\n  \\<forall>w. P w (u \\<ominus> x) = (\\<not> O w x)\n\ngoal (1 subgoal):\n 1. \\<midarrow> x = u \\<ominus> x", "by (rule complement_intro)"], ["proof (state)\nthis:\n  \\<midarrow> x = u \\<ominus> x\n\ngoal:\nNo subgoals!", "qed"], ["", "(*<*)"], ["", "end"], ["", "(*>*)"]]}