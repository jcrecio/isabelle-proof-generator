{"file_name": "/home/qj213/afp-2021-10-22/thys/Cubic_Quartic_Equations/Ferraris_Formula.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Cubic_Quartic_Equations", "problem_names": ["lemma to_depressed_quartic: fixes a4 :: \"'a :: field_char_0\"\n  assumes a4: \"a4 \\<noteq> 0\" \n  and b: \"b = a3 / a4\" \n  and c: \"c = a2 / a4\" \n  and d: \"d = a1 / a4\" \n  and e: \"e = a0 / a4\" \n  and p: \"p = c - (3/8) * b^2\" \n  and q: \"q = (b^3 - 4*b*c + 8 * d) / 8\" \n  and r: \"r = ( -3 * b^4 + 256 * e - 64 * b * d + 16 * b^2 * c) / 256\" \n  and x: \"x = y - b/4\" \nshows \"a4 * x^4 + a3 * x^3 + a2 * x^2 + a1 * x + a0 = 0 \n  \\<longleftrightarrow> y^4 + p * y^2 + q * y + r = 0\"", "lemma biquadratic_solution: fixes p q :: \"'a :: field_char_0\"\n  shows \"y^4 + p * y^2 + q = 0 \\<longleftrightarrow> (\\<exists> z. z^2 + p * z + q = 0 \\<and> z = y^2)\"", "lemma depressed_quartic_Ferrari: fixes p q r :: \"'a :: field_char_0\" \n  assumes cubic_root: \"8*m^3 + (8 * p) * m^2 + (2 * p^2 - 8 * r) * m - q^2 = 0\" \n  and q0: \"q \\<noteq> 0\"  \\<comment> \\<open>otherwise m might be zero, so a is zero and then there is a division by zero in b1 and b2\\<close>\n  and sqrt: \"a * a = 2 * m\"  (* a = sqrt(2m), where the square-root might not be defined *)\n  and b1: \"b1 = p / 2 + m - q / (2 * a)\" \n  and b2: \"b2 = p / 2 + m + q / (2 * a)\" \n  shows \"y^4 + p * y^2 + q * y + r = 0 \\<longleftrightarrow> poly [:b1,a,1:] y = 0 \\<or> poly [:b2,-a,1:] y = 0\""], "translations": [["", "lemma to_depressed_quartic: fixes a4 :: \"'a :: field_char_0\"\n  assumes a4: \"a4 \\<noteq> 0\" \n  and b: \"b = a3 / a4\" \n  and c: \"c = a2 / a4\" \n  and d: \"d = a1 / a4\" \n  and e: \"e = a0 / a4\" \n  and p: \"p = c - (3/8) * b^2\" \n  and q: \"q = (b^3 - 4*b*c + 8 * d) / 8\" \n  and r: \"r = ( -3 * b^4 + 256 * e - 64 * b * d + 16 * b^2 * c) / 256\" \n  and x: \"x = y - b/4\" \nshows \"a4 * x^4 + a3 * x^3 + a2 * x^2 + a1 * x + a0 = 0 \n  \\<longleftrightarrow> y^4 + p * y^2 + q * y + r = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "have \"a4 * x^4 + a3 * x^3 + a2 * x^2 + a1 * x + a0 = 0 \\<longleftrightarrow>\n    (a4 * x^4 + a3 * x^3 + a2 * x^2 + a1 * x + a0) / a4 = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    ((a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n     (0::'a))", "using a4"], ["proof (prove)\nusing this:\n  a4 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    ((a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n     (0::'a))", "by auto"], ["proof (state)\nthis:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n  ((a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 = (0::'a))\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "also"], ["proof (state)\nthis:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n  ((a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 = (0::'a))\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "have \"(a4 * x^4 + a3 * x^3 + a2 * x^2 + a1 * x + a0) / a4\n    = x^4 + b * x^3 + c * x^2 + d * x + e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n    x ^ 4 + b * x ^ 3 + c * x\\<^sup>2 + d * x + e", "unfolding b c d e"], ["proof (prove)\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n    x ^ 4 + a3 / a4 * x ^ 3 + a2 / a4 * x\\<^sup>2 + a1 / a4 * x + a0 / a4", "using a4"], ["proof (prove)\nusing this:\n  a4 \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n    x ^ 4 + a3 / a4 * x ^ 3 + a2 / a4 * x\\<^sup>2 + a1 / a4 * x + a0 / a4", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n  x ^ 4 + b * x ^ 3 + c * x\\<^sup>2 + d * x + e\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "also"], ["proof (state)\nthis:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0) / a4 =\n  x ^ 4 + b * x ^ 3 + c * x\\<^sup>2 + d * x + e\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "have \"\\<dots> = y^4 + p * y^2 + q * y + r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x ^ 4 + b * x ^ 3 + c * x\\<^sup>2 + d * x + e =\n    y ^ 4 + p * y\\<^sup>2 + q * y + r", "unfolding x p q r"], ["proof (prove)\ngoal (1 subgoal):\n 1. (y - b / (4::'a)) ^ 4 + b * (y - b / (4::'a)) ^ 3 +\n    c * (y - b / (4::'a))\\<^sup>2 +\n    d * (y - b / (4::'a)) +\n    e =\n    y ^ 4 + (c - (3::'a) / (8::'a) * b\\<^sup>2) * y\\<^sup>2 +\n    (b ^ 3 - (4::'a) * b * c + (8::'a) * d) / (8::'a) * y +\n    (- (3::'a) * b ^ 4 + (256::'a) * e - (64::'a) * b * d +\n     (16::'a) * b\\<^sup>2 * c) /\n    (256::'a)", "by (simp add: field_simps power4_eq_xxxx power3_eq_cube power2_eq_square)"], ["proof (state)\nthis:\n  x ^ 4 + b * x ^ 3 + c * x\\<^sup>2 + d * x + e =\n  y ^ 4 + p * y\\<^sup>2 + q * y + r\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "finally"], ["proof (chain)\npicking this:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "show ?thesis"], ["proof (prove)\nusing this:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))\n\ngoal (1 subgoal):\n 1. (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n    (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))", "."], ["proof (state)\nthis:\n  (a4 * x ^ 4 + a3 * x ^ 3 + a2 * x\\<^sup>2 + a1 * x + a0 = (0::'a)) =\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma biquadratic_solution: fixes p q :: \"'a :: field_char_0\"\n  shows \"y^4 + p * y^2 + q = 0 \\<longleftrightarrow> (\\<exists> z. z^2 + p * z + q = 0 \\<and> z = y^2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q = (0::'a)) =\n    (\\<exists>z. z\\<^sup>2 + p * z + q = (0::'a) \\<and> z = y\\<^sup>2)", "by (auto simp: field_simps power4_eq_xxxx power2_eq_square)"], ["", "subsection \\<open>Solving the depressed case via Ferrari's formula\\<close>"], ["", "lemma depressed_quartic_Ferrari: fixes p q r :: \"'a :: field_char_0\" \n  assumes cubic_root: \"8*m^3 + (8 * p) * m^2 + (2 * p^2 - 8 * r) * m - q^2 = 0\" \n  and q0: \"q \\<noteq> 0\"  \\<comment> \\<open>otherwise m might be zero, so a is zero and then there is a division by zero in b1 and b2\\<close>\n  and sqrt: \"a * a = 2 * m\"  (* a = sqrt(2m), where the square-root might not be defined *)\n  and b1: \"b1 = p / 2 + m - q / (2 * a)\" \n  and b2: \"b2 = p / 2 + m + q / (2 * a)\" \n  shows \"y^4 + p * y^2 + q * y + r = 0 \\<longleftrightarrow> poly [:b1,a,1:] y = 0 \\<or> poly [:b2,-a,1:] y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "let ?N = \"y^2 + p / 2 + m\""], ["proof (state)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "let ?M = \"a * y - q / (2 * a)\""], ["proof (state)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "from cubic_root q0"], ["proof (chain)\npicking this:\n  (8::'a) * m ^ 3 + (8::'a) * p * m\\<^sup>2 +\n  ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m -\n  q\\<^sup>2 =\n  (0::'a)\n  q \\<noteq> (0::'a)", "have m0: \"m \\<noteq> 0\""], ["proof (prove)\nusing this:\n  (8::'a) * m ^ 3 + (8::'a) * p * m\\<^sup>2 +\n  ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m -\n  q\\<^sup>2 =\n  (0::'a)\n  q \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. m \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  m \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "from sqrt m0"], ["proof (chain)\npicking this:\n  a * a = (2::'a) * m\n  m \\<noteq> (0::'a)", "have a0: \"a \\<noteq> 0\""], ["proof (prove)\nusing this:\n  a * a = (2::'a) * m\n  m \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. a \\<noteq> (0::'a)", "by auto"], ["proof (state)\nthis:\n  a \\<noteq> (0::'a)\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "define N where \"N = ?N\""], ["proof (state)\nthis:\n  N = y\\<^sup>2 + p / (2::'a) + m\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "define M where \"M = ?M\""], ["proof (state)\nthis:\n  M = a * y - q / ((2::'a) * a)\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "note powers = field_simps power4_eq_xxxx power3_eq_cube power2_eq_square"], ["proof (state)\nthis:\n  ?a + ?b + ?c = ?a + (?b + ?c)\n  ?a + ?b = ?b + ?a\n  ?b + (?a + ?c) = ?a + (?b + ?c)\n  ?a * ?b * ?c = ?a * (?b * ?c)\n  ?a * ?b = ?b * ?a\n  ?b * (?a * ?c) = ?a * (?b * ?c)\n  ?a - ?b - ?c = ?a - (?b + ?c)\n  ?a + (?b - ?c) = ?a + ?b - ?c\n  (?a - ?b = ?c) = (?a = ?c + ?b)\n  (?a = ?c - ?b) = (?a + ?b = ?c)\n  ?a - (?b - ?c) = ?a + ?c - ?b\n  ?a - ?b + ?c = ?a + ?c - ?b\n  (?a - ?b < ?c) = (?a < ?c + ?b)\n  (?a < ?c - ?b) = (?a + ?b < ?c)\n  (?a - ?b \\<le> ?c) = (?a \\<le> ?c + ?b)\n  (?a \\<le> ?c - ?b) = (?a + ?b \\<le> ?c)\n  NO_MATCH (?x div ?y) ?a \\<Longrightarrow>\n  ?a * (?b + ?c) = ?a * ?b + ?a * ?c\n  NO_MATCH (?x div ?y) ?c \\<Longrightarrow>\n  (?a + ?b) * ?c = ?a * ?c + ?b * ?c\n  NO_MATCH (?x div ?y) ?c \\<Longrightarrow>\n  (?a - ?b) * ?c = ?a * ?c - ?b * ?c\n  NO_MATCH (?x div ?y) ?a \\<Longrightarrow>\n  ?a * (?b - ?c) = ?a * ?b - ?a * ?c\n  inverse ?a = (1::?'a) / ?a\n  ?c \\<noteq> (0::?'a) \\<Longrightarrow> (?a = ?b / ?c) = (?a * ?c = ?b)\n  ?c \\<noteq> (0::?'a) \\<Longrightarrow> (?b / ?c = ?a) = (?b = ?a * ?c)\n  ?b \\<noteq> (0::?'a) \\<Longrightarrow>\n  (- (?a / ?b) = ?c) = (- ?a = ?c * ?b)\n  ?b \\<noteq> (0::?'a) \\<Longrightarrow>\n  (?c = - (?a / ?b)) = (?c * ?b = - ?a)\n  ?z \\<noteq> (0::?'a) \\<Longrightarrow> ?x + ?y / ?z = (?x * ?z + ?y) / ?z\n  ?z \\<noteq> (0::?'a) \\<Longrightarrow> ?x / ?z + ?y = (?x + ?y * ?z) / ?z\n  ?z \\<noteq> (0::?'a) \\<Longrightarrow> ?x - ?y / ?z = (?x * ?z - ?y) / ?z\n  ?z \\<noteq> (0::?'a) \\<Longrightarrow>\n  - (?x / ?z) + ?y = (- ?x + ?y * ?z) / ?z\n  ?z \\<noteq> (0::?'a) \\<Longrightarrow> ?x / ?z - ?y = (?x - ?y * ?z) / ?z\n  ?z \\<noteq> (0::?'a) \\<Longrightarrow>\n  - (?x / ?z) - ?y = (- ?x - ?y * ?z) / ?z\n  (0::?'a) < ?c \\<Longrightarrow> (?a \\<le> ?b / ?c) = (?a * ?c \\<le> ?b)\n  (0::?'a) < ?c \\<Longrightarrow> (?a < ?b / ?c) = (?a * ?c < ?b)\n  ?c < (0::?'a) \\<Longrightarrow> (?a < ?b / ?c) = (?b < ?a * ?c)\n  ?c < (0::?'a) \\<Longrightarrow> (?a \\<le> ?b / ?c) = (?b \\<le> ?a * ?c)\n  (0::?'a) < ?c \\<Longrightarrow> (?b / ?c \\<le> ?a) = (?b \\<le> ?a * ?c)\n  (0::?'a) < ?c \\<Longrightarrow> (?b / ?c < ?a) = (?b < ?a * ?c)\n  ?c < (0::?'a) \\<Longrightarrow> (?b / ?c \\<le> ?a) = (?a * ?c \\<le> ?b)\n  ?c < (0::?'a) \\<Longrightarrow> (?b / ?c < ?a) = (?a * ?c < ?b)\n  (0::?'a) < ?c \\<Longrightarrow>\n  (?a \\<le> - (?b / ?c)) = (?a * ?c \\<le> - ?b)\n  ?c < (0::?'a) \\<Longrightarrow>\n  (?a \\<le> - (?b / ?c)) = (- ?b \\<le> ?a * ?c)\n  (0::?'a) < ?c \\<Longrightarrow> (?a < - (?b / ?c)) = (?a * ?c < - ?b)\n  ?c < (0::?'a) \\<Longrightarrow> (?a < - (?b / ?c)) = (- ?b < ?a * ?c)\n  (0::?'a) < ?c \\<Longrightarrow> (- (?b / ?c) < ?a) = (- ?b < ?a * ?c)\n  ?c < (0::?'a) \\<Longrightarrow> (- (?b / ?c) < ?a) = (?a * ?c < - ?b)\n  (0::?'a) < ?c \\<Longrightarrow>\n  (- (?b / ?c) \\<le> ?a) = (- ?b \\<le> ?a * ?c)\n  ?c < (0::?'a) \\<Longrightarrow>\n  (- (?b / ?c) \\<le> ?a) = (?a * ?c \\<le> - ?b)\n  (?a * ?b) ^ ?n = ?a ^ ?n * ?b ^ ?n\n  inverse ?a ^ ?n = inverse (?a ^ ?n)\n  ((1::?'a) / ?a) ^ ?n = (1::?'a) / ?a ^ ?n\n  (?a / ?b) ^ ?n = ?a ^ ?n / ?b ^ ?n\n  inverse ?x powi ?n = inverse (?x powi ?n)\n  ((1::?'a) / ?x) powi ?n = (1::?'a) / ?x powi ?n\n  NO_MATCH (?x div ?y) ?c \\<Longrightarrow>\n  (?a + ?b) *\\<^sub>R ?x = ?a *\\<^sub>R ?x + ?b *\\<^sub>R ?x\n  NO_MATCH (?x div ?y) ?a \\<Longrightarrow>\n  ?a *\\<^sub>R (?x + ?y) = ?a *\\<^sub>R ?x + ?a *\\<^sub>R ?y\n  NO_MATCH (?x div ?y) ?c \\<Longrightarrow>\n  (?a - ?b) *\\<^sub>R ?x = ?a *\\<^sub>R ?x - ?b *\\<^sub>R ?x\n  NO_MATCH (?x div ?y) ?a \\<Longrightarrow>\n  ?a *\\<^sub>R (?x - ?y) = ?a *\\<^sub>R ?x - ?a *\\<^sub>R ?y\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  (?a = ?b /\\<^sub>R ?c) = (?c *\\<^sub>R ?a = ?b)\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  (?b /\\<^sub>R ?c = ?a) = (?b = ?c *\\<^sub>R ?a)\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  ?a + ?b /\\<^sub>R ?c = (?c *\\<^sub>R ?a + ?b) /\\<^sub>R ?c\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  ?a /\\<^sub>R ?c + ?b = (?a + ?c *\\<^sub>R ?b) /\\<^sub>R ?c\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  ?a - ?b /\\<^sub>R ?c = (?c *\\<^sub>R ?a - ?b) /\\<^sub>R ?c\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  ?a /\\<^sub>R ?c - ?b = (?a - ?c *\\<^sub>R ?b) /\\<^sub>R ?c\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  - (?a /\\<^sub>R ?c) + ?b = (- ?a + ?c *\\<^sub>R ?b) /\\<^sub>R ?c\n  ?c \\<noteq> 0 \\<Longrightarrow>\n  - (?a /\\<^sub>R ?c) - ?b = (- ?a - ?c *\\<^sub>R ?b) /\\<^sub>R ?c\n  0 < ?c \\<Longrightarrow>\n  (?a \\<le> ?b /\\<^sub>R ?c) = (?c *\\<^sub>R ?a \\<le> ?b)\n  0 < ?c \\<Longrightarrow> (?a < ?b /\\<^sub>R ?c) = (?c *\\<^sub>R ?a < ?b)\n  0 < ?c \\<Longrightarrow>\n  (?b /\\<^sub>R ?c \\<le> ?a) = (?b \\<le> ?c *\\<^sub>R ?a)\n  0 < ?c \\<Longrightarrow> (?b /\\<^sub>R ?c < ?a) = (?b < ?c *\\<^sub>R ?a)\n  0 < ?c \\<Longrightarrow>\n  (?a \\<le> - (?b /\\<^sub>R ?c)) = (?c *\\<^sub>R ?a \\<le> - ?b)\n  0 < ?c \\<Longrightarrow>\n  (?a < - (?b /\\<^sub>R ?c)) = (?c *\\<^sub>R ?a < - ?b)\n  0 < ?c \\<Longrightarrow>\n  (- (?b /\\<^sub>R ?c) \\<le> ?a) = (- ?b \\<le> ?c *\\<^sub>R ?a)\n  0 < ?c \\<Longrightarrow>\n  (- (?b /\\<^sub>R ?c) < ?a) = (- ?b < ?c *\\<^sub>R ?a)\n  ?c < 0 \\<Longrightarrow>\n  (?a \\<le> ?b /\\<^sub>R ?c) = (?b \\<le> ?c *\\<^sub>R ?a)\n  ?c < 0 \\<Longrightarrow> (?a < ?b /\\<^sub>R ?c) = (?b < ?c *\\<^sub>R ?a)\n  ?c < 0 \\<Longrightarrow>\n  (?b /\\<^sub>R ?c \\<le> ?a) = (?c *\\<^sub>R ?a \\<le> ?b)\n  ?c < 0 \\<Longrightarrow> (?b /\\<^sub>R ?c < ?a) = (?c *\\<^sub>R ?a < ?b)\n  ?c < 0 \\<Longrightarrow>\n  (?a \\<le> - (?b /\\<^sub>R ?c)) = (- ?b \\<le> ?c *\\<^sub>R ?a)\n  ?c < 0 \\<Longrightarrow>\n  (?a < - (?b /\\<^sub>R ?c)) = (- ?b < ?c *\\<^sub>R ?a)\n  ?c < 0 \\<Longrightarrow>\n  (- (?b /\\<^sub>R ?c) \\<le> ?a) = (?c *\\<^sub>R ?a \\<le> - ?b)\n  ?c < 0 \\<Longrightarrow>\n  (- (?b /\\<^sub>R ?c) < ?a) = (?c *\\<^sub>R ?a < - ?b)\n  ?x ^ 4 = ?x * ?x * ?x * ?x\n  ?a ^ 3 = ?a * ?a * ?a\n  ?a\\<^sup>2 = ?a * ?a\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "from cubic_root"], ["proof (chain)\npicking this:\n  (8::'a) * m ^ 3 + (8::'a) * p * m\\<^sup>2 +\n  ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m -\n  q\\<^sup>2 =\n  (0::'a)", "have \"8*m^3 = - (8 * p) * m^2 - (2 * p^2 - 8 * r) * m + q^2\""], ["proof (prove)\nusing this:\n  (8::'a) * m ^ 3 + (8::'a) * p * m\\<^sup>2 +\n  ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m -\n  q\\<^sup>2 =\n  (0::'a)\n\ngoal (1 subgoal):\n 1. (8::'a) * m ^ 3 =\n    - ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n    q\\<^sup>2", "by (simp add: powers)"], ["proof (state)\nthis:\n  (8::'a) * m ^ 3 =\n  - ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n  q\\<^sup>2\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "from arg_cong[OF this, of \"(*) 4\"]"], ["proof (chain)\npicking this:\n  (4::'a) * ((8::'a) * m ^ 3) =\n  (4::'a) *\n  (- ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n   q\\<^sup>2)", "have id: \"32 * m^3 = 4 * (- (8 * p) * m^2 - (2 * p^2 - 8 * r) * m + q^2)\""], ["proof (prove)\nusing this:\n  (4::'a) * ((8::'a) * m ^ 3) =\n  (4::'a) *\n  (- ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n   q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (32::'a) * m ^ 3 =\n    (4::'a) *\n    (- ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n     q\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  (32::'a) * m ^ 3 =\n  (4::'a) *\n  (- ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n   q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "let ?add = \"2 * y^2 * m + p * m + m^2\""], ["proof (state)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"y^4 + p * y^2 + q * y + r = 0 \\<longleftrightarrow>\n      (y^2 + p / 2)^2 = -q * y - r + p^2 / 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 = - q * y - r + p\\<^sup>2 / (4::'a))", "by (simp add: powers, algebra)"], ["proof (state)\nthis:\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 = - q * y - r + p\\<^sup>2 / (4::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 = - q * y - r + p\\<^sup>2 / (4::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"\\<dots> \\<longleftrightarrow> (y^2 + p / 2)^2 + ?add = -q * y - r + p^2 / 4 + ?add\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 =\n     - q * y - r + p\\<^sup>2 / (4::'a)) =\n    ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 +\n     ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2) =\n     - q * y - r + p\\<^sup>2 / (4::'a) +\n     ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2))", "by simp"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 = - q * y - r + p\\<^sup>2 / (4::'a)) =\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2) =\n   - q * y - r + p\\<^sup>2 / (4::'a) +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 = - q * y - r + p\\<^sup>2 / (4::'a)) =\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2) =\n   - q * y - r + p\\<^sup>2 / (4::'a) +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"\\<dots> \\<longleftrightarrow> ?N^2 = 2 * m * y^2 - q * y + m^2 + m * p + p^2 / 4 - r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 +\n     ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2) =\n     - q * y - r + p\\<^sup>2 / (4::'a) +\n     ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2)) =\n    ((y\\<^sup>2 + p / (2::'a) + m)\\<^sup>2 =\n     (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n     p\\<^sup>2 / (4::'a) -\n     r)", "by (simp add: powers)"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2) =\n   - q * y - r + p\\<^sup>2 / (4::'a) +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2)) =\n  ((y\\<^sup>2 + p / (2::'a) + m)\\<^sup>2 =\n   (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n   p\\<^sup>2 / (4::'a) -\n   r)\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a))\\<^sup>2 +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2) =\n   - q * y - r + p\\<^sup>2 / (4::'a) +\n   ((2::'a) * y\\<^sup>2 * m + p * m + m\\<^sup>2)) =\n  ((y\\<^sup>2 + p / (2::'a) + m)\\<^sup>2 =\n   (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n   p\\<^sup>2 / (4::'a) -\n   r)\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"2 * m * y^2 - q * y + m^2 + m * p + p^2 / 4 - r = \n         ?M ^ 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n    p\\<^sup>2 / (4::'a) -\n    r =\n    (a * y - q / ((2::'a) * a))\\<^sup>2", "using m0 id a0 sqrt"], ["proof (prove)\nusing this:\n  m \\<noteq> (0::'a)\n  (32::'a) * m ^ 3 =\n  (4::'a) *\n  (- ((8::'a) * p) * m\\<^sup>2 - ((2::'a) * p\\<^sup>2 - (8::'a) * r) * m +\n   q\\<^sup>2)\n  a \\<noteq> (0::'a)\n  a * a = (2::'a) * m\n\ngoal (1 subgoal):\n 1. (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n    p\\<^sup>2 / (4::'a) -\n    r =\n    (a * y - q / ((2::'a) * a))\\<^sup>2", "by (simp add: powers, algebra)"], ["proof (state)\nthis:\n  (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n  p\\<^sup>2 / (4::'a) -\n  r =\n  (a * y - q / ((2::'a) * a))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  (2::'a) * m * y\\<^sup>2 - q * y + m\\<^sup>2 + m * p +\n  p\\<^sup>2 / (4::'a) -\n  r =\n  (a * y - q / ((2::'a) * a))\\<^sup>2\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"?N^2 = ?M^2 \\<longleftrightarrow> (?N + ?M) * (?N - ?M) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((y\\<^sup>2 + p / (2::'a) + m)\\<^sup>2 =\n     (a * y - q / ((2::'a) * a))\\<^sup>2) =\n    ((y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a))) *\n     (y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a))) =\n     (0::'a))", "unfolding N_def[symmetric] M_def[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (N\\<^sup>2 = M\\<^sup>2) = ((N + M) * (N - M) = (0::'a))", "by algebra"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a) + m)\\<^sup>2 =\n   (a * y - q / ((2::'a) * a))\\<^sup>2) =\n  ((y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a))) *\n   (y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a))) =\n   (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a) + m)\\<^sup>2 =\n   (a * y - q / ((2::'a) * a))\\<^sup>2) =\n  ((y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a))) *\n   (y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a))) =\n   (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"\\<dots> \\<longleftrightarrow> ?N + ?M = 0 \\<or> ?N - ?M = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a))) *\n     (y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a))) =\n     (0::'a)) =\n    (y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a)) =\n     (0::'a) \\<or>\n     y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a)) = (0::'a))", "by simp"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a))) *\n   (y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a))) =\n   (0::'a)) =\n  (y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a)) = (0::'a) \\<or>\n   y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a)) = (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  ((y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a))) *\n   (y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a))) =\n   (0::'a)) =\n  (y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a)) = (0::'a) \\<or>\n   y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a)) = (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"?N + ?M = y\\<^sup>2 + a * y + b1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a)) =\n    y\\<^sup>2 + a * y + b1", "by (simp add: b1)"], ["proof (state)\nthis:\n  y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a)) =\n  y\\<^sup>2 + a * y + b1\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  y\\<^sup>2 + p / (2::'a) + m + (a * y - q / ((2::'a) * a)) =\n  y\\<^sup>2 + a * y + b1\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"?N - ?M = y\\<^sup>2 - a * y + b2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a)) =\n    y\\<^sup>2 - a * y + b2", "by (simp add: b2)"], ["proof (state)\nthis:\n  y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a)) =\n  y\\<^sup>2 - a * y + b2\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  y\\<^sup>2 + p / (2::'a) + m - (a * y - q / ((2::'a) * a)) =\n  y\\<^sup>2 - a * y + b2\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"y\\<^sup>2 + a * y + b1 = 0 \\<longleftrightarrow> poly [:b1,a,1:] y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y\\<^sup>2 + a * y + b1 = (0::'a)) = (poly [:b1, a, 1::'a:] y = (0::'a))", "by (simp add: powers)"], ["proof (state)\nthis:\n  (y\\<^sup>2 + a * y + b1 = (0::'a)) = (poly [:b1, a, 1::'a:] y = (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "also"], ["proof (state)\nthis:\n  (y\\<^sup>2 + a * y + b1 = (0::'a)) = (poly [:b1, a, 1::'a:] y = (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "have \"y\\<^sup>2 - a * y + b2 = 0 \\<longleftrightarrow> poly [:b2,-a,1:] y = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y\\<^sup>2 - a * y + b2 = (0::'a)) =\n    (poly [:b2, - a, 1::'a:] y = (0::'a))", "by (simp add: powers)"], ["proof (state)\nthis:\n  (y\\<^sup>2 - a * y + b2 = (0::'a)) = (poly [:b2, - a, 1::'a:] y = (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "finally"], ["proof (chain)\npicking this:\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n  (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n   poly [:b2, - a, 1::'a:] y = (0::'a))", "show ?thesis"], ["proof (prove)\nusing this:\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n  (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n   poly [:b2, - a, 1::'a:] y = (0::'a))\n\ngoal (1 subgoal):\n 1. (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n    (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n     poly [:b2, - a, 1::'a:] y = (0::'a))", "."], ["proof (state)\nthis:\n  (y ^ 4 + p * y\\<^sup>2 + q * y + r = (0::'a)) =\n  (poly [:b1, a, 1::'a:] y = (0::'a) \\<or>\n   poly [:b2, - a, 1::'a:] y = (0::'a))\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}