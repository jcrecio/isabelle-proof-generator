{"file_name": "/home/qj213/afp-2021-10-22/thys/Bicategory/InternalEquivalence.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Bicategory", "problem_names": ["lemma antipar (*[simp]*):\n    shows \"trg g = src f\" and \"src g = trg f\"", "lemma counit_in_hom [intro]:\n    shows \"\\<guillemotleft>\\<epsilon> : trg f \\<rightarrow> trg f\\<guillemotright>\" and \"\\<guillemotleft>\\<epsilon> : f \\<star> g \\<Rightarrow> trg f\\<guillemotright>\"", "lemma unit_in_hom [intro]:\n    shows \"\\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>\" and \"\\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\"", "lemma unit_simps [simp]:\n    shows \"arr \\<eta>\" and \"dom \\<eta> = src f\" and \"cod \\<eta> = g \\<star> f\"\n    and \"src \\<eta> = src f\" and \"trg \\<eta> = src f\"", "lemma counit_simps [simp]:\n    shows \"arr \\<epsilon>\" and \"dom \\<epsilon> = f \\<star> g\" and \"cod \\<epsilon> = trg f\"\n    and \"src \\<epsilon> = trg f\" and \"trg \\<epsilon> = trg f\"", "lemma triangle_in_hom:\n    shows \"\\<guillemotleft>(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) : f \\<star> src f \\<Rightarrow> trg f \\<star> f\\<guillemotright>\"\n    and \"\\<guillemotleft>(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) : trg g \\<star> g \\<Rightarrow> g \\<star> src g\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> f\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g\\<guillemotright>\"", "lemma triangle_equiv_form:\n    shows \"(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) = \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<longleftrightarrow>\n           \\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] = f\"\n    and \"(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<longleftrightarrow>\n         \\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] = g\"", "lemma dual_equivalence:\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg g f (inv \\<epsilon>) (inv \\<eta>)\"", "lemma quasi_inversesI:\n    assumes \"ide f\" and \"ide g\"\n    and \"src f \\<cong> g \\<star> f\" and \"f \\<star> g \\<cong> trg f\"\n    shows \"quasi_inverses f g\"", "lemma quasi_inversesE:\n    assumes \"quasi_inverses f g\"\n    and \"\\<lbrakk>ide f; ide g; src f \\<cong> g \\<star> f; f \\<star> g \\<cong> trg f\\<rbrakk> \\<Longrightarrow> T\"\n    shows T", "lemma quasi_inverse_unique:\n    assumes \"quasi_inverses f g\" and \"quasi_inverses f g'\"\n    shows \"isomorphic g g'\"", "lemma quasi_inverses_symmetric:\n    assumes \"quasi_inverses f g\"\n    shows \"quasi_inverses g f\"", "lemma equivalence_mapI:\n    assumes \"quasi_inverses f g\"\n    shows \"equivalence_map f\"", "lemma equivalence_mapE:\n    assumes \"equivalence_map f\"\n    obtains g where \"quasi_inverses f g\"", "lemma equivalence_map_is_ide:\n    assumes \"equivalence_map f\"\n    shows \"ide f\"", "lemma obj_is_equivalence_map:\n    assumes \"obj a\"\n    shows \"equivalence_map a\"", "lemma equivalence_respects_iso:\n    assumes \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\"\n    and \"\\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\" and \"iso \\<phi>\" and \"\\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\" and \"iso \\<psi>\"\n    shows \"internal_equivalence f' g' ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> inv \\<psi>))\"", "lemma equivalence_map_preserved_by_iso:\n    assumes \"equivalence_map f\" and \"f \\<cong> f'\"\n    shows \"equivalence_map f'\"", "lemma equivalence_preserved_by_iso_right:\n    assumes \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\"\n    and \"\\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\" and \"iso \\<phi>\"\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g' ((\\<phi> \\<star> f) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (f \\<star> inv \\<phi>))\"", "lemma equivalence_preserved_by_iso_left:\n    assumes \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\"\n    and \"\\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\" and \"iso \\<phi>\"\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg f' g ((g \\<star> \\<phi>) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g))\"", "lemma quasi_inverses_some_quasi_inverse:\n    assumes \"equivalence_map f\"\n    shows \"quasi_inverses f f\\<^sup>~\"\n    and \"quasi_inverses f\\<^sup>~ f\"", "lemma quasi_inverse_antipar:\n    assumes \"equivalence_map f\"\n    shows \"src f\\<^sup>~ = trg f\" and \"trg f\\<^sup>~ = src f\"", "lemma quasi_inverse_in_hom [intro]:\n    assumes \"equivalence_map f\"\n    shows \"\\<guillemotleft>f\\<^sup>~ : trg f \\<rightarrow> src f\\<guillemotright>\"\n    and \"\\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>\"", "lemma quasi_inverse_simps [simp]:\n    assumes \"equivalence_map f\"\n    shows \"equivalence_map f\\<^sup>~\" and \"ide f\\<^sup>~\"\n    and \"src f\\<^sup>~ = trg f\" and \"trg f\\<^sup>~ = src f\"\n    and \"dom f\\<^sup>~ = f\\<^sup>~\" and \"cod f\\<^sup>~ = f\\<^sup>~\"", "lemma quasi_inverse_quasi_inverse:\n    assumes \"equivalence_map f\"\n    shows \"(f\\<^sup>~)\\<^sup>~ \\<cong> f\"", "lemma comp_quasi_inverse:\n    assumes \"equivalence_map f\"\n    shows \"f\\<^sup>~ \\<star> f \\<cong> src f\" and \"f \\<star> f\\<^sup>~ \\<cong> trg f\"", "lemma quasi_inverse_transpose:\n    assumes \"ide f\" and \"ide g\" and \"ide h\" and \"f \\<star> g \\<cong> h\"\n    shows \"equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~\"\n    and \"equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h\"", "lemma is_equivalence:\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>\"", "lemma equivalence_maps_compose:\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"src f' = trg f\"\n    shows \"equivalence_map (f' \\<star> f)\"", "lemma quasi_inverse_hcomp':\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"equivalence_map (f \\<star> f')\"\n    and \"quasi_inverses f g\" and \"quasi_inverses f' g'\"\n    shows \"quasi_inverses (f \\<star> f') (g' \\<star> g)\"", "lemma quasi_inverse_hcomp:\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"equivalence_map (f \\<star> f')\"\n    shows \"(f \\<star> f')\\<^sup>~ \\<cong> f'\\<^sup>~ \\<star> f\\<^sup>~\"", "lemma quasi_inverse_respects_isomorphic:\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"f \\<cong> f'\"\n    shows \"f\\<^sup>~ \\<cong> f'\\<^sup>~\"", "lemma equivalent_objects_reflexive:\n    assumes \"obj a\"\n    shows \"equivalent_objects a a\"", "lemma equivalent_objects_symmetric:\n    assumes \"equivalent_objects a b\"\n    shows \"equivalent_objects b a\"", "lemma equivalent_objects_transitive [trans]:\n    assumes \"equivalent_objects a b\" and \"equivalent_objects b c\"\n    shows \"equivalent_objects a c\"", "lemma \\<phi>\\<^sub>0_in_hom:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"\\<guillemotleft>\\<phi>\\<^sub>0 f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<phi>\\<^sub>0 f : f \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\"", "lemma iso_\\<phi>\\<^sub>0:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"iso (\\<phi>\\<^sub>0 f)\"", "lemma transformation_by_components_\\<phi>\\<^sub>0:\n    shows \"transformation_by_components hom.comp hom.comp hom.map (G o F) \\<phi>\\<^sub>0\"", "lemma natural_isomorphism_\\<phi>:\n    shows \"natural_isomorphism hom.comp hom.comp hom.map (G o F) \\<phi>.map\"", "lemma \\<phi>_ide_simp:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"\\<phi> f = \\<phi>\\<^sub>0 f\"", "lemma \\<phi>_components_are_iso:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"iso (\\<phi> f)\"", "lemma \\<phi>_eq:\n    shows \"\\<phi> = (\\<lambda>\\<mu>. if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> then \\<phi>\\<^sub>0 (cod \\<mu>) \\<cdot> \\<mu> else null)\"", "lemma \\<phi>_in_hom [intro]:\n    assumes \"\\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    shows \"\\<guillemotleft>\\<phi> \\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<phi> \\<mu> : dom \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\"", "lemma \\<phi>_simps [simp]:\n    assumes \"\\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    shows \"arr (\\<phi> \\<mu>)\"\n    and \"src (\\<phi> \\<mu>) = src e\\<^sub>0\" and \"trg (\\<phi> \\<mu>) = src e\\<^sub>1\"\n    and \"dom (\\<phi> \\<mu>) = dom \\<mu>\" and \"cod (\\<phi> \\<mu>) = d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\"", "lemma \\<psi>_ide_simp:\n    assumes \"\\<guillemotleft>f': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\" and \"ide f'\"\n    shows \"\\<psi> f' = \\<r>[f'] \\<cdot> \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot> ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot> (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\"", "lemma \\<psi>_components_are_iso:\n    assumes \"\\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\" and \"ide f'\"\n    shows \"iso (\\<psi> f')\"", "lemma \\<psi>_eq:\n    shows \"\\<psi> = (\\<lambda>\\<mu>'. if \\<guillemotleft>\\<mu>': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> then\n                          \\<mu>' \\<cdot> \\<r>[dom \\<mu>'] \\<cdot> \\<l>[dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n                            ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot>\n                            (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n                     else null)\"", "lemma \\<psi>_in_hom [intro]:\n    assumes \"\\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\"\n    shows \"\\<guillemotleft>\\<psi> \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<psi> \\<mu>' : e\\<^sub>1 \\<star> (d\\<^sub>1 \\<star> dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0 \\<Rightarrow> cod \\<mu>'\\<guillemotright>\"", "lemma \\<psi>_simps [simp]:\n    assumes \"\\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\"\n    shows \"arr (\\<psi> \\<mu>')\"\n    and \"src (\\<psi> \\<mu>') = trg e\\<^sub>0\" and \"trg (\\<psi> \\<mu>') = trg e\\<^sub>1\"\n    and \"dom (\\<psi> \\<mu>') = e\\<^sub>1 \\<star> (d\\<^sub>1 \\<star> dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0\" and \"cod (\\<psi> \\<mu>') = cod \\<mu>'\"", "lemma induces_equivalence_of_hom_categories:\n    shows \"equivalence_of_categories hom'.comp hom.comp F G \\<phi> \\<psi>\"", "lemma equivalence_functor_F:\n    shows \"equivalence_functor hom.comp hom'.comp F\"", "lemma equivalence_functor_G:\n    shows \"equivalence_functor hom'.comp hom.comp G\"", "lemma equivalence_cancel_left:\n    assumes \"equivalence_map e\"\n    and \"par \\<mu> \\<mu>'\" and \"src e = trg \\<mu>\" and \"e \\<star> \\<mu> = e \\<star> \\<mu>'\"\n    shows \"\\<mu> = \\<mu>'\"", "lemma equivalence_cancel_right:\n    assumes \"equivalence_map e\"\n    and \"par \\<mu> \\<mu>'\" and \"src \\<mu> = trg e\" and \"\\<mu> \\<star> e = \\<mu>' \\<star> e\"\n    shows \"\\<mu> = \\<mu>'\"", "lemma equivalence_isomorphic_cancel_left:\n    assumes \"equivalence_map e\" and \"ide f\" and \"ide f'\"\n    and \"src f = src f'\" and \"src e = trg f\" and \"e \\<star> f \\<cong> e \\<star> f'\"\n    shows \"f \\<cong> f'\"", "lemma equivalence_isomorphic_cancel_right:\n    assumes \"equivalence_map e\" and \"ide f\" and \"ide f'\"\n    and \"trg f = trg f'\" and \"src f = trg e\" and \"f \\<star> e \\<cong> f' \\<star> e\"\n    shows \"f \\<cong> f'\""], "translations": [["", "lemma antipar (*[simp]*):\n    shows \"trg g = src f\" and \"src g = trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trg g = src f &&& src g = trg f", "apply (metis counit_in_vhom ideD(1) ide_right iso_is_arr not_arr_null\n                   seq_if_composable src.components_are_iso trg.is_extensional trg_src\n                   vconn_implies_hpar(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. src g = trg f", "by (metis horizontal_homs.vconn_implies_hpar(4) horizontal_homs_axioms ideD(1)\n                ide_left iso_is_arr not_arr_null seq_if_composable src.components_are_iso\n                trg.is_extensional trg_src unit_in_vhom)"], ["", "lemma counit_in_hom [intro]:\n    shows \"\\<guillemotleft>\\<epsilon> : trg f \\<rightarrow> trg f\\<guillemotright>\" and \"\\<guillemotleft>\\<epsilon> : f \\<star> g \\<Rightarrow> trg f\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> : trg f \\<rightarrow> trg\n                f\\<guillemotright> &&&\n    \\<guillemotleft>\\<epsilon> : f \\<star>\n                                 g \\<Rightarrow> trg f\\<guillemotright>", "using counit_in_vhom vconn_implies_hpar antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<epsilon> : f \\<star>\n                               g \\<Rightarrow> src g\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?\\<mu> = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?\\<mu> = trg ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?g = trg ?f\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> : trg f \\<rightarrow> trg\n                f\\<guillemotright> &&&\n    \\<guillemotleft>\\<epsilon> : f \\<star>\n                                 g \\<Rightarrow> trg f\\<guillemotright>", "by auto"], ["", "lemma unit_in_hom [intro]:\n    shows \"\\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>\" and \"\\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright> &&&\n    \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star>\n           f\\<guillemotright>", "using unit_in_vhom vconn_implies_hpar antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?\\<mu> = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?\\<mu> = trg ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?g = trg ?f\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright> &&&\n    \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star>\n           f\\<guillemotright>", "by auto"], ["", "lemma unit_simps [simp]:\n    shows \"arr \\<eta>\" and \"dom \\<eta> = src f\" and \"cod \\<eta> = g \\<star> f\"\n    and \"src \\<eta> = src f\" and \"trg \\<eta> = src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (arr \\<eta> &&& local.dom \\<eta> = src f) &&&\n    cod \\<eta> = g \\<star> f &&& src \\<eta> = src f &&& trg \\<eta> = src f", "using unit_in_hom antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. (arr \\<eta> &&& local.dom \\<eta> = src f) &&&\n    cod \\<eta> = g \\<star> f &&& src \\<eta> = src f &&& trg \\<eta> = src f", "by auto"], ["", "lemma counit_simps [simp]:\n    shows \"arr \\<epsilon>\" and \"dom \\<epsilon> = f \\<star> g\" and \"cod \\<epsilon> = trg f\"\n    and \"src \\<epsilon> = trg f\" and \"trg \\<epsilon> = trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (arr \\<epsilon> &&& local.dom \\<epsilon> = f \\<star> g) &&&\n    cod \\<epsilon> = trg f &&&\n    src \\<epsilon> = trg f &&& trg \\<epsilon> = trg f", "using counit_in_hom antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<epsilon> : trg f \\<rightarrow> trg f\\<guillemotright>\n  \\<guillemotleft>\\<epsilon> : f \\<star>\n                               g \\<Rightarrow> trg f\\<guillemotright>\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. (arr \\<epsilon> &&& local.dom \\<epsilon> = f \\<star> g) &&&\n    cod \\<epsilon> = trg f &&&\n    src \\<epsilon> = trg f &&& trg \\<epsilon> = trg f", "by auto"], ["", "text \\<open>\n      The expressions found in the triangle identities for an adjunction come up\n      relatively frequently, so it is useful to have established some basic facts\n      about them, even if the triangle identities themselves have not actually been\n      introduced as assumptions in the current context.\n    \\<close>"], ["", "lemma triangle_in_hom:\n    shows \"\\<guillemotleft>(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) : f \\<star> src f \\<Rightarrow> trg f \\<star> f\\<guillemotright>\"\n    and \"\\<guillemotleft>(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) : trg g \\<star> g \\<Rightarrow> g \\<star> src g\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> f\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<guillemotleft>(\\<epsilon> \\<star> f) \\<cdot>\n                     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n                     (f \\<star>\n                      \\<eta>) : f \\<star>\n                                src f \\<Rightarrow> trg f \\<star>\n              f\\<guillemotright> &&&\n     \\<guillemotleft>(g \\<star> \\<epsilon>) \\<cdot>\n                     \\<a>[g, f, g] \\<cdot>\n                     (\\<eta> \\<star>\n                      g) : trg g \\<star>\n                           g \\<Rightarrow> g \\<star>\n     src g\\<guillemotright>) &&&\n    \\<guillemotleft>\\<l>[f] \\<cdot>\n                    (\\<epsilon> \\<star> f) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n                    (f \\<star> \\<eta>) \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> f\\<guillemotright> &&&\n    \\<guillemotleft>\\<r>[g] \\<cdot>\n                    (g \\<star> \\<epsilon>) \\<cdot>\n                    \\<a>[g, f, g] \\<cdot>\n                    (\\<eta> \\<star> g) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g\\<guillemotright>", "using antipar"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. (\\<guillemotleft>(\\<epsilon> \\<star> f) \\<cdot>\n                     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n                     (f \\<star>\n                      \\<eta>) : f \\<star>\n                                src f \\<Rightarrow> trg f \\<star>\n              f\\<guillemotright> &&&\n     \\<guillemotleft>(g \\<star> \\<epsilon>) \\<cdot>\n                     \\<a>[g, f, g] \\<cdot>\n                     (\\<eta> \\<star>\n                      g) : trg g \\<star>\n                           g \\<Rightarrow> g \\<star>\n     src g\\<guillemotright>) &&&\n    \\<guillemotleft>\\<l>[f] \\<cdot>\n                    (\\<epsilon> \\<star> f) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n                    (f \\<star> \\<eta>) \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> f\\<guillemotright> &&&\n    \\<guillemotleft>\\<r>[g] \\<cdot>\n                    (g \\<star> \\<epsilon>) \\<cdot>\n                    \\<a>[g, f, g] \\<cdot>\n                    (\\<eta> \\<star> g) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g\\<guillemotright>", "by auto"], ["", "lemma triangle_equiv_form:\n    shows \"(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) = \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<longleftrightarrow>\n           \\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] = f\"\n    and \"(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<longleftrightarrow>\n         \\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] = g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n     \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) =\n    (\\<l>[f] \\<cdot>\n     (\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n     (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n     f) &&&\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n     \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) =\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n     g)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n     \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) =\n    (\\<l>[f] \\<cdot>\n     (\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n     (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n     f)\n 2. ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n     \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) =\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n     g)", "show \"(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) = \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<longleftrightarrow>\n            \\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n     \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) =\n    (\\<l>[f] \\<cdot>\n     (\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n     (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n     f)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "assume 1: \"(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) = \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\""], ["proof (state)\nthis:\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\n\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "have \"\\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n              \\<l>[f] \\<cdot> ((\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    \\<l>[f] \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    \\<l>[f] \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "by simp"], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  \\<l>[f] \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f]\n\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "also"], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  \\<l>[f] \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f]\n\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "have \"... = \\<l>[f] \\<cdot> (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] =\n    \\<l>[f] \\<cdot>\n    (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "using 1"], ["proof (prove)\nusing this:\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] =\n    \\<l>[f] \\<cdot>\n    (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "by simp"], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f] =\n  \\<l>[f] \\<cdot>\n  (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f]\n\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "also"], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f] =\n  \\<l>[f] \\<cdot>\n  (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f]\n\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "have \"... = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] =\n    f", "using comp_assoc comp_arr_inv' comp_inv_arr' iso_lunit iso_runit\n                comp_arr_dom comp_cod_arr"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n  local.iso ?f \\<Longrightarrow> ?f \\<cdot> local.inv ?f = cod ?f\n  local.iso ?f \\<Longrightarrow> local.inv ?f \\<cdot> ?f = local.dom ?f\n  ide ?f \\<Longrightarrow> local.iso \\<l>[?f]\n  ide ?f \\<Longrightarrow> local.iso \\<r>[?f]\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] =\n    f", "by simp"], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f] =\n  f\n\ngoal (2 subgoals):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] \\<Longrightarrow>\n    \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f\n 2. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "finally"], ["proof (chain)\npicking this:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  f", "show \"\\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] = f\""], ["proof (prove)\nusing this:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  f\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f", "by simp"], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  f\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "assume 2: \"\\<l>[f] \\<cdot> (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] = f\""], ["proof (state)\nthis:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  f\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "have \"\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] = \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f]", "using comp_cod_arr"], ["proof (prove)\nusing this:\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n\ngoal (1 subgoal):\n 1. \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f]", "by simp"], ["proof (state)\nthis:\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f]\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "also"], ["proof (state)\nthis:\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f]\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "have \"... = (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot> ((\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot> (\\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f] =\n    (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "using 2 comp_assoc"], ["proof (prove)\nusing this:\n  \\<l>[f] \\<cdot>\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n  (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n  f\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f] =\n    (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "by (metis (no_types, lifting))"], ["proof (state)\nthis:\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f] =\n  (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "also"], ["proof (state)\nthis:\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> f \\<cdot> \\<r>[f] =\n  (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "have \"... = (\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)", "using comp_arr_inv' comp_inv_arr' iso_lunit iso_runit comp_arr_dom comp_cod_arr\n                hseqI' antipar"], ["proof (prove)\nusing this:\n  local.iso ?f \\<Longrightarrow> ?f \\<cdot> local.inv ?f = cod ?f\n  local.iso ?f \\<Longrightarrow> local.inv ?f \\<cdot> ?f = local.dom ?f\n  ide ?f \\<Longrightarrow> local.iso \\<l>[?f]\n  ide ?f \\<Longrightarrow> local.iso \\<r>[?f]\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n  \\<lbrakk>arr ?\\<mu>; arr ?\\<nu>; src ?\\<nu> = trg ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> hseq ?\\<nu> ?\\<mu>\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n    ((\\<epsilon> \\<star> f) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)", "by (metis ide_left in_homE lunit_simps(4) runit_simps(4) triangle_in_hom(1))"], ["proof (state)\nthis:\n  (\\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<l>[f]) \\<cdot>\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)\n\ngoal (1 subgoal):\n 1. \\<l>[f] \\<cdot>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n    (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n    f \\<Longrightarrow>\n    (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "finally"], ["proof (chain)\npicking this:\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)", "show \"(\\<epsilon> \\<star> f) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) = \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\""], ["proof (prove)\nusing this:\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f] =\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>)\n\ngoal (1 subgoal):\n 1. (\\<epsilon> \\<star> f) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n    \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]", "by simp"], ["proof (state)\nthis:\n  (\\<epsilon> \\<star> f) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n  \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot> (f \\<star> \\<eta>) =\n   \\<l>\\<^sup>-\\<^sup>1[f] \\<cdot> \\<r>[f]) =\n  (\\<l>[f] \\<cdot>\n   (\\<epsilon> \\<star> f) \\<cdot>\n   \\<a>\\<^sup>-\\<^sup>1[f, g, f] \\<cdot>\n   (f \\<star> \\<eta>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f] =\n   f)\n\ngoal (1 subgoal):\n 1. ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n     \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) =\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n     g)", "show \"(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<longleftrightarrow>\n            \\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] = g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n     \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) =\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n     g)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "assume 1: \"(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\""], ["proof (state)\nthis:\n  (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\n\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"\\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n              \\<r>[g] \\<cdot> ((g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    \\<r>[g] \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    \\<r>[g] \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g]", "by simp"], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  \\<r>[g] \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g]\n\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "also"], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  \\<r>[g] \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g]\n\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"... = \\<r>[g] \\<cdot> (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] =\n    \\<r>[g] \\<cdot>\n    (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g]", "using 1"], ["proof (prove)\nusing this:\n  (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] =\n    \\<r>[g] \\<cdot>\n    (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g]", "by simp"], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g] =\n  \\<r>[g] \\<cdot>\n  (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]\n\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "also"], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g] =\n  \\<r>[g] \\<cdot>\n  (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]\n\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"... = g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] =\n    g", "using comp_assoc comp_arr_inv' comp_inv_arr' iso_lunit iso_runit\n                comp_arr_dom comp_cod_arr"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n  local.iso ?f \\<Longrightarrow> ?f \\<cdot> local.inv ?f = cod ?f\n  local.iso ?f \\<Longrightarrow> local.inv ?f \\<cdot> ?f = local.dom ?f\n  ide ?f \\<Longrightarrow> local.iso \\<l>[?f]\n  ide ?f \\<Longrightarrow> local.iso \\<r>[?f]\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] =\n    g", "by simp"], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g] =\n  g\n\ngoal (2 subgoals):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] \\<Longrightarrow>\n    \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g\n 2. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "finally"], ["proof (chain)\npicking this:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  g", "show \"\\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] = g\""], ["proof (prove)\nusing this:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  g\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g", "by simp"], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  g\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "assume 2: \"\\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] = g\""], ["proof (state)\nthis:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  g\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g]", "using comp_cod_arr"], ["proof (prove)\nusing this:\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n\ngoal (1 subgoal):\n 1. \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g]", "by simp"], ["proof (state)\nthis:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "also"], ["proof (state)\nthis:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"... = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> (\\<r>[g] \\<cdot> (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot> \\<l>[g]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g] =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n    \\<l>[g]", "using 2"], ["proof (prove)\nusing this:\n  \\<r>[g] \\<cdot>\n  (g \\<star> \\<epsilon>) \\<cdot>\n  \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n  g\n\ngoal (1 subgoal):\n 1. \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g] =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n    \\<l>[g]", "by simp"], ["proof (state)\nthis:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g] =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n  (\\<r>[g] \\<cdot>\n   (g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot>\n   (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n  \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "also"], ["proof (state)\nthis:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> g \\<cdot> \\<l>[g] =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n  (\\<r>[g] \\<cdot>\n   (g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot>\n   (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n  \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"... = (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot> ((g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot> (\\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n    \\<l>[g] =\n    (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n    (\\<r>[g] \\<cdot>\n     (g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot>\n     (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n    \\<l>[g] =\n    (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "by simp"], ["proof (state)\nthis:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n  (\\<r>[g] \\<cdot>\n   (g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot>\n   (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n  \\<l>[g] =\n  (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "also"], ["proof (state)\nthis:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot>\n  (\\<r>[g] \\<cdot>\n   (g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot>\n   (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g]) \\<cdot>\n  \\<l>[g] =\n  (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "have \"... = (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n    (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)", "using comp_arr_inv' comp_inv_arr' iso_lunit iso_runit comp_arr_dom comp_cod_arr\n                hseqI' antipar"], ["proof (prove)\nusing this:\n  local.iso ?f \\<Longrightarrow> ?f \\<cdot> local.inv ?f = cod ?f\n  local.iso ?f \\<Longrightarrow> local.inv ?f \\<cdot> ?f = local.dom ?f\n  ide ?f \\<Longrightarrow> local.iso \\<l>[?f]\n  ide ?f \\<Longrightarrow> local.iso \\<r>[?f]\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n  \\<lbrakk>arr ?\\<mu>; arr ?\\<nu>; src ?\\<nu> = trg ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> hseq ?\\<nu> ?\\<mu>\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n    ((g \\<star> \\<epsilon>) \\<cdot>\n     \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n    (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)", "by (metis ide_right in_homE lunit_simps(4) runit_simps(4) triangle_in_hom(2))"], ["proof (state)\nthis:\n  (\\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<r>[g]) \\<cdot>\n  ((g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n  (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)\n\ngoal (1 subgoal):\n 1. \\<r>[g] \\<cdot>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot>\n    (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n    g \\<Longrightarrow>\n    (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "finally"], ["proof (chain)\npicking this:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n  (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)", "show \"(g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) = \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\""], ["proof (prove)\nusing this:\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g] =\n  (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g)\n\ngoal (1 subgoal):\n 1. (g \\<star> \\<epsilon>) \\<cdot>\n    \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n    \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]", "by simp"], ["proof (state)\nthis:\n  (g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n  \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((g \\<star> \\<epsilon>) \\<cdot> \\<a>[g, f, g] \\<cdot> (\\<eta> \\<star> g) =\n   \\<r>\\<^sup>-\\<^sup>1[g] \\<cdot> \\<l>[g]) =\n  (\\<r>[g] \\<cdot>\n   (g \\<star> \\<epsilon>) \\<cdot>\n   \\<a>[g, f, g] \\<cdot>\n   (\\<eta> \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] =\n   g)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale equivalence_in_bicategory =\n    adjunction_data_in_bicategory +\n  assumes unit_is_iso [simp]: \"iso \\<eta>\"\n  and counit_is_iso [simp]: \"iso \\<epsilon>\"\n  begin"], ["", "lemma dual_equivalence:\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg g f (inv \\<epsilon>) (inv \\<eta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg g f\n     (local.inv \\<epsilon>) (local.inv \\<eta>)", "using antipar"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. equivalence_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg g f\n     (local.inv \\<epsilon>) (local.inv \\<eta>)", "by unfold_locales auto"], ["", "end"], ["", "abbreviation (in bicategory) internal_equivalence\n    where \"internal_equivalence f g \\<phi> \\<psi> \\<equiv> equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>\""], ["", "subsection \"Quasi-Inverses and Equivalence Maps\""], ["", "text \\<open>\n    Antiparallel 1-cells \\<open>f\\<close> and \\<open>g\\<close> are \\emph{quasi-inverses} if they can be extended to\n    an internal equivalence.  We will use the term \\emph{equivalence map} to refer to a 1-cell\n    that has a quasi-inverse.\n  \\<close>"], ["", "context bicategory\n  begin"], ["", "definition quasi_inverses\n    where \"quasi_inverses f g \\<equiv> \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>\""], ["", "lemma quasi_inversesI:\n    assumes \"ide f\" and \"ide g\"\n    and \"src f \\<cong> g \\<star> f\" and \"f \\<star> g \\<cong> trg f\"\n    shows \"quasi_inverses f g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses f g", "proof (unfold quasi_inverses_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>", "have 1: \"src g = trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src g = trg f", "using assms ideD(1) isomorphic_implies_ide(2)"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f\n  ide ?a \\<Longrightarrow> arr ?a\n  ?f \\<cong> ?g \\<Longrightarrow> ide ?g\n\ngoal (1 subgoal):\n 1. src g = trg f", "by blast"], ["proof (state)\nthis:\n  src g = trg f\n\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>", "obtain \\<phi> where \\<phi>: \"\\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star> f\\<guillemotright> \\<and> iso \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star>\n               f\\<guillemotright> \\<and>\n        local.iso \\<phi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms isomorphic_def"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star>\n               f\\<guillemotright> \\<and>\n        local.iso \\<phi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star>\n         f\\<guillemotright> \\<and>\n  local.iso \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>", "obtain \\<psi> where \\<psi>: \"\\<guillemotleft>\\<psi> : f \\<star> g \\<Rightarrow> trg f\\<guillemotright> \\<and> iso \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>.\n        \\<guillemotleft>\\<psi> : f \\<star>\n                                 g \\<Rightarrow> trg\n            f\\<guillemotright> \\<and>\n        local.iso \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms isomorphic_def"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>.\n        \\<guillemotleft>\\<psi> : f \\<star>\n                                 g \\<Rightarrow> trg\n            f\\<guillemotright> \\<and>\n        local.iso \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi> : f \\<star>\n                           g \\<Rightarrow> trg f\\<guillemotright> \\<and>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>", "have \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "using assms 1 \\<phi> \\<psi>"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f\n  src g = trg f\n  \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star>\n         f\\<guillemotright> \\<and>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : f \\<star>\n                           g \\<Rightarrow> trg f\\<guillemotright> \\<and>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "by unfold_locales auto"], ["proof (state)\nthis:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>", "thus \"\\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>\""], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<phi> \\<psi>. internal_equivalence f g \\<phi> \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inversesE:\n    assumes \"quasi_inverses f g\"\n    and \"\\<lbrakk>ide f; ide g; src f \\<cong> g \\<star> f; f \\<star> g \\<cong> trg f\\<rbrakk> \\<Longrightarrow> T\"\n    shows T"], ["proof (prove)\ngoal (1 subgoal):\n 1. T", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. T", "obtain \\<phi> \\<psi> where \\<phi>\\<psi>: \"internal_equivalence f g \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms quasi_inverses_def"], ["proof (prove)\nusing this:\n  quasi_inverses f g\n  \\<lbrakk>ide f; ide g; src f \\<cong> g \\<star> f;\n   f \\<star> g \\<cong> trg f\\<rbrakk>\n  \\<Longrightarrow> T\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. T", "interpret \\<phi>\\<psi>: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "using \\<phi>\\<psi>"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. T", "have \"ide f \\<and> ide g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide f \\<and> ide g", "by simp"], ["proof (state)\nthis:\n  ide f \\<and> ide g\n\ngoal (1 subgoal):\n 1. T", "moreover"], ["proof (state)\nthis:\n  ide f \\<and> ide g\n\ngoal (1 subgoal):\n 1. T", "have \"src f \\<cong> g \\<star> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f \\<cong> g \\<star> f", "using isomorphic_def \\<phi>\\<psi>.unit_in_hom"], ["proof (prove)\nusing this:\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n  \\<guillemotleft>\\<phi> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n\ngoal (1 subgoal):\n 1. src f \\<cong> g \\<star> f", "by auto"], ["proof (state)\nthis:\n  src f \\<cong> g \\<star> f\n\ngoal (1 subgoal):\n 1. T", "moreover"], ["proof (state)\nthis:\n  src f \\<cong> g \\<star> f\n\ngoal (1 subgoal):\n 1. T", "have \"f \\<star> g \\<cong> trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<star> g \\<cong> trg f", "using isomorphic_def \\<phi>\\<psi>.counit_in_hom"], ["proof (prove)\nusing this:\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n  \\<guillemotleft>\\<psi> : trg f \\<rightarrow> trg f\\<guillemotright>\n  \\<guillemotleft>\\<psi> : f \\<star> g \\<Rightarrow> trg f\\<guillemotright>\n\ngoal (1 subgoal):\n 1. f \\<star> g \\<cong> trg f", "by auto"], ["proof (state)\nthis:\n  f \\<star> g \\<cong> trg f\n\ngoal (1 subgoal):\n 1. T", "ultimately"], ["proof (chain)\npicking this:\n  ide f \\<and> ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f", "show T"], ["proof (prove)\nusing this:\n  ide f \\<and> ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f\n\ngoal (1 subgoal):\n 1. T", "using assms"], ["proof (prove)\nusing this:\n  ide f \\<and> ide g\n  src f \\<cong> g \\<star> f\n  f \\<star> g \\<cong> trg f\n  quasi_inverses f g\n  \\<lbrakk>ide f; ide g; src f \\<cong> g \\<star> f;\n   f \\<star> g \\<cong> trg f\\<rbrakk>\n  \\<Longrightarrow> T\n\ngoal (1 subgoal):\n 1. T", "by blast"], ["proof (state)\nthis:\n  T\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inverse_unique:\n    assumes \"quasi_inverses f g\" and \"quasi_inverses f g'\"\n    shows \"isomorphic g g'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<cong> g'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g \\<cong> g'", "obtain \\<phi> \\<psi> where \\<phi>\\<psi>: \"internal_equivalence f g \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms quasi_inverses_def"], ["proof (prove)\nusing this:\n  quasi_inverses f g\n  quasi_inverses f g'\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "interpret \\<phi>\\<psi>: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "using \\<phi>\\<psi>"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. g \\<cong> g'", "obtain \\<phi>' \\<psi>' where \\<phi>'\\<psi>': \"internal_equivalence f g' \\<phi>' \\<psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>' \\<psi>'.\n        internal_equivalence f g' \\<phi>' \\<psi>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms quasi_inverses_def"], ["proof (prove)\nusing this:\n  quasi_inverses f g\n  quasi_inverses f g'\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>' \\<psi>'.\n        internal_equivalence f g' \\<phi>' \\<psi>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f g' \\<phi>' \\<psi>'\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "interpret \\<phi>'\\<psi>': equivalence_in_bicategory V H \\<a> \\<i> src trg f g' \\<phi>' \\<psi>'"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g' \\<phi>' \\<psi>'", "using \\<phi>'\\<psi>'"], ["proof (prove)\nusing this:\n  internal_equivalence f g' \\<phi>' \\<psi>'\n\ngoal (1 subgoal):\n 1. internal_equivalence f g' \\<phi>' \\<psi>'", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. g \\<cong> g'", "have \"\\<guillemotleft>\\<r>[g'] \\<cdot> (g' \\<star> \\<psi>) \\<cdot> \\<a>[g', f, g] \\<cdot> (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<r>[g'] \\<cdot>\n                    (g' \\<star> \\<psi>) \\<cdot>\n                    \\<a>[g', f, g] \\<cdot>\n                    (\\<phi>' \\<star> g) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>", "using \\<phi>\\<psi>.unit_in_hom \\<phi>\\<psi>.unit_is_iso \\<phi>\\<psi>.antipar \\<phi>'\\<psi>'.antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<phi> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n  local.iso \\<phi>\n  trg g = src f\n  src g = trg f\n  trg g' = src f\n  src g' = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<r>[g'] \\<cdot>\n                    (g' \\<star> \\<psi>) \\<cdot>\n                    \\<a>[g', f, g] \\<cdot>\n                    (\\<phi>' \\<star> g) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>", "by (intro comp_in_homI' hseqI') auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<r>[g'] \\<cdot>\n                  (g' \\<star> \\<psi>) \\<cdot>\n                  \\<a>[g', f, g] \\<cdot>\n                  (\\<phi>' \\<star> g) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "moreover"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<r>[g'] \\<cdot>\n                  (g' \\<star> \\<psi>) \\<cdot>\n                  \\<a>[g', f, g] \\<cdot>\n                  (\\<phi>' \\<star> g) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "have \"iso (\\<r>[g'] \\<cdot> (g' \\<star> \\<psi>) \\<cdot> \\<a>[g', f, g] \\<cdot> (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     (\\<r>[g'] \\<cdot>\n      (g' \\<star> \\<psi>) \\<cdot>\n      \\<a>[g', f, g] \\<cdot>\n      (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])", "using \\<phi>\\<psi>.unit_in_hom \\<phi>\\<psi>.unit_is_iso \\<phi>\\<psi>.antipar \\<phi>'\\<psi>'.antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<phi> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<phi> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n  local.iso \\<phi>\n  trg g = src f\n  src g = trg f\n  trg g' = src f\n  src g' = trg f\n\ngoal (1 subgoal):\n 1. local.iso\n     (\\<r>[g'] \\<cdot>\n      (g' \\<star> \\<psi>) \\<cdot>\n      \\<a>[g', f, g] \\<cdot>\n      (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])", "by (intro isos_compose) auto"], ["proof (state)\nthis:\n  local.iso\n   (\\<r>[g'] \\<cdot>\n    (g' \\<star> \\<psi>) \\<cdot>\n    \\<a>[g', f, g] \\<cdot>\n    (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "ultimately"], ["proof (chain)\npicking this:\n  \\<guillemotleft>\\<r>[g'] \\<cdot>\n                  (g' \\<star> \\<psi>) \\<cdot>\n                  \\<a>[g', f, g] \\<cdot>\n                  (\\<phi>' \\<star> g) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso\n   (\\<r>[g'] \\<cdot>\n    (g' \\<star> \\<psi>) \\<cdot>\n    \\<a>[g', f, g] \\<cdot>\n    (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<r>[g'] \\<cdot>\n                  (g' \\<star> \\<psi>) \\<cdot>\n                  \\<a>[g', f, g] \\<cdot>\n                  (\\<phi>' \\<star> g) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso\n   (\\<r>[g'] \\<cdot>\n    (g' \\<star> \\<psi>) \\<cdot>\n    \\<a>[g', f, g] \\<cdot>\n    (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "using isomorphic_def"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<r>[g'] \\<cdot>\n                  (g' \\<star> \\<psi>) \\<cdot>\n                  \\<a>[g', f, g] \\<cdot>\n                  (\\<phi>' \\<star> g) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[g] : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso\n   (\\<r>[g'] \\<cdot>\n    (g' \\<star> \\<psi>) \\<cdot>\n    \\<a>[g', f, g] \\<cdot>\n    (\\<phi>' \\<star> g) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[g])\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. g \\<cong> g'", "by auto"], ["proof (state)\nthis:\n  g \\<cong> g'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inverses_symmetric:\n    assumes \"quasi_inverses f g\"\n    shows \"quasi_inverses g f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses g f", "using assms quasi_inverses_def equivalence_in_bicategory.dual_equivalence"], ["proof (prove)\nusing this:\n  quasi_inverses f g\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n  equivalence_in_bicategory ?V ?H ?\\<a> ?\\<i> ?src ?trg ?f ?g ?\\<eta>\n   ?\\<epsilon> \\<Longrightarrow>\n  equivalence_in_bicategory ?V ?H ?\\<a> ?\\<i> ?src ?trg ?g ?f\n   (category.inv ?V ?\\<epsilon>) (category.inv ?V ?\\<eta>)\n\ngoal (1 subgoal):\n 1. quasi_inverses g f", "by metis"], ["", "definition equivalence_map\n    where \"equivalence_map f \\<equiv> \\<exists>g \\<eta> \\<epsilon>. equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\""], ["", "lemma equivalence_mapI:\n    assumes \"quasi_inverses f g\"\n    shows \"equivalence_map f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map f", "using assms quasi_inverses_def equivalence_map_def"], ["proof (prove)\nusing this:\n  quasi_inverses f g\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. equivalence_map f", "by auto"], ["", "lemma equivalence_mapE:\n    assumes \"equivalence_map f\"\n    obtains g where \"quasi_inverses f g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>g. quasi_inverses f g \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def quasi_inverses_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>g. quasi_inverses f g \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["", "lemma equivalence_map_is_ide:\n    assumes \"equivalence_map f\"\n    shows \"ide f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide f", "using assms adjunction_data_in_bicategory.ide_left equivalence_in_bicategory_def\n            equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  adjunction_data_in_bicategory ?V ?H ?\\<a> ?\\<i> ?src ?trg ?f ?g ?\\<eta>\n   ?\\<epsilon> \\<Longrightarrow>\n  partial_magma.ide ?V ?f\n  equivalence_in_bicategory ?V ?H ?\\<a> ?\\<i> ?src ?trg ?f ?g ?\\<eta>\n   ?\\<epsilon> \\<equiv>\n  adjunction_data_in_bicategory ?V ?H ?\\<a> ?\\<i> ?src ?trg ?f ?g ?\\<eta>\n   ?\\<epsilon> \\<and>\n  equivalence_in_bicategory_axioms ?V ?\\<eta> ?\\<epsilon>\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. ide f", "by fastforce"], ["", "lemma obj_is_equivalence_map:\n    assumes \"obj a\"\n    shows \"equivalence_map a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map a", "using assms"], ["proof (prove)\nusing this:\n  obj a\n\ngoal (1 subgoal):\n 1. equivalence_map a", "by (metis equivalence_mapI isomorphic_symmetric objE obj_self_composable(2) quasi_inversesI)"], ["", "lemma equivalence_respects_iso:\n    assumes \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\"\n    and \"\\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\" and \"iso \\<phi>\" and \"\\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\" and \"iso \\<psi>\"\n    shows \"internal_equivalence f' g' ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> inv \\<psi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f' g'\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. internal_equivalence f' g'\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "interpret E: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "using assms"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "by auto"], ["proof (state)\ngoal (1 subgoal):\n 1. internal_equivalence f' g'\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f' g'\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. ide f'\n 2. ide g'\n 3. \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                    (\\<psi> \\<star> f) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g' \\<star>\n            f'\\<guillemotright>\n 4. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 5. local.iso\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n 6. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show f': \"ide f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide f'", "using assms"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. ide f'", "by auto"], ["proof (state)\nthis:\n  ide f'\n\ngoal (5 subgoals):\n 1. ide g'\n 2. \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                    (\\<psi> \\<star> f) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g' \\<star>\n            f'\\<guillemotright>\n 3. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 4. local.iso\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n 5. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show g': \"ide g'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide g'", "using assms"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. ide g'", "by auto"], ["proof (state)\nthis:\n  ide g'\n\ngoal (4 subgoals):\n 1. \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                    (\\<psi> \\<star> f) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g' \\<star>\n            f'\\<guillemotright>\n 2. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 3. local.iso\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n 4. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show 1: \"\\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta> : src f' \\<Rightarrow> g' \\<star> f'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                    (\\<psi> \\<star> f) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g' \\<star>\n            f'\\<guillemotright>", "using assms f' g' E.unit_in_hom E.antipar(2) vconn_implies_hpar(3)"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n  ide f'\n  ide g'\n  \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n  src g = trg f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                    (\\<psi> \\<star> f) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g' \\<star>\n            f'\\<guillemotright>", "apply (intro comp_in_homI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>internal_equivalence f g \\<eta> \\<epsilon>;\n     \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>;\n     local.iso \\<phi>;\n     \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>;\n     local.iso \\<psi>; ide f'; ide g';\n     \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>;\n     \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star>\n            f\\<guillemotright>;\n     src g = trg f;\n     \\<And>\\<mu> f g.\n        \\<guillemotleft>\\<mu> : f \\<Rightarrow> g\\<guillemotright> \\<Longrightarrow>\n        src g = src f\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<eta> : src\n          f' \\<Rightarrow> ?b13\\<guillemotright>\n 2. \\<lbrakk>internal_equivalence f g \\<eta> \\<epsilon>;\n     \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>;\n     local.iso \\<phi>;\n     \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>;\n     local.iso \\<psi>; ide f'; ide g';\n     \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>;\n     \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star>\n            f\\<guillemotright>;\n     src g = trg f;\n     \\<And>\\<mu> f g.\n        \\<guillemotleft>\\<mu> : f \\<Rightarrow> g\\<guillemotright> \\<Longrightarrow>\n        src g = src f\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<psi> \\<star>\nf : ?b13 \\<Rightarrow> ?b12\\<guillemotright>\n 3. \\<lbrakk>internal_equivalence f g \\<eta> \\<epsilon>;\n     \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>;\n     local.iso \\<phi>;\n     \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>;\n     local.iso \\<psi>; ide f'; ide g';\n     \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>;\n     \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star>\n            f\\<guillemotright>;\n     src g = trg f;\n     \\<And>\\<mu> f g.\n        \\<guillemotleft>\\<mu> : f \\<Rightarrow> g\\<guillemotright> \\<Longrightarrow>\n        src g = src f\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>g' \\<star>\n\\<phi> : ?b12 \\<Rightarrow> g' \\<star> f'\\<guillemotright>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>internal_equivalence f g \\<eta> \\<epsilon>;\n     \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>;\n     local.iso \\<phi>;\n     \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>;\n     local.iso \\<psi>; ide f'; ide g';\n     \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star>\n            f\\<guillemotright>;\n     src g = trg f;\n     \\<And>\\<mu> f g.\n        \\<guillemotleft>\\<mu> : f \\<Rightarrow> g\\<guillemotright> \\<Longrightarrow>\n        src g = src f\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<psi> \\<star>\nf : g \\<star> f \\<Rightarrow> g' \\<star> f\\<guillemotright>", "by (intro hcomp_in_vhom) auto"], ["proof (state)\nthis:\n  \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                  (\\<psi> \\<star> f) \\<cdot>\n                  \\<eta> : src f' \\<Rightarrow> g' \\<star>\n          f'\\<guillemotright>\n\ngoal (3 subgoals):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 2. local.iso\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n 3. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show \"iso ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)", "using assms 1 g' vconn_implies_hpar(3) E.antipar(2) iso_hcomp"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n  \\<guillemotleft>(g' \\<star> \\<phi>) \\<cdot>\n                  (\\<psi> \\<star> f) \\<cdot>\n                  \\<eta> : src f' \\<Rightarrow> g' \\<star>\n          f'\\<guillemotright>\n  ide g'\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n  src g = trg f\n  \\<lbrakk>local.iso ?\\<mu>; local.iso ?\\<nu>;\n   src ?\\<nu> = trg ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> local.iso (?\\<nu> \\<star> ?\\<mu>)\n\ngoal (1 subgoal):\n 1. local.iso\n     ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)", "by (intro isos_compose) auto"], ["proof (state)\nthis:\n  local.iso ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 2. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show 1: \"\\<guillemotleft>\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> inv \\<psi>) : f' \\<star> g' \\<Rightarrow> src g'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>", "using assms f' ide_in_hom(2) vconn_implies_hpar(3-4) E.antipar(1-2)"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n  ide f'\n  ide ?f \\<Longrightarrow>\n  \\<guillemotleft>?f : ?f \\<Rightarrow> ?f\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?g = trg ?f\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star> g) \\<cdot>\n                    (f' \\<star>\n                     local.inv\n                      \\<psi>) : f' \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>", "by (intro comp_in_homI) auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<epsilon> \\<cdot>\n                  (local.inv \\<phi> \\<star> g) \\<cdot>\n                  (f' \\<star>\n                   local.inv\n                    \\<psi>) : f' \\<star>\n                              g' \\<Rightarrow> src g'\\<guillemotright>\n\ngoal (1 subgoal):\n 1. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "show \"iso (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> inv \\<psi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "using assms 1 isos_compose"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<psi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<psi>\n  \\<guillemotleft>\\<epsilon> \\<cdot>\n                  (local.inv \\<phi> \\<star> g) \\<cdot>\n                  (f' \\<star>\n                   local.inv\n                    \\<psi>) : f' \\<star>\n                              g' \\<Rightarrow> src g'\\<guillemotright>\n  \\<lbrakk>local.iso ?f; local.iso ?f'; seq ?f' ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso (?f' \\<cdot> ?f)\n\ngoal (1 subgoal):\n 1. local.iso\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))", "by (metis E.counit_is_iso E.ide_right arrI f' hseqE ide_is_iso iso_hcomp\n              iso_inv_iso seqE)"], ["proof (state)\nthis:\n  local.iso\n   (\\<epsilon> \\<cdot>\n    (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  internal_equivalence f' g'\n   ((g' \\<star> \\<phi>) \\<cdot> (\\<psi> \\<star> f) \\<cdot> \\<eta>)\n   (\\<epsilon> \\<cdot>\n    (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv \\<psi>))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_map_preserved_by_iso:\n    assumes \"equivalence_map f\" and \"f \\<cong> f'\"\n    shows \"equivalence_map f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map f'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map f'", "obtain g \\<eta> \\<epsilon> where E: \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>g \\<eta> \\<epsilon>.\n        internal_equivalence f g \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  f \\<cong> f'\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>g \\<eta> \\<epsilon>.\n        internal_equivalence f g \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. equivalence_map f'", "interpret E: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "using E"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "by auto"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map f'", "obtain \\<phi> where \\<phi>: \"\\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright> \\<and> iso \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright> \\<and>\n        local.iso \\<phi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms isomorphic_def isomorphic_symmetric"], ["proof (prove)\nusing this:\n  equivalence_map f\n  f \\<cong> f'\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright> \\<and>\n        local.iso \\<phi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright> \\<and>\n  local.iso \\<phi>\n\ngoal (1 subgoal):\n 1. equivalence_map f'", "have \"equivalence_in_bicategory V H \\<a> \\<i> src trg f' g\n              ((g \\<star> \\<phi>) \\<cdot> (g \\<star> f) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> inv g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f' g\n     ((g \\<star> \\<phi>) \\<cdot> (g \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv g))", "using E \\<phi> equivalence_respects_iso [of f g \\<eta> \\<epsilon> \\<phi> f' g g]"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright> \\<and>\n  local.iso \\<phi>\n  \\<lbrakk>internal_equivalence f g \\<eta> \\<epsilon>;\n   \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>;\n   local.iso \\<phi>; \\<guillemotleft>g : g \\<Rightarrow> g\\<guillemotright>;\n   local.iso g\\<rbrakk>\n  \\<Longrightarrow> internal_equivalence f' g\n                     ((g \\<star> \\<phi>) \\<cdot>\n                      (g \\<star> f) \\<cdot> \\<eta>)\n                     (\\<epsilon> \\<cdot>\n                      (local.inv \\<phi> \\<star> g) \\<cdot>\n                      (f' \\<star> local.inv g))\n\ngoal (1 subgoal):\n 1. internal_equivalence f' g\n     ((g \\<star> \\<phi>) \\<cdot> (g \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot>\n      (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv g))", "by fastforce"], ["proof (state)\nthis:\n  internal_equivalence f' g\n   ((g \\<star> \\<phi>) \\<cdot> (g \\<star> f) \\<cdot> \\<eta>)\n   (\\<epsilon> \\<cdot>\n    (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv g))\n\ngoal (1 subgoal):\n 1. equivalence_map f'", "thus ?thesis"], ["proof (prove)\nusing this:\n  internal_equivalence f' g\n   ((g \\<star> \\<phi>) \\<cdot> (g \\<star> f) \\<cdot> \\<eta>)\n   (\\<epsilon> \\<cdot>\n    (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv g))\n\ngoal (1 subgoal):\n 1. equivalence_map f'", "using equivalence_map_def"], ["proof (prove)\nusing this:\n  internal_equivalence f' g\n   ((g \\<star> \\<phi>) \\<cdot> (g \\<star> f) \\<cdot> \\<eta>)\n   (\\<epsilon> \\<cdot>\n    (local.inv \\<phi> \\<star> g) \\<cdot> (f' \\<star> local.inv g))\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. equivalence_map f'", "by auto"], ["proof (state)\nthis:\n  equivalence_map f'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_preserved_by_iso_right:\n    assumes \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\"\n    and \"\\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\" and \"iso \\<phi>\"\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g' ((\\<phi> \\<star> f) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (f \\<star> inv \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g' ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. ide f\n 2. ide g'\n 3. \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                    \\<eta> : src f \\<Rightarrow> g' \\<star>\n           f\\<guillemotright>\n 4. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 5. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n 6. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "interpret E: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "using assms"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<phi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "by auto"], ["proof (state)\ngoal (6 subgoals):\n 1. ide f\n 2. ide g'\n 3. \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                    \\<eta> : src f \\<Rightarrow> g' \\<star>\n           f\\<guillemotright>\n 4. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 5. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n 6. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "show \"ide f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide f", "by simp"], ["proof (state)\nthis:\n  ide f\n\ngoal (5 subgoals):\n 1. ide g'\n 2. \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                    \\<eta> : src f \\<Rightarrow> g' \\<star>\n           f\\<guillemotright>\n 3. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 4. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n 5. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "show \"ide g'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide g'", "using assms(2) isomorphic_def"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. ide g'", "by auto"], ["proof (state)\nthis:\n  ide g'\n\ngoal (4 subgoals):\n 1. \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                    \\<eta> : src f \\<Rightarrow> g' \\<star>\n           f\\<guillemotright>\n 2. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 3. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n 4. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "show \"\\<guillemotleft>(\\<phi> \\<star> f) \\<cdot> \\<eta> : src f \\<Rightarrow> g' \\<star> f\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                    \\<eta> : src f \\<Rightarrow> g' \\<star>\n           f\\<guillemotright>", "using assms E.antipar(2) E.ide_left"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<phi>\n  src g = trg f\n  ide f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                    \\<eta> : src f \\<Rightarrow> g' \\<star>\n           f\\<guillemotright>", "by blast"], ["proof (state)\nthis:\n  \\<guillemotleft>(\\<phi> \\<star> f) \\<cdot>\n                  \\<eta> : src f \\<Rightarrow> g' \\<star> f\\<guillemotright>\n\ngoal (3 subgoals):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>\n 2. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n 3. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "show \"\\<guillemotleft>\\<epsilon> \\<cdot> (f \\<star> inv \\<phi>) : f \\<star> g' \\<Rightarrow> src g'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>", "using assms vconn_implies_hpar(3-4) E.counit_in_vhom E.antipar(1) ide_in_hom(2)"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?g = trg ?f\n  \\<guillemotleft>\\<epsilon> : f \\<star>\n                               g \\<Rightarrow> src g\\<guillemotright>\n  trg g = src f\n  ide ?f \\<Longrightarrow>\n  \\<guillemotleft>?f : ?f \\<Rightarrow> ?f\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (f \\<star>\n                     local.inv\n                      \\<phi>) : f \\<star>\n                                g' \\<Rightarrow> src g'\\<guillemotright>", "by (intro comp_in_homI, auto)"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<epsilon> \\<cdot>\n                  (f \\<star>\n                   local.inv\n                    \\<phi>) : f \\<star>\n                              g' \\<Rightarrow> src g'\\<guillemotright>\n\ngoal (2 subgoals):\n 1. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n 2. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "show \"iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)", "using assms E.antipar isos_compose"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<phi>\n  trg g = src f\n  src g = trg f\n  \\<lbrakk>local.iso ?f; local.iso ?f'; seq ?f' ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso (?f' \\<cdot> ?f)\n\ngoal (1 subgoal):\n 1. local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)", "by auto"], ["proof (state)\nthis:\n  local.iso ((\\<phi> \\<star> f) \\<cdot> \\<eta>)\n\ngoal (1 subgoal):\n 1. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "show \"iso (\\<epsilon> \\<cdot> (f \\<star> inv \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "using assms E.antipar isos_compose"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : g \\<Rightarrow> g'\\<guillemotright>\n  local.iso \\<phi>\n  trg g = src f\n  src g = trg f\n  \\<lbrakk>local.iso ?f; local.iso ?f'; seq ?f' ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso (?f' \\<cdot> ?f)\n\ngoal (1 subgoal):\n 1. local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))", "by auto"], ["proof (state)\nthis:\n  local.iso (\\<epsilon> \\<cdot> (f \\<star> local.inv \\<phi>))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_preserved_by_iso_left:\n    assumes \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>\"\n    and \"\\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\" and \"iso \\<phi>\"\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg f' g ((g \\<star> \\<phi>) \\<cdot> \\<eta>) (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f' g ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n     (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "proof"], ["proof (state)\ngoal (6 subgoals):\n 1. ide f'\n 2. ide g\n 3. \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g \\<star>\n            f'\\<guillemotright>\n 4. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\n 5. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n 6. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "interpret E: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "using assms"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<eta> \\<epsilon>", "by auto"], ["proof (state)\ngoal (6 subgoals):\n 1. ide f'\n 2. ide g\n 3. \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g \\<star>\n            f'\\<guillemotright>\n 4. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\n 5. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n 6. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "show \"ide f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide f'", "using assms"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n\ngoal (1 subgoal):\n 1. ide f'", "by auto"], ["proof (state)\nthis:\n  ide f'\n\ngoal (5 subgoals):\n 1. ide g\n 2. \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g \\<star>\n            f'\\<guillemotright>\n 3. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\n 4. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n 5. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "show \"ide g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide g", "by simp"], ["proof (state)\nthis:\n  ide g\n\ngoal (4 subgoals):\n 1. \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g \\<star>\n            f'\\<guillemotright>\n 2. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\n 3. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n 4. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "show \"\\<guillemotleft>(g \\<star> \\<phi>) \\<cdot> \\<eta> : src f' \\<Rightarrow> g \\<star> f'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g \\<star>\n            f'\\<guillemotright>", "using assms E.unit_in_hom E.antipar"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<eta> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<eta> : src f \\<Rightarrow> g \\<star> f\\<guillemotright>\n  trg g = src f\n  src g = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                    \\<eta> : src f' \\<Rightarrow> g \\<star>\n            f'\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>(g \\<star> \\<phi>) \\<cdot>\n                  \\<eta> : src f' \\<Rightarrow> g \\<star>\n          f'\\<guillemotright>\n\ngoal (3 subgoals):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\n 2. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n 3. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "show \"\\<guillemotleft>\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>", "using assms E.counit_in_hom E.antipar ide_in_hom(2) vconn_implies_hpar(3)"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  \\<guillemotleft>\\<epsilon> : trg f \\<rightarrow> trg f\\<guillemotright>\n  \\<guillemotleft>\\<epsilon> : f \\<star>\n                               g \\<Rightarrow> trg f\\<guillemotright>\n  trg g = src f\n  src g = trg f\n  ide ?f \\<Longrightarrow>\n  \\<guillemotleft>?f : ?f \\<Rightarrow> ?f\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?f \\<Rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?g = src ?f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> \\<cdot>\n                    (local.inv \\<phi> \\<star>\n                     g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<epsilon> \\<cdot>\n                  (local.inv \\<phi> \\<star>\n                   g) : f' \\<star> g \\<Rightarrow> src g\\<guillemotright>\n\ngoal (2 subgoals):\n 1. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n 2. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "show \"iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)", "using assms E.antipar isos_compose"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  trg g = src f\n  src g = trg f\n  \\<lbrakk>local.iso ?f; local.iso ?f'; seq ?f' ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso (?f' \\<cdot> ?f)\n\ngoal (1 subgoal):\n 1. local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)", "by auto"], ["proof (state)\nthis:\n  local.iso ((g \\<star> \\<phi>) \\<cdot> \\<eta>)\n\ngoal (1 subgoal):\n 1. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "show \"iso (\\<epsilon> \\<cdot> (inv \\<phi> \\<star> g))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "using assms E.antipar isos_compose"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<eta> \\<epsilon>\n  \\<guillemotleft>\\<phi> : f \\<Rightarrow> f'\\<guillemotright>\n  local.iso \\<phi>\n  trg g = src f\n  src g = trg f\n  \\<lbrakk>local.iso ?f; local.iso ?f'; seq ?f' ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso (?f' \\<cdot> ?f)\n\ngoal (1 subgoal):\n 1. local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))", "by auto"], ["proof (state)\nthis:\n  local.iso (\\<epsilon> \\<cdot> (local.inv \\<phi> \\<star> g))\n\ngoal:\nNo subgoals!", "qed"], ["", "definition some_quasi_inverse\n    where \"some_quasi_inverse f = (SOME g. quasi_inverses f g)\""], ["", "notation some_quasi_inverse  (\"_\\<^sup>~\" [1000] 1000)"], ["", "lemma quasi_inverses_some_quasi_inverse:\n    assumes \"equivalence_map f\"\n    shows \"quasi_inverses f f\\<^sup>~\"\n    and \"quasi_inverses f\\<^sup>~ f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses f f\\<^sup>~ &&& quasi_inverses f\\<^sup>~ f", "using assms some_quasi_inverse_def quasi_inverses_def equivalence_map_def\n            someI_ex [of \"\\<lambda>g. quasi_inverses f g\"] quasi_inverses_symmetric"], ["proof (prove)\nusing this:\n  equivalence_map f\n  ?f\\<^sup>~ = (SOME g. quasi_inverses ?f g)\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n  \\<exists>x. quasi_inverses f x \\<Longrightarrow>\n  quasi_inverses f (SOME x. quasi_inverses f x)\n  quasi_inverses ?f ?g \\<Longrightarrow> quasi_inverses ?g ?f\n\ngoal (1 subgoal):\n 1. quasi_inverses f f\\<^sup>~ &&& quasi_inverses f\\<^sup>~ f", "by auto"], ["", "lemma quasi_inverse_antipar:\n    assumes \"equivalence_map f\"\n    shows \"src f\\<^sup>~ = trg f\" and \"trg f\\<^sup>~ = src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f\\<^sup>~ = trg f &&& trg f\\<^sup>~ = src f", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. src f\\<^sup>~ = trg f\n 2. trg f\\<^sup>~ = src f", "obtain \\<phi> \\<psi> where \\<phi>\\<psi>: \"equivalence_in_bicategory V H \\<a> \\<i> src trg f f\\<^sup>~ \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f f\\<^sup>~ \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def quasi_inverses_some_quasi_inverse quasi_inverses_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f f\\<^sup>~ \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>\n\ngoal (2 subgoals):\n 1. src f\\<^sup>~ = trg f\n 2. trg f\\<^sup>~ = src f", "interpret \\<phi>\\<psi>: equivalence_in_bicategory V H \\<a> \\<i> src trg f \\<open>f\\<^sup>~\\<close> \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>", "using \\<phi>\\<psi>"], ["proof (prove)\nusing this:\n  internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>", "by simp"], ["proof (state)\ngoal (2 subgoals):\n 1. src f\\<^sup>~ = trg f\n 2. trg f\\<^sup>~ = src f", "show \"src f\\<^sup>~ = trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f\\<^sup>~ = trg f", "using \\<phi>\\<psi>.antipar"], ["proof (prove)\nusing this:\n  trg f\\<^sup>~ = src f\n  src f\\<^sup>~ = trg f\n\ngoal (1 subgoal):\n 1. src f\\<^sup>~ = trg f", "by simp"], ["proof (state)\nthis:\n  src f\\<^sup>~ = trg f\n\ngoal (1 subgoal):\n 1. trg f\\<^sup>~ = src f", "show \"trg f\\<^sup>~ = src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trg f\\<^sup>~ = src f", "using \\<phi>\\<psi>.antipar"], ["proof (prove)\nusing this:\n  trg f\\<^sup>~ = src f\n  src f\\<^sup>~ = trg f\n\ngoal (1 subgoal):\n 1. trg f\\<^sup>~ = src f", "by simp"], ["proof (state)\nthis:\n  trg f\\<^sup>~ = src f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inverse_in_hom [intro]:\n    assumes \"equivalence_map f\"\n    shows \"\\<guillemotleft>f\\<^sup>~ : trg f \\<rightarrow> src f\\<guillemotright>\"\n    and \"\\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>f\\<^sup>~ : trg f \\<rightarrow> src\n               f\\<guillemotright> &&&\n    \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>", "using assms equivalence_mapE"], ["proof (prove)\nusing this:\n  equivalence_map f\n  \\<lbrakk>equivalence_map ?f;\n   \\<And>g. quasi_inverses ?f g \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>f\\<^sup>~ : trg f \\<rightarrow> src\n               f\\<guillemotright> &&&\n    \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>", "apply (intro in_homI in_hhomI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>equivalence_map f;\n     \\<And>f thesis.\n        \\<lbrakk>equivalence_map f;\n         \\<And>g. quasi_inverses f g \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> arr f\\<^sup>~\n 2. \\<lbrakk>equivalence_map f;\n     \\<And>f thesis.\n        \\<lbrakk>equivalence_map f;\n         \\<And>g. quasi_inverses f g \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> src f\\<^sup>~ = trg f\n 3. \\<lbrakk>equivalence_map f;\n     \\<And>f thesis.\n        \\<lbrakk>equivalence_map f;\n         \\<And>g. quasi_inverses f g \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> trg f\\<^sup>~ = src f\n 4. \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>", "apply (metis equivalence_map_is_ide ideD(1) not_arr_null quasi_inverse_antipar(2)\n                      src.preserves_ide trg.is_extensional)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>equivalence_map f;\n     \\<And>f thesis.\n        \\<lbrakk>equivalence_map f;\n         \\<And>g. quasi_inverses f g \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> src f\\<^sup>~ = trg f\n 2. \\<lbrakk>equivalence_map f;\n     \\<And>f thesis.\n        \\<lbrakk>equivalence_map f;\n         \\<And>g. quasi_inverses f g \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> trg f\\<^sup>~ = src f\n 3. \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>", "apply (simp_all add: quasi_inverse_antipar)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>", "using assms quasi_inversesE quasi_inverses_some_quasi_inverse(2)"], ["proof (prove)\nusing this:\n  equivalence_map f\n  \\<lbrakk>quasi_inverses ?f ?g;\n   \\<lbrakk>ide ?f; ide ?g; src ?f \\<cong> ?g \\<star> ?f;\n    ?f \\<star> ?g \\<cong> trg ?f\\<rbrakk>\n   \\<Longrightarrow> ?T\\<rbrakk>\n  \\<Longrightarrow> ?T\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>", "by blast"], ["", "lemma quasi_inverse_simps [simp]:\n    assumes \"equivalence_map f\"\n    shows \"equivalence_map f\\<^sup>~\" and \"ide f\\<^sup>~\"\n    and \"src f\\<^sup>~ = trg f\" and \"trg f\\<^sup>~ = src f\"\n    and \"dom f\\<^sup>~ = f\\<^sup>~\" and \"cod f\\<^sup>~ = f\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (equivalence_map f\\<^sup>~ &&&\n     ide f\\<^sup>~ &&& src f\\<^sup>~ = trg f) &&&\n    trg f\\<^sup>~ = src f &&&\n    local.dom f\\<^sup>~ = f\\<^sup>~ &&& cod f\\<^sup>~ = f\\<^sup>~", "using assms equivalence_mapE quasi_inverse_in_hom quasi_inverses_some_quasi_inverse equivalence_map_is_ide"], ["proof (prove)\nusing this:\n  equivalence_map f\n  \\<lbrakk>equivalence_map ?f;\n   \\<And>g. quasi_inverses ?f g \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  equivalence_map ?f \\<Longrightarrow>\n  \\<guillemotleft>?f\\<^sup>~ : trg ?f \\<rightarrow> src ?f\\<guillemotright>\n  equivalence_map ?f \\<Longrightarrow>\n  \\<guillemotleft>?f\\<^sup>~ : ?f\\<^sup>~ \\<Rightarrow> ?f\\<^sup>~\\<guillemotright>\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  equivalence_map ?f \\<Longrightarrow> ide ?f\n\ngoal (1 subgoal):\n 1. (equivalence_map f\\<^sup>~ &&&\n     ide f\\<^sup>~ &&& src f\\<^sup>~ = trg f) &&&\n    trg f\\<^sup>~ = src f &&&\n    local.dom f\\<^sup>~ = f\\<^sup>~ &&& cod f\\<^sup>~ = f\\<^sup>~", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>equivalence_map f;\n     \\<And>f thesis.\n        \\<lbrakk>equivalence_map f;\n         \\<And>g. quasi_inverses f g \\<Longrightarrow> thesis\\<rbrakk>\n        \\<Longrightarrow> thesis;\n     \\<And>f.\n        equivalence_map f \\<Longrightarrow>\n        \\<guillemotleft>f\\<^sup>~ : trg f \\<rightarrow> src\n                   f\\<guillemotright>;\n     \\<And>f.\n        equivalence_map f \\<Longrightarrow>\n        \\<guillemotleft>f\\<^sup>~ : f\\<^sup>~ \\<Rightarrow> f\\<^sup>~\\<guillemotright>;\n     \\<And>f.\n        equivalence_map f \\<Longrightarrow> quasi_inverses f f\\<^sup>~;\n     \\<And>f.\n        equivalence_map f \\<Longrightarrow> quasi_inverses f\\<^sup>~ f;\n     \\<And>f. equivalence_map f \\<Longrightarrow> ide f\\<rbrakk>\n    \\<Longrightarrow> equivalence_map f\\<^sup>~", "by (meson equivalence_mapI)"], ["", "lemma quasi_inverse_quasi_inverse:\n    assumes \"equivalence_map f\"\n    shows \"(f\\<^sup>~)\\<^sup>~ \\<cong> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "have \"quasi_inverses f\\<^sup>~ (f\\<^sup>~)\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~", "using assms quasi_inverses_some_quasi_inverse"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n\ngoal (1 subgoal):\n 1. quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~", "by simp"], ["proof (state)\nthis:\n  quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "moreover"], ["proof (state)\nthis:\n  quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "have \"quasi_inverses f\\<^sup>~ f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses f\\<^sup>~ f", "using assms quasi_inverses_some_quasi_inverse quasi_inverses_symmetric"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  quasi_inverses ?f ?g \\<Longrightarrow> quasi_inverses ?g ?f\n\ngoal (1 subgoal):\n 1. quasi_inverses f\\<^sup>~ f", "by simp"], ["proof (state)\nthis:\n  quasi_inverses f\\<^sup>~ f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "ultimately"], ["proof (chain)\npicking this:\n  quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~\n  quasi_inverses f\\<^sup>~ f", "show ?thesis"], ["proof (prove)\nusing this:\n  quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~\n  quasi_inverses f\\<^sup>~ f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "using quasi_inverse_unique"], ["proof (prove)\nusing this:\n  quasi_inverses f\\<^sup>~ f\\<^sup>~\\<^sup>~\n  quasi_inverses f\\<^sup>~ f\n  \\<lbrakk>quasi_inverses ?f ?g; quasi_inverses ?f ?g'\\<rbrakk>\n  \\<Longrightarrow> ?g \\<cong> ?g'\n\ngoal (1 subgoal):\n 1. f\\<^sup>~\\<^sup>~ \\<cong> f", "by simp"], ["proof (state)\nthis:\n  f\\<^sup>~\\<^sup>~ \\<cong> f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma comp_quasi_inverse:\n    assumes \"equivalence_map f\"\n    shows \"f\\<^sup>~ \\<star> f \\<cong> src f\" and \"f \\<star> f\\<^sup>~ \\<cong> trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f &&& f \\<star> f\\<^sup>~ \\<cong> trg f", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f\n 2. f \\<star> f\\<^sup>~ \\<cong> trg f", "obtain \\<phi> \\<psi> where \\<phi>\\<psi>: \"equivalence_in_bicategory V H \\<a> \\<i> src trg f f\\<^sup>~ \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f f\\<^sup>~ \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def quasi_inverses_some_quasi_inverse\n              quasi_inverses_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f f\\<^sup>~ \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>\n\ngoal (2 subgoals):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f\n 2. f \\<star> f\\<^sup>~ \\<cong> trg f", "interpret \\<phi>\\<psi>: equivalence_in_bicategory V H \\<a> \\<i> src trg f \\<open>f\\<^sup>~\\<close> \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>", "using \\<phi>\\<psi>"], ["proof (prove)\nusing this:\n  internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f f\\<^sup>~ \\<phi> \\<psi>", "by simp"], ["proof (state)\ngoal (2 subgoals):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f\n 2. f \\<star> f\\<^sup>~ \\<cong> trg f", "show \"f\\<^sup>~ \\<star> f \\<cong> src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f", "using quasi_inverses_some_quasi_inverse quasi_inverses_def\n              \\<phi>\\<psi>.unit_in_hom \\<phi>\\<psi>.unit_is_iso isomorphic_def"], ["proof (prove)\nusing this:\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n  \\<guillemotleft>\\<phi> : src f \\<rightarrow> src f\\<guillemotright>\n  \\<guillemotleft>\\<phi> : src f \\<Rightarrow> f\\<^sup>~ \\<star>\n         f\\<guillemotright>\n  local.iso \\<phi>\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f", "by blast"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> f \\<cong> src f\n\ngoal (1 subgoal):\n 1. f \\<star> f\\<^sup>~ \\<cong> trg f", "show \"f \\<star> f\\<^sup>~ \\<cong> trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<star> f\\<^sup>~ \\<cong> trg f", "using quasi_inverses_some_quasi_inverse quasi_inverses_def\n              \\<phi>\\<psi>.counit_in_hom \\<phi>\\<psi>.counit_is_iso isomorphic_def"], ["proof (prove)\nusing this:\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n  \\<guillemotleft>\\<psi> : trg f \\<rightarrow> trg f\\<guillemotright>\n  \\<guillemotleft>\\<psi> : f \\<star>\n                           f\\<^sup>~ \\<Rightarrow> trg f\\<guillemotright>\n  local.iso \\<psi>\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. f \\<star> f\\<^sup>~ \\<cong> trg f", "by blast"], ["proof (state)\nthis:\n  f \\<star> f\\<^sup>~ \\<cong> trg f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inverse_transpose:\n    assumes \"ide f\" and \"ide g\" and \"ide h\" and \"f \\<star> g \\<cong> h\"\n    shows \"equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~\"\n    and \"equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~) &&&\n    (equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~\n 2. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "have 1: \"src f = trg g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f = trg g", "using assms equivalence_map_is_ide"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map ?f \\<Longrightarrow> ide ?f\n\ngoal (1 subgoal):\n 1. src f = trg g", "by fastforce"], ["proof (state)\nthis:\n  src f = trg g\n\ngoal (2 subgoals):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~\n 2. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "show \"equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "assume g: \"equivalence_map g\""], ["proof (state)\nthis:\n  equivalence_map g\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "have 2: \"ide g\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide g\\<^sup>~", "using g"], ["proof (prove)\nusing this:\n  equivalence_map g\n\ngoal (1 subgoal):\n 1. ide g\\<^sup>~", "by simp"], ["proof (state)\nthis:\n  ide g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "have \"f \\<cong> f \\<star> src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<cong> f \\<star> src f", "using assms isomorphic_unit_right isomorphic_symmetric"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  ide ?f \\<Longrightarrow> ?f \\<star> src ?f \\<cong> ?f\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n\ngoal (1 subgoal):\n 1. f \\<cong> f \\<star> src f", "by blast"], ["proof (state)\nthis:\n  f \\<cong> f \\<star> src f\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "also"], ["proof (state)\nthis:\n  f \\<cong> f \\<star> src f\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "have \"... \\<cong> f \\<star> trg g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<star> src f \\<cong> f \\<star> trg g", "using assms 1 isomorphic_reflexive"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  src f = trg g\n  ide ?f \\<Longrightarrow> ?f \\<cong> ?f\n\ngoal (1 subgoal):\n 1. f \\<star> src f \\<cong> f \\<star> trg g", "by auto"], ["proof (state)\nthis:\n  f \\<star> src f \\<cong> f \\<star> trg g\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "also"], ["proof (state)\nthis:\n  f \\<star> src f \\<cong> f \\<star> trg g\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "have \"... \\<cong> f \\<star> g \\<star> g\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<star> trg g \\<cong> f \\<star> g \\<star> g\\<^sup>~", "using assms g 1 comp_quasi_inverse(2) isomorphic_symmetric hcomp_ide_isomorphic"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map g\n  src f = trg g\n  equivalence_map ?f \\<Longrightarrow> ?f \\<star> ?f\\<^sup>~ \\<cong> trg ?f\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n  \\<lbrakk>ide ?f; ?g \\<cong> ?h; src ?f = trg ?g\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?g \\<cong> ?f \\<star> ?h\n\ngoal (1 subgoal):\n 1. f \\<star> trg g \\<cong> f \\<star> g \\<star> g\\<^sup>~", "by simp"], ["proof (state)\nthis:\n  f \\<star> trg g \\<cong> f \\<star> g \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "also"], ["proof (state)\nthis:\n  f \\<star> trg g \\<cong> f \\<star> g \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "have \"... \\<cong> (f \\<star> g) \\<star> g\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<star> g \\<star> g\\<^sup>~ \\<cong> (f \\<star> g) \\<star> g\\<^sup>~", "using assms g 1 2 assoc'_in_hom [of f g \"g\\<^sup>~\"] iso_assoc' isomorphic_def"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map g\n  src f = trg g\n  ide g\\<^sup>~\n  \\<lbrakk>ide f; ide g; ide g\\<^sup>~; src f = trg g;\n   src g = trg g\\<^sup>~\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, g\\<^sup>~] : src\n g\\<^sup>~ \\<rightarrow> trg f\\<guillemotright>\n  \\<lbrakk>ide f; ide g; ide g\\<^sup>~; src f = trg g;\n   src g = trg g\\<^sup>~\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, g\\<^sup>~] : local.dom\n f \\<star>\nlocal.dom g \\<star>\nlocal.dom\n g\\<^sup>~ \\<Rightarrow> (cod f \\<star> cod g) \\<star>\n                         cod g\\<^sup>~\\<guillemotright>\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> local.iso \\<a>\\<^sup>-\\<^sup>1[?f, ?g, ?h]\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. f \\<star> g \\<star> g\\<^sup>~ \\<cong> (f \\<star> g) \\<star> g\\<^sup>~", "by auto"], ["proof (state)\nthis:\n  f \\<star> g \\<star> g\\<^sup>~ \\<cong> (f \\<star> g) \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "also"], ["proof (state)\nthis:\n  f \\<star> g \\<star> g\\<^sup>~ \\<cong> (f \\<star> g) \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "have \"... \\<cong> h \\<star> g\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<star> g) \\<star> g\\<^sup>~ \\<cong> h \\<star> g\\<^sup>~", "using assms g 1 2"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map g\n  src f = trg g\n  ide g\\<^sup>~\n\ngoal (1 subgoal):\n 1. (f \\<star> g) \\<star> g\\<^sup>~ \\<cong> h \\<star> g\\<^sup>~", "by (simp add: hcomp_isomorphic_ide)"], ["proof (state)\nthis:\n  (f \\<star> g) \\<star> g\\<^sup>~ \\<cong> h \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~", "finally"], ["proof (chain)\npicking this:\n  f \\<cong> h \\<star> g\\<^sup>~", "show ?thesis"], ["proof (prove)\nusing this:\n  f \\<cong> h \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. f \\<cong> h \\<star> g\\<^sup>~", "by blast"], ["proof (state)\nthis:\n  f \\<cong> h \\<star> g\\<^sup>~\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  equivalence_map g \\<Longrightarrow> f \\<cong> h \\<star> g\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "show \"equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "assume f: \"equivalence_map f\""], ["proof (state)\nthis:\n  equivalence_map f\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "have 2: \"ide f\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide f\\<^sup>~", "using f"], ["proof (prove)\nusing this:\n  equivalence_map f\n\ngoal (1 subgoal):\n 1. ide f\\<^sup>~", "by simp"], ["proof (state)\nthis:\n  ide f\\<^sup>~\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "have \"g \\<cong> src f \\<star> g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<cong> src f \\<star> g", "using assms 1 isomorphic_unit_left isomorphic_symmetric"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  src f = trg g\n  ide ?f \\<Longrightarrow> trg ?f \\<star> ?f \\<cong> ?f\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n\ngoal (1 subgoal):\n 1. g \\<cong> src f \\<star> g", "by metis"], ["proof (state)\nthis:\n  g \\<cong> src f \\<star> g\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "also"], ["proof (state)\nthis:\n  g \\<cong> src f \\<star> g\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "have \"... \\<cong> (f\\<^sup>~ \\<star> f) \\<star> g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f \\<star> g \\<cong> (f\\<^sup>~ \\<star> f) \\<star> g", "using assms f 1 comp_quasi_inverse(1) [of f] isomorphic_symmetric\n                hcomp_isomorphic_ide"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map f\n  src f = trg g\n  equivalence_map f \\<Longrightarrow> f\\<^sup>~ \\<star> f \\<cong> src f\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n  \\<lbrakk>?f \\<cong> ?g; ide ?h; src ?f = trg ?h\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?h \\<cong> ?g \\<star> ?h\n\ngoal (1 subgoal):\n 1. src f \\<star> g \\<cong> (f\\<^sup>~ \\<star> f) \\<star> g", "by simp"], ["proof (state)\nthis:\n  src f \\<star> g \\<cong> (f\\<^sup>~ \\<star> f) \\<star> g\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "also"], ["proof (state)\nthis:\n  src f \\<star> g \\<cong> (f\\<^sup>~ \\<star> f) \\<star> g\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "have \"... \\<cong> f\\<^sup>~ \\<star> f \\<star> g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> g \\<cong> f\\<^sup>~ \\<star> f \\<star> g", "using assms f 1 assoc_in_hom [of \"f\\<^sup>~\" f g] iso_assoc isomorphic_def"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map f\n  src f = trg g\n  \\<lbrakk>ide f\\<^sup>~; ide f; ide g; src f\\<^sup>~ = trg f;\n   src f = trg g\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>[f\\<^sup>~, f, g] : src\n                       g \\<rightarrow> trg f\\<^sup>~\\<guillemotright>\n  \\<lbrakk>ide f\\<^sup>~; ide f; ide g; src f\\<^sup>~ = trg f;\n   src f = trg g\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>[f\\<^sup>~, f, g] : (local.dom\n                        f\\<^sup>~ \\<star>\n                       local.dom f) \\<star>\n                      local.dom\n                       g \\<Rightarrow> cod f\\<^sup>~ \\<star>\n cod f \\<star> cod g\\<guillemotright>\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> local.iso \\<a>[?f, ?g, ?h]\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<Rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> g \\<cong> f\\<^sup>~ \\<star> f \\<star> g", "by auto"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f) \\<star> g \\<cong> f\\<^sup>~ \\<star> f \\<star> g\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "also"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f) \\<star> g \\<cong> f\\<^sup>~ \\<star> f \\<star> g\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "have \"... \\<cong> f\\<^sup>~ \\<star> h\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<star> g \\<cong> f\\<^sup>~ \\<star> h", "using assms f 1 equivalence_map_is_ide quasi_inverses_some_quasi_inverse\n                hcomp_ide_isomorphic"], ["proof (prove)\nusing this:\n  ide f\n  ide g\n  ide h\n  f \\<star> g \\<cong> h\n  equivalence_map f\n  src f = trg g\n  equivalence_map ?f \\<Longrightarrow> ide ?f\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  \\<lbrakk>ide ?f; ?g \\<cong> ?h; src ?f = trg ?g\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?g \\<cong> ?f \\<star> ?h\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<star> g \\<cong> f\\<^sup>~ \\<star> h", "by simp"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> f \\<star> g \\<cong> f\\<^sup>~ \\<star> h\n\ngoal (1 subgoal):\n 1. equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h", "finally"], ["proof (chain)\npicking this:\n  g \\<cong> f\\<^sup>~ \\<star> h", "show ?thesis"], ["proof (prove)\nusing this:\n  g \\<cong> f\\<^sup>~ \\<star> h\n\ngoal (1 subgoal):\n 1. g \\<cong> f\\<^sup>~ \\<star> h", "by blast"], ["proof (state)\nthis:\n  g \\<cong> f\\<^sup>~ \\<star> h\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  equivalence_map f \\<Longrightarrow> g \\<cong> f\\<^sup>~ \\<star> h\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \"Composing Equivalences\""], ["", "locale composite_equivalence_in_bicategory =\n    bicategory V H \\<a> \\<i> src trg +\n    fg: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<zeta> \\<xi> +\n    hk: equivalence_in_bicategory V H \\<a> \\<i> src trg h k \\<sigma> \\<tau>\n  for V :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a\"        (infixr \"\\<cdot>\" 55)\n  and H :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a\"        (infixr \"\\<star>\" 53)\n  and \\<a> :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a \\<Rightarrow> 'a\"  (\"\\<a>[_, _, _]\")\n  and \\<i> :: \"'a \\<Rightarrow> 'a\"              (\"\\<i>[_]\")\n  and src :: \"'a \\<Rightarrow> 'a\"\n  and trg :: \"'a \\<Rightarrow> 'a\"\n  and f :: \"'a\"\n  and g :: \"'a\"\n  and \\<zeta> :: \"'a\"\n  and \\<xi> :: \"'a\"\n  and h :: \"'a\"\n  and k :: \"'a\"\n  and \\<sigma> :: \"'a\"\n  and \\<tau> :: \"'a\" +\n  assumes composable: \"src h = trg f\"\n  begin"], ["", "abbreviation \\<eta>\n    where \"\\<eta> \\<equiv> \\<a>\\<^sup>-\\<^sup>1[g, k, h \\<star> f] \\<cdot> (g \\<star> \\<a>[k, h, f]) \\<cdot> (g \\<star> \\<sigma> \\<star> f) \\<cdot> (g \\<star> \\<l>\\<^sup>-\\<^sup>1[f]) \\<cdot> \\<zeta>\""], ["", "abbreviation \\<epsilon>\n    where \"\\<epsilon> \\<equiv> \\<tau> \\<cdot> (h \\<star> \\<l>[k]) \\<cdot> (h \\<star> \\<xi> \\<star> k) \\<cdot> (h \\<star> \\<a>\\<^sup>-\\<^sup>1[f, g, k]) \\<cdot> \\<a>[h, f, g \\<star> k]\""], ["", "interpretation adjunction_data_in_bicategory V H \\<a> \\<i> src trg \\<open>h \\<star> f\\<close> \\<open>g \\<star> k\\<close> \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. adjunction_data_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg\n     (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>", "proof"], ["proof (state)\ngoal (4 subgoals):\n 1. ide (h \\<star> f)\n 2. ide (g \\<star> k)\n 3. \\<guillemotleft>\\<eta> : src (h \\<star>\n                                  f) \\<Rightarrow> (g \\<star> k) \\<star>\n             h \\<star> f\\<guillemotright>\n 4. \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                                 g \\<star>\n                                 k \\<Rightarrow> src\n            (g \\<star> k)\\<guillemotright>", "show \"ide (h \\<star> f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide (h \\<star> f)", "using composable"], ["proof (prove)\nusing this:\n  src h = trg f\n\ngoal (1 subgoal):\n 1. ide (h \\<star> f)", "by simp"], ["proof (state)\nthis:\n  ide (h \\<star> f)\n\ngoal (3 subgoals):\n 1. ide (g \\<star> k)\n 2. \\<guillemotleft>\\<eta> : src (h \\<star>\n                                  f) \\<Rightarrow> (g \\<star> k) \\<star>\n             h \\<star> f\\<guillemotright>\n 3. \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                                 g \\<star>\n                                 k \\<Rightarrow> src\n            (g \\<star> k)\\<guillemotright>", "show \"ide (g \\<star> k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ide (g \\<star> k)", "using fg.antipar hk.antipar composable"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n  trg k = src h\n  src k = trg h\n  src h = trg f\n\ngoal (1 subgoal):\n 1. ide (g \\<star> k)", "by simp"], ["proof (state)\nthis:\n  ide (g \\<star> k)\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<eta> : src (h \\<star>\n                                  f) \\<Rightarrow> (g \\<star> k) \\<star>\n             h \\<star> f\\<guillemotright>\n 2. \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                                 g \\<star>\n                                 k \\<Rightarrow> src\n            (g \\<star> k)\\<guillemotright>", "show \"\\<guillemotleft>\\<eta> : src (h \\<star> f) \\<Rightarrow> (g \\<star> k) \\<star> h \\<star> f\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<eta> : src (h \\<star>\n                                  f) \\<Rightarrow> (g \\<star> k) \\<star>\n             h \\<star> f\\<guillemotright>", "using fg.antipar hk.antipar composable"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n  trg k = src h\n  src k = trg h\n  src h = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<eta> : src (h \\<star>\n                                  f) \\<Rightarrow> (g \\<star> k) \\<star>\n             h \\<star> f\\<guillemotright>", "by fastforce"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<eta> : src (h \\<star>\n                                f) \\<Rightarrow> (g \\<star> k) \\<star>\n           h \\<star> f\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                                 g \\<star>\n                                 k \\<Rightarrow> src\n            (g \\<star> k)\\<guillemotright>", "show \"\\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star> g \\<star> k \\<Rightarrow> src (g \\<star> k)\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                                 g \\<star>\n                                 k \\<Rightarrow> src\n            (g \\<star> k)\\<guillemotright>", "using fg.antipar hk.antipar composable"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n  trg k = src h\n  src k = trg h\n  src h = trg f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                                 g \\<star>\n                                 k \\<Rightarrow> src\n            (g \\<star> k)\\<guillemotright>", "by fastforce"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<epsilon> : (h \\<star> f) \\<star>\n                               g \\<star>\n                               k \\<Rightarrow> src\n          (g \\<star> k)\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["", "interpretation equivalence_in_bicategory V H \\<a> \\<i> src trg \\<open>h \\<star> f\\<close> \\<open>g \\<star> k\\<close> \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. local.iso \\<eta>\n 2. local.iso \\<epsilon>", "show \"iso \\<eta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso \\<eta>", "using fg.antipar hk.antipar composable fg.unit_is_iso hk.unit_is_iso iso_hcomp\n              iso_lunit' hseq_char"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n  trg k = src h\n  src k = trg h\n  src h = trg f\n  local.iso \\<zeta>\n  local.iso \\<sigma>\n  \\<lbrakk>local.iso ?\\<mu>; local.iso ?\\<nu>;\n   src ?\\<nu> = trg ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> local.iso (?\\<nu> \\<star> ?\\<mu>)\n  ide ?f \\<Longrightarrow> local.iso \\<l>\\<^sup>-\\<^sup>1[?f]\n  hseq ?\\<nu> ?\\<mu> =\n  (arr ?\\<mu> \\<and> arr ?\\<nu> \\<and> src ?\\<nu> = trg ?\\<mu>)\n\ngoal (1 subgoal):\n 1. local.iso \\<eta>", "by (intro isos_compose, auto)"], ["proof (state)\nthis:\n  local.iso \\<eta>\n\ngoal (1 subgoal):\n 1. local.iso \\<epsilon>", "show \"iso \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso \\<epsilon>", "using fg.antipar hk.antipar composable fg.counit_is_iso hk.counit_is_iso iso_hcomp\n              iso_lunit hseq_char"], ["proof (prove)\nusing this:\n  trg g = src f\n  src g = trg f\n  trg k = src h\n  src k = trg h\n  src h = trg f\n  local.iso \\<xi>\n  local.iso \\<tau>\n  \\<lbrakk>local.iso ?\\<mu>; local.iso ?\\<nu>;\n   src ?\\<nu> = trg ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> local.iso (?\\<nu> \\<star> ?\\<mu>)\n  ide ?f \\<Longrightarrow> local.iso \\<l>[?f]\n  hseq ?\\<nu> ?\\<mu> =\n  (arr ?\\<mu> \\<and> arr ?\\<nu> \\<and> src ?\\<nu> = trg ?\\<mu>)\n\ngoal (1 subgoal):\n 1. local.iso \\<epsilon>", "by (intro isos_compose, auto)"], ["proof (state)\nthis:\n  local.iso \\<epsilon>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma is_equivalence:\n    shows \"equivalence_in_bicategory V H \\<a> \\<i> src trg (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>", ".."], ["", "sublocale equivalence_in_bicategory V H \\<a> \\<i> src trg \\<open>h \\<star> f\\<close> \\<open>g \\<star> k\\<close> \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>", "using is_equivalence"], ["proof (prove)\nusing this:\n  internal_equivalence (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. internal_equivalence (h \\<star> f) (g \\<star> k) \\<eta> \\<epsilon>", "by simp"], ["", "end"], ["", "context bicategory\n  begin"], ["", "lemma equivalence_maps_compose:\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"src f' = trg f\"\n    shows \"equivalence_map (f' \\<star> f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "obtain g \\<phi> \\<psi> where fg: \"equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>g \\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(1) equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>g \\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "interpret fg: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "using fg"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "by auto"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "obtain g' \\<phi>' \\<psi>' where f'g': \"equivalence_in_bicategory V H \\<a> \\<i> src trg f' g' \\<phi>' \\<psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>g' \\<phi>' \\<psi>'.\n        internal_equivalence f' g' \\<phi>' \\<psi>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms(2) equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map f'\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>g' \\<phi>' \\<psi>'.\n        internal_equivalence f' g' \\<phi>' \\<psi>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f' g' \\<phi>' \\<psi>'\n\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "interpret f'g': equivalence_in_bicategory V H \\<a> \\<i> src trg f' g' \\<phi>' \\<psi>'"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f' g' \\<phi>' \\<psi>'", "using f'g'"], ["proof (prove)\nusing this:\n  internal_equivalence f' g' \\<phi>' \\<psi>'\n\ngoal (1 subgoal):\n 1. internal_equivalence f' g' \\<phi>' \\<psi>'", "by auto"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "interpret composite_equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi> f' g' \\<phi>' \\<psi>'"], ["proof (prove)\ngoal (1 subgoal):\n 1. composite_equivalence_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src\n     trg f g \\<phi> \\<psi> f' g' \\<phi>' \\<psi>'", "using assms(3)"], ["proof (prove)\nusing this:\n  src f' = trg f\n\ngoal (1 subgoal):\n 1. composite_equivalence_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src\n     trg f g \\<phi> \\<psi> f' g' \\<phi>' \\<psi>'", "by (unfold_locales, auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "using equivalence_map_def equivalence_in_bicategory_axioms"], ["proof (prove)\nusing this:\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n  internal_equivalence (f' \\<star> f) (g \\<star> g') \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. equivalence_map (f' \\<star> f)", "by auto"], ["proof (state)\nthis:\n  equivalence_map (f' \\<star> f)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inverse_hcomp':\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"equivalence_map (f \\<star> f')\"\n    and \"quasi_inverses f g\" and \"quasi_inverses f' g'\"\n    shows \"quasi_inverses (f \\<star> f') (g' \\<star> g)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "obtain \\<phi> \\<psi> where g: \"internal_equivalence f g \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms quasi_inverses_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  equivalence_map (f \\<star> f')\n  quasi_inverses f g\n  quasi_inverses f' g'\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi> \\<psi>.\n        internal_equivalence f g \\<phi> \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "interpret g: equivalence_in_bicategory V H \\<a> \\<i> src trg f g \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "using g"], ["proof (prove)\nusing this:\n  internal_equivalence f g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. internal_equivalence f g \\<phi> \\<psi>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "obtain \\<phi>' \\<psi>' where g': \"internal_equivalence f' g' \\<phi>' \\<psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>' \\<psi>'.\n        internal_equivalence f' g' \\<phi>' \\<psi>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms quasi_inverses_def"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  equivalence_map (f \\<star> f')\n  quasi_inverses f g\n  quasi_inverses f' g'\n  quasi_inverses ?f ?g \\<equiv>\n  \\<exists>\\<phi> \\<psi>. internal_equivalence ?f ?g \\<phi> \\<psi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>' \\<psi>'.\n        internal_equivalence f' g' \\<phi>' \\<psi>' \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence f' g' \\<phi>' \\<psi>'\n\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "interpret g': equivalence_in_bicategory V H \\<a> \\<i> src trg f' g' \\<phi>' \\<psi>'"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence f' g' \\<phi>' \\<psi>'", "using g'"], ["proof (prove)\nusing this:\n  internal_equivalence f' g' \\<phi>' \\<psi>'\n\ngoal (1 subgoal):\n 1. internal_equivalence f' g' \\<phi>' \\<psi>'", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "interpret gg': composite_equivalence_in_bicategory V H \\<a> \\<i> src trg f' g' \\<phi>' \\<psi>' f g \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. composite_equivalence_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src\n     trg f' g' \\<phi>' \\<psi>' f g \\<phi> \\<psi>", "using assms equivalence_map_is_ide [of \"f \\<star> f'\"]"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  equivalence_map (f \\<star> f')\n  quasi_inverses f g\n  quasi_inverses f' g'\n  equivalence_map (f \\<star> f') \\<Longrightarrow> ide (f \\<star> f')\n\ngoal (1 subgoal):\n 1. composite_equivalence_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src\n     trg f' g' \\<phi>' \\<psi>' f g \\<phi> \\<psi>", "apply unfold_locales"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>equivalence_map f; equivalence_map f';\n     equivalence_map (f \\<star> f'); quasi_inverses f g;\n     quasi_inverses f' g';\n     equivalence_map (f \\<star> f') \\<Longrightarrow>\n     ide (f \\<star> f')\\<rbrakk>\n    \\<Longrightarrow> src f = trg f'", "using ideD(1)"], ["proof (prove)\nusing this:\n  ide ?a \\<Longrightarrow> arr ?a\n\ngoal (1 subgoal):\n 1. \\<lbrakk>equivalence_map f; equivalence_map f';\n     equivalence_map (f \\<star> f'); quasi_inverses f g;\n     quasi_inverses f' g';\n     equivalence_map (f \\<star> f') \\<Longrightarrow>\n     ide (f \\<star> f')\\<rbrakk>\n    \\<Longrightarrow> src f = trg f'", "by fastforce"], ["proof (state)\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_inverses (f \\<star> f') (g' \\<star> g)", "unfolding quasi_inverses_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>.\n       internal_equivalence (f \\<star> f') (g' \\<star> g) \\<phi> \\<psi>", "using gg'.equivalence_in_bicategory_axioms"], ["proof (prove)\nusing this:\n  internal_equivalence (f \\<star> f') (g' \\<star> g) gg'.\\<eta>\n   gg'.\\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<phi> \\<psi>.\n       internal_equivalence (f \\<star> f') (g' \\<star> g) \\<phi> \\<psi>", "by auto"], ["proof (state)\nthis:\n  quasi_inverses (f \\<star> f') (g' \\<star> g)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quasi_inverse_hcomp:\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"equivalence_map (f \\<star> f')\"\n    shows \"(f \\<star> f')\\<^sup>~ \\<cong> f'\\<^sup>~ \\<star> f\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<star> f')\\<^sup>~ \\<cong> f'\\<^sup>~ \\<star> f\\<^sup>~", "using assms quasi_inverses_some_quasi_inverse quasi_inverse_hcomp' quasi_inverse_unique"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  equivalence_map (f \\<star> f')\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f ?f\\<^sup>~\n  equivalence_map ?f \\<Longrightarrow> quasi_inverses ?f\\<^sup>~ ?f\n  \\<lbrakk>equivalence_map ?f; equivalence_map ?f';\n   equivalence_map (?f \\<star> ?f'); quasi_inverses ?f ?g;\n   quasi_inverses ?f' ?g'\\<rbrakk>\n  \\<Longrightarrow> quasi_inverses (?f \\<star> ?f') (?g' \\<star> ?g)\n  \\<lbrakk>quasi_inverses ?f ?g; quasi_inverses ?f ?g'\\<rbrakk>\n  \\<Longrightarrow> ?g \\<cong> ?g'\n\ngoal (1 subgoal):\n 1. (f \\<star> f')\\<^sup>~ \\<cong> f'\\<^sup>~ \\<star> f\\<^sup>~", "by metis"], ["", "lemma quasi_inverse_respects_isomorphic:\n    assumes \"equivalence_map f\" and \"equivalence_map f'\" and \"f \\<cong> f'\"\n    shows \"f\\<^sup>~ \\<cong> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have hpar: \"src f = src f' \\<and> trg f = trg f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f = src f' \\<and> trg f = trg f'", "using assms isomorphic_implies_hpar"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f'\n  ?f \\<cong> ?f' \\<Longrightarrow> src ?f = src ?f'\n  ?f \\<cong> ?f' \\<Longrightarrow> trg ?f = trg ?f'\n\ngoal (1 subgoal):\n 1. src f = src f' \\<and> trg f = trg f'", "by simp"], ["proof (state)\nthis:\n  src f = src f' \\<and> trg f = trg f'\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have \"f\\<^sup>~ \\<cong> f\\<^sup>~ \\<star> trg f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f\\<^sup>~ \\<star> trg f", "using isomorphic_unit_right"], ["proof (prove)\nusing this:\n  ide ?f \\<Longrightarrow> ?f \\<star> src ?f \\<cong> ?f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f\\<^sup>~ \\<star> trg f", "by (metis assms(1) isomorphic_symmetric quasi_inverse_simps(2-3))"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<cong> f\\<^sup>~ \\<star> trg f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "also"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<cong> f\\<^sup>~ \\<star> trg f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have \"... \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~", "have \"trg f \\<cong> f' \\<star> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trg f \\<cong> f' \\<star> f'\\<^sup>~", "using assms quasi_inverse_hcomp"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  \\<lbrakk>equivalence_map ?f; equivalence_map ?f';\n   equivalence_map (?f \\<star> ?f')\\<rbrakk>\n  \\<Longrightarrow> (?f \\<star> ?f')\\<^sup>~ \\<cong>\n                    ?f'\\<^sup>~ \\<star> ?f\\<^sup>~\n\ngoal (1 subgoal):\n 1. trg f \\<cong> f' \\<star> f'\\<^sup>~", "by (simp add: comp_quasi_inverse(2) hpar isomorphic_symmetric)"], ["proof (state)\nthis:\n  trg f \\<cong> f' \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~", "thus ?thesis"], ["proof (prove)\nusing this:\n  trg f \\<cong> f' \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~", "using assms hpar hcomp_ide_isomorphic isomorphic_implies_hpar(2)"], ["proof (prove)\nusing this:\n  trg f \\<cong> f' \\<star> f'\\<^sup>~\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  src f = src f' \\<and> trg f = trg f'\n  \\<lbrakk>ide ?f; ?g \\<cong> ?h; src ?f = trg ?g\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?g \\<cong> ?f \\<star> ?h\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f'\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~", "by auto"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "also"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> trg f \\<cong> f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have \"... \\<cong> (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~", "using assms hcomp_assoc_isomorphic hpar isomorphic_implies_ide(2) isomorphic_symmetric"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> (?f \\<star> ?g) \\<star> ?h \\<cong>\n                    ?f \\<star> ?g \\<star> ?h\n  src f = src f' \\<and> trg f = trg f'\n  ?f \\<cong> ?g \\<Longrightarrow> ide ?g\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~", "by auto"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~ \\<cong>\n  (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "also"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> f' \\<star> f'\\<^sup>~ \\<cong>\n  (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have \"... \\<cong> (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~", "have \"f\\<^sup>~ \\<star> f' \\<cong> f\\<^sup>~ \\<star> f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f' \\<cong> f\\<^sup>~ \\<star> f", "using assms isomorphic_symmetric hcomp_ide_isomorphic isomorphic_implies_hpar(1)"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n  \\<lbrakk>ide ?f; ?g \\<cong> ?h; src ?f = trg ?g\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?g \\<cong> ?f \\<star> ?h\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f' \\<cong> f\\<^sup>~ \\<star> f", "by auto"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> f' \\<cong> f\\<^sup>~ \\<star> f\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~", "thus ?thesis"], ["proof (prove)\nusing this:\n  f\\<^sup>~ \\<star> f' \\<cong> f\\<^sup>~ \\<star> f\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~", "using assms hcomp_isomorphic_ide isomorphic_implies_hpar(1)"], ["proof (prove)\nusing this:\n  f\\<^sup>~ \\<star> f' \\<cong> f\\<^sup>~ \\<star> f\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  \\<lbrakk>?f \\<cong> ?g; ide ?h; src ?f = trg ?h\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?h \\<cong> ?g \\<star> ?h\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n    (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~", "by auto"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n  (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n  (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "also"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f') \\<star> f'\\<^sup>~ \\<cong>\n  (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have \"... \\<cong> src f \\<star> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong>\n    src f \\<star> f'\\<^sup>~", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong>\n    src f \\<star> f'\\<^sup>~", "have \"f\\<^sup>~ \\<star> f \\<cong> src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f", "using assms comp_quasi_inverse"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  equivalence_map ?f \\<Longrightarrow> ?f\\<^sup>~ \\<star> ?f \\<cong> src ?f\n  equivalence_map ?f \\<Longrightarrow> ?f \\<star> ?f\\<^sup>~ \\<cong> trg ?f\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<star> f \\<cong> src f", "by simp"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<star> f \\<cong> src f\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong>\n    src f \\<star> f'\\<^sup>~", "thus ?thesis"], ["proof (prove)\nusing this:\n  f\\<^sup>~ \\<star> f \\<cong> src f\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong>\n    src f \\<star> f'\\<^sup>~", "using assms hcomp_isomorphic_ide isomorphic_implies_hpar"], ["proof (prove)\nusing this:\n  f\\<^sup>~ \\<star> f \\<cong> src f\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  \\<lbrakk>?f \\<cong> ?g; ide ?h; src ?f = trg ?h\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?h \\<cong> ?g \\<star> ?h\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f'\n  ?f \\<cong> ?f' \\<Longrightarrow> src ?f = src ?f'\n  ?f \\<cong> ?f' \\<Longrightarrow> trg ?f = trg ?f'\n\ngoal (1 subgoal):\n 1. (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong>\n    src f \\<star> f'\\<^sup>~", "by simp"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong> src f \\<star> f'\\<^sup>~\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong> src f \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "also"], ["proof (state)\nthis:\n  (f\\<^sup>~ \\<star> f) \\<star> f'\\<^sup>~ \\<cong> src f \\<star> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "have \"... \\<cong> f'\\<^sup>~\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f \\<star> f'\\<^sup>~ \\<cong> f'\\<^sup>~", "using assms isomorphic_unit_left"], ["proof (prove)\nusing this:\n  equivalence_map f\n  equivalence_map f'\n  f \\<cong> f'\n  ide ?f \\<Longrightarrow> trg ?f \\<star> ?f \\<cong> ?f\n\ngoal (1 subgoal):\n 1. src f \\<star> f'\\<^sup>~ \\<cong> f'\\<^sup>~", "by (metis hpar quasi_inverse_simps(2,4))"], ["proof (state)\nthis:\n  src f \\<star> f'\\<^sup>~ \\<cong> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "finally"], ["proof (chain)\npicking this:\n  f\\<^sup>~ \\<cong> f'\\<^sup>~", "show ?thesis"], ["proof (prove)\nusing this:\n  f\\<^sup>~ \\<cong> f'\\<^sup>~\n\ngoal (1 subgoal):\n 1. f\\<^sup>~ \\<cong> f'\\<^sup>~", "by blast"], ["proof (state)\nthis:\n  f\\<^sup>~ \\<cong> f'\\<^sup>~\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \"Equivalent Objects\""], ["", "context bicategory\n  begin"], ["", "definition equivalent_objects\n    where \"equivalent_objects a b \\<equiv> \\<exists>f. \\<guillemotleft>f : a \\<rightarrow> b\\<guillemotright> \\<and> equivalence_map f\""], ["", "lemma equivalent_objects_reflexive:\n    assumes \"obj a\"\n    shows \"equivalent_objects a a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalent_objects a a", "using assms"], ["proof (prove)\nusing this:\n  obj a\n\ngoal (1 subgoal):\n 1. equivalent_objects a a", "by (metis equivalent_objects_def ide_in_hom(1) objE obj_is_equivalence_map)"], ["", "lemma equivalent_objects_symmetric:\n    assumes \"equivalent_objects a b\"\n    shows \"equivalent_objects b a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalent_objects b a", "using assms"], ["proof (prove)\nusing this:\n  equivalent_objects a b\n\ngoal (1 subgoal):\n 1. equivalent_objects b a", "by (metis equivalent_objects_def in_hhomE quasi_inverse_in_hom(1) quasi_inverse_simps(1))"], ["", "lemma equivalent_objects_transitive [trans]:\n    assumes \"equivalent_objects a b\" and \"equivalent_objects b c\"\n    shows \"equivalent_objects a c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalent_objects a c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalent_objects a c", "obtain f where f: \"\\<guillemotleft>f : a \\<rightarrow> b\\<guillemotright> \\<and> equivalence_map f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<guillemotleft>f : a \\<rightarrow> b\\<guillemotright> \\<and>\n        equivalence_map f \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalent_objects_def"], ["proof (prove)\nusing this:\n  equivalent_objects a b\n  equivalent_objects b c\n  equivalent_objects ?a ?b \\<equiv>\n  \\<exists>f.\n     \\<guillemotleft>f : ?a \\<rightarrow> ?b\\<guillemotright> \\<and>\n     equivalence_map f\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<guillemotleft>f : a \\<rightarrow> b\\<guillemotright> \\<and>\n        equivalence_map f \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>f : a \\<rightarrow> b\\<guillemotright> \\<and>\n  equivalence_map f\n\ngoal (1 subgoal):\n 1. equivalent_objects a c", "obtain g where g: \"\\<guillemotleft>g : b \\<rightarrow> c\\<guillemotright> \\<and> equivalence_map g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<guillemotleft>g : b \\<rightarrow> c\\<guillemotright> \\<and>\n        equivalence_map g \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalent_objects_def"], ["proof (prove)\nusing this:\n  equivalent_objects a b\n  equivalent_objects b c\n  equivalent_objects ?a ?b \\<equiv>\n  \\<exists>f.\n     \\<guillemotleft>f : ?a \\<rightarrow> ?b\\<guillemotright> \\<and>\n     equivalence_map f\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<guillemotleft>g : b \\<rightarrow> c\\<guillemotright> \\<and>\n        equivalence_map g \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>g : b \\<rightarrow> c\\<guillemotright> \\<and>\n  equivalence_map g\n\ngoal (1 subgoal):\n 1. equivalent_objects a c", "have \"\\<guillemotleft>g \\<star> f : a \\<rightarrow> c\\<guillemotright> \\<and> equivalence_map (g \\<star> f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>g \\<star> f : a \\<rightarrow> c\\<guillemotright> \\<and>\n    equivalence_map (g \\<star> f)", "using f g equivalence_maps_compose"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f : a \\<rightarrow> b\\<guillemotright> \\<and>\n  equivalence_map f\n  \\<guillemotleft>g : b \\<rightarrow> c\\<guillemotright> \\<and>\n  equivalence_map g\n  \\<lbrakk>equivalence_map ?f; equivalence_map ?f';\n   src ?f' = trg ?f\\<rbrakk>\n  \\<Longrightarrow> equivalence_map (?f' \\<star> ?f)\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>g \\<star> f : a \\<rightarrow> c\\<guillemotright> \\<and>\n    equivalence_map (g \\<star> f)", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>g \\<star> f : a \\<rightarrow> c\\<guillemotright> \\<and>\n  equivalence_map (g \\<star> f)\n\ngoal (1 subgoal):\n 1. equivalent_objects a c", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<guillemotleft>g \\<star> f : a \\<rightarrow> c\\<guillemotright> \\<and>\n  equivalence_map (g \\<star> f)\n\ngoal (1 subgoal):\n 1. equivalent_objects a c", "using equivalent_objects_def"], ["proof (prove)\nusing this:\n  \\<guillemotleft>g \\<star> f : a \\<rightarrow> c\\<guillemotright> \\<and>\n  equivalence_map (g \\<star> f)\n  equivalent_objects ?a ?b \\<equiv>\n  \\<exists>f.\n     \\<guillemotleft>f : ?a \\<rightarrow> ?b\\<guillemotright> \\<and>\n     equivalence_map f\n\ngoal (1 subgoal):\n 1. equivalent_objects a c", "by auto"], ["proof (state)\nthis:\n  equivalent_objects a c\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \"Transporting Arrows along Equivalences\""], ["", "text \\<open>\n    We show in this section that transporting the arrows of one hom-category to another\n    along connecting equivalence maps yields an equivalence of categories.\n    This is useful, because it seems otherwise hard to establish that the transporting\n    functor is full.\n  \\<close>"], ["", "locale two_equivalences_in_bicategory =\n    bicategory V H \\<a> \\<i> src trg +\n    e\\<^sub>0: equivalence_in_bicategory V H \\<a> \\<i> src trg e\\<^sub>0 d\\<^sub>0 \\<eta>\\<^sub>0 \\<epsilon>\\<^sub>0 +\n    e\\<^sub>1: equivalence_in_bicategory V H \\<a> \\<i> src trg e\\<^sub>1 d\\<^sub>1 \\<eta>\\<^sub>1 \\<epsilon>\\<^sub>1\n  for V :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a\"       (infixr \"\\<cdot>\" 55)\n  and H :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a\"       (infixr \"\\<star>\" 53)\n  and \\<a> :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a \\<Rightarrow> 'a\" (\"\\<a>[_, _, _]\")\n  and \\<i> :: \"'a \\<Rightarrow> 'a\"             (\"\\<i>[_]\")\n  and src :: \"'a \\<Rightarrow> 'a\"\n  and trg :: \"'a \\<Rightarrow> 'a\"\n  and e\\<^sub>0 :: \"'a\"\n  and d\\<^sub>0 :: \"'a\"\n  and \\<eta>\\<^sub>0 :: \"'a\"\n  and \\<epsilon>\\<^sub>0 :: \"'a\"\n  and e\\<^sub>1 :: \"'a\"\n  and d\\<^sub>1 :: \"'a\"\n  and \\<eta>\\<^sub>1 :: \"'a\"\n  and \\<epsilon>\\<^sub>1 :: \"'a\"\n  begin"], ["", "interpretation hom: subcategory V \\<open>\\<lambda>\\<mu>. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright>)", "by simp"], ["", "(* TODO: The preceding interpretation somehow brings in unwanted notation. *)"], ["", "no_notation in_hom        (\"\\<guillemotleft>_ : _ \\<rightarrow> _\\<guillemotright>\")"], ["", "interpretation hom': subcategory V \\<open>\\<lambda>\\<mu>. \\<guillemotleft>\\<mu> : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : trg e\\<^sub>0 \\<rightarrow> trg\n                        e\\<^sub>1\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : trg e\\<^sub>0 \\<rightarrow> trg\n                        e\\<^sub>1\\<guillemotright>)", "by simp"], ["", "no_notation in_hom        (\"\\<guillemotleft>_ : _ \\<rightarrow> _\\<guillemotright>\")"], ["", "abbreviation (input) F\n    where \"F \\<equiv> \\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0\""], ["", "interpretation F: \"functor\" hom.comp hom'.comp F"], ["proof (prove)\ngoal (1 subgoal):\n 1. functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "proof"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>f.\n       \\<not> hom.arr f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0 = hom'.null\n 2. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.arr (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\n 3. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.dom (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.dom f \\<star> d\\<^sub>0\n 4. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0\n 5. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "show 1: \"\\<And>f. hom.arr f \\<Longrightarrow> hom'.arr (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.arr (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "using hom.arr_char hom'.arr_char in_hhom_def e\\<^sub>0.antipar(1-2)"], ["proof (prove)\nusing this:\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright> \\<equiv>\n  arr ?\\<mu> \\<and> src ?\\<mu> = ?a \\<and> trg ?\\<mu> = ?b\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.arr (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  hom.arr ?f \\<Longrightarrow>\n  hom'.arr (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0)\n\ngoal (4 subgoals):\n 1. \\<And>f.\n       \\<not> hom.arr f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0 = hom'.null\n 2. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.dom (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.dom f \\<star> d\\<^sub>0\n 3. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0\n 4. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "show \"\\<And>f. \\<not> hom.arr f \\<Longrightarrow> e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0 = hom'.null\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<not> hom.arr f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0 = hom'.null", "using 1 hom.arr_char hom'.null_char in_hhom_def"], ["proof (prove)\nusing this:\n  hom.arr ?f \\<Longrightarrow>\n  hom'.arr (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.null = null\n  \\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright> \\<equiv>\n  arr ?\\<mu> \\<and> src ?\\<mu> = ?a \\<and> trg ?\\<mu> = ?b\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<not> hom.arr f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0 = hom'.null", "by (metis e\\<^sub>0.antipar(1) hseqE hseq_char' hcomp_simps(2))"], ["proof (state)\nthis:\n  \\<not> hom.arr ?f \\<Longrightarrow>\n  e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0 = hom'.null\n\ngoal (3 subgoals):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.dom (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.dom f \\<star> d\\<^sub>0\n 2. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0\n 3. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "show \"\\<And>f. hom.arr f \\<Longrightarrow> hom'.dom (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) = e\\<^sub>1 \\<star> hom.dom f \\<star> d\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.dom (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.dom f \\<star> d\\<^sub>0", "using hom.arr_char hom.dom_char hom'.arr_char hom'.dom_char"], ["proof (prove)\nusing this:\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.dom ?f = (if hom.arr ?f then local.dom ?f else null)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.dom ?f = (if hom'.arr ?f then local.dom ?f else null)\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.dom (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.dom f \\<star> d\\<^sub>0", "by (metis 1 hcomp_simps(3) e\\<^sub>0.ide_right e\\<^sub>1.ide_left hom'.inclusion hseq_char ide_char)"], ["proof (state)\nthis:\n  hom.arr ?f \\<Longrightarrow>\n  hom'.dom (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0) =\n  e\\<^sub>1 \\<star> hom.dom ?f \\<star> d\\<^sub>0\n\ngoal (2 subgoals):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0\n 2. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "show \"\\<And>f. hom.arr f \\<Longrightarrow> hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) = e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0", "using hom.arr_char hom.cod_char hom'.arr_char hom'.cod_char"], ["proof (prove)\nusing this:\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.cod ?f = (if hom.arr ?f then cod ?f else null)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.cod ?f = (if hom'.arr ?f then cod ?f else null)\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom'.cod (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) =\n       e\\<^sub>1 \\<star> hom.cod f \\<star> d\\<^sub>0", "by (metis 1 hcomp_simps(4) e\\<^sub>0.ide_right e\\<^sub>1.ide_left hom'.inclusion hseq_char ide_char)"], ["proof (state)\nthis:\n  hom.arr ?f \\<Longrightarrow>\n  hom'.cod (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0) =\n  e\\<^sub>1 \\<star> hom.cod ?f \\<star> d\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "show \"\\<And>g f. hom.seq g f \\<Longrightarrow>\n                   e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 = hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0) (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "using 1 hom.seq_char hom.arr_char hom.comp_char hom'.arr_char hom'.comp_char\n              whisker_left [of e\\<^sub>1] whisker_right [of d\\<^sub>0]"], ["proof (prove)\nusing this:\n  hom.arr ?f \\<Longrightarrow>\n  hom'.arr (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0)\n  hom.seq ?g ?f = (hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.comp ?g ?f =\n  (if hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.comp ?g ?f =\n  (if hom'.arr ?f \\<and> hom'.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  \\<lbrakk>ide e\\<^sub>1; seq ?\\<nu> ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> e\\<^sub>1 \\<star> ?\\<nu> \\<cdot> ?\\<mu> =\n                    (e\\<^sub>1 \\<star> ?\\<nu>) \\<cdot>\n                    (e\\<^sub>1 \\<star> ?\\<mu>)\n  \\<lbrakk>ide d\\<^sub>0; seq ?\\<nu> ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> ?\\<nu> \\<cdot> ?\\<mu> \\<star> d\\<^sub>0 =\n                    (?\\<nu> \\<star> d\\<^sub>0) \\<cdot>\n                    (?\\<mu> \\<star> d\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<And>g f.\n       hom.seq g f \\<Longrightarrow>\n       e\\<^sub>1 \\<star> hom.comp g f \\<star> d\\<^sub>0 =\n       hom'.comp (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>g f.\n       \\<lbrakk>\\<And>f.\n                   \\<guillemotleft>f : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                   \\<guillemotleft>e\\<^sub>1 \\<star>\n                                   f \\<star>\n                                   d\\<^sub>0 : trg\n          e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           \\<guillemotleft>if \\<guillemotleft>f : src\n             e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<and>\n                              \\<guillemotleft>g : src\n             e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<and>\n                              seq g f\n                           then g \\<cdot> f\n                           else null : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> =\n           (\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f);\n        \\<And>f.\n           hom.arr f =\n           \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom.comp g f =\n           (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>f.\n           hom'.arr f =\n           \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom'.comp g f =\n           (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           e\\<^sub>1 \\<star> \\<nu> \\<cdot> \\<mu> =\n           (e\\<^sub>1 \\<star> \\<nu>) \\<cdot> (e\\<^sub>1 \\<star> \\<mu>);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           \\<nu> \\<cdot> \\<mu> \\<star> d\\<^sub>0 =\n           (\\<nu> \\<star> d\\<^sub>0) \\<cdot> (\\<mu> \\<star> d\\<^sub>0);\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n        \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n        seq g f;\n        seq (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n         (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\\<rbrakk>\n       \\<Longrightarrow> e\\<^sub>1 \\<star>\n                         (g \\<star> d\\<^sub>0) \\<cdot>\n                         (f \\<star> d\\<^sub>0) =\n                         (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0) \\<cdot>\n                         (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\n 2. \\<And>g f.\n       \\<lbrakk>\\<And>f.\n                   \\<guillemotleft>f : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                   \\<guillemotleft>e\\<^sub>1 \\<star>\n                                   f \\<star>\n                                   d\\<^sub>0 : trg\n          e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           \\<guillemotleft>if \\<guillemotleft>f : src\n             e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<and>\n                              \\<guillemotleft>g : src\n             e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<and>\n                              seq g f\n                           then g \\<cdot> f\n                           else null : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> =\n           (\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f);\n        \\<And>f.\n           hom.arr f =\n           \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom.comp g f =\n           (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>f.\n           hom'.arr f =\n           \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom'.comp g f =\n           (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           e\\<^sub>1 \\<star> \\<nu> \\<cdot> \\<mu> =\n           (e\\<^sub>1 \\<star> \\<nu>) \\<cdot> (e\\<^sub>1 \\<star> \\<mu>);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           \\<nu> \\<cdot> \\<mu> \\<star> d\\<^sub>0 =\n           (\\<nu> \\<star> d\\<^sub>0) \\<cdot> (\\<mu> \\<star> d\\<^sub>0);\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n        \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n        seq g f;\n        \\<not> seq (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n                (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\\<rbrakk>\n       \\<Longrightarrow> e\\<^sub>1 \\<star>\n                         (g \\<star> d\\<^sub>0) \\<cdot>\n                         (f \\<star> d\\<^sub>0) =\n                         null", "apply (metis hseq_char seqE src_vcomp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g f.\n       \\<lbrakk>\\<And>f.\n                   \\<guillemotleft>f : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                   \\<guillemotleft>e\\<^sub>1 \\<star>\n                                   f \\<star>\n                                   d\\<^sub>0 : trg\n          e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           \\<guillemotleft>if \\<guillemotleft>f : src\n             e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<and>\n                              \\<guillemotleft>g : src\n             e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<and>\n                              seq g f\n                           then g \\<cdot> f\n                           else null : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> =\n           (\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f);\n        \\<And>f.\n           hom.arr f =\n           \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom.comp g f =\n           (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>f.\n           hom'.arr f =\n           \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom'.comp g f =\n           (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           e\\<^sub>1 \\<star> \\<nu> \\<cdot> \\<mu> =\n           (e\\<^sub>1 \\<star> \\<nu>) \\<cdot> (e\\<^sub>1 \\<star> \\<mu>);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           \\<nu> \\<cdot> \\<mu> \\<star> d\\<^sub>0 =\n           (\\<nu> \\<star> d\\<^sub>0) \\<cdot> (\\<mu> \\<star> d\\<^sub>0);\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n        \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n        seq g f;\n        \\<not> seq (e\\<^sub>1 \\<star> g \\<star> d\\<^sub>0)\n                (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0)\\<rbrakk>\n       \\<Longrightarrow> e\\<^sub>1 \\<star>\n                         (g \\<star> d\\<^sub>0) \\<cdot>\n                         (f \\<star> d\\<^sub>0) =\n                         null", "by (metis hseq_char hseq_char')"], ["proof (state)\nthis:\n  hom.seq ?g ?f \\<Longrightarrow>\n  e\\<^sub>1 \\<star> hom.comp ?g ?f \\<star> d\\<^sub>0 =\n  hom'.comp (e\\<^sub>1 \\<star> ?g \\<star> d\\<^sub>0)\n   (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0)\n\ngoal:\nNo subgoals!", "qed"], ["", "abbreviation (input) G\n    where \"G \\<equiv> \\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0\""], ["", "interpretation G: \"functor\" hom'.comp hom.comp G"], ["proof (prove)\ngoal (1 subgoal):\n 1. functor hom'.comp hom.comp\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)", "proof"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>f.\n       \\<not> hom'.arr f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0 = hom.null\n 2. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.arr (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\n 3. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.dom (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.dom f \\<star> e\\<^sub>0\n 4. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0\n 5. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "show 1: \"\\<And>f. hom'.arr f \\<Longrightarrow> hom.arr (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.arr (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "using hom.arr_char hom'.arr_char in_hhom_def e\\<^sub>1.antipar(1) e\\<^sub>1.antipar(2)"], ["proof (prove)\nusing this:\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright> \\<equiv>\n  arr ?\\<mu> \\<and> src ?\\<mu> = ?a \\<and> trg ?\\<mu> = ?b\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.arr (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n\ngoal (4 subgoals):\n 1. \\<And>f.\n       \\<not> hom'.arr f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0 = hom.null\n 2. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.dom (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.dom f \\<star> e\\<^sub>0\n 3. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0\n 4. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "show \"\\<And>f. \\<not> hom'.arr f \\<Longrightarrow> d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0 = hom.null\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<not> hom'.arr f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0 = hom.null", "using 1 hom.arr_char hom'.null_char in_hhom_def"], ["proof (prove)\nusing this:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.null = null\n  \\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright> \\<equiv>\n  arr ?\\<mu> \\<and> src ?\\<mu> = ?a \\<and> trg ?\\<mu> = ?b\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       \\<not> hom'.arr f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0 = hom.null", "by (metis e\\<^sub>1.antipar(2) hom'.arrI hom.null_char hseqE hseq_char' hcomp_simps(2))"], ["proof (state)\nthis:\n  \\<not> hom'.arr ?f \\<Longrightarrow>\n  d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0 = hom.null\n\ngoal (3 subgoals):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.dom (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.dom f \\<star> e\\<^sub>0\n 2. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0\n 3. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "show \"\\<And>f. hom'.arr f \\<Longrightarrow> hom.dom (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) = d\\<^sub>1 \\<star> hom'.dom f \\<star> e\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.dom (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.dom f \\<star> e\\<^sub>0", "using 1 hom.arr_char hom.dom_char hom'.arr_char hom'.dom_char"], ["proof (prove)\nusing this:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.dom ?f = (if hom.arr ?f then local.dom ?f else null)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.dom ?f = (if hom'.arr ?f then local.dom ?f else null)\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.dom (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.dom f \\<star> e\\<^sub>0", "by (metis hcomp_simps(3) e\\<^sub>0.ide_left e\\<^sub>1.ide_right hom.inclusion hseq_char ide_char)"], ["proof (state)\nthis:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.dom (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0) =\n  d\\<^sub>1 \\<star> hom'.dom ?f \\<star> e\\<^sub>0\n\ngoal (2 subgoals):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0\n 2. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "show \"\\<And>f. hom'.arr f \\<Longrightarrow> hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) = d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0", "using 1 hom.arr_char hom.cod_char hom'.arr_char hom'.cod_char"], ["proof (prove)\nusing this:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.cod ?f = (if hom.arr ?f then cod ?f else null)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.cod ?f = (if hom'.arr ?f then cod ?f else null)\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom'.arr f \\<Longrightarrow>\n       hom.cod (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0) =\n       d\\<^sub>1 \\<star> hom'.cod f \\<star> e\\<^sub>0", "by (metis hcomp_simps(4) e\\<^sub>0.ide_left e\\<^sub>1.ide_right hom.inclusion hseq_char ide_char)"], ["proof (state)\nthis:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.cod (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0) =\n  d\\<^sub>1 \\<star> hom'.cod ?f \\<star> e\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "show \"\\<And>g f. hom'.seq g f \\<Longrightarrow>\n                   d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 = hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0) (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "using 1 hom'.seq_char hom'.arr_char hom'.comp_char hom.arr_char hom.comp_char\n              whisker_left [of d\\<^sub>1] whisker_right [of e\\<^sub>0]"], ["proof (prove)\nusing this:\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n  hom'.seq ?g ?f = (hom'.arr ?f \\<and> hom'.arr ?g \\<and> seq ?g ?f)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.comp ?g ?f =\n  (if hom'.arr ?f \\<and> hom'.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.comp ?g ?f =\n  (if hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  \\<lbrakk>ide d\\<^sub>1; seq ?\\<nu> ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> d\\<^sub>1 \\<star> ?\\<nu> \\<cdot> ?\\<mu> =\n                    (d\\<^sub>1 \\<star> ?\\<nu>) \\<cdot>\n                    (d\\<^sub>1 \\<star> ?\\<mu>)\n  \\<lbrakk>ide e\\<^sub>0; seq ?\\<nu> ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> ?\\<nu> \\<cdot> ?\\<mu> \\<star> e\\<^sub>0 =\n                    (?\\<nu> \\<star> e\\<^sub>0) \\<cdot>\n                    (?\\<mu> \\<star> e\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<And>g f.\n       hom'.seq g f \\<Longrightarrow>\n       d\\<^sub>1 \\<star> hom'.comp g f \\<star> e\\<^sub>0 =\n       hom.comp (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n        (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>g f.\n       \\<lbrakk>\\<And>f.\n                   \\<guillemotleft>f : trg\n  e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                   \\<guillemotleft>d\\<^sub>1 \\<star>\n                                   f \\<star>\n                                   e\\<^sub>0 : src\n          e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           \\<guillemotleft>if \\<guillemotleft>f : trg\n             e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<and>\n                              \\<guillemotleft>g : trg\n             e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<and>\n                              seq g f\n                           then g \\<cdot> f\n                           else null : trg\n  e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> =\n           (\\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f);\n        \\<And>f.\n           hom'.arr f =\n           \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom'.comp g f =\n           (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>f.\n           hom.arr f =\n           \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom.comp g f =\n           (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           d\\<^sub>1 \\<star> \\<nu> \\<cdot> \\<mu> =\n           (d\\<^sub>1 \\<star> \\<nu>) \\<cdot> (d\\<^sub>1 \\<star> \\<mu>);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           \\<nu> \\<cdot> \\<mu> \\<star> e\\<^sub>0 =\n           (\\<nu> \\<star> e\\<^sub>0) \\<cdot> (\\<mu> \\<star> e\\<^sub>0);\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n        \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n        seq g f;\n        seq (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n         (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\\<rbrakk>\n       \\<Longrightarrow> d\\<^sub>1 \\<star>\n                         (g \\<star> e\\<^sub>0) \\<cdot>\n                         (f \\<star> e\\<^sub>0) =\n                         (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0) \\<cdot>\n                         (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\n 2. \\<And>g f.\n       \\<lbrakk>\\<And>f.\n                   \\<guillemotleft>f : trg\n  e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                   \\<guillemotleft>d\\<^sub>1 \\<star>\n                                   f \\<star>\n                                   e\\<^sub>0 : src\n          e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           \\<guillemotleft>if \\<guillemotleft>f : trg\n             e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<and>\n                              \\<guillemotleft>g : trg\n             e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<and>\n                              seq g f\n                           then g \\<cdot> f\n                           else null : trg\n  e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> =\n           (\\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f);\n        \\<And>f.\n           hom'.arr f =\n           \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom'.comp g f =\n           (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>f.\n           hom.arr f =\n           \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom.comp g f =\n           (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           d\\<^sub>1 \\<star> \\<nu> \\<cdot> \\<mu> =\n           (d\\<^sub>1 \\<star> \\<nu>) \\<cdot> (d\\<^sub>1 \\<star> \\<mu>);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           \\<nu> \\<cdot> \\<mu> \\<star> e\\<^sub>0 =\n           (\\<nu> \\<star> e\\<^sub>0) \\<cdot> (\\<mu> \\<star> e\\<^sub>0);\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n        \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n        seq g f;\n        \\<not> seq (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n                (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\\<rbrakk>\n       \\<Longrightarrow> d\\<^sub>1 \\<star>\n                         (g \\<star> e\\<^sub>0) \\<cdot>\n                         (f \\<star> e\\<^sub>0) =\n                         null", "apply (metis hseq_char seqE src_vcomp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g f.\n       \\<lbrakk>\\<And>f.\n                   \\<guillemotleft>f : trg\n  e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                   \\<guillemotleft>d\\<^sub>1 \\<star>\n                                   f \\<star>\n                                   e\\<^sub>0 : src\n          e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           \\<guillemotleft>if \\<guillemotleft>f : trg\n             e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<and>\n                              \\<guillemotleft>g : trg\n             e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<and>\n                              seq g f\n                           then g \\<cdot> f\n                           else null : trg\n  e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> =\n           (\\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f);\n        \\<And>f.\n           hom'.arr f =\n           \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom'.comp g f =\n           (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>f.\n           hom.arr f =\n           \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                      e\\<^sub>1\\<guillemotright>;\n        \\<And>g f.\n           hom.comp g f =\n           (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<and>\n               seq g f\n            then g \\<cdot> f else null);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           d\\<^sub>1 \\<star> \\<nu> \\<cdot> \\<mu> =\n           (d\\<^sub>1 \\<star> \\<nu>) \\<cdot> (d\\<^sub>1 \\<star> \\<mu>);\n        \\<And>\\<nu> \\<mu>.\n           seq \\<nu> \\<mu> \\<Longrightarrow>\n           \\<nu> \\<cdot> \\<mu> \\<star> e\\<^sub>0 =\n           (\\<nu> \\<star> e\\<^sub>0) \\<cdot> (\\<mu> \\<star> e\\<^sub>0);\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n        \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n        seq g f;\n        \\<not> seq (d\\<^sub>1 \\<star> g \\<star> e\\<^sub>0)\n                (d\\<^sub>1 \\<star> f \\<star> e\\<^sub>0)\\<rbrakk>\n       \\<Longrightarrow> d\\<^sub>1 \\<star>\n                         (g \\<star> e\\<^sub>0) \\<cdot>\n                         (f \\<star> e\\<^sub>0) =\n                         null", "by (metis hseq_char hseq_char')"], ["proof (state)\nthis:\n  hom'.seq ?g ?f \\<Longrightarrow>\n  d\\<^sub>1 \\<star> hom'.comp ?g ?f \\<star> e\\<^sub>0 =\n  hom.comp (d\\<^sub>1 \\<star> ?g \\<star> e\\<^sub>0)\n   (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n\ngoal:\nNo subgoals!", "qed"], ["", "interpretation GF: composite_functor hom.comp hom'.comp hom.comp F G"], ["proof (prove)\ngoal (1 subgoal):\n 1. composite_functor hom.comp hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)", ".."], ["", "interpretation FG: composite_functor hom'.comp hom.comp hom'.comp G F"], ["proof (prove)\ngoal (1 subgoal):\n 1. composite_functor hom'.comp hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", ".."], ["", "abbreviation (input) \\<phi>\\<^sub>0\n    where \"\\<phi>\\<^sub>0 f \\<equiv> (d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot> (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[f]\""], ["", "lemma \\<phi>\\<^sub>0_in_hom:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"\\<guillemotleft>\\<phi>\\<^sub>0 f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<phi>\\<^sub>0 f : f \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : src\n         e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> &&&\n    \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : src\n         e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<phi>\\<^sub>0 f : f \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "using assms e\\<^sub>0.antipar e\\<^sub>1.antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  ide f\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "by fastforce"], ["proof (state)\nthis:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                      (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : src\n         e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>", "thus \"\\<guillemotleft>\\<phi>\\<^sub>0 f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\nusing this:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                      (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : src\n         e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>", "using assms src_dom [of \"\\<phi>\\<^sub>0 f\"] trg_dom [of \"\\<phi>\\<^sub>0 f\"]"], ["proof (prove)\nusing this:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[f] : f \\<Rightarrow> d\\<^sub>1 \\<star>\n                      (e\\<^sub>1 \\<star> f \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0\\<guillemotright>\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  ide f\n  seq (d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star> d\\<^sub>0, e\\<^sub>0])\n   (\\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]) \\<Longrightarrow>\n  src (local.dom\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[f])) =\n  src ((d\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                  e\\<^sub>0] \\<cdot>\n       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[f])\n  seq (d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star> d\\<^sub>0, e\\<^sub>0])\n   (\\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]) \\<Longrightarrow>\n  trg (local.dom\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[f])) =\n  trg ((d\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                  e\\<^sub>0] \\<cdot>\n       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[f])\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : src\n         e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>", "by (metis arrI dom_comp in_hhom_def runit'_simps(4) seqE)"], ["proof (state)\nthis:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[f] : src\n       e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma iso_\\<phi>\\<^sub>0:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"iso (\\<phi>\\<^sub>0 f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])", "using assms iso_lunit' iso_runit' e\\<^sub>0.antipar e\\<^sub>1.antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  ide f\n  ide ?f \\<Longrightarrow> local.iso \\<l>\\<^sup>-\\<^sup>1[?f]\n  ide ?f \\<Longrightarrow> local.iso \\<r>\\<^sup>-\\<^sup>1[?f]\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. local.iso\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])", "by (intro isos_compose) auto"], ["", "interpretation \\<phi>: transformation_by_components hom.comp hom.comp hom.map \\<open>G o F\\<close> \\<phi>\\<^sub>0"], ["proof (prove)\ngoal (1 subgoal):\n 1. transformation_by_components hom.comp hom.comp hom.map GF.map\n     (\\<lambda>f.\n         (d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[f])", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       hom.ide a \\<Longrightarrow>\n       hom.in_hom\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, a \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (a \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[a, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> a \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[a \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[a])\n        (hom.map a) (GF.map a)\n 2. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "fix f"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       hom.ide a \\<Longrightarrow>\n       hom.in_hom\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, a \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (a \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[a, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> a \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[a \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[a])\n        (hom.map a) (GF.map a)\n 2. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "assume f: \"hom.ide f\""], ["proof (state)\nthis:\n  hom.ide f\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       hom.ide a \\<Longrightarrow>\n       hom.in_hom\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, a \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (a \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[a, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> a \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[a \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[a])\n        (hom.map a) (GF.map a)\n 2. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "show \"hom.in_hom (\\<phi>\\<^sub>0 f) (hom.map f) (GF.map f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.in_hom\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])\n     (hom.map f) (GF.map f)", "proof (unfold hom.in_hom_char, intro conjI)"], ["proof (state)\ngoal (4 subgoals):\n 1. hom.arr (hom.map f)\n 2. hom.arr (GF.map f)\n 3. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])\n 4. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n         f \\<Rightarrow> GF.map f\\<guillemotright>", "show \"hom.arr (hom.map f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.arr (hom.map f)", "using f"], ["proof (prove)\nusing this:\n  hom.ide f\n\ngoal (1 subgoal):\n 1. hom.arr (hom.map f)", "by simp"], ["proof (state)\nthis:\n  hom.arr (hom.map f)\n\ngoal (3 subgoals):\n 1. hom.arr (GF.map f)\n 2. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])\n 3. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n         f \\<Rightarrow> GF.map f\\<guillemotright>", "show \"hom.arr (GF.map f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.arr (GF.map f)", "using f"], ["proof (prove)\nusing this:\n  hom.ide f\n\ngoal (1 subgoal):\n 1. hom.arr (GF.map f)", "by simp"], ["proof (state)\nthis:\n  hom.arr (GF.map f)\n\ngoal (2 subgoals):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])\n 2. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n         f \\<Rightarrow> GF.map f\\<guillemotright>", "show \"hom.arr (\\<phi>\\<^sub>0 f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])", "using f hom.ide_char hom.arr_char \\<phi>\\<^sub>0_in_hom"], ["proof (prove)\nusing this:\n  hom.ide f\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : src\n                          e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : ?f \\<Rightarrow> d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f])", "by simp"], ["proof (state)\nthis:\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f])\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n         f \\<Rightarrow> GF.map f\\<guillemotright>", "show \"\\<guillemotleft>\\<phi>\\<^sub>0 f : hom.map f \\<Rightarrow> GF.map f\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n         f \\<Rightarrow> GF.map f\\<guillemotright>", "using f hom.ide_char hom.arr_char hom'.ide_char hom'.arr_char F.preserves_arr\n                \\<phi>\\<^sub>0_in_hom"], ["proof (prove)\nusing this:\n  hom.ide f\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.ide ?a = (hom'.arr ?a \\<and> ide ?a)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom.arr ?f \\<Longrightarrow>\n  hom'.arr (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0)\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : src\n                          e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : ?f \\<Rightarrow> d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n         f \\<Rightarrow> GF.map f\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[f] : hom.map\n       f \\<Rightarrow> GF.map f\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  hom.in_hom\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f])\n   (hom.map f) (GF.map f)\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "fix \\<mu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "assume \\<mu>: \"hom.arr \\<mu>\""], ["proof (state)\nthis:\n  hom.arr \\<mu>\n\ngoal (1 subgoal):\n 1. \\<And>f.\n       hom.arr f \\<Longrightarrow>\n       hom.comp\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.cod f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.cod f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.cod f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.cod f])\n        (hom.map f) =\n       hom.comp (GF.map f)\n        ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[hom.dom f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> hom.dom f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[hom.dom f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[hom.dom f])", "show \"hom.comp (\\<phi>\\<^sub>0 (hom.cod \\<mu>)) (hom.map \\<mu>) =\n            hom.comp (GF.map \\<mu>) (\\<phi>\\<^sub>0 (hom.dom \\<mu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"hom.comp (\\<phi>\\<^sub>0 (hom.cod \\<mu>)) (hom.map \\<mu>) = \\<phi>\\<^sub>0 (cod \\<mu>) \\<cdot> \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "have \"hom.map \\<mu> = \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.map \\<mu> = \\<mu>", "using \\<mu>"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n\ngoal (1 subgoal):\n 1. hom.map \\<mu> = \\<mu>", "by simp"], ["proof (state)\nthis:\n  hom.map \\<mu> = \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "moreover"], ["proof (state)\nthis:\n  hom.map \\<mu> = \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "have \"\\<phi>\\<^sub>0 (hom.cod \\<mu>) = \\<phi>\\<^sub>0 (cod \\<mu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]", "using \\<mu> hom.arr_char hom.cod_char"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.cod ?f = (if hom.arr ?f then cod ?f else null)\n\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]", "by simp"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "moreover"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "have \"hom.arr (\\<phi>\\<^sub>0 (cod \\<mu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])", "using \\<mu> hom.arr_char \\<phi>\\<^sub>0_in_hom [of \"cod \\<mu>\"]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>cod \\<mu> : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n   ide (cod \\<mu>)\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod\n                                \\<mu> \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod\n                           \\<mu> \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[cod\n                     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     cod \\<mu> \\<star>\n                                     \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[cod\n                    \\<mu>] : src e\\<^sub>0 \\<rightarrow> src\n                    e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>cod \\<mu> : src\n  e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n   ide (cod \\<mu>)\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod\n                                \\<mu> \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod\n                           \\<mu> \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[cod\n                     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     cod \\<mu> \\<star>\n                                     \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[cod\n                    \\<mu>] : cod \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n               (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n               e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])", "by (metis hom.arr_cod hom.cod_simp ide_cod in_hhom_def)"], ["proof (state)\nthis:\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "moreover"], ["proof (state)\nthis:\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "have \"seq (\\<phi>\\<^sub>0 (cod \\<mu>)) \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. seq ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n     \\<mu>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<mu> : ?a \\<Rightarrow> ?b\\<guillemotright>\n 2. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[cod\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : ?b \\<Rightarrow> ?c\\<guillemotright>", "show 1: \"\\<guillemotleft>\\<mu> : dom \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu> : local.dom\n                             \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>", "using \\<mu> hom.arr_char"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu> : local.dom\n                             \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<mu> : local.dom\n                           \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[cod\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> ?c\\<guillemotright>", "show \"\\<guillemotleft>\\<phi>\\<^sub>0 (cod \\<mu>) : cod \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[cod\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n                                     (e\\<^sub>1 \\<star>\ncod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                     e\\<^sub>0\\<guillemotright>", "using \\<mu> hom.arr_char \\<phi>\\<^sub>0_in_hom"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : src\n                          e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : ?f \\<Rightarrow> d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[cod\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n                                     (e\\<^sub>1 \\<star>\ncod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                     e\\<^sub>0\\<guillemotright>", "by (metis 1 arrI hom.arr_cod hom.cod_simp ide_cod)"], ["proof (state)\nthis:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n        d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[cod\n   \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star>\n                   cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[cod\n  \\<mu>] : cod \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n                                   (e\\<^sub>1 \\<star>\n                                    cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                   e\\<^sub>0\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  seq ((d\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                  e\\<^sub>0] \\<cdot>\n       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n   \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "ultimately"], ["proof (chain)\npicking this:\n  hom.map \\<mu> = \\<mu>\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n  seq ((d\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                  e\\<^sub>0] \\<cdot>\n       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n   \\<mu>", "show ?thesis"], ["proof (prove)\nusing this:\n  hom.map \\<mu> = \\<mu>\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n  seq ((d\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                  e\\<^sub>0] \\<cdot>\n       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n   \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "using \\<mu> hom.comp_char"], ["proof (prove)\nusing this:\n  hom.map \\<mu> = \\<mu>\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>] =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n  seq ((d\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                  e\\<^sub>0] \\<cdot>\n       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n       (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n   \\<mu>\n  hom.arr \\<mu>\n  hom.comp ?g ?f =\n  (if hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "by simp"], ["proof (state)\nthis:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = (d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot> (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                           \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu> =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu>", "using \\<mu> hom.arr_char comp_assoc"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu> =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu>", "by auto"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu> =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu> =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu>\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot> (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                           \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot> (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu> =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using \\<mu> hom.arr_char runit'_naturality [of \\<mu>] comp_assoc"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  arr \\<mu> \\<Longrightarrow>\n  (\\<mu> \\<star> src \\<mu>) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu>\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu> =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by auto"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu> =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] \\<cdot> \\<mu> =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot> (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                           (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using \\<mu> hom.arr_char lunit'_naturality [of \"\\<mu> \\<star> src e\\<^sub>0\"]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hseq \\<mu> (src e\\<^sub>0) \\<Longrightarrow>\n  (trg (\\<mu> \\<star> src e\\<^sub>0) \\<star>\n   \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom (\\<mu> \\<star> src e\\<^sub>0)] =\n  \\<l>\\<^sup>-\\<^sup>1[cod (\\<mu> \\<star> src e\\<^sub>0)] \\<cdot>\n  (\\<mu> \\<star> src e\\<^sub>0)\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by force"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   (\\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot> (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                           (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by simp"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0]) \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot> ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n                           (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "have \"(\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) = \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n    \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0", "using \\<mu> hom.arr_char comp_arr_dom comp_cod_arr\n                  interchange [of \\<eta>\\<^sub>1 \"src e\\<^sub>1\" \"cod \\<mu> \\<star> \\<eta>\\<^sub>0\" \"\\<mu> \\<star> src e\\<^sub>0\"]\n                  interchange [of \"cod \\<mu>\" \\<mu> \\<eta>\\<^sub>0 \"src e\\<^sub>0\"]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n  \\<lbrakk>seq \\<eta>\\<^sub>1 (src e\\<^sub>1);\n   seq (cod \\<mu> \\<star> \\<eta>\\<^sub>0)\n    (\\<mu> \\<star> src e\\<^sub>0)\\<rbrakk>\n  \\<Longrightarrow> \\<eta>\\<^sub>1 \\<cdot> src e\\<^sub>1 \\<star>\n                    (cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    (\\<mu> \\<star> src e\\<^sub>0) =\n                    (\\<eta>\\<^sub>1 \\<star>\n                     cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)\n  \\<lbrakk>seq (cod \\<mu>) \\<mu>;\n   seq \\<eta>\\<^sub>0 (src e\\<^sub>0)\\<rbrakk>\n  \\<Longrightarrow> cod \\<mu> \\<cdot> \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 \\<cdot> src e\\<^sub>0 =\n                    (cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    (\\<mu> \\<star> src e\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n    \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0", "by (metis e\\<^sub>0.unit_in_hom(1) e\\<^sub>0.unit_simps(2) e\\<^sub>1.unit_simps(1) e\\<^sub>1.unit_simps(2)\n                hseqI' in_hhom_def)"], ["proof (state)\nthis:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "also"], ["proof (state)\nthis:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "have \"... = ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "have \"\\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 = (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star> \\<mu> \\<cdot> dom \\<mu> \\<star> (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n    (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0", "using \\<mu> hom.arr_char comp_arr_dom comp_cod_arr"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n    (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0", "by auto"], ["proof (state)\nthis:\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n  (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "also"], ["proof (state)\nthis:\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n  (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "have \"... = (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> (dom \\<mu> \\<star> \\<eta>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n    (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0 =\n    (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "using \\<mu> hom.arr_char comp_cod_arr\n                    interchange [of \\<mu> \"dom \\<mu>\" \"d\\<^sub>0 \\<star> e\\<^sub>0\" \\<eta>\\<^sub>0]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n  \\<lbrakk>seq \\<mu> (local.dom \\<mu>);\n   seq (d\\<^sub>0 \\<star> e\\<^sub>0) \\<eta>\\<^sub>0\\<rbrakk>\n  \\<Longrightarrow> \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n                    (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0 =\n                    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n                    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n    (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0 =\n    (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "by auto"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n  (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0 =\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "also"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n  (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0 =\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "have \"... = ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "using \\<mu> hom.arr_char comp_arr_dom comp_cod_arr\n                    interchange [of \"d\\<^sub>1 \\<star> e\\<^sub>1\" \\<eta>\\<^sub>1 \"\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0\" \"dom \\<mu> \\<star> \\<eta>\\<^sub>0\"]\n                    interchange [of \\<mu> \"dom \\<mu>\" \"d\\<^sub>0 \\<star> e\\<^sub>0\" \\<eta>\\<^sub>0]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>arr ?f; local.dom ?f = ?a\\<rbrakk>\n  \\<Longrightarrow> ?f \\<cdot> ?a = ?f\n  \\<lbrakk>arr ?f; cod ?f = ?b\\<rbrakk> \\<Longrightarrow> ?b \\<cdot> ?f = ?f\n  \\<lbrakk>seq (d\\<^sub>1 \\<star> e\\<^sub>1) \\<eta>\\<^sub>1;\n   seq (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)\n    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\\<rbrakk>\n  \\<Longrightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot>\n                    \\<eta>\\<^sub>1 \\<star>\n                    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n                    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) =\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n  \\<lbrakk>seq \\<mu> (local.dom \\<mu>);\n   seq (d\\<^sub>0 \\<star> e\\<^sub>0) \\<eta>\\<^sub>0\\<rbrakk>\n  \\<Longrightarrow> \\<mu> \\<cdot> local.dom \\<mu> \\<star>\n                    (d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> \\<eta>\\<^sub>0 =\n                    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n                    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "by (metis e\\<^sub>0.unit_in_hom(1) e\\<^sub>0.unit_simps(1) e\\<^sub>0.unit_simps(3) e\\<^sub>1.unit_simps(1)\n                  e\\<^sub>1.unit_simps(3) hom.inclusion hseqI)"], ["proof (state)\nthis:\n  (d\\<^sub>1 \\<star> e\\<^sub>1) \\<cdot> \\<eta>\\<^sub>1 \\<star>\n  (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "finally"], ["proof (chain)\npicking this:\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<eta>\\<^sub>1 \\<star> \\<mu> \\<star> \\<eta>\\<^sub>0 =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "finally"], ["proof (chain)\npicking this:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "have \"(\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n                          ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot> (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0)\""], ["proof (prove)\nusing this:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0) =\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0)\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by simp"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   (src e\\<^sub>1 \\<star> \\<mu> \\<star> src e\\<^sub>0)) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot> ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n                           (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using \\<mu> hom.arr_char e\\<^sub>0.antipar e\\<^sub>1.antipar assoc'_naturality [of \\<mu> d\\<^sub>0 e\\<^sub>0]\n                whisker_left [of \"d\\<^sub>1 \\<star> e\\<^sub>1\" \"\\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]\" \"\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0\"]\n                whisker_left [of \"d\\<^sub>1 \\<star> e\\<^sub>1\" \"(\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\" \"\\<a>\\<^sup>-\\<^sup>1[dom \\<mu>, d\\<^sub>0, e\\<^sub>0]\"]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  \\<lbrakk>arr \\<mu>; arr d\\<^sub>0; arr e\\<^sub>0;\n   src \\<mu> = trg d\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0\\<rbrakk>\n  \\<Longrightarrow> \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, cod d\\<^sub>0, cod e\\<^sub>0] \\<cdot>\n                    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) =\n                    ((\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[local.dom\n    \\<mu>, local.dom d\\<^sub>0, local.dom e\\<^sub>0]\n  \\<lbrakk>ide (d\\<^sub>1 \\<star> e\\<^sub>1);\n   seq \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]\n    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)\\<rbrakk>\n  \\<Longrightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] \\<cdot>\n                    (\\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0) =\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[cod\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)\n  \\<lbrakk>ide (d\\<^sub>1 \\<star> e\\<^sub>1);\n   seq ((\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)\n    \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]\\<rbrakk>\n  \\<Longrightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    ((\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[local.dom\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] =\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[local.dom\n     \\<mu>, d\\<^sub>0, e\\<^sub>0])\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by auto"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot>\n                           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot> ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                           (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by simp"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> (d\\<^sub>1 \\<star> e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n                           \\<a>[d\\<^sub>1, e\\<^sub>1, (dom \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0]) \\<cdot> ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                           (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0]) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using \\<mu> hom.arr_char e\\<^sub>0.antipar e\\<^sub>1.antipar\n                assoc_naturality [of d\\<^sub>1 e\\<^sub>1 \"(\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\"] hseqI"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  \\<lbrakk>arr d\\<^sub>1; arr e\\<^sub>1;\n   hseq (\\<mu> \\<star> d\\<^sub>0) e\\<^sub>0; src d\\<^sub>1 = trg e\\<^sub>1;\n   src e\\<^sub>1 =\n   trg ((\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)\\<rbrakk>\n  \\<Longrightarrow> \\<a>[cod d\\<^sub>1, cod\n   e\\<^sub>1, cod ((\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) =\n                    (d\\<^sub>1 \\<star>\n                     e\\<^sub>1 \\<star>\n                     (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n                    \\<a>[local.dom\n                          d\\<^sub>1, local.dom\ne\\<^sub>1, local.dom ((\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)]\n  \\<lbrakk>\\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>;\n   \\<guillemotleft>?\\<nu> : ?b \\<rightarrow> ?c\\<guillemotright>\\<rbrakk>\n  \\<Longrightarrow> hseq ?\\<nu> ?\\<mu>\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0]) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by auto"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0]) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0]) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot> (d\\<^sub>1 \\<star> e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n                           \\<a>[d\\<^sub>1, e\\<^sub>1, (dom \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot> ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                           (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0]) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0]) \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by simp"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0]) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0]) \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = ((d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot> (d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, dom \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n                           \\<a>[d\\<^sub>1, e\\<^sub>1, (dom \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] \\<cdot> ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                           (\\<eta>\\<^sub>1 \\<star> dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot> \\<l>\\<^sup>-\\<^sup>1[dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot> \\<r>\\<^sup>-\\<^sup>1[dom \\<mu>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "using \\<mu> hom.arr_char e\\<^sub>0.antipar e\\<^sub>1.antipar\n                assoc'_naturality [of e\\<^sub>1 \"\\<mu> \\<star> d\\<^sub>0\" e\\<^sub>0]\n                whisker_left [of d\\<^sub>1 \"\\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]\" \"e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\"]\n                whisker_left [of d\\<^sub>1 \"(e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\" \"\\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, dom \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0]\"]"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  \\<lbrakk>arr e\\<^sub>1; hseq \\<mu> d\\<^sub>0; arr e\\<^sub>0;\n   src e\\<^sub>1 = trg (\\<mu> \\<star> d\\<^sub>0);\n   src (\\<mu> \\<star> d\\<^sub>0) = trg e\\<^sub>0\\<rbrakk>\n  \\<Longrightarrow> \\<a>\\<^sup>-\\<^sup>1[cod\n    e\\<^sub>1, cod (\\<mu> \\<star> d\\<^sub>0), cod e\\<^sub>0] \\<cdot>\n                    (e\\<^sub>1 \\<star>\n                     (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) =\n                    ((e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star>\n                     e\\<^sub>0) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[local.dom\n    e\\<^sub>1, local.dom (\\<mu> \\<star> d\\<^sub>0), local.dom e\\<^sub>0]\n  \\<lbrakk>ide d\\<^sub>1;\n   seq \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]\n    (e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)\\<rbrakk>\n  \\<Longrightarrow> d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] \\<cdot>\n                    (e\\<^sub>1 \\<star>\n                     (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) =\n                    (d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (d\\<^sub>1 \\<star>\n                     e\\<^sub>1 \\<star>\n                     (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)\n  \\<lbrakk>ide d\\<^sub>1;\n   seq ((e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]\\<rbrakk>\n  \\<Longrightarrow> d\\<^sub>1 \\<star>\n                    ((e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star>\n                     e\\<^sub>0) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] =\n                    (d\\<^sub>1 \\<star>\n                     (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star>\n                     e\\<^sub>0) \\<cdot>\n                    (d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0])\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star>\n      (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]", "by auto"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "also"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    e\\<^sub>1 \\<star> (\\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  ((d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>]\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"... = hom.comp (GF.map \\<mu>) (\\<phi>\\<^sub>0 (hom.dom \\<mu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"hom.arr (GF.map \\<mu>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.arr (GF.map \\<mu>)", "using \\<mu>"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n\ngoal (1 subgoal):\n 1. hom.arr (GF.map \\<mu>)", "by blast"], ["proof (state)\nthis:\n  hom.arr (GF.map \\<mu>)\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "moreover"], ["proof (state)\nthis:\n  hom.arr (GF.map \\<mu>)\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"hom.arr (\\<phi>\\<^sub>0 (hom.dom \\<mu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "using \\<mu> hom.arr_char hom.in_hom_char \\<phi>\\<^sub>0_in_hom(1) hom.dom_closed hom.dom_simp\n                  hom.inclusion ide_dom"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.in_hom ?f ?a ?b =\n  (hom.arr ?a \\<and>\n   hom.arr ?b \\<and>\n   hom.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<Rightarrow> ?b\\<guillemotright>)\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : src\n                          e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>local.dom\n                   ?f : src e\\<^sub>0 \\<rightarrow> src\n               e\\<^sub>1\\<guillemotright>\n  hom.arr ?f \\<Longrightarrow> hom.dom ?f = local.dom ?f\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  arr ?f\n  arr ?f \\<Longrightarrow> ide (local.dom ?f)\n\ngoal (1 subgoal):\n 1. hom.arr\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "by metis"], ["proof (state)\nthis:\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "moreover"], ["proof (state)\nthis:\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "have \"seq (GF.map \\<mu>) (\\<phi>\\<^sub>0 (hom.dom \\<mu>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. seq (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[hom.dom\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[hom.dom\n    \\<mu>] : ?a \\<Rightarrow> ?b\\<guillemotright>\n 2. \\<guillemotleft>GF.map \\<mu> : ?b \\<Rightarrow> ?c\\<guillemotright>", "show \"\\<guillemotleft>\\<phi>\\<^sub>0 (hom.dom \\<mu>) : dom \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> dom \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[hom.dom\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[hom.dom\n    \\<mu>] : local.dom\n              \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n                                  (e\\<^sub>1 \\<star>\n                                   local.dom \\<mu> \\<star>\n                                   d\\<^sub>0) \\<star>\n                                  e\\<^sub>0\\<guillemotright>", "using \\<mu> hom.arr_char hom.dom_char hom.in_hom_char \\<phi>\\<^sub>0_in_hom hom.dom_closed\n                    hom.dom_simp hom.inclusion ide_dom"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.dom ?f = (if hom.arr ?f then local.dom ?f else null)\n  hom.in_hom ?f ?a ?b =\n  (hom.arr ?a \\<and>\n   hom.arr ?b \\<and>\n   hom.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<Rightarrow> ?b\\<guillemotright>)\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : src\n                          e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>(d\\<^sub>1 \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n                          d\\<^sub>0) \\<star>\n                         e\\<^sub>0] \\<cdot>\n                                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                     \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                    (\\<eta>\\<^sub>1 \\<star>\n                                     ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                                    \\<l>\\<^sup>-\\<^sup>1[?f \\<star>\n                   src e\\<^sub>0] \\<cdot>\n                                    \\<r>\\<^sup>-\\<^sup>1[?f] : ?f \\<Rightarrow> d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0\\<guillemotright>\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>local.dom\n                   ?f : src e\\<^sub>0 \\<rightarrow> src\n               e\\<^sub>1\\<guillemotright>\n  hom.arr ?f \\<Longrightarrow> hom.dom ?f = local.dom ?f\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  arr ?f\n  arr ?f \\<Longrightarrow> ide (local.dom ?f)\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n               d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] \\<cdot>\n                    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[hom.dom\n     \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                    (\\<eta>\\<^sub>1 \\<star>\n                     hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star>\n   src e\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[hom.dom\n    \\<mu>] : local.dom\n              \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n                                  (e\\<^sub>1 \\<star>\n                                   local.dom \\<mu> \\<star>\n                                   d\\<^sub>0) \\<star>\n                                  e\\<^sub>0\\<guillemotright>", "by metis"], ["proof (state)\nthis:\n  \\<guillemotleft>(d\\<^sub>1 \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n             d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star>\n        d\\<^sub>0) \\<star>\n       e\\<^sub>0] \\<cdot>\n                  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                   \\<a>\\<^sup>-\\<^sup>1[hom.dom\n   \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                  (\\<eta>\\<^sub>1 \\<star>\n                   hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                  \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star>\n src e\\<^sub>0] \\<cdot>\n                  \\<r>\\<^sup>-\\<^sup>1[hom.dom\n  \\<mu>] : local.dom\n            \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n                                (e\\<^sub>1 \\<star>\n                                 local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>GF.map\n                     \\<mu> : d\\<^sub>1 \\<star>\n                             (e\\<^sub>1 \\<star>\n                              local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0 \\<Rightarrow> ?c\\<guillemotright>", "show \"\\<guillemotleft>GF.map \\<mu> : d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> dom \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>GF.map\n                     \\<mu> : d\\<^sub>1 \\<star>\n                             (e\\<^sub>1 \\<star>\n                              local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n               (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n               e\\<^sub>0\\<guillemotright>", "using \\<mu> hom.arr_char hom'.arr_char F.preserves_arr"], ["proof (prove)\nusing this:\n  hom.arr \\<mu>\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom.arr ?f \\<Longrightarrow>\n  hom'.arr (e\\<^sub>1 \\<star> ?f \\<star> d\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>GF.map\n                     \\<mu> : d\\<^sub>1 \\<star>\n                             (e\\<^sub>1 \\<star>\n                              local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n               (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n               e\\<^sub>0\\<guillemotright>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>d\\<^sub>1 \\<star>\n(e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star>\ne\\<^sub>0 : d\\<^sub>1 \\<star>\n            (e\\<^sub>1 \\<star> local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n            e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n                                    (e\\<^sub>1 \\<star>\n                                     cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0\\<guillemotright>", "apply (intro hcomp_in_vhom)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>e\\<^sub>0 : e\\<^sub>0 \\<Rightarrow> e\\<^sub>0\\<guillemotright>\n 2. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>d\\<^sub>0 : d\\<^sub>0 \\<Rightarrow> d\\<^sub>0\\<guillemotright>\n 3. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<mu> : local.dom\n         \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>\n 4. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> src (local.dom \\<mu>) = trg d\\<^sub>0\n 5. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>e\\<^sub>1 : e\\<^sub>1 \\<Rightarrow> e\\<^sub>1\\<guillemotright>\n 6. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> src e\\<^sub>1 =\n                      trg (local.dom \\<mu> \\<star> d\\<^sub>0)\n 7. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> src (e\\<^sub>1 \\<star>\n                           local.dom \\<mu> \\<star> d\\<^sub>0) =\n                      trg e\\<^sub>0\n 8. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>d\\<^sub>1 : d\\<^sub>1 \\<Rightarrow> d\\<^sub>1\\<guillemotright>\n 9. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>e\\<^sub>1 \\<star>\n                        f \\<star>\n                        d\\<^sub>0 : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> src d\\<^sub>1 =\n                      trg ((e\\<^sub>1 \\<star>\n                            local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                           e\\<^sub>0)", "by (auto simp add: e\\<^sub>0.antipar e\\<^sub>1.antipar in_hhom_def)"], ["proof (state)\nthis:\n  \\<guillemotleft>GF.map\n                   \\<mu> : d\\<^sub>1 \\<star>\n                           (e\\<^sub>1 \\<star>\n                            local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                           e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n             (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n             e\\<^sub>0\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  seq (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "ultimately"], ["proof (chain)\npicking this:\n  hom.arr (GF.map \\<mu>)\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n  seq (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "show ?thesis"], ["proof (prove)\nusing this:\n  hom.arr (GF.map \\<mu>)\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n  seq (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "using \\<mu> hom.comp_char comp_assoc hom.dom_simp"], ["proof (prove)\nusing this:\n  hom.arr (GF.map \\<mu>)\n  hom.arr\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n  seq (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n  hom.arr \\<mu>\n  hom.comp ?g ?f =\n  (if hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n  hom.arr ?f \\<Longrightarrow> hom.dom ?f = local.dom ?f\n\ngoal (1 subgoal):\n 1. ((d\\<^sub>1 \\<star>\n      (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n     (d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0])) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "by auto"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  hom.comp (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0) \\<cdot>\n   (d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, local.dom \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0])) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (local.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[local.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> local.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[local.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[local.dom \\<mu>] =\n  hom.comp (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "finally"], ["proof (chain)\npicking this:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  hom.comp (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "show ?thesis"], ["proof (prove)\nusing this:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  hom.comp (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal (1 subgoal):\n 1. hom.comp\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n     (hom.map \\<mu>) =\n    hom.comp (GF.map \\<mu>)\n     ((d\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                 e\\<^sub>0] \\<cdot>\n      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n      (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])", "by blast"], ["proof (state)\nthis:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  hom.comp (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  hom.comp\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n   (hom.map \\<mu>) =\n  hom.comp (GF.map \\<mu>)\n   ((d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.dom \\<mu> \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.dom \\<mu> \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[hom.dom \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> hom.dom \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[hom.dom \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[hom.dom \\<mu>])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma transformation_by_components_\\<phi>\\<^sub>0:\n    shows \"transformation_by_components hom.comp hom.comp hom.map (G o F) \\<phi>\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. transformation_by_components hom.comp hom.comp hom.map GF.map\n     (\\<lambda>f.\n         (d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[f])", ".."], ["", "interpretation \\<phi>: natural_isomorphism hom.comp hom.comp hom.map \\<open>G o F\\<close> \\<phi>.map"], ["proof (prove)\ngoal (1 subgoal):\n 1. natural_isomorphism hom.comp hom.comp hom.map GF.map \\<phi>.map", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a. hom.ide a \\<Longrightarrow> hom.iso (\\<phi>.map a)", "fix f"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a. hom.ide a \\<Longrightarrow> hom.iso (\\<phi>.map a)", "assume \"hom.ide f\""], ["proof (state)\nthis:\n  hom.ide f\n\ngoal (1 subgoal):\n 1. \\<And>a. hom.ide a \\<Longrightarrow> hom.iso (\\<phi>.map a)", "hence f: \"ide f \\<and> \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\nusing this:\n  hom.ide f\n\ngoal (1 subgoal):\n 1. ide f \\<and>\n    \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n               e\\<^sub>1\\<guillemotright>", "using hom.ide_char hom.arr_char"], ["proof (prove)\nusing this:\n  hom.ide f\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. ide f \\<and>\n    \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n               e\\<^sub>1\\<guillemotright>", "by simp"], ["proof (state)\nthis:\n  ide f \\<and>\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<And>a. hom.ide a \\<Longrightarrow> hom.iso (\\<phi>.map a)", "show \"hom.iso (\\<phi>.map f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.iso (\\<phi>.map f)", "proof (unfold hom.iso_char hom.arr_char, intro conjI)"], ["proof (state)\ngoal (3 subgoals):\n 1. local.iso (\\<phi>.map f)\n 2. \\<guillemotleft>\\<phi>.map\n                     f : src e\\<^sub>0 \\<rightarrow> src\n                e\\<^sub>1\\<guillemotright>\n 3. \\<guillemotleft>local.inv\n                     (\\<phi>.map\n                       f) : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>", "show \"iso (\\<phi>.map f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso (\\<phi>.map f)", "using f iso_\\<phi>\\<^sub>0 \\<phi>.map_simp_ide hom.ide_char hom.arr_char"], ["proof (prove)\nusing this:\n  ide f \\<and>\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>;\n   ide ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso\n                     ((d\\<^sub>1 \\<star>\n                       \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?f \\<star>\n                 d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                      \\<a>[d\\<^sub>1, e\\<^sub>1, (?f \\<star>\n            d\\<^sub>0) \\<star>\n           e\\<^sub>0] \\<cdot>\n                      ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                       \\<a>\\<^sup>-\\<^sup>1[?f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                      (\\<eta>\\<^sub>1 \\<star>\n                       ?f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                      \\<l>\\<^sup>-\\<^sup>1[?f \\<star> src e\\<^sub>0] \\<cdot>\n                      \\<r>\\<^sup>-\\<^sup>1[?f])\n  hom.ide ?a \\<Longrightarrow>\n  \\<phi>.map ?a =\n  (d\\<^sub>1 \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, ?a \\<star> d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  \\<a>[d\\<^sub>1, e\\<^sub>1, (?a \\<star> d\\<^sub>0) \\<star>\n                             e\\<^sub>0] \\<cdot>\n  ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n   \\<a>\\<^sup>-\\<^sup>1[?a, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n  (\\<eta>\\<^sub>1 \\<star> ?a \\<star> \\<eta>\\<^sub>0) \\<cdot>\n  \\<l>\\<^sup>-\\<^sup>1[?a \\<star> src e\\<^sub>0] \\<cdot>\n  \\<r>\\<^sup>-\\<^sup>1[?a]\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. local.iso (\\<phi>.map f)", "by simp"], ["proof (state)\nthis:\n  local.iso (\\<phi>.map f)\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<phi>.map\n                     f : src e\\<^sub>0 \\<rightarrow> src\n                e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>local.inv\n                     (\\<phi>.map\n                       f) : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>", "moreover"], ["proof (state)\nthis:\n  local.iso (\\<phi>.map f)\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<phi>.map\n                     f : src e\\<^sub>0 \\<rightarrow> src\n                e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>local.inv\n                     (\\<phi>.map\n                       f) : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>", "show \"\\<guillemotleft>\\<phi>.map f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>.map\n                     f : src e\\<^sub>0 \\<rightarrow> src\n                e\\<^sub>1\\<guillemotright>", "using f hom.ide_char hom.arr_char"], ["proof (prove)\nusing this:\n  ide f \\<and>\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>.map\n                     f : src e\\<^sub>0 \\<rightarrow> src\n                e\\<^sub>1\\<guillemotright>", "by blast"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<phi>.map\n                   f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>local.inv\n                     (\\<phi>.map\n                       f) : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>", "ultimately"], ["proof (chain)\npicking this:\n  local.iso (\\<phi>.map f)\n  \\<guillemotleft>\\<phi>.map\n                   f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>", "show \"\\<guillemotleft>inv (\\<phi>.map f) : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\nusing this:\n  local.iso (\\<phi>.map f)\n  \\<guillemotleft>\\<phi>.map\n                   f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>local.inv\n                     (\\<phi>.map\n                       f) : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>local.inv\n                   (\\<phi>.map\n                     f) : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  hom.iso (\\<phi>.map f)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma natural_isomorphism_\\<phi>:\n    shows \"natural_isomorphism hom.comp hom.comp hom.map (G o F) \\<phi>.map\""], ["proof (prove)\ngoal (1 subgoal):\n 1. natural_isomorphism hom.comp hom.comp hom.map GF.map \\<phi>.map", ".."], ["", "definition \\<phi>\n    where \"\\<phi> \\<equiv> \\<phi>.map\""], ["", "lemma \\<phi>_ide_simp:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"\\<phi> f = \\<phi>\\<^sub>0 f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> f =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "unfolding \\<phi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>.map f =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "using assms hom.ide_char hom.arr_char"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  ide f\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<phi>.map f =\n    (d\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, f \\<star>\n                                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    \\<a>[d\\<^sub>1, e\\<^sub>1, (f \\<star> d\\<^sub>0) \\<star>\n                               e\\<^sub>0] \\<cdot>\n    ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n    (\\<eta>\\<^sub>1 \\<star> f \\<star> \\<eta>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f \\<star> src e\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f]", "by simp"], ["", "lemma \\<phi>_components_are_iso:\n    assumes \"\\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\" and \"ide f\"\n    shows \"iso (\\<phi> f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso (\\<phi> f)", "using assms \\<phi>_def \\<phi>.components_are_iso hom.ide_char hom.arr_char hom.iso_char"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n             e\\<^sub>1\\<guillemotright>\n  ide f\n  \\<phi> \\<equiv> \\<phi>.map\n  hom.ide ?a \\<Longrightarrow> hom.iso (\\<phi>.map ?a)\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.iso ?f =\n  (local.iso ?f \\<and> hom.arr ?f \\<and> hom.arr (local.inv ?f))\n\ngoal (1 subgoal):\n 1. local.iso (\\<phi> f)", "by simp"], ["", "lemma \\<phi>_eq:\n    shows \"\\<phi> = (\\<lambda>\\<mu>. if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> then \\<phi>\\<^sub>0 (cod \\<mu>) \\<cdot> \\<mu> else null)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> =\n    (\\<lambda>\\<mu>.\n        if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright>\n        then ((d\\<^sub>1 \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n         d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n    d\\<^sub>0) \\<star>\n   e\\<^sub>0] \\<cdot>\n              ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              (\\<eta>\\<^sub>1 \\<star>\n               cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n              \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n              \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n             \\<mu>\n        else null)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       \\<phi> \\<mu> =\n       (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright>\n        then ((d\\<^sub>1 \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n         d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n    d\\<^sub>0) \\<star>\n   e\\<^sub>0] \\<cdot>\n              ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              (\\<eta>\\<^sub>1 \\<star>\n               cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n              \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n              \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n             \\<mu>\n        else null)", "fix \\<mu>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       \\<phi> \\<mu> =\n       (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright>\n        then ((d\\<^sub>1 \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n         d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n    d\\<^sub>0) \\<star>\n   e\\<^sub>0] \\<cdot>\n              ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              (\\<eta>\\<^sub>1 \\<star>\n               cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n              \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n              \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n             \\<mu>\n        else null)", "have \"\\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<Longrightarrow> \\<phi>.map \\<mu> = null\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<phi>.map \\<mu> = null", "using hom.comp_char hom.null_char hom.arr_char"], ["proof (prove)\nusing this:\n  hom.comp ?g ?f =\n  (if hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  hom.null = null\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<phi>.map \\<mu> = null", "by (simp add: \\<phi>.is_extensional)"], ["proof (state)\nthis:\n  \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> = null\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       \\<phi> \\<mu> =\n       (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright>\n        then ((d\\<^sub>1 \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n         d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n    d\\<^sub>0) \\<star>\n   e\\<^sub>0] \\<cdot>\n              ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              (\\<eta>\\<^sub>1 \\<star>\n               cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n              \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n              \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n             \\<mu>\n        else null)", "moreover"], ["proof (state)\nthis:\n  \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> = null\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       \\<phi> \\<mu> =\n       (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright>\n        then ((d\\<^sub>1 \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n         d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n    d\\<^sub>0) \\<star>\n   e\\<^sub>0] \\<cdot>\n              ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              (\\<eta>\\<^sub>1 \\<star>\n               cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n              \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n              \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n             \\<mu>\n        else null)", "have \"\\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> \\<Longrightarrow> \\<phi>.map \\<mu> = \\<phi>\\<^sub>0 (cod \\<mu>) \\<cdot> \\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<phi>.map \\<mu> =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "unfolding \\<phi>.map_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    (if hom.arr \\<mu>\n     then hom.comp\n           ((d\\<^sub>1 \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod \\<mu> \\<star>\n       d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n            \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star>\n  d\\<^sub>0) \\<star>\n e\\<^sub>0] \\<cdot>\n            ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[hom.cod\n                                   \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n            (\\<eta>\\<^sub>1 \\<star>\n             hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n            \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star>\n                                 src e\\<^sub>0] \\<cdot>\n            \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n           (hom.map \\<mu>)\n     else hom.null) =\n    ((d\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\nd\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                e\\<^sub>0] \\<cdot>\n     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n     (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n    \\<mu>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     hom.arr \\<mu>\\<rbrakk>\n    \\<Longrightarrow> hom.comp\n                       ((d\\<^sub>1 \\<star>\n                         \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod\n                    \\<mu> \\<star>\n                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                        \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star>\n              d\\<^sub>0) \\<star>\n             e\\<^sub>0] \\<cdot>\n                        ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                         \\<a>\\<^sup>-\\<^sup>1[hom.cod\n         \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                        (\\<eta>\\<^sub>1 \\<star>\n                         hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                        \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star>\n       src e\\<^sub>0] \\<cdot>\n                        \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n                       \\<mu> =\n                      ((d\\<^sub>1 \\<star>\n                        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n             d\\<^sub>0) \\<star>\n            e\\<^sub>0] \\<cdot>\n                       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                        \\<a>\\<^sup>-\\<^sup>1[cod\n        \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                       (\\<eta>\\<^sub>1 \\<star>\n                        cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n      src e\\<^sub>0] \\<cdot>\n                       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n                      \\<mu>", "using hom.comp_char hom.arr_char hom.dom_simp hom.cod_simp"], ["proof (prove)\nusing this:\n  hom.comp ?g ?f =\n  (if hom.arr ?f \\<and> hom.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.arr ?f \\<Longrightarrow> hom.dom ?f = local.dom ?f\n  hom.arr ?f \\<Longrightarrow> hom.cod ?f = cod ?f\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     hom.arr \\<mu>\\<rbrakk>\n    \\<Longrightarrow> hom.comp\n                       ((d\\<^sub>1 \\<star>\n                         \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, hom.cod\n                    \\<mu> \\<star>\n                   d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                        \\<a>[d\\<^sub>1, e\\<^sub>1, (hom.cod \\<mu> \\<star>\n              d\\<^sub>0) \\<star>\n             e\\<^sub>0] \\<cdot>\n                        ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                         \\<a>\\<^sup>-\\<^sup>1[hom.cod\n         \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                        (\\<eta>\\<^sub>1 \\<star>\n                         hom.cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                        \\<l>\\<^sup>-\\<^sup>1[hom.cod \\<mu> \\<star>\n       src e\\<^sub>0] \\<cdot>\n                        \\<r>\\<^sup>-\\<^sup>1[hom.cod \\<mu>])\n                       \\<mu> =\n                      ((d\\<^sub>1 \\<star>\n                        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n             d\\<^sub>0) \\<star>\n            e\\<^sub>0] \\<cdot>\n                       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                        \\<a>\\<^sup>-\\<^sup>1[cod\n        \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                       (\\<eta>\\<^sub>1 \\<star>\n                        cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n      src e\\<^sub>0] \\<cdot>\n                       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n                      \\<mu>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>g f.\n        hom.comp g f =\n        (if \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f\n         then g \\<cdot> f else null);\n     \\<And>f.\n        hom.arr f =\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom.dom f = local.dom f;\n     \\<And>f.\n        \\<guillemotleft>f : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom.cod f = cod f\\<rbrakk>\n    \\<Longrightarrow> (\\<guillemotleft>(d\\<^sub>1 \\<star>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                            e\\<^sub>0] \\<cdot>\n ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n  \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright> \\<longrightarrow>\n                       \\<not> seq ((d\\<^sub>1 \\<star>\n                                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod\n                               \\<mu> \\<star>\n                              d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod\n                          \\<mu> \\<star>\n                         d\\<^sub>0) \\<star>\n                        e\\<^sub>0] \\<cdot>\n                                   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                    \\<a>\\<^sup>-\\<^sup>1[cod\n                    \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                                   (\\<eta>\\<^sub>1 \\<star>\n                                    cod \\<mu> \\<star>\n                                    \\<eta>\\<^sub>0) \\<cdot>\n                                   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n                  src e\\<^sub>0] \\<cdot>\n                                   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>])\n                               \\<mu>) \\<longrightarrow>\n                      null =\n                      ((d\\<^sub>1 \\<star>\n                        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                  d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                       \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n             d\\<^sub>0) \\<star>\n            e\\<^sub>0] \\<cdot>\n                       ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                        \\<a>\\<^sup>-\\<^sup>1[cod\n        \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                       (\\<eta>\\<^sub>1 \\<star>\n                        cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                       \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n      src e\\<^sub>0] \\<cdot>\n                       \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n                      \\<mu>", "by (metis (no_types, lifting) \\<phi>\\<^sub>0_in_hom(1) hom.cod_closed hom.inclusion ide_cod local.ext)"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>.\n       \\<phi> \\<mu> =\n       (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                          e\\<^sub>1\\<guillemotright>\n        then ((d\\<^sub>1 \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n         d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n    d\\<^sub>0) \\<star>\n   e\\<^sub>0] \\<cdot>\n              ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n               \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n              (\\<eta>\\<^sub>1 \\<star>\n               cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n              \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n              \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n             \\<mu>\n        else null)", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> = null\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>", "show \"\\<phi> \\<mu> = (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright> then \\<phi>\\<^sub>0 (cod \\<mu>) \\<cdot> \\<mu> else null)\""], ["proof (prove)\nusing this:\n  \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> = null\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<mu> =\n    (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>\n     then ((d\\<^sub>1 \\<star>\n            \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n      d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n           \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\ne\\<^sub>0] \\<cdot>\n           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n            \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n           (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n           \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n           \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n          \\<mu>\n     else null)", "unfolding \\<phi>_def"], ["proof (prove)\nusing this:\n  \\<not> \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> = null\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<phi>.map \\<mu> =\n  ((d\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                                    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                              e\\<^sub>0] \\<cdot>\n   ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n   (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n   \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n   \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n  \\<mu>\n\ngoal (1 subgoal):\n 1. \\<phi>.map \\<mu> =\n    (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                       e\\<^sub>1\\<guillemotright>\n     then ((d\\<^sub>1 \\<star>\n            \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n      d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n           \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\ne\\<^sub>0] \\<cdot>\n           ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n            \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n           (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n           \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n           \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n          \\<mu>\n     else null)", "by auto"], ["proof (state)\nthis:\n  \\<phi> \\<mu> =\n  (if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                     e\\<^sub>1\\<guillemotright>\n   then ((d\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n    d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0] \\<cdot>\n         ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n         (\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n        \\<mu>\n   else null)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<phi>_in_hom [intro]:\n    assumes \"\\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    shows \"\\<guillemotleft>\\<phi> \\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<phi> \\<mu> : dom \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>\n                     \\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                    e\\<^sub>1\\<guillemotright> &&&\n    \\<guillemotleft>\\<phi>\n                     \\<mu> : local.dom\n                              \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n            (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n            e\\<^sub>0\\<guillemotright>", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<phi>\n                     \\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                    e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>\\<phi>\n                     \\<mu> : local.dom\n                              \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n            (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n            e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<phi> \\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>\n                     \\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                    e\\<^sub>1\\<guillemotright>", "using assms \\<phi>_eq \\<phi>_def hom.arr_char \\<phi>.preserves_reflects_arr"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n  \\<phi> =\n  (\\<lambda>\\<mu>.\n      if \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                        e\\<^sub>1\\<guillemotright>\n      then ((d\\<^sub>1 \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n       d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n            \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n e\\<^sub>0] \\<cdot>\n            ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n            (\\<eta>\\<^sub>1 \\<star>\n             cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n            \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] \\<cdot>\n            \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n           \\<mu>\n      else null)\n  \\<phi> \\<equiv> \\<phi>.map\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom.arr (\\<phi>.map ?f) = hom.arr ?f\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>\n                     \\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                    e\\<^sub>1\\<guillemotright>", "by presburger"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<phi>\n                   \\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                  e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>\n                     \\<mu> : local.dom\n                              \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n            (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n            e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<phi> \\<mu> : dom \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<phi>\n                     \\<mu> : local.dom\n                              \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n            (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n            e\\<^sub>0\\<guillemotright>", "unfolding \\<phi>_eq"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>if \\<guillemotleft>\\<mu> : src\n          e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\n                    then ((d\\<^sub>1 \\<star>\n                           \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                          \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n                d\\<^sub>0) \\<star>\n               e\\<^sub>0] \\<cdot>\n                          ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                           \\<a>\\<^sup>-\\<^sup>1[cod\n           \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                          (\\<eta>\\<^sub>1 \\<star>\n                           cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                          \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n         src e\\<^sub>0] \\<cdot>\n                          \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n                         \\<mu>\n                    else null : local.dom\n                                 \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n               (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n               e\\<^sub>0\\<guillemotright>", "using assms"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>if \\<guillemotleft>\\<mu> : src\n          e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\n                    then ((d\\<^sub>1 \\<star>\n                           \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                     d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                          \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n                d\\<^sub>0) \\<star>\n               e\\<^sub>0] \\<cdot>\n                          ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                           \\<a>\\<^sup>-\\<^sup>1[cod\n           \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                          (\\<eta>\\<^sub>1 \\<star>\n                           cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                          \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n         src e\\<^sub>0] \\<cdot>\n                          \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n                         \\<mu>\n                    else null : local.dom\n                                 \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n               (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n               e\\<^sub>0\\<guillemotright>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>((d\\<^sub>1 \\<star>\n                      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n                d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                     \\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n           d\\<^sub>0) \\<star>\n          e\\<^sub>0] \\<cdot>\n                     ((d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                      \\<a>\\<^sup>-\\<^sup>1[cod\n      \\<mu>, d\\<^sub>0, e\\<^sub>0]) \\<cdot>\n                     (\\<eta>\\<^sub>1 \\<star>\n                      cod \\<mu> \\<star> \\<eta>\\<^sub>0) \\<cdot>\n                     \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n    src e\\<^sub>0] \\<cdot>\n                     \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n                    \\<mu> : local.dom\n                             \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n           (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n           e\\<^sub>0\\<guillemotright>", "apply (intro comp_in_homI)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<mu> : local.dom\n                             \\<mu> \\<Rightarrow> ?b2\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : ?b2 \\<Rightarrow> ?b7\\<guillemotright>\n 3. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] : ?b7 \\<Rightarrow> ?b6\\<guillemotright>\n 4. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : ?b6 \\<Rightarrow> ?b5\\<guillemotright>\n 5. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : ?b5 \\<Rightarrow> ?b4\\<guillemotright>\n 6. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : ?b4 \\<Rightarrow> ?b3\\<guillemotright>\n 7. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "apply auto"], ["proof (prove)\ngoal (6 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> ?b7\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] : ?b7 \\<Rightarrow> ?b6\\<guillemotright>\n 3. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : ?b6 \\<Rightarrow> ?b5\\<guillemotright>\n 4. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : ?b5 \\<Rightarrow> ?b4\\<guillemotright>\n 5. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : ?b4 \\<Rightarrow> ?b3\\<guillemotright>\n 6. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "proof -"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> ?b7\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] : ?b7 \\<Rightarrow> ?b6\\<guillemotright>\n 3. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : ?b6 \\<Rightarrow> ?b5\\<guillemotright>\n 4. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : ?b5 \\<Rightarrow> ?b4\\<guillemotright>\n 5. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : ?b4 \\<Rightarrow> ?b3\\<guillemotright>\n 6. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod \\<mu>] : cod \\<mu> \\<Rightarrow> cod \\<mu> \\<star> src e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> cod \\<mu> \\<star>\n                                     src e\\<^sub>0\\<guillemotright>", "using assms"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod\n    \\<mu>] : cod \\<mu> \\<Rightarrow> cod \\<mu> \\<star>\n                                     src e\\<^sub>0\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<r>\\<^sup>-\\<^sup>1[cod\n  \\<mu>] : cod \\<mu> \\<Rightarrow> cod \\<mu> \\<star>\n                                   src e\\<^sub>0\\<guillemotright>\n\ngoal (5 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] : cod \\<mu> \\<star>\n                    src e\\<^sub>0 \\<Rightarrow> ?b6\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : ?b6 \\<Rightarrow> ?b5\\<guillemotright>\n 3. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : ?b5 \\<Rightarrow> ?b4\\<guillemotright>\n 4. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : ?b4 \\<Rightarrow> ?b3\\<guillemotright>\n 5. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src e\\<^sub>0] : cod \\<mu> \\<star> src e\\<^sub>0 \\<Rightarrow> src e\\<^sub>1 \\<star> cod \\<mu> \\<star> src e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] : cod \\<mu> \\<star>\n                    src e\\<^sub>0 \\<Rightarrow> src e\\<^sub>1 \\<star>\n          cod \\<mu> \\<star> src e\\<^sub>0\\<guillemotright>", "using assms"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n   src e\\<^sub>0] : cod \\<mu> \\<star>\n                    src e\\<^sub>0 \\<Rightarrow> src e\\<^sub>1 \\<star>\n          cod \\<mu> \\<star> src e\\<^sub>0\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star>\n src e\\<^sub>0] : cod \\<mu> \\<star>\n                  src e\\<^sub>0 \\<Rightarrow> src e\\<^sub>1 \\<star>\n        cod \\<mu> \\<star> src e\\<^sub>0\\<guillemotright>\n\ngoal (4 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : src e\\<^sub>1 \\<star>\n                                     cod \\<mu> \\<star>\n                                     src\ne\\<^sub>0 \\<Rightarrow> ?b5\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : ?b5 \\<Rightarrow> ?b4\\<guillemotright>\n 3. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : ?b4 \\<Rightarrow> ?b3\\<guillemotright>\n 4. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<eta>\\<^sub>1 \\<star> cod \\<mu> \\<star> \\<eta>\\<^sub>0 : src e\\<^sub>1 \\<star> cod \\<mu> \\<star> src e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> cod \\<mu> \\<star> (d\\<^sub>0 \\<star> e\\<^sub>0)\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : src e\\<^sub>1 \\<star>\n                                     cod \\<mu> \\<star>\n                                     src\ne\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                        cod \\<mu> \\<star>\n                        d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>", "using assms e\\<^sub>0.unit_in_hom(2) e\\<^sub>1.unit_in_hom(2)"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>\\<eta>\\<^sub>0 : src e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star>\n                         e\\<^sub>0\\<guillemotright>\n  \\<guillemotleft>\\<eta>\\<^sub>1 : src e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                    cod \\<mu> \\<star>\n                    \\<eta>\\<^sub>0 : src e\\<^sub>1 \\<star>\n                                     cod \\<mu> \\<star>\n                                     src\ne\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                        cod \\<mu> \\<star>\n                        d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>", "apply (intro hcomp_in_vhom)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>0 : src\n e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>1 : src\n e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<eta>\\<^sub>0 : src\n                  e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star>\n    e\\<^sub>0\\<guillemotright>\n 2. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>0 : src\n e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>1 : src\n e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>cod\n \\<mu> : cod \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>\n 3. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>0 : src\n e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>1 : src\n e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> src (cod \\<mu>) = trg (src e\\<^sub>0)\n 4. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>0 : src\n e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>1 : src\n e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<eta>\\<^sub>1 : src\n                  e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n    e\\<^sub>1\\<guillemotright>\n 5. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>0 : src\n e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>1 : src\n e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> src (src e\\<^sub>1) =\n                      trg (cod \\<mu> \\<star> src e\\<^sub>0)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>0 : src\n e\\<^sub>0 \\<Rightarrow> d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>;\n     \\<guillemotleft>\\<eta>\\<^sub>1 : src\n e\\<^sub>1 \\<Rightarrow> d\\<^sub>1 \\<star>\n                         e\\<^sub>1\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>cod\n \\<mu> : cod \\<mu> \\<Rightarrow> cod \\<mu>\\<guillemotright>", "by fastforce"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<eta>\\<^sub>1 \\<star>\n                  cod \\<mu> \\<star>\n                  \\<eta>\\<^sub>0 : src e\\<^sub>1 \\<star>\n                                   cod \\<mu> \\<star>\n                                   src e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star>\n                          e\\<^sub>1) \\<star>\n                         cod \\<mu> \\<star>\n                         d\\<^sub>0 \\<star> e\\<^sub>0\\<guillemotright>\n\ngoal (3 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                   cod \\<mu> \\<star>\n                                   d\\<^sub>0 \\<star>\n                                   e\\<^sub>0 \\<Rightarrow> ?b4\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : ?b4 \\<Rightarrow> ?b3\\<guillemotright>\n 3. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, d\\<^sub>0, e\\<^sub>0] :\n                 (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> cod \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                   cod \\<mu> \\<star>\n                                   d\\<^sub>0 \\<star>\n                                   e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star>\n                      e\\<^sub>1) \\<star>\n                     (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                     e\\<^sub>0\\<guillemotright>", "using assms assoc'_in_hom e\\<^sub>0.antipar(1-2) e\\<^sub>1.antipar(2)"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[?f, ?g, ?h] : src\n                                  ?h \\<rightarrow> trg ?f\\<guillemotright>\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[?f, ?g, ?h] : local.dom\n                                  ?f \\<star>\n                                 local.dom ?g \\<star>\n                                 local.dom\n                                  ?h \\<Rightarrow> (cod ?f \\<star>\n              cod ?g) \\<star>\n             cod ?h\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[cod\n    \\<mu>, d\\<^sub>0, e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                   cod \\<mu> \\<star>\n                                   d\\<^sub>0 \\<star>\n                                   e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star>\n                      e\\<^sub>1) \\<star>\n                     (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                     e\\<^sub>0\\<guillemotright>", "apply (intro hcomp_in_vhom)"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : src\n                                     h \\<rightarrow> trg f\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : local.dom\n                                     f \\<star>\n                                    local.dom g \\<star>\n                                    local.dom\n                                     h \\<Rightarrow> (cod f \\<star>\n                cod g) \\<star>\n               cod h\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[cod\n                      \\<mu>, d\\<^sub>0, e\\<^sub>0] : cod \\<mu> \\<star>\n               d\\<^sub>0 \\<star>\n               e\\<^sub>0 \\<Rightarrow> (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n e\\<^sub>0\\<guillemotright>\n 2. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : src\n                                     h \\<rightarrow> trg f\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : local.dom\n                                     f \\<star>\n                                    local.dom g \\<star>\n                                    local.dom\n                                     h \\<Rightarrow> (cod f \\<star>\n                cod g) \\<star>\n               cod h\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>e\\<^sub>1 : e\\<^sub>1 \\<Rightarrow> e\\<^sub>1\\<guillemotright>\n 3. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : src\n                                     h \\<rightarrow> trg f\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : local.dom\n                                     f \\<star>\n                                    local.dom g \\<star>\n                                    local.dom\n                                     h \\<Rightarrow> (cod f \\<star>\n                cod g) \\<star>\n               cod h\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>d\\<^sub>1 : d\\<^sub>1 \\<Rightarrow> d\\<^sub>1\\<guillemotright>\n 4. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : src\n                                     h \\<rightarrow> trg f\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : local.dom\n                                     f \\<star>\n                                    local.dom g \\<star>\n                                    local.dom\n                                     h \\<Rightarrow> (cod f \\<star>\n                cod g) \\<star>\n               cod h\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> src d\\<^sub>1 = trg e\\<^sub>1\n 5. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : src\n                                     h \\<rightarrow> trg f\\<guillemotright>;\n     \\<And>f g h.\n        \\<lbrakk>ide f; ide g; ide h; src f = trg g; src g = trg h\\<rbrakk>\n        \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[f, g, h] : local.dom\n                                     f \\<star>\n                                    local.dom g \\<star>\n                                    local.dom\n                                     h \\<Rightarrow> (cod f \\<star>\n                cod g) \\<star>\n               cod h\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> src (d\\<^sub>1 \\<star> e\\<^sub>1) =\n                      trg (cod \\<mu> \\<star> d\\<^sub>0 \\<star> e\\<^sub>0)", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>(d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                  \\<a>\\<^sup>-\\<^sup>1[cod\n  \\<mu>, d\\<^sub>0, e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0 \\<star>\n                                 e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star>\n                    e\\<^sub>1) \\<star>\n                   (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                   e\\<^sub>0\\<guillemotright>\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                      (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0 \\<Rightarrow> ?b3\\<guillemotright>\n 2. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : ?b3 \\<Rightarrow> d\\<^sub>1 \\<star>\n                  (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0] :\n                (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star> (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star> e\\<^sub>1 \\<star> (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                      (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n        e\\<^sub>1 \\<star>\n        (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>", "using assms assoc_in_hom e\\<^sub>0.antipar(1-2) e\\<^sub>1.antipar(2)"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>[?f, ?g, ?h] : src\n                  ?h \\<rightarrow> trg ?f\\<guillemotright>\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>[?f, ?g, ?h] : (local.dom ?f \\<star>\n                  local.dom ?g) \\<star>\n                 local.dom\n                  ?h \\<Rightarrow> cod ?f \\<star>\n                                   cod ?g \\<star> cod ?h\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n          d\\<^sub>0) \\<star>\n         e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                      (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n        e\\<^sub>1 \\<star>\n        (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<a>[d\\<^sub>1, e\\<^sub>1, (cod \\<mu> \\<star>\n        d\\<^sub>0) \\<star>\n       e\\<^sub>0] : (d\\<^sub>1 \\<star> e\\<^sub>1) \\<star>\n                    (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                    e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n      e\\<^sub>1 \\<star>\n      (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : d\\<^sub>1 \\<star>\ne\\<^sub>1 \\<star>\n(cod \\<mu> \\<star> d\\<^sub>0) \\<star>\ne\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star>\n                         cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "show \"\\<guillemotleft>d\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star> d\\<^sub>0, e\\<^sub>0] :\n                 d\\<^sub>1 \\<star> e\\<^sub>1 \\<star> (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : d\\<^sub>1 \\<star>\ne\\<^sub>1 \\<star>\n(cod \\<mu> \\<star> d\\<^sub>0) \\<star>\ne\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star>\n                         cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "using assms assoc'_in_hom [of \"d\\<^sub>1\" \"e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0\" \"e\\<^sub>0\"]\n                e\\<^sub>0.antipar(1-2) e\\<^sub>1.antipar(1-2)"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>ide d\\<^sub>1;\n   ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n   src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n   src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n   trg e\\<^sub>0\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                              cod \\<mu> \\<star>\n                              d\\<^sub>0, e\\<^sub>0] : src\n                 e\\<^sub>0 \\<rightarrow> trg d\\<^sub>1\\<guillemotright>\n  \\<lbrakk>ide d\\<^sub>1;\n   ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n   src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n   src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n   trg e\\<^sub>0\\<rbrakk>\n  \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                              cod \\<mu> \\<star>\n                              d\\<^sub>0, e\\<^sub>0] : local.dom\n                 d\\<^sub>1 \\<star>\n                local.dom\n                 (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                local.dom\n                 e\\<^sub>0 \\<Rightarrow> (cod d\\<^sub>1 \\<star>\n    cod (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0)) \\<star>\n   cod e\\<^sub>0\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>d\\<^sub>1 \\<star>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n              d\\<^sub>0, e\\<^sub>0] : d\\<^sub>1 \\<star>\ne\\<^sub>1 \\<star>\n(cod \\<mu> \\<star> d\\<^sub>0) \\<star>\ne\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n                        (e\\<^sub>1 \\<star>\n                         cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                        e\\<^sub>0\\<guillemotright>", "apply (intro hcomp_in_vhom)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide d\\<^sub>1;\n      ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n      src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n      trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0, e\\<^sub>0] : src\n                    e\\<^sub>0 \\<rightarrow> trg d\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide d\\<^sub>1;\n      ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n      src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n      trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0, e\\<^sub>0] : local.dom\n                    d\\<^sub>1 \\<star>\n                   local.dom\n                    (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                   local.dom\n                    e\\<^sub>0 \\<Rightarrow> (cod d\\<^sub>1 \\<star>\n       cod (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0)) \\<star>\n      cod e\\<^sub>0\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod\n                                 \\<mu> \\<star>\n                                d\\<^sub>0, e\\<^sub>0] : e\\<^sub>1 \\<star>\n                  (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0 \\<Rightarrow> (e\\<^sub>1 \\<star>\n     cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0\\<guillemotright>\n 2. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide d\\<^sub>1;\n      ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n      src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n      trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0, e\\<^sub>0] : src\n                    e\\<^sub>0 \\<rightarrow> trg d\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide d\\<^sub>1;\n      ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n      src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n      trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0, e\\<^sub>0] : local.dom\n                    d\\<^sub>1 \\<star>\n                   local.dom\n                    (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                   local.dom\n                    e\\<^sub>0 \\<Rightarrow> (cod d\\<^sub>1 \\<star>\n       cod (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0)) \\<star>\n      cod e\\<^sub>0\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>d\\<^sub>1 : d\\<^sub>1 \\<Rightarrow> d\\<^sub>1\\<guillemotright>\n 3. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide d\\<^sub>1;\n      ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n      src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n      trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0, e\\<^sub>0] : src\n                    e\\<^sub>0 \\<rightarrow> trg d\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide d\\<^sub>1;\n      ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0); ide e\\<^sub>0;\n      src d\\<^sub>1 = trg (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) =\n      trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, e\\<^sub>1 \\<star>\n                                 cod \\<mu> \\<star>\n                                 d\\<^sub>0, e\\<^sub>0] : local.dom\n                    d\\<^sub>1 \\<star>\n                   local.dom\n                    (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                   local.dom\n                    e\\<^sub>0 \\<Rightarrow> (cod d\\<^sub>1 \\<star>\n       cod (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0)) \\<star>\n      cod e\\<^sub>0\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> src d\\<^sub>1 =\n                      trg (e\\<^sub>1 \\<star>\n                           (cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu> : src\ne\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>;\n     \\<lbrakk>ide (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0);\n      src (cod \\<mu> \\<star> d\\<^sub>0) = trg e\\<^sub>0\\<rbrakk>\n     \\<Longrightarrow> \\<guillemotleft>local.inv\n  \\<a>[d\\<^sub>1, e\\<^sub>1 \\<star>\n                  cod \\<mu> \\<star>\n                  d\\<^sub>0, e\\<^sub>0] : d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0 \\<Rightarrow> (d\\<^sub>1 \\<star>\n                             e\\<^sub>1 \\<star>\n                             cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                            e\\<^sub>0\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1\\<rbrakk>\n    \\<Longrightarrow> \\<guillemotleft>\\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod\n                                 \\<mu> \\<star>\n                                d\\<^sub>0, e\\<^sub>0] : e\\<^sub>1 \\<star>\n                  (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                  e\\<^sub>0 \\<Rightarrow> (e\\<^sub>1 \\<star>\n     cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n    e\\<^sub>0\\<guillemotright>", "by fastforce"], ["proof (state)\nthis:\n  \\<guillemotleft>d\\<^sub>1 \\<star>\n                  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, cod \\<mu> \\<star>\n            d\\<^sub>0, e\\<^sub>0] : d\\<^sub>1 \\<star>\n                                    e\\<^sub>1 \\<star>\n                                    (cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                                    e\\<^sub>0 \\<Rightarrow> d\\<^sub>1 \\<star>\n                      (e\\<^sub>1 \\<star>\n                       cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n                      e\\<^sub>0\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<phi>\n                   \\<mu> : local.dom\n                            \\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n          (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star>\n          e\\<^sub>0\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<phi>_simps [simp]:\n    assumes \"\\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src e\\<^sub>1\\<guillemotright>\"\n    shows \"arr (\\<phi> \\<mu>)\"\n    and \"src (\\<phi> \\<mu>) = src e\\<^sub>0\" and \"trg (\\<phi> \\<mu>) = src e\\<^sub>1\"\n    and \"dom (\\<phi> \\<mu>) = dom \\<mu>\" and \"cod (\\<phi> \\<mu>) = d\\<^sub>1 \\<star> (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (arr (\\<phi> \\<mu>) &&& src (\\<phi> \\<mu>) = src e\\<^sub>0) &&&\n    trg (\\<phi> \\<mu>) = src e\\<^sub>1 &&&\n    local.dom (\\<phi> \\<mu>) = local.dom \\<mu> &&&\n    cod (\\<phi> \\<mu>) =\n    d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0", "using assms \\<phi>_in_hom"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                 e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                  e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>\\<phi>\n                   ?\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                   e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : src e\\<^sub>0 \\<rightarrow> src\n                  e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>\\<phi>\n                   ?\\<mu> : local.dom\n                             ?\\<mu> \\<Rightarrow> d\\<^sub>1 \\<star>\n            (e\\<^sub>1 \\<star> cod ?\\<mu> \\<star> d\\<^sub>0) \\<star>\n            e\\<^sub>0\\<guillemotright>\n\ngoal (1 subgoal):\n 1. (arr (\\<phi> \\<mu>) &&& src (\\<phi> \\<mu>) = src e\\<^sub>0) &&&\n    trg (\\<phi> \\<mu>) = src e\\<^sub>1 &&&\n    local.dom (\\<phi> \\<mu>) = local.dom \\<mu> &&&\n    cod (\\<phi> \\<mu>) =\n    d\\<^sub>1 \\<star>\n    (e\\<^sub>1 \\<star> cod \\<mu> \\<star> d\\<^sub>0) \\<star> e\\<^sub>0", "by auto"], ["", "interpretation d\\<^sub>0: equivalence_in_bicategory V H \\<a> \\<i> src trg d\\<^sub>0 e\\<^sub>0 \\<open>inv \\<epsilon>\\<^sub>0\\<close> \\<open>inv \\<eta>\\<^sub>0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence d\\<^sub>0 e\\<^sub>0 (local.inv \\<epsilon>\\<^sub>0)\n     (local.inv \\<eta>\\<^sub>0)", "using e\\<^sub>0.dual_equivalence"], ["proof (prove)\nusing this:\n  internal_equivalence d\\<^sub>0 e\\<^sub>0 (local.inv \\<epsilon>\\<^sub>0)\n   (local.inv \\<eta>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. internal_equivalence d\\<^sub>0 e\\<^sub>0 (local.inv \\<epsilon>\\<^sub>0)\n     (local.inv \\<eta>\\<^sub>0)", "by simp"], ["", "interpretation d\\<^sub>1: equivalence_in_bicategory V H \\<a> \\<i> src trg d\\<^sub>1 e\\<^sub>1 \\<open>inv \\<epsilon>\\<^sub>1\\<close> \\<open>inv \\<eta>\\<^sub>1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence d\\<^sub>1 e\\<^sub>1 (local.inv \\<epsilon>\\<^sub>1)\n     (local.inv \\<eta>\\<^sub>1)", "using e\\<^sub>1.dual_equivalence"], ["proof (prove)\nusing this:\n  internal_equivalence d\\<^sub>1 e\\<^sub>1 (local.inv \\<epsilon>\\<^sub>1)\n   (local.inv \\<eta>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. internal_equivalence d\\<^sub>1 e\\<^sub>1 (local.inv \\<epsilon>\\<^sub>1)\n     (local.inv \\<eta>\\<^sub>1)", "by simp"], ["", "interpretation d\\<^sub>0e\\<^sub>0: two_equivalences_in_bicategory V H \\<a> \\<i> src trg\n                           d\\<^sub>0 e\\<^sub>0 \\<open>inv \\<epsilon>\\<^sub>0\\<close> \\<open>inv \\<eta>\\<^sub>0\\<close> d\\<^sub>1 e\\<^sub>1 \\<open>inv \\<epsilon>\\<^sub>1\\<close> \\<open>inv \\<eta>\\<^sub>1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. two_equivalences_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg\n     d\\<^sub>0 e\\<^sub>0 (local.inv \\<epsilon>\\<^sub>0)\n     (local.inv \\<eta>\\<^sub>0) d\\<^sub>1 e\\<^sub>1\n     (local.inv \\<epsilon>\\<^sub>1) (local.inv \\<eta>\\<^sub>1)", ".."], ["", "interpretation \\<psi>: inverse_transformation hom'.comp hom'.comp hom'.map \\<open>F o G\\<close> d\\<^sub>0e\\<^sub>0.\\<phi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse_transformation hom'.comp hom'.comp hom'.map FG.map\n     d\\<^sub>0e\\<^sub>0.\\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inverse_transformation hom'.comp hom'.comp hom'.map FG.map\n     d\\<^sub>0e\\<^sub>0.\\<phi>", "interpret \\<psi>': natural_isomorphism hom'.comp hom'.comp hom'.map \\<open>F o G\\<close> d\\<^sub>0e\\<^sub>0.\\<phi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. natural_isomorphism hom'.comp hom'.comp hom'.map FG.map\n     d\\<^sub>0e\\<^sub>0.\\<phi>", "using d\\<^sub>0e\\<^sub>0.natural_isomorphism_\\<phi> e\\<^sub>0.antipar e\\<^sub>1.antipar d\\<^sub>0e\\<^sub>0.\\<phi>_eq d\\<^sub>0e\\<^sub>0.\\<phi>_def"], ["proof (prove)\nusing this:\n  natural_isomorphism\n   (subcategory.comp (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                        d\\<^sub>1\\<guillemotright>))\n   (subcategory.comp (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                        d\\<^sub>1\\<guillemotright>))\n   (identity_functor.map\n     (subcategory.comp (\\<cdot>)\n       (\\<lambda>\\<mu>.\n           \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                          d\\<^sub>1\\<guillemotright>)))\n   FG.map\n   (transformation_by_components.map\n     (subcategory.comp (\\<cdot>)\n       (\\<lambda>\\<mu>.\n           \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                          d\\<^sub>1\\<guillemotright>))\n     (subcategory.comp (\\<cdot>)\n       (\\<lambda>\\<mu>.\n           \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                          d\\<^sub>1\\<guillemotright>))\n     (identity_functor.map\n       (subcategory.comp (\\<cdot>)\n         (\\<lambda>\\<mu>.\n             \\<guillemotleft>\\<mu> : src\nd\\<^sub>0 \\<rightarrow> src d\\<^sub>1\\<guillemotright>)))\n     (\\<lambda>f.\n         (e\\<^sub>1 \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f \\<star>\n    e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n         \\<a>[e\\<^sub>1, d\\<^sub>1, (f \\<star> e\\<^sub>0) \\<star>\n                                    d\\<^sub>0] \\<cdot>\n         ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n          \\<a>\\<^sup>-\\<^sup>1[f, e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n         (local.inv \\<epsilon>\\<^sub>1 \\<star>\n          f \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n         \\<l>\\<^sup>-\\<^sup>1[f \\<star> src d\\<^sub>0] \\<cdot>\n         \\<r>\\<^sup>-\\<^sup>1[f]))\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  d\\<^sub>0e\\<^sub>0.\\<phi> =\n  (\\<lambda>\\<mu>.\n      if \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                        d\\<^sub>1\\<guillemotright>\n      then ((e\\<^sub>1 \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, cod \\<mu> \\<star>\n       e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n            \\<a>[e\\<^sub>1, d\\<^sub>1, (cod \\<mu> \\<star> e\\<^sub>0) \\<star>\n d\\<^sub>0] \\<cdot>\n            ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n            (local.inv \\<epsilon>\\<^sub>1 \\<star>\n             cod \\<mu> \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n            \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src d\\<^sub>0] \\<cdot>\n            \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n           \\<mu>\n      else null)\n  d\\<^sub>0e\\<^sub>0.\\<phi> \\<equiv>\n  transformation_by_components.map\n   (subcategory.comp (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                        d\\<^sub>1\\<guillemotright>))\n   (subcategory.comp (\\<cdot>)\n     (\\<lambda>\\<mu>.\n         \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                        d\\<^sub>1\\<guillemotright>))\n   (identity_functor.map\n     (subcategory.comp (\\<cdot>)\n       (\\<lambda>\\<mu>.\n           \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                          d\\<^sub>1\\<guillemotright>)))\n   (\\<lambda>f.\n       (e\\<^sub>1 \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f \\<star>\n  e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n       \\<a>[e\\<^sub>1, d\\<^sub>1, (f \\<star> e\\<^sub>0) \\<star>\n                                  d\\<^sub>0] \\<cdot>\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f, e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n       (local.inv \\<epsilon>\\<^sub>1 \\<star>\n        f \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n       \\<l>\\<^sup>-\\<^sup>1[f \\<star> src d\\<^sub>0] \\<cdot>\n       \\<r>\\<^sup>-\\<^sup>1[f])\n\ngoal (1 subgoal):\n 1. natural_isomorphism hom'.comp hom'.comp hom'.map FG.map\n     d\\<^sub>0e\\<^sub>0.\\<phi>", "by metis"], ["proof (state)\ngoal (1 subgoal):\n 1. inverse_transformation hom'.comp hom'.comp hom'.map FG.map\n     d\\<^sub>0e\\<^sub>0.\\<phi>", "show \"inverse_transformation hom'.comp hom'.comp hom'.map (F o G) d\\<^sub>0e\\<^sub>0.\\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse_transformation hom'.comp hom'.comp hom'.map FG.map\n     d\\<^sub>0e\\<^sub>0.\\<phi>", ".."], ["proof (state)\nthis:\n  inverse_transformation hom'.comp hom'.comp hom'.map FG.map\n   d\\<^sub>0e\\<^sub>0.\\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "definition \\<psi>\n    where \"\\<psi> \\<equiv> \\<psi>.map\""], ["", "lemma \\<psi>_ide_simp:\n    assumes \"\\<guillemotleft>f': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\" and \"ide f'\"\n    shows \"\\<psi> f' = \\<r>[f'] \\<cdot> \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot> ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot> (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"hom'.ide f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.ide f'", "using assms hom'.ide_char hom'.arr_char"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  hom'.ide ?a = (hom'.arr ?a \\<and> ide ?a)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. hom'.ide f'", "by simp"], ["proof (state)\nthis:\n  hom'.ide f'\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "hence \"\\<psi>.map f' = hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')\""], ["proof (prove)\nusing this:\n  hom'.ide f'\n\ngoal (1 subgoal):\n 1. \\<psi>.map f' = hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')", "using assms"], ["proof (prove)\nusing this:\n  hom'.ide f'\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n\ngoal (1 subgoal):\n 1. \\<psi>.map f' = hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')", "by simp"], ["proof (state)\nthis:\n  \\<psi>.map f' = hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "also"], ["proof (state)\nthis:\n  \\<psi>.map f' = hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"... = inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n    local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')", "using hom'.inv_char \\<open>hom'.ide f'\\<close>"], ["proof (prove)\nusing this:\n  hom'.iso ?f \\<Longrightarrow> hom'.inv ?f = local.inv ?f\n  hom'.ide f'\n\ngoal (1 subgoal):\n 1. hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n    local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')", "by simp"], ["proof (state)\nthis:\n  hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n  local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "also"], ["proof (state)\nthis:\n  hom'.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n  local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f')\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"... = inv (d\\<^sub>0e\\<^sub>0.\\<phi>\\<^sub>0 f')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n    local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f'])", "using assms e\\<^sub>0.antipar e\\<^sub>1.antipar d\\<^sub>0e\\<^sub>0.\\<phi>_eq d\\<^sub>0e\\<^sub>0.\\<phi>_ide_simp [of f']"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  d\\<^sub>0e\\<^sub>0.\\<phi> =\n  (\\<lambda>\\<mu>.\n      if \\<guillemotleft>\\<mu> : src d\\<^sub>0 \\<rightarrow> src\n                        d\\<^sub>1\\<guillemotright>\n      then ((e\\<^sub>1 \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, cod \\<mu> \\<star>\n       e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n            \\<a>[e\\<^sub>1, d\\<^sub>1, (cod \\<mu> \\<star> e\\<^sub>0) \\<star>\n d\\<^sub>0] \\<cdot>\n            ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[cod \\<mu>, e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n            (local.inv \\<epsilon>\\<^sub>1 \\<star>\n             cod \\<mu> \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n            \\<l>\\<^sup>-\\<^sup>1[cod \\<mu> \\<star> src d\\<^sub>0] \\<cdot>\n            \\<r>\\<^sup>-\\<^sup>1[cod \\<mu>]) \\<cdot>\n           \\<mu>\n      else null)\n  \\<lbrakk>\\<guillemotleft>f' : src d\\<^sub>0 \\<rightarrow> src\n                       d\\<^sub>1\\<guillemotright>;\n   ide f'\\<rbrakk>\n  \\<Longrightarrow> d\\<^sub>0e\\<^sub>0.\\<phi> f' =\n                    (e\\<^sub>1 \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n               e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n                    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n                     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n                     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n                    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n                    \\<r>\\<^sup>-\\<^sup>1[f']\n\ngoal (1 subgoal):\n 1. local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n    local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f'])", "by simp"], ["proof (state)\nthis:\n  local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n  local.inv\n   ((e\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                                     e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "also"], ["proof (state)\nthis:\n  local.inv (d\\<^sub>0e\\<^sub>0.\\<phi> f') =\n  local.inv\n   ((e\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                                     e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"... = ((((inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot> inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot> inv (inv \\<epsilon>\\<^sub>1 \\<star> f' \\<star> inv \\<epsilon>\\<^sub>0)) \\<cdot>\n                         inv ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot> inv \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]) \\<cdot>\n                         inv (e\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "text \\<open>There has to be a better way to do this.\\<close>"], ["proof (state)\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have 1: \"\\<And>A B C D E F.\n                 \\<lbrakk> iso A; iso B; iso C; iso D; iso E; iso F;\n                   arr (((((A \\<cdot> B) \\<cdot> C) \\<cdot> D) \\<cdot> E) \\<cdot> F) \\<rbrakk> \\<Longrightarrow>\n                 inv (((((A \\<cdot> B) \\<cdot> C) \\<cdot> D) \\<cdot> E) \\<cdot> F) =\n                 inv F \\<cdot> inv E \\<cdot> inv D \\<cdot> inv C \\<cdot> inv B \\<cdot> inv A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>A B C D E F.\n       \\<lbrakk>local.iso A; local.iso B; local.iso C; local.iso D;\n        local.iso E; local.iso F;\n        seq ((((A \\<cdot> B) \\<cdot> C) \\<cdot> D) \\<cdot> E) F\\<rbrakk>\n       \\<Longrightarrow> local.inv\n                          (((((A \\<cdot> B) \\<cdot> C) \\<cdot> D) \\<cdot>\n                            E) \\<cdot>\n                           F) =\n                         local.inv F \\<cdot>\n                         local.inv E \\<cdot>\n                         local.inv D \\<cdot>\n                         local.inv C \\<cdot> local.inv B \\<cdot> local.inv A", "using inv_comp isos_compose seqE"], ["proof (prove)\nusing this:\n  \\<lbrakk>local.iso ?f; local.iso ?g; seq ?g ?f\\<rbrakk>\n  \\<Longrightarrow> local.inv (?g \\<cdot> ?f) =\n                    local.inv ?f \\<cdot> local.inv ?g\n  \\<lbrakk>local.iso ?f; local.iso ?f'; seq ?f' ?f\\<rbrakk>\n  \\<Longrightarrow> local.iso (?f' \\<cdot> ?f)\n  \\<lbrakk>seq ?g ?f;\n   \\<lbrakk>arr ?f; arr ?g; local.dom ?g = cod ?f\\<rbrakk>\n   \\<Longrightarrow> ?T\\<rbrakk>\n  \\<Longrightarrow> ?T\n\ngoal (1 subgoal):\n 1. \\<And>A B C D E F.\n       \\<lbrakk>local.iso A; local.iso B; local.iso C; local.iso D;\n        local.iso E; local.iso F;\n        seq ((((A \\<cdot> B) \\<cdot> C) \\<cdot> D) \\<cdot> E) F\\<rbrakk>\n       \\<Longrightarrow> local.inv\n                          (((((A \\<cdot> B) \\<cdot> C) \\<cdot> D) \\<cdot>\n                            E) \\<cdot>\n                           F) =\n                         local.inv F \\<cdot>\n                         local.inv E \\<cdot>\n                         local.inv D \\<cdot>\n                         local.inv C \\<cdot> local.inv B \\<cdot> local.inv A", "by metis"], ["proof (state)\nthis:\n  \\<lbrakk>local.iso ?A; local.iso ?B; local.iso ?C; local.iso ?D;\n   local.iso ?E; local.iso ?F;\n   seq ((((?A \\<cdot> ?B) \\<cdot> ?C) \\<cdot> ?D) \\<cdot> ?E) ?F\\<rbrakk>\n  \\<Longrightarrow> local.inv\n                     (((((?A \\<cdot> ?B) \\<cdot> ?C) \\<cdot> ?D) \\<cdot>\n                       ?E) \\<cdot>\n                      ?F) =\n                    local.inv ?F \\<cdot>\n                    local.inv ?E \\<cdot>\n                    local.inv ?D \\<cdot>\n                    local.inv ?C \\<cdot> local.inv ?B \\<cdot> local.inv ?A\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"arr (d\\<^sub>0e\\<^sub>0.\\<phi>\\<^sub>0 f')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. seq (e\\<^sub>1 \\<star>\n         \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n     (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f'])", "using assms e\\<^sub>0.antipar(2) e\\<^sub>1.antipar(2) d\\<^sub>0e\\<^sub>0.iso_\\<phi>\\<^sub>0 [of f'] iso_is_arr"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  src d\\<^sub>0 = trg e\\<^sub>0\n  src d\\<^sub>1 = trg e\\<^sub>1\n  \\<lbrakk>\\<guillemotleft>f' : src d\\<^sub>0 \\<rightarrow> src\n                       d\\<^sub>1\\<guillemotright>;\n   ide f'\\<rbrakk>\n  \\<Longrightarrow> local.iso\n                     ((e\\<^sub>1 \\<star>\n                       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                 e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n            e\\<^sub>0) \\<star>\n           d\\<^sub>0] \\<cdot>\n                      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n                       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n                       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n                      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n                      \\<r>\\<^sup>-\\<^sup>1[f'])\n  local.iso ?f \\<Longrightarrow> arr ?f\n\ngoal (1 subgoal):\n 1. seq (e\\<^sub>1 \\<star>\n         \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n     (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f'])", "by simp"], ["proof (state)\nthis:\n  seq (e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n   (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  seq (e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n   (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"iso \\<r>\\<^sup>-\\<^sup>1[f']\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso \\<r>\\<^sup>-\\<^sup>1[f']", "using assms iso_runit'"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  ide ?f \\<Longrightarrow> local.iso \\<r>\\<^sup>-\\<^sup>1[?f]\n\ngoal (1 subgoal):\n 1. local.iso \\<r>\\<^sup>-\\<^sup>1[f']", "by simp"], ["proof (state)\nthis:\n  local.iso \\<r>\\<^sup>-\\<^sup>1[f']\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.iso \\<r>\\<^sup>-\\<^sup>1[f']\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]", "using assms iso_lunit'"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  ide ?f \\<Longrightarrow> local.iso \\<l>\\<^sup>-\\<^sup>1[?f]\n\ngoal (1 subgoal):\n 1. local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]", "by auto"], ["proof (state)\nthis:\n  local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"iso (inv \\<epsilon>\\<^sub>1 \\<star> f' \\<star> inv \\<epsilon>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0)", "using assms e\\<^sub>0.antipar(2) e\\<^sub>1.antipar(2) in_hhom_def"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  src d\\<^sub>0 = trg e\\<^sub>0\n  src d\\<^sub>1 = trg e\\<^sub>1\n  \\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright> \\<equiv>\n  arr ?\\<mu> \\<and> src ?\\<mu> = ?a \\<and> trg ?\\<mu> = ?b\n\ngoal (1 subgoal):\n 1. local.iso\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  local.iso\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.iso\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"iso ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])", "using assms e\\<^sub>0.antipar e\\<^sub>1.antipar(1) e\\<^sub>1.antipar(2) in_hhom_def iso_hcomp"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  \\<guillemotleft>?\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright> \\<equiv>\n  arr ?\\<mu> \\<and> src ?\\<mu> = ?a \\<and> trg ?\\<mu> = ?b\n  \\<lbrakk>local.iso ?\\<mu>; local.iso ?\\<nu>;\n   src ?\\<nu> = trg ?\\<mu>\\<rbrakk>\n  \\<Longrightarrow> local.iso (?\\<nu> \\<star> ?\\<mu>)\n\ngoal (1 subgoal):\n 1. local.iso\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])", "by (metis calculation(1) e\\<^sub>0.ide_left e\\<^sub>0.ide_right e\\<^sub>1.ide_left e\\<^sub>1.ide_right hseqE\n              ide_is_iso iso_assoc' seqE)"], ["proof (state)\nthis:\n  local.iso\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.iso\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"iso \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]", "using assms e\\<^sub>0.antipar e\\<^sub>1.antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. local.iso\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]", "by auto"], ["proof (state)\nthis:\n  local.iso\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.iso\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"iso (e\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "using assms e\\<^sub>0.antipar e\\<^sub>1.antipar"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. local.iso\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "by (metis calculation(1) e\\<^sub>0.ide_left e\\<^sub>0.ide_right e\\<^sub>1.ide_left e\\<^sub>1.ide_right\n              iso_hcomp ide_hcomp hseqE ideD(1) ide_is_iso in_hhomE iso_assoc'\n              seqE hcomp_simps(1-2))"], ["proof (state)\nthis:\n  local.iso\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "ultimately"], ["proof (chain)\npicking this:\n  seq (e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n   (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n  local.iso \\<r>\\<^sup>-\\<^sup>1[f']\n  local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\n  local.iso\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0)\n  local.iso\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])\n  local.iso\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\n  local.iso\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "show ?thesis"], ["proof (prove)\nusing this:\n  seq (e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n   (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n  local.iso \\<r>\\<^sup>-\\<^sup>1[f']\n  local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\n  local.iso\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0)\n  local.iso\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])\n  local.iso\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\n  local.iso\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "using 1 [of \"e\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]\" \"\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\"\n                      \"(e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]\" \"inv \\<epsilon>\\<^sub>1 \\<star> f' \\<star> inv \\<epsilon>\\<^sub>0\" \"\\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\" \"\\<r>\\<^sup>-\\<^sup>1[f']\"]\n                comp_assoc"], ["proof (prove)\nusing this:\n  seq (e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n   (\\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f'])\n  local.iso \\<r>\\<^sup>-\\<^sup>1[f']\n  local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]\n  local.iso\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0)\n  local.iso\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])\n  local.iso\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0]\n  local.iso\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n  \\<lbrakk>local.iso\n            (e\\<^sub>1 \\<star>\n             \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n       e\\<^sub>0, d\\<^sub>0]);\n   local.iso\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0];\n   local.iso\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]);\n   local.iso\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0);\n   local.iso \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0];\n   local.iso \\<r>\\<^sup>-\\<^sup>1[f'];\n   seq (((((e\\<^sub>1 \\<star>\n            \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n      e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n           \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\nd\\<^sub>0]) \\<cdot>\n          ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n           \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n         (local.inv \\<epsilon>\\<^sub>1 \\<star>\n          f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n        \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0])\n    \\<r>\\<^sup>-\\<^sup>1[f']\\<rbrakk>\n  \\<Longrightarrow> local.inv\n                     ((((((e\\<^sub>1 \\<star>\n                           \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                     e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                          \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n                e\\<^sub>0) \\<star>\n               d\\<^sub>0]) \\<cdot>\n                         ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n                          \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n                        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n                         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n                       \\<l>\\<^sup>-\\<^sup>1[f' \\<star>\n      trg e\\<^sub>0]) \\<cdot>\n                      \\<r>\\<^sup>-\\<^sup>1[f']) =\n                    local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n                    local.inv\n                     \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n                    local.inv\n                     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n                      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n                    local.inv\n                     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n                      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                    local.inv\n                     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n           e\\<^sub>0) \\<star>\n          d\\<^sub>0] \\<cdot>\n                    local.inv\n                     (e\\<^sub>1 \\<star>\n                      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                e\\<^sub>0, d\\<^sub>0])\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. local.inv\n     ((e\\<^sub>1 \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0] \\<cdot>\n      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n       \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n      \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n      \\<r>\\<^sup>-\\<^sup>1[f']) =\n    ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "by (metis e\\<^sub>0.antipar(2))"], ["proof (state)\nthis:\n  local.inv\n   ((e\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                                     e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f']) =\n  ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n      local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n     local.inv\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n   local.inv\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0]) \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local.inv\n   ((e\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                                     e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f']) =\n  ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n      local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n     local.inv\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n   local.inv\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0]) \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "also"], ["proof (state)\nthis:\n  local.inv\n   ((e\\<^sub>1 \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star>\n                                     e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0] \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    (local.inv \\<epsilon>\\<^sub>1 \\<star>\n     f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    \\<l>\\<^sup>-\\<^sup>1[f' \\<star> src d\\<^sub>0] \\<cdot>\n    \\<r>\\<^sup>-\\<^sup>1[f']) =\n  ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n      local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n     local.inv\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n   local.inv\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0]) \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"... = inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot> inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot> inv (inv \\<epsilon>\\<^sub>1 \\<star> f' \\<star> inv \\<epsilon>\\<^sub>0) \\<cdot>\n                         inv ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot> inv \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot>\n                         inv (e\\<^sub>1 \\<star> \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "using comp_assoc"], ["proof (prove)\nusing this:\n  (?h \\<cdot> ?g) \\<cdot> ?f = ?h \\<cdot> ?g \\<cdot> ?f\n\ngoal (1 subgoal):\n 1. ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n        local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n       local.inv\n        (local.inv \\<epsilon>\\<^sub>1 \\<star>\n         f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n      local.inv\n       ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n        \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n     local.inv\n      \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                 d\\<^sub>0]) \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "by simp"], ["proof (state)\nthis:\n  ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n      local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n     local.inv\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n   local.inv\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0]) \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n  local.inv\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  local.inv\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0] \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "also"], ["proof (state)\nthis:\n  ((((local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n      local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0]) \\<cdot>\n     local.inv\n      (local.inv \\<epsilon>\\<^sub>1 \\<star>\n       f' \\<star> local.inv \\<epsilon>\\<^sub>0)) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0])) \\<cdot>\n   local.inv\n    \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                               d\\<^sub>0]) \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n  local.inv\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  local.inv\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0] \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"... = \\<r>[f'] \\<cdot> \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot> ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                         \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot> (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']", "using assms inv_inv iso_runit"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  local.iso ?f \\<Longrightarrow> local.inv (local.inv ?f) = ?f\n  ide ?f \\<Longrightarrow> local.iso \\<r>[?f]\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']", "by blast"], ["proof (state)\nthis:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] = \\<l>[f' \\<star> trg e\\<^sub>0]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n    \\<l>[f' \\<star> trg e\\<^sub>0]", "using assms iso_lunit"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  ide ?f \\<Longrightarrow> local.iso \\<l>[?f]\n\ngoal (1 subgoal):\n 1. local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n    \\<l>[f' \\<star> trg e\\<^sub>0]", "by auto"], ["proof (state)\nthis:\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n  \\<l>[f' \\<star> trg e\\<^sub>0]\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n  \\<l>[f' \\<star> trg e\\<^sub>0]\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"inv (inv \\<epsilon>\\<^sub>1 \\<star> f' \\<star> inv \\<epsilon>\\<^sub>0) = \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "have \"src (inv \\<epsilon>\\<^sub>1) = trg f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src (local.inv \\<epsilon>\\<^sub>1) = trg f'", "using assms(1) e\\<^sub>1.antipar(2)"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. src (local.inv \\<epsilon>\\<^sub>1) = trg f'", "by auto"], ["proof (state)\nthis:\n  src (local.inv \\<epsilon>\\<^sub>1) = trg f'\n\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "moreover"], ["proof (state)\nthis:\n  src (local.inv \\<epsilon>\\<^sub>1) = trg f'\n\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "have \"src f' = trg (inv \\<epsilon>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f' = trg (local.inv \\<epsilon>\\<^sub>0)", "using assms(1) e\\<^sub>0.antipar(2)"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  src d\\<^sub>0 = trg e\\<^sub>0\n\ngoal (1 subgoal):\n 1. src f' = trg (local.inv \\<epsilon>\\<^sub>0)", "by auto"], ["proof (state)\nthis:\n  src f' = trg (local.inv \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "ultimately"], ["proof (chain)\npicking this:\n  src (local.inv \\<epsilon>\\<^sub>1) = trg f'\n  src f' = trg (local.inv \\<epsilon>\\<^sub>0)", "show ?thesis"], ["proof (prove)\nusing this:\n  src (local.inv \\<epsilon>\\<^sub>1) = trg f'\n  src f' = trg (local.inv \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "using assms(2) e\\<^sub>0.counit_is_iso e\\<^sub>1.counit_is_iso"], ["proof (prove)\nusing this:\n  src (local.inv \\<epsilon>\\<^sub>1) = trg f'\n  src f' = trg (local.inv \\<epsilon>\\<^sub>0)\n  ide f'\n  local.iso \\<epsilon>\\<^sub>0\n  local.iso \\<epsilon>\\<^sub>1\n\ngoal (1 subgoal):\n 1. local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n    \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "by simp"], ["proof (state)\nthis:\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n  \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n  \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "ultimately"], ["proof (chain)\npicking this:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n  \\<l>[f' \\<star> trg e\\<^sub>0]\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n  \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0", "show ?thesis"], ["proof (prove)\nusing this:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n  \\<l>[f' \\<star> trg e\\<^sub>0]\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n  \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "using assms e\\<^sub>0.antipar e\\<^sub>1.antipar"], ["proof (prove)\nusing this:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] = \\<r>[f']\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] =\n  \\<l>[f' \\<star> trg e\\<^sub>0]\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) =\n  \\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n\ngoal (1 subgoal):\n 1. local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n    local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    local.inv\n     (local.inv \\<epsilon>\\<^sub>1 \\<star>\n      f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n    local.inv\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    local.inv\n     \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                                d\\<^sub>0] \\<cdot>\n    local.inv\n     (e\\<^sub>1 \\<star>\n      \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "by auto"], ["proof (state)\nthis:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n  local.inv\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  local.inv\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0] \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n  \\<r>[f'] \\<cdot>\n  \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local.inv \\<r>\\<^sup>-\\<^sup>1[f'] \\<cdot>\n  local.inv \\<l>\\<^sup>-\\<^sup>1[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  local.inv\n   (local.inv \\<epsilon>\\<^sub>1 \\<star>\n    f' \\<star> local.inv \\<epsilon>\\<^sub>0) \\<cdot>\n  local.inv\n   ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  local.inv\n   \\<a>[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0] \\<cdot>\n  local.inv\n   (e\\<^sub>1 \\<star>\n    \\<a>\\<^sup>-\\<^sup>1[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0]) =\n  \\<r>[f'] \\<cdot>\n  \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "finally"], ["proof (chain)\npicking this:\n  \\<psi>.map f' =\n  \\<r>[f'] \\<cdot>\n  \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<psi>.map f' =\n  \\<r>[f'] \\<cdot>\n  \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "using \\<psi>_def"], ["proof (prove)\nusing this:\n  \\<psi>.map f' =\n  \\<r>[f'] \\<cdot>\n  \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n  \\<psi> \\<equiv> \\<psi>.map\n\ngoal (1 subgoal):\n 1. \\<psi> f' =\n    \\<r>[f'] \\<cdot>\n    \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])", "by simp"], ["proof (state)\nthis:\n  \\<psi> f' =\n  \\<r>[f'] \\<cdot>\n  \\<l>[f' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star> f' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[f', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (f' \\<star> e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, f' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<psi>_components_are_iso:\n    assumes \"\\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\" and \"ide f'\"\n    shows \"iso (\\<psi> f')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.iso (\\<psi> f')", "using assms \\<psi>_def \\<psi>.components_are_iso hom'.ide_char hom'.arr_char hom'.iso_char"], ["proof (prove)\nusing this:\n  \\<guillemotleft>f' : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  ide f'\n  \\<psi> \\<equiv> \\<psi>.map\n  hom'.ide ?a \\<Longrightarrow> hom'.iso (\\<psi>.map ?a)\n  hom'.ide ?a = (hom'.arr ?a \\<and> ide ?a)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.iso ?f =\n  (local.iso ?f \\<and> hom'.arr ?f \\<and> hom'.arr (local.inv ?f))\n\ngoal (1 subgoal):\n 1. local.iso (\\<psi> f')", "by simp"], ["", "lemma \\<psi>_eq:\n    shows \"\\<psi> = (\\<lambda>\\<mu>'. if \\<guillemotleft>\\<mu>': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> then\n                          \\<mu>' \\<cdot> \\<r>[dom \\<mu>'] \\<cdot> \\<l>[dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n                            ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot>\n                            (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n                     else null)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> =\n    (\\<lambda>\\<mu>'.\n        if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\n        then \\<mu>' \\<cdot>\n             \\<r>[local.dom \\<mu>'] \\<cdot>\n             \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n             (\\<epsilon>\\<^sub>1 \\<star>\n              local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n             ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n              \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                    \\<mu>' \\<star>\n                   e\\<^sub>0) \\<star>\n                  d\\<^sub>0] \\<cdot>\n             (e\\<^sub>1 \\<star>\n              \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                              e\\<^sub>0, d\\<^sub>0])\n        else null)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>'.\n       \\<psi> \\<mu>' =\n       (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\n        then \\<mu>' \\<cdot>\n             \\<r>[local.dom \\<mu>'] \\<cdot>\n             \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n             (\\<epsilon>\\<^sub>1 \\<star>\n              local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n             ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n              \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                    \\<mu>' \\<star>\n                   e\\<^sub>0) \\<star>\n                  d\\<^sub>0] \\<cdot>\n             (e\\<^sub>1 \\<star>\n              \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                              e\\<^sub>0, d\\<^sub>0])\n        else null)", "fix \\<mu>'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<mu>'.\n       \\<psi> \\<mu>' =\n       (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\n        then \\<mu>' \\<cdot>\n             \\<r>[local.dom \\<mu>'] \\<cdot>\n             \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n             (\\<epsilon>\\<^sub>1 \\<star>\n              local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n             ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n              \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                    \\<mu>' \\<star>\n                   e\\<^sub>0) \\<star>\n                  d\\<^sub>0] \\<cdot>\n             (e\\<^sub>1 \\<star>\n              \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                              e\\<^sub>0, d\\<^sub>0])\n        else null)", "have \"\\<not> \\<guillemotleft>\\<mu>': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<Longrightarrow> \\<psi>.map \\<mu>' = null\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' = null", "using \\<psi>.is_extensional hom'.arr_char hom'.null_char"], ["proof (prove)\nusing this:\n  \\<not> hom'.arr ?f \\<Longrightarrow> \\<psi>.map ?f = hom'.null\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.null = null\n\ngoal (1 subgoal):\n 1. \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' = null", "by simp"], ["proof (state)\nthis:\n  \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                         e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' = null\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>'.\n       \\<psi> \\<mu>' =\n       (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\n        then \\<mu>' \\<cdot>\n             \\<r>[local.dom \\<mu>'] \\<cdot>\n             \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n             (\\<epsilon>\\<^sub>1 \\<star>\n              local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n             ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n              \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                    \\<mu>' \\<star>\n                   e\\<^sub>0) \\<star>\n                  d\\<^sub>0] \\<cdot>\n             (e\\<^sub>1 \\<star>\n              \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                              e\\<^sub>0, d\\<^sub>0])\n        else null)", "moreover"], ["proof (state)\nthis:\n  \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                         e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' = null\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>'.\n       \\<psi> \\<mu>' =\n       (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\n        then \\<mu>' \\<cdot>\n             \\<r>[local.dom \\<mu>'] \\<cdot>\n             \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n             (\\<epsilon>\\<^sub>1 \\<star>\n              local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n             ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n              \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                    \\<mu>' \\<star>\n                   e\\<^sub>0) \\<star>\n                  d\\<^sub>0] \\<cdot>\n             (e\\<^sub>1 \\<star>\n              \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                              e\\<^sub>0, d\\<^sub>0])\n        else null)", "have \"\\<guillemotleft>\\<mu>': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n                     \\<psi>.map \\<mu>' = \\<mu>' \\<cdot> \\<r>[dom \\<mu>'] \\<cdot> \\<l>[dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n                                  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot> \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot>\n                                  (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "assume \\<mu>': \"\\<guillemotleft>\\<mu>': trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\""], ["proof (state)\nthis:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"\\<guillemotleft>\\<psi>.map (dom \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>.map\n                     (local.dom\n                       \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                        e\\<^sub>1\\<guillemotright>", "using \\<mu>' hom'.arr_char hom'.dom_closed"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>local.dom\n                   ?f : trg e\\<^sub>0 \\<rightarrow> trg\n               e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>.map\n                     (local.dom\n                       \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                        e\\<^sub>1\\<guillemotright>", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi>.map\n                   (local.dom\n                     \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "moreover"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi>.map\n                   (local.dom\n                     \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "have \"seq \\<mu>' (\\<psi>.map (dom \\<mu>'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "have \"hom'.seq \\<mu>' (\\<psi>.map (dom \\<mu>'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "using \\<mu>' \\<psi>.preserves_cod hom'.arrI hom'.dom_simp hom'.cod_simp"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f \\<Longrightarrow>\n  hom'.cod (\\<psi>.map ?f) = hom'.map (hom'.cod ?f)\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  hom'.arr ?f\n  hom'.arr ?f \\<Longrightarrow> hom'.dom ?f = local.dom ?f\n  hom'.arr ?f \\<Longrightarrow> hom'.cod ?f = cod ?f\n\ngoal (1 subgoal):\n 1. hom'.seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "apply (intro hom'.seqI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom'.arr f;\n     \\<And>f. hom'.arr f \\<Longrightarrow> hom'.dom f = local.dom f;\n     \\<And>f. hom'.arr f \\<Longrightarrow> hom'.cod f = cod f\\<rbrakk>\n    \\<Longrightarrow> hom'.arr (\\<psi>.map (local.dom \\<mu>'))\n 2. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom'.arr f;\n     \\<And>f. hom'.arr f \\<Longrightarrow> hom'.dom f = local.dom f;\n     \\<And>f. hom'.arr f \\<Longrightarrow> hom'.cod f = cod f\\<rbrakk>\n    \\<Longrightarrow> hom'.arr \\<mu>'\n 3. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom'.arr f;\n     \\<And>f. hom'.arr f \\<Longrightarrow> hom'.dom f = local.dom f;\n     \\<And>f. hom'.arr f \\<Longrightarrow> hom'.cod f = cod f\\<rbrakk>\n    \\<Longrightarrow> hom'.dom \\<mu>' =\n                      hom'.cod (\\<psi>.map (local.dom \\<mu>'))", "by auto"], ["proof (state)\nthis:\n  hom'.seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n\ngoal (1 subgoal):\n 1. seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "thus ?thesis"], ["proof (prove)\nusing this:\n  hom'.seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n\ngoal (1 subgoal):\n 1. seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "using hom'.seq_char"], ["proof (prove)\nusing this:\n  hom'.seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n  hom'.seq ?g ?f = (hom'.arr ?f \\<and> hom'.arr ?g \\<and> seq ?g ?f)\n\ngoal (1 subgoal):\n 1. seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "by blast"], ["proof (state)\nthis:\n  seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n    \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "ultimately"], ["proof (chain)\npicking this:\n  \\<guillemotleft>\\<psi>.map\n                   (local.dom\n                     \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>\n  seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<psi>.map\n                   (local.dom\n                     \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>\n  seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n\ngoal (1 subgoal):\n 1. \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "using \\<mu>' \\<psi>.is_natural_1 [of \\<mu>'] hom'.comp_char hom'.arr_char hom'.dom_closed\n                \\<psi>_ide_simp [of \"dom \\<mu>'\"] hom'.dom_simp hom'.cod_simp"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<psi>.map\n                   (local.dom\n                     \\<mu>') : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>\n  seq \\<mu>' (\\<psi>.map (local.dom \\<mu>'))\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  hom'.arr \\<mu>' \\<Longrightarrow>\n  hom'.comp (hom'.map \\<mu>') (\\<psi>.map (hom'.dom \\<mu>')) =\n  \\<psi>.map \\<mu>'\n  hom'.comp ?g ?f =\n  (if hom'.arr ?f \\<and> hom'.arr ?g \\<and> seq ?g ?f then ?g \\<cdot> ?f\n   else null)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>local.dom\n                   ?f : trg e\\<^sub>0 \\<rightarrow> trg\n               e\\<^sub>1\\<guillemotright>\n  \\<lbrakk>\\<guillemotleft>local.dom\n                            \\<mu>' : trg\ne\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n   ide (local.dom \\<mu>')\\<rbrakk>\n  \\<Longrightarrow> \\<psi> (local.dom \\<mu>') =\n                    \\<r>[local.dom \\<mu>'] \\<cdot>\n                    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n                    (\\<epsilon>\\<^sub>1 \\<star>\n                     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n                    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n                     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                           \\<mu>' \\<star>\n                          e\\<^sub>0) \\<star>\n                         d\\<^sub>0] \\<cdot>\n                    (e\\<^sub>1 \\<star>\n                     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                                     e\\<^sub>0, d\\<^sub>0])\n  hom'.arr ?f \\<Longrightarrow> hom'.dom ?f = local.dom ?f\n  hom'.arr ?f \\<Longrightarrow> hom'.cod ?f = cod ?f\n\ngoal (1 subgoal):\n 1. \\<psi>.map \\<mu>' =\n    \\<mu>' \\<cdot>\n    \\<r>[local.dom \\<mu>'] \\<cdot>\n    \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n    (\\<epsilon>\\<^sub>1 \\<star>\n     local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n     \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n          e\\<^sub>0) \\<star>\n         d\\<^sub>0] \\<cdot>\n    (e\\<^sub>1 \\<star>\n     \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<psi>.map\n                              (local.dom\n                                \\<mu>') : trg\n     e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     arr (\\<psi>.map \\<mu>');\n     \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright>;\n     \\<mu>' \\<cdot> \\<psi>.map (local.dom \\<mu>') = \\<psi>.map \\<mu>';\n     \\<And>g f.\n        hom'.comp g f =\n        (if \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            \\<guillemotleft>g : trg e\\<^sub>0 \\<rightarrow> trg\n                       e\\<^sub>1\\<guillemotright> \\<and>\n            seq g f\n         then g \\<cdot> f else null);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     \\<And>f.\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        \\<guillemotleft>local.dom\n                         f : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright>;\n     ide (local.dom \\<mu>') \\<Longrightarrow>\n     \\<psi> (local.dom \\<mu>') =\n     \\<r>[local.dom \\<mu>'] \\<cdot>\n     \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n     (\\<epsilon>\\<^sub>1 \\<star>\n      local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n     ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n      \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n     \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n           e\\<^sub>0) \\<star>\n          d\\<^sub>0] \\<cdot>\n     (e\\<^sub>1 \\<star>\n      \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0]);\n     \\<And>f.\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom'.dom f = local.dom f;\n     \\<And>f.\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n        hom'.cod f = cod f\\<rbrakk>\n    \\<Longrightarrow> \\<psi>.map \\<mu>' =\n                      \\<mu>' \\<cdot>\n                      \\<r>[local.dom \\<mu>'] \\<cdot>\n                      \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n                      (\\<epsilon>\\<^sub>1 \\<star>\n                       local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n                      ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n                       \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                      \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                             \\<mu>' \\<star>\n                            e\\<^sub>0) \\<star>\n                           d\\<^sub>0] \\<cdot>\n                      (e\\<^sub>1 \\<star>\n                       \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n e\\<^sub>0, d\\<^sub>0])", "by (metis \\<psi>_def hom'.inclusion ide_dom)"], ["proof (state)\nthis:\n  \\<psi>.map \\<mu>' =\n  \\<mu>' \\<cdot>\n  \\<r>[local.dom \\<mu>'] \\<cdot>\n  \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star>\n   local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n        e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star>\n   \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' =\n  \\<mu>' \\<cdot>\n  \\<r>[local.dom \\<mu>'] \\<cdot>\n  \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star>\n   local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n        e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star>\n   \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<And>\\<mu>'.\n       \\<psi> \\<mu>' =\n       (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                           e\\<^sub>1\\<guillemotright>\n        then \\<mu>' \\<cdot>\n             \\<r>[local.dom \\<mu>'] \\<cdot>\n             \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n             (\\<epsilon>\\<^sub>1 \\<star>\n              local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n             ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n              \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n             \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                    \\<mu>' \\<star>\n                   e\\<^sub>0) \\<star>\n                  d\\<^sub>0] \\<cdot>\n             (e\\<^sub>1 \\<star>\n              \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star>\n                              e\\<^sub>0, d\\<^sub>0])\n        else null)", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                         e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' = null\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' =\n  \\<mu>' \\<cdot>\n  \\<r>[local.dom \\<mu>'] \\<cdot>\n  \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star>\n   local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n        e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star>\n   \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])", "show \"\\<psi> \\<mu>' = (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright> then\n                                  \\<mu>' \\<cdot> \\<r>[dom \\<mu>'] \\<cdot> \\<l>[dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot> (\\<epsilon>\\<^sub>1 \\<star> dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n                                    ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star> \\<a>[dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n                                    \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0] \\<cdot>\n                                    (e\\<^sub>1 \\<star> \\<a>[d\\<^sub>1, dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n                               else null)\""], ["proof (prove)\nusing this:\n  \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                         e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' = null\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' =\n  \\<mu>' \\<cdot>\n  \\<r>[local.dom \\<mu>'] \\<cdot>\n  \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star>\n   local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n        e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star>\n   \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi> \\<mu>' =\n    (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                        e\\<^sub>1\\<guillemotright>\n     then \\<mu>' \\<cdot>\n          \\<r>[local.dom \\<mu>'] \\<cdot>\n          \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n          (\\<epsilon>\\<^sub>1 \\<star>\n           local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n          ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n           \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                 \\<mu>' \\<star>\n                e\\<^sub>0) \\<star>\n               d\\<^sub>0] \\<cdot>\n          (e\\<^sub>1 \\<star>\n           \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n     else null)", "unfolding \\<psi>_def"], ["proof (prove)\nusing this:\n  \\<not> \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                         e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' = null\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<psi>.map \\<mu>' =\n  \\<mu>' \\<cdot>\n  \\<r>[local.dom \\<mu>'] \\<cdot>\n  \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n  (\\<epsilon>\\<^sub>1 \\<star>\n   local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n  ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n   \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n  \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n        e\\<^sub>0) \\<star>\n       d\\<^sub>0] \\<cdot>\n  (e\\<^sub>1 \\<star>\n   \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n\ngoal (1 subgoal):\n 1. \\<psi>.map \\<mu>' =\n    (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                        e\\<^sub>1\\<guillemotright>\n     then \\<mu>' \\<cdot>\n          \\<r>[local.dom \\<mu>'] \\<cdot>\n          \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n          (\\<epsilon>\\<^sub>1 \\<star>\n           local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n          ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n           \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n          \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom\n                 \\<mu>' \\<star>\n                e\\<^sub>0) \\<star>\n               d\\<^sub>0] \\<cdot>\n          (e\\<^sub>1 \\<star>\n           \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n     else null)", "by argo"], ["proof (state)\nthis:\n  \\<psi> \\<mu>' =\n  (if \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                      e\\<^sub>1\\<guillemotright>\n   then \\<mu>' \\<cdot>\n        \\<r>[local.dom \\<mu>'] \\<cdot>\n        \\<l>[local.dom \\<mu>' \\<star> trg e\\<^sub>0] \\<cdot>\n        (\\<epsilon>\\<^sub>1 \\<star>\n         local.dom \\<mu>' \\<star> \\<epsilon>\\<^sub>0) \\<cdot>\n        ((e\\<^sub>1 \\<star> d\\<^sub>1) \\<star>\n         \\<a>[local.dom \\<mu>', e\\<^sub>0, d\\<^sub>0]) \\<cdot>\n        \\<a>\\<^sup>-\\<^sup>1[e\\<^sub>1, d\\<^sub>1, (local.dom \\<mu>' \\<star>\n              e\\<^sub>0) \\<star>\n             d\\<^sub>0] \\<cdot>\n        (e\\<^sub>1 \\<star>\n         \\<a>[d\\<^sub>1, local.dom \\<mu>' \\<star> e\\<^sub>0, d\\<^sub>0])\n   else null)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<psi>_in_hom [intro]:\n    assumes \"\\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\"\n    shows \"\\<guillemotleft>\\<psi> \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\"\n    and \"\\<guillemotleft>\\<psi> \\<mu>' : e\\<^sub>1 \\<star> (d\\<^sub>1 \\<star> dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0 \\<Rightarrow> cod \\<mu>'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright> &&&\n    \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "have 0: \"\\<psi> \\<mu>' = \\<psi>.map \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<mu>' = \\<psi>.map \\<mu>'", "using \\<psi>_def"], ["proof (prove)\nusing this:\n  \\<psi> \\<equiv> \\<psi>.map\n\ngoal (1 subgoal):\n 1. \\<psi> \\<mu>' = \\<psi>.map \\<mu>'", "by auto"], ["proof (state)\nthis:\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "hence 1: \"hom'.arr (\\<psi> \\<mu>')\""], ["proof (prove)\nusing this:\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n\ngoal (1 subgoal):\n 1. hom'.arr (\\<psi> \\<mu>')", "using assms hom'.arr_char \\<psi>.preserves_reflects_arr"], ["proof (prove)\nusing this:\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.arr (\\<psi>.map ?f) = hom'.arr ?f\n\ngoal (1 subgoal):\n 1. hom'.arr (\\<psi> \\<mu>')", "by auto"], ["proof (state)\nthis:\n  hom'.arr (\\<psi> \\<mu>')\n\ngoal (2 subgoals):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright>\n 2. \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "show \"\\<guillemotleft>\\<psi> \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright>", "using 1 hom'.arr_char"], ["proof (prove)\nusing this:\n  hom'.arr (\\<psi> \\<mu>')\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                     e\\<^sub>1\\<guillemotright>", "by blast"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi>\n                   \\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "show \"\\<guillemotleft>\\<psi> \\<mu>' : e\\<^sub>1 \\<star> (d\\<^sub>1 \\<star> dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0 \\<Rightarrow> cod \\<mu>'\\<guillemotright>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "using assms 0 1 \\<psi>.preserves_hom hom'.in_hom_char hom'.arr_char\n              e\\<^sub>0.antipar e\\<^sub>1.antipar \\<psi>.preserves_dom \\<psi>.preserves_cod hom'.dom_char"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n  hom'.arr (\\<psi> \\<mu>')\n  hom'.in_hom ?f ?a ?b \\<Longrightarrow>\n  hom'.in_hom (\\<psi>.map ?f) (FG.map ?a) (hom'.map ?b)\n  hom'.in_hom ?f ?a ?b =\n  (hom'.arr ?a \\<and>\n   hom'.arr ?b \\<and>\n   hom'.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<Rightarrow> ?b\\<guillemotright>)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  trg d\\<^sub>0 = src e\\<^sub>0\n  src d\\<^sub>0 = trg e\\<^sub>0\n  trg d\\<^sub>1 = src e\\<^sub>1\n  src d\\<^sub>1 = trg e\\<^sub>1\n  hom'.arr ?f \\<Longrightarrow>\n  hom'.dom (\\<psi>.map ?f) = FG.map (hom'.dom ?f)\n  hom'.arr ?f \\<Longrightarrow>\n  hom'.cod (\\<psi>.map ?f) = hom'.map (hom'.cod ?f)\n  hom'.dom ?f = (if hom'.arr ?f then local.dom ?f else null)\n\ngoal (1 subgoal):\n 1. \\<guillemotleft>\\<psi>\n                     \\<mu>' : e\\<^sub>1 \\<star>\n                              (d\\<^sub>1 \\<star>\n                               local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                              d\\<^sub>0 \\<Rightarrow> cod\n                 \\<mu>'\\<guillemotright>", "apply (intro in_homI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> arr (\\<psi> \\<mu>')\n 2. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> local.dom (\\<psi> \\<mu>') =\n                      e\\<^sub>1 \\<star>\n                      (d\\<^sub>1 \\<star>\n                       local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                      d\\<^sub>0\n 3. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> cod (\\<psi> \\<mu>') = cod \\<mu>'", "apply auto[1]"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> local.dom (\\<psi> \\<mu>') =\n                      e\\<^sub>1 \\<star>\n                      (d\\<^sub>1 \\<star>\n                       local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                      d\\<^sub>0\n 2. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> cod (\\<psi> \\<mu>') = cod \\<mu>'", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> local.dom (\\<psi> \\<mu>') =\n                      e\\<^sub>1 \\<star>\n                      (d\\<^sub>1 \\<star>\n                       local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                      d\\<^sub>0\n 2. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> cod (\\<psi> \\<mu>') = cod \\<mu>'", "show \"dom (\\<psi> \\<mu>') = e\\<^sub>1 \\<star> (d\\<^sub>1 \\<star> dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0", "have \"hom'.dom (\\<psi> \\<mu>') = FG.map (hom'.dom \\<mu>')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.dom (\\<psi> \\<mu>') = FG.map (hom'.dom \\<mu>')", "using assms 0 \\<psi>.preserves_dom hom'.arr_char"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n  hom'.arr ?f \\<Longrightarrow>\n  hom'.dom (\\<psi>.map ?f) = FG.map (hom'.dom ?f)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. hom'.dom (\\<psi> \\<mu>') = FG.map (hom'.dom \\<mu>')", "by (metis (no_types, lifting))"], ["proof (state)\nthis:\n  hom'.dom (\\<psi> \\<mu>') = FG.map (hom'.dom \\<mu>')\n\ngoal (1 subgoal):\n 1. local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0", "thus ?thesis"], ["proof (prove)\nusing this:\n  hom'.dom (\\<psi> \\<mu>') = FG.map (hom'.dom \\<mu>')\n\ngoal (1 subgoal):\n 1. local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0", "using assms 0 1 hom.arr_char hom'.arr_char hom'.dom_char G.preserves_arr\n                  hom'.dom_closed"], ["proof (prove)\nusing this:\n  hom'.dom (\\<psi> \\<mu>') = FG.map (hom'.dom \\<mu>')\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n  hom'.arr (\\<psi> \\<mu>')\n  hom.arr ?f =\n  \\<guillemotleft>?f : src e\\<^sub>0 \\<rightarrow> src\n              e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.dom ?f = (if hom'.arr ?f then local.dom ?f else null)\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>local.dom\n                   ?f : trg e\\<^sub>0 \\<rightarrow> trg\n               e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0", "by auto"], ["proof (state)\nthis:\n  local.dom (\\<psi> \\<mu>') =\n  e\\<^sub>1 \\<star>\n  (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  local.dom (\\<psi> \\<mu>') =\n  e\\<^sub>1 \\<star>\n  (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<guillemotleft>\\<mu>' : trg\n e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>;\n     \\<psi> \\<mu>' = \\<psi>.map \\<mu>'; hom'.arr (\\<psi> \\<mu>');\n     \\<And>f a b.\n        hom'.in_hom f a b \\<Longrightarrow>\n        hom'.in_hom (\\<psi>.map f) (FG.map a) (hom'.map b);\n     \\<And>f a b.\n        hom'.in_hom f a b =\n        (hom'.arr a \\<and>\n         hom'.arr b \\<and>\n         hom'.arr f \\<and>\n         \\<guillemotleft>f : a \\<Rightarrow> b\\<guillemotright>);\n     \\<And>f.\n        hom'.arr f =\n        \\<guillemotleft>f : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright>;\n     trg d\\<^sub>0 = src e\\<^sub>0; src d\\<^sub>0 = trg e\\<^sub>0;\n     trg d\\<^sub>1 = src e\\<^sub>1; src d\\<^sub>1 = trg e\\<^sub>1;\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.dom (\\<psi>.map f) = FG.map (hom'.dom f);\n     \\<And>f.\n        hom'.arr f \\<Longrightarrow>\n        hom'.cod (\\<psi>.map f) = hom'.map (hom'.cod f);\n     \\<And>f.\n        hom'.dom f = (if hom'.arr f then local.dom f else null)\\<rbrakk>\n    \\<Longrightarrow> cod (\\<psi> \\<mu>') = cod \\<mu>'", "show \"cod (\\<psi> \\<mu>') = cod \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cod (\\<psi> \\<mu>') = cod \\<mu>'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cod (\\<psi> \\<mu>') = cod \\<mu>'", "have \"hom'.cod (\\<psi> \\<mu>') = cod \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.cod (\\<psi> \\<mu>') = cod \\<mu>'", "using assms 0 \\<psi>.preserves_cod hom'.arr_char hom'.cod_simp"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n  hom'.arr ?f \\<Longrightarrow>\n  hom'.cod (\\<psi>.map ?f) = hom'.map (hom'.cod ?f)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.arr ?f \\<Longrightarrow> hom'.cod ?f = cod ?f\n\ngoal (1 subgoal):\n 1. hom'.cod (\\<psi> \\<mu>') = cod \\<mu>'", "by auto"], ["proof (state)\nthis:\n  hom'.cod (\\<psi> \\<mu>') = cod \\<mu>'\n\ngoal (1 subgoal):\n 1. cod (\\<psi> \\<mu>') = cod \\<mu>'", "thus ?thesis"], ["proof (prove)\nusing this:\n  hom'.cod (\\<psi> \\<mu>') = cod \\<mu>'\n\ngoal (1 subgoal):\n 1. cod (\\<psi> \\<mu>') = cod \\<mu>'", "using assms 0 1 hom'.arr_char hom'.cod_char G.preserves_arr hom'.cod_closed"], ["proof (prove)\nusing this:\n  hom'.cod (\\<psi> \\<mu>') = cod \\<mu>'\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  \\<psi> \\<mu>' = \\<psi>.map \\<mu>'\n  hom'.arr (\\<psi> \\<mu>')\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright>\n  hom'.cod ?f = (if hom'.arr ?f then cod ?f else null)\n  hom'.arr ?f \\<Longrightarrow>\n  hom.arr (d\\<^sub>1 \\<star> ?f \\<star> e\\<^sub>0)\n  \\<guillemotleft>?f : trg e\\<^sub>0 \\<rightarrow> trg\n              e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>cod ?f : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n\ngoal (1 subgoal):\n 1. cod (\\<psi> \\<mu>') = cod \\<mu>'", "by auto"], ["proof (state)\nthis:\n  cod (\\<psi> \\<mu>') = cod \\<mu>'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cod (\\<psi> \\<mu>') = cod \\<mu>'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi>\n                   \\<mu>' : e\\<^sub>1 \\<star>\n                            (d\\<^sub>1 \\<star>\n                             local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n                            d\\<^sub>0 \\<Rightarrow> cod\n               \\<mu>'\\<guillemotright>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<psi>_simps [simp]:\n    assumes \"\\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg e\\<^sub>1\\<guillemotright>\"\n    shows \"arr (\\<psi> \\<mu>')\"\n    and \"src (\\<psi> \\<mu>') = trg e\\<^sub>0\" and \"trg (\\<psi> \\<mu>') = trg e\\<^sub>1\"\n    and \"dom (\\<psi> \\<mu>') = e\\<^sub>1 \\<star> (d\\<^sub>1 \\<star> dom \\<mu>' \\<star> e\\<^sub>0) \\<star> d\\<^sub>0\" and \"cod (\\<psi> \\<mu>') = cod \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (arr (\\<psi> \\<mu>') &&& src (\\<psi> \\<mu>') = trg e\\<^sub>0) &&&\n    trg (\\<psi> \\<mu>') = trg e\\<^sub>1 &&&\n    local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n    d\\<^sub>0 &&&\n    cod (\\<psi> \\<mu>') = cod \\<mu>'", "using assms \\<psi>_in_hom"], ["proof (prove)\nusing this:\n  \\<guillemotleft>\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                  e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>\\<psi>\n                   ?\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                    e\\<^sub>1\\<guillemotright>\n  \\<guillemotleft>?\\<mu>' : trg e\\<^sub>0 \\<rightarrow> trg\n                   e\\<^sub>1\\<guillemotright> \\<Longrightarrow>\n  \\<guillemotleft>\\<psi>\n                   ?\\<mu>' : e\\<^sub>1 \\<star>\n                             (d\\<^sub>1 \\<star>\n                              local.dom ?\\<mu>' \\<star> e\\<^sub>0) \\<star>\n                             d\\<^sub>0 \\<Rightarrow> cod\n                ?\\<mu>'\\<guillemotright>\n\ngoal (1 subgoal):\n 1. (arr (\\<psi> \\<mu>') &&& src (\\<psi> \\<mu>') = trg e\\<^sub>0) &&&\n    trg (\\<psi> \\<mu>') = trg e\\<^sub>1 &&&\n    local.dom (\\<psi> \\<mu>') =\n    e\\<^sub>1 \\<star>\n    (d\\<^sub>1 \\<star> local.dom \\<mu>' \\<star> e\\<^sub>0) \\<star>\n    d\\<^sub>0 &&&\n    cod (\\<psi> \\<mu>') = cod \\<mu>'", "by auto"], ["", "interpretation equivalence_of_categories hom'.comp hom.comp F G \\<phi> \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n     \\<psi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n     \\<psi>", "interpret \\<phi>: natural_isomorphism hom.comp hom.comp hom.map \\<open>G o F\\<close> \\<phi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. natural_isomorphism hom.comp hom.comp hom.map GF.map \\<phi>", "using \\<phi>.natural_isomorphism_axioms \\<phi>_def"], ["proof (prove)\nusing this:\n  natural_isomorphism hom.comp hom.comp hom.map GF.map \\<phi>.map\n  \\<phi> \\<equiv> \\<phi>.map\n\ngoal (1 subgoal):\n 1. natural_isomorphism hom.comp hom.comp hom.map GF.map \\<phi>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n     \\<psi>", "interpret \\<psi>: natural_isomorphism hom'.comp hom'.comp \\<open>F o G\\<close> hom'.map \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. natural_isomorphism hom'.comp hom'.comp FG.map hom'.map \\<psi>", "using \\<psi>.natural_isomorphism_axioms \\<psi>_def"], ["proof (prove)\nusing this:\n  natural_isomorphism hom'.comp hom'.comp FG.map hom'.map \\<psi>.map\n  \\<psi> \\<equiv> \\<psi>.map\n\ngoal (1 subgoal):\n 1. natural_isomorphism hom'.comp hom'.comp FG.map hom'.map \\<psi>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n     \\<psi>", "show \"equivalence_of_categories hom'.comp hom.comp F G \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n     \\<psi>", ".."], ["proof (state)\nthis:\n  equivalence_of_categories hom'.comp hom.comp\n   (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n   (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n   \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma induces_equivalence_of_hom_categories:\n    shows \"equivalence_of_categories hom'.comp hom.comp F G \\<phi> \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom'.comp hom.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0) \\<phi>\n     \\<psi>", ".."], ["", "lemma equivalence_functor_F:\n    shows \"equivalence_functor hom.comp hom'.comp F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "interpret \\<phi>': inverse_transformation hom.comp hom.comp hom.map \\<open>G o F\\<close> \\<phi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse_transformation hom.comp hom.comp hom.map GF.map \\<phi>", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "interpret \\<psi>': inverse_transformation hom'.comp hom'.comp \\<open>F o G\\<close> hom'.map \\<psi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse_transformation hom'.comp hom'.comp FG.map hom'.map \\<psi>", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "interpret E: equivalence_of_categories hom.comp hom'.comp G F \\<psi>'.map \\<phi>'.map"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_of_categories hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0) \\<psi>'.map\n     \\<phi>'.map", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "using E.equivalence_functor_axioms"], ["proof (prove)\nusing this:\n  equivalence_functor hom.comp hom'.comp\n   (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)", "by simp"], ["proof (state)\nthis:\n  equivalence_functor hom.comp hom'.comp\n   (\\<lambda>\\<mu>. e\\<^sub>1 \\<star> \\<mu> \\<star> d\\<^sub>0)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_functor_G:\n    shows \"equivalence_functor hom'.comp hom.comp G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom'.comp hom.comp\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)", "using equivalence_functor_axioms"], ["proof (prove)\nusing this:\n  equivalence_functor hom'.comp hom.comp\n   (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)\n\ngoal (1 subgoal):\n 1. equivalence_functor hom'.comp hom.comp\n     (\\<lambda>\\<mu>'. d\\<^sub>1 \\<star> \\<mu>' \\<star> e\\<^sub>0)", "by simp"], ["", "end"], ["", "context bicategory\n  begin"], ["", "text \\<open>\n      We now use the just-established equivalence of hom-categories to prove some cancellation\n      laws for equivalence maps.  It is relatively straightforward to prove these results\n      directly, without using the just-established equivalence, but the proofs are somewhat\n      longer that way.\n    \\<close>"], ["", "lemma equivalence_cancel_left:\n    assumes \"equivalence_map e\"\n    and \"par \\<mu> \\<mu>'\" and \"src e = trg \\<mu>\" and \"e \\<star> \\<mu> = e \\<star> \\<mu>'\"\n    shows \"\\<mu> = \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "obtain d \\<eta> \\<epsilon> where d\\<eta>\\<epsilon>: \"equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src e = trg \\<mu>\n  e \\<star> \\<mu> = e \\<star> \\<mu>'\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret e: equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "using d\\<eta>\\<epsilon>"], ["proof (prove)\nusing this:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret i: equivalence_in_bicategory V H \\<a> \\<i> src trg\n                     \\<open>src \\<mu>\\<close> \\<open>src \\<mu>\\<close> \\<open>inv \\<i>[src \\<mu>]\\<close> \\<open>\\<i>[src \\<mu>]\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (src \\<mu>) (src \\<mu>) (local.inv \\<i>[src \\<mu>])\n     \\<i>[src \\<mu>]", "using assms iso_unit obj_src"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src e = trg \\<mu>\n  e \\<star> \\<mu> = e \\<star> \\<mu>'\n  obj ?a \\<Longrightarrow> local.iso \\<i>[?a]\n  arr ?\\<mu> \\<Longrightarrow> obj (src ?\\<mu>)\n\ngoal (1 subgoal):\n 1. internal_equivalence (src \\<mu>) (src \\<mu>) (local.inv \\<i>[src \\<mu>])\n     \\<i>[src \\<mu>]", "by unfold_locales simp_all"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret two_equivalences_in_bicategory V H \\<a> \\<i> src trg\n                     \\<open>src \\<mu>\\<close> \\<open>src \\<mu>\\<close> \\<open>inv \\<i>[src \\<mu>]\\<close> \\<open>\\<i>[src \\<mu>]\\<close> e d \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. two_equivalences_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg\n     (src \\<mu>) (src \\<mu>) (local.inv \\<i>[src \\<mu>]) \\<i>[src \\<mu>] e d\n     \\<eta> \\<epsilon>", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret hom: subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (src (src \\<mu>)) (src e)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src (src\n  \\<mu>) \\<rightarrow> src e\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src (src\n  \\<mu>) \\<rightarrow> src e\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret hom': subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (trg (src \\<mu>)) (trg e)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg (src\n  \\<mu>) \\<rightarrow> trg e\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg (src\n  \\<mu>) \\<rightarrow> trg e\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret F: equivalence_functor hom.comp hom'.comp \\<open>\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src \\<mu>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src \\<mu>)", "using equivalence_functor_F"], ["proof (prove)\nusing this:\n  equivalence_functor hom.comp hom'.comp\n   (\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src \\<mu>)\n\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src \\<mu>)", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "have \"F \\<mu> = F \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>", "using assms hom.arr_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src e = trg \\<mu>\n  e \\<star> \\<mu> = e \\<star> \\<mu>'\n  hom.arr ?f =\n  \\<guillemotleft>?f : src (src \\<mu>) \\<rightarrow> src e\\<guillemotright>\n\ngoal (1 subgoal):\n 1. e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>equivalence_map e; par \\<mu> \\<mu>'; src e = trg \\<mu>;\n     e \\<star> \\<mu> = e \\<star> \\<mu>';\n     \\<And>f.\n        partial_magma.arr\n         (subcategory.comp (\\<cdot>)\n           (\\<lambda>\\<mu>'.\n               \\<guillemotleft>\\<mu>' : src\n   \\<mu> \\<rightarrow> trg \\<mu>\\<guillemotright>))\n         f =\n        \\<guillemotleft>f : src \\<mu> \\<rightarrow> trg\n               \\<mu>\\<guillemotright>\\<rbrakk>\n    \\<Longrightarrow> e \\<star> \\<mu> \\<star> src \\<mu> =\n                      e \\<star> \\<mu>' \\<star> src \\<mu>", "by (metis e.ide_left hcomp_reassoc(2) i.ide_right ideD(1) src_dom trg_dom trg_src)"], ["proof (state)\nthis:\n  e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "moreover"], ["proof (state)\nthis:\n  e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "have \"hom.par \\<mu> \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.par \\<mu> \\<mu>'", "using assms hom.arr_char hom.dom_char hom.cod_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src e = trg \\<mu>\n  e \\<star> \\<mu> = e \\<star> \\<mu>'\n  hom.arr ?f =\n  \\<guillemotleft>?f : src (src \\<mu>) \\<rightarrow> src e\\<guillemotright>\n  hom.dom ?f = (if hom.arr ?f then local.dom ?f else null)\n  hom.cod ?f = (if hom.arr ?f then cod ?f else null)\n\ngoal (1 subgoal):\n 1. hom.par \\<mu> \\<mu>'", "by (metis (no_types, lifting) in_hhomI src_dom src_src trg_dom)"], ["proof (state)\nthis:\n  hom.par \\<mu> \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "ultimately"], ["proof (chain)\npicking this:\n  e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>\n  hom.par \\<mu> \\<mu>'", "show \"\\<mu> = \\<mu>'\""], ["proof (prove)\nusing this:\n  e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>\n  hom.par \\<mu> \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "using F.is_faithful"], ["proof (prove)\nusing this:\n  e \\<star> \\<mu> \\<star> src \\<mu> = e \\<star> \\<mu>' \\<star> src \\<mu>\n  hom.par \\<mu> \\<mu>'\n  \\<lbrakk>hom.par ?f ?f';\n   e \\<star> ?f \\<star> src \\<mu> = e \\<star> ?f' \\<star> src \\<mu>\\<rbrakk>\n  \\<Longrightarrow> ?f = ?f'\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "by blast"], ["proof (state)\nthis:\n  \\<mu> = \\<mu>'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_cancel_right:\n    assumes \"equivalence_map e\"\n    and \"par \\<mu> \\<mu>'\" and \"src \\<mu> = trg e\" and \"\\<mu> \\<star> e = \\<mu>' \\<star> e\"\n    shows \"\\<mu> = \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "obtain d \\<eta> \\<epsilon> where d\\<eta>\\<epsilon>: \"equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src \\<mu> = trg e\n  \\<mu> \\<star> e = \\<mu>' \\<star> e\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret e: equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "using d\\<eta>\\<epsilon>"], ["proof (prove)\nusing this:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret i: equivalence_in_bicategory V H \\<a> \\<i> src trg\n                     \\<open>trg \\<mu>\\<close> \\<open>trg \\<mu>\\<close> \\<open>inv \\<i>[trg \\<mu>]\\<close> \\<open>\\<i>[trg \\<mu>]\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (trg \\<mu>) (trg \\<mu>) (local.inv \\<i>[trg \\<mu>])\n     \\<i>[trg \\<mu>]", "using assms iso_unit obj_src"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src \\<mu> = trg e\n  \\<mu> \\<star> e = \\<mu>' \\<star> e\n  obj ?a \\<Longrightarrow> local.iso \\<i>[?a]\n  arr ?\\<mu> \\<Longrightarrow> obj (src ?\\<mu>)\n\ngoal (1 subgoal):\n 1. internal_equivalence (trg \\<mu>) (trg \\<mu>) (local.inv \\<i>[trg \\<mu>])\n     \\<i>[trg \\<mu>]", "by unfold_locales simp_all"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret two_equivalences_in_bicategory V H \\<a> \\<i> src trg\n                      e d \\<eta> \\<epsilon> \\<open>trg \\<mu>\\<close> \\<open>trg \\<mu>\\<close> \\<open>inv \\<i>[trg \\<mu>]\\<close> \\<open>\\<i>[trg \\<mu>]\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. two_equivalences_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg e d\n     \\<eta> \\<epsilon> (trg \\<mu>) (trg \\<mu>) (local.inv \\<i>[trg \\<mu>])\n     \\<i>[trg \\<mu>]", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret hom: subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (trg e) (trg (trg \\<mu>))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg e \\<rightarrow> trg\n                 (trg \\<mu>)\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg e \\<rightarrow> trg\n                 (trg \\<mu>)\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret hom': subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (src e) (src (trg \\<mu>))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src e \\<rightarrow> src\n                 (trg \\<mu>)\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src e \\<rightarrow> src\n                 (trg \\<mu>)\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "interpret G: equivalence_functor hom.comp hom'.comp \\<open>\\<lambda>\\<mu>'. trg \\<mu> \\<star> \\<mu>' \\<star> e\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. trg \\<mu> \\<star> \\<mu>' \\<star> e)", "using equivalence_functor_G"], ["proof (prove)\nusing this:\n  equivalence_functor hom.comp hom'.comp\n   (\\<lambda>\\<mu>'. trg \\<mu> \\<star> \\<mu>' \\<star> e)\n\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. trg \\<mu> \\<star> \\<mu>' \\<star> e)", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "have \"G \\<mu> = G \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e", "using assms hom.arr_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src \\<mu> = trg e\n  \\<mu> \\<star> e = \\<mu>' \\<star> e\n  hom.arr ?f =\n  \\<guillemotleft>?f : trg e \\<rightarrow> trg (trg \\<mu>)\\<guillemotright>\n\ngoal (1 subgoal):\n 1. trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e", "by simp"], ["proof (state)\nthis:\n  trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "moreover"], ["proof (state)\nthis:\n  trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "have \"hom.par \\<mu> \\<mu>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.par \\<mu> \\<mu>'", "using assms hom.arr_char hom.dom_char hom.cod_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  par \\<mu> \\<mu>'\n  src \\<mu> = trg e\n  \\<mu> \\<star> e = \\<mu>' \\<star> e\n  hom.arr ?f =\n  \\<guillemotleft>?f : trg e \\<rightarrow> trg (trg \\<mu>)\\<guillemotright>\n  hom.dom ?f = (if hom.arr ?f then local.dom ?f else null)\n  hom.cod ?f = (if hom.arr ?f then cod ?f else null)\n\ngoal (1 subgoal):\n 1. hom.par \\<mu> \\<mu>'", "by (metis (no_types, lifting) in_hhomI src_dom trg_dom trg_trg)"], ["proof (state)\nthis:\n  hom.par \\<mu> \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "ultimately"], ["proof (chain)\npicking this:\n  trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e\n  hom.par \\<mu> \\<mu>'", "show \"\\<mu> = \\<mu>'\""], ["proof (prove)\nusing this:\n  trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e\n  hom.par \\<mu> \\<mu>'\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "using G.is_faithful"], ["proof (prove)\nusing this:\n  trg \\<mu> \\<star> \\<mu> \\<star> e = trg \\<mu> \\<star> \\<mu>' \\<star> e\n  hom.par \\<mu> \\<mu>'\n  \\<lbrakk>hom.par ?f ?f';\n   trg \\<mu> \\<star> ?f \\<star> e = trg \\<mu> \\<star> ?f' \\<star> e\\<rbrakk>\n  \\<Longrightarrow> ?f = ?f'\n\ngoal (1 subgoal):\n 1. \\<mu> = \\<mu>'", "by blast"], ["proof (state)\nthis:\n  \\<mu> = \\<mu>'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_isomorphic_cancel_left:\n    assumes \"equivalence_map e\" and \"ide f\" and \"ide f'\"\n    and \"src f = src f'\" and \"src e = trg f\" and \"e \\<star> f \\<cong> e \\<star> f'\"\n    shows \"f \\<cong> f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have ef': \"src e = trg f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src e = trg f'", "using assms R.components_are_iso iso_is_arr isomorphic_implies_hpar(2)"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  ide ?a \\<Longrightarrow> local.iso (R ?a)\n  local.iso ?f \\<Longrightarrow> arr ?f\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f'\n\ngoal (1 subgoal):\n 1. src e = trg f'", "by blast"], ["proof (state)\nthis:\n  src e = trg f'\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "obtain d \\<eta> \\<epsilon> where e: \"equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret e: equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "using e"], ["proof (prove)\nusing this:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret i: equivalence_in_bicategory V H \\<a> \\<i> src trg\n                     \\<open>src f\\<close> \\<open>src f\\<close> \\<open>inv \\<i>[src f]\\<close> \\<open>\\<i>[src f]\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (src f) (src f) (local.inv \\<i>[src f]) \\<i>[src f]", "using assms iso_unit obj_src"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  obj ?a \\<Longrightarrow> local.iso \\<i>[?a]\n  arr ?\\<mu> \\<Longrightarrow> obj (src ?\\<mu>)\n\ngoal (1 subgoal):\n 1. internal_equivalence (src f) (src f) (local.inv \\<i>[src f]) \\<i>[src f]", "by unfold_locales auto"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret two_equivalences_in_bicategory V H \\<a> \\<i> src trg\n                     \\<open>src f\\<close> \\<open>src f\\<close> \\<open>inv \\<i>[src f]\\<close> \\<open>\\<i>[src f]\\<close> e d \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. two_equivalences_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg\n     (src f) (src f) (local.inv \\<i>[src f]) \\<i>[src f] e d \\<eta>\n     \\<epsilon>", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret hom: subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (src (src f)) (src e)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src (src\n  f) \\<rightarrow> src e\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src (src\n  f) \\<rightarrow> src e\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret hom': subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (trg (src f)) (trg e)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg (src\n  f) \\<rightarrow> trg e\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg (src\n  f) \\<rightarrow> trg e\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret F: equivalence_functor hom.comp hom'.comp \\<open>\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src f\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src f)", "using equivalence_functor_F"], ["proof (prove)\nusing this:\n  equivalence_functor hom.comp hom'.comp\n   (\\<lambda>\\<mu>. e \\<star> \\<mu> \\<star> src f)\n\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. e \\<star> \\<mu>' \\<star> src f)", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have 1: \"F f \\<cong> F f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "have \"F f \\<cong> (e \\<star> f) \\<star> src f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> (e \\<star> f) \\<star> src f", "using assms hcomp_assoc_isomorphic equivalence_map_is_ide isomorphic_symmetric"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> (?f \\<star> ?g) \\<star> ?h \\<cong>\n                    ?f \\<star> ?g \\<star> ?h\n  equivalence_map ?f \\<Longrightarrow> ide ?f\n  ?f \\<cong> ?g \\<Longrightarrow> ?g \\<cong> ?f\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> (e \\<star> f) \\<star> src f", "by auto"], ["proof (state)\nthis:\n  e \\<star> f \\<star> src f \\<cong> (e \\<star> f) \\<star> src f\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "also"], ["proof (state)\nthis:\n  e \\<star> f \\<star> src f \\<cong> (e \\<star> f) \\<star> src f\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "have \"... \\<cong> (e \\<star> f') \\<star> src f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (e \\<star> f) \\<star> src f \\<cong> (e \\<star> f') \\<star> src f'", "using assms ef'"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  src e = trg f'\n\ngoal (1 subgoal):\n 1. (e \\<star> f) \\<star> src f \\<cong> (e \\<star> f') \\<star> src f'", "by (simp add: hcomp_isomorphic_ide)"], ["proof (state)\nthis:\n  (e \\<star> f) \\<star> src f \\<cong> (e \\<star> f') \\<star> src f'\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "also"], ["proof (state)\nthis:\n  (e \\<star> f) \\<star> src f \\<cong> (e \\<star> f') \\<star> src f'\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "have \"... \\<cong> F f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (e \\<star> f') \\<star> src f' \\<cong> e \\<star> f' \\<star> src f", "using assms ef' hcomp_assoc_isomorphic equivalence_map_is_ide"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  src e = trg f'\n  \\<lbrakk>ide ?f; ide ?g; ide ?h; src ?f = trg ?g; src ?g = trg ?h\\<rbrakk>\n  \\<Longrightarrow> (?f \\<star> ?g) \\<star> ?h \\<cong>\n                    ?f \\<star> ?g \\<star> ?h\n  equivalence_map ?f \\<Longrightarrow> ide ?f\n\ngoal (1 subgoal):\n 1. (e \\<star> f') \\<star> src f' \\<cong> e \\<star> f' \\<star> src f", "by auto"], ["proof (state)\nthis:\n  (e \\<star> f') \\<star> src f' \\<cong> e \\<star> f' \\<star> src f\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "finally"], ["proof (chain)\npicking this:\n  e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "show ?thesis"], ["proof (prove)\nusing this:\n  e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f\n\ngoal (1 subgoal):\n 1. e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f", "by blast"], ["proof (state)\nthis:\n  e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "show \"f \\<cong> f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "obtain \\<psi> where \\<psi>: \"\\<guillemotleft>\\<psi> : F f \\<Rightarrow> F f'\\<guillemotright> \\<and> iso \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>.\n        \\<guillemotleft>\\<psi> : e \\<star>\n                                 f \\<star>\n                                 src f \\<rightarrow> e \\<star>\n               f' \\<star> src f\\<guillemotright> \\<and>\n        local.iso \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 1 isomorphic_def"], ["proof (prove)\nusing this:\n  e \\<star> f \\<star> src f \\<cong> e \\<star> f' \\<star> src f\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>.\n        \\<guillemotleft>\\<psi> : e \\<star>\n                                 f \\<star>\n                                 src f \\<rightarrow> e \\<star>\n               f' \\<star> src f\\<guillemotright> \\<and>\n        local.iso \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi> : e \\<star>\n                           f \\<star>\n                           src f \\<rightarrow> e \\<star>\n         f' \\<star> src f\\<guillemotright> \\<and>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have 2: \"hom'.iso \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.iso \\<psi>", "using assms \\<psi> hom'.iso_char hom'.arr_char vconn_implies_hpar(1,2)"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  \\<guillemotleft>\\<psi> : e \\<star>\n                           f \\<star>\n                           src f \\<rightarrow> e \\<star>\n         f' \\<star> src f\\<guillemotright> \\<and>\n  local.iso \\<psi>\n  hom'.iso ?f =\n  (local.iso ?f \\<and> hom'.arr ?f \\<and> hom'.arr (local.inv ?f))\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg (src f) \\<rightarrow> trg e\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?f \\<rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?\\<mu> = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?\\<mu> = trg ?f\n\ngoal (1 subgoal):\n 1. hom'.iso \\<psi>", "by auto"], ["proof (state)\nthis:\n  hom'.iso \\<psi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have 3: \"hom'.in_hom \\<psi> (F f) (F f')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.in_hom \\<psi> (e \\<star> f \\<star> src f)\n     (e \\<star> f' \\<star> src f)", "using assms 2 \\<psi> ef' hom'.in_hom_char hom'.arr_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  hom'.iso \\<psi>\n  \\<guillemotleft>\\<psi> : e \\<star>\n                           f \\<star>\n                           src f \\<rightarrow> e \\<star>\n         f' \\<star> src f\\<guillemotright> \\<and>\n  local.iso \\<psi>\n  src e = trg f'\n  hom'.in_hom ?f ?a ?b =\n  (hom'.arr ?a \\<and>\n   hom'.arr ?b \\<and>\n   hom'.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<rightarrow> ?b\\<guillemotright>)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : trg (src f) \\<rightarrow> trg e\\<guillemotright>\n\ngoal (1 subgoal):\n 1. hom'.in_hom \\<psi> (e \\<star> f \\<star> src f)\n     (e \\<star> f' \\<star> src f)", "by (metis F.preserves_reflects_arr hom'.iso_is_arr hom.arr_char i.antipar(1)\n              ideD(1) ide_in_hom(1) trg_src)"], ["proof (state)\nthis:\n  hom'.in_hom \\<psi> (e \\<star> f \\<star> src f)\n   (e \\<star> f' \\<star> src f)\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "obtain \\<phi> where \\<phi>: \"hom.in_hom \\<phi> f f' \\<and> F \\<phi> = \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        hom.in_hom \\<phi> f f' \\<and>\n        e \\<star> \\<phi> \\<star> src f = \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms 3 \\<psi> F.is_full F.preserves_reflects_arr hom'.in_hom_char hom.ide_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  src f = src f'\n  src e = trg f\n  e \\<star> f \\<cong> e \\<star> f'\n  hom'.in_hom \\<psi> (e \\<star> f \\<star> src f)\n   (e \\<star> f' \\<star> src f)\n  \\<guillemotleft>\\<psi> : e \\<star>\n                           f \\<star>\n                           src f \\<rightarrow> e \\<star>\n         f' \\<star> src f\\<guillemotright> \\<and>\n  local.iso \\<psi>\n  \\<lbrakk>hom.ide ?a; hom.ide ?a';\n   hom'.in_hom ?g (e \\<star> ?a' \\<star> src f)\n    (e \\<star> ?a \\<star> src f)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>fa.\n                       hom.in_hom fa ?a' ?a \\<and>\n                       e \\<star> fa \\<star> src f = ?g\n  hom'.arr (e \\<star> ?f \\<star> src f) = hom.arr ?f\n  hom'.in_hom ?f ?a ?b =\n  (hom'.arr ?a \\<and>\n   hom'.arr ?b \\<and>\n   hom'.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<rightarrow> ?b\\<guillemotright>)\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        hom.in_hom \\<phi> f f' \\<and>\n        e \\<star> \\<phi> \\<star> src f = \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  hom.in_hom \\<phi> f f' \\<and> e \\<star> \\<phi> \\<star> src f = \\<psi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have \"hom.iso \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.iso \\<phi>", "using 2 \\<phi> F.reflects_iso"], ["proof (prove)\nusing this:\n  hom'.iso \\<psi>\n  hom.in_hom \\<phi> f f' \\<and> e \\<star> \\<phi> \\<star> src f = \\<psi>\n  \\<lbrakk>hom.in_hom ?f ?a' ?a;\n   hom'.iso (e \\<star> ?f \\<star> src f)\\<rbrakk>\n  \\<Longrightarrow> hom.iso ?f\n\ngoal (1 subgoal):\n 1. hom.iso \\<phi>", "by auto"], ["proof (state)\nthis:\n  hom.iso \\<phi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "thus ?thesis"], ["proof (prove)\nusing this:\n  hom.iso \\<phi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "using \\<phi> isomorphic_def hom.in_hom_char hom.arr_char hom.iso_char"], ["proof (prove)\nusing this:\n  hom.iso \\<phi>\n  hom.in_hom \\<phi> f f' \\<and> e \\<star> \\<phi> \\<star> src f = \\<psi>\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n  hom.in_hom ?f ?a ?b =\n  (hom.arr ?a \\<and>\n   hom.arr ?b \\<and>\n   hom.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<rightarrow> ?b\\<guillemotright>)\n  hom.arr ?f =\n  \\<guillemotleft>?f : src (src f) \\<rightarrow> src e\\<guillemotright>\n  hom.iso ?f =\n  (local.iso ?f \\<and> hom.arr ?f \\<and> hom.arr (local.inv ?f))\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "by auto"], ["proof (state)\nthis:\n  f \\<cong> f'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f \\<cong> f'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma equivalence_isomorphic_cancel_right:\n    assumes \"equivalence_map e\" and \"ide f\" and \"ide f'\"\n    and \"trg f = trg f'\" and \"src f = trg e\" and \"f \\<star> e \\<cong> f' \\<star> e\"\n    shows \"f \\<cong> f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have f'e: \"src f' = trg e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. src f' = trg e", "using assms R.components_are_iso iso_is_arr isomorphic_implies_hpar(2)"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  ide ?a \\<Longrightarrow> local.iso (R ?a)\n  local.iso ?f \\<Longrightarrow> arr ?f\n  ?f \\<cong> ?f' \\<Longrightarrow> ide ?f'\n\ngoal (1 subgoal):\n 1. src f' = trg e", "by blast"], ["proof (state)\nthis:\n  src f' = trg e\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "obtain d \\<eta> \\<epsilon> where d\\<eta>\\<epsilon>: \"equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms equivalence_map_def"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  equivalence_map ?f \\<equiv>\n  \\<exists>g \\<eta> \\<epsilon>. internal_equivalence ?f g \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<And>d \\<eta> \\<epsilon>.\n        internal_equivalence e d \\<eta> \\<epsilon> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret e: equivalence_in_bicategory V H \\<a> \\<i> src trg e d \\<eta> \\<epsilon>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "using d\\<eta>\\<epsilon>"], ["proof (prove)\nusing this:\n  internal_equivalence e d \\<eta> \\<epsilon>\n\ngoal (1 subgoal):\n 1. internal_equivalence e d \\<eta> \\<epsilon>", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret i: equivalence_in_bicategory V H \\<a> \\<i> src trg\n                     \\<open>trg f\\<close> \\<open>trg f\\<close> \\<open>inv \\<i>[trg f]\\<close> \\<open>\\<i>[trg f]\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. internal_equivalence (trg f) (trg f) (local.inv \\<i>[trg f]) \\<i>[trg f]", "using assms iso_unit obj_src"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  obj ?a \\<Longrightarrow> local.iso \\<i>[?a]\n  arr ?\\<mu> \\<Longrightarrow> obj (src ?\\<mu>)\n\ngoal (1 subgoal):\n 1. internal_equivalence (trg f) (trg f) (local.inv \\<i>[trg f]) \\<i>[trg f]", "by unfold_locales auto"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret two_equivalences_in_bicategory V H \\<a> \\<i> src trg\n                      e d \\<eta> \\<epsilon> \\<open>trg f\\<close> \\<open>trg f\\<close> \\<open>inv \\<i>[trg f]\\<close> \\<open>\\<i>[trg f]\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. two_equivalences_in_bicategory (\\<cdot>) (\\<star>) \\<a> \\<i> src trg e d\n     \\<eta> \\<epsilon> (trg f) (trg f) (local.inv \\<i>[trg f]) \\<i>[trg f]", ".."], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret hom: subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (trg e) (trg (trg f))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg e \\<rightarrow> trg\n                 (trg f)\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : trg e \\<rightarrow> trg\n                 (trg f)\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret hom': subcategory V \\<open>\\<lambda>\\<mu>'. in_hhom \\<mu>' (src e) (src (trg f))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src e \\<rightarrow> src\n                 (trg f)\\<guillemotright>)", "using hhom_is_subcategory"], ["proof (prove)\nusing this:\n  subcategory (\\<cdot>)\n   (\\<lambda>\\<mu>.\n       \\<guillemotleft>\\<mu> : ?a \\<rightarrow> ?b\\<guillemotright>)\n\ngoal (1 subgoal):\n 1. subcategory (\\<cdot>)\n     (\\<lambda>\\<mu>'.\n         \\<guillemotleft>\\<mu>' : src e \\<rightarrow> src\n                 (trg f)\\<guillemotright>)", "by blast"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "interpret G: equivalence_functor hom.comp hom'.comp \\<open>\\<lambda>\\<mu>'. trg f \\<star> \\<mu>' \\<star> e\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. trg f \\<star> \\<mu>' \\<star> e)", "using equivalence_functor_G"], ["proof (prove)\nusing this:\n  equivalence_functor hom.comp hom'.comp\n   (\\<lambda>\\<mu>'. trg f \\<star> \\<mu>' \\<star> e)\n\ngoal (1 subgoal):\n 1. equivalence_functor hom.comp hom'.comp\n     (\\<lambda>\\<mu>'. trg f \\<star> \\<mu>' \\<star> e)", "by simp"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have 1: \"G f \\<cong> G f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trg f \\<star> f \\<star> e \\<cong> trg f \\<star> f' \\<star> e", "using assms hcomp_isomorphic_ide hcomp_ide_isomorphic"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  \\<lbrakk>?f \\<cong> ?g; ide ?h; src ?f = trg ?h\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?h \\<cong> ?g \\<star> ?h\n  \\<lbrakk>ide ?f; ?g \\<cong> ?h; src ?f = trg ?g\\<rbrakk>\n  \\<Longrightarrow> ?f \\<star> ?g \\<cong> ?f \\<star> ?h\n\ngoal (1 subgoal):\n 1. trg f \\<star> f \\<star> e \\<cong> trg f \\<star> f' \\<star> e", "by simp"], ["proof (state)\nthis:\n  trg f \\<star> f \\<star> e \\<cong> trg f \\<star> f' \\<star> e\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "show \"f \\<cong> f'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<cong> f'", "obtain \\<psi> where \\<psi>: \"\\<guillemotleft>\\<psi> : G f \\<Rightarrow> G f'\\<guillemotright> \\<and> iso \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>.\n        \\<guillemotleft>\\<psi> : trg f \\<star>\n                                 f \\<star>\n                                 e \\<rightarrow> trg f \\<star>\n           f' \\<star> e\\<guillemotright> \\<and>\n        local.iso \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using 1 isomorphic_def"], ["proof (prove)\nusing this:\n  trg f \\<star> f \\<star> e \\<cong> trg f \\<star> f' \\<star> e\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>.\n        \\<guillemotleft>\\<psi> : trg f \\<star>\n                                 f \\<star>\n                                 e \\<rightarrow> trg f \\<star>\n           f' \\<star> e\\<guillemotright> \\<and>\n        local.iso \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<guillemotleft>\\<psi> : trg f \\<star>\n                           f \\<star>\n                           e \\<rightarrow> trg f \\<star>\n     f' \\<star> e\\<guillemotright> \\<and>\n  local.iso \\<psi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have 2: \"hom'.iso \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.iso \\<psi>", "using assms \\<psi> hom'.iso_char hom'.arr_char vconn_implies_hpar(1-2)"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  \\<guillemotleft>\\<psi> : trg f \\<star>\n                           f \\<star>\n                           e \\<rightarrow> trg f \\<star>\n     f' \\<star> e\\<guillemotright> \\<and>\n  local.iso \\<psi>\n  hom'.iso ?f =\n  (local.iso ?f \\<and> hom'.arr ?f \\<and> hom'.arr (local.inv ?f))\n  hom'.arr ?f =\n  \\<guillemotleft>?f : src e \\<rightarrow> src (trg f)\\<guillemotright>\n  \\<guillemotleft>?\\<mu> : ?f \\<rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  src ?\\<mu> = src ?f\n  \\<guillemotleft>?\\<mu> : ?f \\<rightarrow> ?g\\<guillemotright> \\<Longrightarrow>\n  trg ?\\<mu> = trg ?f\n\ngoal (1 subgoal):\n 1. hom'.iso \\<psi>", "by auto"], ["proof (state)\nthis:\n  hom'.iso \\<psi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have 3: \"hom'.in_hom \\<psi> (G f) (G f')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom'.in_hom \\<psi> (trg f \\<star> f \\<star> e)\n     (trg f \\<star> f' \\<star> e)", "using assms 2 \\<psi> f'e hom'.in_hom_char hom'.arr_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  hom'.iso \\<psi>\n  \\<guillemotleft>\\<psi> : trg f \\<star>\n                           f \\<star>\n                           e \\<rightarrow> trg f \\<star>\n     f' \\<star> e\\<guillemotright> \\<and>\n  local.iso \\<psi>\n  src f' = trg e\n  hom'.in_hom ?f ?a ?b =\n  (hom'.arr ?a \\<and>\n   hom'.arr ?b \\<and>\n   hom'.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<rightarrow> ?b\\<guillemotright>)\n  hom'.arr ?f =\n  \\<guillemotleft>?f : src e \\<rightarrow> src (trg f)\\<guillemotright>\n\ngoal (1 subgoal):\n 1. hom'.in_hom \\<psi> (trg f \\<star> f \\<star> e)\n     (trg f \\<star> f' \\<star> e)", "by (metis G.preserves_arr hom'.iso_is_arr hom.ideI hom.ide_char ideD(1)\n              ide_in_hom(1) trg_trg)"], ["proof (state)\nthis:\n  hom'.in_hom \\<psi> (trg f \\<star> f \\<star> e)\n   (trg f \\<star> f' \\<star> e)\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "obtain \\<phi> where \\<phi>: \"hom.in_hom \\<phi> f f' \\<and> G \\<phi> = \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        hom.in_hom \\<phi> f f' \\<and>\n        trg f \\<star> \\<phi> \\<star> e = \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using assms 3 \\<psi> G.is_full G.preserves_reflects_arr hom'.in_hom_char hom.ide_char"], ["proof (prove)\nusing this:\n  equivalence_map e\n  ide f\n  ide f'\n  trg f = trg f'\n  src f = trg e\n  f \\<star> e \\<cong> f' \\<star> e\n  hom'.in_hom \\<psi> (trg f \\<star> f \\<star> e)\n   (trg f \\<star> f' \\<star> e)\n  \\<guillemotleft>\\<psi> : trg f \\<star>\n                           f \\<star>\n                           e \\<rightarrow> trg f \\<star>\n     f' \\<star> e\\<guillemotright> \\<and>\n  local.iso \\<psi>\n  \\<lbrakk>hom.ide ?a; hom.ide ?a';\n   hom'.in_hom ?g (trg f \\<star> ?a' \\<star> e)\n    (trg f \\<star> ?a \\<star> e)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>fa.\n                       hom.in_hom fa ?a' ?a \\<and>\n                       trg f \\<star> fa \\<star> e = ?g\n  hom'.arr (trg f \\<star> ?f \\<star> e) = hom.arr ?f\n  hom'.in_hom ?f ?a ?b =\n  (hom'.arr ?a \\<and>\n   hom'.arr ?b \\<and>\n   hom'.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<rightarrow> ?b\\<guillemotright>)\n  hom.ide ?a = (hom.arr ?a \\<and> ide ?a)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<phi>.\n        hom.in_hom \\<phi> f f' \\<and>\n        trg f \\<star> \\<phi> \\<star> e = \\<psi> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  hom.in_hom \\<phi> f f' \\<and> trg f \\<star> \\<phi> \\<star> e = \\<psi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "have \"hom.iso \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hom.iso \\<phi>", "using 2 \\<phi> G.reflects_iso"], ["proof (prove)\nusing this:\n  hom'.iso \\<psi>\n  hom.in_hom \\<phi> f f' \\<and> trg f \\<star> \\<phi> \\<star> e = \\<psi>\n  \\<lbrakk>hom.in_hom ?f ?a' ?a;\n   hom'.iso (trg f \\<star> ?f \\<star> e)\\<rbrakk>\n  \\<Longrightarrow> hom.iso ?f\n\ngoal (1 subgoal):\n 1. hom.iso \\<phi>", "by auto"], ["proof (state)\nthis:\n  hom.iso \\<phi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "thus ?thesis"], ["proof (prove)\nusing this:\n  hom.iso \\<phi>\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "using \\<phi> isomorphic_def hom.in_hom_char hom.arr_char hom.iso_char"], ["proof (prove)\nusing this:\n  hom.iso \\<phi>\n  hom.in_hom \\<phi> f f' \\<and> trg f \\<star> \\<phi> \\<star> e = \\<psi>\n  (?a \\<cong> ?a') =\n  (\\<exists>f.\n      \\<guillemotleft>f : ?a \\<rightarrow> ?a'\\<guillemotright> \\<and>\n      local.iso f)\n  hom.in_hom ?f ?a ?b =\n  (hom.arr ?a \\<and>\n   hom.arr ?b \\<and>\n   hom.arr ?f \\<and>\n   \\<guillemotleft>?f : ?a \\<rightarrow> ?b\\<guillemotright>)\n  hom.arr ?f =\n  \\<guillemotleft>?f : trg e \\<rightarrow> trg (trg f)\\<guillemotright>\n  hom.iso ?f =\n  (local.iso ?f \\<and> hom.arr ?f \\<and> hom.arr (local.inv ?f))\n\ngoal (1 subgoal):\n 1. f \\<cong> f'", "by auto"], ["proof (state)\nthis:\n  f \\<cong> f'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  f \\<cong> f'\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}