{"file_name": "/home/qj213/afp-2021-10-22/thys/LTL_Master_Theorem/Logical_Characterization/Syntactic_Fragments_and_Stability.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LTL_Master_Theorem", "problem_names": ["lemma \\<mu>LTL_simp[simp]:\n  \"\\<phi> \\<in> \\<mu>LTL \\<longleftrightarrow> is_\\<mu>LTL \\<phi>\"", "lemma \\<nu>LTL_simp[simp]:\n  \"\\<phi> \\<in> \\<nu>LTL \\<longleftrightarrow> is_\\<nu>LTL \\<phi>\"", "lemma subformulas\\<^sub>\\<mu>_semantics:\n  \"subformulas\\<^sub>\\<mu> \\<phi> = {\\<psi> \\<in> subfrmlsn \\<phi>. \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2. \\<psi> = \\<psi>\\<^sub>1 U\\<^sub>n \\<psi>\\<^sub>2 \\<or> \\<psi> = \\<psi>\\<^sub>1 M\\<^sub>n \\<psi>\\<^sub>2}\"", "lemma subformulas\\<^sub>\\<nu>_semantics:\n  \"subformulas\\<^sub>\\<nu> \\<phi> = {\\<psi> \\<in> subfrmlsn \\<phi>. \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2. \\<psi> = \\<psi>\\<^sub>1 R\\<^sub>n \\<psi>\\<^sub>2 \\<or> \\<psi> = \\<psi>\\<^sub>1 W\\<^sub>n \\<psi>\\<^sub>2}\"", "lemma subformulas\\<^sub>\\<mu>_subfrmlsn:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> subfrmlsn \\<phi>\"", "lemma subformulas\\<^sub>\\<nu>_subfrmlsn:\n  \"subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> subfrmlsn \\<phi>\"", "lemma subformulas\\<^sub>\\<mu>_finite:\n  \"finite (subformulas\\<^sub>\\<mu> \\<phi>)\"", "lemma subformulas\\<^sub>\\<nu>_finite:\n  \"finite (subformulas\\<^sub>\\<nu> \\<phi>)\"", "lemma subformulas\\<^sub>\\<mu>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\"", "lemma subformulas\\<^sub>\\<nu>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\"", "lemma subfrmlsn_\\<mu>LTL:\n  \"\\<phi> \\<in> \\<mu>LTL \\<Longrightarrow> subfrmlsn \\<phi> \\<subseteq> \\<mu>LTL\"", "lemma subfrmlsn_\\<nu>LTL:\n  \"\\<phi> \\<in> \\<nu>LTL \\<Longrightarrow> subfrmlsn \\<phi> \\<subseteq> \\<nu>LTL\"", "lemma subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_disjoint:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<inter> subformulas\\<^sub>\\<nu> \\<phi> = {}\"", "lemma subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_subfrmlsn:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> subfrmlsn \\<phi>\"", "lemma subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_card:\n  \"card (subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<phi>) = card (subformulas\\<^sub>\\<mu> \\<phi>) + card (subformulas\\<^sub>\\<nu> \\<phi>)\"", "lemma \\<G>\\<F>_semantics:\n  \"\\<G>\\<F> \\<phi> w = {\\<psi>. \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi> \\<and> w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\"", "lemma \\<F>_semantics:\n  \"\\<F> \\<phi> w = {\\<psi>. \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi> \\<and> w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\"", "lemma \\<G>\\<F>_semantics':\n  \"\\<G>\\<F> \\<phi> w = subformulas\\<^sub>\\<mu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\"", "lemma \\<F>_semantics':\n  \"\\<F> \\<phi> w = subformulas\\<^sub>\\<mu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\"", "lemma \\<G>\\<F>_\\<F>_subset:\n  \"\\<G>\\<F> \\<phi> w \\<subseteq> \\<F> \\<phi> w\"", "lemma \\<G>\\<F>_finite:\n  \"finite (\\<G>\\<F> \\<phi> w)\"", "lemma \\<G>\\<F>_subformulas\\<^sub>\\<mu>:\n  \"\\<G>\\<F> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\"", "lemma \\<G>\\<F>_subfrmlsn:\n  \"\\<G>\\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\"", "lemma \\<G>\\<F>_elim:\n  \"\\<psi> \\<in> \\<G>\\<F> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)\"", "lemma \\<G>\\<F>_suffix(* [simp] *):\n  \"\\<G>\\<F> \\<phi> (suffix i w) = \\<G>\\<F> \\<phi> w\"", "lemma \\<G>\\<F>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<G>\\<F> \\<psi> w \\<subseteq> \\<G>\\<F> \\<phi> w\"", "lemma \\<F>_finite:\n  \"finite (\\<F> \\<phi> w)\"", "lemma \\<F>_subformulas\\<^sub>\\<mu>:\n  \"\\<F> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\"", "lemma \\<F>_subfrmlsn:\n  \"\\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\"", "lemma \\<F>_elim:\n  \"\\<psi> \\<in> \\<F> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\"", "lemma \\<F>_suffix:\n  \"\\<F> \\<phi> (suffix i w) \\<subseteq> \\<F> \\<phi> w\"", "lemma \\<F>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<F> \\<psi> w \\<subseteq> \\<F> \\<phi> w\"", "lemma suffix_\\<mu>_stable:\n  \"\\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)\"", "lemma \\<mu>_stable_subfrmlsn:\n  \"\\<mu>_stable \\<phi> w \\<Longrightarrow> \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<mu>_stable \\<psi> w\"", "lemma \\<mu>_stable_suffix:\n  \"\\<mu>_stable \\<phi> w \\<Longrightarrow> \\<mu>_stable \\<phi> (suffix i w)\"", "lemma \\<F>\\<G>_semantics:\n  \"\\<F>\\<G> \\<phi> w = {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}\"", "lemma \\<G>_semantics:\n  \"\\<G> \\<phi> w \\<equiv> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\"", "lemma \\<F>\\<G>_semantics':\n  \"\\<F>\\<G> \\<phi> w = subformulas\\<^sub>\\<nu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}\"", "lemma \\<G>_semantics':\n  \"\\<G> \\<phi> w = subformulas\\<^sub>\\<nu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\"", "lemma \\<G>_\\<F>\\<G>_subset:\n  \"\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> w\"", "lemma \\<F>\\<G>_finite:\n  \"finite (\\<F>\\<G> \\<phi> w)\"", "lemma \\<F>\\<G>_subformulas\\<^sub>\\<nu>:\n  \"\\<F>\\<G> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\"", "lemma \\<F>\\<G>_subfrmlsn:\n  \"\\<F>\\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\"", "lemma \\<F>\\<G>_elim:\n  \"\\<psi> \\<in> \\<F>\\<G> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)\"", "lemma \\<F>\\<G>_suffix:\n  \"\\<F>\\<G> \\<phi> (suffix i w) = \\<F>\\<G> \\<phi> w\"", "lemma \\<F>\\<G>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<F>\\<G> \\<psi> w \\<subseteq> \\<F>\\<G> \\<phi> w\"", "lemma \\<G>_finite:\n  \"finite (\\<G> \\<phi> w)\"", "lemma \\<G>_subformulas\\<^sub>\\<nu>:\n  \"\\<G> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\"", "lemma \\<G>_subfrmlsn:\n  \"\\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\"", "lemma \\<G>_elim:\n  \"\\<psi> \\<in> \\<G> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\"", "lemma \\<G>_suffix:\n  \"\\<G> \\<phi> w \\<subseteq> \\<G> \\<phi> (suffix i w)\"", "lemma \\<G>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<G> \\<psi> w \\<subseteq> \\<G> \\<phi> w\"", "lemma suffix_\\<nu>_stable:\n  \"\\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)\"", "lemma \\<nu>_stable_subfrmlsn:\n  \"\\<nu>_stable \\<phi> w \\<Longrightarrow> \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<nu>_stable \\<psi> w\"", "lemma \\<nu>_stable_suffix:\n  \"\\<nu>_stable \\<phi> w \\<Longrightarrow> \\<nu>_stable \\<phi> (suffix i w)\"", "lemma subformulas\\<^sub>\\<mu>_list_set:\n  \"set (subformulas\\<^sub>\\<mu>_list \\<phi>) = subformulas\\<^sub>\\<mu> \\<phi>\"", "lemma subformulas\\<^sub>\\<nu>_list_set:\n  \"set (subformulas\\<^sub>\\<nu>_list \\<phi>) = subformulas\\<^sub>\\<nu> \\<phi>\"", "lemma subformulas\\<^sub>\\<mu>_list_distinct:\n  \"distinct (subformulas\\<^sub>\\<mu>_list \\<phi>)\"", "lemma subformulas\\<^sub>\\<nu>_list_distinct:\n  \"distinct (subformulas\\<^sub>\\<nu>_list \\<phi>)\"", "lemma subformulas\\<^sub>\\<mu>_list_length:\n  \"length (subformulas\\<^sub>\\<mu>_list \\<phi>) = card (subformulas\\<^sub>\\<mu> \\<phi>)\"", "lemma subformulas\\<^sub>\\<nu>_list_length:\n  \"length (subformulas\\<^sub>\\<nu>_list \\<phi>) = card (subformulas\\<^sub>\\<nu> \\<phi>)\"", "lemma subset_subseq:\n  \"X \\<subseteq> set ys \\<longleftrightarrow> (\\<exists>xs. X = set xs \\<and> subseq xs ys)\"", "lemma subseqs_subformulas\\<^sub>\\<mu>_list:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<longleftrightarrow> (\\<exists>xs. X = set xs \\<and> xs \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)))\"", "lemma subseqs_subformulas\\<^sub>\\<nu>_list:\n  \"Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<longleftrightarrow> (\\<exists>ys. Y = set ys \\<and> ys \\<in> set (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)))\"", "lemma advice_sets_subformulas:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<and> Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<longleftrightarrow> (\\<exists>xs ys. X = set xs \\<and> Y = set ys \\<and> (xs, ys) \\<in> set (advice_sets \\<phi>))\"", "lemma subseqs_not_empty:\n  \"subseqs xs \\<noteq> []\"", "lemma product_not_empty:\n  \"xs \\<noteq> [] \\<Longrightarrow> ys \\<noteq> [] \\<Longrightarrow> List.product xs ys \\<noteq> []\"", "lemma advice_sets_not_empty:\n  \"advice_sets \\<phi> \\<noteq> []\"", "lemma advice_sets_length:\n  \"length (advice_sets \\<phi>) \\<le> 2 ^ card (subfrmlsn \\<phi>)\"", "lemma advice_sets_element_length:\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> length xs \\<le> card (subfrmlsn \\<phi>)\"\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> length ys \\<le> card (subfrmlsn \\<phi>)\"", "lemma advice_sets_element_subfrmlsn:\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> set xs \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\"\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> set ys \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\""], "translations": [["", "lemma \\<mu>LTL_simp[simp]:\n  \"\\<phi> \\<in> \\<mu>LTL \\<longleftrightarrow> is_\\<mu>LTL \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<in> \\<mu>LTL) = is_\\<mu>LTL \\<phi>", "unfolding \\<mu>LTL_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<in> Collect is_\\<mu>LTL) = is_\\<mu>LTL \\<phi>", "by simp"], ["", "lemma \\<nu>LTL_simp[simp]:\n  \"\\<phi> \\<in> \\<nu>LTL \\<longleftrightarrow> is_\\<nu>LTL \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<in> \\<nu>LTL) = is_\\<nu>LTL \\<phi>", "unfolding \\<nu>LTL_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<phi> \\<in> Collect is_\\<nu>LTL) = is_\\<nu>LTL \\<phi>", "by simp"], ["", "subsubsection \\<open>Subformulas in @{term \\<mu>LTL} and @{term \\<nu>LTL}\\<close>"], ["", "fun subformulas\\<^sub>\\<mu> :: \"'a ltln \\<Rightarrow> 'a ltln set\"\nwhere\n  \"subformulas\\<^sub>\\<mu> (\\<phi> and\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\"\n| \"subformulas\\<^sub>\\<mu> (\\<phi> or\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\"\n| \"subformulas\\<^sub>\\<mu> (X\\<^sub>n \\<phi>) = subformulas\\<^sub>\\<mu> \\<phi>\"\n| \"subformulas\\<^sub>\\<mu> (\\<phi> U\\<^sub>n \\<psi>) = {\\<phi> U\\<^sub>n \\<psi>} \\<union> subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\"\n| \"subformulas\\<^sub>\\<mu> (\\<phi> R\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\"\n| \"subformulas\\<^sub>\\<mu> (\\<phi> W\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\"\n| \"subformulas\\<^sub>\\<mu> (\\<phi> M\\<^sub>n \\<psi>) = {\\<phi> M\\<^sub>n \\<psi>} \\<union> subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\"\n| \"subformulas\\<^sub>\\<mu> _ = {}\""], ["", "fun subformulas\\<^sub>\\<nu> :: \"'a ltln \\<Rightarrow> 'a ltln set\"\nwhere\n  \"subformulas\\<^sub>\\<nu> (\\<phi> and\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<psi>\"\n| \"subformulas\\<^sub>\\<nu> (\\<phi> or\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<psi>\"\n| \"subformulas\\<^sub>\\<nu> (X\\<^sub>n \\<phi>) = subformulas\\<^sub>\\<nu> \\<phi>\"\n| \"subformulas\\<^sub>\\<nu> (\\<phi> U\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<psi>\"\n| \"subformulas\\<^sub>\\<nu> (\\<phi> R\\<^sub>n \\<psi>) = {\\<phi> R\\<^sub>n \\<psi>} \\<union> subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<psi>\"\n| \"subformulas\\<^sub>\\<nu> (\\<phi> W\\<^sub>n \\<psi>) = {\\<phi> W\\<^sub>n \\<psi>} \\<union> subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<psi>\"\n| \"subformulas\\<^sub>\\<nu> (\\<phi> M\\<^sub>n \\<psi>) = subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<psi>\"\n| \"subformulas\\<^sub>\\<nu> _ = {}\""], ["", "lemma subformulas\\<^sub>\\<mu>_semantics:\n  \"subformulas\\<^sub>\\<mu> \\<phi> = {\\<psi> \\<in> subfrmlsn \\<phi>. \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2. \\<psi> = \\<psi>\\<^sub>1 U\\<^sub>n \\<psi>\\<^sub>2 \\<or> \\<psi> = \\<psi>\\<^sub>1 M\\<^sub>n \\<psi>\\<^sub>2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<phi> =\n    {\\<psi> \\<in> subfrmlsn \\<phi>.\n     \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2.\n        \\<psi> = \\<psi>\\<^sub>1 U\\<^sub>n \\<psi>\\<^sub>2 \\<or>\n        \\<psi> = \\<psi>\\<^sub>1 M\\<^sub>n \\<psi>\\<^sub>2}", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<nu>_semantics:\n  \"subformulas\\<^sub>\\<nu> \\<phi> = {\\<psi> \\<in> subfrmlsn \\<phi>. \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2. \\<psi> = \\<psi>\\<^sub>1 R\\<^sub>n \\<psi>\\<^sub>2 \\<or> \\<psi> = \\<psi>\\<^sub>1 W\\<^sub>n \\<psi>\\<^sub>2}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<phi> =\n    {\\<psi> \\<in> subfrmlsn \\<phi>.\n     \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2.\n        \\<psi> = \\<psi>\\<^sub>1 R\\<^sub>n \\<psi>\\<^sub>2 \\<or>\n        \\<psi> = \\<psi>\\<^sub>1 W\\<^sub>n \\<psi>\\<^sub>2}", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<mu>_subfrmlsn:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> subfrmlsn \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<nu>_subfrmlsn:\n  \"subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> subfrmlsn \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<mu>_finite:\n  \"finite (subformulas\\<^sub>\\<mu> \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (subformulas\\<^sub>\\<mu> \\<phi>)", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<nu>_finite:\n  \"finite (subformulas\\<^sub>\\<nu> \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (subformulas\\<^sub>\\<nu> \\<phi>)", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<mu>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<nu>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma subfrmlsn_\\<mu>LTL:\n  \"\\<phi> \\<in> \\<mu>LTL \\<Longrightarrow> subfrmlsn \\<phi> \\<subseteq> \\<mu>LTL\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> \\<mu>LTL \\<Longrightarrow>\n    subfrmlsn \\<phi> \\<subseteq> \\<mu>LTL", "by (induction \\<phi>) auto"], ["", "lemma subfrmlsn_\\<nu>LTL:\n  \"\\<phi> \\<in> \\<nu>LTL \\<Longrightarrow> subfrmlsn \\<phi> \\<subseteq> \\<nu>LTL\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<in> \\<nu>LTL \\<Longrightarrow>\n    subfrmlsn \\<phi> \\<subseteq> \\<nu>LTL", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_disjoint:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<inter> subformulas\\<^sub>\\<nu> \\<phi> = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<phi> \\<inter> subformulas\\<^sub>\\<nu> \\<phi> =\n    {}", "unfolding subformulas\\<^sub>\\<mu>_semantics subformulas\\<^sub>\\<nu>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subfrmlsn \\<phi>.\n     \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2.\n        \\<psi> = \\<psi>\\<^sub>1 U\\<^sub>n \\<psi>\\<^sub>2 \\<or>\n        \\<psi> = \\<psi>\\<^sub>1 M\\<^sub>n \\<psi>\\<^sub>2} \\<inter>\n    {\\<psi> \\<in> subfrmlsn \\<phi>.\n     \\<exists>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2.\n        \\<psi> = \\<psi>\\<^sub>1 R\\<^sub>n \\<psi>\\<^sub>2 \\<or>\n        \\<psi> = \\<psi>\\<^sub>1 W\\<^sub>n \\<psi>\\<^sub>2} =\n    {}", "by fastforce"], ["", "lemma subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_subfrmlsn:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<phi>\n    \\<subseteq> subfrmlsn \\<phi>", "using subformulas\\<^sub>\\<mu>_subfrmlsn subformulas\\<^sub>\\<nu>_subfrmlsn"], ["proof (prove)\nusing this:\n  subformulas\\<^sub>\\<mu> ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n  subformulas\\<^sub>\\<nu> ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<phi>\n    \\<subseteq> subfrmlsn \\<phi>", "by blast"], ["", "lemma subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_card:\n  \"card (subformulas\\<^sub>\\<mu> \\<phi> \\<union> subformulas\\<^sub>\\<nu> \\<phi>) = card (subformulas\\<^sub>\\<mu> \\<phi>) + card (subformulas\\<^sub>\\<nu> \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card\n     (subformulas\\<^sub>\\<mu> \\<phi> \\<union>\n      subformulas\\<^sub>\\<nu> \\<phi>) =\n    card (subformulas\\<^sub>\\<mu> \\<phi>) +\n    card (subformulas\\<^sub>\\<nu> \\<phi>)", "by (simp add: subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_disjoint subformulas\\<^sub>\\<mu>_finite subformulas\\<^sub>\\<nu>_finite card_Un_disjoint)"], ["", "subsection \\<open>Stability\\<close>"], ["", "definition \"GF_singleton w \\<phi> \\<equiv> if w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<phi>) then {\\<phi>} else {}\""], ["", "definition \"F_singleton w \\<phi> \\<equiv> if w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi> then {\\<phi>} else {}\""], ["", "declare GF_singleton_def [simp] F_singleton_def [simp]"], ["", "fun \\<G>\\<F> :: \"'a ltln \\<Rightarrow> 'a set word \\<Rightarrow> 'a ltln set\"\nwhere\n  \"\\<G>\\<F> (\\<phi> and\\<^sub>n \\<psi>) w = \\<G>\\<F> \\<phi> w \\<union> \\<G>\\<F> \\<psi> w\"\n| \"\\<G>\\<F> (\\<phi> or\\<^sub>n \\<psi>) w = \\<G>\\<F> \\<phi> w \\<union> \\<G>\\<F> \\<psi> w\"\n| \"\\<G>\\<F> (X\\<^sub>n \\<phi>) w = \\<G>\\<F> \\<phi> w\"\n| \"\\<G>\\<F> (\\<phi> U\\<^sub>n \\<psi>) w = GF_singleton w (\\<phi> U\\<^sub>n \\<psi>) \\<union> \\<G>\\<F> \\<phi> w \\<union> \\<G>\\<F> \\<psi> w\"\n| \"\\<G>\\<F> (\\<phi> R\\<^sub>n \\<psi>) w = \\<G>\\<F> \\<phi> w \\<union> \\<G>\\<F> \\<psi> w\"\n| \"\\<G>\\<F> (\\<phi> W\\<^sub>n \\<psi>) w = \\<G>\\<F> \\<phi> w \\<union> \\<G>\\<F> \\<psi> w\"\n| \"\\<G>\\<F> (\\<phi> M\\<^sub>n \\<psi>) w = GF_singleton w (\\<phi> M\\<^sub>n \\<psi>) \\<union> \\<G>\\<F> \\<phi> w \\<union> \\<G>\\<F> \\<psi> w\"\n| \"\\<G>\\<F> _ _ = {}\""], ["", "fun \\<F> :: \"'a ltln \\<Rightarrow> 'a set word \\<Rightarrow> 'a ltln set\"\nwhere\n  \"\\<F> (\\<phi> and\\<^sub>n \\<psi>) w = \\<F> \\<phi> w \\<union> \\<F> \\<psi> w\"\n| \"\\<F> (\\<phi> or\\<^sub>n \\<psi>) w = \\<F> \\<phi> w \\<union> \\<F> \\<psi> w\"\n| \"\\<F> (X\\<^sub>n \\<phi>) w = \\<F> \\<phi> w\"\n| \"\\<F> (\\<phi> U\\<^sub>n \\<psi>) w = F_singleton w (\\<phi> U\\<^sub>n \\<psi>) \\<union> \\<F> \\<phi> w \\<union> \\<F> \\<psi> w\"\n| \"\\<F> (\\<phi> R\\<^sub>n \\<psi>) w = \\<F> \\<phi> w \\<union> \\<F> \\<psi> w\"\n| \"\\<F> (\\<phi> W\\<^sub>n \\<psi>) w = \\<F> \\<phi> w \\<union> \\<F> \\<psi> w\"\n| \"\\<F> (\\<phi> M\\<^sub>n \\<psi>) w = F_singleton w (\\<phi> M\\<^sub>n \\<psi>) \\<union> \\<F> \\<phi> w \\<union> \\<F> \\<psi> w\"\n| \"\\<F> _ _ = {}\""], ["", "lemma \\<G>\\<F>_semantics:\n  \"\\<G>\\<F> \\<phi> w = {\\<psi>. \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi> \\<and> w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w =\n    {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}", "by (induction \\<phi>) force+"], ["", "lemma \\<F>_semantics:\n  \"\\<F> \\<phi> w = {\\<psi>. \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi> \\<and> w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F> \\<phi> w =\n    {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by (induction \\<phi>) force+"], ["", "lemma \\<G>\\<F>_semantics':\n  \"\\<G>\\<F> \\<phi> w = subformulas\\<^sub>\\<mu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w =\n    subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}", "unfolding \\<G>\\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n    subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}", "by auto"], ["", "lemma \\<F>_semantics':\n  \"\\<F> \\<phi> w = subformulas\\<^sub>\\<mu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F> \\<phi> w =\n    subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "unfolding \\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>} =\n    subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by auto"], ["", "lemma \\<G>\\<F>_\\<F>_subset:\n  \"\\<G>\\<F> \\<phi> w \\<subseteq> \\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<subseteq> \\<F> \\<phi> w", "unfolding \\<G>\\<F>_semantics \\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by force"], ["", "lemma \\<G>\\<F>_finite:\n  \"finite (\\<G>\\<F> \\<phi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<G>\\<F> \\<phi> w)", "by (induction \\<phi>) auto"], ["", "lemma \\<G>\\<F>_subformulas\\<^sub>\\<mu>:\n  \"\\<G>\\<F> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "unfolding \\<G>\\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "by force"], ["", "lemma \\<G>\\<F>_subfrmlsn:\n  \"\\<G>\\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "using \\<G>\\<F>_subformulas\\<^sub>\\<mu> subformulas\\<^sub>\\<mu>_subfrmlsn"], ["proof (prove)\nusing this:\n  \\<G>\\<F> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n  subformulas\\<^sub>\\<mu> ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "by blast"], ["", "lemma \\<G>\\<F>_elim:\n  \"\\<psi> \\<in> \\<G>\\<F> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> \\<G>\\<F> \\<phi> w \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)", "unfolding \\<G>\\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n           w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)", "by simp"], ["", "lemma \\<G>\\<F>_suffix(* [simp] *):\n  \"\\<G>\\<F> \\<phi> (suffix i w) = \\<G>\\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> (suffix i w) = \\<G>\\<F> \\<phi> w", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<G>\\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w\n 2. \\<G>\\<F> \\<phi> w \\<subseteq> \\<G>\\<F> \\<phi> (suffix i w)", "show \"\\<G>\\<F> \\<phi> w \\<subseteq> \\<G>\\<F> \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<subseteq> \\<G>\\<F> \\<phi> (suffix i w)", "unfolding \\<G>\\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 suffix i\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}", "by auto"], ["proof (state)\nthis:\n  \\<G>\\<F> \\<phi> w \\<subseteq> \\<G>\\<F> \\<phi> (suffix i w)\n\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w", "show \"\\<G>\\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w", "unfolding \\<G>\\<F>_semantics GF_Inf_many"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>\\<^sub>\\<infinity>ia.\n        suffix ia (suffix i w) \\<Turnstile>\\<^sub>n \\<psi>}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 \\<exists>\\<^sub>\\<infinity>i.\n                    suffix i w \\<Turnstile>\\<^sub>n \\<psi>}", "proof auto"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<mu> \\<phi>;\n        \\<exists>\\<^sub>\\<infinity>ia.\n           suffix (i + ia) w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>\\<^sub>\\<infinity>i.\n                            suffix i w \\<Turnstile>\\<^sub>n x", "fix \\<psi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<mu> \\<phi>;\n        \\<exists>\\<^sub>\\<infinity>ia.\n           suffix (i + ia) w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>\\<^sub>\\<infinity>i.\n                            suffix i w \\<Turnstile>\\<^sub>n x", "assume \"\\<exists>\\<^sub>\\<infinity>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<mu> \\<phi>;\n        \\<exists>\\<^sub>\\<infinity>ia.\n           suffix (i + ia) w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>\\<^sub>\\<infinity>i.\n                            suffix i w \\<Turnstile>\\<^sub>n x", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>", "have \"\\<exists>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>j.\n       suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<mu> \\<phi>;\n        \\<exists>\\<^sub>\\<infinity>ia.\n           suffix (i + ia) w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>\\<^sub>\\<infinity>i.\n                            suffix i w \\<Turnstile>\\<^sub>n x", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>", "show \"\\<exists>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>", "using INFM_nat_add"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\n  (\\<exists>\\<^sub>\\<infinity>i. ?P i) =\n  (\\<exists>\\<^sub>\\<infinity>i. ?P (i + ?j))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<G>\\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<G>\\<F>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<G>\\<F> \\<psi> w \\<subseteq> \\<G>\\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    \\<G>\\<F> \\<psi> w \\<subseteq> \\<G>\\<F> \\<phi> w", "unfolding \\<G>\\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<mu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>')}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}", "using subformulas\\<^sub>\\<mu>_subset"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn ?\\<phi> \\<Longrightarrow>\n  subformulas\\<^sub>\\<mu> ?\\<psi>\n  \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<mu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>')}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}", "by blast"], ["", "lemma \\<F>_finite:\n  \"finite (\\<F> \\<phi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<F> \\<phi> w)", "by (induction \\<phi>) auto"], ["", "lemma \\<F>_subformulas\\<^sub>\\<mu>:\n  \"\\<F> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "unfolding \\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "by force"], ["", "lemma \\<F>_subfrmlsn:\n  \"\\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "using \\<F>_subformulas\\<^sub>\\<mu> subformulas\\<^sub>\\<mu>_subfrmlsn"], ["proof (prove)\nusing this:\n  \\<F> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n  subformulas\\<^sub>\\<mu> ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<F> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "by blast"], ["", "lemma \\<F>_elim:\n  \"\\<psi> \\<in> \\<F> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> \\<F> \\<phi> w \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "unfolding \\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n           w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>} \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "by simp"], ["", "lemma \\<F>_suffix:\n  \"\\<F> \\<phi> (suffix i w) \\<subseteq> \\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F> \\<phi> (suffix i w) \\<subseteq> \\<F> \\<phi> w", "unfolding \\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n     suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by auto"], ["", "lemma \\<F>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<F> \\<psi> w \\<subseteq> \\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    \\<F> \\<psi> w \\<subseteq> \\<F> \\<phi> w", "unfolding \\<F>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<mu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>'}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "using subformulas\\<^sub>\\<mu>_subset"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn ?\\<phi> \\<Longrightarrow>\n  subformulas\\<^sub>\\<mu> ?\\<psi>\n  \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<mu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>'}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by blast"], ["", "definition \"\\<mu>_stable \\<phi> w \\<longleftrightarrow> \\<G>\\<F> \\<phi> w = \\<F> \\<phi> w\""], ["", "lemma suffix_\\<mu>_stable:\n  \"\\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)", "have \"\\<forall>\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>. \\<forall>\\<^sub>\\<infinity>i. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) \\<longleftrightarrow> suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<forall>\\<^sub>\\<infinity>i.\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "using Alm_all_GF_F"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     suffix i ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n ?\\<psi>) =\n     suffix i ?w \\<Turnstile>\\<^sub>n F\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<forall>\\<^sub>\\<infinity>i.\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "have \"\\<forall>\\<^sub>\\<infinity>i. \\<forall>\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) \\<longleftrightarrow> suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "using subformulas\\<^sub>\\<mu>_finite eventually_ball_finite"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n  finite (subformulas\\<^sub>\\<mu> ?\\<phi>)\n  \\<lbrakk>finite ?A;\n   \\<forall>y\\<in>?A. \\<forall>\\<^sub>F x in ?net. ?P x y\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in ?net. \\<forall>y\\<in>?A. ?P x y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "by fast"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i.\n     \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "have \"\\<forall>\\<^sub>\\<infinity>i. {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} = {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>. suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n       {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by (rule MOST_mono) (blast intro: Collect_cong)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)", "unfolding \\<mu>_stable_def \\<G>\\<F>_semantics \\<F>_semantics"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} =\n       {\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>}", "by (rule MOST_mono) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i. \\<mu>_stable \\<phi> (suffix i w)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<mu>_stable_subfrmlsn:\n  \"\\<mu>_stable \\<phi> w \\<Longrightarrow> \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<mu>_stable \\<psi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<mu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<mu>_stable \\<psi> w", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<mu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<mu>_stable \\<psi> w", "assume a1: \"\\<psi> \\<in> subfrmlsn \\<phi>\" and a2: \"\\<mu>_stable \\<phi> w\""], ["proof (state)\nthis:\n  \\<psi> \\<in> subfrmlsn \\<phi>\n  \\<mu>_stable \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<mu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<mu>_stable \\<psi> w", "have \"subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "using a1"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> subfrmlsn \\<phi>\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>", "by (simp add: subformulas\\<^sub>\\<mu>_subset)"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<mu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<mu>_stable \\<psi> w", "moreover"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<mu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<mu>_stable \\<psi> w", "have \"\\<G>\\<F> \\<phi> w = \\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w = \\<F> \\<phi> w", "using a2"], ["proof (prove)\nusing this:\n  \\<mu>_stable \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w = \\<F> \\<phi> w", "by (meson \\<mu>_stable_def)"], ["proof (state)\nthis:\n  \\<G>\\<F> \\<phi> w = \\<F> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<mu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<mu>_stable \\<psi> w", "ultimately"], ["proof (chain)\npicking this:\n  subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\n  \\<G>\\<F> \\<phi> w = \\<F> \\<phi> w", "show ?thesis"], ["proof (prove)\nusing this:\n  subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\n  \\<G>\\<F> \\<phi> w = \\<F> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<mu>_stable \\<psi> w", "by (metis (no_types) Un_commute \\<F>_semantics' \\<G>\\<F>_semantics' \\<mu>_stable_def inf_left_commute inf_sup_absorb sup.orderE)"], ["proof (state)\nthis:\n  \\<mu>_stable \\<psi> w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<mu>_stable_suffix:\n  \"\\<mu>_stable \\<phi> w \\<Longrightarrow> \\<mu>_stable \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<mu>_stable \\<phi> w \\<Longrightarrow> \\<mu>_stable \\<phi> (suffix i w)", "by (metis \\<F>_suffix \\<G>\\<F>_\\<F>_subset \\<G>\\<F>_suffix \\<mu>_stable_def subset_antisym)"], ["", "definition \"FG_singleton w \\<phi> \\<equiv> if w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<phi>) then {\\<phi>} else {}\""], ["", "definition \"G_singleton w \\<phi> \\<equiv> if w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> then {\\<phi>} else {}\""], ["", "declare FG_singleton_def [simp] G_singleton_def [simp]"], ["", "fun \\<F>\\<G> :: \"'a ltln \\<Rightarrow> 'a set word \\<Rightarrow> 'a ltln set\"\nwhere\n  \"\\<F>\\<G> (\\<phi> and\\<^sub>n \\<psi>) w = \\<F>\\<G> \\<phi> w \\<union> \\<F>\\<G> \\<psi> w\"\n| \"\\<F>\\<G> (\\<phi> or\\<^sub>n \\<psi>) w = \\<F>\\<G> \\<phi> w \\<union> \\<F>\\<G> \\<psi> w\"\n| \"\\<F>\\<G> (X\\<^sub>n \\<phi>) w = \\<F>\\<G> \\<phi> w\"\n| \"\\<F>\\<G> (\\<phi> U\\<^sub>n \\<psi>) w = \\<F>\\<G> \\<phi> w \\<union> \\<F>\\<G> \\<psi> w\"\n| \"\\<F>\\<G> (\\<phi> R\\<^sub>n \\<psi>) w = FG_singleton w (\\<phi> R\\<^sub>n \\<psi>) \\<union> \\<F>\\<G> \\<phi> w \\<union> \\<F>\\<G> \\<psi> w\"\n| \"\\<F>\\<G> (\\<phi> W\\<^sub>n \\<psi>) w = FG_singleton w (\\<phi> W\\<^sub>n \\<psi>) \\<union> \\<F>\\<G> \\<phi> w \\<union> \\<F>\\<G> \\<psi> w\"\n| \"\\<F>\\<G> (\\<phi> M\\<^sub>n \\<psi>) w = \\<F>\\<G> \\<phi> w \\<union> \\<F>\\<G> \\<psi> w\"\n| \"\\<F>\\<G> _ _ = {}\""], ["", "fun \\<G> :: \"'a ltln \\<Rightarrow> 'a set word \\<Rightarrow> 'a ltln set\"\nwhere\n  \"\\<G> (\\<phi> and\\<^sub>n \\<psi>) w = \\<G> \\<phi> w \\<union> \\<G> \\<psi> w\"\n| \"\\<G> (\\<phi> or\\<^sub>n \\<psi>) w = \\<G> \\<phi> w \\<union> \\<G> \\<psi> w\"\n| \"\\<G> (X\\<^sub>n \\<phi>) w = \\<G> \\<phi> w\"\n| \"\\<G> (\\<phi> U\\<^sub>n \\<psi>) w = \\<G> \\<phi> w \\<union> \\<G> \\<psi> w\"\n| \"\\<G> (\\<phi> R\\<^sub>n \\<psi>) w = G_singleton w (\\<phi> R\\<^sub>n \\<psi>) \\<union> \\<G> \\<phi> w \\<union> \\<G> \\<psi> w\"\n| \"\\<G> (\\<phi> W\\<^sub>n \\<psi>) w = G_singleton w (\\<phi> W\\<^sub>n \\<psi>) \\<union> \\<G> \\<phi> w \\<union> \\<G> \\<psi> w\"\n| \"\\<G> (\\<phi> M\\<^sub>n \\<psi>) w = \\<G> \\<phi> w \\<union> \\<G> \\<psi> w\"\n| \"\\<G> _ _ = {}\""], ["", "lemma \\<F>\\<G>_semantics:\n  \"\\<F>\\<G> \\<phi> w = {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w =\n    {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "by (induction \\<phi>) force+"], ["", "lemma \\<G>_semantics:\n  \"\\<G> \\<phi> w \\<equiv> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w \\<equiv>\n    {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "by (induction \\<phi>) force+"], ["", "lemma \\<F>\\<G>_semantics':\n  \"\\<F>\\<G> \\<phi> w = subformulas\\<^sub>\\<nu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w =\n    subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "unfolding \\<F>\\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n    subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "by auto"], ["", "lemma \\<G>_semantics':\n  \"\\<G> \\<phi> w = subformulas\\<^sub>\\<nu> \\<phi> \\<inter> {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w =\n    subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "unfolding \\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>} =\n    subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "by auto"], ["", "lemma \\<G>_\\<F>\\<G>_subset:\n  \"\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> w", "unfolding \\<G>_semantics \\<F>\\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "by force"], ["", "lemma \\<F>\\<G>_finite:\n  \"finite (\\<F>\\<G> \\<phi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<F>\\<G> \\<phi> w)", "by (induction \\<phi>) auto"], ["", "lemma \\<F>\\<G>_subformulas\\<^sub>\\<nu>:\n  \"\\<F>\\<G> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "unfolding \\<F>\\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "by force"], ["", "lemma \\<F>\\<G>_subfrmlsn:\n  \"\\<F>\\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "using \\<F>\\<G>_subformulas\\<^sub>\\<nu> subformulas\\<^sub>\\<nu>_subfrmlsn"], ["proof (prove)\nusing this:\n  \\<F>\\<G> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n  subformulas\\<^sub>\\<nu> ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "by blast"], ["", "lemma \\<F>\\<G>_elim:\n  \"\\<psi> \\<in> \\<F>\\<G> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> \\<F>\\<G> \\<phi> w \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)", "unfolding \\<F>\\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n           w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)", "by simp"], ["", "lemma \\<F>\\<G>_suffix:\n  \"\\<F>\\<G> \\<phi> (suffix i w) = \\<F>\\<G> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> (suffix i w) = \\<F>\\<G> \\<phi> w", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<F>\\<G> \\<phi> (suffix i w) \\<subseteq> \\<F>\\<G> \\<phi> w\n 2. \\<F>\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> (suffix i w)", "show \"\\<F>\\<G> \\<phi> (suffix i w) \\<subseteq> \\<F>\\<G> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> (suffix i w) \\<subseteq> \\<F>\\<G> \\<phi> w", "unfolding \\<F>\\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "by auto"], ["proof (state)\nthis:\n  \\<F>\\<G> \\<phi> (suffix i w) \\<subseteq> \\<F>\\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> (suffix i w)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> (suffix i w)", "show \"\\<F>\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> (suffix i w)", "unfolding \\<F>\\<G>_semantics FG_Alm_all"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi>}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 \\<forall>\\<^sub>\\<infinity>ia.\n                    suffix ia (suffix i w) \\<Turnstile>\\<^sub>n \\<psi>}", "proof auto"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<nu> \\<phi>;\n        \\<forall>\\<^sub>\\<infinity>i.\n           suffix i w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>\\<infinity>ia.\n                            suffix (i + ia) w \\<Turnstile>\\<^sub>n x", "fix \\<psi>"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<nu> \\<phi>;\n        \\<forall>\\<^sub>\\<infinity>i.\n           suffix i w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>\\<infinity>ia.\n                            suffix (i + ia) w \\<Turnstile>\\<^sub>n x", "assume \"\\<forall>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<nu> \\<phi>;\n        \\<forall>\\<^sub>\\<infinity>i.\n           suffix i w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>\\<infinity>ia.\n                            suffix (i + ia) w \\<Turnstile>\\<^sub>n x", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>", "have \"\\<forall>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j.\n       suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>", "using MOST_nat_add"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>j. suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  (\\<forall>\\<^sub>\\<infinity>i. ?P i) =\n  (\\<forall>\\<^sub>\\<infinity>i. ?P (i + ?j))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j.\n       suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>", "by meson"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<in> subformulas\\<^sub>\\<nu> \\<phi>;\n        \\<forall>\\<^sub>\\<infinity>i.\n           suffix i w \\<Turnstile>\\<^sub>n x\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>\\<infinity>ia.\n                            suffix (i + ia) w \\<Turnstile>\\<^sub>n x", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>", "show \"\\<forall>\\<^sub>\\<infinity>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>j. suffix (j + i) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j.\n       suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>", "by (simp add: algebra_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<F>\\<G> \\<phi> w \\<subseteq> \\<F>\\<G> \\<phi> (suffix i w)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<F>\\<G>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<F>\\<G> \\<psi> w \\<subseteq> \\<F>\\<G> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    \\<F>\\<G> \\<psi> w \\<subseteq> \\<F>\\<G> \\<phi> w", "unfolding \\<F>\\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<nu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>')}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "using subformulas\\<^sub>\\<nu>_subset"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn ?\\<phi> \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> ?\\<psi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<nu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>')}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)}", "by blast"], ["", "lemma \\<G>_finite:\n  \"finite (\\<G> \\<phi> w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<G> \\<phi> w)", "by (induction \\<phi>) auto"], ["", "lemma \\<G>_subformulas\\<^sub>\\<nu>:\n  \"\\<G> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "unfolding \\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "by force"], ["", "lemma \\<G>_subfrmlsn:\n  \"\\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "using \\<G>_subformulas\\<^sub>\\<nu> subformulas\\<^sub>\\<nu>_subfrmlsn"], ["proof (prove)\nusing this:\n  \\<G> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n  subformulas\\<^sub>\\<nu> ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w \\<subseteq> subfrmlsn \\<phi>", "by blast"], ["", "lemma \\<G>_elim:\n  \"\\<psi> \\<in> \\<G> \\<phi> w \\<Longrightarrow> w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> \\<G> \\<phi> w \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "unfolding \\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n           w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>} \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "by simp"], ["", "lemma \\<G>_suffix:\n  \"\\<G> \\<phi> w \\<subseteq> \\<G> \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G> \\<phi> w \\<subseteq> \\<G> \\<phi> (suffix i w)", "unfolding \\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "by auto"], ["", "lemma \\<G>_subset:\n  \"\\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<G> \\<psi> w \\<subseteq> \\<G> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    \\<G> \\<psi> w \\<subseteq> \\<G> \\<phi> w", "unfolding \\<G>_semantics"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<nu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>'}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "using subformulas\\<^sub>\\<nu>_subset"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn ?\\<phi> \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> ?\\<psi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow>\n    {\\<psi>' \\<in> subformulas\\<^sub>\\<nu> \\<psi>.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>'}\n    \\<subseteq> {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "by blast"], ["", "definition \"\\<nu>_stable \\<phi> w \\<longleftrightarrow> \\<F>\\<G> \\<phi> w = \\<G> \\<phi> w\""], ["", "lemma suffix_\\<nu>_stable:\n  \"\\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)", "have \"\\<forall>\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. \\<forall>\\<^sub>\\<infinity>i. suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) \\<longleftrightarrow> suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n       \\<forall>\\<^sub>\\<infinity>i.\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "using Alm_all_FG_G"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     suffix i ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n ?\\<psi>) =\n     suffix i ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n       \\<forall>\\<^sub>\\<infinity>i.\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "have \"\\<forall>\\<^sub>\\<infinity>i. \\<forall>\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) \\<longleftrightarrow> suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "using subformulas\\<^sub>\\<nu>_finite eventually_ball_finite"], ["proof (prove)\nusing this:\n  \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n     \\<forall>\\<^sub>\\<infinity>i.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n  finite (subformulas\\<^sub>\\<nu> ?\\<phi>)\n  \\<lbrakk>finite ?A;\n   \\<forall>y\\<in>?A. \\<forall>\\<^sub>F x in ?net. ?P x y\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F x in ?net. \\<forall>y\\<in>?A. ?P x y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n          suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n          suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "by fast"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i.\n     \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "have \"\\<forall>\\<^sub>\\<infinity>i. {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} = {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     \\<forall>\\<psi>\\<in>subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>) =\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n       {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "by (rule MOST_mono) (blast intro: Collect_cong)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)", "unfolding \\<nu>_stable_def \\<F>\\<G>_semantics \\<G>_semantics"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i.\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n     {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n      suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>j.\n       {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix j w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>)} =\n       {\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<phi>.\n        suffix j w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>}", "by (rule MOST_mono) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>j. \\<nu>_stable \\<phi> (suffix j w)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<nu>_stable_subfrmlsn:\n  \"\\<nu>_stable \\<phi> w \\<Longrightarrow> \\<psi> \\<in> subfrmlsn \\<phi> \\<Longrightarrow> \\<nu>_stable \\<psi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<nu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<nu>_stable \\<psi> w", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<nu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<nu>_stable \\<psi> w", "assume a1: \"\\<psi> \\<in> subfrmlsn \\<phi>\" and a2: \"\\<nu>_stable \\<phi> w\""], ["proof (state)\nthis:\n  \\<psi> \\<in> subfrmlsn \\<phi>\n  \\<nu>_stable \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<nu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<nu>_stable \\<psi> w", "have \"subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "using a1"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> subfrmlsn \\<phi>\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>", "by (simp add: subformulas\\<^sub>\\<nu>_subset)"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<nu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<nu>_stable \\<psi> w", "moreover"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<nu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<nu>_stable \\<psi> w", "have \"\\<F>\\<G> \\<phi> w = \\<G> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w = \\<G> \\<phi> w", "using a2"], ["proof (prove)\nusing this:\n  \\<nu>_stable \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w = \\<G> \\<phi> w", "by (meson \\<nu>_stable_def)"], ["proof (state)\nthis:\n  \\<F>\\<G> \\<phi> w = \\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<nu>_stable \\<phi> w; \\<psi> \\<in> subfrmlsn \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<nu>_stable \\<psi> w", "ultimately"], ["proof (chain)\npicking this:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\n  \\<F>\\<G> \\<phi> w = \\<G> \\<phi> w", "show ?thesis"], ["proof (prove)\nusing this:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\n  \\<F>\\<G> \\<phi> w = \\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<nu>_stable \\<psi> w", "by (metis (no_types) Un_commute \\<G>_semantics' \\<F>\\<G>_semantics' \\<nu>_stable_def inf_left_commute inf_sup_absorb sup.orderE)"], ["proof (state)\nthis:\n  \\<nu>_stable \\<psi> w\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma \\<nu>_stable_suffix:\n  \"\\<nu>_stable \\<phi> w \\<Longrightarrow> \\<nu>_stable \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nu>_stable \\<phi> w \\<Longrightarrow> \\<nu>_stable \\<phi> (suffix i w)", "by (metis \\<F>\\<G>_suffix \\<G>_\\<F>\\<G>_subset \\<G>_suffix \\<nu>_stable_def antisym_conv)"], ["", "subsection \\<open>Definitions with Lists for Code Export\\<close>"], ["", "text \\<open>The \\<open>\\<mu>\\<close>- and \\<open>\\<nu>\\<close>-subformulas as lists:\\<close>"], ["", "fun subformulas\\<^sub>\\<mu>_list :: \"'a ltln \\<Rightarrow> 'a ltln list\"\nwhere\n  \"subformulas\\<^sub>\\<mu>_list (\\<phi> and\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<mu>_list \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<mu>_list (\\<phi> or\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<mu>_list \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<mu>_list (X\\<^sub>n \\<phi>) = subformulas\\<^sub>\\<mu>_list \\<phi>\"\n| \"subformulas\\<^sub>\\<mu>_list (\\<phi> U\\<^sub>n \\<psi>) = List.insert (\\<phi> U\\<^sub>n \\<psi>) (List.union (subformulas\\<^sub>\\<mu>_list \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<psi>))\"\n| \"subformulas\\<^sub>\\<mu>_list (\\<phi> R\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<mu>_list \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<mu>_list (\\<phi> W\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<mu>_list \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<mu>_list (\\<phi> M\\<^sub>n \\<psi>) = List.insert (\\<phi> M\\<^sub>n \\<psi>) (List.union (subformulas\\<^sub>\\<mu>_list \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<psi>))\"\n| \"subformulas\\<^sub>\\<mu>_list _ = []\""], ["", "fun subformulas\\<^sub>\\<nu>_list :: \"'a ltln \\<Rightarrow> 'a ltln list\"\nwhere\n  \"subformulas\\<^sub>\\<nu>_list (\\<phi> and\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<nu>_list \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<nu>_list (\\<phi> or\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<nu>_list \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<nu>_list (X\\<^sub>n \\<phi>) = subformulas\\<^sub>\\<nu>_list \\<phi>\"\n| \"subformulas\\<^sub>\\<nu>_list (\\<phi> U\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<nu>_list \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<nu>_list (\\<phi> R\\<^sub>n \\<psi>) = List.insert (\\<phi> R\\<^sub>n \\<psi>) (List.union (subformulas\\<^sub>\\<nu>_list \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<psi>))\"\n| \"subformulas\\<^sub>\\<nu>_list (\\<phi> W\\<^sub>n \\<psi>) = List.insert (\\<phi> W\\<^sub>n \\<psi>) (List.union (subformulas\\<^sub>\\<nu>_list \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<psi>))\"\n| \"subformulas\\<^sub>\\<nu>_list (\\<phi> M\\<^sub>n \\<psi>) = List.union (subformulas\\<^sub>\\<nu>_list \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<psi>)\"\n| \"subformulas\\<^sub>\\<nu>_list _ = []\""], ["", "lemma subformulas\\<^sub>\\<mu>_list_set:\n  \"set (subformulas\\<^sub>\\<mu>_list \\<phi>) = subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (subformulas\\<^sub>\\<mu>_list \\<phi>) =\n    subformulas\\<^sub>\\<mu> \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<nu>_list_set:\n  \"set (subformulas\\<^sub>\\<nu>_list \\<phi>) = subformulas\\<^sub>\\<nu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (subformulas\\<^sub>\\<nu>_list \\<phi>) =\n    subformulas\\<^sub>\\<nu> \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<mu>_list_distinct:\n  \"distinct (subformulas\\<^sub>\\<mu>_list \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (subformulas\\<^sub>\\<mu>_list \\<phi>)", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<nu>_list_distinct:\n  \"distinct (subformulas\\<^sub>\\<nu>_list \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. distinct (subformulas\\<^sub>\\<nu>_list \\<phi>)", "by (induction \\<phi>) auto"], ["", "lemma subformulas\\<^sub>\\<mu>_list_length:\n  \"length (subformulas\\<^sub>\\<mu>_list \\<phi>) = card (subformulas\\<^sub>\\<mu> \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (subformulas\\<^sub>\\<mu>_list \\<phi>) =\n    card (subformulas\\<^sub>\\<mu> \\<phi>)", "by (metis subformulas\\<^sub>\\<mu>_list_set subformulas\\<^sub>\\<mu>_list_distinct distinct_card)"], ["", "lemma subformulas\\<^sub>\\<nu>_list_length:\n  \"length (subformulas\\<^sub>\\<nu>_list \\<phi>) = card (subformulas\\<^sub>\\<nu> \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (subformulas\\<^sub>\\<nu>_list \\<phi>) =\n    card (subformulas\\<^sub>\\<nu> \\<phi>)", "by (metis subformulas\\<^sub>\\<nu>_list_set subformulas\\<^sub>\\<nu>_list_distinct distinct_card)"], ["", "text \\<open>\n  We define the list of advice sets as the product of all subsequences\n  of the \\<open>\\<mu>\\<close>- and \\<open>\\<nu>\\<close>-subformulas of a formula.\n\\<close>"], ["", "definition advice_sets :: \"'a ltln \\<Rightarrow> ('a ltln list \\<times> 'a ltln list) list\"\nwhere\n  \"advice_sets \\<phi> = List.product (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)) (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>))\""], ["", "lemma subset_subseq:\n  \"X \\<subseteq> set ys \\<longleftrightarrow> (\\<exists>xs. X = set xs \\<and> subseq xs ys)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X \\<subseteq> set ys) = (\\<exists>xs. X = set xs \\<and> subseq xs ys)", "by (metis (no_types, lifting) Pow_iff image_iff in_set_subseqs subseqs_powset)"], ["", "lemma subseqs_subformulas\\<^sub>\\<mu>_list:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<longleftrightarrow> (\\<exists>xs. X = set xs \\<and> xs \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>) =\n    (\\<exists>xs.\n        X = set xs \\<and>\n        xs \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)))", "by (metis subset_subseq subformulas\\<^sub>\\<mu>_list_set in_set_subseqs)"], ["", "lemma subseqs_subformulas\\<^sub>\\<nu>_list:\n  \"Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<longleftrightarrow> (\\<exists>ys. Y = set ys \\<and> ys \\<in> set (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>) =\n    (\\<exists>ys.\n        Y = set ys \\<and>\n        ys \\<in> set (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)))", "by (metis subset_subseq subformulas\\<^sub>\\<nu>_list_set in_set_subseqs)"], ["", "lemma advice_sets_subformulas:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<and> Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<longleftrightarrow> (\\<exists>xs ys. X = set xs \\<and> Y = set ys \\<and> (xs, ys) \\<in> set (advice_sets \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<and>\n     Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>) =\n    (\\<exists>xs ys.\n        X = set xs \\<and>\n        Y = set ys \\<and> (xs, ys) \\<in> set (advice_sets \\<phi>))", "unfolding advice_sets_def set_product subseqs_subformulas\\<^sub>\\<mu>_list subseqs_subformulas\\<^sub>\\<nu>_list"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<exists>xs.\n         X = set xs \\<and>\n         xs \\<in> set (subseqs\n                        (subformulas\\<^sub>\\<mu>_list \\<phi>))) \\<and>\n     (\\<exists>ys.\n         Y = set ys \\<and>\n         ys \\<in> set (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)))) =\n    (\\<exists>xs ys.\n        X = set xs \\<and>\n        Y = set ys \\<and>\n        (xs, ys)\n        \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)) \\<times>\n              set (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)))", "by blast"], ["", "(* TODO add to HOL/List.thy *)"], ["", "lemma subseqs_not_empty:\n  \"subseqs xs \\<noteq> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subseqs xs \\<noteq> []", "by (metis empty_iff list.set(1) subseqs_refl)"], ["", "(* TODO add to HOL/List.thy *)"], ["", "lemma product_not_empty:\n  \"xs \\<noteq> [] \\<Longrightarrow> ys \\<noteq> [] \\<Longrightarrow> List.product xs ys \\<noteq> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xs \\<noteq> []; ys \\<noteq> []\\<rbrakk>\n    \\<Longrightarrow> List.product xs ys \\<noteq> []", "by (induction xs) simp_all"], ["", "lemma advice_sets_not_empty:\n  \"advice_sets \\<phi> \\<noteq> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. advice_sets \\<phi> \\<noteq> []", "unfolding advice_sets_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. List.product (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>))\n     (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)) \\<noteq>\n    []", "using subseqs_not_empty product_not_empty"], ["proof (prove)\nusing this:\n  subseqs ?xs \\<noteq> []\n  \\<lbrakk>?xs \\<noteq> []; ?ys \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> List.product ?xs ?ys \\<noteq> []\n\ngoal (1 subgoal):\n 1. List.product (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>))\n     (subseqs (subformulas\\<^sub>\\<nu>_list \\<phi>)) \\<noteq>\n    []", "by blast"], ["", "lemma advice_sets_length:\n  \"length (advice_sets \\<phi>) \\<le> 2 ^ card (subfrmlsn \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length (advice_sets \\<phi>) \\<le> 2 ^ card (subfrmlsn \\<phi>)", "unfolding advice_sets_def length_product length_subseqs subformulas\\<^sub>\\<mu>_list_length subformulas\\<^sub>\\<nu>_list_length power_add[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^\n    (card (subformulas\\<^sub>\\<mu> \\<phi>) +\n     card (subformulas\\<^sub>\\<nu> \\<phi>))\n    \\<le> 2 ^ card (subfrmlsn \\<phi>)", "by (metis Suc_1 card_mono lessI power_increasing_iff subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_card subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_subfrmlsn subfrmlsn_finite)"], ["", "lemma advice_sets_element_length:\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> length xs \\<le> card (subfrmlsn \\<phi>)\"\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> length ys \\<le> card (subfrmlsn \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow>\n     length xs \\<le> card (subfrmlsn \\<phi>)) &&&\n    ((xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow>\n     length ys \\<le> card (subfrmlsn \\<phi>))", "unfolding advice_sets_def set_product"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((xs, ys)\n     \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)) \\<times>\n           set (subseqs\n                 (subformulas\\<^sub>\\<nu>_list \\<phi>)) \\<Longrightarrow>\n     length xs \\<le> card (subfrmlsn \\<phi>)) &&&\n    ((xs, ys)\n     \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)) \\<times>\n           set (subseqs\n                 (subformulas\\<^sub>\\<nu>_list \\<phi>)) \\<Longrightarrow>\n     length ys \\<le> card (subfrmlsn \\<phi>))", "by (metis SigmaD1 card_mono in_set_subseqs list_emb_length order_trans subformulas\\<^sub>\\<mu>_list_length subformulas\\<^sub>\\<mu>_subfrmlsn subfrmlsn_finite)\n     (metis SigmaD2 card_mono in_set_subseqs list_emb_length order_trans subformulas\\<^sub>\\<nu>_list_length subformulas\\<^sub>\\<nu>_subfrmlsn subfrmlsn_finite)"], ["", "lemma advice_sets_element_subfrmlsn:\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> set xs \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>\"\n  \"(xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow> set ys \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow>\n     set xs \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>) &&&\n    ((xs, ys) \\<in> set (advice_sets \\<phi>) \\<Longrightarrow>\n     set ys \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>)", "unfolding advice_sets_def set_product"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((xs, ys)\n     \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)) \\<times>\n           set (subseqs\n                 (subformulas\\<^sub>\\<nu>_list \\<phi>)) \\<Longrightarrow>\n     set xs \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>) &&&\n    ((xs, ys)\n     \\<in> set (subseqs (subformulas\\<^sub>\\<mu>_list \\<phi>)) \\<times>\n           set (subseqs\n                 (subformulas\\<^sub>\\<nu>_list \\<phi>)) \\<Longrightarrow>\n     set ys \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>)", "by (meson SigmaD1 subseqs_subformulas\\<^sub>\\<mu>_list)\n     (meson SigmaD2 subseqs_subformulas\\<^sub>\\<nu>_list)"], ["", "end"]]}