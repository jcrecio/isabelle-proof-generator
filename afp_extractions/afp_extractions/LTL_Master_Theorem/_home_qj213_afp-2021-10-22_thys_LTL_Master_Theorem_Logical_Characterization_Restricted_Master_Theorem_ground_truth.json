{"file_name": "/home/qj213/afp-2021-10-22/thys/LTL_Master_Theorem/Logical_Characterization/Restricted_Master_Theorem.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LTL_Master_Theorem", "problem_names": ["lemma GF_advice_restricted_subformulas_inner:\n  \"restricted_subformulas_inner (\\<phi>[X]\\<^sub>\\<nu>) = {}\"", "lemma GF_advice_restricted_subformulas:\n  \"restricted_subformulas (\\<phi>[X]\\<^sub>\\<nu>) = {}\"", "lemma restricted_subformulas_inner_subset:\n  \"restricted_subformulas_inner \\<phi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<phi>\"", "lemma restricted_subformulas_subset':\n  \"restricted_subformulas \\<phi> \\<subseteq> restricted_subformulas_inner \\<phi>\"", "lemma restricted_subformulas_subset:\n  \"restricted_subformulas \\<phi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<phi>\"", "lemma restricted_subformulas_size:\n  \"\\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> size \\<psi> < size \\<phi>\"", "lemma restricted_subformulas_notin:\n  \"\\<phi> \\<notin> restricted_subformulas \\<phi>\"", "lemma restricted_subformulas_superset:\n  \"\\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> restricted_subformulas \\<phi>\"", "lemma restricted_subformulas_W_\\<mu>:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> restricted_subformulas (\\<phi> W\\<^sub>n \\<psi>)\"", "lemma restricted_subformulas_R_\\<mu>:\n  \"subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> restricted_subformulas (\\<phi> R\\<^sub>n \\<psi>)\"", "lemma restrict_af_letter:\n  \"restricted_subformulas (af_letter \\<phi> \\<sigma>) = restricted_subformulas \\<phi>\"", "lemma restrict_af:\n  \"restricted_subformulas (af \\<phi> w) = restricted_subformulas \\<phi>\"", "lemma delay_2:\n  assumes \"\\<mu>_stable \\<phi> w\"\n  assumes \"w \\<Turnstile>\\<^sub>n \\<phi>\"\n  shows \"\\<exists>i. suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu>\"", "theorem master_theorem_restricted:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow>\n    (\\<exists>X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi>.\n       (\\<exists>Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>.\n         (\\<exists>i. (suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>)\n          \\<and> (\\<forall>\\<psi> \\<in> X. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>))\n          \\<and> (\\<forall>\\<psi> \\<in> Y. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)))))\"\n  (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma subseqs_subformulas\\<^sub>\\<mu>_restricted_list:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<longleftrightarrow> (\\<exists>xs. X = set xs \\<and> xs \\<in> set (subseqs (List.filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<phi>))))\"", "lemma subseqs_subformulas\\<^sub>\\<nu>_restricted_list:\n  \"Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<longleftrightarrow> (\\<exists>ys. Y = set ys \\<and> ys \\<in> set (subseqs (List.filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<phi>))))\"", "lemma restricted_advice_sets_subformulas:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<and> Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<longleftrightarrow> (\\<exists>xs ys. X = set xs \\<and> Y = set ys \\<and> (xs, ys) \\<in> set (restricted_advice_sets \\<phi>))\"", "lemma restricted_advice_sets_not_empty:\n  \"restricted_advice_sets \\<phi> \\<noteq> []\""], "translations": [["", "lemma GF_advice_restricted_subformulas_inner:\n  \"restricted_subformulas_inner (\\<phi>[X]\\<^sub>\\<nu>) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas_inner (\\<phi>[X]\\<^sub>\\<nu>) = {}", "by (induction \\<phi>) simp_all"], ["", "lemma GF_advice_restricted_subformulas:\n  \"restricted_subformulas (\\<phi>[X]\\<^sub>\\<nu>) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas (\\<phi>[X]\\<^sub>\\<nu>) = {}", "by (induction \\<phi>) (simp_all add: GF_advice_restricted_subformulas_inner)"], ["", "lemma restricted_subformulas_inner_subset:\n  \"restricted_subformulas_inner \\<phi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas_inner \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<phi>", "by (induction \\<phi>) auto"], ["", "lemma restricted_subformulas_subset':\n  \"restricted_subformulas \\<phi> \\<subseteq> restricted_subformulas_inner \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas \\<phi>\n    \\<subseteq> restricted_subformulas_inner \\<phi>", "by (induction \\<phi>) (insert restricted_subformulas_inner_subset, auto)"], ["", "lemma restricted_subformulas_subset:\n  \"restricted_subformulas \\<phi> \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union> subformulas\\<^sub>\\<mu> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<phi>", "using restricted_subformulas_inner_subset restricted_subformulas_subset'"], ["proof (prove)\nusing this:\n  restricted_subformulas_inner ?\\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi> \\<union>\n              subformulas\\<^sub>\\<mu> ?\\<phi>\n  restricted_subformulas ?\\<phi>\n  \\<subseteq> restricted_subformulas_inner ?\\<phi>\n\ngoal (1 subgoal):\n 1. restricted_subformulas \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<phi>", "by auto"], ["", "lemma restricted_subformulas_size:\n  \"\\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> size \\<psi> < size \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    size \\<psi> < size \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    size \\<psi> < size \\<phi>", "have \"\\<And>\\<phi>. restricted_subformulas_inner \\<phi> \\<subseteq> subfrmlsn \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       restricted_subformulas_inner \\<phi> \\<subseteq> subfrmlsn \\<phi>", "using restricted_subformulas_inner_subset subformulas\\<^sub>\\<mu>\\<^sub>\\<nu>_subfrmlsn"], ["proof (prove)\nusing this:\n  restricted_subformulas_inner ?\\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi> \\<union>\n              subformulas\\<^sub>\\<mu> ?\\<phi>\n  subformulas\\<^sub>\\<mu> ?\\<phi> \\<union> subformulas\\<^sub>\\<nu> ?\\<phi>\n  \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       restricted_subformulas_inner \\<phi> \\<subseteq> subfrmlsn \\<phi>", "by blast"], ["proof (state)\nthis:\n  restricted_subformulas_inner ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    size \\<psi> < size \\<phi>", "then"], ["proof (chain)\npicking this:\n  restricted_subformulas_inner ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>", "have inner: \"\\<And>\\<psi> \\<phi>. \\<psi> \\<in> restricted_subformulas_inner \\<phi> \\<Longrightarrow> size \\<psi> \\<le> size \\<phi>\""], ["proof (prove)\nusing this:\n  restricted_subformulas_inner ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> \\<phi>.\n       \\<psi> \\<in> restricted_subformulas_inner \\<phi> \\<Longrightarrow>\n       size \\<psi> \\<le> size \\<phi>", "using subfrmlsn_size dual_order.strict_implies_order"], ["proof (prove)\nusing this:\n  restricted_subformulas_inner ?\\<phi> \\<subseteq> subfrmlsn ?\\<phi>\n  ?\\<psi> \\<in> subfrmlsn ?\\<phi> \\<Longrightarrow>\n  size ?\\<psi> < size ?\\<phi> \\<or> ?\\<psi> = ?\\<phi>\n  ?b < ?a \\<Longrightarrow> ?b \\<le> ?a\n\ngoal (1 subgoal):\n 1. \\<And>\\<psi> \\<phi>.\n       \\<psi> \\<in> restricted_subformulas_inner \\<phi> \\<Longrightarrow>\n       size \\<psi> \\<le> size \\<phi>", "by blast"], ["proof (state)\nthis:\n  ?\\<psi>1 \\<in> restricted_subformulas_inner ?\\<phi>1 \\<Longrightarrow>\n  size ?\\<psi>1 \\<le> size ?\\<phi>1\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    size \\<psi> < size \\<phi>", "show \"\\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> size \\<psi> < size \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    size \\<psi> < size \\<phi>", "by (induction \\<phi> arbitrary: \\<psi>) (fastforce dest: inner)+"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  size \\<psi> < size \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restricted_subformulas_notin:\n  \"\\<phi> \\<notin> restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> restricted_subformulas \\<phi>", "using restricted_subformulas_size"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> restricted_subformulas ?\\<phi> \\<Longrightarrow>\n  size ?\\<psi> < size ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<phi> \\<notin> restricted_subformulas \\<phi>", "by auto"], ["", "lemma restricted_subformulas_superset:\n  \"\\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "assume \"\\<psi> \\<in> restricted_subformulas \\<phi>\""], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<psi> \\<in> restricted_subformulas \\<phi>", "obtain \\<chi> x where\n    \"\\<psi> \\<in> restricted_subformulas_inner \\<chi>\" and \"(x R\\<^sub>n \\<chi>) \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<or> (\\<chi> W\\<^sub>n x) \\<in> subformulas\\<^sub>\\<nu> \\<phi> \""], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>\\<chi> x.\n        \\<lbrakk>\\<psi> \\<in> restricted_subformulas_inner \\<chi>;\n         x R\\<^sub>n \\<chi> \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<or>\n         \\<chi> W\\<^sub>n x \\<in> subformulas\\<^sub>\\<nu> \\<phi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (induction \\<phi>) auto"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>\n  x R\\<^sub>n \\<chi> \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<or>\n  \\<chi> W\\<^sub>n x \\<in> subformulas\\<^sub>\\<nu> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "moreover"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>\n  x R\\<^sub>n \\<chi> \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<or>\n  \\<chi> W\\<^sub>n x \\<in> subformulas\\<^sub>\\<nu> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "have \"\\<And>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2. (\\<psi>\\<^sub>1 R\\<^sub>n \\<psi>\\<^sub>2) \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow> restricted_subformulas_inner \\<psi>\\<^sub>2 \\<subseteq> restricted_subformulas \\<phi>\"\n    \"\\<And>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2. (\\<psi>\\<^sub>1 W\\<^sub>n \\<psi>\\<^sub>2) \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow> restricted_subformulas_inner \\<psi>\\<^sub>1 \\<subseteq> restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2.\n        \\<psi>\\<^sub>1 R\\<^sub>n \\<psi>\\<^sub>2\n        \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n        restricted_subformulas_inner \\<psi>\\<^sub>2\n        \\<subseteq> restricted_subformulas \\<phi>) &&&\n    (\\<And>\\<psi>\\<^sub>1 \\<psi>\\<^sub>2.\n        \\<psi>\\<^sub>1 W\\<^sub>n \\<psi>\\<^sub>2\n        \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n        restricted_subformulas_inner \\<psi>\\<^sub>1\n        \\<subseteq> restricted_subformulas \\<phi>)", "by (induction \\<phi>) (simp_all; insert restricted_subformulas_subset', blast)+"], ["proof (state)\nthis:\n  ?\\<psi>\\<^sub>1 R\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>2\n  \\<subseteq> restricted_subformulas \\<phi>\n  ?\\<psi>\\<^sub>1 W\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>1\n  \\<subseteq> restricted_subformulas \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "moreover"], ["proof (state)\nthis:\n  ?\\<psi>\\<^sub>1 R\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>2\n  \\<subseteq> restricted_subformulas \\<phi>\n  ?\\<psi>\\<^sub>1 W\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>1\n  \\<subseteq> restricted_subformulas \\<phi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "have \"subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq>  restricted_subformulas_inner \\<chi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner \\<chi>", "using \\<open>\\<psi> \\<in> restricted_subformulas_inner \\<chi>\\<close>"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner \\<chi>", "proof (induction \\<chi>)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 U\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 U\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 R\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 R\\<^sub>n \\<chi>2)\n 10. \\<And>\\<chi>1 \\<chi>2.\n        \\<lbrakk>\\<psi>\n                 \\<in> restricted_subformulas_inner\n                        \\<chi>1 \\<Longrightarrow>\n                 subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                 subformulas\\<^sub>\\<mu> \\<psi>\n                 \\<subseteq> restricted_subformulas_inner \\<chi>1;\n         \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n         subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n         subformulas\\<^sub>\\<mu> \\<psi>\n         \\<subseteq> restricted_subformulas_inner \\<chi>2;\n         \\<psi>\n         \\<in> restricted_subformulas_inner\n                (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n        \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                          subformulas\\<^sub>\\<mu> \\<psi>\n                          \\<subseteq> restricted_subformulas_inner\n (\\<chi>1 W\\<^sub>n \\<chi>2)\nA total of 11 subgoals...", "case (Until_ltln \\<chi>1 \\<chi>2)"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2)\n\ngoal (11 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 U\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 U\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 R\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 R\\<^sub>n \\<chi>2)\n 10. \\<And>\\<chi>1 \\<chi>2.\n        \\<lbrakk>\\<psi>\n                 \\<in> restricted_subformulas_inner\n                        \\<chi>1 \\<Longrightarrow>\n                 subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                 subformulas\\<^sub>\\<mu> \\<psi>\n                 \\<subseteq> restricted_subformulas_inner \\<chi>1;\n         \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n         subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n         subformulas\\<^sub>\\<mu> \\<psi>\n         \\<subseteq> restricted_subformulas_inner \\<chi>2;\n         \\<psi>\n         \\<in> restricted_subformulas_inner\n                (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n        \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                          subformulas\\<^sub>\\<mu> \\<psi>\n                          \\<subseteq> restricted_subformulas_inner\n (\\<chi>1 W\\<^sub>n \\<chi>2)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2)", "show ?case"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2)\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2)", "apply (cases \"\\<psi> = \\<chi>1 U\\<^sub>n \\<chi>2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2);\n     \\<psi> = \\<chi>1 U\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> restricted_subformulas_inner\n                                   (\\<chi>1 U\\<^sub>n \\<chi>2)\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2);\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> restricted_subformulas_inner\n                                   (\\<chi>1 U\\<^sub>n \\<chi>2)", "apply auto[1]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2);\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> restricted_subformulas_inner\n                                   (\\<chi>1 U\\<^sub>n \\<chi>2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (cases \"\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (meson le_supI1 le_supI2 subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subfrmlsn subformulas\\<^sub>\\<nu>_subset subset_eq subset_insertI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (cases \"\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (meson le_supI1 le_supI2 subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subfrmlsn subformulas\\<^sub>\\<nu>_subset subset_eq subset_insertI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (cases \"\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (metis (no_types, hide_lams) Un_insert_right subformulas\\<^sub>\\<mu>_subfrmlsn subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subset subsetD sup.coboundedI2 sup_commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 U\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 U\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "by (metis (no_types, hide_lams) Un_insert_right subformulas\\<^sub>\\<mu>_subfrmlsn subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subset subsetD sup.coboundedI2 sup_commute)"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner (\\<chi>1 U\\<^sub>n \\<chi>2)\n\ngoal (10 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 R\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 R\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 W\\<^sub>n \\<chi>2)\n 10. \\<And>\\<chi>1 \\<chi>2.\n        \\<lbrakk>\\<psi>\n                 \\<in> restricted_subformulas_inner\n                        \\<chi>1 \\<Longrightarrow>\n                 subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                 subformulas\\<^sub>\\<mu> \\<psi>\n                 \\<subseteq> restricted_subformulas_inner \\<chi>1;\n         \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n         subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n         subformulas\\<^sub>\\<mu> \\<psi>\n         \\<subseteq> restricted_subformulas_inner \\<chi>2;\n         \\<psi>\n         \\<in> restricted_subformulas_inner\n                (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n        \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                          subformulas\\<^sub>\\<mu> \\<psi>\n                          \\<subseteq> restricted_subformulas_inner\n (\\<chi>1 M\\<^sub>n \\<chi>2)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 R\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 R\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 W\\<^sub>n \\<chi>2)\n 10. \\<And>\\<chi>1 \\<chi>2.\n        \\<lbrakk>\\<psi>\n                 \\<in> restricted_subformulas_inner\n                        \\<chi>1 \\<Longrightarrow>\n                 subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                 subformulas\\<^sub>\\<mu> \\<psi>\n                 \\<subseteq> restricted_subformulas_inner \\<chi>1;\n         \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n         subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n         subformulas\\<^sub>\\<mu> \\<psi>\n         \\<subseteq> restricted_subformulas_inner \\<chi>2;\n         \\<psi>\n         \\<in> restricted_subformulas_inner\n                (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n        \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                          subformulas\\<^sub>\\<mu> \\<psi>\n                          \\<subseteq> restricted_subformulas_inner\n (\\<chi>1 M\\<^sub>n \\<chi>2)", "case (Release_ltln \\<chi>1 \\<chi>2)"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 R\\<^sub>n \\<chi>2)\n\ngoal (10 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 R\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 R\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 W\\<^sub>n \\<chi>2)\n 10. \\<And>\\<chi>1 \\<chi>2.\n        \\<lbrakk>\\<psi>\n                 \\<in> restricted_subformulas_inner\n                        \\<chi>1 \\<Longrightarrow>\n                 subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                 subformulas\\<^sub>\\<mu> \\<psi>\n                 \\<subseteq> restricted_subformulas_inner \\<chi>1;\n         \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n         subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n         subformulas\\<^sub>\\<mu> \\<psi>\n         \\<subseteq> restricted_subformulas_inner \\<chi>2;\n         \\<psi>\n         \\<in> restricted_subformulas_inner\n                (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n        \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                          subformulas\\<^sub>\\<mu> \\<psi>\n                          \\<subseteq> restricted_subformulas_inner\n (\\<chi>1 M\\<^sub>n \\<chi>2)", "then"], ["proof (chain)\npicking this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 R\\<^sub>n \\<chi>2)", "show ?case"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 R\\<^sub>n \\<chi>2)\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner (\\<chi>1 R\\<^sub>n \\<chi>2)", "by simp blast"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner (\\<chi>1 R\\<^sub>n \\<chi>2)\n\ngoal (9 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 W\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 M\\<^sub>n \\<chi>2)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 W\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 M\\<^sub>n \\<chi>2)", "case (WeakUntil_ltln \\<chi>1 \\<chi>2)"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 W\\<^sub>n \\<chi>2)\n\ngoal (9 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 W\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 W\\<^sub>n \\<chi>2)\n 9. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 M\\<^sub>n \\<chi>2)", "then"], ["proof (chain)\npicking this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 W\\<^sub>n \\<chi>2)", "show ?case"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 W\\<^sub>n \\<chi>2)\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner (\\<chi>1 W\\<^sub>n \\<chi>2)", "by simp blast"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner (\\<chi>1 W\\<^sub>n \\<chi>2)\n\ngoal (8 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 M\\<^sub>n \\<chi>2)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 M\\<^sub>n \\<chi>2)", "case (StrongRelease_ltln \\<chi>1 \\<chi>2)"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2)\n\ngoal (8 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)\n 8. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 M\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 M\\<^sub>n \\<chi>2)", "then"], ["proof (chain)\npicking this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2)", "show ?case"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>1\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>2\n  \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2)\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2)", "apply (cases \"\\<psi> = \\<chi>1 M\\<^sub>n \\<chi>2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2);\n     \\<psi> = \\<chi>1 M\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> restricted_subformulas_inner\n                                   (\\<chi>1 M\\<^sub>n \\<chi>2)\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2);\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> restricted_subformulas_inner\n                                   (\\<chi>1 M\\<^sub>n \\<chi>2)", "apply auto[1]"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2);\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> restricted_subformulas_inner\n                                   (\\<chi>1 M\\<^sub>n \\<chi>2)", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (cases \"\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (meson le_supI1 le_supI2 subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subfrmlsn subformulas\\<^sub>\\<nu>_subset subset_eq subset_insertI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (cases \"\\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (meson le_supI1 le_supI2 subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subfrmlsn subformulas\\<^sub>\\<nu>_subset subset_eq subset_insertI2)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (cases \"\\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))\n 2. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply (metis (no_types, hide_lams) Un_insert_right subformulas\\<^sub>\\<mu>_subfrmlsn subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subset subsetD sup.coboundedI2 sup_commute)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<nu> \\<chi>2 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>1 \\<or>\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<psi>\n             \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n             subformulas\\<^sub>\\<nu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1 \\<and>\n             subformulas\\<^sub>\\<mu> \\<psi>\n             \\<subseteq> restricted_subformulas_inner \\<chi>1;\n     \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n     subformulas\\<^sub>\\<nu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2 \\<and>\n     subformulas\\<^sub>\\<mu> \\<psi>\n     \\<subseteq> restricted_subformulas_inner \\<chi>2;\n     \\<psi> \\<in> subformulas\\<^sub>\\<mu> \\<chi>2;\n     \\<psi> \\<noteq> \\<chi>1 M\\<^sub>n \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>1;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<nu> \\<chi>2;\n     \\<psi> \\<notin> subformulas\\<^sub>\\<mu> \\<chi>1\\<rbrakk>\n    \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu>\n\\<chi>2)) \\<and>\n                      subformulas\\<^sub>\\<mu> \\<psi>\n                      \\<subseteq> insert (\\<chi>1 M\\<^sub>n \\<chi>2)\n                                   (subformulas\\<^sub>\\<nu> \\<chi>1 \\<union>\n                                    subformulas\\<^sub>\\<nu> \\<chi>2 \\<union>\n                                    (subformulas\\<^sub>\\<mu>\n\\<chi>1 \\<union>\n                                     subformulas\\<^sub>\\<mu> \\<chi>2))", "by (metis (no_types, hide_lams) Un_insert_right subformulas\\<^sub>\\<mu>_subfrmlsn subformulas\\<^sub>\\<mu>_subset subformulas\\<^sub>\\<nu>_subset subsetD sup.coboundedI2 sup_commute)"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner (\\<chi>1 M\\<^sub>n \\<chi>2)\n\ngoal (7 subgoals):\n 1. \\<psi> \\<in> restricted_subformulas_inner true\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner true\\<^sub>n\n 2. \\<psi>\n    \\<in> restricted_subformulas_inner false\\<^sub>n \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas_inner false\\<^sub>n\n 3. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner prop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner prop\\<^sub>n(x)\n 4. \\<And>x.\n       \\<psi>\n       \\<in> restricted_subformulas_inner nprop\\<^sub>n(x) \\<Longrightarrow>\n       subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n       subformulas\\<^sub>\\<mu> \\<psi>\n       \\<subseteq> restricted_subformulas_inner nprop\\<^sub>n(x)\n 5. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 and\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 and\\<^sub>n \\<chi>2)\n 6. \\<And>\\<chi>1 \\<chi>2.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi>1 \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>1;\n        \\<psi> \\<in> restricted_subformulas_inner \\<chi>2 \\<Longrightarrow>\n        subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n        subformulas\\<^sub>\\<mu> \\<psi>\n        \\<subseteq> restricted_subformulas_inner \\<chi>2;\n        \\<psi>\n        \\<in> restricted_subformulas_inner\n               (\\<chi>1 or\\<^sub>n \\<chi>2)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(\\<chi>1 or\\<^sub>n \\<chi>2)\n 7. \\<And>\\<chi>.\n       \\<lbrakk>\\<psi>\n                \\<in> restricted_subformulas_inner \\<chi> \\<Longrightarrow>\n                subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                subformulas\\<^sub>\\<mu> \\<psi>\n                \\<subseteq> restricted_subformulas_inner \\<chi>;\n        \\<psi>\n        \\<in> restricted_subformulas_inner (X\\<^sub>n \\<chi>)\\<rbrakk>\n       \\<Longrightarrow> subformulas\\<^sub>\\<nu> \\<psi> \\<union>\n                         subformulas\\<^sub>\\<mu> \\<psi>\n                         \\<subseteq> restricted_subformulas_inner\n(X\\<^sub>n \\<chi>)", "qed auto"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>\n\ngoal (1 subgoal):\n 1. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n    subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "ultimately"], ["proof (chain)\npicking this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>\n  x R\\<^sub>n \\<chi> \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<or>\n  \\<chi> W\\<^sub>n x \\<in> subformulas\\<^sub>\\<nu> \\<phi>\n  ?\\<psi>\\<^sub>1 R\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>2\n  \\<subseteq> restricted_subformulas \\<phi>\n  ?\\<psi>\\<^sub>1 W\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>1\n  \\<subseteq> restricted_subformulas \\<phi>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>", "show \"subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> restricted_subformulas \\<phi>\""], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas_inner \\<chi>\n  x R\\<^sub>n \\<chi> \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<or>\n  \\<chi> W\\<^sub>n x \\<in> subformulas\\<^sub>\\<nu> \\<phi>\n  ?\\<psi>\\<^sub>1 R\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>2\n  \\<subseteq> restricted_subformulas \\<phi>\n  ?\\<psi>\\<^sub>1 W\\<^sub>n ?\\<psi>\\<^sub>2\n  \\<in> subformulas\\<^sub>\\<nu> \\<phi> \\<Longrightarrow>\n  restricted_subformulas_inner ?\\<psi>\\<^sub>1\n  \\<subseteq> restricted_subformulas \\<phi>\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas_inner \\<chi>\n\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas \\<phi>", "by blast"], ["proof (state)\nthis:\n  subformulas\\<^sub>\\<nu> \\<psi> \\<union> subformulas\\<^sub>\\<mu> \\<psi>\n  \\<subseteq> restricted_subformulas \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma restricted_subformulas_W_\\<mu>:\n  \"subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> restricted_subformulas (\\<phi> W\\<^sub>n \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<phi>\n    \\<subseteq> restricted_subformulas (\\<phi> W\\<^sub>n \\<psi>)", "by (induction \\<phi>) auto"], ["", "lemma restricted_subformulas_R_\\<mu>:\n  \"subformulas\\<^sub>\\<mu> \\<psi> \\<subseteq> restricted_subformulas (\\<phi> R\\<^sub>n \\<psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subformulas\\<^sub>\\<mu> \\<psi>\n    \\<subseteq> restricted_subformulas (\\<phi> R\\<^sub>n \\<psi>)", "by (induction \\<psi>) auto"], ["", "lemma restrict_af_letter:\n  \"restricted_subformulas (af_letter \\<phi> \\<sigma>) = restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n    restricted_subformulas \\<phi>", "proof (induction \\<phi>)"], ["proof (state)\ngoal (11 subgoals):\n 1. restricted_subformulas (af_letter true\\<^sub>n \\<sigma>) =\n    restricted_subformulas true\\<^sub>n\n 2. restricted_subformulas (af_letter false\\<^sub>n \\<sigma>) =\n    restricted_subformulas false\\<^sub>n\n 3. \\<And>x.\n       restricted_subformulas (af_letter prop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas prop\\<^sub>n(x)\n 4. \\<And>x.\n       restricted_subformulas (af_letter nprop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 and\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas\n                          (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 or\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n       restricted_subformulas \\<phi> \\<Longrightarrow>\n       restricted_subformulas (af_letter (X\\<^sub>n \\<phi>) \\<sigma>) =\n       restricted_subformulas (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 U\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 R\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                 restricted_subformulas \\<phi>1;\n         restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n         restricted_subformulas \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> restricted_subformulas\n                           (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2)\n                             \\<sigma>) =\n                          restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "case (Release_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2\n\ngoal (11 subgoals):\n 1. restricted_subformulas (af_letter true\\<^sub>n \\<sigma>) =\n    restricted_subformulas true\\<^sub>n\n 2. restricted_subformulas (af_letter false\\<^sub>n \\<sigma>) =\n    restricted_subformulas false\\<^sub>n\n 3. \\<And>x.\n       restricted_subformulas (af_letter prop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas prop\\<^sub>n(x)\n 4. \\<And>x.\n       restricted_subformulas (af_letter nprop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 and\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas\n                          (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 or\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n       restricted_subformulas \\<phi> \\<Longrightarrow>\n       restricted_subformulas (af_letter (X\\<^sub>n \\<phi>) \\<sigma>) =\n       restricted_subformulas (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 U\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 R\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                 restricted_subformulas \\<phi>1;\n         restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n         restricted_subformulas \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> restricted_subformulas\n                           (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2)\n                             \\<sigma>) =\n                          restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2\n\ngoal (1 subgoal):\n 1. restricted_subformulas\n     (af_letter (\\<phi>1 R\\<^sub>n \\<phi>2) \\<sigma>) =\n    restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)", "using restricted_subformulas_subset'"], ["proof (prove)\nusing this:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2\n  restricted_subformulas ?\\<phi>\n  \\<subseteq> restricted_subformulas_inner ?\\<phi>\n\ngoal (1 subgoal):\n 1. restricted_subformulas\n     (af_letter (\\<phi>1 R\\<^sub>n \\<phi>2) \\<sigma>) =\n    restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)", "by simp blast"], ["proof (state)\nthis:\n  restricted_subformulas (af_letter (\\<phi>1 R\\<^sub>n \\<phi>2) \\<sigma>) =\n  restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n\ngoal (10 subgoals):\n 1. restricted_subformulas (af_letter true\\<^sub>n \\<sigma>) =\n    restricted_subformulas true\\<^sub>n\n 2. restricted_subformulas (af_letter false\\<^sub>n \\<sigma>) =\n    restricted_subformulas false\\<^sub>n\n 3. \\<And>x.\n       restricted_subformulas (af_letter prop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas prop\\<^sub>n(x)\n 4. \\<And>x.\n       restricted_subformulas (af_letter nprop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 and\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas\n                          (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 or\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n       restricted_subformulas \\<phi> \\<Longrightarrow>\n       restricted_subformulas (af_letter (X\\<^sub>n \\<phi>) \\<sigma>) =\n       restricted_subformulas (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 U\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                 restricted_subformulas \\<phi>1;\n         restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n         restricted_subformulas \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> restricted_subformulas\n                           (af_letter (\\<phi>1 M\\<^sub>n \\<phi>2)\n                             \\<sigma>) =\n                          restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. restricted_subformulas (af_letter true\\<^sub>n \\<sigma>) =\n    restricted_subformulas true\\<^sub>n\n 2. restricted_subformulas (af_letter false\\<^sub>n \\<sigma>) =\n    restricted_subformulas false\\<^sub>n\n 3. \\<And>x.\n       restricted_subformulas (af_letter prop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas prop\\<^sub>n(x)\n 4. \\<And>x.\n       restricted_subformulas (af_letter nprop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 and\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas\n                          (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 or\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n       restricted_subformulas \\<phi> \\<Longrightarrow>\n       restricted_subformulas (af_letter (X\\<^sub>n \\<phi>) \\<sigma>) =\n       restricted_subformulas (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 U\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                 restricted_subformulas \\<phi>1;\n         restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n         restricted_subformulas \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> restricted_subformulas\n                           (af_letter (\\<phi>1 M\\<^sub>n \\<phi>2)\n                             \\<sigma>) =\n                          restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)", "case (WeakUntil_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2\n\ngoal (10 subgoals):\n 1. restricted_subformulas (af_letter true\\<^sub>n \\<sigma>) =\n    restricted_subformulas true\\<^sub>n\n 2. restricted_subformulas (af_letter false\\<^sub>n \\<sigma>) =\n    restricted_subformulas false\\<^sub>n\n 3. \\<And>x.\n       restricted_subformulas (af_letter prop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas prop\\<^sub>n(x)\n 4. \\<And>x.\n       restricted_subformulas (af_letter nprop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 and\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas\n                          (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 or\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n       restricted_subformulas \\<phi> \\<Longrightarrow>\n       restricted_subformulas (af_letter (X\\<^sub>n \\<phi>) \\<sigma>) =\n       restricted_subformulas (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 U\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n 10. \\<And>\\<phi>1 \\<phi>2.\n        \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                 restricted_subformulas \\<phi>1;\n         restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n         restricted_subformulas \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> restricted_subformulas\n                           (af_letter (\\<phi>1 M\\<^sub>n \\<phi>2)\n                             \\<sigma>) =\n                          restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)", "then"], ["proof (chain)\npicking this:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2\n\ngoal (1 subgoal):\n 1. restricted_subformulas\n     (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2) \\<sigma>) =\n    restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)", "using restricted_subformulas_subset'"], ["proof (prove)\nusing this:\n  restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n  restricted_subformulas \\<phi>1\n  restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n  restricted_subformulas \\<phi>2\n  restricted_subformulas ?\\<phi>\n  \\<subseteq> restricted_subformulas_inner ?\\<phi>\n\ngoal (1 subgoal):\n 1. restricted_subformulas\n     (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2) \\<sigma>) =\n    restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)", "by simp blast"], ["proof (state)\nthis:\n  restricted_subformulas (af_letter (\\<phi>1 W\\<^sub>n \\<phi>2) \\<sigma>) =\n  restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n\ngoal (9 subgoals):\n 1. restricted_subformulas (af_letter true\\<^sub>n \\<sigma>) =\n    restricted_subformulas true\\<^sub>n\n 2. restricted_subformulas (af_letter false\\<^sub>n \\<sigma>) =\n    restricted_subformulas false\\<^sub>n\n 3. \\<And>x.\n       restricted_subformulas (af_letter prop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas prop\\<^sub>n(x)\n 4. \\<And>x.\n       restricted_subformulas (af_letter nprop\\<^sub>n(x) \\<sigma>) =\n       restricted_subformulas nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 and\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas\n                          (\\<phi>1 and\\<^sub>n \\<phi>2)\n 6. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 or\\<^sub>n \\<phi>2)\n                            \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 or\\<^sub>n \\<phi>2)\n 7. \\<And>\\<phi>.\n       restricted_subformulas (af_letter \\<phi> \\<sigma>) =\n       restricted_subformulas \\<phi> \\<Longrightarrow>\n       restricted_subformulas (af_letter (X\\<^sub>n \\<phi>) \\<sigma>) =\n       restricted_subformulas (X\\<^sub>n \\<phi>)\n 8. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 U\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n 9. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>restricted_subformulas (af_letter \\<phi>1 \\<sigma>) =\n                restricted_subformulas \\<phi>1;\n        restricted_subformulas (af_letter \\<phi>2 \\<sigma>) =\n        restricted_subformulas \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> restricted_subformulas\n                          (af_letter (\\<phi>1 M\\<^sub>n \\<phi>2) \\<sigma>) =\n                         restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)", "qed auto"], ["", "lemma restrict_af:\n  \"restricted_subformulas (af \\<phi> w) = restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_subformulas (af \\<phi> w) = restricted_subformulas \\<phi>", "by (induction w rule: rev_induct) (auto simp: restrict_af_letter)"], ["", "subsection \\<open>Restricted Master Theorem / Lemmas\\<close>"], ["", "lemma delay_2:\n  assumes \"\\<mu>_stable \\<phi> w\"\n  assumes \"w \\<Turnstile>\\<^sub>n \\<phi>\"\n  shows \"\\<exists>i. suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n\\<phi>]\\<^sub>\\<nu>", "using assms"], ["proof (prove)\nusing this:\n  \\<mu>_stable \\<phi> w\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n\\<phi>]\\<^sub>\\<nu>", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable prop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af prop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas prop\\<^sub>n(x)]\\<^sub>\\<nu>\n 4. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable nprop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas nprop\\<^sub>n(x)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                     w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                    \\<Longrightarrow> \\<exists>i.\n   suffix i\n    w \\<Turnstile>\\<^sub>n af \\<phi>1\n                            (prefix i\n                              w)[{\\<psi>.\n                                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                 restricted_subformulas\n                                  \\<phi>1]\\<^sub>\\<nu>;\n         \\<And>w.\n            \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n             w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>i.\n                                 suffix i\n                                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n                    (prefix i\n                      w)[{\\<psi>.\n                          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                         restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n         \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>i.\n                             suffix i\n                              w \\<Turnstile>\\<^sub>n af\n                (\\<phi>1 W\\<^sub>n \\<phi>2)\n                (prefix i\n                  w)[{\\<psi>.\n                      w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                     restricted_subformulas\n                      (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\nA total of 11 subgoals...", "case (Prop_ltln x)"], ["proof (state)\nthis:\n  \\<mu>_stable prop\\<^sub>n(x) w\n  w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n\ngoal (11 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable prop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af prop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas prop\\<^sub>n(x)]\\<^sub>\\<nu>\n 4. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable nprop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas nprop\\<^sub>n(x)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                     w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                    \\<Longrightarrow> \\<exists>i.\n   suffix i\n    w \\<Turnstile>\\<^sub>n af \\<phi>1\n                            (prefix i\n                              w)[{\\<psi>.\n                                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                 restricted_subformulas\n                                  \\<phi>1]\\<^sub>\\<nu>;\n         \\<And>w.\n            \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n             w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>i.\n                                 suffix i\n                                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n                    (prefix i\n                      w)[{\\<psi>.\n                          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                         restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n         \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>i.\n                             suffix i\n                              w \\<Turnstile>\\<^sub>n af\n                (\\<phi>1 W\\<^sub>n \\<phi>2)\n                (prefix i\n                  w)[{\\<psi>.\n                      w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                     restricted_subformulas\n                      (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  \\<mu>_stable prop\\<^sub>n(x) w\n  w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)", "show ?case"], ["proof (prove)\nusing this:\n  \\<mu>_stable prop\\<^sub>n(x) w\n  w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af prop\\<^sub>n(x)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\nprop\\<^sub>n(x)]\\<^sub>\\<nu>", "by (metis GF_advice.simps(10) GF_advice_af prefix_suffix)"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af prop\\<^sub>n(x)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    prop\\<^sub>n(x)]\\<^sub>\\<nu>\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable nprop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas nprop\\<^sub>n(x)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                     w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                    \\<Longrightarrow> \\<exists>i.\n   suffix i\n    w \\<Turnstile>\\<^sub>n af \\<phi>1\n                            (prefix i\n                              w)[{\\<psi>.\n                                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                 restricted_subformulas\n                                  \\<phi>1]\\<^sub>\\<nu>;\n         \\<And>w.\n            \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n             w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>i.\n                                 suffix i\n                                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n                    (prefix i\n                      w)[{\\<psi>.\n                          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                         restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n         \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>i.\n                             suffix i\n                              w \\<Turnstile>\\<^sub>n af\n                (\\<phi>1 M\\<^sub>n \\<phi>2)\n                (prefix i\n                  w)[{\\<psi>.\n                      w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                     restricted_subformulas\n                      (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable nprop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas nprop\\<^sub>n(x)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                     w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                    \\<Longrightarrow> \\<exists>i.\n   suffix i\n    w \\<Turnstile>\\<^sub>n af \\<phi>1\n                            (prefix i\n                              w)[{\\<psi>.\n                                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                 restricted_subformulas\n                                  \\<phi>1]\\<^sub>\\<nu>;\n         \\<And>w.\n            \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n             w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>i.\n                                 suffix i\n                                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n                    (prefix i\n                      w)[{\\<psi>.\n                          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                         restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n         \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>i.\n                             suffix i\n                              w \\<Turnstile>\\<^sub>n af\n                (\\<phi>1 M\\<^sub>n \\<phi>2)\n                (prefix i\n                  w)[{\\<psi>.\n                      w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                     restricted_subformulas\n                      (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (Nprop_ltln x)"], ["proof (state)\nthis:\n  \\<mu>_stable nprop\\<^sub>n(x) w\n  w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>x w.\n       \\<lbrakk>\\<mu>_stable nprop\\<^sub>n(x) w;\n        w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas nprop\\<^sub>n(x)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                     w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                    \\<Longrightarrow> \\<exists>i.\n   suffix i\n    w \\<Turnstile>\\<^sub>n af \\<phi>1\n                            (prefix i\n                              w)[{\\<psi>.\n                                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                 restricted_subformulas\n                                  \\<phi>1]\\<^sub>\\<nu>;\n         \\<And>w.\n            \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n             w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n            \\<Longrightarrow> \\<exists>i.\n                                 suffix i\n                                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n                    (prefix i\n                      w)[{\\<psi>.\n                          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                         restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n         \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> \\<exists>i.\n                             suffix i\n                              w \\<Turnstile>\\<^sub>n af\n                (\\<phi>1 M\\<^sub>n \\<phi>2)\n                (prefix i\n                  w)[{\\<psi>.\n                      w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                     restricted_subformulas\n                      (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  \\<mu>_stable nprop\\<^sub>n(x) w\n  w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)", "show ?case"], ["proof (prove)\nusing this:\n  \\<mu>_stable nprop\\<^sub>n(x) w\n  w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\nnprop\\<^sub>n(x)]\\<^sub>\\<nu>", "by (metis GF_advice.simps(11) GF_advice_af prefix_suffix)"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af nprop\\<^sub>n(x)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    nprop\\<^sub>n(x)]\\<^sub>\\<nu>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (And_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X  = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\""], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X1 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>1\""], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X2 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>2\""], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"?X1 \\<subseteq> ?X\" and \"?X2 \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)", "by auto"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "obtain i j where \"suffix i w \\<Turnstile>\\<^sub>n af \\<phi>1 (prefix i w)[?X1]\\<^sub>\\<nu>\"\n    and \"suffix j w \\<Turnstile>\\<^sub>n af \\<phi>2 (prefix j w)[?X2]\\<^sub>\\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>suffix i\n                  w \\<Turnstile>\\<^sub>n af \\<phi>1\n    (prefix i\n      w)[{\\<psi>.\n          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n         restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n         suffix j\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (prefix j\n                                    w)[{\\<psi>.\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using \\<mu>_stable_subfrmlsn[OF \\<open>\\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w\\<close>] And_ltln"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn (\\<phi>1 and\\<^sub>n \\<phi>2) \\<Longrightarrow>\n  \\<mu>_stable ?\\<psi> w\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>suffix i\n                  w \\<Turnstile>\\<^sub>n af \\<phi>1\n    (prefix i\n      w)[{\\<psi>.\n          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n         restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n         suffix j\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (prefix j\n                                    w)[{\\<psi>.\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "obtain k where \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>1 (prefix k w)[?X]\\<^sub>\\<nu>\"\n    and \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>2 (prefix k w)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>suffix k\n                  w \\<Turnstile>\\<^sub>n af \\<phi>1\n    (prefix k\n      w)[{\\<psi>.\n          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n         restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (prefix k\n                                    w)[{\\<psi>.\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using GF_advice_sync_and GF_advice_monotone"], ["proof (prove)\nusing this:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<lbrakk>\\<exists>i.\n              suffix i\n               ?w \\<Turnstile>\\<^sub>n af ?\\<phi>\n  (prefix i ?w)[?X]\\<^sub>\\<nu>;\n   \\<exists>i.\n      suffix i\n       ?w \\<Turnstile>\\<^sub>n af ?\\<psi>\n                                (prefix i ?w)[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af ?\\<phi>\n           (prefix i ?w)[?X]\\<^sub>\\<nu> \\<and>\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af ?\\<psi>\n           (prefix i ?w)[?X]\\<^sub>\\<nu>\n  \\<lbrakk>?X \\<subseteq> ?Y;\n   ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?Y]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>suffix k\n                  w \\<Turnstile>\\<^sub>n af \\<phi>1\n    (prefix k\n      w)[{\\<psi>.\n          w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n         restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (prefix k\n                                    w)[{\\<psi>.\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 and\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 and\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "thus ?case"], ["proof (prove)\nusing this:\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 and\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "unfolding af_decompose semantics_ltln.simps(5) GF_advice.simps"], ["proof (prove)\nusing this:\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<and>\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 and\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (Or_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X  = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\""], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X1 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>1\""], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X2 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>2\""], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"?X1 \\<subseteq> ?X\" and \"?X2 \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)", "by auto"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "obtain i j where \"suffix i w \\<Turnstile>\\<^sub>n af \\<phi>1 (prefix i w)[?X1]\\<^sub>\\<nu> \\<or> suffix j w \\<Turnstile>\\<^sub>n af \\<phi>2 (prefix j w)[?X2]\\<^sub>\\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        suffix i\n         w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                 (prefix i\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas \\<phi>1]\\<^sub>\\<nu> \\<or>\n        suffix j\n         w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                 (prefix j\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas \\<phi>2]\\<^sub>\\<nu> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \\<mu>_stable_subfrmlsn[OF \\<open>\\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w\\<close>] Or_ltln"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn (\\<phi>1 or\\<^sub>n \\<phi>2) \\<Longrightarrow>\n  \\<mu>_stable ?\\<psi> w\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        suffix i\n         w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                 (prefix i\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas \\<phi>1]\\<^sub>\\<nu> \\<or>\n        suffix j\n         w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                 (prefix j\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas \\<phi>2]\\<^sub>\\<nu> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 \\<phi>1]\\<^sub>\\<nu> \\<or>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 \\<phi>1]\\<^sub>\\<nu> \\<or>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "obtain k where \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>1 (prefix k w)[?X]\\<^sub>\\<nu> \\<or> suffix k w \\<Turnstile>\\<^sub>n af \\<phi>2 (prefix k w)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 \\<phi>1]\\<^sub>\\<nu> \\<or>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        suffix k\n         w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                 (prefix k\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<or>\n        suffix k\n         w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                 (prefix k\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas\n (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using GF_advice_monotone"], ["proof (prove)\nusing this:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 \\<phi>1]\\<^sub>\\<nu> \\<or>\n  suffix j\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix j\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<lbrakk>?X \\<subseteq> ?Y;\n   ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?Y]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        suffix k\n         w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                 (prefix k\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<or>\n        suffix k\n         w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                 (prefix k\n                                   w)[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas\n (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<or>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 or\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 or\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "thus ?case"], ["proof (prove)\nusing this:\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<or>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 or\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "unfolding af_decompose semantics_ltln.simps(6) GF_advice.simps"], ["proof (prove)\nusing this:\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<or>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (prefix k\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 and\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu> \\<or>\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by auto"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 or\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 or\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi> ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>\n  \\<mu>_stable (X\\<^sub>n \\<phi>) w\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<mu>_stable \\<phi> ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>\n  \\<mu>_stable (X\\<^sub>n \\<phi>) w\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "have stable: \"\\<mu>_stable \\<phi> (suffix 1 w)\"\n    and suffix: \"suffix 1 w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<mu>_stable \\<phi> ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>\n  \\<mu>_stable (X\\<^sub>n \\<phi>) w\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. \\<mu>_stable \\<phi> (suffix 1 w) &&&\n    suffix 1 w \\<Turnstile>\\<^sub>n \\<phi>", "using \\<F>_suffix \\<G>\\<F>_\\<F>_subset \\<G>\\<F>_suffix"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<mu>_stable \\<phi> ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>\n  \\<mu>_stable (X\\<^sub>n \\<phi>) w\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n  \\<F> ?\\<phi> (suffix ?i ?w) \\<subseteq> \\<F> ?\\<phi> ?w\n  \\<G>\\<F> ?\\<phi> ?w \\<subseteq> \\<F> ?\\<phi> ?w\n  \\<G>\\<F> ?\\<phi> (suffix ?i ?w) = \\<G>\\<F> ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. \\<mu>_stable \\<phi> (suffix 1 w) &&&\n    suffix 1 w \\<Turnstile>\\<^sub>n \\<phi>", "by (simp_all add: \\<mu>_stable_def) fast"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi> (suffix 1 w)\n  suffix 1 w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi> w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi> w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>]\\<^sub>\\<nu>;\n        \\<mu>_stable (X\\<^sub>n \\<phi>) w;\n        w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>", "by (metis (no_types, lifting) Next_ltln.IH[OF stable suffix, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix] One_nat_def add.commute af_simps(3) foldl_Nil foldl_append restricted_subformulas.simps(3) subsequence_append subsequence_singleton)"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (X\\<^sub>n \\<phi>)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (X\\<^sub>n \\<phi>)]\\<^sub>\\<nu>\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (Until_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X  = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X1 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>1\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X2 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>2\""], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have stable_1: \"\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)\"\n    and stable_2: \"\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "using \\<mu>_stable_subfrmlsn[OF Until_ltln.prems(1)]"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn (\\<phi>1 U\\<^sub>n \\<phi>2) \\<Longrightarrow>\n  \\<mu>_stable ?\\<psi> w\n\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "by (simp add: \\<mu>_stable_suffix)+"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi>1 (suffix ?i w)\n  \\<mu>_stable \\<phi>2 (suffix ?i w)\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "obtain i where \"\\<And>j. j < i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<phi>1\" and \"suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>\\<And>j.\n                    j < i \\<Longrightarrow>\n                    suffix j w \\<Turnstile>\\<^sub>n \\<phi>1;\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Until_ltln"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>\\<And>j.\n                    j < i \\<Longrightarrow>\n                    suffix j w \\<Turnstile>\\<^sub>n \\<phi>1;\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2", "have \"\\<And>j. j < i \\<Longrightarrow> \\<exists>k. suffix (j + k) w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [j \\<rightarrow> k + j])[?X1]\\<^sub>\\<nu>\"\n    and \"\\<exists>k. suffix (i + k) w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [i \\<rightarrow> k + i])[?X2]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j < i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>1]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "using Until_ltln.IH(1)[OF stable_1, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j < i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>1]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "using Until_ltln.IH(2)[OF stable_2, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j < i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>1]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "by blast+"], ["proof (state)\nthis:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"?X1 \\<subseteq> ?X\"\n    and \"?X2 \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)", "by auto"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)", "obtain k where \"k \\<ge> i\"\n    and \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [i \\<rightarrow> k])[?X]\\<^sub>\\<nu>\"\n    and \"\\<And>j. j < i \\<Longrightarrow> suffix k w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [j \\<rightarrow> k])[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j < i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using GF_advice_sync_less[of i w \\<phi>1 ?X \\<phi>2] GF_advice_monotone[of _ ?X]"], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)\n  \\<lbrakk>\\<And>ia.\n              ia < i \\<Longrightarrow>\n              \\<exists>j.\n                 suffix (ia + j)\n                  w \\<Turnstile>\\<^sub>n af \\<phi>1\n    (w [ia \\<rightarrow> j +\n                         ia])[{\\<psi>.\n                               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                              restricted_subformulas\n                               (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n   \\<exists>j.\n      suffix (i + j)\n       w \\<Turnstile>\\<^sub>n af \\<phi>2\n                               (w [i \\<rightarrow> j +\n             i])[{\\<psi>.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas\n                  (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k\\<ge>i.\n                       (\\<forall>j<i.\n                           suffix k\n                            w \\<Turnstile>\\<^sub>n af \\<phi>1\n              (w [j \\<rightarrow> k])[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>) \\<and>\n                       suffix k\n                        w \\<Turnstile>\\<^sub>n af \\<phi>2\n          (w [i \\<rightarrow> k])[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  \\<lbrakk>?X \\<subseteq> {\\<psi>.\n                           w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                          restricted_subformulas\n                           (\\<phi>1 U\\<^sub>n \\<phi>2);\n   ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j < i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j < i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "hence \"suffix (Suc k) w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2) (prefix (Suc k) w)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j < i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. suffix (Suc k)\n     w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2)\n                             (prefix (Suc k)\n                               w)[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by (rule af_subsequence_U_GF_advice)"], ["proof (state)\nthis:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 U\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 U\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "show ?case"], ["proof (prove)\nusing this:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 U\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 U\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (WeakUntil_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X  = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\""], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X1 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>1\""], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X2 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>2\""], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have stable_1: \"\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)\"\n    and stable_2: \"\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "using \\<mu>_stable_subfrmlsn[OF WeakUntil_ltln.prems(1)]"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn (\\<phi>1 W\\<^sub>n \\<phi>2) \\<Longrightarrow>\n  \\<mu>_stable ?\\<psi> w\n\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "by (simp add: \\<mu>_stable_suffix)+"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi>1 (suffix ?i w)\n  \\<mu>_stable \\<phi>2 (suffix ?i w)\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "{"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi>1 (suffix ?i w)\n  \\<mu>_stable \\<phi>2 (suffix ?i w)\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "assume Until_ltln: \"w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2", "obtain i where \"\\<And>j. j < i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<phi>1\" and \"suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>\\<And>j.\n                    j < i \\<Longrightarrow>\n                    suffix j w \\<Turnstile>\\<^sub>n \\<phi>1;\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2", "have \"\\<And>j. j < i \\<Longrightarrow> \\<exists>k. suffix (j + k) w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [j \\<rightarrow> k + j])[?X1]\\<^sub>\\<nu>\"\n      and \"\\<exists>k. suffix (i + k) w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [i \\<rightarrow> k + i])[?X2]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j < i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>1]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "using WeakUntil_ltln.IH(1)[OF stable_1, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j < i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>1]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "using WeakUntil_ltln.IH(2)[OF stable_2, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j < i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>1]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>", "by blast+"], ["proof (state)\nthis:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"?X1 \\<subseteq> ?X\"\n      and \"?X2 \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)", "using restricted_subformulas_subset'"], ["proof (prove)\nusing this:\n  restricted_subformulas ?\\<phi>\n  \\<subseteq> restricted_subformulas_inner ?\\<phi>\n\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)", "by force+"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)", "obtain k where \"k \\<ge> i\"\n      and \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [i \\<rightarrow> k])[?X]\\<^sub>\\<nu>\"\n      and \"\\<And>j. j < i \\<Longrightarrow> suffix k w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [j \\<rightarrow> k])[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j < i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using GF_advice_sync_less[of i w \\<phi>1 ?X \\<phi>2] GF_advice_monotone[of _ ?X]"], ["proof (prove)\nusing this:\n  ?j < i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)\n  \\<lbrakk>\\<And>ia.\n              ia < i \\<Longrightarrow>\n              \\<exists>j.\n                 suffix (ia + j)\n                  w \\<Turnstile>\\<^sub>n af \\<phi>1\n    (w [ia \\<rightarrow> j +\n                         ia])[{\\<psi>.\n                               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                              restricted_subformulas\n                               (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n   \\<exists>j.\n      suffix (i + j)\n       w \\<Turnstile>\\<^sub>n af \\<phi>2\n                               (w [i \\<rightarrow> j +\n             i])[{\\<psi>.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas\n                  (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k\\<ge>i.\n                       (\\<forall>j<i.\n                           suffix k\n                            w \\<Turnstile>\\<^sub>n af \\<phi>1\n              (w [j \\<rightarrow> k])[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>) \\<and>\n                       suffix k\n                        w \\<Turnstile>\\<^sub>n af \\<phi>2\n          (w [i \\<rightarrow> k])[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  \\<lbrakk>?X \\<subseteq> {\\<psi>.\n                           w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                          restricted_subformulas\n                           (\\<phi>1 W\\<^sub>n \\<phi>2);\n   ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j < i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j < i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "hence \"suffix (Suc k) w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2) (prefix (Suc k) w)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j < i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. suffix (Suc k)\n     w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                             (prefix (Suc k)\n                               w)[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by (rule af_subsequence_W_GF_advice)"], ["proof (state)\nthis:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "hence ?case"], ["proof (prove)\nusing this:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "{"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "assume Globally_ltln: \"w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "{"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "fix j"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<phi>1", "using Globally_ltln"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1\n\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<phi>1", "by simp"], ["proof (state)\nthis:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>1\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>1", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>1\n\ngoal (1 subgoal):\n 1. suffix j\n     w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>", "by (metis stable_1 GF_advice_a1 \\<G>\\<F>_suffix \\<mu>_stable_def \\<G>\\<F>_elim mem_Collect_eq subsetI)"], ["proof (state)\nthis:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>1[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. suffix j\n     w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                    restricted_subformulas\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by (metis GF_advice_inter restricted_subformulas_W_\\<mu> le_infI2)"], ["proof (state)\nthis:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "}"], ["proof (state)\nthis:\n  suffix ?j2\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix ?j2\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"w \\<Turnstile>\\<^sub>n (\\<phi>1 W\\<^sub>n \\<phi>2)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  suffix ?j2\n   w \\<Turnstile>\\<^sub>n \\<phi>1[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi>1 W\\<^sub>n \\<phi>2)[{\\<psi>.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas\n                  (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 W\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 W\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have ?case"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 W\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "using GF_advice_af_2"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 W\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu> \\<Longrightarrow>\n  suffix ?i\n   ?w \\<Turnstile>\\<^sub>n af ?\\<phi> (prefix ?i ?w)[?X]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 W\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 W\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "show ?case"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "using WeakUntil_ltln.prems(2) ltln_weak_to_strong(1)"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> W\\<^sub>n ?\\<psi>;\n   \\<not> ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> U\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 W\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 W\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (Release_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X  = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X1 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>1\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X2 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>2\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have stable_1: \"\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)\"\n    and stable_2: \"\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "using \\<mu>_stable_subfrmlsn[OF Release_ltln.prems(1)]"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn (\\<phi>1 R\\<^sub>n \\<phi>2) \\<Longrightarrow>\n  \\<mu>_stable ?\\<psi> w\n\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "by (simp add: \\<mu>_stable_suffix)+"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi>1 (suffix ?i w)\n  \\<mu>_stable \\<phi>2 (suffix ?i w)\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "{"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi>1 (suffix ?i w)\n  \\<mu>_stable \\<phi>2 (suffix ?i w)\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "assume Until_ltln: \"w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "obtain i where \"\\<And>j. j \\<le> i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<phi>2\" and \"suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>\\<And>j.\n                    j \\<le> i \\<Longrightarrow>\n                    suffix j w \\<Turnstile>\\<^sub>n \\<phi>2;\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1", "have \"\\<And>j. j \\<le> i \\<Longrightarrow> \\<exists>k. suffix (j + k) w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [j \\<rightarrow> k + j])[?X2]\\<^sub>\\<nu>\"\n      and \"\\<exists>k. suffix (i + k) w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [i \\<rightarrow> k + i])[?X1]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j \\<le> i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>2]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>", "using Release_ltln.IH(1)[OF stable_1, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j \\<le> i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>2]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>", "using Release_ltln.IH(2)[OF stable_2, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j \\<le> i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>2]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>", "by blast+"], ["proof (state)\nthis:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"?X1 \\<subseteq> ?X\"\n      and \"?X2 \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)", "using restricted_subformulas_subset'"], ["proof (prove)\nusing this:\n  restricted_subformulas ?\\<phi>\n  \\<subseteq> restricted_subformulas_inner ?\\<phi>\n\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)", "by force+"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)", "obtain k where \"k \\<ge> i\"\n      and \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [i \\<rightarrow> k])[?X]\\<^sub>\\<nu>\"\n      and \"\\<And>j. j \\<le> i \\<Longrightarrow> suffix k w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [j \\<rightarrow> k])[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j \\<le> i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using GF_advice_sync_lesseq[of i w \\<phi>2 ?X \\<phi>1] GF_advice_monotone[of _ ?X]"], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)\n  \\<lbrakk>\\<And>ia.\n              ia \\<le> i \\<Longrightarrow>\n              \\<exists>j.\n                 suffix (ia + j)\n                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n    (w [ia \\<rightarrow> j +\n                         ia])[{\\<psi>.\n                               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                              restricted_subformulas\n                               (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n   \\<exists>j.\n      suffix (i + j)\n       w \\<Turnstile>\\<^sub>n af \\<phi>1\n                               (w [i \\<rightarrow> j +\n             i])[{\\<psi>.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas\n                  (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k\\<ge>i.\n                       (\\<forall>j\\<le>i.\n                           suffix k\n                            w \\<Turnstile>\\<^sub>n af \\<phi>2\n              (w [j \\<rightarrow> k])[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>) \\<and>\n                       suffix k\n                        w \\<Turnstile>\\<^sub>n af \\<phi>1\n          (w [i \\<rightarrow> k])[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  \\<lbrakk>?X \\<subseteq> {\\<psi>.\n                           w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                          restricted_subformulas\n                           (\\<phi>1 R\\<^sub>n \\<phi>2);\n   ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j \\<le> i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j \\<le> i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "hence \"suffix (Suc k) w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2) (prefix (Suc k) w)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j \\<le> i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. suffix (Suc k)\n     w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                             (prefix (Suc k)\n                               w)[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by (rule af_subsequence_R_GF_advice)"], ["proof (state)\nthis:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "hence ?case"], ["proof (prove)\nusing this:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "{"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "assume Globally_ltln: \"w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "{"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "fix j"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<phi>2", "using Globally_ltln"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<phi>2", "by simp"], ["proof (state)\nthis:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>2", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. suffix j\n     w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>", "by (metis stable_2 GF_advice_a1 \\<G>\\<F>_suffix \\<mu>_stable_def \\<G>\\<F>_elim mem_Collect_eq subsetI)"], ["proof (state)\nthis:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>2[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)}]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. suffix j\n     w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                    restricted_subformulas\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by (metis GF_advice_inter restricted_subformulas_R_\\<mu> le_infI2)"], ["proof (state)\nthis:\n  suffix j\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "}"], ["proof (state)\nthis:\n  suffix ?j2\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix ?j2\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"w \\<Turnstile>\\<^sub>n (\\<phi>1 R\\<^sub>n \\<phi>2)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  suffix ?j2\n   w \\<Turnstile>\\<^sub>n \\<phi>2[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi>1 R\\<^sub>n \\<phi>2)[{\\<psi>.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas\n                  (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 R\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 R\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have ?case"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 R\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "using GF_advice_af_2"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi>1 R\\<^sub>n \\<phi>2)[{\\<psi>.\n                w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n               restricted_subformulas\n                (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu> \\<Longrightarrow>\n  suffix ?i\n   ?w \\<Turnstile>\\<^sub>n af ?\\<phi> (prefix ?i ?w)[?X]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 R\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 R\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n 4. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "show ?case"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "using Release_ltln.prems(2) ltln_weak_to_strong(3)"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> R\\<^sub>n ?\\<psi>;\n   \\<not> ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 R\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 R\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "case (StrongRelease_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X  = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X1 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>1\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "let ?X2 = \"{\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter> restricted_subformulas \\<phi>2\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have stable_1: \"\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)\"\n    and stable_2: \"\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "using \\<mu>_stable_subfrmlsn[OF StrongRelease_ltln.prems(1)]"], ["proof (prove)\nusing this:\n  ?\\<psi> \\<in> subfrmlsn (\\<phi>1 M\\<^sub>n \\<phi>2) \\<Longrightarrow>\n  \\<mu>_stable ?\\<psi> w\n\ngoal (1 subgoal):\n 1. (\\<And>i. \\<mu>_stable \\<phi>1 (suffix i w)) &&&\n    (\\<And>i. \\<mu>_stable \\<phi>2 (suffix i w))", "by (simp add: \\<mu>_stable_suffix)+"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi>1 (suffix ?i w)\n  \\<mu>_stable \\<phi>2 (suffix ?i w)\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "obtain i where \"\\<And>j. j \\<le> i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<phi>2\" and \"suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>\\<And>j.\n                    j \\<le> i \\<Longrightarrow>\n                    suffix j w \\<Turnstile>\\<^sub>n \\<phi>2;\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using StrongRelease_ltln"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<mu>_stable \\<phi>1 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>1\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  \\<lbrakk>\\<mu>_stable \\<phi>2 ?w; ?w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n  \\<Longrightarrow> \\<exists>i.\n                       suffix i\n                        ?w \\<Turnstile>\\<^sub>n af \\<phi>2\n           (prefix i\n             ?w)[{\\<psi>.\n                  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>\\<And>j.\n                    j \\<le> i \\<Longrightarrow>\n                    suffix j w \\<Turnstile>\\<^sub>n \\<phi>2;\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1", "have \"\\<And>j. j \\<le> i \\<Longrightarrow> \\<exists>k. suffix (j + k) w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [j \\<rightarrow> k + j])[?X2]\\<^sub>\\<nu>\"\n    and \"\\<exists>k. suffix (i + k) w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [i \\<rightarrow> k + i])[?X1]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j \\<le> i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>2]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>", "using StrongRelease_ltln.IH(1)[OF stable_1, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j \\<le> i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>2]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>", "using StrongRelease_ltln.IH(2)[OF stable_2, unfolded suffix_suffix prefix_suffix_subsequence GF_suffix]"], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>2\n  suffix i w \\<Turnstile>\\<^sub>n \\<phi>1\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>1 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  suffix ?i1 w \\<Turnstile>\\<^sub>n \\<phi>2 \\<Longrightarrow>\n  \\<exists>i.\n     suffix (?i1 + i)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?i1 \\<rightarrow> i +\n              ?i1])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        j \\<le> i \\<Longrightarrow>\n        \\<exists>k.\n           suffix (j + k)\n            w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                    (w [j \\<rightarrow> k +\n                  j])[{\\<psi>.\n                       w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                      restricted_subformulas \\<phi>2]\\<^sub>\\<nu>) &&&\n    \\<exists>k.\n       suffix (i + k)\n        w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                (w [i \\<rightarrow> k +\n              i])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>1]\\<^sub>\\<nu>", "by blast+"], ["proof (state)\nthis:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "moreover"], ["proof (state)\nthis:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "have \"?X1 \\<subseteq> ?X\"\n    and \"?X2 \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>1\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2) &&&\n    {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n    restricted_subformulas \\<phi>2\n    \\<subseteq> {\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)", "by auto"], ["proof (state)\nthis:\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "ultimately"], ["proof (chain)\npicking this:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)", "obtain k where \"k \\<ge> i\"\n    and \"suffix k w \\<Turnstile>\\<^sub>n af \\<phi>1 (w [i \\<rightarrow> k])[?X]\\<^sub>\\<nu>\"\n    and \"\\<And>j. j \\<le> i \\<Longrightarrow> suffix k w \\<Turnstile>\\<^sub>n af \\<phi>2 (w [j \\<rightarrow> k])[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j \\<le> i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using GF_advice_sync_lesseq[of i w \\<phi>2 ?X \\<phi>1] GF_advice_monotone[of _ ?X]"], ["proof (prove)\nusing this:\n  ?j \\<le> i \\<Longrightarrow>\n  \\<exists>k.\n     suffix (?j + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>2\n                              (w [?j \\<rightarrow> k +\n             ?j])[{\\<psi>.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                  restricted_subformulas \\<phi>2]\\<^sub>\\<nu>\n  \\<exists>k.\n     suffix (i + k)\n      w \\<Turnstile>\\<^sub>n af \\<phi>1\n                              (w [i \\<rightarrow> k +\n            i])[{\\<psi>.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>1\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n  {\\<psi>. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n  restricted_subformulas \\<phi>2\n  \\<subseteq> {\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)\n  \\<lbrakk>\\<And>ia.\n              ia \\<le> i \\<Longrightarrow>\n              \\<exists>j.\n                 suffix (ia + j)\n                  w \\<Turnstile>\\<^sub>n af \\<phi>2\n    (w [ia \\<rightarrow> j +\n                         ia])[{\\<psi>.\n                               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                              restricted_subformulas\n                               (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n   \\<exists>j.\n      suffix (i + j)\n       w \\<Turnstile>\\<^sub>n af \\<phi>1\n                               (w [i \\<rightarrow> j +\n             i])[{\\<psi>.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                 restricted_subformulas\n                  (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>k\\<ge>i.\n                       (\\<forall>j\\<le>i.\n                           suffix k\n                            w \\<Turnstile>\\<^sub>n af \\<phi>2\n              (w [j \\<rightarrow> k])[{\\<psi>.\n w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\nrestricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>) \\<and>\n                       suffix k\n                        w \\<Turnstile>\\<^sub>n af \\<phi>1\n          (w [i \\<rightarrow> k])[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  \\<lbrakk>?X \\<subseteq> {\\<psi>.\n                           w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                          restricted_subformulas\n                           (\\<phi>1 M\\<^sub>n \\<phi>2);\n   ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?X]\\<^sub>\\<nu>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        \\<lbrakk>i \\<le> k;\n         suffix k\n          w \\<Turnstile>\\<^sub>n af \\<phi>1\n                                  (w [i \\<rightarrow> k])[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>;\n         \\<And>j.\n            j \\<le> i \\<Longrightarrow>\n            suffix k\n             w \\<Turnstile>\\<^sub>n af \\<phi>2\n                                     (w [j \\<rightarrow> k])[{\\<psi>.\n                        w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                       restricted_subformulas\n                        (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by meson"], ["proof (state)\nthis:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j \\<le> i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "hence \"suffix (Suc k) w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2) (prefix (Suc k) w)[?X]\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  i \\<le> k\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (w [i \\<rightarrow> k])[{\\<psi>.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n             restricted_subformulas (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n  ?j \\<le> i \\<Longrightarrow>\n  suffix k\n   w \\<Turnstile>\\<^sub>n af \\<phi>2\n                           (w [?j \\<rightarrow> k])[{\\<psi>.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n              restricted_subformulas\n               (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. suffix (Suc k)\n     w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2)\n                             (prefix (Suc k)\n                               w)[{\\<psi>.\n                                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                  restricted_subformulas\n                                   (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by (rule af_subsequence_M_GF_advice)"], ["proof (state)\nthis:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (3 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>\n 3. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   \\<lbrakk>\\<mu>_stable \\<phi>1 w;\n                    w \\<Turnstile>\\<^sub>n \\<phi>1\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>i.\n  suffix i\n   w \\<Turnstile>\\<^sub>n af \\<phi>1\n                           (prefix i\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas \\<phi>1]\\<^sub>\\<nu>;\n        \\<And>w.\n           \\<lbrakk>\\<mu>_stable \\<phi>2 w;\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n           \\<Longrightarrow> \\<exists>i.\n                                suffix i\n                                 w \\<Turnstile>\\<^sub>n af \\<phi>2\n                   (prefix i\n                     w)[{\\<psi>.\n                         w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                        restricted_subformulas \\<phi>2]\\<^sub>\\<nu>;\n        \\<mu>_stable (\\<phi>1 M\\<^sub>n \\<phi>2) w;\n        w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af\n               (\\<phi>1 M\\<^sub>n \\<phi>2)\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas\n                     (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "then"], ["proof (chain)\npicking this:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "show ?case"], ["proof (prove)\nusing this:\n  suffix (Suc k)\n   w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2)\n                           (prefix (Suc k)\n                             w)[{\\<psi>.\n                                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                restricted_subformulas\n                                 (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                (prefix i\n                                  w)[{\\<psi>.\nw \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n(\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>", "by blast"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af (\\<phi>1 M\\<^sub>n \\<phi>2)\n                              (prefix i\n                                w)[{\\<psi>.\n                                    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    (\\<phi>1 M\\<^sub>n \\<phi>2)]\\<^sub>\\<nu>\n\ngoal (2 subgoals):\n 1. \\<And>w.\n       \\<lbrakk>\\<mu>_stable true\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n true\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af true\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas true\\<^sub>n]\\<^sub>\\<nu>\n 2. \\<And>w.\n       \\<lbrakk>\\<mu>_stable false\\<^sub>n w;\n        w \\<Turnstile>\\<^sub>n false\\<^sub>n\\<rbrakk>\n       \\<Longrightarrow> \\<exists>i.\n                            suffix i\n                             w \\<Turnstile>\\<^sub>n af false\\<^sub>n\n               (prefix i\n                 w)[{\\<psi>.\n                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                    restricted_subformulas false\\<^sub>n]\\<^sub>\\<nu>", "qed simp+"], ["", "theorem master_theorem_restricted:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow>\n    (\\<exists>X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi>.\n       (\\<exists>Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>.\n         (\\<exists>i. (suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>)\n          \\<and> (\\<forall>\\<psi> \\<in> X. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>))\n          \\<and> (\\<forall>\\<psi> \\<in> Y. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)))))\"\n  (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> =\n    (\\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                          restricted_subformulas \\<phi>.\n        \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                             restricted_subformulas \\<phi>.\n           \\<exists>i.\n              suffix i\n               w \\<Turnstile>\\<^sub>n af \\<phi>\n (prefix i w)[X]\\<^sub>\\<nu> \\<and>\n              (\\<forall>\\<psi>\\<in>X.\n                  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n              (\\<forall>\\<psi>\\<in>Y.\n                  w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "obtain i where \"\\<mu>_stable \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<mu>_stable \\<phi> (suffix i w) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis MOST_nat less_Suc_eq suffix_\\<mu>_stable)"], ["proof (state)\nthis:\n  \\<mu>_stable \\<phi> (suffix i w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "hence stable: \"\\<mu>_stable (af \\<phi> (prefix i w)) (suffix i w)\""], ["proof (prove)\nusing this:\n  \\<mu>_stable \\<phi> (suffix i w)\n\ngoal (1 subgoal):\n 1. \\<mu>_stable (af \\<phi> (prefix i w)) (suffix i w)", "by (simp add: \\<F>_af \\<G>\\<F>_af \\<mu>_stable_def)"], ["proof (state)\nthis:\n  \\<mu>_stable (af \\<phi> (prefix i w)) (suffix i w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "let ?\\<phi>' = \"af \\<phi> (prefix i w)\""], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "let ?X' = \"\\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\""], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "let ?Y' = \"\\<F>\\<G> \\<phi> w \\<inter> restricted_subformulas \\<phi>\""], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have 1: \"suffix i w \\<Turnstile>\\<^sub>n ?\\<phi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)", "using \\<open>?lhs\\<close> af_ltl_continuation"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n  (?w \\<frown> ?w') \\<Turnstile>\\<^sub>n ?\\<phi> =\n  ?w' \\<Turnstile>\\<^sub>n af ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)", "by force"], ["proof (state)\nthis:\n  suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have 2: \"\\<And>j. af (af \\<phi> (prefix i w)) (prefix j (suffix i w)) = af \\<phi> (prefix (i + j) w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>j.\n       af (af \\<phi> (prefix i w)) (prefix j (suffix i w)) =\n       af \\<phi> (prefix (i + j) w)", "by (simp add: subsequence_append)"], ["proof (state)\nthis:\n  af (af \\<phi> (prefix i w)) (prefix ?j (suffix i w)) =\n  af \\<phi> (prefix (i + ?j) w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have 3: \"\\<G>\\<F> \\<phi> w = \\<G>\\<F> \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w = \\<G>\\<F> \\<phi> (suffix i w)", "using \\<G>\\<F>_af \\<G>\\<F>_suffix"], ["proof (prove)\nusing this:\n  \\<G>\\<F> (af ?\\<phi> (prefix ?i ?w)) (suffix ?i ?w) =\n  \\<G>\\<F> ?\\<phi> (suffix ?i ?w)\n  \\<G>\\<F> ?\\<phi> (suffix ?i ?w) = \\<G>\\<F> ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w = \\<G>\\<F> \\<phi> (suffix i w)", "by blast"], ["proof (state)\nthis:\n  \\<G>\\<F> \\<phi> w = \\<G>\\<F> \\<phi> (suffix i w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have \"\\<exists>j. suffix (i + j) w \\<Turnstile>\\<^sub>n af (?\\<phi>') (prefix j (suffix i w))[?X']\\<^sub>\\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>j.\n       suffix (i + j)\n        w \\<Turnstile>\\<^sub>n af (af \\<phi> (prefix i w))\n                                (prefix j\n                                  (suffix i\n                                    w))[\\<G>\\<F> \\<phi> w \\<inter>\n  restricted_subformulas \\<phi>]\\<^sub>\\<nu>", "using delay_2[OF stable 1]"], ["proof (prove)\nusing this:\n  \\<exists>ia.\n     suffix ia\n      (suffix i\n        w) \\<Turnstile>\\<^sub>n af (af \\<phi> (prefix i w))\n                                 (prefix ia\n                                   (suffix i\n                                     w))[{\\<psi>.\n    suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n   restricted_subformulas (af \\<phi> (prefix i w))]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       suffix (i + j)\n        w \\<Turnstile>\\<^sub>n af (af \\<phi> (prefix i w))\n                                (prefix j\n                                  (suffix i\n                                    w))[\\<G>\\<F> \\<phi> w \\<inter>\n  restricted_subformulas \\<phi>]\\<^sub>\\<nu>", "unfolding suffix_suffix 2 restrict_af 3"], ["proof (prove)\nusing this:\n  \\<exists>ia.\n     suffix (i + ia)\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix (i + ia)\n                                w)[{\\<psi>.\n                                    suffix i\n                                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       suffix (i + j)\n        w \\<Turnstile>\\<^sub>n af \\<phi>\n                                (prefix (i + j)\n                                  w)[\\<G>\\<F> \\<phi> (suffix i w) \\<inter>\n                                     restricted_subformulas\n\\<phi>]\\<^sub>\\<nu>", "unfolding \\<G>\\<F>_semantics'"], ["proof (prove)\nusing this:\n  \\<exists>ia.\n     suffix (i + ia)\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix (i + ia)\n                                w)[{\\<psi>.\n                                    suffix i\n                                     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       suffix (i + j)\n        w \\<Turnstile>\\<^sub>n af \\<phi>\n                                (prefix (i + j)\n                                  w)[subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                                     {\\<psi>.\nsuffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>)} \\<inter>\n                                     restricted_subformulas\n\\<phi>]\\<^sub>\\<nu>", "by (metis (no_types, lifting) GF_advice_inter_subformulas af_subformulas\\<^sub>\\<mu> inf_assoc inf_commute)"], ["proof (state)\nthis:\n  \\<exists>j.\n     suffix (i + j)\n      w \\<Turnstile>\\<^sub>n af (af \\<phi> (prefix i w))\n                              (prefix j\n                                (suffix i\n                                  w))[\\<G>\\<F> \\<phi> w \\<inter>\nrestricted_subformulas \\<phi>]\\<^sub>\\<nu>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "hence \"\\<exists>i. suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[?X']\\<^sub>\\<nu>\""], ["proof (prove)\nusing this:\n  \\<exists>j.\n     suffix (i + j)\n      w \\<Turnstile>\\<^sub>n af (af \\<phi> (prefix i w))\n                              (prefix j\n                                (suffix i\n                                  w))[\\<G>\\<F> \\<phi> w \\<inter>\nrestricted_subformulas \\<phi>]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>\n                                (prefix i\n                                  w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                     restricted_subformulas\n\\<phi>]\\<^sub>\\<nu>", "using 2"], ["proof (prove)\nusing this:\n  \\<exists>j.\n     suffix (i + j)\n      w \\<Turnstile>\\<^sub>n af (af \\<phi> (prefix i w))\n                              (prefix j\n                                (suffix i\n                                  w))[\\<G>\\<F> \\<phi> w \\<inter>\nrestricted_subformulas \\<phi>]\\<^sub>\\<nu>\n  af (af \\<phi> (prefix i w)) (prefix ?j (suffix i w)) =\n  af \\<phi> (prefix (i + ?j) w)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       suffix i\n        w \\<Turnstile>\\<^sub>n af \\<phi>\n                                (prefix i\n                                  w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                     restricted_subformulas\n\\<phi>]\\<^sub>\\<nu>", "by auto"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix i\n                                w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "moreover"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix i\n                                w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "{"], ["proof (state)\nthis:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix i\n                                w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "fix \\<psi>"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have \"\\<And>X. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> \\<psi>[X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<mu> = \\<psi>[X]\\<^sub>\\<mu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n       \\<psi>[X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<mu> =\n       \\<psi>[X]\\<^sub>\\<mu>", "by (metis le_supE restricted_subformulas_superset FG_advice_inter inf.coboundedI2)"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  \\<psi>[?X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<mu> =\n  \\<psi>[?X]\\<^sub>\\<mu>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "hence \"\\<psi> \\<in> ?X' \\<Longrightarrow>  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[?Y']\\<^sub>\\<mu>)\""], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  \\<psi>[?X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<mu> =\n  \\<psi>[?X]\\<^sub>\\<mu>\n\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n          restricted_subformulas \\<phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)", "using \\<G>\\<F>_implies_GF"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  \\<psi>[?X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<mu> =\n  \\<psi>[?X]\\<^sub>\\<mu>\n  \\<forall>\\<psi>\\<in>\\<G>\\<F> ?\\<phi> ?w.\n     ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> ?\\<phi>\n                    ?w]\\<^sub>\\<mu>)\n\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n          restricted_subformulas \\<phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)", "by force"], ["proof (state)\nthis:\n  \\<psi>\n  \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> \\<phi>\n                w \\<inter>\n               restricted_subformulas \\<phi>]\\<^sub>\\<mu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "}"], ["proof (state)\nthis:\n  ?\\<psi>2\n  \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n ?\\<psi>2[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "moreover"], ["proof (state)\nthis:\n  ?\\<psi>2\n  \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n ?\\<psi>2[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "{"], ["proof (state)\nthis:\n  ?\\<psi>2\n  \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n ?\\<psi>2[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "fix \\<psi>"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have \"\\<And>X. \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow> \\<psi>[X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu> = \\<psi>[X]\\<^sub>\\<nu>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>X.\n       \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n       \\<psi>[X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu> =\n       \\<psi>[X]\\<^sub>\\<nu>", "by (metis le_supE restricted_subformulas_superset GF_advice_inter inf.coboundedI2)"], ["proof (state)\nthis:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  \\<psi>[?X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu> =\n  \\<psi>[?X]\\<^sub>\\<nu>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "hence \"\\<psi> \\<in> ?Y' \\<Longrightarrow> w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[?X']\\<^sub>\\<nu>)\""], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  \\<psi>[?X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu> =\n  \\<psi>[?X]\\<^sub>\\<nu>\n\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n          restricted_subformulas \\<phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>)", "using \\<F>\\<G>_implies_FG"], ["proof (prove)\nusing this:\n  \\<psi> \\<in> restricted_subformulas \\<phi> \\<Longrightarrow>\n  \\<psi>[?X \\<inter> restricted_subformulas \\<phi>]\\<^sub>\\<nu> =\n  \\<psi>[?X]\\<^sub>\\<nu>\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> ?\\<phi> ?w.\n     ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> ?\\<phi>\n                    ?w]\\<^sub>\\<nu>)\n\ngoal (1 subgoal):\n 1. \\<psi>\n    \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n          restricted_subformulas \\<phi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>)", "by force"], ["proof (state)\nthis:\n  \\<psi>\n  \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> \\<phi>\n                w \\<inter>\n               restricted_subformulas \\<phi>]\\<^sub>\\<nu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "}"], ["proof (state)\nthis:\n  ?\\<psi>2\n  \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n ?\\<psi>2[\\<G>\\<F> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "moreover"], ["proof (state)\nthis:\n  ?\\<psi>2\n  \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n ?\\<psi>2[\\<G>\\<F> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have \"?X' \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>", "using \\<G>\\<F>_subformulas\\<^sub>\\<mu>"], ["proof (prove)\nusing this:\n  \\<G>\\<F> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>", "by blast"], ["proof (state)\nthis:\n  \\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "moreover"], ["proof (state)\nthis:\n  \\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "have \"?Y' \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>", "using \\<F>\\<G>_subformulas\\<^sub>\\<nu>"], ["proof (prove)\nusing this:\n  \\<F>\\<G> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n\ngoal (1 subgoal):\n 1. \\<F>\\<G> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n    \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>", "by blast"], ["proof (state)\nthis:\n  \\<F>\\<G> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n 2. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix i\n                                w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n  ?\\<psi>2\n  \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n ?\\<psi>2[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)\n  ?\\<psi>2\n  \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n ?\\<psi>2[\\<G>\\<F> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>)\n  \\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>\n  \\<F>\\<G> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>", "show ?rhs"], ["proof (prove)\nusing this:\n  \\<exists>i.\n     suffix i\n      w \\<Turnstile>\\<^sub>n af \\<phi>\n                              (prefix i\n                                w)[\\<G>\\<F> \\<phi> w \\<inter>\n                                   restricted_subformulas\n                                    \\<phi>]\\<^sub>\\<nu>\n  ?\\<psi>2\n  \\<in> \\<G>\\<F> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n ?\\<psi>2[\\<F>\\<G> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<mu>)\n  ?\\<psi>2\n  \\<in> \\<F>\\<G> \\<phi> w \\<inter>\n        restricted_subformulas \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n ?\\<psi>2[\\<G>\\<F> \\<phi>\n                  w \\<inter>\n                 restricted_subformulas \\<phi>]\\<^sub>\\<nu>)\n  \\<G>\\<F> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>\n  \\<F>\\<G> \\<phi> w \\<inter> restricted_subformulas \\<phi>\n  \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n              restricted_subformulas \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))", "by meson"], ["proof (state)\nthis:\n  \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>.\n     \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                          restricted_subformulas \\<phi>.\n        \\<exists>i.\n           suffix i\n            w \\<Turnstile>\\<^sub>n af \\<phi>\n                                    (prefix i w)[X]\\<^sub>\\<nu> \\<and>\n           (\\<forall>\\<psi>\\<in>X.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n           (\\<forall>\\<psi>\\<in>Y.\n               w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>))\n\ngoal (1 subgoal):\n 1. \\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                         restricted_subformulas \\<phi>.\n       \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>.\n          \\<exists>i.\n             suffix i\n              w \\<Turnstile>\\<^sub>n af \\<phi>\n(prefix i w)[X]\\<^sub>\\<nu> \\<and>\n             (\\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n             (\\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "qed (insert master_theorem, fast)"], ["", "corollary master_theorem_restricted_language:\n  \"language_ltln \\<phi> = \\<Union> {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter> L\\<^sub>3 X Y | X Y. X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<and> Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. language_ltln \\<phi> =\n    \\<Union>\n     {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter> L\\<^sub>3 X Y |X Y.\n      X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                    restricted_subformulas \\<phi> \\<and>\n      Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                    restricted_subformulas \\<phi>}", "proof safe"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> language_ltln \\<phi> \\<Longrightarrow>\n       x \\<in> \\<Union>\n                {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n                 L\\<^sub>3 X Y |\n                 X Y.\n                 X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi> \\<and>\n                 Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>}\n 2. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "fix w"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> language_ltln \\<phi> \\<Longrightarrow>\n       x \\<in> \\<Union>\n                {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n                 L\\<^sub>3 X Y |\n                 X Y.\n                 X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi> \\<and>\n                 Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>}\n 2. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "assume \"w \\<in> language_ltln \\<phi>\""], ["proof (state)\nthis:\n  w \\<in> language_ltln \\<phi>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> language_ltln \\<phi> \\<Longrightarrow>\n       x \\<in> \\<Union>\n                {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n                 L\\<^sub>3 X Y |\n                 X Y.\n                 X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi> \\<and>\n                 Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>}\n 2. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<in> language_ltln \\<phi>", "have \"w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\nusing this:\n  w \\<in> language_ltln \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>", "unfolding language_ltln_def"], ["proof (prove)\nusing this:\n  w \\<in> {\\<xi>. \\<xi> \\<Turnstile>\\<^sub>n \\<phi>}\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> language_ltln \\<phi> \\<Longrightarrow>\n       x \\<in> \\<Union>\n                {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n                 L\\<^sub>3 X Y |\n                 X Y.\n                 X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi> \\<and>\n                 Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>}\n 2. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>", "obtain X Y where\n        1: \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi>\"\n    and 2: \"Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>\"\n    and \"\\<exists>i. suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>\"\n    and \"\\<forall>\\<psi> \\<in> X. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)\"\n    and \"\\<forall>\\<psi> \\<in> Y. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<And>X Y.\n        \\<lbrakk>X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>;\n         Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n         \\<exists>i.\n            suffix i\n             w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>;\n         \\<forall>\\<psi>\\<in>X.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>);\n         \\<forall>\\<psi>\\<in>Y.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using master_theorem_restricted"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi> =\n  (\\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> ?\\<phi> \\<inter>\n                        restricted_subformulas ?\\<phi>.\n      \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> ?\\<phi> \\<inter>\n                           restricted_subformulas ?\\<phi>.\n         \\<exists>i.\n            suffix i\n             ?w \\<Turnstile>\\<^sub>n af ?\\<phi>\n(prefix i ?w)[X]\\<^sub>\\<nu> \\<and>\n            (\\<forall>\\<psi>\\<in>X.\n                ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n            (\\<forall>\\<psi>\\<in>Y.\n                ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)))\n\ngoal (1 subgoal):\n 1. (\\<And>X Y.\n        \\<lbrakk>X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>;\n         Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n         \\<exists>i.\n            suffix i\n             w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>;\n         \\<forall>\\<psi>\\<in>X.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>);\n         \\<forall>\\<psi>\\<in>Y.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  \\<exists>i.\n     suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>\n  \\<forall>\\<psi>\\<in>X.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)\n  \\<forall>\\<psi>\\<in>Y.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> language_ltln \\<phi> \\<Longrightarrow>\n       x \\<in> \\<Union>\n                {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n                 L\\<^sub>3 X Y |\n                 X Y.\n                 X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi> \\<and>\n                 Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>}\n 2. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "then"], ["proof (chain)\npicking this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  \\<exists>i.\n     suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>\n  \\<forall>\\<psi>\\<in>X.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)\n  \\<forall>\\<psi>\\<in>Y.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)", "have \"w \\<in> L\\<^sub>1 \\<phi> X\" and \"w \\<in> L\\<^sub>2 X Y\" and \"w \\<in> L\\<^sub>3 X Y\""], ["proof (prove)\nusing this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  \\<exists>i.\n     suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>\n  \\<forall>\\<psi>\\<in>X.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)\n  \\<forall>\\<psi>\\<in>Y.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)\n\ngoal (1 subgoal):\n 1. w \\<in> L\\<^sub>1 \\<phi> X &&&\n    w \\<in> L\\<^sub>2 X Y &&& w \\<in> L\\<^sub>3 X Y", "unfolding L\\<^sub>1_def L\\<^sub>2_def L\\<^sub>3_def"], ["proof (prove)\nusing this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  \\<exists>i.\n     suffix i w \\<Turnstile>\\<^sub>n af \\<phi> (prefix i w)[X]\\<^sub>\\<nu>\n  \\<forall>\\<psi>\\<in>X.\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)\n  \\<forall>\\<psi>\\<in>Y.\n     w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)\n\ngoal (1 subgoal):\n 1. w \\<in> {w. \\<exists>i.\n                   suffix i\n                    w \\<Turnstile>\\<^sub>n af \\<phi>\n      (prefix i w)[X]\\<^sub>\\<nu>} &&&\n    w \\<in> {w. \\<forall>\\<psi>\\<in>X.\n                   w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)} &&&\n    w \\<in> {w. \\<forall>\\<psi>\\<in>Y.\n                   w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)}", "by simp+"], ["proof (state)\nthis:\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       x \\<in> language_ltln \\<phi> \\<Longrightarrow>\n       x \\<in> \\<Union>\n                {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n                 L\\<^sub>3 X Y |\n                 X Y.\n                 X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi> \\<and>\n                 Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                               restricted_subformulas \\<phi>}\n 2. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y", "show \"w \\<in> \\<Union> {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter> L\\<^sub>3 X Y | X Y. X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<and> Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>}\""], ["proof (prove)\nusing this:\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y\n\ngoal (1 subgoal):\n 1. w \\<in> \\<Union>\n             {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n              L\\<^sub>3 X Y |\n              X Y.\n              X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi> \\<and>\n              Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>}", "using 1 2"], ["proof (prove)\nusing this:\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<in> \\<Union>\n             {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n              L\\<^sub>3 X Y |\n              X Y.\n              X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi> \\<and>\n              Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                            restricted_subformulas \\<phi>}", "by blast"], ["proof (state)\nthis:\n  w \\<in> \\<Union>\n           {L\\<^sub>1 \\<phi> X \\<inter> L\\<^sub>2 X Y \\<inter>\n            L\\<^sub>3 X Y |\n            X Y.\n            X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                          restricted_subformulas \\<phi> \\<and>\n            Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                          restricted_subformulas \\<phi>}\n\ngoal (1 subgoal):\n 1. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "fix w X Y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "assume \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi>\" and \"Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi>\"\n    and \"w \\<in> L\\<^sub>1 \\<phi> X\" and \"w \\<in> L\\<^sub>2 X Y\" and \"w \\<in> L\\<^sub>3 X Y\""], ["proof (state)\nthis:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y\n\ngoal (1 subgoal):\n 1. \\<And>x X Xa Y.\n       \\<lbrakk>x \\<in> L\\<^sub>3 Xa Y; x \\<in> L\\<^sub>1 \\<phi> Xa;\n        x \\<in> L\\<^sub>2 Xa Y;\n        Xa \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                       restricted_subformulas \\<phi>;\n        Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                      restricted_subformulas \\<phi>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> language_ltln \\<phi>", "then"], ["proof (chain)\npicking this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y", "show \"w \\<in> language_ltln \\<phi>\""], ["proof (prove)\nusing this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  w \\<in> L\\<^sub>1 \\<phi> X\n  w \\<in> L\\<^sub>2 X Y\n  w \\<in> L\\<^sub>3 X Y\n\ngoal (1 subgoal):\n 1. w \\<in> language_ltln \\<phi>", "unfolding language_ltln_def L\\<^sub>1_def L\\<^sub>2_def L\\<^sub>3_def"], ["proof (prove)\nusing this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  w \\<in> {w. \\<exists>i.\n                 suffix i\n                  w \\<Turnstile>\\<^sub>n af \\<phi>\n    (prefix i w)[X]\\<^sub>\\<nu>}\n  w \\<in> {w. \\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)}\n  w \\<in> {w. \\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)}\n\ngoal (1 subgoal):\n 1. w \\<in> {\\<xi>. \\<xi> \\<Turnstile>\\<^sub>n \\<phi>}", "using master_theorem_restricted"], ["proof (prove)\nusing this:\n  X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                restricted_subformulas \\<phi>\n  w \\<in> {w. \\<exists>i.\n                 suffix i\n                  w \\<Turnstile>\\<^sub>n af \\<phi>\n    (prefix i w)[X]\\<^sub>\\<nu>}\n  w \\<in> {w. \\<forall>\\<psi>\\<in>X.\n                 w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)}\n  w \\<in> {w. \\<forall>\\<psi>\\<in>Y.\n                 w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)}\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi> =\n  (\\<exists>X\\<subseteq>subformulas\\<^sub>\\<mu> ?\\<phi> \\<inter>\n                        restricted_subformulas ?\\<phi>.\n      \\<exists>Y\\<subseteq>subformulas\\<^sub>\\<nu> ?\\<phi> \\<inter>\n                           restricted_subformulas ?\\<phi>.\n         \\<exists>i.\n            suffix i\n             ?w \\<Turnstile>\\<^sub>n af ?\\<phi>\n(prefix i ?w)[X]\\<^sub>\\<nu> \\<and>\n            (\\<forall>\\<psi>\\<in>X.\n                ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[Y]\\<^sub>\\<mu>)) \\<and>\n            (\\<forall>\\<psi>\\<in>Y.\n                ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[X]\\<^sub>\\<nu>)))\n\ngoal (1 subgoal):\n 1. w \\<in> {\\<xi>. \\<xi> \\<Turnstile>\\<^sub>n \\<phi>}", "by blast"], ["proof (state)\nthis:\n  w \\<in> language_ltln \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Definitions with Lists for Code Export\\<close>"], ["", "definition restricted_advice_sets :: \"'a ltln \\<Rightarrow> ('a ltln list \\<times> 'a ltln list) list\"\nwhere\n  \"restricted_advice_sets \\<phi> = List.product (subseqs (List.filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<phi>))) (subseqs (List.filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<phi>)))\""], ["", "lemma subseqs_subformulas\\<^sub>\\<mu>_restricted_list:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<longleftrightarrow> (\\<exists>xs. X = set xs \\<and> xs \\<in> set (subseqs (List.filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>) (subformulas\\<^sub>\\<mu>_list \\<phi>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                   restricted_subformulas \\<phi>) =\n    (\\<exists>xs.\n        X = set xs \\<and>\n        xs \\<in> set (subseqs\n                       (filter\n                         (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n                         (subformulas\\<^sub>\\<mu>_list \\<phi>))))", "by (metis in_set_subseqs inf_commute inter_set_filter subformulas\\<^sub>\\<mu>_list_set subset_subseq)"], ["", "lemma subseqs_subformulas\\<^sub>\\<nu>_restricted_list:\n  \"Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<longleftrightarrow> (\\<exists>ys. Y = set ys \\<and> ys \\<in> set (subseqs (List.filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>) (subformulas\\<^sub>\\<nu>_list \\<phi>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                   restricted_subformulas \\<phi>) =\n    (\\<exists>ys.\n        Y = set ys \\<and>\n        ys \\<in> set (subseqs\n                       (filter\n                         (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n                         (subformulas\\<^sub>\\<nu>_list \\<phi>))))", "by (metis in_set_subseqs inf_commute inter_set_filter subformulas\\<^sub>\\<nu>_list_set subset_subseq)"], ["", "lemma restricted_advice_sets_subformulas:\n  \"X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<and> Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter> restricted_subformulas \\<phi> \\<longleftrightarrow> (\\<exists>xs ys. X = set xs \\<and> Y = set ys \\<and> (xs, ys) \\<in> set (restricted_advice_sets \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (X \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi> \\<inter>\n                   restricted_subformulas \\<phi> \\<and>\n     Y \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi> \\<inter>\n                   restricted_subformulas \\<phi>) =\n    (\\<exists>xs ys.\n        X = set xs \\<and>\n        Y = set ys \\<and>\n        (xs, ys) \\<in> set (restricted_advice_sets \\<phi>))", "unfolding restricted_advice_sets_def set_product subseqs_subformulas\\<^sub>\\<mu>_restricted_list subseqs_subformulas\\<^sub>\\<nu>_restricted_list"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<exists>xs.\n         X = set xs \\<and>\n         xs \\<in> set (subseqs\n                        (filter\n                          (\\<lambda>x.\n                              x \\<in> restricted_subformulas \\<phi>)\n                          (subformulas\\<^sub>\\<mu>_list \\<phi>)))) \\<and>\n     (\\<exists>ys.\n         Y = set ys \\<and>\n         ys \\<in> set (subseqs\n                        (filter\n                          (\\<lambda>x.\n                              x \\<in> restricted_subformulas \\<phi>)\n                          (subformulas\\<^sub>\\<nu>_list \\<phi>))))) =\n    (\\<exists>xs ys.\n        X = set xs \\<and>\n        Y = set ys \\<and>\n        (xs, ys)\n        \\<in> set (subseqs\n                    (filter\n                      (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n                      (subformulas\\<^sub>\\<mu>_list \\<phi>))) \\<times>\n              set (subseqs\n                    (filter\n                      (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n                      (subformulas\\<^sub>\\<nu>_list \\<phi>))))", "by blast"], ["", "lemma restricted_advice_sets_not_empty:\n  \"restricted_advice_sets \\<phi> \\<noteq> []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. restricted_advice_sets \\<phi> \\<noteq> []", "unfolding restricted_advice_sets_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. List.product\n     (subseqs\n       (filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n         (subformulas\\<^sub>\\<mu>_list \\<phi>)))\n     (subseqs\n       (filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n         (subformulas\\<^sub>\\<nu>_list \\<phi>))) \\<noteq>\n    []", "using subseqs_not_empty product_not_empty"], ["proof (prove)\nusing this:\n  subseqs ?xs \\<noteq> []\n  \\<lbrakk>?xs \\<noteq> []; ?ys \\<noteq> []\\<rbrakk>\n  \\<Longrightarrow> List.product ?xs ?ys \\<noteq> []\n\ngoal (1 subgoal):\n 1. List.product\n     (subseqs\n       (filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n         (subformulas\\<^sub>\\<mu>_list \\<phi>)))\n     (subseqs\n       (filter (\\<lambda>x. x \\<in> restricted_subformulas \\<phi>)\n         (subformulas\\<^sub>\\<nu>_list \\<phi>))) \\<noteq>\n    []", "by blast"], ["", "end"]]}