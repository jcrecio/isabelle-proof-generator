{"file_name": "/home/qj213/afp-2021-10-22/thys/Projective_Geometry/Desargues_2D.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Projective_Geometry", "problem_names": ["lemma coplanar_ABCA'B'C'P :\n  assumes \"rk {A, A'} = 2\" and \"rk {A, B, C, A', B', C'} = 3\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, B, C, A', B', C', P} = 3\"", "lemma non_colinear_A'B'P :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A', P} = 2\" and \"rk {B, B', P} = 2\" and \"rk {A', P} = 2\" \nand \"rk {B', P} = 2\"\n  shows \"rk {A', B', P} = 3\"", "lemma desargues_config_2D_non_collinear_P :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" \nand \"rk {C', P} = 2\"\n  shows \"rk {A', B', P} = 3\" and \"rk {A', C', P} = 3\" and \"rk {B', C', P} = 3\"", "lemma rk_A'B'PQ :\n  assumes \"rk {A, A'} = 2\" and \"rk {A, B, C, A', B', C'} = 3\" and \"rk {A, A', P} = 2\" and \n\"rk {A, B, P} = 3\" and \"rk {B, B', P} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \n\"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\n  shows \"rk {A', B', P, Q} = 4\"", "lemma desargues_config_2D_rkA'B'PQ_rkA'C'PQ_rkB'C'PQ :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\"\nand \"rk {C', P} = 2\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\n  shows \"rk {A', B', P, Q} = 4\" and \"rk {A', C', P, Q} = 4\" and \"rk {B', C', P, Q} = 4\"", "lemma rk_A'B'PR :\n  assumes \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {A', B', P, Q} = 4\"\nshows \"rk {A', B', P, R} = 4\"", "lemma rk_A'C'PR :\n  assumes \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {A', C', P, Q} = 4\"\n  shows \"rk {A', C', P, R} = 4\"", "lemma rk_B'C'PR :\n  assumes \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {B', C', P, Q} = 4\"\n  shows \"rk {B', C', P, R} = 4\"", "lemma rk_ABA' :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, B, A'} = 3\"", "lemma desargues_config_2D_non_collinear :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\"\n  shows \"rk {A, B, A'} = 3\" and \"rk {A, B, B'} = 3\" and \"rk {A, C, C'} = 3\"", "lemma rk_Aa :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\" and \"rk {Q, A', a} = 2\" \nand \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\" and \"rk {A, B, C, A', B', C'} \\<le> 3\"\n  shows \"rk {A, a} = 2\"", "lemma desargues_config_2D_rkAa_rkBb_rkCc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\"\n  shows \"rk {A, a} = 2\" and \"rk {B, b} = 2\" and \"rk {C, c} = 2\"", "lemma rk_ABPRa :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, B, C, A', B', C', P} = 3\" and \"rk {P, Q, R} = 2\" \nand \"rk {P, R} = 2\" and \"rk {A', B', P, Q} = 4\"\n  shows \"rk {A, B, P, R, a} \\<ge> 4\"", "lemma rk_ABPa :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\" and \"rk {Q, A', a} = 2\"\nand \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\" and \"rk {A, B, C, A', B', C', P} = 3\" and \"rk {P, Q, R} = 2\"\nand \"rk {P, R} = 2\" and \"rk {A', B', P, Q} = 4\" and \"rk {R, A, a} = 2\"\n  shows \"rk {A, B, P, a} \\<ge> 4\"", "lemma desargues_config_2D_rkABPa_rkABPb_rkABPc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\" \nand \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \n\"rk {Q, A', a} = 2\" and \"rk {R, A, a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {Q, C', c} = 2\" and \"rk {R, C, c} = 2\"\n  shows \"rk {A, B, P, a} \\<ge> 4\" and \"rk {A, B, P, b} \\<ge> 4\" and \"rk {A, B, P, c} \\<ge> 4\"", "lemma rk_AA'C :\n  assumes \"rk {A, C, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, A', C} \\<ge> 3\"", "lemma rk_AA'C' :\n  assumes \"rk {A', C', P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, A', C'} \\<ge> 3\"", "lemma rk_AA'Ca :\n  assumes \"rk {A, A', C} \\<ge> 3\" and \"rk {A, B, P, a} \\<ge> 4\" and \"rk {A, B, C, A', B', C', P} = 3\"\n  shows \"rk {A, A', C, a} \\<ge> 4\"", "lemma rk_AA'C'a :\n  assumes \"rk {A, A', C'} \\<ge> 3\" and \"rk {A, B, P, a} \\<ge> 4\" and \"rk {A, B, C, A', B', C', P} = 3\"\n  shows \"rk {A, A', C', a} \\<ge> 4\"", "lemma rk_Ra :\n  assumes \"rk {Q, A', a} = 2\" and \"rk {P, Q, R} = 2\" and \"rk {R, Q} = 2\" and \"rk {A, A', P} = 2\"\nand \"rk {A', P} = 2\" and \"rk {A, B, C, A', B', C', P} = 3\" and \"rk {A, B, A'} = 3\" and \n\"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\n  shows \"rk {R, a} = 2\"", "lemma desargues_config_2D_rkRa_rkRb_rkRc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {P, Q, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and\n\"rk {Q, C', c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {R, a} = 2\" and \"rk {R, b} = 2\" and \"rk {R, c} = 2\"", "lemma rk_acAC\\<beta> :\n  assumes \"rk {R, A, a} = 2\" and \"rk {R, C, c} = 2\" and \"rk {A, C} = 2\" and \"rk {A, C, \\<beta>} = 2\"\nand \"rk {Q, A', a} = 2\" and \"rk {A, A', C, a} \\<ge> 4\"\n  shows \"rk {a, c, A, C, \\<beta>} = 3\"", "lemma rk_acA'C'\\<beta> :\n  assumes \"rk {Q, A', a} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {A', C'} = 2\" and \"rk {A', C', \\<beta>} = 2\"\nand \"rk {R, A, a} = 2\" and \"rk {A', A, C', a} \\<ge> 4\"\n  shows \"rk {a, c, A', C', \\<beta>} = 3\"", "lemma plane_representation_change :\n  assumes \"rk {A, B, C, P} = 3\" and \"rk {B, C, P} = 3\" and \"rk {A, B, C, Q} = 4\"\n  shows \"rk {P, B, C, Q} = 4\"", "lemma desargues_config_2D_rkABCP :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\"\n  shows \"rk {A, B, C, P} = 3\"", "lemma desargues_config_2D_rkABCabc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {R, A, a} = 2\" and\n\"rk {A', P} = 2\" and \"rk {B', P} = 2\"\n  shows \"rk {A, B, C, a, b, c} \\<ge> 4\"", "lemma rk_abc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, b, c} = 3\"", "lemma rk_ac\\<beta> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, c, \\<beta>} = 2\"", "lemma rk_ab\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, b, \\<gamma>} = 2\"", "lemma rk_bc\\<alpha> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {b, c, \\<alpha>} = 2\"", "lemma rk_abc\\<alpha>\\<beta>\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3\"", "lemma rk_ABC\\<alpha>\\<beta>\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3\"", "lemma rk_\\<alpha>\\<beta>\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\"", "lemma rk_\\<alpha>\\<beta>\\<gamma>_special_case_1 :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A', P} = 1\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\"", "lemma rk_\\<alpha>\\<beta>\\<gamma>_special_case_2 :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {B', P} = 1\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\"", "lemma rk_\\<alpha>\\<beta>\\<gamma>_special_case_3 :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {C', P} = 1\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\"", "theorem desargues_2D :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], "translations": [["", "lemma coplanar_ABCA'B'C'P :\n  assumes \"rk {A, A'} = 2\" and \"rk {A, B, C, A', B', C'} = 3\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "have \"rk {A, B, C, A', B', C', P} + rk {A, A'} \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} + rk {A, A'}\n    \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}", "using matroid_ax_3_alt[of \"{A, A'}\" \"{A, B, C, A', B', C'}\" \"{A, A', P}\"]"], ["proof (prove)\nusing this:\n  {A, A'}\n  \\<subseteq> {A, B, C, A', B', C'} \\<inter> {A, A', P} \\<Longrightarrow>\n  rk ({A, B, C, A', B', C'} \\<union> {A, A', P}) + rk {A, A'}\n  \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} + rk {A, A'}\n    \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} + rk {A, A'}\n  \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P} + rk {A, A'}\n  \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}", "have \"rk {A, B, C, A', B', C', P} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} + rk {A, A'}\n  \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} \\<le> 3", "using assms(1) assms(2) assms(3)"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} + rk {A, A'}\n  \\<le> rk {A, B, C, A', B', C'} + rk {A, A', P}\n  rk {A, A'} = 2\n  rk {A, B, C, A', B', C'} = 3\n  rk {A, A', P} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} \\<le> 3", "by linarith"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P} \\<le> 3", "show \"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using assms(2) matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} \\<le> 3\n  rk {A, B, C, A', B', C'} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by (metis Un_insert_right Un_upper2 le_antisym sup_bot.right_neutral)"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma non_colinear_A'B'P :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A', P} = 2\" and \"rk {B, B', P} = 2\" and \"rk {A', P} = 2\" \nand \"rk {B', P} = 2\"\n  shows \"rk {A', B', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "have f1:\"rk {A', B', P} \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P} \\<le> 3", "using rk_triple_le"], ["proof (prove)\nusing this:\n  rk {?A, ?B, ?C} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A', B', P} \\<le> 3", "by auto"], ["proof (state)\nthis:\n  rk {A', B', P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "have \"rk {A, B, A', B', P} \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, A', B', P}", "using assms(1) matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, P} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, A', B', P}", "by (metis insert_mono insert_subset subset_insertI)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, B, A', B', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "then"], ["proof (chain)\npicking this:\n  3 \\<le> rk {A, B, A', B', P}", "have f2:\"rk {A, B, A', B', P} = 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {A, B, A', B', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, A', B', P} = 3", "using matroid_ax_3_alt[of \"{P}\" \"{A, A', P}\" \"{B, B', P}\"] assms(2) assms(3)"], ["proof (prove)\nusing this:\n  3 \\<le> rk {A, B, A', B', P}\n  {P} \\<subseteq> {A, A', P} \\<inter> {B, B', P} \\<Longrightarrow>\n  rk ({A, A', P} \\<union> {B, B', P}) + rk {P}\n  \\<le> rk {A, A', P} + rk {B, B', P}\n  rk {A, A', P} = 2\n  rk {B, B', P} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, A', B', P} = 3", "by (simp add: insert_commute rk_singleton)"], ["proof (state)\nthis:\n  rk {A, B, A', B', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "have \"rk {A, B, A', B', P} + rk {B', P} \\<le> rk {A, A', B', P} + rk {B, B', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, A', B', P} + rk {B', P}\n    \\<le> rk {A, A', B', P} + rk {B, B', P}", "using matroid_ax_3_alt[of \"{B', P}\" \"{A, A', B', P}\" \"{B, B', P}\"]"], ["proof (prove)\nusing this:\n  {B', P} \\<subseteq> {A, A', B', P} \\<inter> {B, B', P} \\<Longrightarrow>\n  rk ({A, A', B', P} \\<union> {B, B', P}) + rk {B', P}\n  \\<le> rk {A, A', B', P} + rk {B, B', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, A', B', P} + rk {B', P}\n    \\<le> rk {A, A', B', P} + rk {B, B', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, A', B', P} + rk {B', P} \\<le> rk {A, A', B', P} + rk {B, B', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, A', B', P} + rk {B', P} \\<le> rk {A, A', B', P} + rk {B, B', P}", "have \"rk {A, A', B', P} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, B, A', B', P} + rk {B', P} \\<le> rk {A, A', B', P} + rk {B, B', P}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', B', P}", "using f2 assms(3) assms(5)"], ["proof (prove)\nusing this:\n  rk {A, B, A', B', P} + rk {B', P} \\<le> rk {A, A', B', P} + rk {B, B', P}\n  rk {A, B, A', B', P} = 3\n  rk {B, B', P} = 2\n  rk {B', P} = 2\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', B', P}", "by linarith"], ["proof (state)\nthis:\n  3 \\<le> rk {A, A', B', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "then"], ["proof (chain)\npicking this:\n  3 \\<le> rk {A, A', B', P}", "have f3:\"rk {A, A', B', P} = 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {A, A', B', P}\n\ngoal (1 subgoal):\n 1. rk {A, A', B', P} = 3", "using f2 matroid_ax_2"], ["proof (prove)\nusing this:\n  3 \\<le> rk {A, A', B', P}\n  rk {A, B, A', B', P} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A, A', B', P} = 3", "by (metis eq_iff insert_commute subset_insertI)"], ["proof (state)\nthis:\n  rk {A, A', B', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "have \"rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}", "using matroid_ax_3_alt[of \"{A', P}\" \"{A', B', P}\" \"{A, A', P}\"]"], ["proof (prove)\nusing this:\n  {A', P} \\<subseteq> {A', B', P} \\<inter> {A, A', P} \\<Longrightarrow>\n  rk ({A', B', P} \\<union> {A, A', P}) + rk {A', P}\n  \\<le> rk {A', B', P} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}", "have \"rk {A', B', P} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A', B', P}", "using f3 assms(2) assms(4)"], ["proof (prove)\nusing this:\n  rk {A, A', B', P} + rk {A', P} \\<le> rk {A', B', P} + rk {A, A', P}\n  rk {A, A', B', P} = 3\n  rk {A, A', P} = 2\n  rk {A', P} = 2\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A', B', P}", "by linarith"], ["proof (state)\nthis:\n  3 \\<le> rk {A', B', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "thus \"rk {A', B', P} = 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {A', B', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "using f1"], ["proof (prove)\nusing this:\n  3 \\<le> rk {A', B', P}\n  rk {A', B', P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A', B', P} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_non_collinear_P :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" \nand \"rk {C', P} = 2\"\n  shows \"rk {A', B', P} = 3\" and \"rk {A', C', P} = 3\" and \"rk {B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3 &&& rk {A', C', P} = 3 &&& rk {B', C', P} = 3", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. rk {A', B', P} = 3\n 2. rk {A', C', P} = 3\n 3. rk {B', C', P} = 3", "show \"rk {A', B', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "using non_colinear_A'B'P assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) \n      assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A', ?P} = 2; rk {?B, ?B', ?P} = 2;\n   rk {?A', ?P} = 2; rk {?B', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?B', ?P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n\ngoal (1 subgoal):\n 1. rk {A', B', P} = 3", "by blast"], ["proof (state)\nthis:\n  rk {A', B', P} = 3\n\ngoal (2 subgoals):\n 1. rk {A', C', P} = 3\n 2. rk {B', C', P} = 3", "show \"rk {A', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', C', P} = 3", "using non_colinear_A'B'P assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) \n      assms(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A', ?P} = 2; rk {?B, ?B', ?P} = 2;\n   rk {?A', ?P} = 2; rk {?B', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?B', ?P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {A', C', P} = 3", "by blast"], ["proof (state)\nthis:\n  rk {A', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {B', C', P} = 3", "show \"rk {B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {B', C', P} = 3", "using non_colinear_A'B'P assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(3) \n      assms(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A', ?P} = 2; rk {?B, ?B', ?P} = 2;\n   rk {?A', ?P} = 2; rk {?B', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?B', ?P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {B', C', P} = 3", "by blast"], ["proof (state)\nthis:\n  rk {B', C', P} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_A'B'PQ :\n  assumes \"rk {A, A'} = 2\" and \"rk {A, B, C, A', B', C'} = 3\" and \"rk {A, A', P} = 2\" and \n\"rk {A, B, P} = 3\" and \"rk {B, B', P} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \n\"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\n  shows \"rk {A', B', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "have \"card {A', B', P, Q} \\<le> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card {A', B', P, Q} \\<le> 4", "by (smt One_nat_def Suc_numeral card.insert card.empty finite.emptyI finite_insert insert_absorb \n        insert_not_empty linear nat_add_left_cancel_le numeral_3_eq_3 numeral_Bit0 numeral_code(3) \n        numeral_le_one_iff numerals(1) one_plus_numeral semiring_norm(4) semiring_norm(69) \n        semiring_norm(70) semiring_norm(8))"], ["proof (state)\nthis:\n  card {A', B', P, Q} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "then"], ["proof (chain)\npicking this:\n  card {A', B', P, Q} \\<le> 4", "have f1:\"rk {A', B', P, Q} \\<le> 4\""], ["proof (prove)\nusing this:\n  card {A', B', P, Q} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} \\<le> 4", "using matroid_ax_1b dual_order.trans"], ["proof (prove)\nusing this:\n  card {A', B', P, Q} \\<le> 4\n  rk ?X \\<le> card ?X\n  \\<lbrakk>?b \\<le> ?a; ?c \\<le> ?b\\<rbrakk> \\<Longrightarrow> ?c \\<le> ?a\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} \\<le> 4", "by blast"], ["proof (state)\nthis:\n  rk {A', B', P, Q} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "have \"rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} + rk {A', B', P}\n    \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}", "using matroid_ax_3_alt[of \"{A', B', P}\" \"{A', B', P, Q}\" \"{A, B, C, A', B', C', P}\"]"], ["proof (prove)\nusing this:\n  {A', B', P}\n  \\<subseteq> {A', B', P, Q} \\<inter>\n              {A, B, C, A', B', C', P} \\<Longrightarrow>\n  rk ({A', B', P, Q} \\<union> {A, B, C, A', B', C', P}) + rk {A', B', P}\n  \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} + rk {A', B', P}\n    \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P}\n  \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P}\n  \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}", "have \"rk {A', B', P, Q} \\<ge> rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} - rk {A, B, C, A', B', C', P}\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P}\n  \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} -\n    rk {A, B, C, A', B', C', P}\n    \\<le> rk {A', B', P, Q}", "using le_diff_conv"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P}\n  \\<le> rk {A', B', P, Q} + rk {A, B, C, A', B', C', P}\n  (?j - ?k \\<le> ?i) = (?j \\<le> ?i + ?k)\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} -\n    rk {A, B, C, A', B', C', P}\n    \\<le> rk {A', B', P, Q}", "by blast"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} -\n  rk {A, B, C, A', B', C', P}\n  \\<le> rk {A', B', P, Q}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} -\n  rk {A, B, C, A', B', C', P}\n  \\<le> rk {A', B', P, Q}", "have f2:\"rk {A', B', P, Q} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} -\n  rk {A, B, C, A', B', C', P}\n  \\<le> rk {A', B', P, Q}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, Q}", "using assms non_colinear_A'B'P coplanar_ABCA'B'C'P"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A', B', P} -\n  rk {A, B, C, A', B', C', P}\n  \\<le> rk {A', B', P, Q}\n  rk {A, A'} = 2\n  rk {A, B, C, A', B', C'} = 3\n  rk {A, A', P} = 2\n  rk {A, B, P} = 3\n  rk {B, B', P} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A', ?P} = 2; rk {?B, ?B', ?P} = 2;\n   rk {?A', ?P} = 2; rk {?B', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?B', ?P} = 3\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, Q}", "by (smt diff_add_inverse2 le_trans)"], ["proof (state)\nthis:\n  4 \\<le> rk {A', B', P, Q}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "from f1 and f2"], ["proof (chain)\npicking this:\n  rk {A', B', P, Q} \\<le> 4\n  4 \\<le> rk {A', B', P, Q}", "show \"rk {A', B', P, Q} = 4\""], ["proof (prove)\nusing this:\n  rk {A', B', P, Q} \\<le> 4\n  4 \\<le> rk {A', B', P, Q}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "by (simp add: f1 eq_iff)"], ["proof (state)\nthis:\n  rk {A', B', P, Q} = 4\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_rkA'B'PQ_rkA'C'PQ_rkB'C'PQ :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\"\nand \"rk {C', P} = 2\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\n  shows \"rk {A', B', P, Q} = 4\" and \"rk {A', C', P, Q} = 4\" and \"rk {B', C', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4 &&&\n    rk {A', C', P, Q} = 4 &&& rk {B', C', P, Q} = 4", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. rk {A', B', P, Q} = 4\n 2. rk {A', C', P, Q} = 4\n 3. rk {B', C', P, Q} = 4", "show \"rk {A', B', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "using rk_A'B'PQ[of \"A\" \"A'\" \"B\" \"C\" \"B'\" \"C'\" \"P\" \"Q\"] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      assms(2) assms(3) assms(5)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {A, A'} = 2; rk {A, B, C, A', B', C'} = 3; rk {A, A', P} = 2;\n   rk {A, B, P} = 3; rk {B, B', P} = 2; rk {A', P} = 2; rk {B', P} = 2;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {A', B', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "by blast"], ["proof (state)\nthis:\n  rk {A', B', P, Q} = 4\n\ngoal (2 subgoals):\n 1. rk {A', C', P, Q} = 4\n 2. rk {B', C', P, Q} = 4", "show \"rk {A', C', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', C', P, Q} = 4", "using rk_A'B'PQ[of \"A\" \"A'\" \"C\" \"B\" \"C'\" \"B'\" \"P\" \"Q\"] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      assms(2) assms(4) assms(5)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {A, A'} = 2; rk {A, C, B, A', C', B'} = 3; rk {A, A', P} = 2;\n   rk {A, C, P} = 3; rk {C, C', P} = 2; rk {A', P} = 2; rk {C', P} = 2;\n   4 \\<le> rk {A, C, B, A', C', B', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {A', C', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A', P} = 2\n  rk {C', P} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n\ngoal (1 subgoal):\n 1. rk {A', C', P, Q} = 4", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {A', C', P, Q} = 4\n\ngoal (1 subgoal):\n 1. rk {B', C', P, Q} = 4", "show \"rk {B', C', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {B', C', P, Q} = 4", "using rk_A'B'PQ[of \"B\" \"B'\" \"C\" \"A\" \"C'\" \"A'\" \"P\" \"Q\"] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      assms(3) assms(4) assms(5)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {B, B'} = 2; rk {B, C, A, B', C', A'} = 3; rk {B, B', P} = 2;\n   rk {B, C, P} = 3; rk {C, C', P} = 2; rk {B', P} = 2; rk {C', P} = 2;\n   4 \\<le> rk {B, C, A, B', C', A', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {B', C', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n\ngoal (1 subgoal):\n 1. rk {B', C', P, Q} = 4", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {B', C', P, Q} = 4\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_A'B'PR :\n  assumes \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {A', B', P, Q} = 4\"\nshows \"rk {A', B', P, R} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "have \"card {A', B', P, R} \\<le> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card {A', B', P, R} \\<le> 4", "by (smt Suc_numeral assms(2) card.empty card_insert_disjoint dual_order.trans finite.emptyI \n        finite_insert insert_absorb linear nat_add_left_cancel_le numeral_2_eq_2 numeral_3_eq_3 \n        numeral_Bit0 numeral_code(3) numeral_le_one_iff rk_singleton rk_triple_le semiring_norm(2) \n        semiring_norm(69) semiring_norm(8))"], ["proof (state)\nthis:\n  card {A', B', P, R} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "then"], ["proof (chain)\npicking this:\n  card {A', B', P, R} \\<le> 4", "have f1:\"rk {A', B', P, R} \\<le> 4\""], ["proof (prove)\nusing this:\n  card {A', B', P, R} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} \\<le> 4", "using dual_order.trans matroid_ax_1b"], ["proof (prove)\nusing this:\n  card {A', B', P, R} \\<le> 4\n  \\<lbrakk>?b \\<le> ?a; ?c \\<le> ?b\\<rbrakk> \\<Longrightarrow> ?c \\<le> ?a\n  rk ?X \\<le> card ?X\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} \\<le> 4", "by auto"], ["proof (state)\nthis:\n  rk {A', B', P, R} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "have f2:\"rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}", "using matroid_ax_3_alt[of \"{P, R}\" \"{A', B', P, R}\" \"{P, Q, R}\"]"], ["proof (prove)\nusing this:\n  {P, R} \\<subseteq> {A', B', P, R} \\<inter> {P, Q, R} \\<Longrightarrow>\n  rk ({A', B', P, R} \\<union> {P, Q, R}) + rk {P, R}\n  \\<le> rk {A', B', P, R} + rk {P, Q, R}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "have f3:\"rk {A', B', P, Q, R} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, Q, R}", "using matroid_ax_2 assms(3)"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  rk {A', B', P, Q} = 4\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, Q, R}", "by (metis insert_mono subset_insertI)"], ["proof (state)\nthis:\n  4 \\<le> rk {A', B', P, Q, R}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "from f2 and f3"], ["proof (chain)\npicking this:\n  rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}\n  4 \\<le> rk {A', B', P, Q, R}", "have f4:\"rk {A', B', P, R} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}\n  4 \\<le> rk {A', B', P, Q, R}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, R}", "using assms(1) assms(2)"], ["proof (prove)\nusing this:\n  rk {A', B', P, Q, R} + rk {P, R} \\<le> rk {A', B', P, R} + rk {P, Q, R}\n  4 \\<le> rk {A', B', P, Q, R}\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, R}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {A', B', P, R}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "thus \"rk {A', B', P, R} = 4\""], ["proof (prove)\nusing this:\n  4 \\<le> rk {A', B', P, R}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "using f1 f4"], ["proof (prove)\nusing this:\n  4 \\<le> rk {A', B', P, R}\n  rk {A', B', P, R} \\<le> 4\n  4 \\<le> rk {A', B', P, R}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} = 4", "by (simp add: f1 le_antisym)"], ["proof (state)\nthis:\n  rk {A', B', P, R} = 4\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_A'C'PR :\n  assumes \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {A', C', P, Q} = 4\"\n  shows \"rk {A', C', P, R} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', C', P, R} = 4", "using assms(1) assms(2) assms(3) rk_A'B'PR"], ["proof (prove)\nusing this:\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {A', C', P, Q} = 4\n  \\<lbrakk>rk {?P, ?Q, ?R} = 2; rk {?P, ?R} = 2;\n   rk {?A', ?B', ?P, ?Q} = 4\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?B', ?P, ?R} = 4\n\ngoal (1 subgoal):\n 1. rk {A', C', P, R} = 4", "by blast"], ["", "lemma rk_B'C'PR :\n  assumes \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {B', C', P, Q} = 4\"\n  shows \"rk {B', C', P, R} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {B', C', P, R} = 4", "using assms(1) assms(2) assms(3) rk_A'C'PR"], ["proof (prove)\nusing this:\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {B', C', P, Q} = 4\n  \\<lbrakk>rk {?P, ?Q, ?R} = 2; rk {?P, ?R} = 2;\n   rk {?A', ?C', ?P, ?Q} = 4\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?C', ?P, ?R} = 4\n\ngoal (1 subgoal):\n 1. rk {B', C', P, R} = 4", "by blast"], ["", "lemma rk_ABA' :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, B, A'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "have \"rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}", "using matroid_ax_3_alt[of \"{A, A'}\" \"{A, B, A'}\" \"{A, A', P}\"]"], ["proof (prove)\nusing this:\n  {A, A'} \\<subseteq> {A, B, A'} \\<inter> {A, A', P} \\<Longrightarrow>\n  rk ({A, B, A'} \\<union> {A, A', P}) + rk {A, A'}\n  \\<le> rk {A, B, A'} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}", "have \"rk {A, B, A'} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, A'}", "using assms matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, A', P} + rk {A, A'} \\<le> rk {A, B, A'} + rk {A, A', P}\n  rk {A, B, P} = 3\n  rk {A, A'} = 2\n  rk {A, A', P} = 2\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, A'}", "by (smt eq_iff insert_absorb2 insert_commute non_colinear_A'B'P rk_couple)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, B, A'}\n\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "thus \"rk {A, B, A'} = 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {A, B, A'}\n\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "by (simp add: le_antisym rk_triple_le)"], ["proof (state)\nthis:\n  rk {A, B, A'} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_non_collinear :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\"\n  shows \"rk {A, B, A'} = 3\" and \"rk {A, B, B'} = 3\" and \"rk {A, C, C'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3 &&& rk {A, B, B'} = 3 &&& rk {A, C, C'} = 3", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. rk {A, B, A'} = 3\n 2. rk {A, B, B'} = 3\n 3. rk {A, C, C'} = 3", "show \"rk {A, B, A'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "using assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] rk_ABA'"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?A'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, A'} = 3\n\ngoal (2 subgoals):\n 1. rk {A, B, B'} = 3\n 2. rk {A, C, C'} = 3", "show \"rk {A, B, B'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, B'} = 3", "using assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] rk_ABA'"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?A'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, B'} = 3", "by (smt insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, B'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "show \"rk {A, C, C'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "using assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] rk_ABA'"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?A'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "by (smt insert_commute)"], ["proof (state)\nthis:\n  rk {A, C, C'} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_Aa :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\" and \"rk {Q, A', a} = 2\" \nand \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\" and \"rk {A, B, C, A', B', C'} \\<le> 3\"\n  shows \"rk {A, a} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "have \"rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}", "using matroid_ax_3_alt[of \"{a}\" \"{Q, A', a}\" \"{A, a}\"]"], ["proof (prove)\nusing this:\n  {a} \\<subseteq> {Q, A', a} \\<inter> {A, a} \\<Longrightarrow>\n  rk ({Q, A', a} \\<union> {A, a}) + rk {a} \\<le> rk {Q, A', a} + rk {A, a}\n\ngoal (1 subgoal):\n 1. rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}", "have \"rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}\""], ["proof (prove)\nusing this:\n  rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}\n\ngoal (1 subgoal):\n 1. rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}", "using add_le_imp_le_diff"], ["proof (prove)\nusing this:\n  rk {Q, A', A, a} + rk {a} \\<le> rk {Q, A', a} + rk {A, a}\n  ?i + ?k \\<le> ?n \\<Longrightarrow> ?i \\<le> ?n - ?k\n\ngoal (1 subgoal):\n 1. rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}", "by blast"], ["proof (state)\nthis:\n  rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}", "have \"rk {Q, A', A, a} \\<le> 2\" if \"rk {A, a} = 1\""], ["proof (prove)\nusing this:\n  rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}\n\ngoal (1 subgoal):\n 1. rk {Q, A', A, a} \\<le> 2", "using assms(4)"], ["proof (prove)\nusing this:\n  rk {Q, A', A, a} \\<le> rk {Q, A', a} + rk {A, a} - rk {a}\n  rk {Q, A', a} = 2\n\ngoal (1 subgoal):\n 1. rk {Q, A', A, a} \\<le> 2", "by (simp add: rk_singleton that)"], ["proof (state)\nthis:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A, a} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A, a} \\<le> 2", "have \"rk {Q, A', A} \\<le> 2\" if \"rk {A, a} = 1\""], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A, a} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {Q, A', A} \\<le> 2", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A, a} \\<le> 2\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {Q, A', A} \\<le> 2", "by (metis One_nat_def assms(4) le_numeral_extra(4) nat_add_left_cancel_le numeral_2_eq_2 \n        numeral_3_eq_3 one_add_one rk_couple rk_triple_le that)"], ["proof (state)\nthis:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} \\<le> 2", "have \"rk {Q, A', A} = 2\" if \"rk {A, a} = 1\""], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {Q, A', A} = 2", "using assms(2) matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} \\<le> 2\n  rk {A, A'} = 2\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {Q, A', A} = 2", "by (metis assms(4) numeral_eq_one_iff rk_couple semiring_norm(85) that)"], ["proof (state)\nthis:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} = 2\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} = 2", "have \"rk {A, A', P, Q} = 2\" if \"rk {A, a} = 1\""], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} = 2\n\ngoal (1 subgoal):\n 1. rk {A, A', P, Q} = 2", "using assms(3) matroid_ax_3_alt'[of \"{A, A'}\" \"P\" \"Q\"]"], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {Q, A', A} = 2\n  rk {A, A', P} = 2\n  rk ({A, A'} \\<union> {P}) = rk ({A, A'} \\<union> {Q}) \\<longrightarrow>\n  rk ({A, A'} \\<union> {Q}) = rk {A, A'} \\<longrightarrow>\n  rk {A, A'} = rk ({A, A'} \\<union> {P, Q})\n\ngoal (1 subgoal):\n 1. rk {A, A', P, Q} = 2", "by (simp add: assms(2) insert_commute that)"], ["proof (state)\nthis:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, A', P, Q} = 2\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, A', P, Q} = 2", "have f1:\"rk {A, A', B, P, Q} \\<le> 3\" if \"rk {A, a} = 1\""], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, A', P, Q} = 2\n\ngoal (1 subgoal):\n 1. rk {A, A', B, P, Q} \\<le> 3", "by (metis One_nat_def Un_insert_right add.right_neutral add_Suc_right insert_commute matroid_ax_2_alt \n        numeral_2_eq_2 numeral_3_eq_3 sup_bot.right_neutral that)"], ["proof (state)\nthis:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, A', B, P, Q} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "have \"rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'} \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'}\n    \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}", "using matroid_ax_3_alt[of \"{A, B, A'}\" \"{A, A', B, P, Q}\" \"{A, B, C, A', B', C'}\"]"], ["proof (prove)\nusing this:\n  {A, B, A'}\n  \\<subseteq> {A, A', B, P, Q} \\<inter>\n              {A, B, C, A', B', C'} \\<Longrightarrow>\n  rk ({A, A', B, P, Q} \\<union> {A, B, C, A', B', C'}) + rk {A, B, A'}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'}\n    \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}", "have \"rk {A, B, C, A', B', C', P, Q} \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'} - rk {A, B, A'}\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q}\n    \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'} - rk {A, B, A'}", "by linarith"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P, Q}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'} - rk {A, B, A'}\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P, Q}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'} - rk {A, B, A'}", "have \"rk {A, B, C, A', B', C', P, Q} \\<le> 3\" if \"rk {A, a} = 1\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'} - rk {A, B, A'}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} \\<le> 3", "using assms(1) assms(2) assms(3) assms(6) f1 rk_ABA'"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q}\n  \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'} - rk {A, B, A'}\n  rk {A, B, P} = 3\n  rk {A, A'} = 2\n  rk {A, A', P} = 2\n  rk {A, B, C, A', B', C'} \\<le> 3\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, A', B, P, Q} \\<le> 3\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?A'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} \\<le> 3", "by (smt \\<open>rk {A, B, C, A', B', C', P, Q} + rk {A, B, A'} \\<le> rk {A, A', B, P, Q} + rk {A, B, C, A', B', C'}\\<close> \n        add_diff_cancel_right' add_leD2 le_less_trans not_le \n        ordered_cancel_comm_monoid_diff_class.add_diff_inverse \n        ordered_cancel_comm_monoid_diff_class.le_add_diff that)"], ["proof (state)\nthis:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, B, C, A', B', C', P, Q} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, B, C, A', B', C', P, Q} \\<le> 3", "have \"\\<not> (rk {A, a} = 1)\""], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, B, C, A', B', C', P, Q} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, a} \\<noteq> 1", "using assms(5)"], ["proof (prove)\nusing this:\n  rk {A, a} = 1 \\<Longrightarrow> rk {A, B, C, A', B', C', P, Q} \\<le> 3\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n\ngoal (1 subgoal):\n 1. rk {A, a} \\<noteq> 1", "by linarith"], ["proof (state)\nthis:\n  rk {A, a} \\<noteq> 1\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "thus \"rk {A, a} = 2\""], ["proof (prove)\nusing this:\n  rk {A, a} \\<noteq> 1\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "using rk_couple rk_singleton_bis"], ["proof (prove)\nusing this:\n  rk {A, a} \\<noteq> 1\n  ?A \\<noteq> ?B \\<Longrightarrow> rk {?A, ?B} = 2\n  ?A = ?B \\<Longrightarrow> rk {?A, ?B} = 1\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "by blast"], ["proof (state)\nthis:\n  rk {A, a} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_rkAa_rkBb_rkCc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\"\n  shows \"rk {A, a} = 2\" and \"rk {B, b} = 2\" and \"rk {C, c} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, a} = 2 &&& rk {B, b} = 2 &&& rk {C, c} = 2", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. rk {A, a} = 2\n 2. rk {B, b} = 2\n 3. rk {C, c} = 2", "show \"rk {A, a} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "using rk_Aa assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2; rk {?A, ?A', ?P} = 2;\n   rk {?Q, ?A', ?a} = 2; 4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q};\n   rk {?A, ?B, ?C, ?A', ?B', ?C'} \\<le> 3\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?a} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "by (metis rk_triple_le)"], ["proof (state)\nthis:\n  rk {A, a} = 2\n\ngoal (2 subgoals):\n 1. rk {B, b} = 2\n 2. rk {C, c} = 2", "show \"rk {B, b} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {B, b} = 2", "using rk_Aa assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) assms(4)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2; rk {?A, ?A', ?P} = 2;\n   rk {?Q, ?A', ?a} = 2; 4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q};\n   rk {?A, ?B, ?C, ?A', ?B', ?C'} \\<le> 3\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?a} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, B', b} = 2\n\ngoal (1 subgoal):\n 1. rk {B, b} = 2", "by (smt insert_commute rk_triple_le)"], ["proof (state)\nthis:\n  rk {B, b} = 2\n\ngoal (1 subgoal):\n 1. rk {C, c} = 2", "show \"rk {C, c} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {C, c} = 2", "using rk_Aa[of \"C\" \"A\" \"P\" \"C'\" \"Q\" \"c\" \"B\" \"B'\" \"A'\"] assms(1) \n      desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) assms(5)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {C, A, P} = 3; rk {C, C'} = 2; rk {C, C', P} = 2;\n   rk {Q, C', c} = 2; 4 \\<le> rk {C, A, B, C', B', A', P, Q};\n   rk {C, A, B, C', B', A'} \\<le> 3\\<rbrakk>\n  \\<Longrightarrow> rk {C, c} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, C', c} = 2\n\ngoal (1 subgoal):\n 1. rk {C, c} = 2", "by (metis insert_commute rk_triple_le)"], ["proof (state)\nthis:\n  rk {C, c} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_ABPRa :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, B, C, A', B', C', P} = 3\" and \"rk {P, Q, R} = 2\" \nand \"rk {P, R} = 2\" and \"rk {A', B', P, Q} = 4\"\n  shows \"rk {A, B, P, R, a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "have \"rk {A', B', P, R, a, A, B} \\<ge> rk {A', B', P, R}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, R} \\<le> rk {A', B', P, R, a, A, B}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R} \\<le> rk {A', B', P, R, a, A, B}", "by auto"], ["proof (state)\nthis:\n  rk {A', B', P, R} \\<le> rk {A', B', P, R, a, A, B}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "then"], ["proof (chain)\npicking this:\n  rk {A', B', P, R} \\<le> rk {A', B', P, R, a, A, B}", "have f1:\"rk {A', B', P, R, a, A, B} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A', B', P, R} \\<le> rk {A', B', P, R, a, A, B}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, R, a, A, B}", "using rk_A'B'PR assms(3) assms(4) assms(5)"], ["proof (prove)\nusing this:\n  rk {A', B', P, R} \\<le> rk {A', B', P, R, a, A, B}\n  \\<lbrakk>rk {?P, ?Q, ?R} = 2; rk {?P, ?R} = 2;\n   rk {?A', ?B', ?P, ?Q} = 4\\<rbrakk>\n  \\<Longrightarrow> rk {?A', ?B', ?P, ?R} = 4\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {A', B', P, Q} = 4\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', B', P, R, a, A, B}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A', B', P, R, a, A, B}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "have f2:\"rk {A', B', A, B, P} \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', A, B, P} \\<le> 3", "using matroid_ax_2 assms(2)"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A', B', A, B, P} \\<le> 3", "by (smt insertI1 insert_subset subset_insertI)"], ["proof (state)\nthis:\n  rk {A', B', A, B, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "have \"rk {A', B', P, R, a, A, B} + rk {A, B, P} \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, R, a, A, B} + rk {A, B, P}\n    \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}", "using matroid_ax_3_alt[of \"{A, B, P}\" \"{A, B, P, R, a}\" \"{A', B', A, B, P}\"]"], ["proof (prove)\nusing this:\n  {A, B, P}\n  \\<subseteq> {A, B, P, R, a} \\<inter> {A', B', A, B, P} \\<Longrightarrow>\n  rk ({A, B, P, R, a} \\<union> {A', B', A, B, P}) + rk {A, B, P}\n  \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R, a, A, B} + rk {A, B, P}\n    \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A', B', P, R, a, A, B} + rk {A, B, P}\n  \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "then"], ["proof (chain)\npicking this:\n  rk {A', B', P, R, a, A, B} + rk {A, B, P}\n  \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}", "have \"rk {A, B, P, R, a} \\<ge> rk {A', B', P, R, a, A, B} + rk {A, B, P} - rk {A', B', A, B, P}\""], ["proof (prove)\nusing this:\n  rk {A', B', P, R, a, A, B} + rk {A, B, P}\n  \\<le> rk {A, B, P, R, a} + rk {A', B', A, B, P}\n\ngoal (1 subgoal):\n 1. rk {A', B', P, R, a, A, B} + rk {A, B, P} - rk {A', B', A, B, P}\n    \\<le> rk {A, B, P, R, a}", "by linarith"], ["proof (state)\nthis:\n  rk {A', B', P, R, a, A, B} + rk {A, B, P} - rk {A', B', A, B, P}\n  \\<le> rk {A, B, P, R, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "thus \"rk {A, B, P, R, a} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A', B', P, R, a, A, B} + rk {A, B, P} - rk {A', B', A, B, P}\n  \\<le> rk {A, B, P, R, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "using f1 assms(1) f2"], ["proof (prove)\nusing this:\n  rk {A', B', P, R, a, A, B} + rk {A, B, P} - rk {A', B', A, B, P}\n  \\<le> rk {A, B, P, R, a}\n  4 \\<le> rk {A', B', P, R, a, A, B}\n  rk {A, B, P} = 3\n  rk {A', B', A, B, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, R, a}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_ABPa :\n  assumes \"rk {A, B, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\" and \"rk {Q, A', a} = 2\"\nand \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\" and \"rk {A, B, C, A', B', C', P} = 3\" and \"rk {P, Q, R} = 2\"\nand \"rk {P, R} = 2\" and \"rk {A', B', P, Q} = 4\" and \"rk {R, A, a} = 2\"\n  shows \"rk {A, B, P, a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "have \"rk {A, B, C, A', B', C'} \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C'} \\<le> 3", "using matroid_ax_2 assms(6)"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C'} \\<le> 3", "by (smt insert_iff subsetI)"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C'} \\<le> 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C'} \\<le> 3", "have f1:\"rk {A, a} = 2\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C'} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "using assms(1) assms(2) assms(3) assms(4) assms(5) rk_Aa"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C'} \\<le> 3\n  rk {A, B, P} = 3\n  rk {A, A'} = 2\n  rk {A, A', P} = 2\n  rk {Q, A', a} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2; rk {?A, ?A', ?P} = 2;\n   rk {?Q, ?A', ?a} = 2; 4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q};\n   rk {?A, ?B, ?C, ?A', ?B', ?C'} \\<le> 3\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?a} = 2\n\ngoal (1 subgoal):\n 1. rk {A, a} = 2", "by blast"], ["proof (state)\nthis:\n  rk {A, a} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "have f2:\"rk {A, B, P, R, a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "using assms(1) assms(6) assms(7) assms(8) assms(9) rk_ABPRa"], ["proof (prove)\nusing this:\n  rk {A, B, P} = 3\n  rk {A, B, C, A', B', C', P} = 3\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {A', B', P, Q} = 4\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3;\n   rk {?P, ?Q, ?R} = 2; rk {?P, ?R} = 2; rk {?A', ?B', ?P, ?Q} = 4\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?B, ?P, ?R, ?a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, a}", "by blast"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, R, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "have \"rk {A, B, P, R, a} + rk {A, a} \\<le> rk {A, B, P, a} + rk {R, A, a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, P, R, a} + rk {A, a} \\<le> rk {A, B, P, a} + rk {R, A, a}", "using matroid_ax_3_alt[of \"{A, a}\" \"{A, B, P, a}\" \"{R, A, a}\"]"], ["proof (prove)\nusing this:\n  {A, a} \\<subseteq> {A, B, P, a} \\<inter> {R, A, a} \\<Longrightarrow>\n  rk ({A, B, P, a} \\<union> {R, A, a}) + rk {A, a}\n  \\<le> rk {A, B, P, a} + rk {R, A, a}\n\ngoal (1 subgoal):\n 1. rk {A, B, P, R, a} + rk {A, a} \\<le> rk {A, B, P, a} + rk {R, A, a}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, P, R, a} + rk {A, a} \\<le> rk {A, B, P, a} + rk {R, A, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "thus \"rk {A, B, P, a} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, P, R, a} + rk {A, a} \\<le> rk {A, B, P, a} + rk {R, A, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "using f1 f2 assms(10)"], ["proof (prove)\nusing this:\n  rk {A, B, P, R, a} + rk {A, a} \\<le> rk {A, B, P, a} + rk {R, A, a}\n  rk {A, a} = 2\n  4 \\<le> rk {A, B, P, R, a}\n  rk {R, A, a} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "by (smt add_le_imp_le_diff diff_add_inverse2 order_trans)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, a}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_rkABPa_rkABPb_rkABPc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\" \nand \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \n\"rk {Q, A', a} = 2\" and \"rk {R, A, a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {Q, C', c} = 2\" and \"rk {R, C, c} = 2\"\n  shows \"rk {A, B, P, a} \\<ge> 4\" and \"rk {A, B, P, b} \\<ge> 4\" and \"rk {A, B, P, c} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a} &&&\n    4 \\<le> rk {A, B, P, b} &&& 4 \\<le> rk {A, B, P, c}", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. 4 \\<le> rk {A, B, P, a}\n 2. 4 \\<le> rk {A, B, P, b}\n 3. 4 \\<le> rk {A, B, P, c}", "have f1:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] coplanar_ABCA'B'C'P"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (3 subgoals):\n 1. 4 \\<le> rk {A, B, P, a}\n 2. 4 \\<le> rk {A, B, P, b}\n 3. 4 \\<le> rk {A, B, P, c}", "have f2:\"rk {A', B', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) assms(5) assms(6) \n      rk_A'B'PQ[of \"A\" \"A'\" \"B\" \"C\" \"B'\" \"C'\" \"P\" \"Q\"]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {A', P} = 2\n  rk {B', P} = 2\n  \\<lbrakk>rk {A, A'} = 2; rk {A, B, C, A', B', C'} = 3; rk {A, A', P} = 2;\n   rk {A, B, P} = 3; rk {B, B', P} = 2; rk {A', P} = 2; rk {B', P} = 2;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {A', B', P, Q} = 4\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "by auto"], ["proof (state)\nthis:\n  rk {A', B', P, Q} = 4\n\ngoal (3 subgoals):\n 1. 4 \\<le> rk {A, B, P, a}\n 2. 4 \\<le> rk {A, B, P, b}\n 3. 4 \\<le> rk {A, B, P, c}", "show \"rk {A, B, P, a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "using f1 f2 assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(7) assms(2) assms(3) \n      assms(4) assms(8) rk_ABPa"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A', B', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {Q, A', a} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {R, A, a} = 2\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2; rk {?A, ?A', ?P} = 2;\n   rk {?Q, ?A', ?a} = 2; 4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q};\n   rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3; rk {?P, ?Q, ?R} = 2;\n   rk {?P, ?R} = 2; rk {?A', ?B', ?P, ?Q} = 4; rk {?R, ?A, ?a} = 2\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?B, ?P, ?a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, a}\n\ngoal (2 subgoals):\n 1. 4 \\<le> rk {A, B, P, b}\n 2. 4 \\<le> rk {A, B, P, c}", "show \"rk {A, B, P, b} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, b}", "using f1 f2 assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(9) assms(2) assms(3) \n      assms(4) assms(10) rk_ABPa[of \"B\" \"A\" \"P\" \"B'\" \"Q\" \"b\" \"C\" \"A'\" \"C'\" \"R\"]"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A', B', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {Q, B', b} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {R, B, b} = 2\n  \\<lbrakk>rk {B, A, P} = 3; rk {B, B'} = 2; rk {B, B', P} = 2;\n   rk {Q, B', b} = 2; 4 \\<le> rk {B, A, C, B', A', C', P, Q};\n   rk {B, A, C, B', A', C', P} = 3; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {B', A', P, Q} = 4; rk {R, B, b} = 2\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {B, A, P, b}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, b}", "by (metis insert_commute)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, b}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "show \"rk {A, B, P, c} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "have f3:\"rk {A, B, P, R, c} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, c}", "using rk_ABPRa[of A B P C A' B' C' Q R c] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n        f1 assms(3) assms(4) f2"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {A, B, P} = 3; rk {A, B, C, A', B', C', P} = 3;\n   rk {P, Q, R} = 2; rk {P, R} = 2; rk {A', B', P, Q} = 4\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {A, B, P, R, c}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A, B, C, A', B', C', P} = 3\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {A', B', P, Q} = 4\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, R, c}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, R, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "have \"{A, B, P, R, c} \\<subseteq> {A, B, C, P, R, c}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A, B, P, R, c} \\<subseteq> {A, B, C, P, R, c}", "by auto"], ["proof (state)\nthis:\n  {A, B, P, R, c} \\<subseteq> {A, B, C, P, R, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "then"], ["proof (chain)\npicking this:\n  {A, B, P, R, c} \\<subseteq> {A, B, C, P, R, c}", "have f4:\"rk {A, B, C, P, R, c} \\<ge> 4\""], ["proof (prove)\nusing this:\n  {A, B, P, R, c} \\<subseteq> {A, B, C, P, R, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, P, R, c}", "using matroid_ax_2 f3"], ["proof (prove)\nusing this:\n  {A, B, P, R, c} \\<subseteq> {A, B, C, P, R, c}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  4 \\<le> rk {A, B, P, R, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, P, R, c}", "by (meson dual_order.trans)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, P, R, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "have \"rk {A, B, C, P, R, c} + rk {C, c} \\<le> rk {A, B, C, P, c} + rk {R, C, c}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, P, R, c} + rk {C, c}\n    \\<le> rk {A, B, C, P, c} + rk {R, C, c}", "using matroid_ax_3_alt[of \"{C,c}\" \"{A, B, C, P, c}\" \"{R, C, c}\"]"], ["proof (prove)\nusing this:\n  {C, c} \\<subseteq> {A, B, C, P, c} \\<inter> {R, C, c} \\<Longrightarrow>\n  rk ({A, B, C, P, c} \\<union> {R, C, c}) + rk {C, c}\n  \\<le> rk {A, B, C, P, c} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P, R, c} + rk {C, c}\n    \\<le> rk {A, B, C, P, c} + rk {R, C, c}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, P, R, c} + rk {C, c} \\<le> rk {A, B, C, P, c} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, P, R, c} + rk {C, c} \\<le> rk {A, B, C, P, c} + rk {R, C, c}", "have f5:\"rk {A, B, C, P, c} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, P, R, c} + rk {C, c} \\<le> rk {A, B, C, P, c} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, P, c}", "using f4 assms(12) desargues_config_2D_rkAa_rkBb_rkCc assms(1) assms(9) assms(11) assms(2) assms(7)"], ["proof (prove)\nusing this:\n  rk {A, B, C, P, R, c} + rk {C, c} \\<le> rk {A, B, C, P, c} + rk {R, C, c}\n  4 \\<le> rk {A, B, C, P, R, c}\n  rk {R, C, c} = 2\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q}; rk {?Q, ?A', ?a} = 2;\n   rk {?Q, ?B', ?b} = 2; rk {?Q, ?C', ?c} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?a} = 2\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q}; rk {?Q, ?A', ?a} = 2;\n   rk {?Q, ?B', ?b} = 2; rk {?Q, ?C', ?c} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?B, ?b} = 2\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q}; rk {?Q, ?A', ?a} = 2;\n   rk {?Q, ?B', ?b} = 2; rk {?Q, ?C', ?c} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?C, ?c} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, P, c}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, P, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "have f6:\"rk {A, B, C, P} \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, P} \\<le> 3", "using matroid_ax_2 f1"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} \\<le> 3", "by (smt insert_iff subsetI)"], ["proof (state)\nthis:\n  rk {A, B, C, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "have \"rk {A, B, C, P, c} + rk {A, B, P} \\<le> rk {A, B, P, c} + rk {A, B, C, P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, P, c} + rk {A, B, P}\n    \\<le> rk {A, B, P, c} + rk {A, B, C, P}", "using matroid_ax_3_alt[of \"{A, B, P}\" \"{A, B, P, c}\" \"{A, B, C, P}\"]"], ["proof (prove)\nusing this:\n  {A, B, P} \\<subseteq> {A, B, P, c} \\<inter> {A, B, C, P} \\<Longrightarrow>\n  rk ({A, B, P, c} \\<union> {A, B, C, P}) + rk {A, B, P}\n  \\<le> rk {A, B, P, c} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P, c} + rk {A, B, P}\n    \\<le> rk {A, B, P, c} + rk {A, B, C, P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, P, c} + rk {A, B, P} \\<le> rk {A, B, P, c} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, P, c} + rk {A, B, P} \\<le> rk {A, B, P, c} + rk {A, B, C, P}", "have \"rk {A, B, P, c} \\<ge> rk {A, B, C, P, c}\""], ["proof (prove)\nusing this:\n  rk {A, B, C, P, c} + rk {A, B, P} \\<le> rk {A, B, P, c} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P, c} \\<le> rk {A, B, P, c}", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] f6"], ["proof (prove)\nusing this:\n  rk {A, B, C, P, c} + rk {A, B, P} \\<le> rk {A, B, P, c} + rk {A, B, C, P}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A, B, C, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P, c} \\<le> rk {A, B, P, c}", "by linarith"], ["proof (state)\nthis:\n  rk {A, B, C, P, c} \\<le> rk {A, B, P, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "thus \"rk {A, B, P, c} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, P, c} \\<le> rk {A, B, P, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "using f5"], ["proof (prove)\nusing this:\n  rk {A, B, C, P, c} \\<le> rk {A, B, P, c}\n  4 \\<le> rk {A, B, C, P, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, c}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, c}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, c}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_AA'C :\n  assumes \"rk {A, C, P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, A', C} \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "have f1:\"rk {A, C, A', P} \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, C, A', P}", "using assms(1) matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, C, P} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, C, A', P}", "by (metis insert_commute subset_insertI)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, C, A', P}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "have \"rk {A, C, A', P} + rk {A, A'} \\<le> rk {A, A', C} + rk {A, A', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, C, A', P} + rk {A, A'} \\<le> rk {A, A', C} + rk {A, A', P}", "using matroid_ax_3_alt[of \"{A, A'}\" \"{A, A', C}\" \"{A, A', P}\"]"], ["proof (prove)\nusing this:\n  {A, A'} \\<subseteq> {A, A', C} \\<inter> {A, A', P} \\<Longrightarrow>\n  rk ({A, A', C} \\<union> {A, A', P}) + rk {A, A'}\n  \\<le> rk {A, A', C} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {A, C, A', P} + rk {A, A'} \\<le> rk {A, A', C} + rk {A, A', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, C, A', P} + rk {A, A'} \\<le> rk {A, A', C} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "thus \"rk {A, A', C} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, C, A', P} + rk {A, A'} \\<le> rk {A, A', C} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "using f1 assms(2) assms(3)"], ["proof (prove)\nusing this:\n  rk {A, C, A', P} + rk {A, A'} \\<le> rk {A, A', C} + rk {A, A', P}\n  3 \\<le> rk {A, C, A', P}\n  rk {A, A'} = 2\n  rk {A, A', P} = 2\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "by linarith"], ["proof (state)\nthis:\n  3 \\<le> rk {A, A', C}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_AA'C' :\n  assumes \"rk {A', C', P} = 3\" and \"rk {A, A'} = 2\" and \"rk {A, A', P} = 2\"\n  shows \"rk {A, A', C'} \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C'}", "by (smt assms(1) assms(2) assms(3) insert_commute rk_AA'C)"], ["", "lemma rk_AA'Ca :\n  assumes \"rk {A, A', C} \\<ge> 3\" and \"rk {A, B, P, a} \\<ge> 4\" and \"rk {A, B, C, A', B', C', P} = 3\"\n  shows \"rk {A, A', C, a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "have f1:\"rk {A, A', C, a, B, P} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a, B, P}", "using assms(2) matroid_ax_2"], ["proof (prove)\nusing this:\n  4 \\<le> rk {A, B, P, a}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a, B, P}", "by (smt dual_order.trans insert_commute insert_mono insert_subset subset_insertI)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, A', C, a, B, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "have f2:\"rk {A, B, C, P, A'} \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, P, A'} \\<le> 3", "using assms(3) matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P, A'} \\<le> 3", "by (smt empty_subsetI insert_commute insert_mono semiring_norm(3))"], ["proof (state)\nthis:\n  rk {A, B, C, P, A'} \\<le> 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "have \"rk {A, A', C, a, B, P} + rk {A, A', C} \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', C, a, B, P} + rk {A, A', C}\n    \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}", "using matroid_ax_3_alt[of \"{A, A', C}\" \"{A, A', C, a}\" \"{A, B, C, P, A'}\"]"], ["proof (prove)\nusing this:\n  {A, A', C}\n  \\<subseteq> {A, A', C, a} \\<inter> {A, B, C, P, A'} \\<Longrightarrow>\n  rk ({A, A', C, a} \\<union> {A, B, C, P, A'}) + rk {A, A', C}\n  \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, B, P} + rk {A, A', C}\n    \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', C, a, B, P} + rk {A, A', C}\n  \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "then"], ["proof (chain)\npicking this:\n  rk {A, A', C, a, B, P} + rk {A, A', C}\n  \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}", "have \"rk {A, A', C, a} \\<ge> rk {A, A', C, a, B, P} + rk {A, A', C} - rk {A, B, C, P, A'}\""], ["proof (prove)\nusing this:\n  rk {A, A', C, a, B, P} + rk {A, A', C}\n  \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, B, P} + rk {A, A', C} - rk {A, B, C, P, A'}\n    \\<le> rk {A, A', C, a}", "using le_diff_conv"], ["proof (prove)\nusing this:\n  rk {A, A', C, a, B, P} + rk {A, A', C}\n  \\<le> rk {A, A', C, a} + rk {A, B, C, P, A'}\n  (?j - ?k \\<le> ?i) = (?j \\<le> ?i + ?k)\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, B, P} + rk {A, A', C} - rk {A, B, C, P, A'}\n    \\<le> rk {A, A', C, a}", "by blast"], ["proof (state)\nthis:\n  rk {A, A', C, a, B, P} + rk {A, A', C} - rk {A, B, C, P, A'}\n  \\<le> rk {A, A', C, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "thus \"rk {A, A', C, a} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, A', C, a, B, P} + rk {A, A', C} - rk {A, B, C, P, A'}\n  \\<le> rk {A, A', C, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "using f1 assms(1) f2"], ["proof (prove)\nusing this:\n  rk {A, A', C, a, B, P} + rk {A, A', C} - rk {A, B, C, P, A'}\n  \\<le> rk {A, A', C, a}\n  4 \\<le> rk {A, A', C, a, B, P}\n  3 \\<le> rk {A, A', C}\n  rk {A, B, C, P, A'} \\<le> 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {A, A', C, a}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_AA'C'a :\n  assumes \"rk {A, A', C'} \\<ge> 3\" and \"rk {A, B, P, a} \\<ge> 4\" and \"rk {A, B, C, A', B', C', P} = 3\"\n  shows \"rk {A, A', C', a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C', a}", "by (smt assms(1) assms(2) assms(3) insert_commute rk_AA'Ca)"], ["", "lemma rk_Ra :\n  assumes \"rk {Q, A', a} = 2\" and \"rk {P, Q, R} = 2\" and \"rk {R, Q} = 2\" and \"rk {A, A', P} = 2\"\nand \"rk {A', P} = 2\" and \"rk {A, B, C, A', B', C', P} = 3\" and \"rk {A, B, A'} = 3\" and \n\"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\n  shows \"rk {R, a} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "have \"R = a\" if \"rk {R, a} = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R = a", "using rk_couple_to_singleton"], ["proof (prove)\nusing this:\n  rk {?A, ?B} = 1 \\<Longrightarrow> ?A = ?B\n\ngoal (1 subgoal):\n 1. R = a", "by (simp add: that)"], ["proof (state)\nthis:\n  rk {R, a} = 1 \\<Longrightarrow> R = a\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {R, a} = 1 \\<Longrightarrow> R = a", "have \"rk {R, Q, A'} = 2\" if \"rk {R, a} = 1\""], ["proof (prove)\nusing this:\n  rk {R, a} = 1 \\<Longrightarrow> R = a\n\ngoal (1 subgoal):\n 1. rk {R, Q, A'} = 2", "using assms(1)"], ["proof (prove)\nusing this:\n  rk {R, a} = 1 \\<Longrightarrow> R = a\n  rk {Q, A', a} = 2\n\ngoal (1 subgoal):\n 1. rk {R, Q, A'} = 2", "by (simp add: insert_commute that)"], ["proof (state)\nthis:\n  rk {R, a} = 1 \\<Longrightarrow> rk {R, Q, A'} = 2\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {R, a} = 1 \\<Longrightarrow> rk {R, Q, A'} = 2", "have f1:\"rk {P, Q, R, A'} = 2\" if \"rk {R, a} = 1\""], ["proof (prove)\nusing this:\n  rk {R, a} = 1 \\<Longrightarrow> rk {R, Q, A'} = 2\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A'} = 2", "using assms(2) assms(3) matroid_ax_3_alt'"], ["proof (prove)\nusing this:\n  rk {R, a} = 1 \\<Longrightarrow> rk {R, Q, A'} = 2\n  rk {P, Q, R} = 2\n  rk {R, Q} = 2\n  rk (?X \\<union> {?y}) = rk (?X \\<union> {?z}) \\<longrightarrow>\n  rk (?X \\<union> {?z}) = rk ?X \\<longrightarrow>\n  rk ?X = rk (?X \\<union> {?y, ?z})\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A'} = 2", "by (metis Un_empty_right Un_insert_right insert_commute that)"], ["proof (state)\nthis:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A'} = 2\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "have \"rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}", "using matroid_ax_3_alt[of \"{A', P}\" \"{A, A', P}\" \"{P, Q, R, A'}\"]"], ["proof (prove)\nusing this:\n  {A', P} \\<subseteq> {A, A', P} \\<inter> {P, Q, R, A'} \\<Longrightarrow>\n  rk ({A, A', P} \\<union> {P, Q, R, A'}) + rk {A', P}\n  \\<le> rk {A, A', P} + rk {P, Q, R, A'}\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}", "have \"rk {P, Q, R, A', A} = 2\" if \"rk {R, a} = 1\""], ["proof (prove)\nusing this:\n  rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A} = 2", "using assms(4) f1 assms(5)"], ["proof (prove)\nusing this:\n  rk {P, Q, R, A', A} + rk {A', P} \\<le> rk {A, A', P} + rk {P, Q, R, A'}\n  rk {A, A', P} = 2\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A'} = 2\n  rk {A', P} = 2\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A} = 2", "by (metis Un_insert_right add_le_cancel_right insert_is_Un le_antisym matroid_ax_2 subset_insertI that)"], ["proof (state)\nthis:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A} = 2\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A} = 2", "have f2:\"rk {P, Q, R, A', A, B} \\<le> 3\" if \"rk {R, a} = 1\""], ["proof (prove)\nusing this:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A} = 2\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A, B} \\<le> 3", "using matroid_ax_2_alt[of \"{P, Q, R, A', A}\" \"B\"]"], ["proof (prove)\nusing this:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A} = 2\n  rk {P, Q, R, A', A} \\<le> rk ({P, Q, R, A', A} \\<union> {B}) \\<and>\n  rk ({P, Q, R, A', A} \\<union> {B}) \\<le> rk {P, Q, R, A', A} + 1\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A, B} \\<le> 3", "by (simp add: insert_commute that)"], ["proof (state)\nthis:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A, B} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "have f3:\"rk {A, B, A', P} \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, A', P}", "using assms(7) matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, A'} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, A', P}", "by (metis insert_commute subset_insertI)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, B, A', P}\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "have \"rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P} \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P}\n    \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}", "using matroid_ax_3_alt[of \"{A, B, A', P}\" \"{P, Q, R, A', A, B}\" \"{A, B, C, A', B', C', P}\"]"], ["proof (prove)\nusing this:\n  {A, B, A', P}\n  \\<subseteq> {P, Q, R, A', A, B} \\<inter>\n              {A, B, C, A', B', C', P} \\<Longrightarrow>\n  rk ({P, Q, R, A', A, B} \\<union> {A, B, C, A', B', C', P}) +\n  rk {A, B, A', P}\n  \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P}\n    \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P}\n  \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "then"], ["proof (chain)\npicking this:\n  rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P}\n  \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}", "have f4:\"rk {P, Q, R, A', A, B, C, B', C'} \\<le> 3\" if \"rk {R, a} = 1\""], ["proof (prove)\nusing this:\n  rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P}\n  \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A, B, C, B', C'} \\<le> 3", "using f2 f3 assms(6) that"], ["proof (prove)\nusing this:\n  rk {P, Q, R, A', A, B, C, B', C'} + rk {A, B, A', P}\n  \\<le> rk {P, Q, R, A', A, B} + rk {A, B, C, A', B', C', P}\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A, B} \\<le> 3\n  3 \\<le> rk {A, B, A', P}\n  rk {A, B, C, A', B', C', P} = 3\n  rk {R, a} = 1\n\ngoal (1 subgoal):\n 1. rk {P, Q, R, A', A, B, C, B', C'} \\<le> 3", "by linarith"], ["proof (state)\nthis:\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A, B, C, B', C'} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "have f5:\"rk {P, Q, R, A', A, B, C, B', C'} \\<ge> rk {A, B, C, A', B', C', P, Q}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} \\<le> rk {P, Q, R, A', A, B, C, B', C'}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P, Q} \\<le> rk {P, Q, R, A', A, B, C, B', C'}", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P, Q} \\<le> rk {P, Q, R, A', A, B, C, B', C'}\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "thus \"rk {R, a} = 2\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} \\<le> rk {P, Q, R, A', A, B, C, B', C'}\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "using f4 f5 assms(8)"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P, Q} \\<le> rk {P, Q, R, A', A, B, C, B', C'}\n  rk {R, a} = 1 \\<Longrightarrow> rk {P, Q, R, A', A, B, C, B', C'} \\<le> 3\n  rk {A, B, C, A', B', C', P, Q} \\<le> rk {P, Q, R, A', A, B, C, B', C'}\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "by (smt Suc_1 Suc_le_eq add_Suc add_Suc_right nat_1_add_1 not_le numeral_2_eq_2 numeral_3_eq_3 \n        numeral_Bit0 order.trans rk_couple rk_singleton_bis)"], ["proof (state)\nthis:\n  rk {R, a} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_rkRa_rkRb_rkRc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {P, Q, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and\n\"rk {Q, C', c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {R, a} = 2\" and \"rk {R, b} = 2\" and \"rk {R, c} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {R, a} = 2 &&& rk {R, b} = 2 &&& rk {R, c} = 2", "proof-"], ["proof (state)\ngoal (3 subgoals):\n 1. rk {R, a} = 2\n 2. rk {R, b} = 2\n 3. rk {R, c} = 2", "have f1:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using coplanar_ABCA'B'C'P assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by blast"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (3 subgoals):\n 1. rk {R, a} = 2\n 2. rk {R, b} = 2\n 3. rk {R, c} = 2", "have f2:\"rk {A, B, A'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "using desargues_config_2D_non_collinear assms(1)"], ["proof (prove)\nusing this:\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?A'} = 3\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?B'} = 3\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?C, ?C'} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {A, B, A'} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, A'} = 3\n\ngoal (3 subgoals):\n 1. rk {R, a} = 2\n 2. rk {R, b} = 2\n 3. rk {R, c} = 2", "have f3:\"rk {A, B, B'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, B'} = 3", "using desargues_config_2D_non_collinear assms(1)"], ["proof (prove)\nusing this:\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?A'} = 3\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?B'} = 3\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?C, ?C'} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {A, B, B'} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, B'} = 3\n\ngoal (3 subgoals):\n 1. rk {R, a} = 2\n 2. rk {R, b} = 2\n 3. rk {R, c} = 2", "have f4:\"rk {A, C, C'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "using desargues_config_2D_non_collinear assms(1)"], ["proof (prove)\nusing this:\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?A'} = 3\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?B'} = 3\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?C, ?C'} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, C, C'} = 3\n\ngoal (3 subgoals):\n 1. rk {R, a} = 2\n 2. rk {R, b} = 2\n 3. rk {R, c} = 2", "show \"rk {R, a} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "using f1 f2 rk_Ra[of Q A' a P R A B C B' C'] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      assms(2) assms(3) assms(4) assms(5) assms(8)"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, B, A'} = 3\n  \\<lbrakk>rk {Q, A', a} = 2; rk {P, Q, R} = 2; rk {R, Q} = 2;\n   rk {A, A', P} = 2; rk {A', P} = 2; rk {A, B, C, A', B', C', P} = 3;\n   rk {A, B, A'} = 3; 4 \\<le> rk {A, B, C, A', B', C', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {R, a} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {P, Q, R} = 2\n  rk {Q, R} = 2\n  rk {Q, A', a} = 2\n  rk {A', P} = 2\n\ngoal (1 subgoal):\n 1. rk {R, a} = 2", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {R, a} = 2\n\ngoal (2 subgoals):\n 1. rk {R, b} = 2\n 2. rk {R, c} = 2", "show \"rk {R, b} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {R, b} = 2", "using f1 f3 rk_Ra[of Q B' b P R B A C A' C'] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      assms(2) assms(3) assms(4) assms(6) assms(9)"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, B, B'} = 3\n  \\<lbrakk>rk {Q, B', b} = 2; rk {P, Q, R} = 2; rk {R, Q} = 2;\n   rk {B, B', P} = 2; rk {B', P} = 2; rk {B, A, C, B', A', C', P} = 3;\n   rk {B, A, B'} = 3; 4 \\<le> rk {B, A, C, B', A', C', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {R, b} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {P, Q, R} = 2\n  rk {Q, R} = 2\n  rk {Q, B', b} = 2\n  rk {B', P} = 2\n\ngoal (1 subgoal):\n 1. rk {R, b} = 2", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {R, b} = 2\n\ngoal (1 subgoal):\n 1. rk {R, c} = 2", "show \"rk {R, c} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {R, c} = 2", "using f1 f4 rk_Ra[of Q C' c P R C A B A' B'] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]\n      assms(2) assms(3) assms(4) assms(7) assms(10)"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, C, C'} = 3\n  \\<lbrakk>rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {R, Q} = 2;\n   rk {C, C', P} = 2; rk {C', P} = 2; rk {C, A, B, C', A', B', P} = 3;\n   rk {C, A, C'} = 3; 4 \\<le> rk {C, A, B, C', A', B', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {R, c} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {P, Q, R} = 2\n  rk {Q, R} = 2\n  rk {Q, C', c} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {R, c} = 2", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {R, c} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_acAC\\<beta> :\n  assumes \"rk {R, A, a} = 2\" and \"rk {R, C, c} = 2\" and \"rk {A, C} = 2\" and \"rk {A, C, \\<beta>} = 2\"\nand \"rk {Q, A', a} = 2\" and \"rk {A, A', C, a} \\<ge> 4\"\n  shows \"rk {a, c, A, C, \\<beta>} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "have \"rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}", "using matroid_ax_3_alt[of \"{R}\" \"{R, A, a}\" \"{R, C, c}\"]"], ["proof (prove)\nusing this:\n  {R} \\<subseteq> {R, A, a} \\<inter> {R, C, c} \\<Longrightarrow>\n  rk ({R, A, a} \\<union> {R, C, c}) + rk {R}\n  \\<le> rk {R, A, a} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}", "have f1:\"rk {a, c, A, C, R} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R} \\<le> 3", "using assms(1) assms(2)"], ["proof (prove)\nusing this:\n  rk {a, c, A, C, R} + rk {R} \\<le> rk {R, A, a} + rk {R, C, c}\n  rk {R, A, a} = 2\n  rk {R, C, c} = 2\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R} \\<le> 3", "by (metis Suc_1 Suc_eq_plus1 Suc_le_mono add_Suc_right numeral_3_eq_3 numeral_nat(1) numerals(1) \n        rk_singleton)"], ["proof (state)\nthis:\n  rk {a, c, A, C, R} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "have \"rk {a, c, A, C, R, \\<beta>} + rk {A, C} \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R, \\<beta>} + rk {A, C}\n    \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}", "using matroid_ax_3_alt[of \"{A, C}\" \"{a, c, A, C, R}\" \"{A, C, \\<beta>}\"]"], ["proof (prove)\nusing this:\n  {A, C}\n  \\<subseteq> {a, c, A, C, R} \\<inter> {A, C, \\<beta>} \\<Longrightarrow>\n  rk ({a, c, A, C, R} \\<union> {A, C, \\<beta>}) + rk {A, C}\n  \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R, \\<beta>} + rk {A, C}\n    \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, c, A, C, R, \\<beta>} + rk {A, C}\n  \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, c, A, C, R, \\<beta>} + rk {A, C}\n  \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}", "have f2:\"rk {a, c, A, C, R, \\<beta>} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {a, c, A, C, R, \\<beta>} + rk {A, C}\n  \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R, \\<beta>} \\<le> 3", "using f1 assms(3) assms(4)"], ["proof (prove)\nusing this:\n  rk {a, c, A, C, R, \\<beta>} + rk {A, C}\n  \\<le> rk {a, c, A, C, R} + rk {A, C, \\<beta>}\n  rk {a, c, A, C, R} \\<le> 3\n  rk {A, C} = 2\n  rk {A, C, \\<beta>} = 2\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, R, \\<beta>} \\<le> 3", "by linarith"], ["proof (state)\nthis:\n  rk {a, c, A, C, R, \\<beta>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "have \"{a, c, A, C, \\<beta>} \\<subseteq> {a, c, A, C, R, \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {a, c, A, C, \\<beta>} \\<subseteq> {a, c, A, C, R, \\<beta>}", "by auto"], ["proof (state)\nthis:\n  {a, c, A, C, \\<beta>} \\<subseteq> {a, c, A, C, R, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "then"], ["proof (chain)\npicking this:\n  {a, c, A, C, \\<beta>} \\<subseteq> {a, c, A, C, R, \\<beta>}", "have f3:\"rk {a, c, A, C, \\<beta>} \\<le> 3\""], ["proof (prove)\nusing this:\n  {a, c, A, C, \\<beta>} \\<subseteq> {a, c, A, C, R, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} \\<le> 3", "using matroid_ax_2 f2"], ["proof (prove)\nusing this:\n  {a, c, A, C, \\<beta>} \\<subseteq> {a, c, A, C, R, \\<beta>}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  rk {a, c, A, C, R, \\<beta>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} \\<le> 3", "by (meson order_trans)"], ["proof (state)\nthis:\n  rk {a, c, A, C, \\<beta>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "have f4:\"rk {A, A', C, a, c, Q} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a, c, Q}", "using matroid_ax_2 assms(6)"], ["proof (prove)\nusing this:\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  4 \\<le> rk {A, A', C, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a, c, Q}", "by (smt dual_order.trans insert_commute insert_mono insert_subset subset_insertI)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, A', C, a, c, Q}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "have \"rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}", "using matroid_ax_3_alt[of \"{a}\" \"{a, c, A, C}\" \"{Q, A', a}\"]"], ["proof (prove)\nusing this:\n  {a} \\<subseteq> {a, c, A, C} \\<inter> {Q, A', a} \\<Longrightarrow>\n  rk ({a, c, A, C} \\<union> {Q, A', a}) + rk {a}\n  \\<le> rk {a, c, A, C} + rk {Q, A', a}\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}", "have \"rk {a, c, A, C} \\<ge> rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a}\""], ["proof (prove)\nusing this:\n  rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a} \\<le> rk {a, c, A, C}", "using le_diff_conv"], ["proof (prove)\nusing this:\n  rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}\n  (?j - ?k \\<le> ?i) = (?j \\<le> ?i + ?k)\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a} \\<le> rk {a, c, A, C}", "by blast"], ["proof (state)\nthis:\n  rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a} \\<le> rk {a, c, A, C}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a} \\<le> rk {a, c, A, C}", "have \"rk {a, c, A, C} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a} \\<le> rk {a, c, A, C}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {a, c, A, C}", "using f4 assms(5)"], ["proof (prove)\nusing this:\n  rk {A, A', C, a, c, Q} + rk {a} - rk {Q, A', a} \\<le> rk {a, c, A, C}\n  4 \\<le> rk {A, A', C, a, c, Q}\n  rk {Q, A', a} = 2\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {a, c, A, C}", "by (smt One_nat_def \\<open>rk {A, A', C, a, c, Q} + rk {a} \\<le> rk {a, c, A, C} + rk {Q, A', a}\\<close> \n        ab_semigroup_add_class.add_ac(1) add_2_eq_Suc' add_diff_cancel_right' add_le_imp_le_diff \n        card.empty card.insert dual_order.antisym finite.intros(1) insert_absorb insert_not_empty \n        matroid_ax_1b nat_1_add_1 numeral_3_eq_3 numeral_Bit0 order.trans rk_ax_singleton)"], ["proof (state)\nthis:\n  3 \\<le> rk {a, c, A, C}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "then"], ["proof (chain)\npicking this:\n  3 \\<le> rk {a, c, A, C}", "have \"rk {a, c, A, C, \\<beta>} \\<ge> 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {a, c, A, C}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {a, c, A, C, \\<beta>}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  3 \\<le> rk {a, c, A, C}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {a, c, A, C, \\<beta>}", "by (metis Un_insert_right Un_upper2 dual_order.trans sup_bot.comm_neutral)"], ["proof (state)\nthis:\n  3 \\<le> rk {a, c, A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "thus \"rk {a, c, A, C, \\<beta>} = 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {a, c, A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "using f3 le_antisym"], ["proof (prove)\nusing this:\n  3 \\<le> rk {a, c, A, C, \\<beta>}\n  rk {a, c, A, C, \\<beta>} \\<le> 3\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "by blast"], ["proof (state)\nthis:\n  rk {a, c, A, C, \\<beta>} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_acA'C'\\<beta> :\n  assumes \"rk {Q, A', a} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {A', C'} = 2\" and \"rk {A', C', \\<beta>} = 2\"\nand \"rk {R, A, a} = 2\" and \"rk {A', A, C', a} \\<ge> 4\"\n  shows \"rk {a, c, A', C', \\<beta>} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, A', C', \\<beta>} = 3", "using assms rk_acAC\\<beta>"], ["proof (prove)\nusing this:\n  rk {Q, A', a} = 2\n  rk {Q, C', c} = 2\n  rk {A', C'} = 2\n  rk {A', C', \\<beta>} = 2\n  rk {R, A, a} = 2\n  4 \\<le> rk {A', A, C', a}\n  \\<lbrakk>rk {?R, ?A, ?a} = 2; rk {?R, ?C, ?c} = 2; rk {?A, ?C} = 2;\n   rk {?A, ?C, ?\\<beta>} = 2; rk {?Q, ?A', ?a} = 2;\n   4 \\<le> rk {?A, ?A', ?C, ?a}\\<rbrakk>\n  \\<Longrightarrow> rk {?a, ?c, ?A, ?C, ?\\<beta>} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c, A', C', \\<beta>} = 3", "by blast"], ["", "lemma plane_representation_change :\n  assumes \"rk {A, B, C, P} = 3\" and \"rk {B, C, P} = 3\" and \"rk {A, B, C, Q} = 4\"\n  shows \"rk {P, B, C, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} = 4", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} = 4", "have \"rk {P, B, C, Q} \\<le> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} \\<le> 4", "using assms(2) matroid_ax_2_alt[of \"{B, C, P}\" \"Q\"]"], ["proof (prove)\nusing this:\n  rk {B, C, P} = 3\n  rk {B, C, P} \\<le> rk ({B, C, P} \\<union> {Q}) \\<and>\n  rk ({B, C, P} \\<union> {Q}) \\<le> rk {B, C, P} + 1\n\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} \\<le> 4", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {P, B, C, Q} \\<le> 4\n\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} = 4", "have \"rk {A, B, C, Q, P} + rk {B, C, P} \\<le> rk {P, B, C, Q} + rk {A, B, C, P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, Q, P} + rk {B, C, P}\n    \\<le> rk {P, B, C, Q} + rk {A, B, C, P}", "using matroid_ax_3_alt[of \"{B, C, P}\" \"{P, B, C, Q}\" \"{A, B, C, P}\"]"], ["proof (prove)\nusing this:\n  {B, C, P} \\<subseteq> {P, B, C, Q} \\<inter> {A, B, C, P} \\<Longrightarrow>\n  rk ({P, B, C, Q} \\<union> {A, B, C, P}) + rk {B, C, P}\n  \\<le> rk {P, B, C, Q} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, Q, P} + rk {B, C, P}\n    \\<le> rk {P, B, C, Q} + rk {A, B, C, P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, Q, P} + rk {B, C, P} \\<le> rk {P, B, C, Q} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} = 4", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, Q, P} + rk {B, C, P} \\<le> rk {P, B, C, Q} + rk {A, B, C, P}", "have \"rk {P, B, C, Q} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, Q, P} + rk {B, C, P} \\<le> rk {P, B, C, Q} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {P, B, C, Q}", "using assms"], ["proof (prove)\nusing this:\n  rk {A, B, C, Q, P} + rk {B, C, P} \\<le> rk {P, B, C, Q} + rk {A, B, C, P}\n  rk {A, B, C, P} = 3\n  rk {B, C, P} = 3\n  rk {A, B, C, Q} = 4\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {P, B, C, Q}", "by (smt add.commute dual_order.trans insert_commute matroid_ax_2 nat_add_left_cancel_le \n        subset_insertI)"], ["proof (state)\nthis:\n  4 \\<le> rk {P, B, C, Q}\n\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} = 4", "thus \"rk {P, B, C, Q} = 4\""], ["proof (prove)\nusing this:\n  4 \\<le> rk {P, B, C, Q}\n\ngoal (1 subgoal):\n 1. rk {P, B, C, Q} = 4", "by (simp add: \\<open>rk {P, B, C, Q} \\<le> 4\\<close> antisym)"], ["proof (state)\nthis:\n  rk {P, B, C, Q} = 4\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_rkABCP :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\"\n  shows \"rk {A, B, C, P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "have \"rk {A, B, C} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C} = 3", "using assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C} = 3", "have f1:\"rk {A, B, C, P} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C} = 3\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, C, P}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, C} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, B, C, P}", "by (metis empty_subsetI insert_mono)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "have f2:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using assms desargues_config_2D_def[of A B C A' B' C' P] coplanar_ABCA'B'C'P"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P ?\\<alpha> ?\\<beta> ?\\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, ?\\<gamma>} = 2 \\<and>\n  rk {A', B', ?\\<gamma>} = 2 \\<and>\n  rk {A, C, ?\\<beta>} = 2 \\<and>\n  rk {A', C', ?\\<beta>} = 2 \\<and>\n  rk {B, C, ?\\<alpha>} = 2 \\<and>\n  rk {B', C', ?\\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "have \"{A, B, C, P} \\<subseteq> {A, B, C, A', B', C', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A, B, C, P} \\<subseteq> {A, B, C, A', B', C', P}", "by auto"], ["proof (state)\nthis:\n  {A, B, C, P} \\<subseteq> {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "then"], ["proof (chain)\npicking this:\n  {A, B, C, P} \\<subseteq> {A, B, C, A', B', C', P}", "have \"rk {A, B, C, P} \\<le> 3\""], ["proof (prove)\nusing this:\n  {A, B, C, P} \\<subseteq> {A, B, C, A', B', C', P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} \\<le> 3", "using matroid_ax_2 f2"], ["proof (prove)\nusing this:\n  {A, B, C, P} \\<subseteq> {A, B, C, A', B', C', P}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} \\<le> 3", "by metis"], ["proof (state)\nthis:\n  rk {A, B, C, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "thus \"rk {A, B, C, P} = 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "using f1 antisym"], ["proof (prove)\nusing this:\n  rk {A, B, C, P} \\<le> 3\n  3 \\<le> rk {A, B, C, P}\n  \\<lbrakk>?x \\<le> ?y; ?y \\<le> ?x\\<rbrakk> \\<Longrightarrow> ?x = ?y\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "by blast"], ["proof (state)\nthis:\n  rk {A, B, C, P} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma desargues_config_2D_rkABCabc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {R, A, a} = 2\" and\n\"rk {A', P} = 2\" and \"rk {B', P} = 2\"\n  shows \"rk {A, B, C, a, b, c} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "have f1:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] coplanar_ABCA'B'C'P"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "have f2:\"rk {A', B', P, Q} = 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "using rk_A'B'PQ[of A A' B C B' C' P Q] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      assms(2) assms(7) assms(8)"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {A, A'} = 2; rk {A, B, C, A', B', C'} = 3; rk {A, A', P} = 2;\n   rk {A, B, P} = 3; rk {B, B', P} = 2; rk {A', P} = 2; rk {B', P} = 2;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {A', B', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {A', P} = 2\n  rk {B', P} = 2\n\ngoal (1 subgoal):\n 1. rk {A', B', P, Q} = 4", "by auto"], ["proof (state)\nthis:\n  rk {A', B', P, Q} = 4\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "from f1 and f2"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A', B', P, Q} = 4", "have f3:\"rk {A, B, P, a} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A', B', P, Q} = 4\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) assms(3) assms(4) \n      assms(5) assms(6) rk_ABPa"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A', B', P, Q} = 4\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {R, A, a} = 2\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2; rk {?A, ?A', ?P} = 2;\n   rk {?Q, ?A', ?a} = 2; 4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q};\n   rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3; rk {?P, ?Q, ?R} = 2;\n   rk {?P, ?R} = 2; rk {?A', ?B', ?P, ?Q} = 4; rk {?R, ?A, ?a} = 2\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?B, ?P, ?a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "have \"{A, B, P, a} \\<subseteq> {A, B, C, a, b, c, P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A, B, P, a} \\<subseteq> {A, B, C, a, b, c, P}", "by auto"], ["proof (state)\nthis:\n  {A, B, P, a} \\<subseteq> {A, B, C, a, b, c, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "then"], ["proof (chain)\npicking this:\n  {A, B, P, a} \\<subseteq> {A, B, C, a, b, c, P}", "have f4:\"rk {A, B, C, a, b, c, P} \\<ge> 4\""], ["proof (prove)\nusing this:\n  {A, B, P, a} \\<subseteq> {A, B, C, a, b, c, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c, P}", "using matroid_ax_2 f3"], ["proof (prove)\nusing this:\n  {A, B, P, a} \\<subseteq> {A, B, C, a, b, c, P}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  4 \\<le> rk {A, B, P, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c, P}", "by (meson dual_order.trans)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, a, b, c, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "have f5:\"rk {A, B, C, P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "using assms(1) desargues_config_2D_rkABCP"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?C, ?P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, P} = 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "have \"rk {A, B, C, a, b, c, P} + rk {A, B, C} \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, a, b, c, P} + rk {A, B, C}\n    \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}", "using matroid_ax_3_alt[of \"{A, B, C}\" \"{A, B, C, a, b, c}\" \"{A, B, C, P}\"]"], ["proof (prove)\nusing this:\n  {A, B, C}\n  \\<subseteq> {A, B, C, a, b, c} \\<inter> {A, B, C, P} \\<Longrightarrow>\n  rk ({A, B, C, a, b, c} \\<union> {A, B, C, P}) + rk {A, B, C}\n  \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, a, b, c, P} + rk {A, B, C}\n    \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, a, b, c, P} + rk {A, B, C}\n  \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "thus \"rk {A, B, C, a, b, c} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, a, b, c, P} + rk {A, B, C}\n  \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "using f4 assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] f5"], ["proof (prove)\nusing this:\n  rk {A, B, C, a, b, c, P} + rk {A, B, C}\n  \\<le> rk {A, B, C, a, b, c} + rk {A, B, C, P}\n  4 \\<le> rk {A, B, C, a, b, c, P}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A, B, C, P} = 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, a, b, c}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_abc :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, b, c} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have \"rk {a, b, c} \\<le> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c} \\<le> 3", "by (simp add: rk_triple_le)"], ["proof (state)\nthis:\n  rk {a, b, c} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have \"rk {A, B, C, a, b, c} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "using desargues_config_2D_rkABCabc assms(1) assms(13) assms(2) assms(3) assms(6) assms(7) assms(9) \n      assms(12)"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q}; rk {?Q, ?A', ?a} = 2;\n   rk {?P, ?Q, ?R} = 2; rk {?P, ?R} = 2; rk {?R, ?A, ?a} = 2;\n   rk {?A', ?P} = 2; rk {?B', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?B, ?C, ?a, ?b, ?c}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {B', P} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {R, A, a} = 2\n  rk {A', P} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, a, b, c}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "then"], ["proof (chain)\npicking this:\n  4 \\<le> rk {A, B, C, a, b, c}", "have f1:\"rk {A, B, C, R, a, b, c} \\<ge> 4\""], ["proof (prove)\nusing this:\n  4 \\<le> rk {A, B, C, a, b, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, R, a, b, c}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  4 \\<le> rk {A, B, C, a, b, c}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, R, a, b, c}", "by (smt dual_order.trans insert_commute subset_insertI)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, R, a, b, c}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have f2:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using coplanar_ABCA'B'C'P assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have f3:\"rk {A, C, C'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "using assms(1) desargues_config_2D_non_collinear(3)"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?C, ?C'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, C, C'} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, C, C'} = 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "from f2 and f3"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, C, C'} = 3", "have f4:\"rk {R, c} = 2\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, C, C'} = 3\n\ngoal (1 subgoal):\n 1. rk {R, c} = 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] assms(2) assms(5) assms(6) \n      assms(8) assms(14) rk_Ra[of Q C' c P R C A B A' B']"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, C, C'} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {Q, R} = 2\n  rk {C', P} = 2\n  \\<lbrakk>rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {R, Q} = 2;\n   rk {C, C', P} = 2; rk {C', P} = 2; rk {C, A, B, C', A', B', P} = 3;\n   rk {C, A, C'} = 3; 4 \\<le> rk {C, A, B, C', A', B', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {R, c} = 2\n\ngoal (1 subgoal):\n 1. rk {R, c} = 2", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {R, c} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have \"rk {A, B, C, R, a, b, c} + rk {R, c} \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, R, a, b, c} + rk {R, c}\n    \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}", "using matroid_ax_3_alt[of \"{R, c}\" \"{a, b, c, R, A, B}\" \"{R, C, c}\"]"], ["proof (prove)\nusing this:\n  {R, c} \\<subseteq> {a, b, c, R, A, B} \\<inter> {R, C, c} \\<Longrightarrow>\n  rk ({a, b, c, R, A, B} \\<union> {R, C, c}) + rk {R, c}\n  \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, R, a, b, c} + rk {R, c}\n    \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, R, a, b, c} + rk {R, c}\n  \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, R, a, b, c} + rk {R, c}\n  \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}", "have f5:\"rk {a, b, c, R, A, B} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, R, a, b, c} + rk {R, c}\n  \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {a, b, c, R, A, B}", "using f1 f4 assms(11)"], ["proof (prove)\nusing this:\n  rk {A, B, C, R, a, b, c} + rk {R, c}\n  \\<le> rk {a, b, c, R, A, B} + rk {R, C, c}\n  4 \\<le> rk {A, B, C, R, a, b, c}\n  rk {R, c} = 2\n  rk {R, C, c} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {a, b, c, R, A, B}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {a, b, c, R, A, B}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have \"rk {A, B, B'} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, B'} = 3", "using assms(1) desargues_config_2D_non_collinear(2)"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n   ?\\<gamma> \\<Longrightarrow>\n  rk {?A, ?B, ?B'} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, B'} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, B'} = 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, B'} = 3", "have f6:\"rk {R, b} = 2\""], ["proof (prove)\nusing this:\n  rk {A, B, B'} = 3\n\ngoal (1 subgoal):\n 1. rk {R, b} = 2", "using f2 assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      rk_Ra[of Q B' b P R B A C A' C'] assms(2) assms(4) assms(6) assms(8) assms(13)"], ["proof (prove)\nusing this:\n  rk {A, B, B'} = 3\n  rk {A, B, C, A', B', C', P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {Q, B', b} = 2; rk {P, Q, R} = 2; rk {R, Q} = 2;\n   rk {B, B', P} = 2; rk {B', P} = 2; rk {B, A, C, B', A', C', P} = 3;\n   rk {B, A, B'} = 3; 4 \\<le> rk {B, A, C, B', A', C', P, Q}\\<rbrakk>\n  \\<Longrightarrow> rk {R, b} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, B', b} = 2\n  rk {P, Q, R} = 2\n  rk {Q, R} = 2\n  rk {B', P} = 2\n\ngoal (1 subgoal):\n 1. rk {R, b} = 2", "by (metis insert_commute)"], ["proof (state)\nthis:\n  rk {R, b} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have \"rk {a, b, c, R, A, B} + rk {R, b} \\<le> rk {a, b, c, R, A} + rk {R, B, b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c, R, A, B} + rk {R, b}\n    \\<le> rk {a, b, c, R, A} + rk {R, B, b}", "using matroid_ax_3_alt[of \"{R, b}\" \"{a, b, c, R, A}\" \"{R, B, b}\"]"], ["proof (prove)\nusing this:\n  {R, b} \\<subseteq> {a, b, c, R, A} \\<inter> {R, B, b} \\<Longrightarrow>\n  rk ({a, b, c, R, A} \\<union> {R, B, b}) + rk {R, b}\n  \\<le> rk {a, b, c, R, A} + rk {R, B, b}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, R, A, B} + rk {R, b}\n    \\<le> rk {a, b, c, R, A} + rk {R, B, b}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, b, c, R, A, B} + rk {R, b} \\<le> rk {a, b, c, R, A} + rk {R, B, b}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c, R, A, B} + rk {R, b} \\<le> rk {a, b, c, R, A} + rk {R, B, b}", "have f7:\"rk {a, b, c, R, A} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {a, b, c, R, A, B} + rk {R, b} \\<le> rk {a, b, c, R, A} + rk {R, B, b}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {a, b, c, R, A}", "using f5 f6 assms(10)"], ["proof (prove)\nusing this:\n  rk {a, b, c, R, A, B} + rk {R, b} \\<le> rk {a, b, c, R, A} + rk {R, B, b}\n  4 \\<le> rk {a, b, c, R, A, B}\n  rk {R, b} = 2\n  rk {R, B, b} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {a, b, c, R, A}", "by linarith"], ["proof (state)\nthis:\n  4 \\<le> rk {a, b, c, R, A}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "have \"rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}", "using matroid_ax_3_alt[of \"{a}\" \"{a, b, c}\" \"{R, A, a}\"]"], ["proof (prove)\nusing this:\n  {a} \\<subseteq> {a, b, c} \\<inter> {R, A, a} \\<Longrightarrow>\n  rk ({a, b, c} \\<union> {R, A, a}) + rk {a}\n  \\<le> rk {a, b, c} + rk {R, A, a}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}", "have \"rk {a, b, c} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {a, b, c}", "using f7 assms(9)"], ["proof (prove)\nusing this:\n  rk {a, b, c, R, A} + rk {a} \\<le> rk {a, b, c} + rk {R, A, a}\n  4 \\<le> rk {a, b, c, R, A}\n  rk {R, A, a} = 2\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {a, b, c}", "by (smt One_nat_def Suc_eq_plus1 Suc_le_mono Suc_numeral add.assoc card.empty card.insert \n        dual_order.trans finite.intros(1) insert_absorb insert_not_empty le_antisym matroid_ax_1b \n        one_add_one rk_ax_singleton semiring_norm(2) semiring_norm(8))"], ["proof (state)\nthis:\n  3 \\<le> rk {a, b, c}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "thus \"rk {a, b, c} = 3\""], ["proof (prove)\nusing this:\n  3 \\<le> rk {a, b, c}\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "by (simp add: \\<open>rk {a, b, c} \\<le> 3\\<close> le_antisym)"], ["proof (state)\nthis:\n  rk {a, b, c} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_ac\\<beta> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, c, \\<beta>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have \"rk {a, b, c} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "using rk_abc assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q}; rk {?Q, ?A', ?a} = 2;\n   rk {?Q, ?B', ?b} = 2; rk {?Q, ?C', ?c} = 2; rk {?P, ?Q, ?R} = 2;\n   rk {?P, ?R} = 2; rk {?Q, ?R} = 2; rk {?R, ?A, ?a} = 2;\n   rk {?R, ?B, ?b} = 2; rk {?R, ?C, ?c} = 2; rk {?A', ?P} = 2;\n   rk {?B', ?P} = 2; rk {?C', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?a, ?b, ?c} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n  rk {R, B, b} = 2\n  rk {R, C, c} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "by auto"], ["proof (state)\nthis:\n  rk {a, b, c} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c} = 3", "have \"rk {a, c} = 2\""], ["proof (prove)\nusing this:\n  rk {a, b, c} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c} = 2", "by (metis insert_commute rk_triple_to_rk_couple)"], ["proof (state)\nthis:\n  rk {a, c} = 2\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  rk {a, c} = 2", "have \"rk {a, c, \\<beta>} \\<ge> 2\""], ["proof (prove)\nusing this:\n  rk {a, c} = 2\n\ngoal (1 subgoal):\n 1. 2 \\<le> rk {a, c, \\<beta>}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {a, c} = 2\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 2 \\<le> rk {a, c, \\<beta>}", "by (metis empty_subsetI insert_mono)"], ["proof (state)\nthis:\n  2 \\<le> rk {a, c, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have f1:\"rk {a, c, A, C, A', C', \\<beta>} + rk {a, c, \\<beta>} \\<le> rk {a, c, A, C, \\<beta>} + rk {a, c, A', C', \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, A, C, A', C', \\<beta>} + rk {a, c, \\<beta>}\n    \\<le> rk {a, c, A, C, \\<beta>} + rk {a, c, A', C', \\<beta>}", "using matroid_ax_3_alt[of \"{a, c, \\<beta>}\" \"{a, c, A, C, \\<beta>}\" \"{a, c, A', C', \\<beta>}\"]"], ["proof (prove)\nusing this:\n  {a, c, \\<beta>}\n  \\<subseteq> {a, c, A, C, \\<beta>} \\<inter>\n              {a, c, A', C', \\<beta>} \\<Longrightarrow>\n  rk ({a, c, A, C, \\<beta>} \\<union> {a, c, A', C', \\<beta>}) +\n  rk {a, c, \\<beta>}\n  \\<le> rk {a, c, A, C, \\<beta>} + rk {a, c, A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, A', C', \\<beta>} + rk {a, c, \\<beta>}\n    \\<le> rk {a, c, A, C, \\<beta>} + rk {a, c, A', C', \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, c, A, C, A', C', \\<beta>} + rk {a, c, \\<beta>}\n  \\<le> rk {a, c, A, C, \\<beta>} + rk {a, c, A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have f2:\"rk {A, A', C} \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "using rk_AA'C assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?C, ?P} = 3; rk {?A, ?A'} = 2;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> 3 \\<le> rk {?A, ?A', ?C}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C}", "by auto"], ["proof (state)\nthis:\n  3 \\<le> rk {A, A', C}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have f3:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using coplanar_ABCA'B'C'P assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, A', B', C', P} = 3", "have f4:\"rk {A, B, P, a} \\<ge> 4\""], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "using rk_ABPa assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  \\<lbrakk>rk {?A, ?B, ?P} = 3; rk {?A, ?A'} = 2; rk {?A, ?A', ?P} = 2;\n   rk {?Q, ?A', ?a} = 2; 4 \\<le> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P, ?Q};\n   rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3; rk {?P, ?Q, ?R} = 2;\n   rk {?P, ?R} = 2; rk {?A', ?B', ?P, ?Q} = 4; rk {?R, ?A, ?a} = 2\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?B, ?P, ?a}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, P, a}", "by (meson assms(12) assms(13) assms(14) assms(2) assms(3) assms(6) assms(7) assms(9) \n        desargues_config_2D_rkA'B'PQ_rkA'C'PQ_rkB'C'PQ(1))"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, P, a}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have \"rk {A, A', C, a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "using f2 f3 f4 rk_AA'Ca[of A A' C B P a B' C']"], ["proof (prove)\nusing this:\n  3 \\<le> rk {A, A', C}\n  rk {A, B, C, A', B', C', P} = 3\n  4 \\<le> rk {A, B, P, a}\n  \\<lbrakk>3 \\<le> rk {A, A', C}; 4 \\<le> rk {A, B, P, a};\n   rk {A, B, C, A', B', C', P} = 3\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {A, A', C, a}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, A', C, a}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, A', C, a}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  4 \\<le> rk {A, A', C, a}", "have f5:\"rk {a, c, A, C, \\<beta>} = 3\""], ["proof (prove)\nusing this:\n  4 \\<le> rk {A, A', C, a}\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "using rk_acAC\\<beta>[of R A a C c \\<beta> Q A'] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]\n      assms(9) assms(11) assms(3) rk_triple_to_rk_couple"], ["proof (prove)\nusing this:\n  4 \\<le> rk {A, A', C, a}\n  \\<lbrakk>rk {R, A, a} = 2; rk {R, C, c} = 2; rk {A, C} = 2;\n   rk {A, C, \\<beta>} = 2; rk {Q, A', a} = 2;\n   4 \\<le> rk {A, A', C, a}\\<rbrakk>\n  \\<Longrightarrow> rk {a, c, A, C, \\<beta>} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {R, A, a} = 2\n  rk {R, C, c} = 2\n  rk {Q, A', a} = 2\n  rk {?A, ?B, ?C} = 3 \\<Longrightarrow> rk {?A, ?B} = 2\n\ngoal (1 subgoal):\n 1. rk {a, c, A, C, \\<beta>} = 3", "by blast"], ["proof (state)\nthis:\n  rk {a, c, A, C, \\<beta>} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have \"rk {A', A, C', a} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', A, C', a}", "using rk_AA'C'a[of A A' C' B P a C B'] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  \\<lbrakk>3 \\<le> rk {A, A', C'}; 4 \\<le> rk {A, B, P, a};\n   rk {A, B, C, A', B', C', P} = 3\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {A, A', C', a}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A', A, C', a}", "by (smt assms(12) assms(13) assms(14) desargues_config_2D_non_collinear_P(2) f3 f4 insert_commute \n        rk_AA'C)"], ["proof (state)\nthis:\n  4 \\<le> rk {A', A, C', a}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  4 \\<le> rk {A', A, C', a}", "have f6:\"rk {a, c, A', C', \\<beta>} = 3\""], ["proof (prove)\nusing this:\n  4 \\<le> rk {A', A, C', a}\n\ngoal (1 subgoal):\n 1. rk {a, c, A', C', \\<beta>} = 3", "using rk_acA'C'\\<beta>[of Q A' a C' c \\<beta> R A] assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]\n      assms(3) assms(5) assms(9)"], ["proof (prove)\nusing this:\n  4 \\<le> rk {A', A, C', a}\n  \\<lbrakk>rk {Q, A', a} = 2; rk {Q, C', c} = 2; rk {A', C'} = 2;\n   rk {A', C', \\<beta>} = 2; rk {R, A, a} = 2;\n   4 \\<le> rk {A', A, C', a}\\<rbrakk>\n  \\<Longrightarrow> rk {a, c, A', C', \\<beta>} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {Q, A', a} = 2\n  rk {Q, C', c} = 2\n  rk {R, A, a} = 2\n\ngoal (1 subgoal):\n 1. rk {a, c, A', C', \\<beta>} = 3", "by (metis (full_types) insert_commute rk_triple_to_rk_couple)"], ["proof (state)\nthis:\n  rk {a, c, A', C', \\<beta>} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "have \"{A, A', C, a} \\<subseteq> {a, c, A, C, A', C', \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A, A', C, a} \\<subseteq> {a, c, A, C, A', C', \\<beta>}", "by auto"], ["proof (state)\nthis:\n  {A, A', C, a} \\<subseteq> {a, c, A, C, A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  {A, A', C, a} \\<subseteq> {a, c, A, C, A', C', \\<beta>}", "have f7:\"rk {a, c, A, C, A', C', \\<beta>} \\<ge> 4\""], ["proof (prove)\nusing this:\n  {A, A', C, a} \\<subseteq> {a, c, A, C, A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {a, c, A, C, A', C', \\<beta>}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  {A, A', C, a} \\<subseteq> {a, c, A, C, A', C', \\<beta>}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {a, c, A, C, A', C', \\<beta>}", "by (meson \\<open>4 \\<le> rk {A, A', C, a}\\<close> dual_order.trans)"], ["proof (state)\nthis:\n  4 \\<le> rk {a, c, A, C, A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "then"], ["proof (chain)\npicking this:\n  4 \\<le> rk {a, c, A, C, A', C', \\<beta>}", "have \"rk {a, c, \\<beta>} \\<le> 2\""], ["proof (prove)\nusing this:\n  4 \\<le> rk {a, c, A, C, A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} \\<le> 2", "using f1 f5 f6"], ["proof (prove)\nusing this:\n  4 \\<le> rk {a, c, A, C, A', C', \\<beta>}\n  rk {a, c, A, C, A', C', \\<beta>} + rk {a, c, \\<beta>}\n  \\<le> rk {a, c, A, C, \\<beta>} + rk {a, c, A', C', \\<beta>}\n  rk {a, c, A, C, \\<beta>} = 3\n  rk {a, c, A', C', \\<beta>} = 3\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} \\<le> 2", "by linarith"], ["proof (state)\nthis:\n  rk {a, c, \\<beta>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "thus \"rk {a, c, \\<beta>} = 2\""], ["proof (prove)\nusing this:\n  rk {a, c, \\<beta>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "using \\<open>2 \\<le> rk {a, c, \\<beta>}\\<close> le_antisym"], ["proof (prove)\nusing this:\n  rk {a, c, \\<beta>} \\<le> 2\n  2 \\<le> rk {a, c, \\<beta>}\n  \\<lbrakk>?m \\<le> ?n; ?n \\<le> ?m\\<rbrakk> \\<Longrightarrow> ?m = ?n\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "by blast"], ["proof (state)\nthis:\n  rk {a, c, \\<beta>} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_ab\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, b, \\<gamma>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "have \"desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      desargues_config_2D_def[of A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta> \\<equiv>\n  rk {A, C, B} = 3 \\<and>\n  rk {A', C', B'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {C, B, \\<alpha>} = 2 \\<and>\n  rk {C', B', \\<alpha>} = 2 \\<and>\n  rk {A, C, B, A', C', B'} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {C, B, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {C, C'} = 2 \\<and> rk {B, B'} = 2\n\ngoal (1 subgoal):\n 1. desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>", "by (metis insert_commute)"], ["proof (state)\nthis:\n  desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>\n\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "thus \"rk {a, b, \\<gamma>} = 2\""], ["proof (prove)\nusing this:\n  desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>\n\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "using rk_ac\\<beta>[of A C B A' C' B' P \\<alpha> \\<gamma> \\<beta> Q a c b R]"], ["proof (prove)\nusing this:\n  desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>\n  \\<lbrakk>desargues_config_2D A C B A' C' B' P \\<alpha> \\<gamma> \\<beta>;\n   4 \\<le> rk {A, C, B, A', C', B', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, C', c} = 2; rk {Q, B', b} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, C, c} = 2; rk {R, B, b} = 2;\n   rk {A', P} = 2; rk {C', P} = 2; rk {B', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {a, b, \\<gamma>} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "by (metis assms(10) assms(11) assms(12) assms(13) assms(14) assms(2) assms(3) assms(4) assms(5) \n        assms(6) assms(7) assms(8) assms(9) insert_commute)"], ["proof (state)\nthis:\n  rk {a, b, \\<gamma>} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_bc\\<alpha> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {b, c, \\<alpha>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "have \"desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      desargues_config_2D_def[of B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma> \\<equiv>\n  rk {B, A, C} = 3 \\<and>\n  rk {B', A', C'} = 3 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {B, A, \\<gamma>} = 2 \\<and>\n  rk {B', A', \\<gamma>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, A, C, B', A', C'} = 3 \\<and>\n  rk {B, A, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, B'} = 2 \\<and> rk {A, A'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>", "by (metis insert_commute)"], ["proof (state)\nthis:\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "thus \"rk {b, c, \\<alpha>} = 2\""], ["proof (prove)\nusing this:\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "using rk_ac\\<beta>[of B A C B' A' C' P \\<beta> \\<alpha> \\<gamma> Q b a c R]"], ["proof (prove)\nusing this:\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\n  \\<lbrakk>desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>;\n   4 \\<le> rk {B, A, C, B', A', C', P, Q}; rk {Q, B', b} = 2;\n   rk {Q, A', a} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, B, b} = 2; rk {R, A, a} = 2; rk {R, C, c} = 2;\n   rk {B', P} = 2; rk {A', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {b, c, \\<alpha>} = 2\n\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "by (metis assms(10) assms(11) assms(12) assms(13) assms(14) assms(2) assms(3) assms(4) assms(5) \n        assms(6) assms(7) assms(8) assms(9) insert_commute)"], ["proof (state)\nthis:\n  rk {b, c, \\<alpha>} = 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_abc\\<alpha>\\<beta>\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f1:\"rk {a, b, \\<gamma>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "using rk_ab\\<gamma>[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {a, b, \\<gamma>} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n  rk {R, B, b} = 2\n  rk {R, C, c} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, \\<gamma>} = 2", "by auto"], ["proof (state)\nthis:\n  rk {a, b, \\<gamma>} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f2:\"rk {a, c, \\<beta>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "using rk_ac\\<beta>[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {a, c, \\<beta>} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n  rk {R, B, b} = 2\n  rk {R, C, c} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {a, c, \\<beta>} = 2", "by auto"], ["proof (state)\nthis:\n  rk {a, c, \\<beta>} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f3:\"rk {b, c, \\<alpha>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "using rk_bc\\<alpha>[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {b, c, \\<alpha>} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n  rk {R, B, b} = 2\n  rk {R, C, c} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {b, c, \\<alpha>} = 2", "by auto"], ["proof (state)\nthis:\n  rk {b, c, \\<alpha>} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have \"rk {a, b, c, \\<beta>, \\<gamma>} + rk {a} \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<beta>, \\<gamma>} + rk {a}\n    \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}", "using matroid_ax_3_alt[of \"{a}\" \"{a, b, \\<gamma>}\" \"{a, c, \\<beta>}\"]"], ["proof (prove)\nusing this:\n  {a}\n  \\<subseteq> {a, b, \\<gamma>} \\<inter> {a, c, \\<beta>} \\<Longrightarrow>\n  rk ({a, b, \\<gamma>} \\<union> {a, c, \\<beta>}) + rk {a}\n  \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<beta>, \\<gamma>} + rk {a}\n    \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, b, c, \\<beta>, \\<gamma>} + rk {a}\n  \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c, \\<beta>, \\<gamma>} + rk {a}\n  \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}", "have \"rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<beta>, \\<gamma>} + rk {a}\n  \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3", "using f1 f2"], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<beta>, \\<gamma>} + rk {a}\n  \\<le> rk {a, b, \\<gamma>} + rk {a, c, \\<beta>}\n  rk {a, b, \\<gamma>} = 2\n  rk {a, c, \\<beta>} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3", "by (metis Suc_1 Suc_eq_plus1 Suc_le_mono add_Suc_right numeral_3_eq_3 numeral_nat(1) numerals(1) \n        rk_singleton)"], ["proof (state)\nthis:\n  rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3", "have f4:\"rk {a, b, c, \\<beta>, \\<gamma>} = 3\""], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<beta>, \\<gamma>} = 3", "using matroid_ax_2 rk_abc[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R]"], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<beta>, \\<gamma>} \\<le> 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {a, b, c} = 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<beta>, \\<gamma>} = 3", "by (metis Un_upper2 assms(1) assms(10) assms(11) assms(12) assms(13) assms(14) assms(2) assms(3) \n        assms(4) assms(5) assms(6) assms(7) assms(8) assms(9) insert_mono le_antisym sup_bot.comm_neutral)"], ["proof (state)\nthis:\n  rk {a, b, c, \\<beta>, \\<gamma>} = 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have \"rk {a, b, c} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "using rk_abc[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R] assms(1) assms(10) assms(11) assms(12) assms(13) \n      assms(14) assms(2) assms(3) assms(4) assms(5) assms(6) assms(7) assms(8) assms(9)"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {a, b, c} = 3\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {R, B, b} = 2\n  rk {R, C, c} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c} = 3", "by blast"], ["proof (state)\nthis:\n  rk {a, b, c} = 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c} = 3", "have f5:\"rk {b, c} = 2\""], ["proof (prove)\nusing this:\n  rk {a, b, c} = 3\n\ngoal (1 subgoal):\n 1. rk {b, c} = 2", "using rk_triple_to_rk_couple rk_couple"], ["proof (prove)\nusing this:\n  rk {a, b, c} = 3\n  rk {?A, ?B, ?C} = 3 \\<Longrightarrow> rk {?A, ?B} = 2\n  ?A \\<noteq> ?B \\<Longrightarrow> rk {?A, ?B} = 2\n\ngoal (1 subgoal):\n 1. rk {b, c} = 2", "by force"], ["proof (state)\nthis:\n  rk {b, c} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have \"rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c} \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c}\n    \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}", "using matroid_ax_3_alt[of \"{b, c}\" \"{a, b, c, \\<beta>, \\<gamma>}\" \"{b, c, \\<alpha>}\"]"], ["proof (prove)\nusing this:\n  {b, c}\n  \\<subseteq> {a, b, c, \\<beta>, \\<gamma>} \\<inter>\n              {b, c, \\<alpha>} \\<Longrightarrow>\n  rk ({a, b, c, \\<beta>, \\<gamma>} \\<union> {b, c, \\<alpha>}) + rk {b, c}\n  \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c}\n    \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c}\n  \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c}\n  \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}", "have \"rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c}\n  \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3", "using f3 f4 f5"], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {b, c}\n  \\<le> rk {a, b, c, \\<beta>, \\<gamma>} + rk {b, c, \\<alpha>}\n  rk {b, c, \\<alpha>} = 2\n  rk {a, b, c, \\<beta>, \\<gamma>} = 3\n  rk {b, c} = 2\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3", "by linarith"], ["proof (state)\nthis:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "thus \"rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3\""], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3", "by (metis \\<open>rk {a, b, c} = 3\\<close> empty_subsetI insert_mono le_antisym)"], ["proof (state)\nthis:\n  rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_ABC\\<alpha>\\<beta>\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f1:\"rk {A, B, \\<gamma>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, \\<gamma>} = 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, \\<gamma>} = 2", "by auto"], ["proof (state)\nthis:\n  rk {A, B, \\<gamma>} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f2:\"rk {A, C, \\<beta>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, C, \\<beta>} = 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, C, \\<beta>} = 2", "by auto"], ["proof (state)\nthis:\n  rk {A, C, \\<beta>} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f3:\"rk {B, C, \\<alpha>} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {B, C, \\<alpha>} = 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {B, C, \\<alpha>} = 2", "by auto"], ["proof (state)\nthis:\n  rk {B, C, \\<alpha>} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have \"rk {A, B, C, \\<beta>, \\<gamma>} + rk {A} \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<beta>, \\<gamma>} + rk {A}\n    \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}", "using matroid_ax_3_alt[of \"{A}\" \"{A, B, \\<gamma>}\" \"{A, C, \\<beta>}\"]"], ["proof (prove)\nusing this:\n  {A}\n  \\<subseteq> {A, B, \\<gamma>} \\<inter> {A, C, \\<beta>} \\<Longrightarrow>\n  rk ({A, B, \\<gamma>} \\<union> {A, C, \\<beta>}) + rk {A}\n  \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<beta>, \\<gamma>} + rk {A}\n    \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, \\<beta>, \\<gamma>} + rk {A}\n  \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, \\<beta>, \\<gamma>} + rk {A}\n  \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}", "have \"rk {A, B, C, \\<beta>, \\<gamma>} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C, \\<beta>, \\<gamma>} + rk {A}\n  \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<beta>, \\<gamma>} \\<le> 3", "using f1 f2"], ["proof (prove)\nusing this:\n  rk {A, B, C, \\<beta>, \\<gamma>} + rk {A}\n  \\<le> rk {A, B, \\<gamma>} + rk {A, C, \\<beta>}\n  rk {A, B, \\<gamma>} = 2\n  rk {A, C, \\<beta>} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<beta>, \\<gamma>} \\<le> 3", "by (metis Suc_1 Suc_eq_plus1 Suc_le_mono add_Suc_right numeral_3_eq_3 numeral_nat(1) numerals(1) \n        rk_singleton)"], ["proof (state)\nthis:\n  rk {A, B, C, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have \"rk {A, B, C} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C} = 3", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C} = 3", "have f4:\"rk {A, B, C, \\<beta>, \\<gamma>} = 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<beta>, \\<gamma>} = 3", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, C} = 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<beta>, \\<gamma>} = 3", "by (metis \\<open>rk {A, B, C, \\<beta>, \\<gamma>} \\<le> 3\\<close> empty_subsetI insert_mono le_antisym)"], ["proof (state)\nthis:\n  rk {A, B, C, \\<beta>, \\<gamma>} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have f5:\"rk {B, C} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {B, C} = 2", "using \\<open>rk {A, B, C} = 3\\<close> rk_couple rk_triple_to_rk_couple"], ["proof (prove)\nusing this:\n  rk {A, B, C} = 3\n  ?A \\<noteq> ?B \\<Longrightarrow> rk {?A, ?B} = 2\n  rk {?A, ?B, ?C} = 3 \\<Longrightarrow> rk {?A, ?B} = 2\n\ngoal (1 subgoal):\n 1. rk {B, C} = 2", "by force"], ["proof (state)\nthis:\n  rk {B, C} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "have \"rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C} \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C}\n    \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}", "using matroid_ax_3_alt[of \"{B, C}\" \"{A, B, C, \\<beta>, \\<gamma>}\" \"{B, C, \\<alpha>}\"]"], ["proof (prove)\nusing this:\n  {B, C}\n  \\<subseteq> {A, B, C, \\<beta>, \\<gamma>} \\<inter>\n              {B, C, \\<alpha>} \\<Longrightarrow>\n  rk ({A, B, C, \\<beta>, \\<gamma>} \\<union> {B, C, \\<alpha>}) + rk {B, C}\n  \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C}\n    \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C}\n  \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "then"], ["proof (chain)\npicking this:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C}\n  \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}", "have \"rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C}\n  \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3", "using f3 f4 f5"], ["proof (prove)\nusing this:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {B, C}\n  \\<le> rk {A, B, C, \\<beta>, \\<gamma>} + rk {B, C, \\<alpha>}\n  rk {B, C, \\<alpha>} = 2\n  rk {A, B, C, \\<beta>, \\<gamma>} = 3\n  rk {B, C} = 2\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3", "by linarith"], ["proof (state)\nthis:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "thus \"rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3\""], ["proof (prove)\nusing this:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<le> 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3", "by (metis \\<open>rk {A, B, C} = 3\\<close> empty_subsetI insert_mono le_antisym)"], ["proof (state)\nthis:\n  rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_\\<alpha>\\<beta>\\<gamma> :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\"\nand \"rk {Q, A', a} = 2\" and \"rk {Q, B', b} = 2\" and \"rk {Q, C', c} = 2\" and \"rk {P, Q, R} = 2\" and \n\"rk {P, R} = 2\" and \"rk {Q, R} = 2\" and \"rk {R, A, a} = 2\" and \"rk {R, B, b} = 2\" and \n\"rk {R, C, c} = 2\" and \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A, B, C, a, b, c} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "using desargues_config_2D_rkABCabc[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a R b c] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {P, Q, R} = 2; rk {P, R} = 2; rk {R, A, a} = 2; rk {A', P} = 2;\n   rk {B', P} = 2\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {A, B, C, a, b, c}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, C', c} = 2\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n  rk {R, B, b} = 2\n  rk {R, C, c} = 2\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c}", "by auto"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, a, b, c}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"{A, B, C, a, b, c} \\<subseteq> {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {A, B, C, a, b, c}\n    \\<subseteq> {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}", "by auto"], ["proof (state)\nthis:\n  {A, B, C, a, b, c}\n  \\<subseteq> {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  {A, B, C, a, b, c}\n  \\<subseteq> {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}", "have f1:\"rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<ge> 4\""], ["proof (prove)\nusing this:\n  {A, B, C, a, b, c}\n  \\<subseteq> {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  {A, B, C, a, b, c}\n  \\<subseteq> {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. 4 \\<le> rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}", "by (meson \\<open>4 \\<le> rk {A, B, C, a, b, c}\\<close> dual_order.trans)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} + rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} + rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} +\n    rk {\\<alpha>, \\<beta>, \\<gamma>}\n    \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} +\n          rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}", "using matroid_ax_3_alt[of \"{\\<alpha>, \\<beta>, \\<gamma>}\" \"{A, B, C, \\<alpha>, \\<beta>, \\<gamma>}\" \"{a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\"]"], ["proof (prove)\nusing this:\n  {\\<alpha>, \\<beta>, \\<gamma>}\n  \\<subseteq> {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<inter>\n              {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} \\<Longrightarrow>\n  rk ({A, B, C, \\<alpha>, \\<beta>, \\<gamma>} \\<union>\n      {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}) +\n  rk {\\<alpha>, \\<beta>, \\<gamma>}\n  \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} +\n        rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} +\n    rk {\\<alpha>, \\<beta>, \\<gamma>}\n    \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} +\n          rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} +\n  rk {\\<alpha>, \\<beta>, \\<gamma>}\n  \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} +\n        rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "thus \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\nusing this:\n  rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} +\n  rk {\\<alpha>, \\<beta>, \\<gamma>}\n  \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} +\n        rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using f1 rk_ABC\\<alpha>\\<beta>\\<gamma>[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R] rk_abc\\<alpha>\\<beta>\\<gamma>[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R]"], ["proof (prove)\nusing this:\n  rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>} +\n  rk {\\<alpha>, \\<beta>, \\<gamma>}\n  \\<le> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} +\n        rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n  4 \\<le> rk {A, B, C, a, b, c, \\<alpha>, \\<beta>, \\<gamma>}\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {A, B, C, \\<alpha>, \\<beta>, \\<gamma>} = 3\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {a, b, c, \\<alpha>, \\<beta>, \\<gamma>} = 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by (smt One_nat_def Suc_1 Suc_le_eq add_Suc_right add_le_imp_le_diff assms(1) assms(10) assms(11) \n        assms(12) assms(13) assms(14) assms(2) assms(3) assms(4) assms(5) assms(6) assms(7) assms(8) \n        assms(9) diff_add_inverse2 le_antisym nat_1_add_1 not_less numeral_3_eq_3 one_plus_numeral \n        rk_triple_le semiring_norm(2) semiring_norm(4))"], ["proof (state)\nthis:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_\\<alpha>\\<beta>\\<gamma>_special_case_1 :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {A', P} = 1\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"A' = P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A' = P", "by (simp add: assms(2) rk_couple_to_singleton)"], ["proof (state)\nthis:\n  A' = P\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  A' = P", "have \"rk {A', C', C, \\<beta>} + rk {C', A'} \\<le> rk {C, C', P} + rk {A', C', \\<beta>}\""], ["proof (prove)\nusing this:\n  A' = P\n\ngoal (1 subgoal):\n 1. rk {A', C', C, \\<beta>} + rk {C', A'}\n    \\<le> rk {C, C', P} + rk {A', C', \\<beta>}", "using matroid_ax_3_alt[of \"{C', A'}\" \"{C, C', P}\" \"{A', C', \\<beta>}\"]"], ["proof (prove)\nusing this:\n  A' = P\n  {C', A'}\n  \\<subseteq> {C, C', P} \\<inter> {A', C', \\<beta>} \\<Longrightarrow>\n  rk ({C, C', P} \\<union> {A', C', \\<beta>}) + rk {C', A'}\n  \\<le> rk {C, C', P} + rk {A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A', C', C, \\<beta>} + rk {C', A'}\n    \\<le> rk {C, C', P} + rk {A', C', \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A', C', C, \\<beta>} + rk {C', A'}\n  \\<le> rk {C, C', P} + rk {A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A', C', C, \\<beta>} + rk {C', A'}\n  \\<le> rk {C, C', P} + rk {A', C', \\<beta>}", "have \"rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}\""], ["proof (prove)\nusing this:\n  rk {A', C', C, \\<beta>} + rk {C', A'}\n  \\<le> rk {C, C', P} + rk {A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {A', C', C, \\<beta>} + rk {C', A'}\n  \\<le> rk {C, C', P} + rk {A', C', \\<beta>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}", "by (metis (full_types) add_le_cancel_right insert_commute rk_triple_to_rk_couple)"], ["proof (state)\nthis:\n  rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}", "have f5:\"rk {A', C', C, \\<beta>} = 2\""], ["proof (prove)\nusing this:\n  rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A', C', C, \\<beta>} = 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {A', C', C, \\<beta>} \\<le> rk {A', C', \\<beta>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A', C', C, \\<beta>} = 2", "by (metis insert_commute le_antisym matroid_ax_2 subset_insertI)"], ["proof (state)\nthis:\n  rk {A', C', C, \\<beta>} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A, A', C, a, C', \\<beta>} + rk {A, C, \\<beta>} \\<le> rk {A, A', C', C, \\<beta>} + rk {a, A, C, \\<beta>}\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', C, a, C', \\<beta>} + rk {A, C, \\<beta>}\n    \\<le> rk {A, A', C', C, \\<beta>} + rk {a, A, C, \\<beta>}", "using matroid_ax_3_alt[of \"{A, C, \\<beta>}\" \"{A, A', C', C, \\<beta>}\" \"{a, A, C, \\<beta>}\"]"], ["proof (prove)\nusing this:\n  {A, C, \\<beta>}\n  \\<subseteq> {A, A', C', C, \\<beta>} \\<inter>\n              {a, A, C, \\<beta>} \\<Longrightarrow>\n  rk ({A, A', C', C, \\<beta>} \\<union> {a, A, C, \\<beta>}) +\n  rk {A, C, \\<beta>}\n  \\<le> rk {A, A', C', C, \\<beta>} + rk {a, A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A, A', C, a, C', \\<beta>} + rk {A, C, \\<beta>}\n    \\<le> rk {A, A', C', C, \\<beta>} + rk {a, A, C, \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', C, ?a, C', \\<beta>} + rk {A, C, \\<beta>}\n  \\<le> rk {A, A', C', C, \\<beta>} + rk {?a, A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A, A', C, ?a, C', \\<beta>} + rk {A, C, \\<beta>}\n  \\<le> rk {A, A', C', C, \\<beta>} + rk {?a, A, C, \\<beta>}", "have f6:\"rk {A, A', C', C, \\<beta>} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, A', C, ?a, C', \\<beta>} + rk {A, C, \\<beta>}\n  \\<le> rk {A, A', C', C, \\<beta>} + rk {?a, A, C, \\<beta>}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C', C, \\<beta>}", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] rk_AA'Ca rk_acAC\\<beta>"], ["proof (prove)\nusing this:\n  rk {A, A', C, ?a, C', \\<beta>} + rk {A, C, \\<beta>}\n  \\<le> rk {A, A', C', C, \\<beta>} + rk {?a, A, C, \\<beta>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>3 \\<le> rk {?A, ?A', ?C}; 4 \\<le> rk {?A, ?B, ?P, ?a};\n   rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?A', ?C, ?a}\n  \\<lbrakk>rk {?R, ?A, ?a} = 2; rk {?R, ?C, ?c} = 2; rk {?A, ?C} = 2;\n   rk {?A, ?C, ?\\<beta>} = 2; rk {?Q, ?A', ?a} = 2;\n   4 \\<le> rk {?A, ?A', ?C, ?a}\\<rbrakk>\n  \\<Longrightarrow> rk {?a, ?c, ?A, ?C, ?\\<beta>} = 3\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', C', C, \\<beta>}", "by (metis Un_insert_right Un_upper2 \\<open>A' = P\\<close> insert_commute matroid_ax_2 sup_bot.right_neutral)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, A', C', C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C} \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C}\n    \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}", "using matroid_ax_3_alt[of \"{\\<beta>, C}\" \"{A, C, \\<beta>}\" \"{A', C', C, \\<beta>}\"]"], ["proof (prove)\nusing this:\n  {\\<beta>, C}\n  \\<subseteq> {A, C, \\<beta>} \\<inter>\n              {A', C', C, \\<beta>} \\<Longrightarrow>\n  rk ({A, C, \\<beta>} \\<union> {A', C', C, \\<beta>}) + rk {\\<beta>, C}\n  \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C}\n    \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C}\n  \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C}\n  \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}", "have \"rk {\\<beta>, C} \\<le> 1\""], ["proof (prove)\nusing this:\n  rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C}\n  \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<beta>, C} \\<le> 1", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] f5 f6"], ["proof (prove)\nusing this:\n  rk {A, A', C', C, \\<beta>} + rk {\\<beta>, C}\n  \\<le> rk {A, C, \\<beta>} + rk {A', C', C, \\<beta>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A', C', C, \\<beta>} = 2\n  3 \\<le> rk {A, A', C', C, \\<beta>}\n\ngoal (1 subgoal):\n 1. rk {\\<beta>, C} \\<le> 1", "by linarith"], ["proof (state)\nthis:\n  rk {\\<beta>, C} \\<le> 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {\\<beta>, C} \\<le> 1", "have \"\\<beta> = C\""], ["proof (prove)\nusing this:\n  rk {\\<beta>, C} \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<beta> = C", "using rk_couple"], ["proof (prove)\nusing this:\n  rk {\\<beta>, C} \\<le> 1\n  ?A \\<noteq> ?B \\<Longrightarrow> rk {?A, ?B} = 2\n\ngoal (1 subgoal):\n 1. \\<beta> = C", "by force"], ["proof (state)\nthis:\n  \\<beta> = C\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A', B', B, \\<gamma>} + rk {B', A'} \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A', B', B, \\<gamma>} + rk {B', A'}\n    \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}", "using matroid_ax_3_alt[of \"{B', A'}\" \"{B, B', P}\" \"{A', B', \\<gamma>}\"]"], ["proof (prove)\nusing this:\n  {B', A'}\n  \\<subseteq> {B, B', P} \\<inter> {A', B', \\<gamma>} \\<Longrightarrow>\n  rk ({B, B', P} \\<union> {A', B', \\<gamma>}) + rk {B', A'}\n  \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {A', B', B, \\<gamma>} + rk {B', A'}\n    \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}", "by (simp add: \\<open>A' = P\\<close> insert_commute)"], ["proof (state)\nthis:\n  rk {A', B', B, \\<gamma>} + rk {B', A'}\n  \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A', B', B, \\<gamma>} + rk {B', A'}\n  \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}", "have \"rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}\""], ["proof (prove)\nusing this:\n  rk {A', B', B, \\<gamma>} + rk {B', A'}\n  \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {A', B', B, \\<gamma>} + rk {B', A'}\n  \\<le> rk {B, B', P} + rk {A', B', \\<gamma>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}", "by (metis (full_types) add_le_cancel_right insert_commute rk_triple_to_rk_couple)"], ["proof (state)\nthis:\n  rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}", "have f7:\"rk {A', B', B, \\<gamma>} = 2\""], ["proof (prove)\nusing this:\n  rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {A', B', B, \\<gamma>} = 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {A', B', B, \\<gamma>} \\<le> rk {A', B', \\<gamma>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {A', B', B, \\<gamma>} = 2", "by (metis insert_commute le_antisym matroid_ax_2 subset_insertI)"], ["proof (state)\nthis:\n  rk {A', B', B, \\<gamma>} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A, A', B, a, B', \\<gamma>} + rk {A, B, \\<gamma>} \\<le> rk {A, A', B', B, \\<gamma>} + rk {a, A, B, \\<gamma>}\" for a"], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', B, a, B', \\<gamma>} + rk {A, B, \\<gamma>}\n    \\<le> rk {A, A', B', B, \\<gamma>} + rk {a, A, B, \\<gamma>}", "using matroid_ax_3_alt[of \"{A, B, \\<gamma>}\" \"{A, A', B', B, \\<gamma>}\" \"{a, A, B, \\<gamma>}\"]"], ["proof (prove)\nusing this:\n  {A, B, \\<gamma>}\n  \\<subseteq> {A, A', B', B, \\<gamma>} \\<inter>\n              {a, A, B, \\<gamma>} \\<Longrightarrow>\n  rk ({A, A', B', B, \\<gamma>} \\<union> {a, A, B, \\<gamma>}) +\n  rk {A, B, \\<gamma>}\n  \\<le> rk {A, A', B', B, \\<gamma>} + rk {a, A, B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {A, A', B, a, B', \\<gamma>} + rk {A, B, \\<gamma>}\n    \\<le> rk {A, A', B', B, \\<gamma>} + rk {a, A, B, \\<gamma>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', B, ?a, B', \\<gamma>} + rk {A, B, \\<gamma>}\n  \\<le> rk {A, A', B', B, \\<gamma>} + rk {?a, A, B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A, A', B, ?a, B', \\<gamma>} + rk {A, B, \\<gamma>}\n  \\<le> rk {A, A', B', B, \\<gamma>} + rk {?a, A, B, \\<gamma>}", "have f8:\"rk {A, A', B', B, \\<gamma>} \\<ge> 3\""], ["proof (prove)\nusing this:\n  rk {A, A', B, ?a, B', \\<gamma>} + rk {A, B, \\<gamma>}\n  \\<le> rk {A, A', B', B, \\<gamma>} + rk {?a, A, B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', B', B, \\<gamma>}", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] rk_AA'Ca rk_acAC\\<beta>"], ["proof (prove)\nusing this:\n  rk {A, A', B, ?a, B', \\<gamma>} + rk {A, B, \\<gamma>}\n  \\<le> rk {A, A', B', B, \\<gamma>} + rk {?a, A, B, \\<gamma>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>3 \\<le> rk {?A, ?A', ?C}; 4 \\<le> rk {?A, ?B, ?P, ?a};\n   rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\\<rbrakk>\n  \\<Longrightarrow> 4 \\<le> rk {?A, ?A', ?C, ?a}\n  \\<lbrakk>rk {?R, ?A, ?a} = 2; rk {?R, ?C, ?c} = 2; rk {?A, ?C} = 2;\n   rk {?A, ?C, ?\\<beta>} = 2; rk {?Q, ?A', ?a} = 2;\n   4 \\<le> rk {?A, ?A', ?C, ?a}\\<rbrakk>\n  \\<Longrightarrow> rk {?a, ?c, ?A, ?C, ?\\<beta>} = 3\n\ngoal (1 subgoal):\n 1. 3 \\<le> rk {A, A', B', B, \\<gamma>}", "by (metis Un_insert_right Un_upper2 \\<open>A' = P\\<close> insert_commute matroid_ax_2 sup_bot.right_neutral)"], ["proof (state)\nthis:\n  3 \\<le> rk {A, A', B', B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B} \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B}\n    \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}", "using matroid_ax_3_alt[of \"{\\<gamma>, B}\" \"{A, B, \\<gamma>}\" \"{A', B', B, \\<gamma>}\"]"], ["proof (prove)\nusing this:\n  {\\<gamma>, B}\n  \\<subseteq> {A, B, \\<gamma>} \\<inter>\n              {A', B', B, \\<gamma>} \\<Longrightarrow>\n  rk ({A, B, \\<gamma>} \\<union> {A', B', B, \\<gamma>}) + rk {\\<gamma>, B}\n  \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B}\n    \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B}\n  \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B}\n  \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}", "have \"rk {\\<gamma>, B} \\<le> 1\""], ["proof (prove)\nusing this:\n  rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B}\n  \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<gamma>, B} \\<le> 1", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] f7 f8"], ["proof (prove)\nusing this:\n  rk {A, A', B', B, \\<gamma>} + rk {\\<gamma>, B}\n  \\<le> rk {A, B, \\<gamma>} + rk {A', B', B, \\<gamma>}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  rk {A', B', B, \\<gamma>} = 2\n  3 \\<le> rk {A, A', B', B, \\<gamma>}\n\ngoal (1 subgoal):\n 1. rk {\\<gamma>, B} \\<le> 1", "by linarith"], ["proof (state)\nthis:\n  rk {\\<gamma>, B} \\<le> 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {\\<gamma>, B} \\<le> 1", "have \"\\<gamma> = B\""], ["proof (prove)\nusing this:\n  rk {\\<gamma>, B} \\<le> 1\n\ngoal (1 subgoal):\n 1. \\<gamma> = B", "using rk_couple"], ["proof (prove)\nusing this:\n  rk {\\<gamma>, B} \\<le> 1\n  ?A \\<noteq> ?B \\<Longrightarrow> rk {?A, ?B} = 2\n\ngoal (1 subgoal):\n 1. \\<gamma> = B", "by force"], ["proof (state)\nthis:\n  \\<gamma> = B\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  \\<gamma> = B", "have \"rk {\\<alpha>, \\<beta>, \\<gamma>} = rk {\\<alpha>, C, B}\""], ["proof (prove)\nusing this:\n  \\<gamma> = B\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} = rk {\\<alpha>, C, B}", "using \\<open>\\<beta> = C \\<close>"], ["proof (prove)\nusing this:\n  \\<gamma> = B\n  \\<beta> = C\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} = rk {\\<alpha>, C, B}", "by auto"], ["proof (state)\nthis:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} = rk {\\<alpha>, C, B}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "thus \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\nusing this:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} = rk {\\<alpha>, C, B}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} = rk {\\<alpha>, C, B}\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by (metis insert_commute order_refl)"], ["proof (state)\nthis:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_\\<alpha>\\<beta>\\<gamma>_special_case_2 :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {B', P} = 1\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      desargues_config_2D_def[of B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma> \\<equiv>\n  rk {B, A, C} = 3 \\<and>\n  rk {B', A', C'} = 3 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {B, A, \\<gamma>} = 2 \\<and>\n  rk {B', A', \\<gamma>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, A, C, B', A', C'} = 3 \\<and>\n  rk {B, A, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, B'} = 2 \\<and> rk {A, A'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>", "by (metis insert_commute)"], ["proof (state)\nthis:\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "thus \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\nusing this:\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using rk_\\<alpha>\\<beta>\\<gamma>_special_case_1[of B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>] assms(2)"], ["proof (prove)\nusing this:\n  desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>\n  \\<lbrakk>desargues_config_2D B A C B' A' C' P \\<beta> \\<alpha> \\<gamma>;\n   rk {B', P} = 1\\<rbrakk>\n  \\<Longrightarrow> rk {\\<beta>, \\<alpha>, \\<gamma>} \\<le> 2\n  rk {B', P} = 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma rk_\\<alpha>\\<beta>\\<gamma>_special_case_3 :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\" and \"rk {C', P} = 1\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"desargues_config_2D  C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>", "using assms(1) desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] \n      desargues_config_2D_def[of C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>]"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha> \\<equiv>\n  rk {C, B, A} = 3 \\<and>\n  rk {C', B', A'} = 3 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {C, B, \\<alpha>} = 2 \\<and>\n  rk {C', B', \\<alpha>} = 2 \\<and>\n  rk {C, A, \\<beta>} = 2 \\<and>\n  rk {C', A', \\<beta>} = 2 \\<and>\n  rk {B, A, \\<gamma>} = 2 \\<and>\n  rk {B', A', \\<gamma>} = 2 \\<and>\n  rk {C, B, A, C', B', A'} = 3 \\<and>\n  rk {C, B, P} = 3 \\<and>\n  rk {C, A, P} = 3 \\<and>\n  rk {B, A, P} = 3 \\<and>\n  rk {C, C'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {A, A'} = 2\n\ngoal (1 subgoal):\n 1. desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>", "by (metis insert_commute)"], ["proof (state)\nthis:\n  desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "thus \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\nusing this:\n  desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using rk_\\<alpha>\\<beta>\\<gamma>_special_case_1[of C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>] assms(2)"], ["proof (prove)\nusing this:\n  desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>\n  \\<lbrakk>desargues_config_2D C B A C' B' A' P \\<gamma> \\<beta> \\<alpha>;\n   rk {C', P} = 1\\<rbrakk>\n  \\<Longrightarrow> rk {\\<gamma>, \\<beta>, \\<alpha>} \\<le> 2\n  rk {C', P} = 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem desargues_2D :\n  assumes \"desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\"\n  shows \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have f1:\"rk {A, B, C, A', B', C', P} = 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "using assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>] coplanar_ABCA'B'C'P"], ["proof (prove)\nusing this:\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n  \\<lbrakk>rk {?A, ?A'} = 2; rk {?A, ?B, ?C, ?A', ?B', ?C'} = 3;\n   rk {?A, ?A', ?P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {?A, ?B, ?C, ?A', ?B', ?C', ?P} = 3\n\ngoal (1 subgoal):\n 1. rk {A, B, C, A', B', C', P} = 3", "by auto"], ["proof (state)\nthis:\n  rk {A, B, C, A', B', C', P} = 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "obtain Q where \"rk {A, B, C, A', B', C', P, Q} \\<ge> 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        4 \\<le> rk {A, B, C, A', B', C', P, Q} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using f1 rk_ext[of \"{A, B, C, A', B', C', P}\"]"], ["proof (prove)\nusing this:\n  rk {A, B, C, A', B', C', P} = 3\n  rk {A, B, C, A', B', C', P} \\<le> 3 \\<Longrightarrow>\n  \\<exists>Pa.\n     rk ({A, B, C, A', B', C', P} \\<union> {Pa}) =\n     rk {A, B, C, A', B', C', P} + 1\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        4 \\<le> rk {A, B, C, A', B', C', P, Q} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis Un_insert_left add.commute one_plus_numeral order_refl semiring_norm(2) semiring_norm(4) \n        sup_bot.left_neutral)"], ["proof (state)\nthis:\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "obtain R where \"rk {P, Q, R} = 2\" and \"rk {P, R} = 2\" and \"rk {Q, R} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>rk {P, Q, R} = 2; rk {P, R} = 2; rk {Q, R} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using rk_ax_3_pts"], ["proof (prove)\nusing this:\n  \\<exists>C. rk {?A, ?B, C} = 2 \\<and> rk {?B, C} = 2 \\<and> rk {?A, C} = 2\n\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>rk {P, Q, R} = 2; rk {P, R} = 2; rk {Q, R} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, R} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}", "using matroid_ax_3_alt[of \"{P}\" \"{P, Q, R}\" \"{A, A', P}\"]"], ["proof (prove)\nusing this:\n  {P} \\<subseteq> {P, Q, R} \\<inter> {A, A', P} \\<Longrightarrow>\n  rk ({P, Q, R} \\<union> {A, A', P}) + rk {P}\n  \\<le> rk {P, Q, R} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}", "have \"rk {Q, A', R, A, P} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}\n\ngoal (1 subgoal):\n 1. rk {Q, A', R, A, P} \\<le> 3", "using rk_singleton assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {Q, A', R, A, P} + rk {P} \\<le> rk {P, Q, R} + rk {A, A', P}\n  \\<forall>P. rk {P} = 1\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {Q, A', R, A, P} \\<le> 3", "by (metis Suc_1 Suc_eq_plus1 Suc_le_mono \\<open>rk {P, Q, R} = 2\\<close> add_Suc_right eval_nat_numeral(3))"], ["proof (state)\nthis:\n  rk {Q, A', R, A, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, A', R, A, P} \\<le> 3", "have f2:\"rk {Q, A', R, A} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {Q, A', R, A, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {Q, A', R, A} \\<le> 3", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {Q, A', R, A, P} \\<le> 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {Q, A', R, A} \\<le> 3", "by (metis (no_types, hide_lams) dual_order.trans insert_commute subset_insertI)"], ["proof (state)\nthis:\n  rk {Q, A', R, A} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "obtain a where \"rk {Q, A', a} = 2\" and \"rk {R, A, a} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>rk {Q, A', a} = 2; rk {R, A, a} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using f2 rk_ax_pasch"], ["proof (prove)\nusing this:\n  rk {Q, A', R, A} \\<le> 3\n  rk {?A, ?B, ?C, ?D} \\<le> 3 \\<longrightarrow>\n  (\\<exists>J. rk {?A, ?B, J} = 2 \\<and> rk {?C, ?D, J} = 2)\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>rk {Q, A', a} = 2; rk {R, A, a} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  rk {Q, A', a} = 2\n  rk {R, A, a} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}", "using matroid_ax_3_alt[of \"{P}\" \"{P, Q, R}\" \"{B, B', P}\"]"], ["proof (prove)\nusing this:\n  {P} \\<subseteq> {P, Q, R} \\<inter> {B, B', P} \\<Longrightarrow>\n  rk ({P, Q, R} \\<union> {B, B', P}) + rk {P}\n  \\<le> rk {P, Q, R} + rk {B, B', P}\n\ngoal (1 subgoal):\n 1. rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}", "have \"rk {Q, B', R, B, P} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}\n\ngoal (1 subgoal):\n 1. rk {Q, B', R, B, P} \\<le> 3", "using rk_singleton assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {Q, B', R, B, P} + rk {P} \\<le> rk {P, Q, R} + rk {B, B', P}\n  \\<forall>P. rk {P} = 1\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {Q, B', R, B, P} \\<le> 3", "by (metis Suc_1 Suc_eq_plus1 Suc_le_mono \\<open>rk {P, Q, R} = 2\\<close> add_Suc_right eval_nat_numeral(3))"], ["proof (state)\nthis:\n  rk {Q, B', R, B, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, B', R, B, P} \\<le> 3", "have f3:\"rk {Q, B', R, B} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {Q, B', R, B, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {Q, B', R, B} \\<le> 3", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {Q, B', R, B, P} \\<le> 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {Q, B', R, B} \\<le> 3", "by (metis (no_types, hide_lams) dual_order.trans insert_commute subset_insertI)"], ["proof (state)\nthis:\n  rk {Q, B', R, B} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "obtain b where \"rk {Q, B', b} = 2\" and \"rk {R, B, b} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>b.\n        \\<lbrakk>rk {Q, B', b} = 2; rk {R, B, b} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using f3 rk_ax_pasch"], ["proof (prove)\nusing this:\n  rk {Q, B', R, B} \\<le> 3\n  rk {?A, ?B, ?C, ?D} \\<le> 3 \\<longrightarrow>\n  (\\<exists>J. rk {?A, ?B, J} = 2 \\<and> rk {?C, ?D, J} = 2)\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        \\<lbrakk>rk {Q, B', b} = 2; rk {R, B, b} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  rk {Q, B', b} = 2\n  rk {R, B, b} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}", "using matroid_ax_3_alt[of \"{P}\" \"{P, Q, R}\" \"{C, C', P}\"]"], ["proof (prove)\nusing this:\n  {P} \\<subseteq> {P, Q, R} \\<inter> {C, C', P} \\<Longrightarrow>\n  rk ({P, Q, R} \\<union> {C, C', P}) + rk {P}\n  \\<le> rk {P, Q, R} + rk {C, C', P}\n\ngoal (1 subgoal):\n 1. rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}", "by (simp add: insert_commute)"], ["proof (state)\nthis:\n  rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}", "have \"rk {Q, C', R, C, P} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}\n\ngoal (1 subgoal):\n 1. rk {Q, C', R, C, P} \\<le> 3", "using rk_singleton assms desargues_config_2D_def[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>]"], ["proof (prove)\nusing this:\n  rk {Q, C', R, C, P} + rk {P} \\<le> rk {P, Q, R} + rk {C, C', P}\n  \\<forall>P. rk {P} = 1\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> \\<equiv>\n  rk {A, B, C} = 3 \\<and>\n  rk {A', B', C'} = 3 \\<and>\n  rk {A, A', P} = 2 \\<and>\n  rk {B, B', P} = 2 \\<and>\n  rk {C, C', P} = 2 \\<and>\n  rk {A, B, \\<gamma>} = 2 \\<and>\n  rk {A', B', \\<gamma>} = 2 \\<and>\n  rk {A, C, \\<beta>} = 2 \\<and>\n  rk {A', C', \\<beta>} = 2 \\<and>\n  rk {B, C, \\<alpha>} = 2 \\<and>\n  rk {B', C', \\<alpha>} = 2 \\<and>\n  rk {A, B, C, A', B', C'} = 3 \\<and>\n  rk {A, B, P} = 3 \\<and>\n  rk {A, C, P} = 3 \\<and>\n  rk {B, C, P} = 3 \\<and>\n  rk {A, A'} = 2 \\<and> rk {B, B'} = 2 \\<and> rk {C, C'} = 2\n\ngoal (1 subgoal):\n 1. rk {Q, C', R, C, P} \\<le> 3", "by (metis Suc_1 Suc_eq_plus1 Suc_le_mono \\<open>rk {P, Q, R} = 2\\<close> add_Suc_right eval_nat_numeral(3))"], ["proof (state)\nthis:\n  rk {Q, C', R, C, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, C', R, C, P} \\<le> 3", "have f4:\"rk {Q, C', R, C} \\<le> 3\""], ["proof (prove)\nusing this:\n  rk {Q, C', R, C, P} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {Q, C', R, C} \\<le> 3", "using matroid_ax_2"], ["proof (prove)\nusing this:\n  rk {Q, C', R, C, P} \\<le> 3\n  ?X \\<subseteq> ?Y \\<longrightarrow> rk ?X \\<le> rk ?Y\n\ngoal (1 subgoal):\n 1. rk {Q, C', R, C} \\<le> 3", "by (metis (no_types, hide_lams) dual_order.trans insert_commute subset_insertI)"], ["proof (state)\nthis:\n  rk {Q, C', R, C} \\<le> 3\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "obtain c where \"rk {Q, C', c} = 2\" and \"rk {R, C, c} = 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>rk {Q, C', c} = 2; rk {R, C, c} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using f4 rk_ax_pasch"], ["proof (prove)\nusing this:\n  rk {Q, C', R, C} \\<le> 3\n  rk {?A, ?B, ?C, ?D} \\<le> 3 \\<longrightarrow>\n  (\\<exists>J. rk {?A, ?B, J} = 2 \\<and> rk {?C, ?D, J} = 2)\n\ngoal (1 subgoal):\n 1. (\\<And>c.\n        \\<lbrakk>rk {Q, C', c} = 2; rk {R, C, c} = 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  rk {Q, C', c} = 2\n  rk {R, C, c} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "then"], ["proof (chain)\npicking this:\n  rk {Q, C', c} = 2\n  rk {R, C, c} = 2", "have \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\" if \"rk {A', P} = 2\" and \"rk {B', P} = 2\" and \"rk {C', P} = 2\""], ["proof (prove)\nusing this:\n  rk {Q, C', c} = 2\n  rk {R, C, c} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using rk_\\<alpha>\\<beta>\\<gamma>[of A B C A' B' C' P \\<alpha> \\<beta> \\<gamma> Q a b c R] \\<open>4 \\<le> rk {A, B, C, A', B', C', P, Q}\\<close> \n      \\<open>rk {P, Q, R} = 2\\<close> \\<open>rk {P, R} = 2\\<close> \\<open>rk {Q, A', a} = 2\\<close> \\<open>rk {Q, B', b} = 2\\<close> \\<open>rk {Q, R} = 2\\<close> \n      \\<open>rk {R, A, a} = 2\\<close> \\<open>rk {R, B, b} = 2\\<close> assms that(1) that(2) that(3)"], ["proof (prove)\nusing this:\n  rk {Q, C', c} = 2\n  rk {R, C, c} = 2\n  \\<lbrakk>desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>;\n   4 \\<le> rk {A, B, C, A', B', C', P, Q}; rk {Q, A', a} = 2;\n   rk {Q, B', b} = 2; rk {Q, C', c} = 2; rk {P, Q, R} = 2; rk {P, R} = 2;\n   rk {Q, R} = 2; rk {R, A, a} = 2; rk {R, B, b} = 2; rk {R, C, c} = 2;\n   rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n  4 \\<le> rk {A, B, C, A', B', C', P, Q}\n  rk {P, Q, R} = 2\n  rk {P, R} = 2\n  rk {Q, A', a} = 2\n  rk {Q, B', b} = 2\n  rk {Q, R} = 2\n  rk {R, A, a} = 2\n  rk {R, B, b} = 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {A', P} = 2\n  rk {B', P} = 2\n  rk {C', P} = 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\" if \"rk {A', P} = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using rk_\\<alpha>\\<beta>\\<gamma>_special_case_1 assms that"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   rk {?A', ?P} = 1\\<rbrakk>\n  \\<Longrightarrow> rk {?\\<alpha>, ?\\<beta>, ?\\<gamma>} \\<le> 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {A', P} = 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by auto"], ["proof (state)\nthis:\n  rk {A', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\" if \"rk {B', P} = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using rk_\\<alpha>\\<beta>\\<gamma>_special_case_2 assms that"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   rk {?B', ?P} = 1\\<rbrakk>\n  \\<Longrightarrow> rk {?\\<alpha>, ?\\<beta>, ?\\<gamma>} \\<le> 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {B', P} = 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by auto"], ["proof (state)\nthis:\n  rk {B', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "have \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\" if \"rk {C', P} = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using rk_\\<alpha>\\<beta>\\<gamma>_special_case_3 assms that"], ["proof (prove)\nusing this:\n  \\<lbrakk>desargues_config_2D ?A ?B ?C ?A' ?B' ?C' ?P ?\\<alpha> ?\\<beta>\n            ?\\<gamma>;\n   rk {?C', ?P} = 1\\<rbrakk>\n  \\<Longrightarrow> rk {?\\<alpha>, ?\\<beta>, ?\\<gamma>} \\<le> 2\n  desargues_config_2D A B C A' B' C' P \\<alpha> \\<beta> \\<gamma>\n  rk {C', P} = 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by auto"], ["proof (state)\nthis:\n  rk {C', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "thus \"rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\""], ["proof (prove)\nusing this:\n  rk {C', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "using \\<open>\\<lbrakk>rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk> \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\\<close> \n      \\<open>rk {A', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\\<close> \\<open>rk {B', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\\<close> \n      rk_couple rk_singleton_bis"], ["proof (prove)\nusing this:\n  rk {C', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n  \\<lbrakk>rk {A', P} = 2; rk {B', P} = 2; rk {C', P} = 2\\<rbrakk>\n  \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n  rk {A', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n  rk {B', P} = 1 \\<Longrightarrow> rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n  ?A \\<noteq> ?B \\<Longrightarrow> rk {?A, ?B} = 2\n  ?A = ?B \\<Longrightarrow> rk {?A, ?B} = 1\n\ngoal (1 subgoal):\n 1. rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2", "by blast"], ["proof (state)\nthis:\n  rk {\\<alpha>, \\<beta>, \\<gamma>} \\<le> 2\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}