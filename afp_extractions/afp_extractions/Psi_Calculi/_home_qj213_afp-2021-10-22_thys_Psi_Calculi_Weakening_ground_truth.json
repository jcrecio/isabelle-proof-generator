{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Weakening.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma entWeaken:\n  fixes \\<Psi> :: 'b\n  and   \\<phi> :: 'c\n\n  assumes \"\\<Psi> \\<turnstile> \\<phi>\"\n\n  shows \"\\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\"", "lemma assertWeaken:\n  fixes \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n\n  shows \"\\<Psi> \\<hookrightarrow> \\<Psi> \\<otimes> \\<Psi>'\"", "lemma frameWeaken:\n  fixes F :: \"'b frame\"\n  and   G :: \"'b frame\"\n\n  shows \"F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G\"", "lemma unitAssertWeaken:\n  fixes \\<Psi> :: 'b\n\n  shows \"\\<one> \\<hookrightarrow> \\<Psi>\"", "lemma unitFrameWeaken:\n  fixes F :: \"'b frame\"\n\n  shows \"\\<langle>\\<epsilon>, \\<one>\\<rangle> \\<hookrightarrow>\\<^sub>F F\"", "lemma insertAssertionWeaken:\n  fixes F :: \"'b frame\"\n  and   \\<Psi> :: 'b\n\n  shows \"\\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion F \\<Psi>\"", "lemma frameImpStatEq:\n  fixes A\\<^sub>F  :: \"name list\"\n  and   \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n  and   \\<phi>  :: 'c\n\n  assumes \"(\\<langle>A\\<^sub>F, \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\"\n  and     \"\\<Psi> \\<simeq> \\<Psi>'\"\n\n  shows \"(\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\"", "lemma statImpTauDerivative:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   P'   :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\"\n\n  shows \"insertAssertion (extractFrame P) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\"", "lemma weakenTransition:\n  fixes \\<Psi>  :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   Rs :: \"('a, 'b, 'c) residual\"\n  and   \\<Psi>' :: 'b\n\n  assumes \"\\<Psi> \\<rhd> P \\<longmapsto> Rs\"\n\n  shows \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\""], "translations": [["", "lemma entWeaken:\n  fixes \\<Psi> :: 'b\n  and   \\<phi> :: 'c\n\n  assumes \"\\<Psi> \\<turnstile> \\<phi>\"\n\n  shows \"\\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>", "using assms weaken"], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> \\<phi>\n  ?\\<Psi> \\<hookrightarrow> ?\\<Psi> \\<otimes> ?\\<Psi>'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>", "by(auto simp add: AssertionStatImp_def)"], ["", "lemma assertWeaken:\n  fixes \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n\n  shows \"\\<Psi> \\<hookrightarrow> \\<Psi> \\<otimes> \\<Psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<hookrightarrow> \\<Psi> \\<otimes> \\<Psi>'", "by(auto simp add: AssertionStatImp_def entWeaken)"], ["", "lemma frameWeaken:\n  fixes F :: \"'b frame\"\n  and   G :: \"'b frame\"\n\n  shows \"F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "obtain A\\<^sub>F \\<Psi>\\<^sub>F where FrF: \"F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\" and \"A\\<^sub>F \\<sharp>* F\" and  \"A\\<^sub>F \\<sharp>* G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>F \\<Psi>\\<^sub>F.\n        \\<lbrakk>F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>;\n         A\\<^sub>F \\<sharp>* F; A\\<^sub>F \\<sharp>* G\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac F=F and C=\"(F, G)\" in freshFrame) auto"], ["proof (state)\nthis:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n  A\\<^sub>F \\<sharp>* F\n  A\\<^sub>F \\<sharp>* G\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "obtain A\\<^sub>G \\<Psi>\\<^sub>G where FrG: \"G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>\" and \"A\\<^sub>G \\<sharp>* F\" and  \"A\\<^sub>G \\<sharp>* G\" and \"A\\<^sub>G \\<sharp>* A\\<^sub>F\" and \"A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>G \\<Psi>\\<^sub>G.\n        \\<lbrakk>G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>;\n         A\\<^sub>G \\<sharp>* F; A\\<^sub>G \\<sharp>* G;\n         A\\<^sub>G \\<sharp>* A\\<^sub>F;\n         A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac F=G and C=\"(F, G, A\\<^sub>F, \\<Psi>\\<^sub>F)\" in freshFrame) auto"], ["proof (state)\nthis:\n  G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>\n  A\\<^sub>G \\<sharp>* F\n  A\\<^sub>G \\<sharp>* G\n  A\\<^sub>G \\<sharp>* A\\<^sub>F\n  A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "from FrG \\<open>A\\<^sub>F \\<sharp>* G\\<close> \\<open>A\\<^sub>G \\<sharp>* A\\<^sub>F\\<close>"], ["proof (chain)\npicking this:\n  G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>\n  A\\<^sub>F \\<sharp>* G\n  A\\<^sub>G \\<sharp>* A\\<^sub>F", "have \"A\\<^sub>F \\<sharp>* \\<Psi>\\<^sub>G\""], ["proof (prove)\nusing this:\n  G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>\n  A\\<^sub>F \\<sharp>* G\n  A\\<^sub>G \\<sharp>* A\\<^sub>F\n\ngoal (1 subgoal):\n 1. A\\<^sub>F \\<sharp>* \\<Psi>\\<^sub>G", "by auto"], ["proof (state)\nthis:\n  A\\<^sub>F \\<sharp>* \\<Psi>\\<^sub>G\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "have \"\\<Psi>\\<^sub>F \\<hookrightarrow> \\<Psi>\\<^sub>F \\<otimes> \\<Psi>\\<^sub>G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>F \\<hookrightarrow> \\<Psi>\\<^sub>F \\<otimes> \\<Psi>\\<^sub>G", "by(rule weaken)"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>F \\<hookrightarrow> \\<Psi>\\<^sub>F \\<otimes> \\<Psi>\\<^sub>G\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "hence \"\\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes> \\<Psi>\\<^sub>G\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<Psi>\\<^sub>F \\<hookrightarrow> \\<Psi>\\<^sub>F \\<otimes> \\<Psi>\\<^sub>G\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                  \\<Psi>\\<^sub>G\\<rangle>", "by(rule_tac frameImpResChainPres) auto"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                \\<Psi>\\<^sub>G\\<rangle>\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "with \\<open>A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\n  \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                \\<Psi>\\<^sub>G\\<rangle>", "have \"\\<langle>\\<epsilon>, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes> \\<Psi>\\<^sub>G\\<rangle>\""], ["proof (prove)\nusing this:\n  A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\n  \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                \\<Psi>\\<^sub>G\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                   \\<Psi>\\<^sub>G\\<rangle>", "using frameResFreshChain"], ["proof (prove)\nusing this:\n  A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\n  \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                \\<Psi>\\<^sub>G\\<rangle>\n  ?xvec \\<sharp>* ?F \\<Longrightarrow>\n  \\<lparr>\\<nu>*?xvec\\<rparr>?F \\<simeq>\\<^sub>F ?F\n\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                   \\<Psi>\\<^sub>G\\<rangle>", "by(rule_tac FrameStatImpTrans) (auto simp add: FrameStatEq_def)"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                 \\<Psi>\\<^sub>G\\<rangle>\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "with FrF FrG \\<open>A\\<^sub>G \\<sharp>* A\\<^sub>F\\<close> \\<open>A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\\<close> \\<open>A\\<^sub>F \\<sharp>* \\<Psi>\\<^sub>G\\<close>"], ["proof (chain)\npicking this:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n  G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>\n  A\\<^sub>G \\<sharp>* A\\<^sub>F\n  A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\n  A\\<^sub>F \\<sharp>* \\<Psi>\\<^sub>G\n  \\<langle>\\<epsilon>, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                 \\<Psi>\\<^sub>G\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n  G = \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>G\\<rangle>\n  A\\<^sub>G \\<sharp>* A\\<^sub>F\n  A\\<^sub>G \\<sharp>* \\<Psi>\\<^sub>F\n  A\\<^sub>F \\<sharp>* \\<Psi>\\<^sub>G\n  \\<langle>\\<epsilon>, \\<Psi>\\<^sub>F\\<rangle> \\<hookrightarrow>\\<^sub>F \\<langle>A\\<^sub>G, \\<Psi>\\<^sub>F \\<otimes>\n                 \\<Psi>\\<^sub>G\\<rangle>\n\ngoal (1 subgoal):\n 1. F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G", "by(force simp add: frameChainAppend intro: frameImpResChainPres)"], ["proof (state)\nthis:\n  F \\<hookrightarrow>\\<^sub>F F \\<otimes>\\<^sub>F G\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma unitAssertWeaken:\n  fixes \\<Psi> :: 'b\n\n  shows \"\\<one> \\<hookrightarrow> \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<Psi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<Psi>", "have \"\\<one> \\<hookrightarrow> \\<one> \\<otimes> \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<one> \\<otimes> \\<Psi>", "by(rule assertWeaken)"], ["proof (state)\nthis:\n  \\<one> \\<hookrightarrow> \\<one> \\<otimes> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<Psi>", "moreover"], ["proof (state)\nthis:\n  \\<one> \\<hookrightarrow> \\<one> \\<otimes> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<Psi>", "have \"\\<one> \\<otimes> \\<Psi> \\<hookrightarrow> \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<one> \\<otimes> \\<Psi> \\<hookrightarrow> \\<Psi>", "by(metis Identity AssertionStatEq_def Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<one> \\<otimes> \\<Psi> \\<hookrightarrow> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<Psi>", "ultimately"], ["proof (chain)\npicking this:\n  \\<one> \\<hookrightarrow> \\<one> \\<otimes> \\<Psi>\n  \\<one> \\<otimes> \\<Psi> \\<hookrightarrow> \\<Psi>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<one> \\<hookrightarrow> \\<one> \\<otimes> \\<Psi>\n  \\<one> \\<otimes> \\<Psi> \\<hookrightarrow> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<one> \\<hookrightarrow> \\<Psi>", "by(rule AssertionStatImpTrans)"], ["proof (state)\nthis:\n  \\<one> \\<hookrightarrow> \\<Psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma unitFrameWeaken:\n  fixes F :: \"'b frame\"\n\n  shows \"\\<langle>\\<epsilon>, \\<one>\\<rangle> \\<hookrightarrow>\\<^sub>F F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "have \"\\<langle>\\<epsilon>, \\<one>\\<rangle> \\<hookrightarrow>\\<^sub>F ((\\<langle>\\<epsilon>, \\<one>\\<rangle>) \\<otimes>\\<^sub>F F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F\n          F", "by(rule frameWeaken)"], ["proof (state)\nthis:\n  \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F\n        F\n\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "moreover"], ["proof (state)\nthis:\n  \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F\n        F\n\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "obtain A\\<^sub>F \\<Psi>\\<^sub>F where FrF: \"F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>F \\<Psi>\\<^sub>F.\n        F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac F=F and C=\"()\" in freshFrame) auto"], ["proof (state)\nthis:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "hence \"(\\<langle>\\<epsilon>, \\<one>\\<rangle>) \\<otimes>\\<^sub>F F \\<simeq>\\<^sub>F F\""], ["proof (prove)\nusing this:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F F \\<simeq>\\<^sub>F F", "by simp (metis frameIntIdentity frameIntCommutativity FrameStatEqTrans FrameStatEqSym)"], ["proof (state)\nthis:\n  \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F F \\<simeq>\\<^sub>F F\n\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "ultimately"], ["proof (chain)\npicking this:\n  \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F\n        F\n  \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F F \\<simeq>\\<^sub>F F", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F\n        F\n  \\<bottom>\\<^sub>F \\<otimes>\\<^sub>F F \\<simeq>\\<^sub>F F\n\ngoal (1 subgoal):\n 1. \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F", "by(metis FrameStatImpTrans FrameStatEq_def)"], ["proof (state)\nthis:\n  \\<bottom>\\<^sub>F \\<hookrightarrow>\\<^sub>F F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma insertAssertionWeaken:\n  fixes F :: \"'b frame\"\n  and   \\<Psi> :: 'b\n\n  shows \"\\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion F \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion\n                              F \\<Psi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion\n                              F \\<Psi>", "have \"\\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F (\\<langle>\\<epsilon>, \\<Psi>\\<rangle>) \\<otimes>\\<^sub>F F\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F (\\<langle>\\<epsilon>, \\<Psi>\\<rangle>) \\<otimes>\\<^sub>F\n                             F", "by(rule frameWeaken)"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F (\\<langle>\\<epsilon>, \\<Psi>\\<rangle>) \\<otimes>\\<^sub>F\n                           F\n\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion\n                              F \\<Psi>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F (\\<langle>\\<epsilon>, \\<Psi>\\<rangle>) \\<otimes>\\<^sub>F\n                           F\n\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion\n                              F \\<Psi>", "by simp"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi>\\<rangle> \\<hookrightarrow>\\<^sub>F insertAssertion\n                            F \\<Psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma frameImpStatEq:\n  fixes A\\<^sub>F  :: \"name list\"\n  and   \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n  and   \\<phi>  :: 'c\n\n  assumes \"(\\<langle>A\\<^sub>F, \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\"\n  and     \"\\<Psi> \\<simeq> \\<Psi>'\"\n\n  shows \"(\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "obtain p::\"name prm\" where \"(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>\" and \"(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>\" and \"(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>'\"\n                         and \"distinctPerm p\" and S: \"set p \\<subseteq> set A\\<^sub>F \\<times> set(p \\<bullet> A\\<^sub>F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>;\n         (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>'; distinctPerm p;\n         set p\n         \\<subseteq> set A\\<^sub>F \\<times>\n                     set (p \\<bullet> A\\<^sub>F)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<phi>, \\<Psi>, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>'\n  distinctPerm p\n  set p \\<subseteq> set A\\<^sub>F \\<times> set (p \\<bullet> A\\<^sub>F)\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "from \\<open>(\\<langle>A\\<^sub>F, \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\\<close> \\<open>(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  (\\<langle>A\\<^sub>F, \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set A\\<^sub>F \\<times> set (p \\<bullet> A\\<^sub>F)", "have \"(\\<langle>(p \\<bullet> A\\<^sub>F), p \\<bullet> \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\""], ["proof (prove)\nusing this:\n  (\\<langle>A\\<^sub>F, \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set A\\<^sub>F \\<times> set (p \\<bullet> A\\<^sub>F)\n\ngoal (1 subgoal):\n 1. (\\<langle>p \\<bullet>\n              A\\<^sub>F, p \\<bullet>\n                         \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "by(simp add: frameChainAlpha)"], ["proof (state)\nthis:\n  (\\<langle>p \\<bullet>\n            A\\<^sub>F, p \\<bullet>\n                       \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "hence \"(p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  (\\<langle>p \\<bullet>\n            A\\<^sub>F, p \\<bullet>\n                       \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n\ngoal (1 subgoal):\n 1. (p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>", "using \\<open>(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  (\\<langle>p \\<bullet>\n            A\\<^sub>F, p \\<bullet>\n                       \\<Psi>\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>\n\ngoal (1 subgoal):\n 1. (p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>", "by(rule frameImpE)"], ["proof (state)\nthis:\n  (p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "from \\<open>\\<Psi> \\<simeq> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<simeq> \\<Psi>'", "have \"(p \\<bullet> \\<Psi>) \\<simeq> (p \\<bullet> \\<Psi>')\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<simeq> \\<Psi>'\n\ngoal (1 subgoal):\n 1. p \\<bullet> \\<Psi> \\<simeq> p \\<bullet> \\<Psi>'", "by(rule AssertionStatEqClosed)"], ["proof (state)\nthis:\n  p \\<bullet> \\<Psi> \\<simeq> p \\<bullet> \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "ultimately"], ["proof (chain)\npicking this:\n  (p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>\n  p \\<bullet> \\<Psi> \\<simeq> p \\<bullet> \\<Psi>'", "have \"(p \\<bullet> \\<Psi>') \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  (p \\<bullet> \\<Psi>) \\<turnstile> \\<phi>\n  p \\<bullet> \\<Psi> \\<simeq> p \\<bullet> \\<Psi>'\n\ngoal (1 subgoal):\n 1. (p \\<bullet> \\<Psi>') \\<turnstile> \\<phi>", "by(simp add: AssertionStatEq_def AssertionStatImp_def)"], ["proof (state)\nthis:\n  (p \\<bullet> \\<Psi>') \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "hence \"(\\<langle>(p \\<bullet> A\\<^sub>F), p \\<bullet> \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\""], ["proof (prove)\nusing this:\n  (p \\<bullet> \\<Psi>') \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>p \\<bullet>\n              A\\<^sub>F, p \\<bullet>\n                         \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "using \\<open>(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  (p \\<bullet> \\<Psi>') \\<turnstile> \\<phi>\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>p \\<bullet>\n              A\\<^sub>F, p \\<bullet>\n                         \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "by(rule_tac frameImpI) auto"], ["proof (state)\nthis:\n  (\\<langle>p \\<bullet>\n            A\\<^sub>F, p \\<bullet>\n                       \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "with \\<open>(p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>'\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>'\n  set p \\<subseteq> set A\\<^sub>F \\<times> set (p \\<bullet> A\\<^sub>F)\n  (\\<langle>p \\<bullet>\n            A\\<^sub>F, p \\<bullet>\n                       \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "show ?thesis"], ["proof (prove)\nusing this:\n  (p \\<bullet> A\\<^sub>F) \\<sharp>* \\<Psi>'\n  set p \\<subseteq> set A\\<^sub>F \\<times> set (p \\<bullet> A\\<^sub>F)\n  (\\<langle>p \\<bullet>\n            A\\<^sub>F, p \\<bullet>\n                       \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>", "by(simp add: frameChainAlpha)"], ["proof (state)\nthis:\n  (\\<langle>A\\<^sub>F, \\<Psi>'\\<rangle>) \\<turnstile>\\<^sub>F \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma statImpTauDerivative:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   P'   :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\"\n\n  shows \"insertAssertion (extractFrame P) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n \\<Psi>", "proof(auto simp add: FrameStatImp_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "fix \\<phi> :: 'c"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* P\" and \"A\\<^sub>P \\<sharp>* \\<phi>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"distinct A\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* \\<phi>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; distinct A\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(P, \\<phi>, \\<Psi>)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* \\<phi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  distinct A\\<^sub>P\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* \\<phi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  distinct A\\<^sub>P", "obtain \\<Psi>' A\\<^sub>P' \\<Psi>\\<^sub>P' where FrP': \"extractFrame P' = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\" and \"\\<Psi>\\<^sub>P \\<otimes> \\<Psi>' \\<simeq> \\<Psi>\\<^sub>P'\" \n                                              and \"A\\<^sub>P' \\<sharp>* P'\" and \"A\\<^sub>P' \\<sharp>* \\<phi>\"  and \"A\\<^sub>P' \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* \\<phi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  distinct A\\<^sub>P\n\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P' \\<Psi>\\<^sub>P' \\<Psi>'.\n        \\<lbrakk>extractFrame P' =\n                 \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>;\n         \\<Psi>\\<^sub>P \\<otimes> \\<Psi>' \\<simeq> \\<Psi>\\<^sub>P';\n         A\\<^sub>P' \\<sharp>* P'; A\\<^sub>P' \\<sharp>* \\<phi>;\n         A\\<^sub>P' \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, \\<phi>)\" in expandTauFrame) auto"], ["proof (state)\nthis:\n  extractFrame P' = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>' \\<simeq> \\<Psi>\\<^sub>P'\n  A\\<^sub>P' \\<sharp>* P'\n  A\\<^sub>P' \\<sharp>* \\<phi>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "assume \"insertAssertion (extractFrame P) \\<Psi> \\<turnstile>\\<^sub>F \\<phi>\""], ["proof (state)\nthis:\n  insertAssertion (extractFrame P) \\<Psi> \\<turnstile>\\<^sub>F \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "with FrP \\<open>A\\<^sub>P \\<sharp>* \\<phi>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<phi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  insertAssertion (extractFrame P) \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<phi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  insertAssertion (extractFrame P) \\<Psi> \\<turnstile>\\<^sub>F \\<phi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<turnstile> \\<phi>", "by(auto dest: frameImpE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "hence \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<turnstile> \\<phi>", "by(rule entWeaken)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> \\<phi>", "using \\<open>\\<Psi>\\<^sub>P \\<otimes> \\<Psi>' \\<simeq> \\<Psi>\\<^sub>P'\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>' \\<simeq> \\<Psi>\\<^sub>P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> \\<phi>", "by(rule_tac statEqEnt, auto) (metis Associativity compositionSym AssertionStatEqTrans AssertionStatEqSym Commutativity)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<phi>.\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<turnstile>\\<^sub>F \\<phi> \\<Longrightarrow>\n       insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "with \\<open>A\\<^sub>P' \\<sharp>* \\<phi>\\<close> \\<open>A\\<^sub>P' \\<sharp>* \\<Psi>\\<close> FrP'"], ["proof (chain)\npicking this:\n  A\\<^sub>P' \\<sharp>* \\<phi>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  extractFrame P' = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> \\<phi>", "show \"insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>\""], ["proof (prove)\nusing this:\n  A\\<^sub>P' \\<sharp>* \\<phi>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  extractFrame P' = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>", "by(force intro: frameImpI)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P') \\<Psi> \\<turnstile>\\<^sub>F \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakenTransition:\n  fixes \\<Psi>  :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   Rs :: \"('a, 'b, 'c) residual\"\n  and   \\<Psi>' :: 'b\n\n  assumes \"\\<Psi> \\<rhd> P \\<longmapsto> Rs\"\n\n  shows \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> Rs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs", "proof(nominal_induct avoiding: \\<Psi>' rule: semantics.strong_induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<Psi> M K xvec N Tvec P \\<Psi>'.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; distinct xvec;\n        set xvec \\<subseteq> supp N; xvec \\<sharp>* Tvec;\n        length xvec = length Tvec; xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* M;\n        xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n 2. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 3. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 8. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 9. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 10. \\<And>\\<Psi> P Rs \\<Psi>'.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n         \\<And>b.\n            \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n         guarded P\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cInput \\<Psi> M K xvec N Tvec P \\<Psi>')"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>'\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  xvec \\<sharp>* Tvec\n  length xvec = length Tvec\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n\ngoal (10 subgoals):\n 1. \\<And>\\<Psi> M K xvec N Tvec P \\<Psi>'.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; distinct xvec;\n        set xvec \\<subseteq> supp N; xvec \\<sharp>* Tvec;\n        length xvec = length Tvec; xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* M;\n        xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n 2. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 3. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 8. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 9. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 10. \\<And>\\<Psi> P Rs \\<Psi>'.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n         \\<And>b.\n            \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n         guarded P\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K", "by(rule entWeaken)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (10 subgoals):\n 1. \\<And>\\<Psi> M K xvec N Tvec P \\<Psi>'.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; distinct xvec;\n        set xvec \\<subseteq> supp N; xvec \\<sharp>* Tvec;\n        length xvec = length Tvec; xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* M;\n        xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n 2. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 3. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 8. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 9. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 10. \\<And>\\<Psi> P Rs \\<Psi>'.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n         \\<And>b.\n            \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n         guarded P\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]", "using \\<open>distinct xvec\\<close> \\<open>set xvec \\<subseteq> (supp N)\\<close> \\<open>length xvec = length Tvec\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]", "by(rule Input)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n\ngoal (9 subgoals):\n 1. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 2. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 8. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 9. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 2. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 8. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 9. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(Output \\<Psi> M K N P \\<Psi>')"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (9 subgoals):\n 1. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 2. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 8. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 9. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K", "by(rule entWeaken)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (9 subgoals):\n 1. \\<And>\\<Psi> M K N P \\<Psi>'.\n       \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n 2. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 7. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 8. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 9. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P", "by(rule semantics.Output)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> P\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(Case \\<Psi> P Rs \\<phi> Cs \\<Psi>')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> Rs\n  \\<Psi> \\<otimes> ?b \\<rhd> P \\<longmapsto> Rs\n  (\\<phi>, P) mem Cs\n  \\<Psi> \\<turnstile> \\<phi>\n  guarded P\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs", "by(rule Case)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "note \\<open>(\\<phi>, P) mem Cs\\<close>"], ["proof (state)\nthis:\n  (\\<phi>, P) mem Cs\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  (\\<phi>, P) mem Cs\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "from \\<open>\\<Psi> \\<turnstile> \\<phi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> \\<phi>", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>", "by(rule entWeaken)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\n\ngoal (8 subgoals):\n 1. \\<And>\\<Psi> P Rs \\<phi> Cs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> Rs;\n        \\<And>b. \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> Rs;\n        (\\<phi>, P) mem Cs; \\<Psi> \\<turnstile> \\<phi>; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 6. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 7. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 8. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\n  (\\<phi>, P) mem Cs\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\n  (\\<phi>, P) mem Cs\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> Rs\n  (\\<phi>, P) mem Cs\n  \\<Psi> \\<otimes> \\<Psi>' \\<turnstile> \\<phi>\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs", "by(rule semantics.Case)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Cases Cs \\<longmapsto> Rs\n\ngoal (7 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 6. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 7. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 6. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 7. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cPar1 \\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>')"], ["proof (state)\nthis:\n  A\\<^sub>Q \\<sharp>* \\<Psi>'\n  bn \\<alpha> \\<sharp>* \\<Psi>'\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  ?b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  distinct A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* P\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<alpha>\n  A\\<^sub>Q \\<sharp>* P'\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q\n  bn \\<alpha> \\<sharp>* Q\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n\ngoal (7 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 6. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 7. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n    \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'", "by(rule cPar1)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (7 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 6. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 7. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> P'\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'", "by(metis statEqTransition Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (7 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P \\<alpha> P' Q A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>Q \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* Q;\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<alpha>;\n        A\\<^sub>Q \\<sharp>* P'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>Q;\n        bn \\<alpha> \\<sharp>* Q; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 5. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 6. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 7. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q", "using \\<open>extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\\<close> \\<open>bn \\<alpha> \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>'\\<close> \\<open>A\\<^sub>Q \\<sharp>* P\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<alpha>\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  bn \\<alpha> \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>'\n  A\\<^sub>Q \\<sharp>* P\n  A\\<^sub>Q \\<sharp>* \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q", "by(rule_tac Par1) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<parallel>\n                 Q \\<longmapsto> \\<alpha> \\<prec> P' \\<parallel> Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 5. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 6. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 5. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 6. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cPar2 \\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>')"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>'\n  bn \\<alpha> \\<sharp>* \\<Psi>'\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  ?b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<alpha>\n  A\\<^sub>P \\<sharp>* Q'\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n\ngoal (6 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 5. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 6. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<rhd> Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<Psi>' \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by(rule cPar2)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<Psi>' \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 5. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 6. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<Psi>' \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by(metis statEqTransition Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (6 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>P Q \\<alpha> Q' P A\\<^sub>P \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<alpha>;\n        A\\<^sub>P \\<sharp>* Q'; distinct (bn \\<alpha>);\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* \\<Psi>\\<^sub>P;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 4. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 5. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 6. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'", "using \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close> \\<open>bn \\<alpha> \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>'\\<close> \\<open>A\\<^sub>P \\<sharp>* Q\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<alpha>\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  bn \\<alpha> \\<sharp>* P\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>'\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'", "by(rule_tac Par2) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<parallel>\n                 Q \\<longmapsto> \\<alpha> \\<prec> P \\<parallel> Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cComm1 \\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec Q' A\\<^sub>Q \\<Psi>')"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>'\n  A\\<^sub>Q \\<sharp>* \\<Psi>'\n  xvec \\<sharp>* \\<Psi>'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  ?b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  ?b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  distinct A\\<^sub>Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* N\n  A\\<^sub>P \\<sharp>* P'\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* Q'\n  A\\<^sub>P \\<sharp>* A\\<^sub>Q\n  A\\<^sub>P \\<sharp>* xvec\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* P\n  A\\<^sub>Q \\<sharp>* N\n  A\\<^sub>Q \\<sharp>* P'\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* K\n  A\\<^sub>Q \\<sharp>* Q'\n  A\\<^sub>Q \\<sharp>* xvec\n  distinct xvec\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* \\<Psi>\\<^sub>P\n  xvec \\<sharp>* \\<Psi>\\<^sub>Q\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* Q\n  xvec \\<sharp>* K\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n    \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'", "by(rule cComm1)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'", "by(metis statEqTransition Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "note \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<rhd> Q \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<Psi>' \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'", "by(rule cComm1)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<Psi>' \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<Psi>' \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'", "by(metis statEqTransition Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "note \\<open>extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n    \\<Psi>' \\<turnstile> M \\<leftrightarrow> K", "by(rule entWeaken)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes>\n    \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K", "by(metis statEqEnt Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n\ngoal (5 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K xvec\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 3. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 4. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 5. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\nQ'", "using \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>'\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* Q\\<close> \\<open>A\\<^sub>P \\<sharp>* M\\<close> \\<open>A\\<^sub>P \\<sharp>* A\\<^sub>Q\\<close>\n                              \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>'\\<close> \\<open>A\\<^sub>Q \\<sharp>* P\\<close> \\<open>A\\<^sub>Q \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* K\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>'\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>'\n  A\\<^sub>Q \\<sharp>* P\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* K\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\nQ'", "by(rule_tac Comm1) (assumption | auto)+"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<parallel>\n                 Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cComm2 \\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K Q' A\\<^sub>Q \\<Psi>')"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>'\n  A\\<^sub>Q \\<sharp>* \\<Psi>'\n  xvec \\<sharp>* \\<Psi>'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  ?b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  ?b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  distinct A\\<^sub>Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* N\n  A\\<^sub>P \\<sharp>* P'\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* Q'\n  A\\<^sub>P \\<sharp>* A\\<^sub>Q\n  A\\<^sub>P \\<sharp>* xvec\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* P\n  A\\<^sub>Q \\<sharp>* N\n  A\\<^sub>Q \\<sharp>* P'\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* K\n  A\\<^sub>Q \\<sharp>* Q'\n  A\\<^sub>Q \\<sharp>* xvec\n  distinct xvec\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* \\<Psi>\\<^sub>P\n  xvec \\<sharp>* \\<Psi>\\<^sub>Q\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* Q\n  xvec \\<sharp>* K\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n    \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "by(rule cComm2)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "by(metis statEqTransition Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "note \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<Psi>' \\<rhd> Q \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<Psi>' \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'", "by(rule cComm2)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<Psi>' \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<Psi>' \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'", "by(metis statEqTransition Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "note \\<open>extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes> \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n    \\<Psi>' \\<turnstile> M \\<leftrightarrow> K", "by(rule entWeaken)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "hence \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n  \\<Psi>' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes>\n    \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K", "by(metis statEqEnt Composition Associativity Commutativity AssertionStatEqTrans)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>Q P M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P Q K\n       Q' A\\<^sub>Q \\<Psi>'.\n       \\<lbrakk>A\\<^sub>P \\<sharp>* \\<Psi>'; A\\<^sub>Q \\<sharp>* \\<Psi>';\n        xvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q) \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        \\<And>b.\n           (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n           b \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* Q;\n        A\\<^sub>P \\<sharp>* Q'; A\\<^sub>P \\<sharp>* A\\<^sub>Q;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* N; A\\<^sub>Q \\<sharp>* P';\n        A\\<^sub>Q \\<sharp>* Q; A\\<^sub>Q \\<sharp>* K;\n        A\\<^sub>Q \\<sharp>* Q'; A\\<^sub>Q \\<sharp>* xvec; distinct xvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* \\<Psi>\\<^sub>P;\n        xvec \\<sharp>* \\<Psi>\\<^sub>Q; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* Q; xvec \\<sharp>* K\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> P \\<parallel>\n  Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> Q'\n 2. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 3. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 4. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\nQ'", "using \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>'\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* Q\\<close> \\<open>A\\<^sub>P \\<sharp>* M\\<close> \\<open>A\\<^sub>P \\<sharp>* A\\<^sub>Q\\<close>\n                              \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>'\\<close> \\<open>A\\<^sub>Q \\<sharp>* P\\<close> \\<open>A\\<^sub>Q \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* K\\<close> \\<open>xvec \\<sharp>* Q\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>'\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>'\n  A\\<^sub>Q \\<sharp>* P\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* K\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<parallel>\n                   Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\nQ'", "by(rule_tac Comm2) (assumption | auto)+"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<parallel>\n                 Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    Q'\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 2. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 3. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 2. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 3. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cOpen \\<Psi> P M xvec yvec N P' x \\<Psi>')"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>'\n  xvec \\<sharp>* \\<Psi>'\n  yvec \\<sharp>* \\<Psi>'\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n          yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<otimes>\n  ?b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n      yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  x \\<in> supp N\n  x \\<sharp> xvec\n  x \\<sharp> yvec\n  x \\<sharp> M\n  x \\<sharp> \\<Psi>\n  distinct xvec\n  distinct yvec\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* yvec\n  yvec \\<sharp>* \\<Psi>\n  yvec \\<sharp>* P\n  yvec \\<sharp>* M\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 2. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 3. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*(xvec@yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n             yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "by(rule cOpen)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n           yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P M xvec yvec N P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; xvec \\<sharp>* \\<Psi>';\n        yvec \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes>\n           b \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n              yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        x \\<in> supp N; x \\<sharp> xvec; x \\<sharp> yvec; x \\<sharp> M;\n        x \\<sharp> \\<Psi>; distinct xvec; distinct yvec;\n        xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* yvec; yvec \\<sharp>* \\<Psi>; yvec \\<sharp>* P;\n        yvec \\<sharp>* M\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                  x # yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n 2. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 3. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n           yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                                   x #\n                                   yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "using \\<open>x \\<in> supp N\\<close> \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> \\<Psi>'\\<close> \\<open>x \\<sharp> M\\<close> \\<open>x \\<sharp> xvec\\<close> \\<open>x \\<sharp> yvec\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n           yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  x \\<in> supp N\n  x \\<sharp> \\<Psi>\n  x \\<sharp> \\<Psi>'\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> yvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                                   x #\n                                   yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "by(rule_tac Open) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> M\\<lparr>\\<nu>*(xvec @\n                                 x #\n                                 yvec)\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 2. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 2. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(cScope \\<Psi> P \\<alpha> P' x \\<Psi>')"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>'\n  bn \\<alpha> \\<sharp>* \\<Psi>'\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<Psi> \\<otimes> ?b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  x \\<sharp> \\<Psi>\n  x \\<sharp> \\<alpha>\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 2. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'", "by(rule cScope)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P \\<alpha> P' x \\<Psi>'.\n       \\<lbrakk>x \\<sharp> \\<Psi>'; bn \\<alpha> \\<sharp>* \\<Psi>';\n        \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        x \\<sharp> \\<Psi>; x \\<sharp> \\<alpha>;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        distinct (bn \\<alpha>)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n 2. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'", "using \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> \\<Psi>'\\<close> \\<open>x \\<sharp> \\<alpha>\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  x \\<sharp> \\<Psi>\n  x \\<sharp> \\<Psi>'\n  x \\<sharp> \\<alpha>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'", "by(rule_tac Scope) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<longmapsto> \\<alpha> \\<prec> \\<lparr>\\<nu>x\\<rparr>P'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "case(Bang \\<Psi> P Rs \\<Psi>')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs\n  \\<Psi> \\<otimes> ?b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<parallel> !P\\<longmapsto> Rs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<parallel> !P \\<longmapsto> Rs", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<parallel> !P \\<longmapsto> Rs\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Rs \\<Psi>'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        \\<And>b.\n           \\<Psi> \\<otimes> b \\<rhd> P \\<parallel> !P \\<longmapsto> Rs;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<parallel> !P \\<longmapsto> Rs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<parallel> !P \\<longmapsto> Rs\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs", "by(rule semantics.Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> !P \\<longmapsto> Rs\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}