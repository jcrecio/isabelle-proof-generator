{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Bisim_Pres.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma bisimInputPres:\n  fixes \\<Psi>    :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n\n  assumes \"\\<And>Tvec. length xvec = length Tvec \\<Longrightarrow> \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]\"\n\n  shows \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q\"", "lemma bisimOutputPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   M :: 'a\n  and   N :: 'a\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q\"", "lemma bisimCasePres:\n  fixes \\<Psi>   :: 'b\n  and   CsP :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n  and   CsQ :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n\n  assumes \"\\<And>\\<phi> P. (\\<phi>, P) mem CsP \\<Longrightarrow> \\<exists>Q. (\\<phi>, Q) mem CsQ \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"\\<And>\\<phi> Q. (\\<phi>, Q) mem CsQ \\<Longrightarrow> \\<exists>P. (\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ\"", "lemma bisimResPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   x :: name\n  \n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"x \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q\"", "lemma bisimResChainPres:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   xvec :: \"name list\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q\"", "lemma bisimParPresAux:\n  fixes \\<Psi>  :: 'b\n  and   \\<Psi>\\<^sub>R :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   Q  :: \"('a, 'b, 'c) psi\"\n  and   R  :: \"('a, 'b, 'c) psi\"\n  and   A\\<^sub>R :: \"name list\"\n  \n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\"\n  and     FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R\"", "lemma bisimParPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R\""], "translations": [["", "lemma bisimInputPres:\n  fixes \\<Psi>    :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n\n  assumes \"\\<And>Tvec. length xvec = length Tvec \\<Longrightarrow> \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]\"\n\n  shows \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "let ?X = \"{(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) | \\<Psi> M xvec N P Q. \\<forall>Tvec. length xvec = length Tvec \\<longrightarrow> \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "from assms"], ["proof (chain)\npicking this:\n  length xvec = length ?Tvec \\<Longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=?Tvec] \\<sim> Q[xvec::=?Tvec]", "have \"(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  length xvec = length ?Tvec \\<Longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=?Tvec] \\<sim> Q[xvec::=?Tvec]\n\ngoal (1 subgoal):\n 1. (\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n     M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)\n    \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n           \\<Psi> M xvec N P Q.\n           \\<forall>Tvec.\n              length xvec = length Tvec \\<longrightarrow>\n              \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>,\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                 \\<Psi> M xvec N P Q.\n                                 \\<forall>Tvec.\n                                    length xvec =\n                                    length Tvec \\<longrightarrow>\n                                    \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                                bisim)] Q", "by(blast intro: inputPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n                                M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                               \\<Psi> M xvec N P Q.\n                               \\<forall>Tvec.\n                                  length xvec =\n                                  length Tvec \\<longrightarrow>\n                                  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<union>\n                              bisim)] Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n           \\<Psi> M xvec N P Q.\n           \\<forall>Tvec.\n              length xvec = length Tvec \\<longrightarrow>\n              \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> Q", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n           \\<Psi> M xvec N P Q.\n           \\<forall>Tvec.\n              length xvec = length Tvec \\<longrightarrow>\n              \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> P", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<sim> Q[xvec::=Tvec]} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimOutputPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   M :: 'a\n  and   N :: 'a\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q", "let ?X = \"{(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) | \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<sim> Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q", "have \"(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q)\n    \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi>\n           M N P Q. \\<Psi> \\<rhd> P \\<sim> Q}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q", "by(coinduct rule: bisimCoinduct, auto) (blast intro: outputPres dest: bisimE)+"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<sim> M\\<langle>N\\<rangle>.Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimCasePres:\n  fixes \\<Psi>   :: 'b\n  and   CsP :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n  and   CsQ :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n\n  assumes \"\\<And>\\<phi> P. (\\<phi>, P) mem CsP \\<Longrightarrow> \\<exists>Q. (\\<phi>, Q) mem CsQ \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"\\<And>\\<phi> Q. (\\<phi>, Q) mem CsQ \\<Longrightarrow> \\<exists>P. (\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ", "let ?X = \"{(\\<Psi>, Cases CsP, Cases CsQ) | \\<Psi> CsP CsQ. (\\<forall>\\<phi> P. (\\<phi>, P) mem CsP \\<longrightarrow> (\\<exists>Q. (\\<phi>, Q) mem CsQ \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                                     (\\<forall>\\<phi> Q. (\\<phi>, Q) mem CsQ \\<longrightarrow> (\\<exists>P. (\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ", "from assms"], ["proof (chain)\npicking this:\n  (?\\<phi>, ?P) mem CsP \\<Longrightarrow>\n  \\<exists>Q.\n     (?\\<phi>, Q) mem CsQ \\<and> guarded Q \\<and> \\<Psi> \\<rhd> ?P \\<sim> Q\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q", "have \"(\\<Psi>, Cases CsP, Cases CsQ) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (?\\<phi>, ?P) mem CsP \\<Longrightarrow>\n  \\<exists>Q.\n     (?\\<phi>, Q) mem CsQ \\<and> guarded Q \\<and> \\<Psi> \\<rhd> ?P \\<sim> Q\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Cases CsP, Cases CsQ)\n    \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n           (\\<forall>\\<phi> P.\n               (\\<phi>, P) mem CsP \\<longrightarrow>\n               (\\<exists>Q.\n                   (\\<phi>, Q) mem CsQ \\<and>\n                   guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n           (\\<forall>\\<phi> Q.\n               (\\<phi>, Q) mem CsQ \\<longrightarrow>\n               (\\<exists>P.\n                   (\\<phi>, P) mem CsP \\<and>\n                   guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, Cases CsP, Cases CsQ)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, Cases CsP, Cases CsQ)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> CasesP CasesQ)"], ["proof (state)\nthis:\n  (\\<Psi>, CasesP, CasesQ)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, CasesP, CasesQ)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}", "obtain CsP CsQ where C1: \"\\<And>\\<phi> Q. (\\<phi>, Q) mem CsQ \\<Longrightarrow> \\<exists>P. (\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q\"\n                          and A: \"CasesP = Cases CsP\" and B: \"CasesQ = Cases CsQ\""], ["proof (prove)\nusing this:\n  (\\<Psi>, CasesP, CasesQ)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. (\\<And>CsQ CsP.\n        \\<lbrakk>\\<And>\\<phi> Q.\n                    (\\<phi>, Q) mem CsQ \\<Longrightarrow>\n                    \\<exists>P.\n                       (\\<phi>, P) mem CsP \\<and>\n                       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q;\n         CasesP = Cases CsP; CasesQ = Cases CsQ\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q\n  CasesP = Cases CsP\n  CasesQ = Cases CsQ\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "note C1"], ["proof (state)\nthis:\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q", "by(rule bisimE)"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"bisim \\<subseteq> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bisim\n    \\<subseteq> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n                 (\\<forall>\\<phi> P.\n                     (\\<phi>, P) mem CsP \\<longrightarrow>\n                     (\\<exists>Q.\n                         (\\<phi>, Q) mem CsQ \\<and>\n                         guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                 (\\<forall>\\<phi> Q.\n                     (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                     (\\<exists>P.\n                         (\\<phi>, P) mem CsP \\<and>\n                         guarded P \\<and>\n                         \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                bisim", "by blast"], ["proof (state)\nthis:\n  bisim\n  \\<subseteq> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n               (\\<forall>\\<phi> P.\n                   (\\<phi>, P) mem CsP \\<longrightarrow>\n                   (\\<exists>Q.\n                       (\\<phi>, Q) mem CsQ \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n               (\\<forall>\\<phi> Q.\n                   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                   (\\<exists>P.\n                       (\\<phi>, P) mem CsP \\<and>\n                       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n              bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  bisim\n  \\<subseteq> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n               (\\<forall>\\<phi> P.\n                   (\\<phi>, P) mem CsP \\<longrightarrow>\n                   (\\<exists>Q.\n                       (\\<phi>, Q) mem CsQ \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n               (\\<forall>\\<phi> Q.\n                   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                   (\\<exists>P.\n                       (\\<phi>, P) mem CsP \\<and>\n                       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n              bisim", "have \"\\<Psi> \\<rhd> Cases CsP \\<leadsto>[(?X \\<union> bisim)] Cases CsQ\""], ["proof (prove)\nusing this:\n  (?\\<phi>, ?Q) mem CsQ \\<Longrightarrow>\n  \\<exists>P.\n     (?\\<phi>, P) mem CsP \\<and> guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  bisim\n  \\<subseteq> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n               (\\<forall>\\<phi> P.\n                   (\\<phi>, P) mem CsP \\<longrightarrow>\n                   (\\<exists>Q.\n                       (\\<phi>, Q) mem CsQ \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n               (\\<forall>\\<phi> Q.\n                   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                   (\\<exists>P.\n                       (\\<phi>, P) mem CsP \\<and>\n                       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n              bisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Cases CsP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\n   \\<Psi> CsP CsQ.\n   (\\<forall>\\<phi> P.\n       (\\<phi>, P) mem CsP \\<longrightarrow>\n       (\\<exists>Q.\n           (\\<phi>, Q) mem CsQ \\<and>\n           guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n   (\\<forall>\\<phi> Q.\n       (\\<phi>, Q) mem CsQ \\<longrightarrow>\n       (\\<exists>P.\n           (\\<phi>, P) mem CsP \\<and>\n           guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n  bisim)] Cases CsQ", "by(rule casePres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Cases CsP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\n \\<Psi> CsP CsQ.\n (\\<forall>\\<phi> P.\n     (\\<phi>, P) mem CsP \\<longrightarrow>\n     (\\<exists>Q.\n         (\\<phi>, Q) mem CsQ \\<and>\n         guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n (\\<forall>\\<phi> Q.\n     (\\<phi>, Q) mem CsQ \\<longrightarrow>\n     (\\<exists>P.\n         (\\<phi>, P) mem CsP \\<and>\n         guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\nbisim)] Cases CsQ\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                     CsP CsQ.\n                                     (\\<forall>\\<phi> P.\n   (\\<phi>, P) mem CsP \\<longrightarrow>\n   (\\<exists>Q.\n       (\\<phi>, Q) mem CsQ \\<and>\n       guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                     (\\<forall>\\<phi> Q.\n   (\\<phi>, Q) mem CsQ \\<longrightarrow>\n   (\\<exists>P.\n       (\\<phi>, P) mem CsP \\<and>\n       guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Cases CsP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\n \\<Psi> CsP CsQ.\n (\\<forall>\\<phi> P.\n     (\\<phi>, P) mem CsP \\<longrightarrow>\n     (\\<exists>Q.\n         (\\<phi>, Q) mem CsQ \\<and>\n         guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n (\\<forall>\\<phi> Q.\n     (\\<phi>, Q) mem CsQ \\<longrightarrow>\n     (\\<exists>P.\n         (\\<phi>, P) mem CsP \\<and>\n         guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\nbisim)] Cases CsQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> CasesP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\nCsP CsQ.\n(\\<forall>\\<phi> P.\n    (\\<phi>, P) mem CsP \\<longrightarrow>\n    (\\<exists>Q.\n        (\\<phi>, Q) mem CsQ \\<and>\n        guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n(\\<forall>\\<phi> Q.\n    (\\<phi>, Q) mem CsQ \\<longrightarrow>\n    (\\<exists>P.\n        (\\<phi>, P) mem CsP \\<and>\n        guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                     bisim)] CasesQ", "using A B"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Cases CsP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\n \\<Psi> CsP CsQ.\n (\\<forall>\\<phi> P.\n     (\\<phi>, P) mem CsP \\<longrightarrow>\n     (\\<exists>Q.\n         (\\<phi>, Q) mem CsQ \\<and>\n         guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n (\\<forall>\\<phi> Q.\n     (\\<phi>, Q) mem CsQ \\<longrightarrow>\n     (\\<exists>P.\n         (\\<phi>, P) mem CsP \\<and>\n         guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\nbisim)] Cases CsQ\n  CasesP = Cases CsP\n  CasesQ = Cases CsQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> CasesP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\nCsP CsQ.\n(\\<forall>\\<phi> P.\n    (\\<phi>, P) mem CsP \\<longrightarrow>\n    (\\<exists>Q.\n        (\\<phi>, Q) mem CsQ \\<and>\n        guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n(\\<forall>\\<phi> Q.\n    (\\<phi>, Q) mem CsQ \\<longrightarrow>\n    (\\<exists>P.\n        (\\<phi>, P) mem CsP \\<and>\n        guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                     bisim)] CasesQ", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> CasesP \\<leadsto>[({(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi>\n                                    CsP CsQ.\n                                    (\\<forall>\\<phi> P.\n  (\\<phi>, P) mem CsP \\<longrightarrow>\n  (\\<exists>Q.\n      (\\<phi>, Q) mem CsQ \\<and>\n      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n                                    (\\<forall>\\<phi> Q.\n  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n  (\\<exists>P.\n      (\\<phi>, P) mem CsP \\<and>\n      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<union>\n                                   bisim)] CasesQ\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>''_, P, Q)\n    \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n           (\\<forall>\\<phi> P.\n               (\\<phi>, P) mem CsP \\<longrightarrow>\n               (\\<exists>Q.\n                   (\\<phi>, Q) mem CsQ \\<and>\n                   guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n           (\\<forall>\\<phi> Q.\n               (\\<phi>, Q) mem CsQ \\<longrightarrow>\n               (\\<exists>P.\n                   (\\<phi>, P) mem CsP \\<and>\n                   guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>''_ \\<rhd> P \\<sim> Q", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>''_, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>''_ \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and>\n                      \\<Psi> \\<rhd> P \\<sim> Q))} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n              (\\<forall>\\<phi> P.\n                  (\\<phi>, P) mem CsP \\<longrightarrow>\n                  (\\<exists>Q.\n                      (\\<phi>, Q) mem CsQ \\<and>\n                      guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n              (\\<forall>\\<phi> Q.\n                  (\\<phi>, Q) mem CsQ \\<longrightarrow>\n                  (\\<exists>P.\n                      (\\<phi>, P) mem CsP \\<and>\n                      guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n           (\\<forall>\\<phi> P.\n               (\\<phi>, P) mem CsP \\<longrightarrow>\n               (\\<exists>Q.\n                   (\\<phi>, Q) mem CsQ \\<and>\n                   guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n           (\\<forall>\\<phi> Q.\n               (\\<phi>, Q) mem CsQ \\<longrightarrow>\n               (\\<exists>P.\n                   (\\<phi>, P) mem CsP \\<and>\n                   guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> P", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, Cases CsP, Cases CsQ) |\\<Psi> CsP CsQ.\n         (\\<forall>\\<phi> P.\n             (\\<phi>, P) mem CsP \\<longrightarrow>\n             (\\<exists>Q.\n                 (\\<phi>, Q) mem CsQ \\<and>\n                 guarded Q \\<and> \\<Psi> \\<rhd> P \\<sim> Q)) \\<and>\n         (\\<forall>\\<phi> Q.\n             (\\<phi>, Q) mem CsQ \\<longrightarrow>\n             (\\<exists>P.\n                 (\\<phi>, P) mem CsP \\<and>\n                 guarded P \\<and> \\<Psi> \\<rhd> P \\<sim> Q))} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Cases CsP \\<sim> Cases CsQ\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimResPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   x :: name\n  \n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"x \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "let ?X = \"{(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) | \\<Psi> x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> xP xQ)"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, xP, xQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}", "obtain x P Q where \"\\<Psi> \\<rhd> P \\<sim> Q\" and \"x \\<sharp> \\<Psi>\" and \"xP = \\<lparr>\\<nu>x\\<rparr>P\" and \"xQ = \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>P Q x.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; x \\<sharp> \\<Psi>;\n         xP = \\<lparr>\\<nu>x\\<rparr>P; xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q", "have PeqQ: \"insertAssertion(extractFrame P) \\<Psi> \\<simeq>\\<^sub>F insertAssertion(extractFrame Q) \\<Psi>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "by(rule bisimE)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame xP)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame xQ) \\<Psi>", "by(auto intro: frameResPres)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame xP)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame xQ) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> xP xQ)"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, xP, xQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}", "obtain x P Q where \"\\<Psi> \\<rhd> P \\<sim> Q\" and \"x \\<sharp> \\<Psi>\" and \"xP = \\<lparr>\\<nu>x\\<rparr>P\" and \"xQ = \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>P Q x.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; x \\<sharp> \\<Psi>;\n         xP = \\<lparr>\\<nu>x\\<rparr>P; xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q", "have \"\\<Psi> \\<rhd> P \\<leadsto>[bisim] Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q", "by(rule bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n      Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}", "by(force simp add: eqvt_def bisimClosed pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n    Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence \"eqvt(?X \\<union> bisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n    Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x\n       P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n      bisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "note \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"bisim \\<subseteq> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bisim\n    \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> x P Q.\n                 \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n                bisim", "by auto"], ["proof (state)\nthis:\n  bisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  bisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"\\<And>\\<Psi> P Q x. \\<lbrakk>(\\<Psi>, P, Q) \\<in> bisim; x \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                 \\<lparr>\\<nu>x\\<rparr>Q) |\n                                \\<Psi> x P Q.\n                                \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                x \\<sharp> \\<Psi>} \\<union>\n                               bisim", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    bisim)\n  x \\<sharp> \\<Psi>\n  bisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          bisim", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto>[(?X \\<union> bisim)] \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto>[bisim] Q\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    bisim)\n  x \\<sharp> \\<Psi>\n  bisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          bisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto>[({(\\<Psi>,\n                  \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> x P Q.\n                 \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n                bisim)] \\<lparr>\\<nu>x\\<rparr>Q", "by(rule resPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto>[({(\\<Psi>,\n                \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim)] \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "with \\<open>xP = \\<lparr>\\<nu>x\\<rparr>P\\<close> \\<open>xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<close>"], ["proof (chain)\npicking this:\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto>[({(\\<Psi>,\n                \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim)] \\<lparr>\\<nu>x\\<rparr>Q", "show ?case"], ["proof (prove)\nusing this:\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto>[({(\\<Psi>,\n                \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n              bisim)] \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> xP \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                   \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> x P Q.\n                                  \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                  x \\<sharp> \\<Psi>} \\<union>\n                                 bisim)] xQ", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> xP \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                 \\<lparr>\\<nu>x\\<rparr>Q) |\n                                \\<Psi> x P Q.\n                                \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                x \\<sharp> \\<Psi>} \\<union>\n                               bisim)] xQ\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> xP xQ \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, xP, xQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}", "obtain x P Q where \"\\<Psi> \\<rhd> P \\<sim> Q\" and \"x \\<sharp> \\<Psi>\" and \"xP = \\<lparr>\\<nu>x\\<rparr>P\" and \"xQ = \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>P Q x.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; x \\<sharp> \\<Psi>;\n         xP = \\<lparr>\\<nu>x\\<rparr>P; xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "obtain y::name where \"y \\<sharp> P\" and \"y \\<sharp> Q\" and \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> P; y \\<sharp> Q; y \\<sharp> \\<Psi>;\n         y \\<sharp> \\<Psi>'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\", auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> P\n  y \\<sharp> Q\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q", "have \"\\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q", "by(rule bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence \"([(x, y)] \\<bullet> (\\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>'))) \\<rhd> ([(x, y)] \\<bullet> P) \\<sim> ([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. [(x, y)] \\<bullet>\n    \\<Psi> \\<otimes>\n    ([(x, y)] \\<bullet>\n     \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  [(x, y)] \\<bullet>\n  \\<Psi> \\<otimes>\n  ([(x, y)] \\<bullet>\n   \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "with \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  [(x, y)] \\<bullet>\n  \\<Psi> \\<otimes>\n  ([(x, y)] \\<bullet>\n   \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> ([(x, y)] \\<bullet> P) \\<sim> ([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  [(x, y)] \\<bullet>\n  \\<Psi> \\<otimes>\n  ([(x, y)] \\<bullet>\n   \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "with \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P), \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<sim> [(x, y)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n     \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> P\n  y \\<sharp> Q", "have \"\\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\" and \"\\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>x\\<rparr>P =\n    \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P) &&&\n    \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)", "by(simp add: alphaRes)+"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xP, xQ)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xP \\<sim> xQ", "using \\<open>xP = \\<lparr>\\<nu>x\\<rparr>P\\<close> \\<open>xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xP, xQ)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xP \\<sim> xQ", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xP \\<sim> xQ\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> P", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimResChainPres:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   xvec :: \"name list\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q", "by(induct xvec) (auto intro: bisimResPres)"], ["", "lemma bisimParPresAux:\n  fixes \\<Psi>  :: 'b\n  and   \\<Psi>\\<^sub>R :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   Q  :: \"('a, 'b, 'c) psi\"\n  and   R  :: \"('a, 'b, 'c) psi\"\n  and   A\\<^sub>R :: \"name list\"\n  \n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\"\n  and     FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "let ?X = \"{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) | xvec \\<Psi> P Q R. xvec \\<sharp>* \\<Psi> \\<and> (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R. (extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and> A\\<^sub>R \\<sharp>* \\<Psi> \\<and> A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q) \\<longrightarrow>\n                                                                                          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "fix xvec :: \"name list\"\n    and \\<Psi>    :: 'b \n    and P    :: \"('a, 'b, 'c) psi\"\n    and Q    :: \"('a, 'b, 'c) psi\"\n    and R    :: \"('a, 'b, 'c) psi\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "assume \"xvec \\<sharp>* \\<Psi>\"\n    and    \"\\<And>A\\<^sub>R \\<Psi>\\<^sub>R. \\<lbrakk>extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "hence \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xvec \\<sharp>* \\<Psi>;\n     \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n         A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n         A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n    \\<Longrightarrow> \\<exists>xveca P Q R.\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                         \\<lparr>\\<nu>*xveca\\<rparr>P \\<parallel> R \\<and>\n                         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                         \\<lparr>\\<nu>*xveca\\<rparr>Q \\<parallel> R \\<and>\n                         xveca \\<sharp>* \\<Psi> \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame R =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                             A\\<^sub>R \\<sharp>* P \\<and>\n                             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                             \\<Psi> \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "note XI = this"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "fix xvec :: \"name list\"\n    and \\<Psi>    :: 'b \n    and P    :: \"('a, 'b, 'c) psi\"\n    and Q    :: \"('a, 'b, 'c) psi\"\n    and R    :: \"('a, 'b, 'c) psi\"\n    and C    :: \"'d::fs_name\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "assume \"xvec \\<sharp>* \\<Psi>\"\n    and    A: \"\\<And>A\\<^sub>R \\<Psi>\\<^sub>R. \\<lbrakk>extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q; A\\<^sub>R \\<sharp>* C\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q; ?A\\<^sub>R \\<sharp>* C\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "proof(rule XI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "fix A\\<^sub>R \\<Psi>\\<^sub>R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "assume FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "obtain p::\"name prm\" where \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* P\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* R\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* C\"\n                             and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\" and S: \"(set p) \\<subseteq> (set A\\<^sub>R) \\<times> (set(p \\<bullet> A\\<^sub>R))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* P;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* Q;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* R;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* C;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R;\n         set p\n         \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, R, \\<Psi>\\<^sub>R, C)\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* R\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* C\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "from FrR \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\\<close> S"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)", "have \"extractFrame R = \\<langle>(p \\<bullet> A\\<^sub>R), p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>", "by(simp add: frameChainAlpha')"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "moreover"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "assume \"A\\<^sub>R \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "hence \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "with \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "assume \"A\\<^sub>R \\<sharp>* P\""], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "hence \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "with \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* P\\<close> S"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* P\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* P", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "assume \"A\\<^sub>R \\<sharp>* Q\""], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "hence \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "with \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\\<close> S"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "ultimately"], ["proof (chain)\npicking this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "have \"\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q", "using \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* C\\<close> A"], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* C\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q; ?A\\<^sub>R \\<sharp>* C\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "hence \"(p \\<bullet> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R))) \\<rhd> (p \\<bullet> P) \\<sim> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<otimes>\n    (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "with \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\\<close> S \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "show \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2; A\\<^sub>R \\<sharp>* ?C2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "note XI' = this"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2; A\\<^sub>R \\<sharp>* ?C2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "apply(auto simp add: eqvt_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xveca Pa Qa Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel>\n                 Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel>\n                 Ra \\<and>\n                            xveca \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa)", "apply(rule_tac x=\"p \\<bullet> xvec\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Pa Qa Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>Pa \\<parallel> Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>Qa \\<parallel> Ra \\<and>\n                            (p \\<bullet>\n                             xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa)", "apply(rule_tac x=\"p \\<bullet> P\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Qa Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>(p \\<bullet> P) \\<parallel> Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>Qa \\<parallel> Ra \\<and>\n                            (p \\<bullet>\n                             xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n                P \\<sim> Qa)", "apply(rule_tac x=\"p \\<bullet> Q\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>(p \\<bullet> P) \\<parallel> Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>(p \\<bullet> Q) \\<parallel> Ra \\<and>\n                            (p \\<bullet>\n                             xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet>\n               Q) \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n                P \\<sim> p \\<bullet> Q)", "apply(rule_tac x=\"p \\<bullet> R\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                         \\<lparr>\\<nu>*p \\<bullet>\n xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R) \\<and>\n                         p \\<bullet>\n                         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                         \\<lparr>\\<nu>*p \\<bullet>\n xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R) \\<and>\n                         (p \\<bullet> xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame (p \\<bullet> R) =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet>\n            Q) \\<longrightarrow>\n                             (p \\<bullet> a) \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n             P \\<sim> p \\<bullet> Q)", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame (p \\<bullet> R) =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet>\n            Q) \\<longrightarrow>\n                             (p \\<bullet> a) \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n             P \\<sim> p \\<bullet> Q)", "apply(simp add: fresh_star_bij)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame (p \\<bullet> R) =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                            A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                            A\\<^sub>R \\<sharp>* (p \\<bullet>\n           Q) \\<longrightarrow>\n                            (p \\<bullet> a) \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n            P \\<sim> p \\<bullet> Q", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "apply(erule_tac x=\"(rev p) \\<bullet> A\\<^sub>R\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        \\<forall>\\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>rev p \\<bullet>\n                    A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n           (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n           (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "apply(erule_tac x=\"(rev p) \\<bullet> \\<Psi>\\<^sub>R\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        extractFrame R =\n        \\<langle>rev p \\<bullet>\n                 A\\<^sub>R, rev p \\<bullet> \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n        (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n        (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q \\<longrightarrow>\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "apply(drule mp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> extractFrame R =\n                         \\<langle>rev p \\<bullet>\n                                  A\\<^sub>R, rev p \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "apply(rule conjI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> extractFrame R =\n                         \\<langle>rev p \\<bullet>\n                                  A\\<^sub>R, rev p \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle>\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "apply(rule_tac pi=p in pt_bij4[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> extractFrame R =\n                         p \\<bullet>\n                         \\<langle>rev p \\<bullet>\n                                  A\\<^sub>R, rev p \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle>\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(drule_tac p=p in bisimClosed)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        p \\<bullet>\n        a \\<otimes>\n        (rev p \\<bullet>\n         \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of p, THEN sym])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          rev p \\<bullet>\n                          A\\<^sub>R) \\<sharp>* (p \\<bullet> a) \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of p, THEN sym])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          rev p \\<bullet>\n                          A\\<^sub>R) \\<sharp>* (p \\<bullet> P) \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of p, THEN sym])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          rev p \\<bullet>\n                          A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)", "by simp"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "have Res: \"\\<And>\\<Psi> P Q x. \\<lbrakk>(\\<Psi>, P, Q) \\<in> ?X \\<union> bisim; x \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "fix \\<Psi> P Q x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "assume \"(\\<Psi>, P, Q) \\<in> ?X \\<union> bisim\" and \"(x::name) \\<sharp> \\<Psi>\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "show \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "proof(case_tac \"(\\<Psi>, P, Q) \\<in> ?X\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "assume \"(\\<Psi>, P, Q) \\<in> ?X\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "with \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>;\n        P = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        Q = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xveca Pa Qa Ra.\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n R) =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel>\n                 Ra \\<and>\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n R) =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel>\n                 Ra \\<and>\n                            xveca \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa)", "by(rule_tac x=\"x#xvec\" in exI) auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "assume \"\\<not>(\\<Psi>, P, Q) \\<in> ?X\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n             \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n            xvec \\<Psi> P Q R.\n            xvec \\<sharp>* \\<Psi> \\<and>\n            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                A\\<^sub>R \\<sharp>* P \\<and>\n                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "with \\<open>(\\<Psi>, P, Q) \\<in> ?X \\<union> bisim\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n             \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n            xvec \\<Psi> P Q R.\n            xvec \\<sharp>* \\<Psi> \\<and>\n            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                A\\<^sub>R \\<sharp>* P \\<and>\n                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"\\<Psi> \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n             \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n            xvec \\<Psi> P Q R.\n            xvec \\<sharp>* \\<Psi> \\<and>\n            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                A\\<^sub>R \\<sharp>* P \\<and>\n                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "using \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q", "by(rule bisimResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<sim> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                 bisim;\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "have \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "fix A\\<^sub>R' :: \"name list\"\n      and \\<Psi>\\<^sub>R' :: 'b"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "assume FrR': \"extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\"\n      and    \"A\\<^sub>R' \\<sharp>* \\<Psi>\"\n      and    \"A\\<^sub>R' \\<sharp>* P\"\n      and    \"A\\<^sub>R' \\<sharp>* Q\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "obtain p where \"(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* P\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\"\n                 and Sp: \"(set p) \\<subseteq> (set A\\<^sub>R') \\<times> (set(p \\<bullet> A\\<^sub>R'))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R';\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* P;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* Q;\n         set p\n         \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R');\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(A\\<^sub>R, \\<Psi>, \\<Psi>\\<^sub>R', P, Q)\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "from FrR' \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>*  \\<Psi>\\<^sub>R'\\<close> Sp"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')", "have \"extractFrame R = \\<langle>(p \\<bullet> A\\<^sub>R'), p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "by(simp add: frameChainAlpha eqvts)"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with FrR \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "obtain q::\"name prm\" \n        where Sq: \"set q \\<subseteq> set(p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\" and \"distinctPerm q\" and \"\\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>set q\n                 \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times>\n                             set A\\<^sub>R;\n         distinctPerm q;\n         \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force elim: frameChainEq)"], ["proof (state)\nthis:\n  set q \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\n  distinctPerm q\n  \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<close> \\<open>\\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'", "have \"\\<Psi> \\<otimes> (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "hence \"(q \\<bullet> (\\<Psi> \\<otimes> (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'))) \\<rhd> (q \\<bullet> P) \\<sim> (q \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. q \\<bullet>\n    \\<Psi> \\<otimes>\n    (q \\<bullet>\n     p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet>\n   p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with Sq \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> \\<open>distinctPerm q\\<close>"], ["proof (chain)\npicking this:\n  set q \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm q\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet>\n   p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q", "have \"\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  set q \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm q\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet>\n   p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "hence \"(p \\<bullet> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R'))) \\<rhd> (p \\<bullet> P) \\<sim> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<otimes>\n    (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with Sp \\<open>A\\<^sub>R' \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R' \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>A\\<^sub>R' \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* \\<Psi>; ?A\\<^sub>R'2 \\<sharp>* P;\n   ?A\\<^sub>R'2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* \\<Psi>; ?A\\<^sub>R'2 \\<sharp>* P;\n   ?A\\<^sub>R'2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R' \\<Psi>\\<^sub>R'.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>;\n         A\\<^sub>R' \\<sharp>* \\<Psi>; A\\<^sub>R' \\<sharp>* P;\n         A\\<^sub>R' \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q) \\<Longrightarrow>\n    \\<exists>xvec Pa Qa Ra.\n       P \\<parallel> R = \\<lparr>\\<nu>*xvec\\<rparr>Pa \\<parallel> Ra \\<and>\n       Q \\<parallel> R = \\<lparr>\\<nu>*xvec\\<rparr>Qa \\<parallel> Ra \\<and>\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame Ra =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* Pa \\<and>\n           A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa)", "apply(rule_tac x=\"[]\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R' \\<Psi>\\<^sub>R'.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>;\n         A\\<^sub>R' \\<sharp>* \\<Psi>; A\\<^sub>R' \\<sharp>* P;\n         A\\<^sub>R' \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q) \\<Longrightarrow>\n    \\<exists>Pa Qa Ra.\n       P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Pa \\<parallel> Ra \\<and>\n       Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Qa \\<parallel> Ra \\<and>\n       [] \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame Ra =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* Pa \\<and>\n           A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa)", "by auto blast"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "obtain xvec P Q R A\\<^sub>R \\<Psi>\\<^sub>R where PFrR: \"PR = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R)\" and QFrR: \"QR = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\"\n                              and \"xvec \\<sharp>* \\<Psi>\" and FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and PSimQ: \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\"\n                              and \"A\\<^sub>R \\<sharp>* xvec\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* P\" and \"A\\<^sub>R \\<sharp>* Q\" and \"A\\<^sub>R \\<sharp>* R\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P R Q A\\<^sub>R \\<Psi>\\<^sub>R.\n        \\<lbrakk>PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n         QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n         xvec \\<sharp>* \\<Psi>;\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n         A\\<^sub>R \\<sharp>* xvec; A\\<^sub>R \\<sharp>* \\<Psi>;\n         A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q;\n         A\\<^sub>R \\<sharp>* R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>\\<And>xveca Pa Ra Qa A\\<^sub>R \\<Psi>\\<^sub>R.\n                   \\<lbrakk>\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel> Ra;\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                    \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel> Ra;\n                    xveca \\<sharp>* \\<Psi>;\n                    extractFrame Ra =\n                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n                    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa;\n                    xveca \\<sharp>* A\\<^sub>R; A\\<^sub>R \\<sharp>* \\<Psi>;\n                    A\\<^sub>R \\<sharp>* Pa; A\\<^sub>R \\<sharp>* Qa;\n                    A\\<^sub>R \\<sharp>* Ra\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply(subgoal_tac \"\\<exists>A\\<^sub>R \\<Psi>\\<^sub>R. extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and> A\\<^sub>R \\<sharp>* (xvec, \\<Psi>, P, Q, R)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>\\<And>xveca Pa Ra Qa A\\<^sub>R \\<Psi>\\<^sub>R.\n                   \\<lbrakk>\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel> Ra;\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                    \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel> Ra;\n                    xveca \\<sharp>* \\<Psi>;\n                    extractFrame Ra =\n                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n                    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa;\n                    xveca \\<sharp>* A\\<^sub>R; A\\<^sub>R \\<sharp>* \\<Psi>;\n                    A\\<^sub>R \\<sharp>* Pa; A\\<^sub>R \\<sharp>* Qa;\n                    A\\<^sub>R \\<sharp>* Ra\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n        \\<exists>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* (xvec, \\<Psi>, P, Q, R)\\<rbrakk>\n       \\<Longrightarrow> thesis\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>\\<And>xveca Pa Ra Qa A\\<^sub>R \\<Psi>\\<^sub>R.\n                   \\<lbrakk>\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel> Ra;\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                    \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel> Ra;\n                    xveca \\<sharp>* \\<Psi>;\n                    extractFrame Ra =\n                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n                    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa;\n                    xveca \\<sharp>* A\\<^sub>R; A\\<^sub>R \\<sharp>* \\<Psi>;\n                    A\\<^sub>R \\<sharp>* Pa; A\\<^sub>R \\<sharp>* Qa;\n                    A\\<^sub>R \\<sharp>* Ra\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame R =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* (xvec, \\<Psi>, P, Q, R)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>\\<And>xveca Pa Ra Qa A\\<^sub>R \\<Psi>\\<^sub>R.\n                   \\<lbrakk>\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel> Ra;\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                    \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel> Ra;\n                    xveca \\<sharp>* \\<Psi>;\n                    extractFrame Ra =\n                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n                    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa;\n                    xveca \\<sharp>* A\\<^sub>R; A\\<^sub>R \\<sharp>* \\<Psi>;\n                    A\\<^sub>R \\<sharp>* Pa; A\\<^sub>R \\<sharp>* Qa;\n                    A\\<^sub>R \\<sharp>* Ra\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A\\<^sub>R.\n                            (\\<exists>\\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>) \\<and>\n                            xvec \\<sharp>* A\\<^sub>R \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* P \\<and>\n                            A\\<^sub>R \\<sharp>* Q \\<and>\n                            A\\<^sub>R \\<sharp>* R", "apply(rule_tac F=\"extractFrame R\" and C=\"(xvec, \\<Psi>, P, Q, R)\" in freshFrame)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R A\\<^sub>F \\<Psi>\\<^sub>F.\n       \\<lbrakk>\\<And>xveca Pa Ra Qa A\\<^sub>R \\<Psi>\\<^sub>R.\n                   \\<lbrakk>\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel> Ra;\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                    \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel> Ra;\n                    xveca \\<sharp>* \\<Psi>;\n                    extractFrame Ra =\n                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n                    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> Pa \\<sim> Qa;\n                    xveca \\<sharp>* A\\<^sub>R; A\\<^sub>R \\<sharp>* \\<Psi>;\n                    A\\<^sub>R \\<sharp>* Pa; A\\<^sub>R \\<sharp>* Qa;\n                    A\\<^sub>R \\<sharp>* Ra\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n        extractFrame R = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>;\n        distinct A\\<^sub>F;\n        A\\<^sub>F \\<sharp>* (xvec, \\<Psi>, P, Q, R)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>A\\<^sub>R.\n                            (\\<exists>\\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>) \\<and>\n                            xvec \\<sharp>* A\\<^sub>R \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* P \\<and>\n                            A\\<^sub>R \\<sharp>* Q \\<and>\n                            A\\<^sub>R \\<sharp>* R", "by auto"], ["proof (state)\nthis:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  A\\<^sub>R \\<sharp>* xvec\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  A\\<^sub>R \\<sharp>* R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"A\\<^sub>P \\<sharp>* A\\<^sub>R\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* A\\<^sub>R;\n         A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, A\\<^sub>R, \\<Psi>\\<^sub>R)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* A\\<^sub>R\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"A\\<^sub>Q \\<sharp>* A\\<^sub>R\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* A\\<^sub>R;\n         A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, A\\<^sub>R, \\<Psi>\\<^sub>R)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>A\\<^sub>P \\<sharp>* A\\<^sub>R\\<close> \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>R\\<close> FrP FrQ"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* A\\<^sub>R\n  A\\<^sub>Q \\<sharp>* A\\<^sub>R\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>", "have \"A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\" and  \"A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* A\\<^sub>R\n  A\\<^sub>Q \\<sharp>* A\\<^sub>R\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (1 subgoal):\n 1. A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P &&&\n    A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q", "by(force dest: extractFrameFreshChain)+"], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"\\<langle>(A\\<^sub>P@A\\<^sub>R), \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q@A\\<^sub>R), \\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "have \"\\<langle>A\\<^sub>P, \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes> \\<Psi>\\<^sub>P\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes>\n          \\<Psi>\\<^sub>R) \\<otimes>\n         \\<Psi>\\<^sub>P\\<rangle>", "by(metis frameResChainPres frameNilStatEq Associativity Commutativity AssertionStatEqTrans Composition)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P \\<otimes>\n                      \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "moreover"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P \\<otimes>\n                      \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "from PSimQ"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "have \"insertAssertion(extractFrame P) (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<simeq>\\<^sub>F insertAssertion(extractFrame Q) (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     (\\<Psi> \\<otimes>\n      \\<Psi>\\<^sub>R) \\<simeq>\\<^sub>F insertAssertion (extractFrame Q)\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)", "by(rule bisimE)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   (\\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>R) \\<simeq>\\<^sub>F insertAssertion (extractFrame Q)\n(\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "with FrP FrQ freshCompChain \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?xvec \\<sharp>* (?\\<Psi> \\<otimes> ?\\<Psi>')\n  \\<lbrakk>?Xs \\<sharp>* ?\\<Psi>; ?Xs \\<sharp>* ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?Xs \\<sharp>* (?\\<Psi> \\<otimes> ?\\<Psi>')\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n  insertAssertion (extractFrame P)\n   (\\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>R) \\<simeq>\\<^sub>F insertAssertion (extractFrame Q)\n(\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)", "have \"\\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes> \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes> \\<Psi>\\<^sub>Q\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?xvec \\<sharp>* (?\\<Psi> \\<otimes> ?\\<Psi>')\n  \\<lbrakk>?Xs \\<sharp>* ?\\<Psi>; ?Xs \\<sharp>* ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?Xs \\<sharp>* (?\\<Psi> \\<otimes> ?\\<Psi>')\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n  insertAssertion (extractFrame P)\n   (\\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>R) \\<simeq>\\<^sub>F insertAssertion (extractFrame Q)\n(\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                        \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes>\n          \\<Psi>\\<^sub>R) \\<otimes>\n         \\<Psi>\\<^sub>Q\\<rangle>", "by auto"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "moreover"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "have \"\\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes> \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                        \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n         \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "by(metis frameResChainPres frameNilStatEq Associativity Commutativity AssertionStatEqTrans Composition)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n       \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P \\<otimes>\n                      \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>Q\\<rangle>\n  \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n       \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "have \"\\<langle>A\\<^sub>P, \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P \\<otimes>\n                      \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>A\\<^sub>P, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>R) \\<otimes>\n       \\<Psi>\\<^sub>Q\\<rangle>\n  \\<langle>A\\<^sub>Q, (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R) \\<otimes>\n                      \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n       \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n         \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "by(blast intro: FrameStatEqTrans)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P \\<otimes>\n                      \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n       \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "hence \"\\<langle>(A\\<^sub>R@A\\<^sub>P), \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>R@A\\<^sub>Q), \\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P \\<otimes>\n                      \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n       \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>R @\n              A\\<^sub>P), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>R @\n A\\<^sub>Q), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "by(drule_tac frameResChainPres) (simp add: frameChainAppend)"], ["proof (state)\nthis:\n  \\<langle>(A\\<^sub>R @\n            A\\<^sub>P), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>R @\n                                     A\\<^sub>Q), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<langle>(A\\<^sub>R @\n            A\\<^sub>P), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>R @\n                                     A\\<^sub>Q), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<langle>(A\\<^sub>P @\n              A\\<^sub>R), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n A\\<^sub>R), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>", "apply(simp add: frameChainAppend)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*A\\<^sub>R\\<rparr>\\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>P \\<otimes>\n                 \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*A\\<^sub>R\\<rparr>\\<langle>A\\<^sub>Q, \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>Q \\<otimes>\n                                 \\<Psi>\\<^sub>R\\<rangle> \\<Longrightarrow>\n    \\<lparr>\\<nu>*A\\<^sub>P\\<rparr>\\<langle>A\\<^sub>R, \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>P \\<otimes>\n                 \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*A\\<^sub>Q\\<rparr>\\<langle>A\\<^sub>R, \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>Q \\<otimes>\n                                 \\<Psi>\\<^sub>R\\<rangle>", "by(metis frameResChainComm FrameStatEqTrans)"], ["proof (state)\nthis:\n  \\<langle>(A\\<^sub>P @\n            A\\<^sub>R), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n                                     A\\<^sub>R), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<langle>(A\\<^sub>P @\n            A\\<^sub>R), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n                                     A\\<^sub>R), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<langle>(A\\<^sub>P @\n            A\\<^sub>R), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n                                     A\\<^sub>R), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* \\<Psi>", "have \"(A\\<^sub>P@A\\<^sub>R) \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (A\\<^sub>P @ A\\<^sub>R) \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  (A\\<^sub>P @ A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (A\\<^sub>P @ A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* \\<Psi>", "have \"(A\\<^sub>Q@A\\<^sub>R) \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (A\\<^sub>Q @ A\\<^sub>R) \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  (A\\<^sub>Q @ A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>(A\\<^sub>P @\n            A\\<^sub>R), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n                                     A\\<^sub>R), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n  (A\\<^sub>P @ A\\<^sub>R) \\<sharp>* \\<Psi>\n  (A\\<^sub>Q @ A\\<^sub>R) \\<sharp>* \\<Psi>", "have PFrRQR: \"insertAssertion(extractFrame(P \\<parallel> R)) \\<Psi> \\<simeq>\\<^sub>F insertAssertion(extractFrame(Q \\<parallel> R)) \\<Psi>\""], ["proof (prove)\nusing this:\n  \\<langle>(A\\<^sub>P @\n            A\\<^sub>R), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n                                     A\\<^sub>R), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n  (A\\<^sub>P @ A\\<^sub>R) \\<sharp>* \\<Psi>\n  (A\\<^sub>Q @ A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame (P \\<parallel> R))\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                              (extractFrame (Q \\<parallel> R)) \\<Psi>", "using FrP FrQ FrR \\<open>A\\<^sub>P \\<sharp>* A\\<^sub>R\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\\<close> \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>R\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\\<close> \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\\<close> \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\\<close>"], ["proof (prove)\nusing this:\n  \\<langle>(A\\<^sub>P @\n            A\\<^sub>R), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>R\\<rangle> \\<simeq>\\<^sub>F \\<langle>(A\\<^sub>Q @\n                                     A\\<^sub>R), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>R\\<rangle>\n  (A\\<^sub>P @ A\\<^sub>R) \\<sharp>* \\<Psi>\n  (A\\<^sub>Q @ A\\<^sub>R) \\<sharp>* \\<Psi>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>P \\<sharp>* A\\<^sub>R\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>Q \\<sharp>* A\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame (P \\<parallel> R))\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                              (extractFrame (Q \\<parallel> R)) \\<Psi>", "by simp"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame (Q \\<parallel> R))\n                            \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"insertAssertion (extractFrame(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R)) \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>(insertAssertion (extractFrame(P \\<parallel> R)) \\<Psi>)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R))\n     \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                  (extractFrame (P \\<parallel> R)) \\<Psi>", "by(rule insertAssertionExtractFrameFresh)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                (extractFrame (P \\<parallel> R)) \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                (extractFrame (P \\<parallel> R)) \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from PFrRQR"], ["proof (chain)\npicking this:\n  insertAssertion (extractFrame (P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame (Q \\<parallel> R))\n                            \\<Psi>", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(insertAssertion (extractFrame(P \\<parallel> R)) \\<Psi>) \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>(insertAssertion (extractFrame(Q \\<parallel> R)) \\<Psi>)\""], ["proof (prove)\nusing this:\n  insertAssertion (extractFrame (P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame (Q \\<parallel> R))\n                            \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                               (extractFrame (P \\<parallel> R))\n                               \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n      (extractFrame (Q \\<parallel> R)) \\<Psi>", "by(induct xvec) (auto intro: frameResPres)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (P \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n    (extractFrame (Q \\<parallel> R)) \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (P \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n    (extractFrame (Q \\<parallel> R)) \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(insertAssertion (extractFrame(Q \\<parallel> R)) \\<Psi>) \\<simeq>\\<^sub>F insertAssertion (extractFrame(\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)) \\<Psi>\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                               (extractFrame (Q \\<parallel> R))\n                               \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                  (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                  \\<Psi>", "by(rule FrameStatEqSym[OF insertAssertionExtractFrameFresh])"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (Q \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  insertAssertion (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                (extractFrame (P \\<parallel> R)) \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (P \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n    (extractFrame (Q \\<parallel> R)) \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (Q \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                \\<Psi>", "show ?case"], ["proof (prove)\nusing this:\n  insertAssertion (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                (extractFrame (P \\<parallel> R)) \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (P \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n    (extractFrame (Q \\<parallel> R)) \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (Q \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame PR)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame QR) \\<Psi>", "using PFrR QFrR"], ["proof (prove)\nusing this:\n  insertAssertion (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R))\n   \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n                (extractFrame (P \\<parallel> R)) \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (P \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion\n    (extractFrame (Q \\<parallel> R)) \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>insertAssertion (extractFrame (Q \\<parallel> R))\n                             \\<Psi> \\<simeq>\\<^sub>F insertAssertion\n                (extractFrame (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                \\<Psi>\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame PR)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame QR) \\<Psi>", "by(blast intro: FrameStatEqTrans)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame PR)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame QR) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "{"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "fix \\<Psi> P Q R xvec"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "assume \"\\<And>A\\<^sub>R \\<Psi>\\<^sub>R. \\<lbrakk>extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\""], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"eqvt bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt bisim", "by simp"], ["proof (state)\nthis:\n  eqvt bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  eqvt bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"eqvt(?X \\<union> bisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n      bisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from bisimE(1)"], ["proof (chain)\npicking this:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?P)\n   ?\\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame ?Q) ?\\<Psi>", "have \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> insertAssertion (extractFrame Q) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P) \\<Psi>\""], ["proof (prove)\nusing this:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?P)\n   ?\\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame ?Q) ?\\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow>\n       insertAssertion (extractFrame Q)\n        \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P)\n    \\<Psi>", "by(simp add: FrameStatEq_def)"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?Q)\n   ?\\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame ?P)\n?\\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?Q)\n   ?\\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame ?P)\n?\\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "note bisimE(2) bisimE(3)"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "{"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "fix \\<Psi> P Q A\\<^sub>R \\<Psi>\\<^sub>R R"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "assume PSimQ: \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\"\n           and FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n           and \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n           and \"A\\<^sub>R \\<sharp>* P\"\n           and \"A\\<^sub>R \\<sharp>* Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>(P \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R", "by simp"], ["proof (state)\nthis:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>(Q \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R", "by simp"], ["proof (state)\nthis:\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "moreover"], ["proof (state)\nthis:\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"([]::name list) \\<sharp>* \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "moreover"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "{"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "fix A\\<^sub>R' \\<Psi>\\<^sub>R'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "assume FrR': \"extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\"\n               and \"A\\<^sub>R' \\<sharp>* \\<Psi>\"\n               and \"A\\<^sub>R' \\<sharp>* P\"\n               and \"A\\<^sub>R' \\<sharp>* Q\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "obtain p where \"(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\"\n                       and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\"\n                       and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\"\n                       and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* P\"\n                       and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\"\n                       and S: \"(set p) \\<subseteq> (set A\\<^sub>R') \\<times> (set(p \\<bullet> A\\<^sub>R'))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R';\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* P;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* Q;\n         set p\n         \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R');\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(A\\<^sub>R, \\<Psi>, \\<Psi>\\<^sub>R', P, Q)\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "from \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')", "have \"\\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> = \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\""], ["proof (prove)\nusing this:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n    \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "by(simp add: frameChainAlpha)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with FrR'"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "have FrR'': \"extractFrame R = \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with FrR \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "obtain q where \"p \\<bullet> \\<Psi>\\<^sub>R' = (q::name prm) \\<bullet> \\<Psi>\\<^sub>R\" and S': \"set q \\<subseteq> (set A\\<^sub>R) \\<times> set(p \\<bullet> A\\<^sub>R')\" and \"distinctPerm q\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R;\n         set q\n         \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R');\n         distinctPerm q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>q.\n                \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' =\n                         q \\<bullet> \\<Psi>\\<^sub>R;\n                 set q\n                 \\<subseteq> set A\\<^sub>R \\<times>\n                             set (p \\<bullet> A\\<^sub>R');\n                 distinctPerm q\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle> =\n     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* (p \\<bullet> A\\<^sub>R');\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac sym)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>q.\n                \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' =\n                         q \\<bullet> \\<Psi>\\<^sub>R;\n                 set q\n                 \\<subseteq> set A\\<^sub>R \\<times>\n                             set (p \\<bullet> A\\<^sub>R');\n                 distinctPerm q\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     A\\<^sub>R \\<sharp>* (p \\<bullet> A\\<^sub>R');\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> =\n     \\<langle>p \\<bullet>\n              A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>q.\n                \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' =\n                         q \\<bullet> \\<Psi>\\<^sub>R;\n                 set q\n                 \\<subseteq> set A\\<^sub>R \\<times>\n                             set (p \\<bullet> A\\<^sub>R');\n                 distinctPerm q\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     A\\<^sub>R \\<sharp>* (p \\<bullet> A\\<^sub>R');\n     extractFrame R =\n     \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>;\n     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> =\n     \\<langle>p \\<bullet>\n              A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "by(drule_tac frameChainEq) auto"], ["proof (state)\nthis:\n  p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R\n  set q \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "from PSimQ"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "have \"(q \\<bullet> (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)) \\<rhd> (q \\<bullet> P) \\<sim> (q \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. q \\<bullet>\n    \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  q \\<bullet>\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> S'"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set q \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R')\n  q \\<bullet>\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q", "have \"\\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set q \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R')\n  q \\<bullet>\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<sim> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "hence \"(p \\<bullet> (\\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R))) \\<rhd> (p \\<bullet> P) \\<sim> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<otimes>\n    (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "with \\<open>A\\<^sub>R' \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R' \\<sharp>* P\\<close> \\<open>A\\<^sub>R' \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> S \\<open>distinctPerm p\\<close> \\<open>(p \\<bullet> \\<Psi>\\<^sub>R') = q \\<bullet> \\<Psi>\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n  p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n  p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q", "by(drule_tac sym) (simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n  [] \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<sim> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n  [] \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X \\<union> bisim\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'''2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pb2 \\<sim> ?Qb2;\n   extractFrame ?Rb2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'''2; ?A\\<^sub>R'2 \\<sharp>* ?Pb2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qb2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'''2, ?Pb2 \\<parallel> ?Rb2,\n                     ?Qb2 \\<parallel> ?Rb2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'''2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pb2 \\<sim> ?Qb2;\n   extractFrame ?Rb2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'''2; ?A\\<^sub>R'2 \\<sharp>* ?Pb2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qb2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'''2, ?Pb2 \\<parallel> ?Rb2,\n                     ?Qb2 \\<parallel> ?Rb2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"\\<And>\\<Psi> P Q xvec. \\<lbrakk>(\\<Psi>, P, Q) \\<in> ?X \\<union> bisim; (xvec::name list) \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q) \\<in> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "fix \\<Psi> P Q xvec"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "assume \"(\\<Psi>, P, Q) \\<in> ?X \\<union> bisim\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "assume \"(xvec::name list) \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "thus \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q) \\<in> ?X \\<union> bisim\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "proof(induct xvec)"], ["proof (state)\ngoal (2 subgoals):\n 1. [] \\<sharp>* \\<Psi> \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim\n 2. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "case Nil"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (2 subgoals):\n 1. [] \\<sharp>* \\<Psi> \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim\n 2. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "thus ?case"], ["proof (prove)\nusing this:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "using \\<open>(\\<Psi>, P, Q) \\<in> ?X \\<union> bisim\\<close>"], ["proof (prove)\nusing this:\n  [] \\<sharp>* \\<Psi>\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "case(Cons x xvec)"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n  (x # xvec) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                      bisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim", "thus ?case"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n  (x # xvec) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*(x # xvec)\\<rparr>P,\n     \\<lparr>\\<nu>*(x # xvec)\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n          bisim", "by(simp only: resChain.simps) (rule_tac Res, auto)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*(x # xvec)\\<rparr>P,\n   \\<lparr>\\<nu>*(x # xvec)\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n        bisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                 bisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  eqvt bisim\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?Q)\n   ?\\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame ?P)\n?\\<Psi>\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi>'''2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pb2 \\<sim> ?Qb2;\n   extractFrame ?Rb2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'''2; ?A\\<^sub>R'2 \\<sharp>* ?Pb2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qb2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'''2, ?Pb2 \\<parallel> ?Rb2,\n                     ?Qb2 \\<parallel> ?Rb2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                 bisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim", "have \"\\<Psi> \\<rhd> P \\<parallel> R \\<leadsto>[(?X \\<union> bisim)] Q \\<parallel> R\""], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  eqvt bisim\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?Q)\n   ?\\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame ?P)\n?\\<Psi>\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi>'''2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pb2 \\<sim> ?Qb2;\n   extractFrame ?Rb2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'''2; ?A\\<^sub>R'2 \\<sharp>* ?Pb2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qb2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'''2, ?Pb2 \\<parallel> ?Rb2,\n                     ?Qb2 \\<parallel> ?Rb2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                 bisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  R \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                      R) |\n                                 xvec \\<Psi> P Q R.\n                                 xvec \\<sharp>* \\<Psi> \\<and>\n                                 (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                     extractFrame R =\n                                     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                     A\\<^sub>R \\<sharp>* P \\<and>\n                                     A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                     \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                bisim)] Q \\<parallel> R", "using statEqBisim"], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  eqvt bisim\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  insertAssertion (extractFrame ?Q)\n   ?\\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame ?P)\n?\\<Psi>\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi>'''2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pb2 \\<sim> ?Qb2;\n   extractFrame ?Rb2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'''2; ?A\\<^sub>R'2 \\<sharp>* ?Pb2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qb2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'''2, ?Pb2 \\<parallel> ?Rb2,\n                     ?Qb2 \\<parallel> ?Rb2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                 bisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  R \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                      R) |\n                                 xvec \\<Psi> P Q R.\n                                 xvec \\<sharp>* \\<Psi> \\<and>\n                                 (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                     extractFrame R =\n                                     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                     A\\<^sub>R \\<sharp>* P \\<and>\n                                     A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                     \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                bisim)] Q \\<parallel> R", "by(rule parPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                              bisim)] Q \\<parallel> R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                              bisim)] Q \\<parallel> R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "assume \"(xvec::name list) \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "have \"eqvt(?X \\<union> bisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n      bisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                              bisim)] Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) \\<leadsto>[(?X \\<union> bisim)] \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                              bisim)] Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                     xvec \\<Psi> P Q R.\n                     xvec \\<sharp>* \\<Psi> \\<and>\n                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                         extractFrame R =\n                         \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                         A\\<^sub>R \\<sharp>* P \\<and>\n                         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                         \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                    bisim)] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R", "using Res"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                              bisim)] Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n    bisim)\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                 bisim;\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                          bisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                     xvec \\<Psi> P Q R.\n                     xvec \\<sharp>* \\<Psi> \\<and>\n                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                         extractFrame R =\n                         \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                         A\\<^sub>R \\<sharp>* P \\<and>\n                         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                         \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                    bisim)] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R", "by(rule_tac resChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    R \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                   xvec \\<Psi> P Q R.\n                   xvec \\<sharp>* \\<Psi> \\<and>\n                   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                       extractFrame R =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                       A\\<^sub>R \\<sharp>* P \\<and>\n                       A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                       \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                  bisim)] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n              \\<lbrakk>extractFrame ?Ra2 =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n               A\\<^sub>R \\<sharp>* ?\\<Psi>''2; A\\<^sub>R \\<sharp>* ?Pa2;\n               A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n              \\<Longrightarrow> ?\\<Psi>''2 \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2;\n   ?xvec2 \\<sharp>* ?\\<Psi>''2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel>\n                            ?Ra2 \\<leadsto>[({(\\<Psi>,\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n        xvec \\<Psi> P Q R.\n        xvec \\<sharp>* \\<Psi> \\<and>\n        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n       bisim)] \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "with \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n  \\<lbrakk>\\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n              \\<lbrakk>extractFrame ?Ra2 =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n               A\\<^sub>R \\<sharp>* ?\\<Psi>''2; A\\<^sub>R \\<sharp>* ?Pa2;\n               A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n              \\<Longrightarrow> ?\\<Psi>''2 \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2;\n   ?xvec2 \\<sharp>* ?\\<Psi>''2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel>\n                            ?Ra2 \\<leadsto>[({(\\<Psi>,\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n        xvec \\<Psi> P Q R.\n        xvec \\<sharp>* \\<Psi> \\<and>\n        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n       bisim)] \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n  \\<lbrakk>\\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n              \\<lbrakk>extractFrame ?Ra2 =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n               A\\<^sub>R \\<sharp>* ?\\<Psi>''2; A\\<^sub>R \\<sharp>* ?Pa2;\n               A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n              \\<Longrightarrow> ?\\<Psi>''2 \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<sim> ?Qa2;\n   ?xvec2 \\<sharp>* ?\\<Psi>''2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel>\n                            ?Ra2 \\<leadsto>[({(\\<Psi>,\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n        xvec \\<Psi> P Q R.\n        xvec \\<sharp>* \\<Psi> \\<and>\n        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n       bisim)] \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> PR \\<leadsto>[({(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       R,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                       R) |\n                                  xvec \\<Psi> P Q R.\n                                  xvec \\<sharp>* \\<Psi> \\<and>\n                                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\nextractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\nA\\<^sub>R \\<sharp>* \\<Psi> \\<and>\nA\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                                 bisim)] QR", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> PR \\<leadsto>[({(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<union>\n                               bisim)] QR\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> PR QR \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "obtain xvec P Q R A\\<^sub>R \\<Psi>\\<^sub>R where PFrR: \"PR = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R)\" and QFrR: \"QR = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\"\n                               and \"xvec \\<sharp>* \\<Psi>\" and A: \"\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R. (extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and> A\\<^sub>R \\<sharp>* \\<Psi> \\<and> A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q) \\<longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P R Q.\n        \\<lbrakk>PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n         QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n         xvec \\<sharp>* \\<Psi>;\n         \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "obtain p where \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>\"\n               and \"(p \\<bullet> xvec) \\<sharp>* P\"\n               and \"(p \\<bullet> xvec) \\<sharp>* Q\"\n               and \"(p \\<bullet> xvec) \\<sharp>* R\"\n               and \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\"\n               and S: \"(set p) \\<subseteq> (set xvec) \\<times> (set(p \\<bullet> xvec))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n         (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n         (p \\<bullet> xvec) \\<sharp>* R;\n         (p \\<bullet> xvec) \\<sharp>* \\<Psi>';\n         set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, R, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  distinctPerm p\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* R\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(p \\<bullet> (P \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> R", "by(subst resChainAlpha) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence PRAlpha: \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> R))\""], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* R\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(p \\<bullet> (Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> R", "by(subst resChainAlpha) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence QRAlpha: \"\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\""], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> R)), \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "proof(rule_tac C2=\"(\\<Psi>, (p \\<bullet> P), (p \\<bullet> Q), R, \\<Psi>', xvec, p \\<bullet> xvec)\" in XI', auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "fix A\\<^sub>R \\<Psi>\\<^sub>R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "assume FrR: \"extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>'\" and \"A\\<^sub>R \\<sharp>* (p \\<bullet> P)\" and \"A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\""], ["proof (state)\nthis:\n  extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* \\<Psi>'\n  A\\<^sub>R \\<sharp>* (p \\<bullet> P)\n  A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "from FrR"], ["proof (chain)\npicking this:\n  extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>", "have \"(p \\<bullet> (extractFrame (p \\<bullet> R))) = (p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>)\""], ["proof (prove)\nusing this:\n  extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. p \\<bullet> extractFrame (p \\<bullet> R) =\n    p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>", "by simp"], ["proof (state)\nthis:\n  p \\<bullet> extractFrame (p \\<bullet> R) =\n  p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  distinctPerm p\n  p \\<bullet> extractFrame (p \\<bullet> R) =\n  p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>", "have \"extractFrame R = \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  p \\<bullet> extractFrame (p \\<bullet> R) =\n  p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "from \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "with \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "from \\<open>A\\<^sub>R \\<sharp>* (p \\<bullet> P)\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> P)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* P\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* P", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "from \\<open>A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> Q)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "ultimately"], ["proof (chain)\npicking this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "have \"\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q", "using A"], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "hence \"(\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes> (p \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n    (p \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q", "by(rule bisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "have \"(\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes> (p \\<bullet> \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n    (p \\<bullet>\n     \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                       (p \\<bullet> \\<Psi>\\<^sub>R)", "by(metis Associativity Commutativity Composition AssertionStatEqTrans AssertionStatEqSym)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet>\n   \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                     (p \\<bullet> \\<Psi>\\<^sub>R)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet>\n   \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                     (p \\<bullet> \\<Psi>\\<^sub>R)", "have \"(\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<sim> Q\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet>\n   \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                     (p \\<bullet> \\<Psi>\\<^sub>R)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n    (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q", "by(rule statEqBisim)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "hence \"(p \\<bullet> ((\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R))) \\<rhd> (p \\<bullet> P) \\<sim> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n    (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<sim> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  distinctPerm p\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  p \\<bullet>\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "show \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>R \\<rhd> (p \\<bullet> P) \\<sim> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  p \\<bullet>\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>R \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>R \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "with PFrR QFrR PRAlpha QRAlpha"], ["proof (chain)\npicking this:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}", "show ?case"], ["proof (prove)\nusing this:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', PR, QR)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> PR \\<sim> QR", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> PR \\<sim> QR\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, QR, PR)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n    \\<Psi> \\<rhd> QR \\<sim> PR", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, QR, PR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q)} \\<or>\n  \\<Psi> \\<rhd> QR \\<sim> PR\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimParPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "obtain A\\<^sub>R \\<Psi>\\<^sub>R where \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* P\" and \"A\\<^sub>R \\<sharp>* Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n         A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n         A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P, Q)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "by(rule bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R", "by(rule_tac bisimParPresAux)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> R \\<sim> Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}