{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Weak_Bisim_Pres.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma weakBisimInputPres:\n  fixes \\<Psi>    :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n\n  assumes \"\\<And>Tvec. length xvec = length Tvec \\<Longrightarrow> \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]\"\n\n  shows \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q\"", "lemma weakBisimOutputPres:\n  fixes \\<Psi>    :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q\"", "lemma weakBisimResPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   x :: name\n  \n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"x \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q\"", "lemma weakBisimResChainPres:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   xvec :: \"name list\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>Q\"", "lemma weakBisimParPresAux:\n  fixes \\<Psi>  :: 'b\n  and   \\<Psi>\\<^sub>R :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   Q  :: \"('a, 'b, 'c) psi\"\n  and   R  :: \"('a, 'b, 'c) psi\"\n  and   A\\<^sub>R :: \"name list\"\n  \n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\"\n  and     FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R\"", "lemma weakBisimParPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R\""], "translations": [["", "lemma weakBisimInputPres:\n  fixes \\<Psi>    :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n\n  assumes \"\\<And>Tvec. length xvec = length Tvec \\<Longrightarrow> \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]\"\n\n  shows \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "let ?X = \"{(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) | \\<Psi> M xvec N P Q. \\<forall>Tvec. length xvec = length Tvec \\<longrightarrow> \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "from assms"], ["proof (chain)\npicking this:\n  length xvec = length ?Tvec \\<Longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=?Tvec] \\<approx> Q[xvec::=?Tvec]", "have \"(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  length xvec = length ?Tvec \\<Longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=?Tvec] \\<approx> Q[xvec::=?Tvec]\n\ngoal (1 subgoal):\n 1. (\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n     M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)\n    \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n           \\<Psi> M xvec N P Q.\n           \\<forall>Tvec.\n              length xvec = length Tvec \\<longrightarrow>\n              \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q", "proof(coinduct rule: weakBisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n  \\<Psi> M xvec N P Q.\n  \\<forall>Tvec.\n     length xvec = length Tvec \\<longrightarrow>\n     \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n  \\<Psi> M xvec N P Q.\n  \\<forall>Tvec.\n     length xvec = length Tvec \\<longrightarrow>\n     \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><({(\\<Psi>,\n                                     M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n                                     M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                    \\<Psi> M xvec N P Q.\n                                    \\<forall>Tvec.\n length xvec = length Tvec \\<longrightarrow>\n \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                   weakBisim)> Q", "by(fastforce intro: weakStatImpInputPres dest: weakBisimE(3))"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><({(\\<Psi>,\n                                   M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n                                   M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                  \\<Psi> M xvec N P Q.\n                                  \\<forall>Tvec.\n                                     length xvec =\n                                     length Tvec \\<longrightarrow>\n                                     \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                 weakBisim)> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.P, M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                     \\<Psi> M xvec N P Q.\n                                     \\<forall>Tvec.\n  length xvec = length Tvec \\<longrightarrow>\n  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><({(\\<Psi>,\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                                 \\<Psi> M xvec N P Q.\n                                 \\<forall>Tvec.\n                                    length xvec =\n                                    length Tvec \\<longrightarrow>\n                                    \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                                weakBisim)> Q", "by auto (blast intro: weakInputPres dest: weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><({(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n                                M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n                               \\<Psi> M xvec N P Q.\n                               \\<forall>Tvec.\n                                  length xvec =\n                                  length Tvec \\<longrightarrow>\n                                  \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<union>\n                              weakBisim)> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n           \\<Psi> M xvec N P Q.\n           \\<forall>Tvec.\n              length xvec = length Tvec \\<longrightarrow>\n              \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n              \\<Psi> M xvec N P Q.\n              \\<forall>Tvec.\n                 length xvec = length Tvec \\<longrightarrow>\n                 \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n           \\<Psi> M xvec N P Q.\n           \\<forall>Tvec.\n              length xvec = length Tvec \\<longrightarrow>\n              \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n    \\<Psi> \\<rhd> Q \\<approx> P", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.P,\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) |\n         \\<Psi> M xvec N P Q.\n         \\<forall>Tvec.\n            length xvec = length Tvec \\<longrightarrow>\n            \\<Psi> \\<rhd> P[xvec::=Tvec] \\<approx> Q[xvec::=Tvec]} \\<or>\n  \\<Psi> \\<rhd> Q \\<approx> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimOutputPres:\n  fixes \\<Psi>    :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q", "let ?X = \"{(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) | \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q", "have \"(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q)\n    \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi>\n           M N P Q. \\<Psi> \\<rhd> P \\<approx> Q}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q", "proof(coinduct rule: weakBisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\n   M\\<langle>N\\<rangle>.Q) |\n  \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\nM\\<langle>N\\<rangle>.Q) |\n                                     \\<Psi> M N P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\n   M\\<langle>N\\<rangle>.Q) |\n  \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\nM\\<langle>N\\<rangle>.Q) |\n                                     \\<Psi> M N P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\n                                     M\\<langle>N\\<rangle>.Q) |\n                                    \\<Psi> M N P Q.\n                                    \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                   weakBisim)> Q", "by auto (blast intro: weakStatImpOutputPres dest: weakBisimE(3))"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\n                                   M\\<langle>N\\<rangle>.Q) |\n                                  \\<Psi> M N P Q.\n                                  \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                 weakBisim)> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\nM\\<langle>N\\<rangle>.Q) |\n                                     \\<Psi> M N P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\nM\\<langle>N\\<rangle>.Q) |\n                                     \\<Psi> M N P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\nM\\<langle>N\\<rangle>.Q) |\n                                     \\<Psi> M N P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\n                                  M\\<langle>N\\<rangle>.Q) |\n                                 \\<Psi> M N P Q.\n                                 \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                                weakBisim)> Q", "by(auto intro: weakOutputPres dest: weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><({(\\<Psi>, M\\<langle>N\\<rangle>.P,\n                                M\\<langle>N\\<rangle>.Q) |\n                               \\<Psi> M N P Q.\n                               \\<Psi> \\<rhd> P \\<approx> Q} \\<union>\n                              weakBisim)> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi>\n           M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\n              \\<Psi> M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi>\n           M N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n    \\<Psi> \\<rhd> Q \\<approx> P", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.P, M\\<langle>N\\<rangle>.Q) |\\<Psi> M\n         N P Q. \\<Psi> \\<rhd> P \\<approx> Q} \\<or>\n  \\<Psi> \\<rhd> Q \\<approx> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<approx> M\\<langle>N\\<rangle>.Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimResPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   x :: name\n  \n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"x \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "let ?X = \"{(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) | \\<Psi> x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  x \\<sharp> \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "proof(coinduct rule: weakBisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cStatImp \\<Psi> xP xQ)"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "{"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "fix \\<Psi> P Q x"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "assume \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "hence \"\\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "have \"eqvt weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt weakBisim", "by auto"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "assume \"(x::name) \\<sharp> \\<Psi>\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "have \"\\<And>\\<Psi> P Q x. \\<lbrakk>(\\<Psi>, P, Q) \\<in> weakBisim; x \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> Q; x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                 \\<lparr>\\<nu>x\\<rparr>Q) |\n                                \\<Psi> x P Q.\n                                \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                x \\<sharp> \\<Psi>} \\<union>\n                               weakBisim", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          weakBisim\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n  eqvt weakBisim\n  x \\<sharp> \\<Psi>\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          weakBisim", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<lessapprox><(?X \\<union> weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n  eqvt weakBisim\n  x \\<sharp> \\<Psi>\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<lessapprox><({(\\<Psi>,\n                     \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> x P Q.\n                    \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                    x \\<sharp> \\<Psi>} \\<union>\n                   weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q", "by(rule weakStatImpResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<lessapprox><({(\\<Psi>,\n                   \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n                  \\<Psi> x P Q.\n                  \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                  x \\<sharp> \\<Psi>} \\<union>\n                 weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>''2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   ?xa2 \\<sharp> ?\\<Psi>''2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>?Pa2 \\<lessapprox><({(\\<Psi>,\n         \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n        \\<Psi> x P Q.\n        \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n       weakBisim)> \\<lparr>\\<nu>?xa2\\<rparr>?Qa2\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n  \\<Psi> x P Q.\n  \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with \\<open>(\\<Psi>, xP, xQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lbrakk>?\\<Psi>''2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   ?xa2 \\<sharp> ?\\<Psi>''2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>?Pa2 \\<lessapprox><({(\\<Psi>,\n         \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n        \\<Psi> x P Q.\n        \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n       weakBisim)> \\<lparr>\\<nu>?xa2\\<rparr>?Qa2", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lbrakk>?\\<Psi>''2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   ?xa2 \\<sharp> ?\\<Psi>''2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>?Pa2 \\<lessapprox><({(\\<Psi>,\n         \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n        \\<Psi> x P Q.\n        \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n       weakBisim)> \\<lparr>\\<nu>?xa2\\<rparr>?Qa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> xP \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> xQ", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> xP \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                    \\<lparr>\\<nu>x\\<rparr>Q) |\n                                   \\<Psi> x P Q.\n                                   \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                   x \\<sharp> \\<Psi>} \\<union>\n                                  weakBisim)> xQ\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSim \\<Psi> xP xQ)"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(\\<Psi>, xP, xQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}", "obtain x P Q where \"\\<Psi> \\<rhd> P \\<approx> Q\" and \"x \\<sharp> \\<Psi>\" and \"xP = \\<lparr>\\<nu>x\\<rparr>P\" and \"xQ = \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>P Q x.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> Q; x \\<sharp> \\<Psi>;\n         xP = \\<lparr>\\<nu>x\\<rparr>P; xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>\\<Psi> \\<rhd> P \\<approx> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q", "have \"\\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n      Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}", "by(force simp add: eqvt_def weakBisimClosed pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n    Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "hence \"eqvt(?X \\<union> weakBisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n    Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x\n       P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n      weakBisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    weakBisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    weakBisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "note \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "have \"weakBisim \\<subseteq> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakBisim\n    \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> x P Q.\n                 \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                 x \\<sharp> \\<Psi>} \\<union>\n                weakBisim", "by auto"], ["proof (state)\nthis:\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "have \"\\<And>\\<Psi> P Q x. \\<lbrakk>(\\<Psi>, P, Q) \\<in> weakBisim; x \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> Q; x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                 \\<lparr>\\<nu>x\\<rparr>Q) |\n                                \\<Psi> x P Q.\n                                \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                x \\<sharp> \\<Psi>} \\<union>\n                               weakBisim", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          weakBisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    weakBisim)\n  x \\<sharp> \\<Psi>\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          weakBisim", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto><(?X \\<union> weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi> x P\n     Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<union>\n    weakBisim)\n  x \\<sharp> \\<Psi>\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                            \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> x P Q.\n                           \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                           x \\<sharp> \\<Psi>} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto><({(\\<Psi>,\n                  \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> x P Q.\n                 \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                 x \\<sharp> \\<Psi>} \\<union>\n                weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q", "by(rule weakResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto><({(\\<Psi>,\n                \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>Q) |\n                                     \\<Psi> x P Q.\n                                     \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                     x \\<sharp> \\<Psi>} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with \\<open>xP = \\<lparr>\\<nu>x\\<rparr>P\\<close> \\<open>xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<close>"], ["proof (chain)\npicking this:\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto><({(\\<Psi>,\n                \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q", "show ?case"], ["proof (prove)\nusing this:\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<leadsto><({(\\<Psi>,\n                \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> x P Q.\n               \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n               x \\<sharp> \\<Psi>} \\<union>\n              weakBisim)> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> xP \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                   \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> x P Q.\n                                  \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                  x \\<sharp> \\<Psi>} \\<union>\n                                 weakBisim)> xQ", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> xP \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                                 \\<lparr>\\<nu>x\\<rparr>Q) |\n                                \\<Psi> x P Q.\n                                \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n                                x \\<sharp> \\<Psi>} \\<union>\n                               weakBisim)> xQ\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cExt \\<Psi> xP xQ \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(\\<Psi>, xP, xQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}", "obtain x P Q where \"\\<Psi> \\<rhd> P \\<approx> Q\" and \"x \\<sharp> \\<Psi>\" and \"xP = \\<lparr>\\<nu>x\\<rparr>P\" and \"xQ = \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>P Q x.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> Q; x \\<sharp> \\<Psi>;\n         xP = \\<lparr>\\<nu>x\\<rparr>P; xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  x \\<sharp> \\<Psi>\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "obtain y::name where \"y \\<sharp> P\" and \"y \\<sharp> Q\" and \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> P; y \\<sharp> Q; y \\<sharp> \\<Psi>;\n         y \\<sharp> \\<Psi>'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\", auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> P\n  y \\<sharp> Q\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>\\<Psi> \\<rhd> P \\<approx> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q", "have \"\\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "hence \"([(x, y)] \\<bullet> (\\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>'))) \\<rhd> ([(x, y)] \\<bullet> P) \\<approx> ([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> ([(x, y)] \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. [(x, y)] \\<bullet>\n    \\<Psi> \\<otimes>\n    ([(x, y)] \\<bullet>\n     \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  [(x, y)] \\<bullet>\n  \\<Psi> \\<otimes>\n  ([(x, y)] \\<bullet>\n   \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  [(x, y)] \\<bullet>\n  \\<Psi> \\<otimes>\n  ([(x, y)] \\<bullet>\n   \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> ([(x, y)] \\<bullet> P) \\<approx> ([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  [(x, y)] \\<bullet>\n  \\<Psi> \\<otimes>\n  ([(x, y)] \\<bullet>\n   \\<Psi>') \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P), \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> [(x, y)] \\<bullet> P \\<approx> [(x, y)] \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n     \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> P\n  y \\<sharp> Q", "have \"\\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\" and \"\\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>x\\<rparr>P =\n    \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P) &&&\n    \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)", "by(simp add: alphaRes)+"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xP, xQ)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xP \\<approx> xQ", "using \\<open>xP = \\<lparr>\\<nu>x\\<rparr>P\\<close> \\<open>xQ = \\<lparr>\\<nu>x\\<rparr>Q\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P),\n   \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n  \\<lparr>\\<nu>x\\<rparr>P = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n  \\<lparr>\\<nu>x\\<rparr>Q = \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n  xP = \\<lparr>\\<nu>x\\<rparr>P\n  xQ = \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xP, xQ)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xP \\<approx> xQ", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', xP, xQ)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xP \\<approx> xQ\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and>\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> x P Q.\n              \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> x P Q.\n           \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<rhd> Q \\<approx> P", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) |\\<Psi>\n         x P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<and> x \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<rhd> Q \\<approx> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimResChainPres:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   xvec :: \"name list\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>Q", "by(induct xvec) (auto intro: weakBisimResPres)"], ["", "lemma weakBisimParPresAux:\n  fixes \\<Psi>  :: 'b\n  and   \\<Psi>\\<^sub>R :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   Q  :: \"('a, 'b, 'c) psi\"\n  and   R  :: \"('a, 'b, 'c) psi\"\n  and   A\\<^sub>R :: \"name list\"\n  \n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\"\n  and     FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "let ?X = \"{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) | xvec \\<Psi> P Q R. xvec \\<sharp>* \\<Psi> \\<and> (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R. (extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and> A\\<^sub>R \\<sharp>* \\<Psi> \\<and> A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q) \\<longrightarrow>\n                                                                                          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "fix xvec :: \"name list\"\n    and \\<Psi>    :: 'b \n    and P    :: \"('a, 'b, 'c) psi\"\n    and Q    :: \"('a, 'b, 'c) psi\"\n    and R    :: \"('a, 'b, 'c) psi\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "assume \"xvec \\<sharp>* \\<Psi>\"\n    and    \"\\<And>A\\<^sub>R \\<Psi>\\<^sub>R. \\<lbrakk>extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "hence \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "note XI = this"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "fix xvec :: \"name list\"\n    and \\<Psi>    :: 'b \n    and P    :: \"('a, 'b, 'c) psi\"\n    and Q    :: \"('a, 'b, 'c) psi\"\n    and R    :: \"('a, 'b, 'c) psi\"\n    and C    :: \"'d::fs_name\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "assume \"xvec \\<sharp>* \\<Psi>\"\n    and    A: \"\\<And>A\\<^sub>R \\<Psi>\\<^sub>R. \\<lbrakk>extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q; A\\<^sub>R \\<sharp>* C\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q; ?A\\<^sub>R \\<sharp>* C\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "proof(rule XI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "fix A\\<^sub>R \\<Psi>\\<^sub>R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "assume FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "obtain p::\"name prm\" where \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* P\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* R\" and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* C\"\n                             and \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\" and S: \"(set p) \\<subseteq> (set A\\<^sub>R) \\<times> (set(p \\<bullet> A\\<^sub>R))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* P;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* Q;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* R;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* C;\n         (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R;\n         set p\n         \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, R, \\<Psi>\\<^sub>R, C)\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* R\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* C\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "from FrR \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\\<close> S"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)", "have \"extractFrame R = \\<langle>(p \\<bullet> A\\<^sub>R), p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<^sub>R\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>", "by(simp add: frameChainAlpha')"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "moreover"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "assume \"A\\<^sub>R \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "hence \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "with \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "assume \"A\\<^sub>R \\<sharp>* P\""], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "hence \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "with \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* P\\<close> S"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* P\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* P", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "assume \"A\\<^sub>R \\<sharp>* Q\""], ["proof (state)\nthis:\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "hence \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "with \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\\<close> S"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "ultimately"], ["proof (chain)\npicking this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "have \"\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q", "using \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* C\\<close> A"], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* C\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* \\<Psi>; ?A\\<^sub>R \\<sharp>* P;\n   ?A\\<^sub>R \\<sharp>* Q; ?A\\<^sub>R \\<sharp>* C\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "hence \"(p \\<bullet> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R))) \\<rhd> (p \\<bullet> P) \\<approx> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<otimes>\n    (p \\<bullet>\n     \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "with \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\\<close> S \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "show \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R)\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2; A\\<^sub>R \\<sharp>* ?C2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "note XI' = this"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>'2;\n   \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n      \\<lbrakk>extractFrame ?Ra2 =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n       A\\<^sub>R \\<sharp>* ?\\<Psi>'2; A\\<^sub>R \\<sharp>* ?Pa2;\n       A\\<^sub>R \\<sharp>* ?Qa2; A\\<^sub>R \\<sharp>* ?C2\\<rbrakk>\n      \\<Longrightarrow> ?\\<Psi>'2 \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel> ?Ra2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "apply(auto simp add: eqvt_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xveca Pa Qa Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel>\n                 Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel>\n                 Ra \\<and>\n                            xveca \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<approx> Qa)", "apply(rule_tac x=\"p \\<bullet> xvec\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Pa Qa Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>Pa \\<parallel> Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>Qa \\<parallel> Ra \\<and>\n                            (p \\<bullet>\n                             xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<approx> Qa)", "apply(rule_tac x=\"p \\<bullet> P\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Qa Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>(p \\<bullet> P) \\<parallel> Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>Qa \\<parallel> Ra \\<and>\n                            (p \\<bullet>\n                             xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n                P \\<approx> Qa)", "apply(rule_tac x=\"p \\<bullet> Q\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ra.\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>(p \\<bullet> P) \\<parallel> Ra \\<and>\n                            p \\<bullet>\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*p \\<bullet>\n    xvec\\<rparr>(p \\<bullet> Q) \\<parallel> Ra \\<and>\n                            (p \\<bullet>\n                             xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                                A\\<^sub>R \\<sharp>* (p \\<bullet>\n               Q) \\<longrightarrow>\n                                (p \\<bullet> a) \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n                P \\<approx> p \\<bullet> Q)", "apply(rule_tac x=\"p \\<bullet> R\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n                         \\<lparr>\\<nu>*p \\<bullet>\n xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R) \\<and>\n                         p \\<bullet>\n                         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n                         \\<lparr>\\<nu>*p \\<bullet>\n xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R) \\<and>\n                         (p \\<bullet> xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame (p \\<bullet> R) =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet>\n            Q) \\<longrightarrow>\n                             (p \\<bullet> a) \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n             P \\<approx> p \\<bullet> Q)", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> xvec) \\<sharp>* (p \\<bullet> a) \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame (p \\<bullet> R) =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                             A\\<^sub>R \\<sharp>* (p \\<bullet>\n            Q) \\<longrightarrow>\n                             (p \\<bullet> a) \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n             P \\<approx> p \\<bullet> Q)", "apply(simp add: fresh_star_bij)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame (p \\<bullet> R) =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* (p \\<bullet> a) \\<and>\n                            A\\<^sub>R \\<sharp>* (p \\<bullet> P) \\<and>\n                            A\\<^sub>R \\<sharp>* (p \\<bullet>\n           Q) \\<longrightarrow>\n                            (p \\<bullet> a) \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n            P \\<approx> p \\<bullet> Q", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* a \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "apply(erule_tac x=\"(rev p) \\<bullet> A\\<^sub>R\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        \\<forall>\\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>rev p \\<bullet>\n                    A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n           (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n           (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q \\<longrightarrow>\n           a \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "apply(erule_tac x=\"(rev p) \\<bullet> \\<Psi>\\<^sub>R\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        extractFrame R =\n        \\<langle>rev p \\<bullet>\n                 A\\<^sub>R, rev p \\<bullet> \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n        (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n        (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q \\<longrightarrow>\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "apply(drule mp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> extractFrame R =\n                         \\<langle>rev p \\<bullet>\n                                  A\\<^sub>R, rev p \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "apply(rule conjI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> extractFrame R =\n                         \\<langle>rev p \\<bullet>\n                                  A\\<^sub>R, rev p \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle>\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "apply(rule_tac pi=p in pt_bij4[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> extractFrame R =\n                         p \\<bullet>\n                         \\<langle>rev p \\<bullet>\n                                  A\\<^sub>R, rev p \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle>\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "defer"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        a \\<otimes>\n        (rev p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(drule_tac p=p in weakBisimClosed)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        p \\<bullet>\n        a \\<otimes>\n        (rev p \\<bullet>\n         \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet>\n                                P \\<approx> p \\<bullet> Q\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet> a) \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q\n 2. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* a \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of p, THEN sym])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          rev p \\<bullet>\n                          A\\<^sub>R) \\<sharp>* (p \\<bullet> a) \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of p, THEN sym])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          rev p \\<bullet>\n                          A\\<^sub>R) \\<sharp>* (p \\<bullet> P) \\<and>\n                         (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (rev p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of p, THEN sym])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a xvec P Q R p A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>xvec \\<sharp>* a;\n        extractFrame (p \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> a);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          rev p \\<bullet>\n                          A\\<^sub>R) \\<sharp>* (p \\<bullet> Q)", "by simp"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "have Res: \"\\<And>\\<Psi> P Q x. \\<lbrakk>(\\<Psi>, P, Q) \\<in> ?X \\<union> weakBisim; x \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "fix \\<Psi> P Q x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "assume \"(\\<Psi>, P, Q) \\<in> ?X \\<union> weakBisim\" and \"(x::name) \\<sharp> \\<Psi>\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "show \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "proof(case_tac \"(\\<Psi>, P, Q) \\<in> ?X\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "assume \"(\\<Psi>, P, Q) \\<in> ?X\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "with \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>;\n        P = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        Q = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xveca Pa Qa Ra.\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n R) =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel>\n                 Ra \\<and>\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n R) =\n                            \\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel>\n                 Ra \\<and>\n                            xveca \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<approx> Qa)", "by(rule_tac x=\"x#xvec\" in exI) auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "assume \"\\<not>(\\<Psi>, P, Q) \\<in> ?X\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n             \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n            xvec \\<Psi> P Q R.\n            xvec \\<sharp>* \\<Psi> \\<and>\n            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                A\\<^sub>R \\<sharp>* P \\<and>\n                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "with \\<open>(\\<Psi>, P, Q) \\<in> ?X \\<union> weakBisim\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n             \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n            xvec \\<Psi> P Q R.\n            xvec \\<sharp>* \\<Psi> \\<and>\n            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                A\\<^sub>R \\<sharp>* P \\<and>\n                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n             \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n            xvec \\<Psi> P Q R.\n            xvec \\<sharp>* \\<Psi> \\<and>\n            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                A\\<^sub>R \\<sharp>* P \\<and>\n                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "using \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q", "by(rule weakBisimResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>P \\<approx> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "{"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "fix \\<Psi>  :: 'b\n      and P  :: \"('a, 'b, 'c) psi\"\n      and Q  :: \"('a, 'b, 'c) psi\"\n      and \\<Psi>' :: 'b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "assume \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "hence \"\\<Psi> \\<rhd> Q \\<approx> P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<approx> P", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<approx> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<approx> P", "obtain P' P'' where PChain: \"\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\"\n                         and QimpP': \"insertAssertion(extractFrame Q) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion(extractFrame P') \\<Psi>\"\n                         and P'Chain: \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\"   \n                         and \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<approx> P\n\ngoal (1 subgoal):\n 1. (\\<And>P' P''.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n         insertAssertion (extractFrame Q)\n          \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n      \\<Psi>;\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using weakStatImp_def"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<approx> P\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox><?Rel> ?Q \\<equiv>\n  \\<forall>\\<Psi>'.\n     \\<exists>Q' Q''.\n        ?\\<Psi> \\<rhd> ?Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q' \\<and>\n        insertAssertion (extractFrame ?P)\n         ?\\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame Q')\n      ?\\<Psi> \\<and>\n        ?\\<Psi> \\<otimes>\n        \\<Psi>' \\<rhd> Q' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q'' \\<and>\n        (?\\<Psi> \\<otimes> \\<Psi>', ?P, Q'') \\<in> ?Rel\n\ngoal (1 subgoal):\n 1. (\\<And>P' P''.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n         insertAssertion (extractFrame Q)\n          \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n      \\<Psi>;\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "note PChain QimpP' P'Chain"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "from \\<open>\\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<approx> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q", "have \"\\<exists>P' P''. \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and> insertAssertion(extractFrame Q) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion(extractFrame P') \\<Psi> \\<and>\n                              \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'' \\<and> \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P') \\<Psi>\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P' P''.\n       \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       insertAssertion (extractFrame Q)\n        \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n    \\<Psi> \\<and>\n       \\<Psi> \\<otimes>\n       \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'' \\<and>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q", "by blast"], ["proof (state)\nthis:\n  \\<exists>P' P''.\n     \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     insertAssertion (extractFrame Q)\n      \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n  \\<Psi> \\<and>\n     \\<Psi> \\<otimes>\n     \\<Psi>' \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'' \\<and>\n     \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  ?\\<Psi>'2 \\<rhd> ?Pa2 \\<approx> ?Qa2 \\<Longrightarrow>\n  \\<exists>P' P''.\n     ?\\<Psi>'2 \\<rhd> ?Pa2 \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     insertAssertion (extractFrame ?Qa2)\n      ?\\<Psi>'2 \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n     ?\\<Psi>'2 \\<and>\n     ?\\<Psi>'2 \\<otimes>\n     ?\\<Psi>''2 \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'' \\<and>\n     ?\\<Psi>'2 \\<otimes> ?\\<Psi>''2 \\<rhd> P'' \\<approx> ?Qa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi>'2 \\<rhd> ?Pa2 \\<approx> ?Qa2 \\<Longrightarrow>\n  \\<exists>P' P''.\n     ?\\<Psi>'2 \\<rhd> ?Pa2 \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     insertAssertion (extractFrame ?Qa2)\n      ?\\<Psi>'2 \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n     ?\\<Psi>'2 \\<and>\n     ?\\<Psi>'2 \\<otimes>\n     ?\\<Psi>''2 \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'' \\<and>\n     ?\\<Psi>'2 \\<otimes> ?\\<Psi>''2 \\<rhd> P'' \\<approx> ?Qa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "{"], ["proof (state)\nthis:\n  ?\\<Psi>'2 \\<rhd> ?Pa2 \\<approx> ?Qa2 \\<Longrightarrow>\n  \\<exists>P' P''.\n     ?\\<Psi>'2 \\<rhd> ?Pa2 \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     insertAssertion (extractFrame ?Qa2)\n      ?\\<Psi>'2 \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P')\n     ?\\<Psi>'2 \\<and>\n     ?\\<Psi>'2 \\<otimes>\n     ?\\<Psi>''2 \\<rhd> P' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'' \\<and>\n     ?\\<Psi>'2 \\<otimes> ?\\<Psi>''2 \\<rhd> P'' \\<approx> ?Qa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "fix \\<Psi> P Q A\\<^sub>R \\<Psi>\\<^sub>R R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "assume PSimQ: \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\"\n       and FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n       and \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n       and \"A\\<^sub>R \\<sharp>* P\"\n       and \"A\\<^sub>R \\<sharp>* Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "hence \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>(P \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R", "by simp"], ["proof (state)\nthis:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "moreover"], ["proof (state)\nthis:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>(Q \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R", "by simp"], ["proof (state)\nthis:\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "moreover"], ["proof (state)\nthis:\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"([]::name list) \\<sharp>* \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "moreover"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "{"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "fix A\\<^sub>R' \\<Psi>\\<^sub>R'"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "assume FrR': \"extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\"\n            and \"A\\<^sub>R' \\<sharp>* \\<Psi>\"\n            and \"A\\<^sub>R' \\<sharp>* P\"\n            and \"A\\<^sub>R' \\<sharp>* Q\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "obtain p where \"(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\"\n                   and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\"\n                   and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\"\n                   and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* P\"\n                   and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\"\n                   and S: \"(set p) \\<subseteq> (set A\\<^sub>R') \\<times> (set(p \\<bullet> A\\<^sub>R'))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R';\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* P;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* Q;\n         set p\n         \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R');\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(A\\<^sub>R, \\<Psi>, \\<Psi>\\<^sub>R', P, Q)\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "from \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')", "have \"\\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> = \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\""], ["proof (prove)\nusing this:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n    \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "by(simp add: frameChainAlpha)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with FrR'"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "have FrR'': \"extractFrame R = \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle> =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "by simp"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with FrR \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "obtain q where \"p \\<bullet> \\<Psi>\\<^sub>R' = (q::name prm) \\<bullet> \\<Psi>\\<^sub>R\" and S': \"set q \\<subseteq> (set A\\<^sub>R) \\<times> set(p \\<bullet> A\\<^sub>R')\" and \"distinctPerm q\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R;\n         set q\n         \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R');\n         distinctPerm q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>q.\n                \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' =\n                         q \\<bullet> \\<Psi>\\<^sub>R;\n                 set q\n                 \\<subseteq> set A\\<^sub>R \\<times>\n                             set (p \\<bullet> A\\<^sub>R');\n                 distinctPerm q\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle> =\n     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* (p \\<bullet> A\\<^sub>R');\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac sym)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>q.\n                \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' =\n                         q \\<bullet> \\<Psi>\\<^sub>R;\n                 set q\n                 \\<subseteq> set A\\<^sub>R \\<times>\n                             set (p \\<bullet> A\\<^sub>R');\n                 distinctPerm q\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     A\\<^sub>R \\<sharp>* (p \\<bullet> A\\<^sub>R');\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> =\n     \\<langle>p \\<bullet>\n              A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>q.\n                \\<lbrakk>p \\<bullet> \\<Psi>\\<^sub>R' =\n                         q \\<bullet> \\<Psi>\\<^sub>R;\n                 set q\n                 \\<subseteq> set A\\<^sub>R \\<times>\n                             set (p \\<bullet> A\\<^sub>R');\n                 distinctPerm q\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     A\\<^sub>R \\<sharp>* (p \\<bullet> A\\<^sub>R');\n     extractFrame R =\n     \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>;\n     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> =\n     \\<langle>p \\<bullet>\n              A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\\<rbrakk>\n    \\<Longrightarrow> thesis", "by(drule_tac frameChainEq) auto"], ["proof (state)\nthis:\n  p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R\n  set q \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "from PSimQ"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "have \"(q \\<bullet> (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R)) \\<rhd> (q \\<bullet> P) \\<approx> (q \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. q \\<bullet>\n    \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> S'"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set q \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R')\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q", "have \"\\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set q \\<subseteq> set A\\<^sub>R \\<times> set (p \\<bullet> A\\<^sub>R')\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>R \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "hence \"(p \\<bullet> (\\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R))) \\<rhd> (p \\<bullet> P) \\<approx> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<otimes>\n    (q \\<bullet>\n     \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with \\<open>A\\<^sub>R' \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R' \\<sharp>* P\\<close> \\<open>A\\<^sub>R' \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> S \\<open>distinctPerm p\\<close> \\<open>(p \\<bullet> \\<Psi>\\<^sub>R') = q \\<bullet> \\<Psi>\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n  p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n  p \\<bullet> \\<Psi>\\<^sub>R' = q \\<bullet> \\<Psi>\\<^sub>R\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<approx> Q", "by(drule_tac sym) (simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n     A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n     A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n    \\<Longrightarrow> (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                             xvec \\<Psi> P Q R.\n                             xvec \\<sharp>* \\<Psi> \\<and>\n                             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                 extractFrame R =\n                                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                 A\\<^sub>R \\<sharp>* P \\<and>\n                                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                 \\<Psi> \\<otimes>\n                                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "ultimately"], ["proof (chain)\npicking this:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n  [] \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<approx> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R\n  Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n  [] \\<sharp>* \\<Psi>\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "hence \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "note C1 = this"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "have C2: \"\\<And>\\<Psi> P Q xvec. \\<lbrakk>(\\<Psi>, P, Q) \\<in> ?X \\<union> weakBisim; (xvec::name list) \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "fix \\<Psi> P Q xvec"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "assume \"(\\<Psi>, P, Q) \\<in> ?X \\<union> weakBisim\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "assume \"(xvec::name list) \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "thus \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q) \\<in> ?X \\<union> weakBisim\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "proof(induct xvec)"], ["proof (state)\ngoal (2 subgoals):\n 1. [] \\<sharp>* \\<Psi> \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim\n 2. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "case Nil"], ["proof (state)\nthis:\n  [] \\<sharp>* \\<Psi>\n\ngoal (2 subgoals):\n 1. [] \\<sharp>* \\<Psi> \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim\n 2. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "thus ?case"], ["proof (prove)\nusing this:\n  [] \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "using \\<open>(\\<Psi>, P, Q) \\<in> ?X \\<union> weakBisim\\<close>"], ["proof (prove)\nusing this:\n  [] \\<sharp>* \\<Psi>\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P, \\<lparr>\\<nu>*[]\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "case(Cons x xvec)"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n  (x # xvec) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n                (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                 \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                       xvec \\<Psi> P Q R.\n                       xvec \\<sharp>* \\<Psi> \\<and>\n                       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                           extractFrame R =\n                           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                           A\\<^sub>R \\<sharp>* P \\<and>\n                           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                           \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                      weakBisim;\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P,\n                          \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim", "thus ?case"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi> \\<Longrightarrow>\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n  (x # xvec) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*(x # xvec)\\<rparr>P,\n     \\<lparr>\\<nu>*(x # xvec)\\<rparr>Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes>\n               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n          weakBisim", "by(simp only: resChain.simps) (rule_tac Res, auto)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*(x # xvec)\\<rparr>P,\n   \\<lparr>\\<nu>*(x # xvec)\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n        weakBisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "{"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "fix \\<Psi> :: 'b\n    and P :: \"('a, 'b, 'c) psi\"\n    and Q :: \"('a, 'b, 'c) psi\"\n    and R :: \"('a, 'b, 'c) psi\"\n    and A\\<^sub>R :: \"name list\"\n    and \\<Psi>\\<^sub>R :: 'b"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "assume \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\"\n    and     FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n    and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n    and     \"A\\<^sub>R \\<sharp>* P\"\n    and     \"A\\<^sub>R \\<sharp>* Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "have \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "fix A\\<^sub>R' :: \"name list\"\n        and \\<Psi>\\<^sub>R' :: 'b"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "assume FrR': \"extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\"\n        and    \"A\\<^sub>R' \\<sharp>* \\<Psi>\"\n        and    \"A\\<^sub>R' \\<sharp>* P\"\n        and    \"A\\<^sub>R' \\<sharp>* Q\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "obtain p where \"(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* P\" and \"(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\"\n                   and Sp: \"(set p) \\<subseteq> (set A\\<^sub>R') \\<times> (set(p \\<bullet> A\\<^sub>R'))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R';\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* P;\n         (p \\<bullet> A\\<^sub>R') \\<sharp>* Q;\n         set p\n         \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R');\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(A\\<^sub>R, \\<Psi>, \\<Psi>\\<^sub>R', P, Q)\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "from FrR' \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>*  \\<Psi>\\<^sub>R'\\<close> Sp"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')", "have \"extractFrame R = \\<langle>(p \\<bullet> A\\<^sub>R'), p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R', \\<Psi>\\<^sub>R'\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<^sub>R'\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "by(simp add: frameChainAlpha eqvts)"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with FrR \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\\<close>"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>", "obtain q::\"name prm\" \n          where Sq: \"set q \\<subseteq> set(p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\" and \"distinctPerm q\" and \"\\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* A\\<^sub>R\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R', p \\<bullet> \\<Psi>\\<^sub>R'\\<rangle>\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        \\<lbrakk>set q\n                 \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times>\n                             set A\\<^sub>R;\n         distinctPerm q;\n         \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force elim: frameChainEq)"], ["proof (state)\nthis:\n  set q \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\n  distinctPerm q\n  \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<close> \\<open>\\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'", "have \"\\<Psi> \\<otimes> (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  \\<Psi>\\<^sub>R = q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "hence \"(q \\<bullet> (\\<Psi> \\<otimes> (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R'))) \\<rhd> (q \\<bullet> P) \\<approx> (q \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  (q \\<bullet> p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. q \\<bullet>\n    \\<Psi> \\<otimes>\n    (q \\<bullet>\n     p \\<bullet>\n     \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet>\n   p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with Sq \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>A\\<^sub>R \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> \\<open>distinctPerm q\\<close>"], ["proof (chain)\npicking this:\n  set q \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm q\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet>\n   p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q", "have \"\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  set q \\<subseteq> set (p \\<bullet> A\\<^sub>R') \\<times> set A\\<^sub>R\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm q\n  q \\<bullet>\n  \\<Psi> \\<otimes>\n  (q \\<bullet>\n   p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> q \\<bullet> P \\<approx> q \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "hence \"(p \\<bullet> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R'))) \\<rhd> (p \\<bullet> P) \\<approx> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<otimes>\n    (p \\<bullet>\n     \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "with Sp \\<open>A\\<^sub>R' \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>R' \\<sharp>* P\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* P\\<close> \\<open>A\\<^sub>R' \\<sharp>* Q\\<close> \\<open>(p \\<bullet> A\\<^sub>R') \\<sharp>* Q\\<close> \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  set p \\<subseteq> set A\\<^sub>R' \\<times> set (p \\<bullet> A\\<^sub>R')\n  A\\<^sub>R' \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* \\<Psi>\n  A\\<^sub>R' \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* P\n  A\\<^sub>R' \\<sharp>* Q\n  (p \\<bullet> A\\<^sub>R') \\<sharp>* Q\n  distinctPerm p\n  p \\<bullet>\n  \\<Psi> \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R') \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<approx> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R' \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R''2, ?\\<Psi>\\<^sub>R''2\\<rangle>;\n   ?A\\<^sub>R''2 \\<sharp>* \\<Psi>; ?A\\<^sub>R''2 \\<sharp>* P;\n   ?A\\<^sub>R''2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R''2 \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R'' \\<Psi>\\<^sub>R''.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R'', \\<Psi>\\<^sub>R''\\<rangle>;\n         A\\<^sub>R'' \\<sharp>* \\<Psi>; A\\<^sub>R'' \\<sharp>* P;\n         A\\<^sub>R'' \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R'' \\<rhd> P \\<approx> Q) \\<Longrightarrow>\n    \\<exists>xvec P Q R.\n       P \\<parallel> R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n       Q \\<parallel> R = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)", "apply(rule_tac x=\"[]\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R'' \\<Psi>\\<^sub>R''.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R'', \\<Psi>\\<^sub>R''\\<rangle>;\n         A\\<^sub>R'' \\<sharp>* \\<Psi>; A\\<^sub>R'' \\<sharp>* P;\n         A\\<^sub>R'' \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R'' \\<rhd> P \\<approx> Q) \\<Longrightarrow>\n    \\<exists>P Q R.\n       P \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R \\<and>\n       Q \\<parallel> R = \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R \\<and>\n       [] \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)", "by auto blast"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "note Goal = this"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "with assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "proof(coinduct rule: weakBisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cStatImp \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "{"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "fix xvec :: \"name list\""], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "fix P Q R"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "assume A: \"\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R. extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and> A\\<^sub>R \\<sharp>* \\<Psi> \\<and> A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "{"], ["proof (state)\nthis:\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "fix A\\<^sub>R \\<Psi>\\<^sub>R"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "assume \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* P\" and \"A\\<^sub>R \\<sharp>* Q\""], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with A"], ["proof (chain)\npicking this:\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<lessapprox><weakBisim> Q\""], ["proof (prove)\nusing this:\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<lessapprox><weakBisim> Q", "by(auto dest: weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* \\<Psi>; ?A\\<^sub>R'2 \\<sharp>* P;\n   ?A\\<^sub>R'2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes>\n                    ?\\<Psi>\\<^sub>R'2 \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* \\<Psi>; ?A\\<^sub>R'2 \\<sharp>* P;\n   ?A\\<^sub>R'2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes>\n                    ?\\<Psi>\\<^sub>R'2 \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "assume \"xvec \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "have \"eqvt weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt weakBisim", "by auto"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "moreover"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "note C1 C2 statEqWeakBisim"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* \\<Psi>; ?A\\<^sub>R'2 \\<sharp>* P;\n   ?A\\<^sub>R'2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes>\n                    ?\\<Psi>\\<^sub>R'2 \\<rhd> P \\<lessapprox><weakBisim> Q\n  xvec \\<sharp>* \\<Psi>\n  eqvt weakBisim\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) \\<lessapprox><(?X \\<union> weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R =\n           \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* \\<Psi>; ?A\\<^sub>R'2 \\<sharp>* P;\n   ?A\\<^sub>R'2 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes>\n                    ?\\<Psi>\\<^sub>R'2 \\<rhd> P \\<lessapprox><weakBisim> Q\n  xvec \\<sharp>* \\<Psi>\n  eqvt weakBisim\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                        xvec \\<Psi> P Q R.\n                        xvec \\<sharp>* \\<Psi> \\<and>\n                        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame R =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* P \\<and>\n                            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                            \\<Psi> \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                       weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R", "by(rule weakStatImpParPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    R \\<lessapprox><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                      xvec \\<Psi> P Q R.\n                      xvec \\<sharp>* \\<Psi> \\<and>\n                      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                          extractFrame R =\n                          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                          A\\<^sub>R \\<sharp>* P \\<and>\n                          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                          \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                     weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n              extractFrame ?Ra2 =\n              \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n              A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n              A\\<^sub>R \\<sharp>* ?Pa2 \\<and>\n              A\\<^sub>R \\<sharp>* ?Qa2 \\<longrightarrow>\n              \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   ?xvec2 \\<sharp>* \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel>\n                        ?Ra2 \\<lessapprox><({(\\<Psi>,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n      weakBisim)> \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<lessapprox><({(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n  xvec \\<Psi> P Q R.\n  xvec \\<sharp>* \\<Psi> \\<and>\n  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n      extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n      A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n      \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n weakBisim)> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  \\<lbrakk>\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n              extractFrame ?Ra2 =\n              \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n              A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n              A\\<^sub>R \\<sharp>* ?Pa2 \\<and>\n              A\\<^sub>R \\<sharp>* ?Qa2 \\<longrightarrow>\n              \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   ?xvec2 \\<sharp>* \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel>\n                        ?Ra2 \\<lessapprox><({(\\<Psi>,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n      weakBisim)> \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  \\<lbrakk>\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n              extractFrame ?Ra2 =\n              \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n              A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n              A\\<^sub>R \\<sharp>* ?Pa2 \\<and>\n              A\\<^sub>R \\<sharp>* ?Qa2 \\<longrightarrow>\n              \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   ?xvec2 \\<sharp>* \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec2\\<rparr>?Pa2 \\<parallel>\n                        ?Ra2 \\<lessapprox><({(\\<Psi>,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n      weakBisim)> \\<lparr>\\<nu>*?xvec2\\<rparr>?Qa2 \\<parallel> ?Ra2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> PR \\<lessapprox><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> QR", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> PR \\<lessapprox><({(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        R,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        R) |\n                                   xvec \\<Psi> P Q R.\n                                   xvec \\<sharp>* \\<Psi> \\<and>\n                                   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                  weakBisim)> QR\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSim \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "obtain xvec P Q R A\\<^sub>R \\<Psi>\\<^sub>R where PFrR: \"PR = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R)\" and QFrR: \"QR = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\"\n                               and \"xvec \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P R Q.\n        \\<lbrakk>PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n         QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n         xvec \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) \\<leadsto><(?X \\<union> weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                     xvec \\<Psi> P Q R.\n                     xvec \\<sharp>* \\<Psi> \\<and>\n                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                         extractFrame R =\n                         \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                         A\\<^sub>R \\<sharp>* P \\<and>\n                         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                         \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                    weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R", "using \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                     xvec \\<Psi> P Q R.\n                     xvec \\<sharp>* \\<Psi> \\<and>\n                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                         extractFrame R =\n                         \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                         A\\<^sub>R \\<sharp>* P \\<and>\n                         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                         \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                    weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R", "proof(induct xvec)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "case Nil"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  [] \\<sharp>* \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "from \\<open>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*[]\\<rparr>(Q \\<parallel> R)) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have PRQR: \"(\\<Psi>, P \\<parallel> R, Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "from PRQR"], ["proof (chain)\npicking this:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"\\<And>A\\<^sub>R \\<Psi>\\<^sub>R. \\<lbrakk>extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>;  A\\<^sub>R \\<sharp>* P;  A\\<^sub>R \\<sharp>* Q\\<rbrakk> \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>\\<^sub>R, P, Q) \\<in> weakBisim\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> R, Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame R =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R1, ?\\<Psi>\\<^sub>R1\\<rangle>;\n   ?A\\<^sub>R1 \\<sharp>* \\<Psi>; ?A\\<^sub>R1 \\<sharp>* P;\n   ?A\\<^sub>R1 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R1 \\<rhd> P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R1, ?\\<Psi>\\<^sub>R1\\<rangle>;\n   ?A\\<^sub>R1 \\<sharp>* \\<Psi>; ?A\\<^sub>R1 \\<sharp>* P;\n   ?A\\<^sub>R1 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R1 \\<rhd> P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "note weakBisimEqvt"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  eqvt weakBisim\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"eqvt(?X \\<union> weakBisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n      weakBisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "note weakBisimE(2) weakBisimE(4) weakBisimE(3) weakBisimE(1)"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox><weakBisim> ?Q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox><weakBisim> ?Q\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "note C1 C2"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R1, ?\\<Psi>\\<^sub>R1\\<rangle>;\n   ?A\\<^sub>R1 \\<sharp>* \\<Psi>; ?A\\<^sub>R1 \\<sharp>* P;\n   ?A\\<^sub>R1 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R1 \\<rhd> P \\<approx> Q\n  eqvt weakBisim\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox><weakBisim> ?Q\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim", "have \"\\<Psi> \\<rhd> P \\<parallel> R \\<leadsto><(?X \\<union> weakBisim)> Q \\<parallel> R\""], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R1, ?\\<Psi>\\<^sub>R1\\<rangle>;\n   ?A\\<^sub>R1 \\<sharp>* \\<Psi>; ?A\\<^sub>R1 \\<sharp>* P;\n   ?A\\<^sub>R1 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R1 \\<rhd> P \\<approx> Q\n  eqvt weakBisim\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox><weakBisim> ?Q\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  R \\<leadsto><({(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                      R) |\n                                 xvec \\<Psi> P Q R.\n                                 xvec \\<sharp>* \\<Psi> \\<and>\n                                 (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                     extractFrame R =\n                                     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                     A\\<^sub>R \\<sharp>* P \\<and>\n                                     A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                     \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                weakBisim)> Q \\<parallel> R", "using statEqWeakBisim"], ["proof (prove)\nusing this:\n  \\<lbrakk>extractFrame R = \\<langle>?A\\<^sub>R1, ?\\<Psi>\\<^sub>R1\\<rangle>;\n   ?A\\<^sub>R1 \\<sharp>* \\<Psi>; ?A\\<^sub>R1 \\<sharp>* P;\n   ?A\\<^sub>R1 \\<sharp>* Q\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R1 \\<rhd> P \\<approx> Q\n  eqvt weakBisim\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox><weakBisim> ?Q\n  \\<lbrakk>?\\<Psi>'2 \\<otimes> ?\\<Psi>\\<^sub>R'2 \\<rhd> ?Pa2 \\<approx> ?Qa2;\n   extractFrame ?Ra2 = \\<langle>?A\\<^sub>R'2, ?\\<Psi>\\<^sub>R'2\\<rangle>;\n   ?A\\<^sub>R'2 \\<sharp>* ?\\<Psi>'2; ?A\\<^sub>R'2 \\<sharp>* ?Pa2;\n   ?A\\<^sub>R'2 \\<sharp>* ?Qa2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>'2, ?Pa2 \\<parallel> ?Ra2,\n                     ?Qa2 \\<parallel> ?Ra2)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  R \\<leadsto><({(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                      R) |\n                                 xvec \\<Psi> P Q R.\n                                 xvec \\<sharp>* \\<Psi> \\<and>\n                                 (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                     extractFrame R =\n                                     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                     A\\<^sub>R \\<sharp>* P \\<and>\n                                     A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                     \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                weakBisim)> Q \\<parallel> R", "by(rule weakParPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto><({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                              weakBisim)> Q \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R)\n             \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n     [] \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n                      R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel>\n                                  R\n 2. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                R \\<leadsto><({(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                               xvec \\<Psi> P Q R.\n                               xvec \\<sharp>* \\<Psi> \\<and>\n                               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                   extractFrame R =\n                                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                   A\\<^sub>R \\<sharp>* P \\<and>\n                                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                   \\<Psi> \\<otimes>\n                                   \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                              weakBisim)> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n    R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                   xvec \\<Psi> P Q R.\n                   xvec \\<sharp>* \\<Psi> \\<and>\n                   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                       extractFrame R =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                       A\\<^sub>R \\<sharp>* P \\<and>\n                       A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                       \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                  weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*[]\\<rparr>P \\<parallel>\n  R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                 xvec \\<Psi> P Q R.\n                 xvec \\<sharp>* \\<Psi> \\<and>\n                 (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                     extractFrame R =\n                     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                     A\\<^sub>R \\<sharp>* P \\<and>\n                     A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                     \\<Psi> \\<otimes>\n                     \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                weakBisim)> \\<lparr>\\<nu>*[]\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "case(Cons x xvec')"], ["proof (state)\nthis:\n  \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n   xvec' \\<sharp>* \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                       R \\<leadsto><({(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\nxvec \\<Psi> P Q R.\nxvec \\<sharp>* \\<Psi> \\<and>\n(\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n    extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n    A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                     weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\nR\n  (\\<Psi>, \\<lparr>\\<nu>*(x # xvec')\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*(x # xvec')\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  (x # xvec') \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "from \\<open>(x#xvec') \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  (x # xvec') \\<sharp>* \\<Psi>", "have \"x \\<sharp> \\<Psi>\" and \"xvec' \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  (x # xvec') \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. x \\<sharp> \\<Psi> &&& xvec' \\<sharp>* \\<Psi>", "by simp+"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  xvec' \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "with \\<open>(\\<Psi>, \\<lparr>\\<nu>*(x#xvec')\\<rparr>P \\<parallel> R, \\<lparr>\\<nu>*(x#xvec')\\<rparr>Q \\<parallel> R) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, \\<lparr>\\<nu>*(x # xvec')\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*(x # xvec')\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  x \\<sharp> \\<Psi>\n  xvec' \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*(xvec')\\<rparr>P \\<parallel> R, \\<lparr>\\<nu>*(xvec')\\<rparr>Q \\<parallel> R) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>*(x # xvec')\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*(x # xvec')\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  x \\<sharp> \\<Psi>\n  xvec' \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)", "apply(subgoal_tac \"\\<exists>y yvec. xvec=y#yvec\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        \\<exists>y yvec. xvec = y # yvec\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarify)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>xvec P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*(y # yvec)\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*(y # yvec)\\<rparr>Q \\<parallel> R;\n        (y # yvec) \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R);\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R);\n        y \\<sharp> \\<Psi> \\<and> yvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(simp add: psi.inject alpha)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        y \\<sharp> \\<Psi> \\<and> yvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarify)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(erule disjE)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(erule disjE)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 3. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarify)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        x \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 3. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply blast"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarify)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>;\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarify)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        x = y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<or>\n        x \\<noteq> y \\<and>\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        [(x, y)] \\<bullet> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec P Q R.\n                            \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R \\<and>\n                            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame R =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* P \\<and>\n                                A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R) \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvec Pa Qa Ra.\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Pa \\<parallel>\n                Ra \\<and>\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*xvec\\<rparr>Qa \\<parallel>\n                Ra \\<and>\n                            xvec \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<approx> Qa)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule_tac x=\"[(x, y)] \\<bullet> yvec\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R) \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Pa Qa Ra.\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>Pa \\<parallel> Ra \\<and>\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>Qa \\<parallel> Ra \\<and>\n                            ([(x, y)] \\<bullet>\n                             yvec) \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* Pa \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> Pa \\<approx> Qa)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule_tac x=\"[(x, y)] \\<bullet> P\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R) \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Qa Ra.\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> Ra \\<and>\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>Qa \\<parallel> Ra \\<and>\n                            ([(x, y)] \\<bullet>\n                             yvec) \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n               P) \\<and>\n                                A\\<^sub>R \\<sharp>* Qa \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n                P \\<approx> Qa)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule_tac x=\"[(x, y)] \\<bullet> Q\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R) \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Ra.\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> Ra \\<and>\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel> ([(x, y)] \\<bullet> R) =\n                            \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n    yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel> Ra \\<and>\n                            ([(x, y)] \\<bullet>\n                             yvec) \\<sharp>* \\<Psi> \\<and>\n                            (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                extractFrame Ra =\n                                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n               P) \\<and>\n                                A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n               Q) \\<longrightarrow>\n                                \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n                P \\<approx> [(x, y)] \\<bullet> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule_tac x=\"[(x, y)] \\<bullet> R\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R) \\<and>\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel> ([(x, y)] \\<bullet> R) =\n                         \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n             ([(x, y)] \\<bullet> R) \\<and>\n                         \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel> ([(x, y)] \\<bullet> R) =\n                         \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n             ([(x, y)] \\<bullet> R) \\<and>\n                         ([(x, y)] \\<bullet> yvec) \\<sharp>* \\<Psi> \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame ([(x, y)] \\<bullet> R) =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                             A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n            P) \\<and>\n                             A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n            Q) \\<longrightarrow>\n                             \\<Psi> \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n             P \\<approx> [(x, y)] \\<bullet> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarsimp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> yvec) \\<sharp>* \\<Psi> \\<and>\n                         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                             extractFrame ([(x, y)] \\<bullet> R) =\n                             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                             A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n            P) \\<and>\n                             A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n            Q) \\<longrightarrow>\n                             \\<Psi> \\<otimes>\n                             \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n             P \\<approx> [(x, y)] \\<bullet> Q)\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule conjI)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> yvec) \\<sharp>* \\<Psi>\n 2. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame ([(x, y)] \\<bullet> R) =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n           P) \\<and>\n                            A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n           Q) \\<longrightarrow>\n                            \\<Psi> \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n            P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of \"[(x, y)]\", THEN sym])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          [(x, y)] \\<bullet>\n                          yvec) \\<sharp>* ([(x, y)] \\<bullet> \\<Psi>)\n 2. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame ([(x, y)] \\<bullet> R) =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n           P) \\<and>\n                            A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n           Q) \\<longrightarrow>\n                            \\<Psi> \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n            P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R\\<rbrakk>\n       \\<Longrightarrow> \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame ([(x, y)] \\<bullet> R) =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n           P) \\<and>\n                            A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet>\n           Q) \\<longrightarrow>\n                            \\<Psi> \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n            P \\<approx> [(x, y)] \\<bullet> Q\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(clarify)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(erule_tac x=\"[(x, y)] \\<bullet> A\\<^sub>R\" in allE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<forall>\\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>[(x, y)] \\<bullet>\n                    A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi> \\<and>\n           ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n           ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(erule_tac x=\"[(x, y)] \\<bullet> \\<Psi>\\<^sub>R\" in allE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        extractFrame R =\n        \\<langle>[(x, y)] \\<bullet>\n                 A\\<^sub>R, [(x, y)] \\<bullet>\n                            \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi> \\<and>\n        ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n        ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(drule mp)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> extractFrame R =\n                         \\<langle>[(x, y)] \\<bullet>\n                                  A\\<^sub>R, [(x, y)] \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                         ([(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* \\<Psi> \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule conjI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> extractFrame R =\n                         \\<langle>[(x, y)] \\<bullet>\n                                  A\\<^sub>R, [(x, y)] \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle>\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* \\<Psi> \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule_tac pi=\"[(x, y)]\" in pt_bij4[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> [(x, y)] \\<bullet> extractFrame R =\n                         [(x, y)] \\<bullet>\n                         \\<langle>[(x, y)] \\<bullet>\n                                  A\\<^sub>R, [(x, y)] \\<bullet>\n       \\<Psi>\\<^sub>R\\<rangle>\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* \\<Psi> \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* \\<Psi> \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule conjI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of \"[(x, y)]\", THEN sym])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          [(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* ([(x, y)] \\<bullet> \\<Psi>)\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P \\<and>\n                         ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(rule conjI)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* P\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of \"[(x, y)]\", THEN sym])"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          [(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* ([(x, y)] \\<bullet> P)\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 3. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 4. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet> A\\<^sub>R) \\<sharp>* Q\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(subst pt_fresh_star_bij[OF pt_name_inst,OF at_name_inst, of \"[(x, y)]\", THEN sym])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q)\\<rbrakk>\n       \\<Longrightarrow> ([(x, y)] \\<bullet>\n                          [(x, y)] \\<bullet>\n                          A\\<^sub>R) \\<sharp>* ([(x, y)] \\<bullet> Q)\n 2. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 3. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(drule_tac p=\"[(x, y)]\" in weakBisimClosed)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q R y yvec A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        y \\<sharp> \\<Psi>; yvec \\<sharp>* \\<Psi>; x \\<noteq> y;\n        \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> P) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R =\n        \\<lparr>\\<nu>*[(x, y)] \\<bullet>\n                      yvec\\<rparr>([(x, y)] \\<bullet> Q) \\<parallel>\n                                  ([(x, y)] \\<bullet> R);\n        x \\<sharp> \\<lparr>\\<nu>*yvec\\<rparr>Q \\<parallel> R;\n        extractFrame ([(x, y)] \\<bullet> R) =\n        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> P);\n        A\\<^sub>R \\<sharp>* ([(x, y)] \\<bullet> Q);\n        [(x, y)] \\<bullet>\n        \\<Psi> \\<otimes>\n        ([(x, y)] \\<bullet>\n         \\<Psi>\\<^sub>R) \\<rhd> [(x, y)] \\<bullet>\n                                P \\<approx> [(x, y)] \\<bullet> Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> [(x, y)] \\<bullet>\n         P \\<approx> [(x, y)] \\<bullet> Q\n 2. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec P Q R.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec' \\<sharp>* \\<Psi>;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n        \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R) =\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        xvec \\<sharp>* \\<Psi>;\n        \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y yvec. xvec = y # yvec", "by(case_tac xvec) auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "with \\<open>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>(P \\<parallel> R), \\<lparr>\\<nu>*xvec'\\<rparr>(Q \\<parallel> R)) \\<in> ?X; xvec' \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>(P \\<parallel> R) \\<leadsto><(?X \\<union> weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>(Q \\<parallel> R)\\<close> \\<open>xvec' \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n   xvec' \\<sharp>* \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                       R \\<leadsto><({(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\nxvec \\<Psi> P Q R.\nxvec \\<sharp>* \\<Psi> \\<and>\n(\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n    extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n    A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                     weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\nR\n  xvec' \\<sharp>* \\<Psi>\n  (\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>(P \\<parallel> R) \\<leadsto><(?X \\<union> weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>(Q \\<parallel> R)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n   xvec' \\<sharp>* \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                       R \\<leadsto><({(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\nxvec \\<Psi> P Q R.\nxvec \\<sharp>* \\<Psi> \\<and>\n(\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n    extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n    A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n    \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                     weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\nR\n  xvec' \\<sharp>* \\<Psi>\n  (\\<Psi>, \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel> R,\n   \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n       R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                      xvec \\<Psi> P Q R.\n                      xvec \\<sharp>* \\<Psi> \\<and>\n                      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                          extractFrame R =\n                          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                          A\\<^sub>R \\<sharp>* P \\<and>\n                          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                          \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                     weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n     R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                   weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n     R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                   weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "note \\<open>eqvt ?X\\<close>"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "have \"eqvt(?X \\<union> weakBisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n       xvec \\<Psi> P Q R.\n       xvec \\<sharp>* \\<Psi> \\<and>\n       (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n           extractFrame R =\n           \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n           A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n           A\\<^sub>R \\<sharp>* P \\<and>\n           A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n           \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n      weakBisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "note \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "have \"?X \\<union> weakBisim \\<subseteq> ?X \\<union> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim\n    \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                 xvec \\<Psi> P Q R.\n                 xvec \\<sharp>* \\<Psi> \\<and>\n                 (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                     extractFrame R =\n                     \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                     A\\<^sub>R \\<sharp>* P \\<and>\n                     A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                     \\<Psi> \\<otimes>\n                     \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                weakBisim", "by simp"], ["proof (state)\nthis:\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n   xvec \\<Psi> P Q R.\n   xvec \\<sharp>* \\<Psi> \\<and>\n   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n       extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n       A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes>\n                   \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n              weakBisim\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n     R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                   weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n  x \\<sharp> \\<Psi>\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n   xvec \\<Psi> P Q R.\n   xvec \\<sharp>* \\<Psi> \\<and>\n   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n       extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n       A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes>\n                   \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n              weakBisim", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>(P \\<parallel> R)) \\<leadsto><(?X \\<union> weakBisim)> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>(Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n     R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                   weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n  x \\<sharp> \\<Psi>\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n   xvec \\<Psi> P Q R.\n   xvec \\<sharp>* \\<Psi> \\<and>\n   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n       extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n       A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes>\n                   \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n              weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                              R) \\<leadsto><({(\\<Psi>,\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n        xvec \\<Psi> P Q R.\n        xvec \\<sharp>* \\<Psi> \\<and>\n        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n       weakBisim)> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\n                               R)", "using Res"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n     R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                    xvec \\<Psi> P Q R.\n                    xvec \\<sharp>* \\<Psi> \\<and>\n                    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                        extractFrame R =\n                        \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                        A\\<^sub>R \\<sharp>* P \\<and>\n                        A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                        \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                   weakBisim)> \\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel> R\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n    xvec \\<Psi> P Q R.\n    xvec \\<sharp>* \\<Psi> \\<and>\n    (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n        A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n        A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n        \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n      \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n     xvec \\<Psi> P Q R.\n     xvec \\<sharp>* \\<Psi> \\<and>\n     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n         extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n         A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n         A\\<^sub>R \\<sharp>* P \\<and>\n         A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n         \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n    weakBisim)\n  x \\<sharp> \\<Psi>\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n   xvec \\<Psi> P Q R.\n   xvec \\<sharp>* \\<Psi> \\<and>\n   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n       extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n       A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n  weakBisim\n  \\<subseteq> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes>\n                   \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n              weakBisim\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                  xvec \\<Psi> P Q R.\n                  xvec \\<sharp>* \\<Psi> \\<and>\n                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                      extractFrame R =\n                      \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                      A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                      A\\<^sub>R \\<sharp>* P \\<and>\n                      A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                      \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                 weakBisim;\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                           xvec \\<Psi> P Q R.\n                           xvec \\<sharp>* \\<Psi> \\<and>\n                           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                               extractFrame R =\n                               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                               A\\<^sub>R \\<sharp>* P \\<and>\n                               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                               \\<Psi> \\<otimes>\n                               \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                          weakBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                              R) \\<leadsto><({(\\<Psi>,\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n        xvec \\<Psi> P Q R.\n        xvec \\<sharp>* \\<Psi> \\<and>\n        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n       weakBisim)> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\n                               R)", "by(rule_tac weakResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                            R) \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\n                             R)\n\ngoal (1 subgoal):\n 1. \\<And>a xvec.\n       \\<lbrakk>\\<lbrakk>(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n                 xvec \\<sharp>* \\<Psi>\\<rbrakk>\n                \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                    R \\<leadsto><({(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n              \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n             xvec \\<Psi> P Q R.\n             xvec \\<sharp>* \\<Psi> \\<and>\n             (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                 extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                 A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                 A\\<^sub>R \\<sharp>* P \\<and>\n                 A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                 \\<Psi> \\<otimes>\n                 \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n            weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n        (\\<Psi>, \\<lparr>\\<nu>*(a # xvec)\\<rparr>P \\<parallel> R,\n         \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R)\n        \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n               xvec \\<Psi> P Q R.\n               xvec \\<sharp>* \\<Psi> \\<and>\n               (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                   extractFrame R =\n                   \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                   A\\<^sub>R \\<sharp>* P \\<and>\n                   A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)};\n        (a # xvec) \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>*(a #\n                xvec)\\<rparr>P \\<parallel>\n                             R \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>*(a # xvec)\\<rparr>Q \\<parallel> R", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>P \\<parallel>\n                            R) \\<leadsto><({(\\<Psi>,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n      xvec \\<Psi> P Q R.\n      xvec \\<sharp>* \\<Psi> \\<and>\n      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n          extractFrame R =\n          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n          A\\<^sub>R \\<sharp>* P \\<and>\n          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n          \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n     weakBisim)> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec'\\<rparr>Q \\<parallel>\n                             R)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*(x #\n                                 xvec')\\<rparr>P \\<parallel>\n         R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                        xvec \\<Psi> P Q R.\n                        xvec \\<sharp>* \\<Psi> \\<and>\n                        (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                            extractFrame R =\n                            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                            A\\<^sub>R \\<sharp>* P \\<and>\n                            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                            \\<Psi> \\<otimes>\n                            \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                       weakBisim)> \\<lparr>\\<nu>*(x #\n            xvec')\\<rparr>Q \\<parallel> R", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*(x #\n                               xvec')\\<rparr>P \\<parallel>\n       R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                      xvec \\<Psi> P Q R.\n                      xvec \\<sharp>* \\<Psi> \\<and>\n                      (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                          extractFrame R =\n                          \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                          A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                          A\\<^sub>R \\<sharp>* P \\<and>\n                          A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                          \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                     weakBisim)> \\<lparr>\\<nu>*(x #\n          xvec')\\<rparr>Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                   xvec \\<Psi> P Q R.\n                   xvec \\<sharp>* \\<Psi> \\<and>\n                   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                       extractFrame R =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                       A\\<^sub>R \\<sharp>* P \\<and>\n                       A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                       \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                  weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto><({(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                                     xvec \\<Psi> P Q R.\n                                     xvec \\<sharp>* \\<Psi> \\<and>\n                                     (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n   extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n   A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n   A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n   \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                    weakBisim)> S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with PFrR QFrR"], ["proof (chain)\npicking this:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                   xvec \\<Psi> P Q R.\n                   xvec \\<sharp>* \\<Psi> \\<and>\n                   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                       extractFrame R =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                       A\\<^sub>R \\<sharp>* P \\<and>\n                       A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                       \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                  weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R", "show ?case"], ["proof (prove)\nusing this:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    R \\<leadsto><({(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n                   xvec \\<Psi> P Q R.\n                   xvec \\<sharp>* \\<Psi> \\<and>\n                   (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                       extractFrame R =\n                       \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                       A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                       A\\<^sub>R \\<sharp>* P \\<and>\n                       A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                       \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                  weakBisim)> \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> PR \\<leadsto><({(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       R,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                       R) |\n                                  xvec \\<Psi> P Q R.\n                                  xvec \\<sharp>* \\<Psi> \\<and>\n                                  (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\nextractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\nA\\<^sub>R \\<sharp>* \\<Psi> \\<and>\nA\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                                 weakBisim)> QR", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> PR \\<leadsto><({(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     R) |\n                                xvec \\<Psi> P Q R.\n                                xvec \\<sharp>* \\<Psi> \\<and>\n                                (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                                    extractFrame R =\n                                    \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                                    A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                                    A\\<^sub>R \\<sharp>* P \\<and>\n                                    A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                                    \\<Psi> \\<otimes>\n                                    \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<union>\n                               weakBisim)> QR\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cExt \\<Psi> PR QR \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(\\<Psi>, PR, QR) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "obtain xvec P Q R A\\<^sub>R \\<Psi>\\<^sub>R where PFrR: \"PR = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R)\" and QFrR: \"QR = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R)\"\n                               and \"xvec \\<sharp>* \\<Psi>\" and A: \"\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R. (extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and> A\\<^sub>R \\<sharp>* \\<Psi> \\<and> A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q) \\<longrightarrow> \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P R Q.\n        \\<lbrakk>PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R;\n         QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R;\n         xvec \\<sharp>* \\<Psi>;\n         \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n            extractFrame R =\n            \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n            A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n            A\\<^sub>R \\<sharp>* P \\<and>\n            A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n            \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  xvec \\<sharp>* \\<Psi>\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "obtain p where \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>\"\n               and \"(p \\<bullet> xvec) \\<sharp>* P\"\n               and \"(p \\<bullet> xvec) \\<sharp>* Q\"\n               and \"(p \\<bullet> xvec) \\<sharp>* R\"\n               and \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\"\n               and S: \"(set p) \\<subseteq> (set xvec) \\<times> (set(p \\<bullet> xvec))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n         (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n         (p \\<bullet> xvec) \\<sharp>* R;\n         (p \\<bullet> xvec) \\<sharp>* \\<Psi>';\n         set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, R, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  distinctPerm p\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* R\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(p \\<bullet> (P \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> R", "by(subst resChainAlpha) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "hence PRAlpha: \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> R))\""], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* R\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(p \\<bullet> (Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> R", "by(subst resChainAlpha) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "hence QRAlpha: \"\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\""], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "from \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> R)), \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "proof(rule_tac C2=\"(\\<Psi>, (p \\<bullet> P), (p \\<bullet> Q), R, \\<Psi>', xvec, p \\<bullet> xvec)\" in XI', auto)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "fix A\\<^sub>R \\<Psi>\\<^sub>R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "assume FrR: \"extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>'\" and \"A\\<^sub>R \\<sharp>* (p \\<bullet> P)\" and \"A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\""], ["proof (state)\nthis:\n  extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* \\<Psi>'\n  A\\<^sub>R \\<sharp>* (p \\<bullet> P)\n  A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "from FrR"], ["proof (chain)\npicking this:\n  extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>", "have \"(p \\<bullet> (extractFrame (p \\<bullet> R))) = (p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>)\""], ["proof (prove)\nusing this:\n  extractFrame (p \\<bullet> R) = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. p \\<bullet> extractFrame (p \\<bullet> R) =\n    p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>", "by simp"], ["proof (state)\nthis:\n  p \\<bullet> extractFrame (p \\<bullet> R) =\n  p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  distinctPerm p\n  p \\<bullet> extractFrame (p \\<bullet> R) =\n  p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>", "have \"extractFrame R = \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  p \\<bullet> extractFrame (p \\<bullet> R) =\n  p \\<bullet> \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame R =\n    \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "from \\<open>A\\<^sub>R \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* \\<Psi>", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "with \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> \\<Psi>)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "from \\<open>A\\<^sub>R \\<sharp>* (p \\<bullet> P)\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> P)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* P\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* P", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "from \\<open>A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> Q)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  A\\<^sub>R \\<sharp>* (p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)", "by(simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close>"], ["proof (chain)\npicking this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)", "have \"(p \\<bullet> A\\<^sub>R) \\<sharp>* Q\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* (p \\<bullet> p \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "by simp"], ["proof (state)\nthis:\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "ultimately"], ["proof (chain)\npicking this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q", "have \"\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q", "using A"], ["proof (prove)\nusing this:\n  extractFrame R =\n  \\<langle>p \\<bullet> A\\<^sub>R, p \\<bullet> \\<Psi>\\<^sub>R\\<rangle>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* \\<Psi>\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* P\n  (p \\<bullet> A\\<^sub>R) \\<sharp>* Q\n  \\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n     extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n     A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n     A\\<^sub>R \\<sharp>* P \\<and> A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n     \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "hence \"(\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes> (p \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n    (p \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "have \"(\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes> (p \\<bullet> \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n    (p \\<bullet>\n     \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                       (p \\<bullet> \\<Psi>\\<^sub>R)", "by(metis Associativity Commutativity Composition AssertionStatEqTrans AssertionStatEqSym)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet>\n   \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                     (p \\<bullet> \\<Psi>\\<^sub>R)\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet>\n   \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                     (p \\<bullet> \\<Psi>\\<^sub>R)", "have \"(\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet> \\<Psi>') \\<rhd> P \\<approx> Q\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R)) \\<otimes>\n  (p \\<bullet>\n   \\<Psi>') \\<simeq> (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n                     (p \\<bullet> \\<Psi>\\<^sub>R)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n    (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q", "by(rule statEqWeakBisim)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "hence \"(p \\<bullet> ((\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes> (p \\<bullet> \\<Psi>\\<^sub>R))) \\<rhd> (p \\<bullet> P) \\<approx> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n    (p \\<bullet>\n     \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "by(rule weakBisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. \\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n       \\<lbrakk>extractFrame (p \\<bullet> R) =\n                \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* (\\<Psi> \\<otimes> \\<Psi>');\n        A\\<^sub>R \\<sharp>* (p \\<bullet> P);\n        A\\<^sub>R \\<sharp>* (p \\<bullet> Q);\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n        (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; A\\<^sub>R \\<sharp>* \\<Psi>;\n        A\\<^sub>R \\<sharp>* R; A\\<^sub>R \\<sharp>* \\<Psi>';\n        A\\<^sub>R \\<sharp>* xvec;\n        A\\<^sub>R \\<sharp>* (p \\<bullet> xvec)\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n                         \\<Psi>\\<^sub>R \\<rhd> p \\<bullet>\n         P \\<approx> p \\<bullet> Q", "with \\<open>distinctPerm p\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  distinctPerm p\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  p \\<bullet>\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "show \"(\\<Psi> \\<otimes> \\<Psi>') \\<otimes> \\<Psi>\\<^sub>R \\<rhd> (p \\<bullet> P) \\<approx> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  distinctPerm p\n  xvec \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  p \\<bullet>\n  (\\<Psi> \\<otimes> (p \\<bullet> \\<Psi>')) \\<otimes>\n  (p \\<bullet> \\<Psi>\\<^sub>R) \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n    \\<Psi>\\<^sub>R \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>') \\<otimes>\n  \\<Psi>\\<^sub>R \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "with PFrR QFrR PRAlpha QRAlpha"], ["proof (chain)\npicking this:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}", "show ?case"], ["proof (prove)\nusing this:\n  PR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R\n  QR = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R)\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', PR, QR)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> PR \\<approx> QR", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> PR \\<approx> QR\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "case(cSym \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n              xvec \\<Psi> P Q R.\n              xvec \\<sharp>* \\<Psi> \\<and>\n              (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n                  extractFrame R =\n                  \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n                  A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n                  A\\<^sub>R \\<sharp>* P \\<and>\n                  A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n                  \\<Psi> \\<otimes>\n                  \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n       \\<Psi>' \\<rhd> S \\<approx> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, QR, PR)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n           xvec \\<Psi> P Q R.\n           xvec \\<sharp>* \\<Psi> \\<and>\n           (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n               extractFrame R =\n               \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n               A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n               A\\<^sub>R \\<sharp>* P \\<and>\n               A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n               \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n    \\<Psi> \\<rhd> QR \\<approx> PR", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, QR, PR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R) |\n         xvec \\<Psi> P Q R.\n         xvec \\<sharp>* \\<Psi> \\<and>\n         (\\<forall>A\\<^sub>R \\<Psi>\\<^sub>R.\n             extractFrame R =\n             \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle> \\<and>\n             A\\<^sub>R \\<sharp>* \\<Psi> \\<and>\n             A\\<^sub>R \\<sharp>* P \\<and>\n             A\\<^sub>R \\<sharp>* Q \\<longrightarrow>\n             \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q)} \\<or>\n  \\<Psi> \\<rhd> QR \\<approx> PR\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimParPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "obtain A\\<^sub>R \\<Psi>\\<^sub>R where \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* P\" and \"A\\<^sub>R \\<sharp>* Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n         A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n         A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P, Q)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "moreover"], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "from \\<open>\\<Psi> \\<rhd> P \\<approx> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "ultimately"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q", "show ?thesis"], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R", "by(rule_tac weakBisimParPresAux)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> R \\<approx> Q \\<parallel> R\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}