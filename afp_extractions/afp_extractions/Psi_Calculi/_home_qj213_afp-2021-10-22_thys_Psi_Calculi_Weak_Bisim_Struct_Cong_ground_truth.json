{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Weak_Bisim_Struct_Cong.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma weakBisimParComm:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  \n  shows \"\\<Psi> \\<rhd> P \\<parallel> Q \\<approx> Q \\<parallel> P\"", "lemma weakBisimResComm:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   y :: name\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"y \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<approx> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\"", "lemma weakBisimResComm':\n  fixes x    :: name\n  and   \\<Psi>   :: 'b\n  and   xvec :: \"name list\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\"", "lemma weakBisimScopeExt:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<approx> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\"", "lemma weakBisimScopeExtChain:\n  fixes xvec :: \"name list\"\n  and   \\<Psi>    :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<approx> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)\"", "lemma weakBisimParAssoc:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> (P \\<parallel> Q) \\<parallel> R \\<approx> P \\<parallel> (Q \\<parallel> R)\"", "lemma weakBisimParNil:\n  fixes P :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<approx> P\"", "lemma weakBisimResNil:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  \n  assumes \"x \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<approx> \\<zero>\"", "lemma weakBisimOutputPushRes:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   M :: 'a\n  and   N :: 'a\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> M\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<approx> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\"", "lemma weakBisimInputPushRes:\n  fixes x    :: name\n  and   \\<Psi>    :: 'b\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> M\"\n  and     \"x \\<sharp> xvec\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\"", "lemma weakBisimCasePushRes:\n  fixes x  :: name\n  and   \\<Psi>  :: 'b\n  and   Cs :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> (map fst Cs)\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<approx> Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\"", "lemma weakBangExt:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"guarded P\"\n\n  shows \"\\<Psi> \\<rhd> !P \\<approx> P \\<parallel> !P\"", "lemma weakBisimParSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\"", "lemma weakBisimScopeExtSym:\n  fixes x :: name\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<approx> (\\<lparr>\\<nu>x\\<rparr>P) \\<parallel> Q\"", "lemma weakBisimScopeExtChainSym:\n  fixes xvec :: \"name list\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<approx> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q\"", "lemma weakBisimParPresAuxSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\"\n  and     \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\"", "lemma weakBisimParPresSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\"", "lemma guardedFrameStatEq:\n  fixes P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"guarded P\"\n\n  shows \"extractFrame P \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<one>\\<rangle>\"", "lemma guardedInsertAssertion:\n  fixes P :: \"('a, 'b, 'c) psi\"\n  and   \\<Psi> :: 'b\n\n  assumes \"guarded P\"\n\n  shows \"insertAssertion (extractFrame P) \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\"", "lemma insertDoubleAssertionStatEq':\n  fixes F  :: \"'b frame\"\n  and   \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n\n  shows \"insertAssertion(insertAssertion F \\<Psi>) \\<Psi>' \\<simeq>\\<^sub>F (insertAssertion F) (\\<Psi>' \\<otimes> \\<Psi>)\"", "lemma bangActE:\n  assumes \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\"\n  and     \"bn \\<alpha> \\<sharp>* subject \\<alpha>\"\n  and     \"guarded P\"\n  and     \"\\<alpha> \\<noteq> \\<tau>\"\n  and     \"bn \\<alpha> \\<sharp>* P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> !P\"", "lemma bangTauE:\n  assumes \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     \"guarded P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> !P\"", "lemma tauBangI:\n  fixes \\<Psi> :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     \"guarded P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> Q\" and \"Q \\<sim> P' \\<parallel> !P\"", "lemma tauChainBangI:\n  fixes \\<Psi> :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\"\n  and     \"guarded P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\" and \"\\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\"", "lemma weakBisimBangPresAux:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"guarded P\"\n  and     \"guarded Q\"\n\n  shows   \"\\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q\"", "lemma weakBisimBangPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"guarded P\"\n  and     \"guarded Q\"\n\n  shows   \"\\<Psi> \\<rhd> !P \\<approx> !Q\""], "translations": [["", "lemma weakBisimParComm:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  \n  shows \"\\<Psi> \\<rhd> P \\<parallel> Q \\<approx> Q \\<parallel> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<approx> Q \\<parallel> P", "by(metis bisimParComm strongBisimWeakBisim)"], ["", "lemma weakBisimResComm:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   y :: name\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"y \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<approx> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<approx> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<approx> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "by(metis bisimResComm strongBisimWeakBisim)"], ["", "lemma weakBisimResComm':\n  fixes x    :: name\n  and   \\<Psi>   :: 'b\n  and   xvec :: \"name list\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>P", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<approx> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>P", "by(metis bisimResComm' strongBisimWeakBisim)"], ["", "lemma weakBisimScopeExt:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<approx> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<approx> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<approx> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "by(metis bisimScopeExt strongBisimWeakBisim)"], ["", "lemma weakBisimScopeExtChain:\n  fixes xvec :: \"name list\"\n  and   \\<Psi>    :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<approx> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<approx> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)", "using assms"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<approx> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)", "by(metis bisimScopeExtChain strongBisimWeakBisim)"], ["", "lemma weakBisimParAssoc:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> (P \\<parallel> Q) \\<parallel> R \\<approx> P \\<parallel> (Q \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<approx> P \\<parallel> (Q \\<parallel> R)", "by(metis bisimParAssoc strongBisimWeakBisim)"], ["", "lemma weakBisimParNil:\n  fixes P :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<approx> P", "by(metis bisimParNil strongBisimWeakBisim)"], ["", "lemma weakBisimResNil:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  \n  assumes \"x \\<sharp> \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<approx> \\<zero>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<approx> \\<zero>", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<approx> \\<zero>", "by(metis bisimResNil strongBisimWeakBisim)"], ["", "lemma weakBisimOutputPushRes:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   M :: 'a\n  and   N :: 'a\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> M\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<approx> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<approx> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<approx> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "by(metis bisimOutputPushRes strongBisimWeakBisim)"], ["", "lemma weakBisimInputPushRes:\n  fixes x    :: name\n  and   \\<Psi>    :: 'b\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> M\"\n  and     \"x \\<sharp> xvec\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<approx> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "by(metis bisimInputPushRes strongBisimWeakBisim)"], ["", "lemma weakBisimCasePushRes:\n  fixes x  :: name\n  and   \\<Psi>  :: 'b\n  and   Cs :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> (map fst Cs)\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<approx> Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<approx> Cases map\n                              (\\<lambda>(\\<phi>, P).\n                                  (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                              Cs", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<approx> Cases map\n                              (\\<lambda>(\\<phi>, P).\n                                  (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                              Cs", "by(metis bisimCasePushRes strongBisimWeakBisim)"], ["", "lemma weakBangExt:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"guarded P\"\n\n  shows \"\\<Psi> \\<rhd> !P \\<approx> P \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<approx> P \\<parallel> !P", "using assms"], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<approx> P \\<parallel> !P", "by(metis bangExt strongBisimWeakBisim)"], ["", "lemma weakBisimParSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q", "by(metis weakBisimParComm weakBisimParPres weakBisimTransitive)"], ["", "lemma weakBisimScopeExtSym:\n  fixes x :: name\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<approx> (\\<lparr>\\<nu>x\\<rparr>P) \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<approx> \\<lparr>\\<nu>x\\<rparr>P \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<approx> \\<lparr>\\<nu>x\\<rparr>P \\<parallel> Q", "by(metis weakBisimScopeExt weakBisimTransitive weakBisimParComm weakBisimE weakBisimResPres)"], ["", "lemma weakBisimScopeExtChainSym:\n  fixes xvec :: \"name list\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<approx> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<approx> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<approx> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q", "by(induct xvec) (auto intro: weakBisimScopeExtSym weakBisimReflexive weakBisimTransitive weakBisimResPres)"], ["", "lemma weakBisimParPresAuxSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\"\n  and     \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q", "by(metis weakBisimParComm weakBisimParPresAux weakBisimTransitive)"], ["", "lemma weakBisimParPresSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q", "by(metis weakBisimParComm weakBisimParPres weakBisimTransitive)"], ["", "lemma guardedFrameStatEq:\n  fixes P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"guarded P\"\n\n  shows \"extractFrame P \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<one>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrR: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        extractFrame P =\n        \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(rule freshFrame)"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "with \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>", "have \"\\<Psi>\\<^sub>P \\<simeq> \\<one>\" and \"((supp \\<Psi>\\<^sub>P)::name set) = {}\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P \\<simeq> \\<one> &&& supp \\<Psi>\\<^sub>P = {}", "by(metis guardedStatEq)+"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n  supp \\<Psi>\\<^sub>P = {}\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "from \\<open>supp \\<Psi>\\<^sub>P = {}\\<close>"], ["proof (chain)\npicking this:\n  supp \\<Psi>\\<^sub>P = {}", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\""], ["proof (prove)\nusing this:\n  supp \\<Psi>\\<^sub>P = {}\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P", "by(auto simp add: fresh_star_def fresh_def)"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "hence \"\\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>\""], ["proof (prove)\nusing this:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>", "by(force intro: frameResFreshChain)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "moreover"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "from \\<open>\\<Psi>\\<^sub>P \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>", "have  \"\\<langle>[], \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<one>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<langle>[], \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<one>\\<rangle>", "by(simp add: FrameStatEq_def FrameStatImp_def AssertionStatEq_def AssertionStatImp_def)"], ["proof (state)\nthis:\n  \\<langle>[], \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>[], \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<one>\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>[], \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "using FrR"], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>[], \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<one>\\<rangle>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F", "by(rule_tac FrameStatEqTrans) auto"], ["proof (state)\nthis:\n  extractFrame P \\<simeq>\\<^sub>F \\<bottom>\\<^sub>F\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma guardedInsertAssertion:\n  fixes P :: \"('a, 'b, 'c) psi\"\n  and   \\<Psi> :: 'b\n\n  assumes \"guarded P\"\n\n  shows \"insertAssertion (extractFrame P) \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrR: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule freshFrame)"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "with \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>", "have \"\\<Psi>\\<^sub>P \\<simeq> \\<one>\" and \"((supp \\<Psi>\\<^sub>P)::name set) = {}\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P \\<simeq> \\<one> &&& supp \\<Psi>\\<^sub>P = {}", "by(metis guardedStatEq)+"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n  supp \\<Psi>\\<^sub>P = {}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "from \\<open>supp \\<Psi>\\<^sub>P = {}\\<close>"], ["proof (chain)\npicking this:\n  supp \\<Psi>\\<^sub>P = {}", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\""], ["proof (prove)\nusing this:\n  supp \\<Psi>\\<^sub>P = {}\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P", "by(auto simp add: fresh_star_def fresh_def)"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "hence \"\\<langle>A\\<^sub>P, \\<Psi> \\<otimes> \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes> \\<Psi>\\<^sub>P\\<rangle>\""], ["proof (prove)\nusing this:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P\\<rangle>", "using \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close>"], ["proof (prove)\nusing this:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P\\<rangle>", "by(force intro: frameResFreshChain)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n\\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "moreover"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n\\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "from \\<open>\\<Psi>\\<^sub>P \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>", "have  \"\\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                         \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n           \\<one>\\<rangle>", "by(force intro: compositionSym)"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n         \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "moreover"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n         \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "have \"\\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                         \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "by(force intro: Identity)"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n\\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n         \\<one>\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n\\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n         \\<one>\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "using FrR \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close>"], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>[], \\<Psi> \\<otimes>\n\\<Psi>\\<^sub>P\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n         \\<one>\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>", "by(force intro: FrameStatEqTrans AssertionStatEqTrans)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi>\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma insertDoubleAssertionStatEq':\n  fixes F  :: \"'b frame\"\n  and   \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n\n  shows \"insertAssertion(insertAssertion F \\<Psi>) \\<Psi>' \\<simeq>\\<^sub>F (insertAssertion F) (\\<Psi>' \\<otimes> \\<Psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (insertAssertion F \\<Psi>)\n     \\<Psi>' \\<simeq>\\<^sub>F insertAssertion F (\\<Psi>' \\<otimes> \\<Psi>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. insertAssertion (insertAssertion F \\<Psi>)\n     \\<Psi>' \\<simeq>\\<^sub>F insertAssertion F (\\<Psi>' \\<otimes> \\<Psi>)", "obtain A\\<^sub>F \\<Psi>\\<^sub>F where \"F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\" and \"A\\<^sub>F \\<sharp>* \\<Psi>\" and \"A\\<^sub>F \\<sharp>* \\<Psi>'\" and \"A\\<^sub>F \\<sharp>* (\\<Psi>' \\<otimes> \\<Psi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>F \\<Psi>\\<^sub>F.\n        \\<lbrakk>F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>;\n         A\\<^sub>F \\<sharp>* \\<Psi>; A\\<^sub>F \\<sharp>* \\<Psi>';\n         A\\<^sub>F \\<sharp>* (\\<Psi>' \\<otimes> \\<Psi>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, \\<Psi>')\" in freshFrame) auto"], ["proof (state)\nthis:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n  A\\<^sub>F \\<sharp>* \\<Psi>\n  A\\<^sub>F \\<sharp>* \\<Psi>'\n  A\\<^sub>F \\<sharp>* (\\<Psi>' \\<otimes> \\<Psi>)\n\ngoal (1 subgoal):\n 1. insertAssertion (insertAssertion F \\<Psi>)\n     \\<Psi>' \\<simeq>\\<^sub>F insertAssertion F (\\<Psi>' \\<otimes> \\<Psi>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  F = \\<langle>A\\<^sub>F, \\<Psi>\\<^sub>F\\<rangle>\n  A\\<^sub>F \\<sharp>* \\<Psi>\n  A\\<^sub>F \\<sharp>* \\<Psi>'\n  A\\<^sub>F \\<sharp>* (\\<Psi>' \\<otimes> \\<Psi>)\n\ngoal (1 subgoal):\n 1. insertAssertion (insertAssertion F \\<Psi>)\n     \\<Psi>' \\<simeq>\\<^sub>F insertAssertion F (\\<Psi>' \\<otimes> \\<Psi>)", "by auto (metis frameIntAssociativity FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (insertAssertion F \\<Psi>)\n   \\<Psi>' \\<simeq>\\<^sub>F insertAssertion F (\\<Psi>' \\<otimes> \\<Psi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangActE:\n  assumes \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\"\n  and     \"bn \\<alpha> \\<sharp>* subject \\<alpha>\"\n  and     \"guarded P\"\n  and     \"\\<alpha> \\<noteq> \\<tau>\"\n  and     \"bn \\<alpha> \\<sharp>* P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"\\<And>Q. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q; P' \\<sim> Q \\<parallel> !P\\<rbrakk> \\<Longrightarrow> thesis\""], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\\<close> \\<open>bn \\<alpha> \\<sharp>* subject \\<alpha>\\<close> \\<open>\\<alpha> \\<noteq> \\<tau>\\<close> \\<open>bn \\<alpha> \\<sharp>* P\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P", "have \"\\<exists>Q. \\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q \\<and> P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n       P' \\<sim> Q \\<parallel> !P", "proof(nominal_induct rule: bangInduct')"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cAlpha \\<alpha> P' p)"], ["proof (state)\nthis:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  distinctPerm p\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P'\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  p \\<bullet> \\<alpha> \\<noteq> \\<tau>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "then"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  distinctPerm p\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P'\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  p \\<bullet> \\<alpha> \\<noteq> \\<tau>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P", "obtain Q where \"\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  distinctPerm p\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P'\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  p \\<bullet> \\<alpha> \\<noteq> \\<tau>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q", "have \"distinct(bn \\<alpha>)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n\ngoal (1 subgoal):\n 1. distinct (bn \\<alpha>)", "by(rule boundOutputDistinct)"], ["proof (state)\nthis:\n  distinct (bn \\<alpha>)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "have S: \"set p \\<subseteq> set(bn \\<alpha>) \\<times> set(bn(p \\<bullet> \\<alpha>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set p\n    \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))", "by fact"], ["proof (state)\nthis:\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* P\\<close> \\<open>bn \\<alpha> \\<sharp>* subject \\<alpha>\\<close> \\<open>distinct(bn \\<alpha>)\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)", "have \"bn(p \\<bullet> \\<alpha>) \\<sharp>* Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n\ngoal (1 subgoal):\n 1. bn (p \\<bullet> \\<alpha>) \\<sharp>* Q", "by(force dest: freeFreshChainDerivative)"], ["proof (state)\nthis:\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\\<close> S \\<open>bn \\<alpha> \\<sharp>* subject \\<alpha>\\<close> \\<open>distinct(bn \\<alpha>)\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q", "have \"\\<Psi> \\<rhd> P \\<longmapsto>(p \\<bullet> \\<alpha>) \\<prec> (p \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q", "by(fastforce simp add: residualAlpha)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\\<close>"], ["proof (chain)\npicking this:\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "have \"(p \\<bullet> \\<one>) \\<rhd> (p \\<bullet> P') \\<sim> (p \\<bullet> (Q \\<parallel> (P \\<parallel> !P)))\""], ["proof (prove)\nusing this:\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<one> \\<rhd> p \\<bullet>\n                  P' \\<sim> p \\<bullet> Q \\<parallel> (P \\<parallel> !P)", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<one> \\<rhd> p \\<bullet>\n                P' \\<sim> p \\<bullet> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>(bn \\<alpha>) \\<sharp>* P\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* P\\<close> S"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet>\n  \\<one> \\<rhd> p \\<bullet>\n                P' \\<sim> p \\<bullet> Q \\<parallel> (P \\<parallel> !P)", "have \"(p \\<bullet> P') \\<sim> (p \\<bullet> Q) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet>\n  \\<one> \\<rhd> p \\<bullet>\n                P' \\<sim> p \\<bullet> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. p \\<bullet> P' \\<sim> (p \\<bullet> Q) \\<parallel> (P \\<parallel> !P)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  p \\<bullet> P' \\<sim> (p \\<bullet> Q) \\<parallel> (P \\<parallel> !P)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        p \\<bullet> \\<alpha> \\<noteq> \\<tau>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet>\n                    \\<alpha> \\<prec> Q \\<and>\n                            p \\<bullet>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 6. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q\n  p \\<bullet> P' \\<sim> (p \\<bullet> Q) \\<parallel> (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q\n  p \\<bullet> P' \\<sim> (p \\<bullet> Q) \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> Q \\<and>\n       p \\<bullet> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> Q \\<and>\n     p \\<bullet> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cPar1 \\<alpha> P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P", "have \"P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)", "by(metis bangExt bisimParPresSym)"], ["proof (state)\nthis:\n  P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n       P' \\<parallel> !P \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n     P' \\<parallel> !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cPar2 \\<alpha> P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> !P\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> !P\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P", "obtain Q where PTrans: \"\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> !P\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P' \\<sim> Q \\<parallel> !P\\<close>"], ["proof (chain)\npicking this:\n  P' \\<sim> Q \\<parallel> !P", "have \"P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by(metis bisimParPresSym bisimParAssoc bisimTransitive bisimParComm)"], ["proof (state)\nthis:\n  P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> !P;\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; distinct (bn \\<alpha>);\n        \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n       P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n     P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case cComm1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> M_\\<lparr>N_\\<rparr> \\<prec> P'_\n  \\<Psi> \\<rhd> !P \\<longmapsto> K_\\<lparr>\\<nu>*xvec_\\<rparr>\\<langle>N_\\<rangle> \\<prec> P''_\n  \\<lbrakk>K_\\<lparr>\\<nu>*xvec_\\<rparr>\\<langle>N_\\<rangle> \\<noteq>\n           \\<tau>;\n   bn (K_\\<lparr>\\<nu>*xvec_\\<rparr>\\<langle>N_\\<rangle>) \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> K_\\<lparr>\\<nu>*xvec_\\<rparr>\\<langle>N_\\<rangle> \\<prec> Q \\<and>\n                       P''_ \\<sim> Q \\<parallel> !P\n  \\<Psi> \\<turnstile> M_ \\<leftrightarrow> K_\n  xvec_ \\<sharp>* \\<Psi>\n  xvec_ \\<sharp>* P\n  xvec_ \\<sharp>* M_\n  xvec_ \\<sharp>* K_\n  distinct xvec_\n  \\<tau> \\<noteq> \\<tau>\n  bn (\\<tau>) \\<sharp>* P\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>", "have False"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<noteq>\n                 \\<tau>;\n         bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       \\<lparr>\\<nu>*xvec_\\<rparr>P'_ \\<parallel>\n                                  P''_ \\<sim> Q \\<parallel>\n        (P \\<parallel> !P)", "by simp"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     \\<lparr>\\<nu>*xvec_\\<rparr>P'_ \\<parallel>\n                                P''_ \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case cComm2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> M_\\<lparr>\\<nu>*xvec_\\<rparr>\\<langle>N_\\<rangle> \\<prec> P'_\n  \\<Psi> \\<rhd> !P \\<longmapsto> K_\\<lparr>N_\\<rparr> \\<prec> P''_\n  \\<lbrakk>K_\\<lparr>N_\\<rparr> \\<noteq> \\<tau>;\n   bn (K_\\<lparr>N_\\<rparr>) \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> K_\\<lparr>N_\\<rparr> \\<prec> Q \\<and>\n                       P''_ \\<sim> Q \\<parallel> !P\n  \\<Psi> \\<turnstile> M_ \\<leftrightarrow> K_\n  xvec_ \\<sharp>* \\<Psi>\n  xvec_ \\<sharp>* P\n  xvec_ \\<sharp>* M_\n  xvec_ \\<sharp>* K_\n  distinct xvec_\n  \\<tau> \\<noteq> \\<tau>\n  bn (\\<tau>) \\<sharp>* P\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>", "have False"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<lbrakk>K\\<lparr>N\\<rparr> \\<noteq> \\<tau>;\n         bn (K\\<lparr>N\\<rparr>) \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q \\<and>\n                             P'' \\<sim> Q \\<parallel> !P;\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K; distinct xvec;\n        \\<tau> \\<noteq> \\<tau>; bn (\\<tau>) \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       \\<lparr>\\<nu>*xvec_\\<rparr>P'_ \\<parallel>\n                                  P''_ \\<sim> Q \\<parallel>\n        (P \\<parallel> !P)", "by simp"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     \\<lparr>\\<nu>*xvec_\\<rparr>P'_ \\<parallel>\n                                P''_ \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cBang \\<alpha> P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P", "obtain Q where PTrans: \"\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n  \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                       P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P", "have \"P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. P' \\<sim> Q \\<parallel> !P", "by(metis bisimTransitive bisimParPresSym bangExt bisimSymmetric)"], ["proof (state)\nthis:\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<lbrakk>\\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q.\n                             \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                             P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P' \\<sim> Q \\<parallel> !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n       P' \\<sim> Q \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangTauE:\n  assumes \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     \"guarded P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                               P \\<longmapsto> \\<tau> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                               P \\<longmapsto> \\<tau> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>Q.\n                \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n P \\<longmapsto> \\<tau> \\<prec> Q;\n                 P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'; guarded P\\<rbrakk>\n    \\<Longrightarrow> thesis", "assume \"\\<And>Q. \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> P\\<longmapsto>\\<tau> \\<prec> Q; P' \\<sim> Q \\<parallel> !P\\<rbrakk> \\<Longrightarrow> thesis\""], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>Q.\n                \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n P \\<longmapsto> \\<tau> \\<prec> Q;\n                 P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'; guarded P\\<rbrakk>\n    \\<Longrightarrow> thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>Q.\n                \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n P \\<longmapsto> \\<tau> \\<prec> Q;\n                 P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'; guarded P\\<rbrakk>\n    \\<Longrightarrow> thesis", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P", "have \"\\<exists>Q. \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> Q \\<and> P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       P' \\<sim> Q \\<parallel> !P", "proof(nominal_induct rule: bangTauInduct)"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cPar1 P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"A\\<^sub>P \\<sharp>* P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close> FrP"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>", "have \"\\<Psi>\\<^sub>P \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P \\<simeq> \\<one>", "by(drule_tac guardedStatEq) auto"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "by(rule_tac statEqTransition, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "hence \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> P' \\<parallel> P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> P", "using FrP \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> P", "by(rule_tac Par1) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> P\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> P\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P", "have \"P' \\<parallel> !P \\<sim> (P' \\<parallel> P) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. P' \\<parallel> !P \\<sim> P' \\<parallel> P \\<parallel> (P \\<parallel> !P)", "by(metis bisimParPresSym bisimParAssoc bisimTransitive bisimParComm bangExt)"], ["proof (state)\nthis:\n  P' \\<parallel> !P \\<sim> P' \\<parallel> P \\<parallel> (P \\<parallel> !P)\n\ngoal (5 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<parallel>\n                            !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 5. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> P\n  P' \\<parallel> !P \\<sim> P' \\<parallel> P \\<parallel> (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> P\n  P' \\<parallel> !P \\<sim> P' \\<parallel> P \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       P' \\<parallel> !P \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<parallel> !P \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cPar2 P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P \\<Longrightarrow>\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n  guarded P\n\ngoal (4 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P \\<Longrightarrow>\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n  guarded P", "obtain n Q where PTrans: \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P \\<Longrightarrow>\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n  guarded P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                               P \\<longmapsto> \\<tau> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (4 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P' \\<sim> Q \\<parallel> !P\\<close>"], ["proof (chain)\npicking this:\n  P' \\<sim> Q \\<parallel> !P", "have \"P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by(metis bisimParPresSym bisimParAssoc bisimTransitive bisimParComm)"], ["proof (state)\nthis:\n  P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> !P;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P \\<parallel>\n                            P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 4. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q\n  P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q\n  P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P \\<parallel> P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cComm1 M N P' K xvec P'')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  guarded P\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"A\\<^sub>P \\<sharp>* P\" and \"A\\<^sub>P \\<sharp>* M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* P;\n         A\\<^sub>P \\<sharp>* M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P, M)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close> FrP"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>", "have \"\\<Psi>\\<^sub>P \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P \\<simeq> \\<one>", "by(drule_tac guardedStatEq) auto"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "obtain A\\<^sub>P' \\<Psi>\\<^sub>P' where FrP': \"extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\" and \"A\\<^sub>P' \\<sharp>* \\<Psi>\" and \"A\\<^sub>P' \\<sharp>* P\" and \"A\\<^sub>P' \\<sharp>* K\" and \"A\\<^sub>P' \\<sharp>* A\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P' \\<Psi>\\<^sub>P'.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>;\n         A\\<^sub>P' \\<sharp>* \\<Psi>; A\\<^sub>P' \\<sharp>* P;\n         A\\<^sub>P' \\<sharp>* K; A\\<^sub>P' \\<sharp>* A\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P, K, A\\<^sub>P)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  A\\<^sub>P' \\<sharp>* A\\<^sub>P\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close> FrP'"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>", "have \"\\<Psi>\\<^sub>P' \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "by(drule_tac guardedStatEq) auto"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'", "by(rule_tac statEqTransition, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\\<close> \\<open>guarded P\\<close> \\<open>xvec \\<sharp>* P\\<close> \\<open>xvec \\<sharp>* K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  guarded P\n  xvec \\<sharp>* P\n  xvec \\<sharp>* K", "obtain Q where PTrans: \"\\<Psi> \\<rhd> P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\" and \"P'' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  guarded P\n  xvec \\<sharp>* P\n  xvec \\<sharp>* K\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q;\n         P'' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(drule_tac bangActE) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n  P'' \\<sim> Q \\<parallel> !P\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from PTrans \\<open>\\<Psi>\\<^sub>P \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q", "by(rule_tac statEqTransition, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>\\<Psi>\\<^sub>P \\<simeq> \\<one>\\<close> \\<open>\\<Psi>\\<^sub>P' \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes>\n    \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K", "by(rule_tac statEqEnt, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                     Q", "using FrP FrP' \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* M\\<close> \\<open>A\\<^sub>P' \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P' \\<sharp>* P\\<close> \\<open>A\\<^sub>P' \\<sharp>* K\\<close> \\<open>A\\<^sub>P' \\<sharp>* A\\<^sub>P\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  A\\<^sub>P' \\<sharp>* A\\<^sub>P\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                     Q", "by(rule_tac Comm1) (assumption | simp)+"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P'' \\<sim> Q \\<parallel> !P\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  P'' \\<sim> Q \\<parallel> !P\n  guarded P", "have \"P' \\<parallel> P'' \\<sim> (P' \\<parallel> Q) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  P'' \\<sim> Q \\<parallel> !P\n  guarded P\n\ngoal (1 subgoal):\n 1. P' \\<parallel>\n    P'' \\<sim> P' \\<parallel> Q \\<parallel> (P \\<parallel> !P)", "by(metis bisimTransitive bangExt bisimParPresSym bisimParAssoc bisimSymmetric)"], ["proof (state)\nthis:\n  P' \\<parallel> P'' \\<sim> P' \\<parallel> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "hence \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> Q) \\<parallel> (P \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  P' \\<parallel> P'' \\<sim> P' \\<parallel> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             Q \\<parallel>\n                             (P \\<parallel> !P)", "by(rule_tac bisimResChainPres) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           Q \\<parallel>\n                           (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>xvec \\<sharp>* P\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* P\n  xvec \\<sharp>* \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           Q \\<parallel>\n                           (P \\<parallel> !P)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> Q)) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* P\n  xvec \\<sharp>* \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           Q \\<parallel>\n                           (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              Q) \\<parallel>\n   (P \\<parallel> !P)", "by(force intro: bisimTransitive bisimScopeExtChainSym)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            Q) \\<parallel>\n (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 3. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            Q) \\<parallel>\n (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            Q) \\<parallel>\n (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                 P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cComm2 M N P' K xvec P'')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  guarded P\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"A\\<^sub>P \\<sharp>* P\" and \"A\\<^sub>P \\<sharp>* M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* P;\n         A\\<^sub>P \\<sharp>* M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P, M)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close> FrP"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>", "have \"\\<Psi>\\<^sub>P \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P \\<simeq> \\<one>", "by(drule_tac guardedStatEq) auto"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "obtain A\\<^sub>P' \\<Psi>\\<^sub>P' where FrP': \"extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\" and \"A\\<^sub>P' \\<sharp>* \\<Psi>\" and \"A\\<^sub>P' \\<sharp>* P\" and \"A\\<^sub>P' \\<sharp>* K\" and \"A\\<^sub>P' \\<sharp>* A\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P' \\<Psi>\\<^sub>P'.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>;\n         A\\<^sub>P' \\<sharp>* \\<Psi>; A\\<^sub>P' \\<sharp>* P;\n         A\\<^sub>P' \\<sharp>* K; A\\<^sub>P' \\<sharp>* A\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, P, K, A\\<^sub>P)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  A\\<^sub>P' \\<sharp>* A\\<^sub>P\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>guarded P\\<close> FrP'"], ["proof (chain)\npicking this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>", "have \"\\<Psi>\\<^sub>P' \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  guarded P\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "by(drule_tac guardedStatEq) auto"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "by(rule_tac statEqTransition, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> P''\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  guarded P", "obtain Q where PTrans: \"\\<Psi> \\<rhd> P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> Q\" and \"P'' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  guarded P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q;\n         P'' \\<sim> Q \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac bangActE) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n  P'' \\<sim> Q \\<parallel> !P\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from PTrans \\<open>\\<Psi>\\<^sub>P \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q", "by(rule_tac statEqTransition, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>\\<Psi>\\<^sub>P \\<simeq> \\<one>\\<close> \\<open>\\<Psi>\\<^sub>P' \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes>\n    \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K", "by(rule_tac statEqEnt, auto) (metis Identity AssertionStatEqSym compositionSym AssertionStatEqTrans)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                     Q", "using FrP FrP' \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* M\\<close> \\<open>A\\<^sub>P' \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P' \\<sharp>* P\\<close> \\<open>A\\<^sub>P' \\<sharp>* K\\<close> \\<open>A\\<^sub>P' \\<sharp>* A\\<^sub>P\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  A\\<^sub>P' \\<sharp>* A\\<^sub>P\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                     Q", "by(rule_tac Comm2) (assumption | simp)+"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P'' \\<sim> Q \\<parallel> !P\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  P'' \\<sim> Q \\<parallel> !P\n  guarded P", "have \"P' \\<parallel> P'' \\<sim> (P' \\<parallel> Q) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  P'' \\<sim> Q \\<parallel> !P\n  guarded P\n\ngoal (1 subgoal):\n 1. P' \\<parallel>\n    P'' \\<sim> P' \\<parallel> Q \\<parallel> (P \\<parallel> !P)", "by(metis bisimTransitive bangExt bisimParPresSym bisimParAssoc bisimSymmetric)"], ["proof (state)\nthis:\n  P' \\<parallel> P'' \\<sim> P' \\<parallel> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "hence \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> Q) \\<parallel> (P \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  P' \\<parallel> P'' \\<sim> P' \\<parallel> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             Q \\<parallel>\n                             (P \\<parallel> !P)", "by(rule_tac bisimResChainPres) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           Q \\<parallel>\n                           (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with \\<open>xvec \\<sharp>* P\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* P\n  xvec \\<sharp>* \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           Q \\<parallel>\n                           (P \\<parallel> !P)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> Q)) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* P\n  xvec \\<sharp>* \\<Psi>\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           Q \\<parallel>\n                           (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              Q) \\<parallel>\n   (P \\<parallel> !P)", "by(force intro: bisimTransitive bisimScopeExtChainSym)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            Q) \\<parallel>\n (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M N P' K xvec P''.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n 2. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            Q) \\<parallel>\n (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                   Q\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            Q) \\<parallel>\n (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                 P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "case(cBang P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P \\<Longrightarrow>\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P \\<Longrightarrow>\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n  guarded P", "obtain Q where PTrans: \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> Q\" and \"P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P \\<Longrightarrow>\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n  guarded P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                               P \\<longmapsto> \\<tau> \\<prec> Q;\n         P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "from \\<open>P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P", "have \"P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  P' \\<sim> Q \\<parallel> (P \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. P' \\<sim> Q \\<parallel> !P", "by(metis bisimTransitive bisimParPresSym bangExt bisimSymmetric)"], ["proof (state)\nthis:\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P \\<Longrightarrow>\n        \\<exists>Q.\n           \\<Psi> \\<rhd> P \\<parallel>\n                         P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n           P' \\<sim> Q \\<parallel> (P \\<parallel> !P);\n        guarded P; guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q\n  P' \\<sim> Q \\<parallel> !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q\n  P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       P' \\<sim> Q \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>Q.\n                \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n P \\<longmapsto> \\<tau> \\<prec> Q;\n                 P' \\<sim> Q \\<parallel> !P\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P'; guarded P\\<rbrakk>\n    \\<Longrightarrow> thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   P' \\<sim> ?Q \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     P' \\<sim> Q \\<parallel> !P\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauBangI:\n  fixes \\<Psi> :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     \"guarded P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> Q\" and \"Q \\<sim> P' \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q;\n         Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q;\n         Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"\\<And>Q. \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> Q; Q \\<sim> P' \\<parallel> !P\\<rbrakk> \\<Longrightarrow> thesis\""], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q;\n         Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q;\n         Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>\\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<exists>Q. \\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> Q \\<and> Q \\<sim> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       Q \\<sim> P' \\<parallel> !P", "proof(induct rule: parTauCases[where C=\"()\"])"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "case(cPar1 P' A\\<^sub>P \\<Psi>\\<^sub>P)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* ()\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<one> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<one> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "by(rule statEqTransition) (metis Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                          !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P", "by(rule_tac Par1) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> P \\<parallel> (P' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "using \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "by(rule_tac Par2) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P \\<parallel> (P' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "have \"P \\<parallel> (P' \\<parallel> !P) \\<sim> P' \\<parallel> P \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> (P' \\<parallel> !P) \\<sim> P' \\<parallel> P \\<parallel> !P", "by(metis bisimParAssoc bisimParComm bisimTransitive bisimSymmetric bisimParPres)"], ["proof (state)\nthis:\n  P \\<parallel> (P' \\<parallel> !P) \\<sim> P' \\<parallel> P \\<parallel> !P\n\ngoal (4 subgoals):\n 1. \\<And>P' A\\<^sub>Q \\<Psi>\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P' \\<parallel> P \\<parallel> !P\n 2. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 3. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 4. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n  P \\<parallel> (P' \\<parallel> !P) \\<sim> P' \\<parallel> P \\<parallel> !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n  P \\<parallel> (P' \\<parallel> !P) \\<sim> P' \\<parallel> P \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       Q \\<sim> P' \\<parallel> P \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> P' \\<parallel> P \\<parallel> !P\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "case(cPar2 P' A\\<^sub>P \\<Psi>\\<^sub>P)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* ()\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<one> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<one> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "by(rule statEqTransition) (metis Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                          !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P", "by(rule_tac Par1) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> P \\<parallel> (P' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "using \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P' \\<parallel> !P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "by(rule_tac Par2) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P \\<parallel> (P' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n            (P' \\<parallel> !P)", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "have \"P \\<parallel> (P' \\<parallel> !P) \\<sim> P \\<parallel> P' \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<parallel> (P' \\<parallel> !P) \\<sim> P \\<parallel> P' \\<parallel> !P", "by(metis bisimParAssoc bisimSymmetric)"], ["proof (state)\nthis:\n  P \\<parallel> (P' \\<parallel> !P) \\<sim> P \\<parallel> P' \\<parallel> !P\n\ngoal (3 subgoals):\n 1. \\<And>Q' A\\<^sub>P \\<Psi>\\<^sub>P.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> \\<tau> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* P; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> P \\<parallel> Q' \\<parallel> !P\n 2. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 3. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n  P \\<parallel> (P' \\<parallel> !P) \\<sim> P \\<parallel> P' \\<parallel> !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P \\<parallel>\n          (P' \\<parallel> !P)\n  P \\<parallel> (P' \\<parallel> !P) \\<sim> P \\<parallel> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       Q \\<sim> P \\<parallel> P' \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> P \\<parallel> P' \\<parallel> !P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "case(cComm1 \\<Psi>\\<^sub>P' M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec P'' A\\<^sub>P')"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  distinct A\\<^sub>P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P'\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* N\n  A\\<^sub>P \\<sharp>* P'\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* xvec\n  A\\<^sub>P \\<sharp>* P''\n  A\\<^sub>P \\<sharp>* A\\<^sub>P'\n  A\\<^sub>P \\<sharp>* ()\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  A\\<^sub>P' \\<sharp>* N\n  A\\<^sub>P' \\<sharp>* P'\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* xvec\n  A\\<^sub>P' \\<sharp>* P''\n  A\\<^sub>P' \\<sharp>* ()\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* \\<Psi>\\<^sub>P\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  xvec \\<sharp>* P\n  xvec \\<sharp>* \\<Psi>\\<^sub>P'\n  xvec \\<sharp>* ()\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  guarded P", "have \"\\<Psi>\\<^sub>P' \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "by(blast dest: guardedStatEq)"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "with \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<one> \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'", "by(rule_tac statEqTransition, auto) (metis compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "note \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<one> \\<rhd> P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''", "by(rule statEqTransition) (metis Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<parallel> !P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> (P'' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                          !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                      !P", "using \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                          !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                      !P", "by(force intro: Par1)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> (P'' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                      !P", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                      !P", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>\\<Psi>\\<^sub>P' \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "by(rule_tac statEqEnt, auto) (metis compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "using \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* M\\<close> \\<open>A\\<^sub>P \\<sharp>* A\\<^sub>P'\\<close> \\<open>A\\<^sub>P' \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P' \\<sharp>* P\\<close> \\<open>A\\<^sub>P' \\<sharp>* K\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'' \\<parallel>\n                    !P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* A\\<^sub>P'\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "by(force intro: Comm1)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P)) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'')) \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> P'') \\<parallel> !P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<parallel>\n                              !P", "by(force intro: bisimResChainPres bisimParAssoc[THEN bisimSymmetric])"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "moreover"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "have \"\\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> P'') \\<parallel> !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'')) \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                              !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P", "using \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                              !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P", "by(rule_tac bisimScopeExtChainSym) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                            !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           P'') \\<parallel>\n!P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                            !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           P'') \\<parallel>\n!P", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                            !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           P'') \\<parallel>\n!P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "by(rule bisimTransitive)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>\\<^sub>Q M N P' A\\<^sub>P \\<Psi>\\<^sub>P K xvec Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P\n 2. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<parallel>\n                !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "case(cComm2 \\<Psi>\\<^sub>P' M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K P'' A\\<^sub>P')"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  distinct A\\<^sub>P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  distinct A\\<^sub>P'\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>P'\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* N\n  A\\<^sub>P \\<sharp>* P'\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* xvec\n  A\\<^sub>P \\<sharp>* P''\n  A\\<^sub>P \\<sharp>* A\\<^sub>P'\n  A\\<^sub>P \\<sharp>* ()\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  A\\<^sub>P' \\<sharp>* N\n  A\\<^sub>P' \\<sharp>* P'\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* xvec\n  A\\<^sub>P' \\<sharp>* P''\n  A\\<^sub>P' \\<sharp>* ()\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* \\<Psi>\\<^sub>P\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  xvec \\<sharp>* P\n  xvec \\<sharp>* \\<Psi>\\<^sub>P'\n  xvec \\<sharp>* ()\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  guarded P", "have \"\\<Psi>\\<^sub>P' \\<simeq> \\<one>\""], ["proof (prove)\nusing this:\n  extractFrame P = \\<langle>A\\<^sub>P', \\<Psi>\\<^sub>P'\\<rangle>\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "by(blast dest: guardedStatEq)"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "with \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>\\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<one> \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P' \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'", "by(rule_tac statEqTransition, auto) (metis compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "note \\<open>extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\\<close>"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> P''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''", "have \"(\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes> \\<one> \\<rhd> P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n    \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''", "by(rule statEqTransition) (metis Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> P \\<parallel> !P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> (P'' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>\\<^sub>P) \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                          !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                                !P", "by(force intro: Par1)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> (P'' \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                                !P", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> P \\<parallel>\n                        !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                                !P", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "from \\<open>\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>\\<Psi>\\<^sub>P' \\<simeq> \\<one>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes>\n  \\<Psi>\\<^sub>P' \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>P' \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "by(rule_tac statEqEnt, auto) (metis compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "using \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* P\\<close> \\<open>A\\<^sub>P \\<sharp>* M\\<close> \\<open>A\\<^sub>P \\<sharp>* A\\<^sub>P'\\<close> \\<open>A\\<^sub>P' \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P' \\<sharp>* P\\<close> \\<open>A\\<^sub>P' \\<sharp>* K\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'' \\<parallel>\n                              !P\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>P \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* P\n  A\\<^sub>P \\<sharp>* M\n  A\\<^sub>P \\<sharp>* A\\<^sub>P'\n  A\\<^sub>P' \\<sharp>* \\<Psi>\n  A\\<^sub>P' \\<sharp>* P\n  A\\<^sub>P' \\<sharp>* K\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "by(force intro: Comm2)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "hence \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n(P'' \\<parallel> !P)", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P)) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'')) \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> (P'' \\<parallel> !P)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> P'') \\<parallel> !P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<parallel>\n                              !P", "by(force intro: bisimResChainPres bisimParAssoc[THEN bisimSymmetric])"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "moreover"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "have \"\\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> P'') \\<parallel> !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'')) \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                              !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P", "using \\<open>xvec \\<sharp>* P\\<close>"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                              !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P", "by(rule_tac bisimScopeExtChainSym) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                            !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           P'') \\<parallel>\n!P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                            !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           P'') \\<parallel>\n!P", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            P'' \\<parallel>\n                            !P\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'' \\<parallel>\n                            !P \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                           P'') \\<parallel>\n!P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              (P'' \\<parallel>\n                               !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                               P'') \\<parallel>\n    !P", "by(rule bisimTransitive)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>\\<^sub>Q M xvec N P' A\\<^sub>P \\<Psi>\\<^sub>P K Q'\n       A\\<^sub>Q.\n       \\<lbrakk>\\<Psi> \\<otimes>\n                \\<Psi>\\<^sub>Q \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n        distinct A\\<^sub>P;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<rhd> P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q';\n        extractFrame P = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n        distinct A\\<^sub>Q;\n        \\<Psi> \\<otimes>\n        \\<Psi>\\<^sub>P \\<otimes>\n        \\<Psi>\\<^sub>Q \\<turnstile> M \\<leftrightarrow> K;\n        distinct xvec; A\\<^sub>P \\<sharp>* \\<Psi>;\n        A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* M; A\\<^sub>P \\<sharp>* N;\n        A\\<^sub>P \\<sharp>* P'; A\\<^sub>P \\<sharp>* P;\n        A\\<^sub>P \\<sharp>* xvec; A\\<^sub>P \\<sharp>* Q';\n        A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>P \\<sharp>* ();\n        A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n        A\\<^sub>Q \\<sharp>* P; A\\<^sub>Q \\<sharp>* K; A\\<^sub>Q \\<sharp>* N;\n        A\\<^sub>Q \\<sharp>* P'; A\\<^sub>Q \\<sharp>* P;\n        A\\<^sub>Q \\<sharp>* xvec; A\\<^sub>Q \\<sharp>* Q';\n        A\\<^sub>Q \\<sharp>* (); xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* \\<Psi>\\<^sub>P; xvec \\<sharp>* P; xvec \\<sharp>* M;\n        xvec \\<sharp>* K; xvec \\<sharp>* P; xvec \\<sharp>* \\<Psi>\\<^sub>Q;\n        xvec \\<sharp>* ()\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                          Q') \\<parallel>\n                                     !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                                    (P'' \\<parallel> !P)\n  \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                            (P'' \\<parallel>\n                             !P) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                             P'') \\<parallel>\n  !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n       Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<parallel>\n                !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<parallel> !P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q;\n         Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> P' \\<parallel> !P", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> ?Q;\n   ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n     Q \\<sim> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauChainBangI:\n  fixes \\<Psi> :: 'b\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"\\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\"\n  and     \"guarded P\"\n\n  obtains Q where \"\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\" and \"\\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n         \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n         \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"\\<And>Q. \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q; \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\\<rbrakk> \\<Longrightarrow> thesis\""], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?Q;\n   \\<Psi> \\<rhd> ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n         \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?Q;\n   \\<Psi> \\<rhd> ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n         \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>\\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "have \"\\<exists>Q. \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and> \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P", "proof(induct x1==\"P \\<parallel> P\" P' rule: tauChainInduct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P\n 2. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "case TauBase"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P\n 2. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "have \"\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> !P", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> !P\n\ngoal (2 subgoals):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P\n 2. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> !P\n\ngoal (2 subgoals):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P\n 2. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "have \"\\<Psi> \\<rhd> !P \\<sim> (P \\<parallel> P) \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> P \\<parallel> !P", "using \\<open>guarded P\\<close>"], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> P \\<parallel> !P", "by(metis bisimParAssoc bisimTransitive bisimParPresSym bangExt bisimParComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> P \\<parallel> !P\n\ngoal (2 subgoals):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P\n 2. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> !P\n  \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> P \\<parallel> !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> !P\n  \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> P \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> P \\<parallel> P \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "case(TauStep R' R'')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> R'\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\n  \\<Psi> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> R'\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\n  \\<Psi> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''", "obtain Q where PChain: \"\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\" and \"\\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> R'\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\n  \\<Psi> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n         \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n  \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "from \\<open>\\<Psi> \\<rhd> R' \\<longmapsto>\\<tau> \\<prec> R''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''", "have \"\\<Psi> \\<otimes> \\<one> \\<rhd> R' \\<longmapsto>\\<tau> \\<prec> R''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<one> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''", "by(rule statEqTransition) (metis Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<one> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "hence \"\\<Psi> \\<rhd> R' \\<parallel> !P \\<longmapsto>\\<tau> \\<prec> R'' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<one> \\<rhd> R' \\<longmapsto> \\<tau> \\<prec> R''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R' \\<parallel>\n                  !P \\<longmapsto> \\<tau> \\<prec> R'' \\<parallel> !P", "by(rule_tac Par1) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R' \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> R'' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "with \\<open>\\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\n  \\<Psi> \\<rhd> R' \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> R'' \\<parallel> !P", "obtain Q' where QTrans: \"\\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q'\" and \"\\<Psi> \\<rhd> Q' \\<sim> R'' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<sim> R' \\<parallel> !P\n  \\<Psi> \\<rhd> R' \\<parallel>\n                !P \\<longmapsto> \\<tau> \\<prec> R'' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q';\n         \\<Psi> \\<rhd> Q' \\<sim> R'' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force dest: bisimE(2) simE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n  \\<Psi> \\<rhd> Q' \\<sim> R'' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "from PChain QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'", "have \"\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q'", "by(auto dest: tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q'\n\ngoal (1 subgoal):\n 1. \\<And>b c.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> b;\n        \\<exists>Q.\n           \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n           \\<Psi> \\<rhd> Q \\<sim> b \\<parallel> !P;\n        \\<Psi> \\<rhd> b \\<longmapsto> \\<tau> \\<prec> c\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> c \\<parallel> !P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> R'' \\<parallel> !P", "using \\<open>\\<Psi> \\<rhd> Q' \\<sim> R'' \\<parallel> !P\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q'\n  \\<Psi> \\<rhd> Q' \\<sim> R'' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q.\n       \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n       \\<Psi> \\<rhd> Q \\<sim> R'' \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> R'' \\<parallel> !P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n         \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?Q;\n   \\<Psi> \\<rhd> ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?Q;\n   \\<Psi> \\<rhd> ?Q \\<sim> P' \\<parallel> !P\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q.\n     \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n     \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimBangPresAux:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"guarded P\"\n  and     \"guarded Q\"\n\n  shows   \"\\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "let ?X = \"{(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) | \\<Psi> R P Q. guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "let ?Y = \"{(\\<Psi>, P, Q) | \\<Psi> P Q. \\<exists>R S. \\<Psi> \\<rhd> P \\<approx> R \\<and> (\\<Psi>, R, S) \\<in> ?X \\<and> \\<Psi> \\<rhd> S \\<sim> Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  guarded P\n  guarded Q", "have \"(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  guarded P\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n    \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n           guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n      guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "by(fastforce simp add: eqvt_def intro: weakBisimClosed)"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n    guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n    guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n    guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q", "proof(coinduct rule: weakTransitiveCoinduct2)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><{(\\<Psi>, R \\<parallel> !P,\n R \\<parallel> !Q) |\n\\<Psi> R P Q.\nguarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><{(\\<Psi>, R \\<parallel> !P,\n R \\<parallel> !Q) |\n\\<Psi> R P Q.\nguarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><{(\\<Psi>, R \\<parallel> !P,\n                                    R \\<parallel> !Q) |\n                                   \\<Psi> R P Q.\n                                   guarded P \\<and>\n                                   guarded Q \\<and>\n                                   \\<Psi> \\<rhd> P \\<approx> Q}> Q", "by(force dest: weakBisimE(3) simp add: weakStatImp_def)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><{(\\<Psi>, R \\<parallel> !P,\n                                  R \\<parallel> !Q) |\n                                 \\<Psi> R P Q.\n                                 guarded P \\<and>\n                                 guarded Q \\<and>\n                                 \\<Psi> \\<rhd> P \\<approx> Q}> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "{"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "fix \\<Psi> P Q R"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "assume \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "have \"eqvt ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, P, Q) |\\<Psi> P Q.\n      \\<exists>R S.\n         \\<Psi> \\<rhd> P \\<approx> R \\<and>\n         (\\<Psi>, R, S)\n         \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n                guarded P \\<and>\n                guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n         \\<Psi> \\<rhd> S \\<sim> Q}", "apply(auto simp add: eqvt_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            p \\<bullet>\n                            a \\<rhd> p \\<bullet> aa \\<approx> R \\<and>\n                            (\\<exists>S.\n                                (\\<exists>Ra P.\n                                    R = Ra \\<parallel> !P \\<and>\n                                    (\\<exists>Q.\n  S = Ra \\<parallel> !Q \\<and>\n  guarded P \\<and>\n  guarded Q \\<and> p \\<bullet> a \\<rhd> P \\<approx> Q)) \\<and>\n                                p \\<bullet> a \\<rhd> S \\<sim> p \\<bullet> b)", "apply(rule_tac x=\"p \\<bullet> (Ra \\<parallel> !P)\" in exI, auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> p \\<bullet>\n                                  aa \\<approx> (p \\<bullet> Ra) \\<parallel>\n         !(p \\<bullet> P)\n 2. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>S.\n                            (\\<exists>R Pa.\n                                (p \\<bullet> Ra) \\<parallel>\n                                !(p \\<bullet> P) =\n                                R \\<parallel> !Pa \\<and>\n                                (\\<exists>Q.\n                                    S = R \\<parallel> !Q \\<and>\n                                    guarded Pa \\<and>\n                                    guarded Q \\<and>\n                                    p \\<bullet>\n                                    a \\<rhd> Pa \\<approx> Q)) \\<and>\n                            p \\<bullet> a \\<rhd> S \\<sim> p \\<bullet> b", "apply(fastforce dest: weakBisimClosed simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>S.\n                            (\\<exists>R Pa.\n                                (p \\<bullet> Ra) \\<parallel>\n                                !(p \\<bullet> P) =\n                                R \\<parallel> !Pa \\<and>\n                                (\\<exists>Q.\n                                    S = R \\<parallel> !Q \\<and>\n                                    guarded Pa \\<and>\n                                    guarded Q \\<and>\n                                    p \\<bullet>\n                                    a \\<rhd> Pa \\<approx> Q)) \\<and>\n                            p \\<bullet> a \\<rhd> S \\<sim> p \\<bullet> b", "apply(rule_tac x=\"(p \\<bullet> Ra) \\<parallel> !(p \\<bullet> Q)\" in exI, auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R Pa.\n                            (p \\<bullet> Ra) \\<parallel> !(p \\<bullet> P) =\n                            R \\<parallel> !Pa \\<and>\n                            (\\<exists>Qa.\n                                (p \\<bullet> Ra) \\<parallel>\n                                !(p \\<bullet> Q) =\n                                R \\<parallel> !Qa \\<and>\n                                guarded Pa \\<and>\n                                guarded Qa \\<and>\n                                p \\<bullet> a \\<rhd> Pa \\<approx> Qa)\n 2. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> (p \\<bullet> Ra) \\<parallel>\n                                  !(p \\<bullet> Q) \\<sim> p \\<bullet> b", "apply(rule_tac x=\"p \\<bullet> Ra\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Pa.\n                            (p \\<bullet> Ra) \\<parallel> !(p \\<bullet> P) =\n                            (p \\<bullet> Ra) \\<parallel> !Pa \\<and>\n                            (\\<exists>Qa.\n                                (p \\<bullet> Ra) \\<parallel>\n                                !(p \\<bullet> Q) =\n                                (p \\<bullet> Ra) \\<parallel> !Qa \\<and>\n                                guarded Pa \\<and>\n                                guarded Qa \\<and>\n                                p \\<bullet> a \\<rhd> Pa \\<approx> Qa)\n 2. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> (p \\<bullet> Ra) \\<parallel>\n                                  !(p \\<bullet> Q) \\<sim> p \\<bullet> b", "apply(rule_tac x=\"p \\<bullet> P\" in exI, auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Qa.\n                            (p \\<bullet> Ra) \\<parallel> !(p \\<bullet> Q) =\n                            (p \\<bullet> Ra) \\<parallel> !Qa \\<and>\n                            guarded Qa \\<and>\n                            p \\<bullet> a \\<rhd> p \\<bullet> P \\<approx> Qa\n 2. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> (p \\<bullet> Ra) \\<parallel>\n                                  !(p \\<bullet> Q) \\<sim> p \\<bullet> b", "apply(rule_tac x=\"p \\<bullet> Q\" in exI, auto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> p \\<bullet> P \\<approx> p \\<bullet> Q\n 2. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> (p \\<bullet> Ra) \\<parallel>\n                                  !(p \\<bullet> Q) \\<sim> p \\<bullet> b", "apply(blast intro: weakBisimClosed)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a aa b p Ra P Q.\n       \\<lbrakk>a \\<rhd> aa \\<approx> Ra \\<parallel> !P;\n        a \\<rhd> Ra \\<parallel> !Q \\<sim> b; guarded P; guarded Q;\n        a \\<rhd> P \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet>\n                         a \\<rhd> (p \\<bullet> Ra) \\<parallel>\n                                  !(p \\<bullet> Q) \\<sim> p \\<bullet> b", "by(fastforce dest: bisimClosed simp add: eqvts)"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, P, Q) |\\<Psi> P Q.\n    \\<exists>R S.\n       \\<Psi> \\<rhd> P \\<approx> R \\<and>\n       (\\<Psi>, R, S)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n       \\<Psi> \\<rhd> S \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, P, Q) |\\<Psi> P Q.\n    \\<exists>R S.\n       \\<Psi> \\<rhd> P \\<approx> R \\<and>\n       (\\<Psi>, R, S)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n       \\<Psi> \\<rhd> S \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "assume \"guarded P\" and \"guarded Q\""], ["proof (state)\nthis:\n  guarded P\n  guarded Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  guarded P\n  guarded Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "note weakBisimClosed bisimClosed weakBisimE(3) bisimE(3) weakBisimE(2) weakBisimE(4) bisimE(4) statEqWeakBisim statEqBisim weakBisimTransitive bisimTransitive weakBisimParAssoc[THEN weakBisimE(4)] bisimParAssoc[THEN bisimE(4)] weakBisimParPres"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<approx> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<rhd> ?Q \\<approx> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<approx> ?R\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<approx> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<approx> ?Q \\<parallel> ?R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<approx> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<rhd> ?Q \\<approx> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<approx> ?R\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<approx> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<approx> ?Q \\<parallel> ?R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "have \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow> \\<Psi> \\<rhd> P \\<parallel> P \\<approx> Q \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<parallel> P \\<approx> Q \\<parallel> Q", "by(metis weakBisimParPres weakBisimParComm weakBisimE(4) weakBisimTransitive)"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?P \\<approx> ?Q \\<parallel> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?P \\<approx> ?Q \\<parallel> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "note bisimParPresSym"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?R \\<parallel> ?P \\<sim> ?R \\<parallel> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?R \\<parallel> ?P \\<sim> ?R \\<parallel> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "have \"bisim \\<subseteq> weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bisim \\<subseteq> weakBisim", "by(auto dest: strongBisimWeakBisim)"], ["proof (state)\nthis:\n  bisim \\<subseteq> weakBisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  bisim \\<subseteq> weakBisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "have \"\\<And>\\<Psi> \\<Psi>\\<^sub>R P Q R A\\<^sub>R. \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q; extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>; A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P; A\\<^sub>R \\<sharp>* Q\\<rbrakk> \\<Longrightarrow> \\<Psi> \\<rhd> R \\<parallel> P \\<approx> R \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> \\<Psi>\\<^sub>R P Q R A\\<^sub>R.\n       \\<lbrakk>\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<approx> Q;\n        extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n        A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* P;\n        A\\<^sub>R \\<sharp>* Q\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> R \\<parallel>\n P \\<approx> R \\<parallel> Q", "by(metis weakBisimParComm weakBisimTransitive weakBisimParPresAux)"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<approx> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<approx> ?R \\<parallel> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<approx> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<approx> ?R \\<parallel> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "note weakBisimResChainPres bisimResChainPres weakBisimScopeExtChainSym bisimScopeExtChainSym"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<approx> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<approx> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                     ?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<approx> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<approx> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                     ?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "have \"\\<And>\\<Psi> P R S Q. \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> R; (\\<Psi>, R, S) \\<in> ?Y; \\<Psi> \\<rhd> S \\<sim> Q\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P R S Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> R;\n        (\\<Psi>, R, S)\n        \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n               \\<exists>R S.\n                  \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                  (\\<Psi>, R, S)\n                  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\n                         \\<Psi> R P Q.\n                         guarded P \\<and>\n                         guarded Q \\<and>\n                         \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                  \\<Psi> \\<rhd> S \\<sim> Q};\n        \\<Psi> \\<rhd> S \\<sim> Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, P, Q)\n                         \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                \\<exists>R S.\n                                   \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                                   (\\<Psi>, R, S)\n                                   \\<in> {(\\<Psi>, R \\<parallel> !P,\n     R \\<parallel> !Q) |\n    \\<Psi> R P Q.\n    guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                                   \\<Psi> \\<rhd> S \\<sim> Q}", "by(blast dest: weakBisimTransitive bisimTransitive)"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?R;\n   (?\\<Psi>, ?R, ?S)\n   \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n          \\<exists>R S.\n             \\<Psi> \\<rhd> P \\<approx> R \\<and>\n             (\\<Psi>, R, S)\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P\n                    Q. guarded P \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n             \\<Psi> \\<rhd> S \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?S \\<sim> ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?R;\n   (?\\<Psi>, ?R, ?S)\n   \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n          \\<exists>R S.\n             \\<Psi> \\<rhd> P \\<approx> R \\<and>\n             (\\<Psi>, R, S)\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P\n                    Q. guarded P \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n             \\<Psi> \\<rhd> S \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?S \\<sim> ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "have \"\\<And>\\<Psi> P Q R. \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> Q; guarded P; guarded Q\\<rbrakk> \\<Longrightarrow> (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<approx> Q; guarded P; guarded Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n                         \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                \\<exists>R S.\n                                   \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                                   (\\<Psi>, R, S)\n                                   \\<in> {(\\<Psi>, R \\<parallel> !P,\n     R \\<parallel> !Q) |\n    \\<Psi> R P Q.\n    guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                                   \\<Psi> \\<rhd> S \\<sim> Q}", "by(blast intro: bisimReflexive weakBisimReflexive)"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "from bangActE"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>; guarded ?P;\n   ?\\<alpha> \\<noteq> \\<tau>; bn ?\\<alpha> \\<sharp>* ?P;\n   \\<And>Q.\n      \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<longmapsto> ?\\<alpha> \\<prec> Q;\n       ?P' \\<sim> Q \\<parallel> !?P\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "have \"\\<And>\\<Psi> P \\<alpha> P'. \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'; bn \\<alpha> \\<sharp>* P; guarded P; \\<alpha> \\<noteq> \\<tau>; bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk> \\<Longrightarrow> \\<exists>Q. \\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> Q \\<and> P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>; guarded ?P;\n   ?\\<alpha> \\<noteq> \\<tau>; bn ?\\<alpha> \\<sharp>* ?P;\n   \\<And>Q.\n      \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<longmapsto> ?\\<alpha> \\<prec> Q;\n       ?P' \\<sim> Q \\<parallel> !?P\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P \\<alpha> P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* P; guarded P; \\<alpha> \\<noteq> \\<tau>;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   bn ?\\<alpha> \\<sharp>* ?P; guarded ?P; ?\\<alpha> \\<noteq> \\<tau>;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<longmapsto> ?\\<alpha> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   bn ?\\<alpha> \\<sharp>* ?P; guarded ?P; ?\\<alpha> \\<noteq> \\<tau>;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<longmapsto> ?\\<alpha> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "from bangTauE"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> \\<tau> \\<prec> ?P'; guarded ?P;\n   \\<And>Q.\n      \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                              ?P \\<longmapsto> \\<tau> \\<prec> Q;\n       ?P' \\<sim> Q \\<parallel> !?P\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "have \"\\<And>\\<Psi> P P'. \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto>\\<tau> \\<prec> P'; guarded P\\<rbrakk> \\<Longrightarrow> \\<exists>Q. \\<Psi> \\<rhd> P \\<parallel> P \\<longmapsto>\\<tau> \\<prec> Q \\<and> P' \\<sim> Q \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> \\<tau> \\<prec> ?P'; guarded ?P;\n   \\<And>Q.\n      \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                              ?P \\<longmapsto> \\<tau> \\<prec> Q;\n       ?P' \\<sim> Q \\<parallel> !?P\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P P'.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<tau> \\<prec> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                            P' \\<sim> Q \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> \\<tau> \\<prec> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<parallel>\n?P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> \\<tau> \\<prec> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<parallel>\n?P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "from tauChainBangI"], ["proof (chain)\npicking this:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                          ?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?P';\n   guarded ?P;\n   \\<And>Q.\n      \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n       ?\\<Psi> \\<rhd> Q \\<sim> ?P' \\<parallel> !?P\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis", "have \"\\<And>\\<Psi> P P'. \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'; guarded P\\<rbrakk> \\<Longrightarrow> \\<exists>Q. \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and> \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                          ?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?P';\n   guarded ?P;\n   \\<And>Q.\n      \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q;\n       ?\\<Psi> \\<rhd> Q \\<sim> ?P' \\<parallel> !?P\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P P'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n        guarded P\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q.\n                            \\<Psi> \\<rhd> !P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                            \\<Psi> \\<rhd> Q \\<sim> P' \\<parallel> !P", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                          ?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> !?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                       ?\\<Psi> \\<rhd> Q \\<sim> ?P' \\<parallel> !?P\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  eqvt\n   {(\\<Psi>, P, Q) |\\<Psi> P Q.\n    \\<exists>R S.\n       \\<Psi> \\<rhd> P \\<approx> R \\<and>\n       (\\<Psi>, R, S)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n       \\<Psi> \\<rhd> S \\<sim> Q}\n  guarded P\n  guarded Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<approx> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<rhd> ?Q \\<approx> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<approx> ?R\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<approx> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<approx> ?Q \\<parallel> ?R\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?P \\<approx> ?Q \\<parallel> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?R \\<parallel> ?P \\<sim> ?R \\<parallel> ?Q\n  bisim \\<subseteq> weakBisim\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<approx> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<approx> ?R \\<parallel> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<approx> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<approx> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                     ?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?R;\n   (?\\<Psi>, ?R, ?S)\n   \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n          \\<exists>R S.\n             \\<Psi> \\<rhd> P \\<approx> R \\<and>\n             (\\<Psi>, R, S)\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P\n                    Q. guarded P \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n             \\<Psi> \\<rhd> S \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?S \\<sim> ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   bn ?\\<alpha> \\<sharp>* ?P; guarded ?P; ?\\<alpha> \\<noteq> \\<tau>;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<longmapsto> ?\\<alpha> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> \\<tau> \\<prec> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<parallel>\n?P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                          ?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> !?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                       ?\\<Psi> \\<rhd> Q \\<sim> ?P' \\<parallel> !?P", "have  \"\\<Psi> \\<rhd> R \\<parallel> !P \\<leadsto><?Y> R \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  eqvt\n   {(\\<Psi>, P, Q) |\\<Psi> P Q.\n    \\<exists>R S.\n       \\<Psi> \\<rhd> P \\<approx> R \\<and>\n       (\\<Psi>, R, S)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n       \\<Psi> \\<rhd> S \\<sim> Q}\n  guarded P\n  guarded Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<approx> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto><weakBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx> ?P\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<rhd> ?Q \\<approx> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<approx> ?R\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<approx> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<approx> ?Q \\<parallel> ?R\n  ?\\<Psi> \\<rhd> ?P \\<approx> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?P \\<approx> ?Q \\<parallel> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?R \\<parallel> ?P \\<sim> ?R \\<parallel> ?Q\n  bisim \\<subseteq> weakBisim\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<approx> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<approx> ?R \\<parallel> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<approx> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<approx> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                     ?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?R;\n   (?\\<Psi>, ?R, ?S)\n   \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n          \\<exists>R S.\n             \\<Psi> \\<rhd> P \\<approx> R \\<and>\n             (\\<Psi>, R, S)\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P\n                    Q. guarded P \\<and>\n                       guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n             \\<Psi> \\<rhd> S \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?S \\<sim> ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n                           \\<exists>R S.\n                              \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                              (\\<Psi>, R, S)\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> R P Q.\n                                     guarded P \\<and>\n                                     guarded Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                              \\<Psi> \\<rhd> S \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   bn ?\\<alpha> \\<sharp>* ?P; guarded ?P; ?\\<alpha> \\<noteq> \\<tau>;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<longmapsto> ?\\<alpha> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> \\<tau> \\<prec> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> ?P \\<parallel>\n?P \\<longmapsto> \\<tau> \\<prec> Q \\<and>\n                       ?P' \\<sim> Q \\<parallel> !?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<parallel>\n                          ?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> ?P';\n   guarded ?P\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q.\n                       ?\\<Psi> \\<rhd> !?P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q \\<and>\n                       ?\\<Psi> \\<rhd> Q \\<sim> ?P' \\<parallel> !?P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel>\n                  !P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                 \\<exists>R S.\n                                    \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                                    (\\<Psi>, R, S)\n                                    \\<in> {(\\<Psi>, R \\<parallel> !P,\n      R \\<parallel> !Q) |\n     \\<Psi> R P Q.\n     guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                                    \\<Psi> \\<rhd> S \\<sim> Q}> R \\<parallel>\n                         !Q", "by(rule_tac weakSimBangPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<parallel>\n                !P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                               \\<exists>R S.\n                                  \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                                  (\\<Psi>, R, S)\n                                  \\<in> {(\\<Psi>, R \\<parallel> !P,\n    R \\<parallel> !Q) |\n   \\<Psi> R P Q.\n   guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                                  \\<Psi> \\<rhd> S \\<sim> Q}> R \\<parallel>\n                       !Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi>''2 \\<rhd> ?Pb2 \\<approx> ?Qb2; guarded ?Pb2;\n   guarded ?Qb2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> ?Ra2 \\<parallel>\n!?Pb2 \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                  \\<exists>R S.\n                     \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                     (\\<Psi>, R, S)\n                     \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\n                            \\<Psi> R P Q.\n                            guarded P \\<and>\n                            guarded Q \\<and>\n                            \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                     \\<Psi> \\<rhd> S \\<sim> Q}> ?Ra2 \\<parallel> !?Qb2\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<approx> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n       guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n  \\<lbrakk>?\\<Psi>''2 \\<rhd> ?Pb2 \\<approx> ?Qb2; guarded ?Pb2;\n   guarded ?Qb2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> ?Ra2 \\<parallel>\n!?Pb2 \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                  \\<exists>R S.\n                     \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                     (\\<Psi>, R, S)\n                     \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\n                            \\<Psi> R P Q.\n                            guarded P \\<and>\n                            guarded Q \\<and>\n                            \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                     \\<Psi> \\<rhd> S \\<sim> Q}> ?Ra2 \\<parallel> !?Qb2", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n  \\<lbrakk>?\\<Psi>''2 \\<rhd> ?Pb2 \\<approx> ?Qb2; guarded ?Pb2;\n   guarded ?Qb2\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>''2 \\<rhd> ?Ra2 \\<parallel>\n!?Pb2 \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                  \\<exists>R S.\n                     \\<Psi> \\<rhd> P \\<approx> R \\<and>\n                     (\\<Psi>, R, S)\n                     \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\n                            \\<Psi> R P Q.\n                            guarded P \\<and>\n                            guarded Q \\<and>\n                            \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                     \\<Psi> \\<rhd> S \\<sim> Q}> ?Ra2 \\<parallel> !?Qb2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                \\<exists>P' Q'.\n                                   \\<Psi> \\<rhd> P \\<approx> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>, R \\<parallel> !P,\n     R \\<parallel> !Q) |\n    \\<Psi> R P Q.\n    guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}> Q", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                              \\<exists>P' Q'.\n                                 \\<Psi> \\<rhd> P \\<approx> P' \\<and>\n                                 (\\<Psi>, P', Q')\n                                 \\<in> {(\\<Psi>, R \\<parallel> !P,\n   R \\<parallel> !Q) |\n  \\<Psi> R P Q.\n  guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q} \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n           guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and>\n              guarded Q \\<and>\n              \\<Psi> \\<rhd> P \\<approx> Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n              guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n           guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}", "by(blast dest: weakBisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> R P Q.\n         guarded P \\<and> guarded Q \\<and> \\<Psi> \\<rhd> P \\<approx> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<parallel> !P \\<approx> R \\<parallel> !Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimBangPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx> Q\"\n  and     \"guarded P\"\n  and     \"guarded Q\"\n\n  shows   \"\\<Psi> \\<rhd> !P \\<approx> !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<approx> !Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<approx> !Q", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  guarded P\n  guarded Q", "have \"\\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<approx> \\<zero> \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n  guarded P\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<approx> \\<zero> \\<parallel> !Q", "by(rule weakBisimBangPresAux)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<approx> \\<zero> \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<approx> !Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<approx> \\<zero> \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<approx> !Q", "by(metis weakBisimParNil weakBisimParComm weakBisimTransitive weakBisimE(4))"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<approx> !Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}